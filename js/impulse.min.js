var l,n={};
(function(a,b){function c(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});a.Gb=function(a,b){c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.AC=function(a,b){return function(){b.apply(a,arguments)}};a.pB=function(a){a===
b&&(a=0);for(var c=Array(a||0),g=0;g<a;++g)c[g]=0;return c};a.is=function(a,c){return null===a?!1:c instanceof Function&&a instanceof c||a.constructor.rt!=b&&a.constructor.rt[c]?!0:!1};a.tg=function(a){return Math.abs(parseInt(a))}})(n);var aa=Array,ba=n.pB;"undefined"===typeof n&&(n={});"undefined"===typeof n.w&&(n.w={});"undefined"===typeof n.w.Ta&&(n.w.Ta={});"undefined"===typeof n.aa&&(n.aa={});"undefined"===typeof n.aa.Math&&(n.aa.Math={});"undefined"===typeof n.l&&(n.l={});
"undefined"===typeof n.l.ka&&(n.l.ka={});"undefined"===typeof n.l.Vb&&(n.l.Vb={});"undefined"===typeof n.l.M&&(n.l.M={});
(function(){function a(){a.oo.apply(this,arguments)}function b(){b.At.apply(this,arguments)}function c(){c.po.apply(this,arguments);this.constructor===c&&this.po.apply(this,arguments)}function d(){d.Ad.apply(this,arguments)}function f(){f.Ul.apply(this,arguments);this.constructor===f&&this.Ul.apply(this,arguments)}function g(){g.ar.apply(this,arguments)}function h(){h.xk.apply(this,arguments)}function k(){k.br.apply(this,arguments)}function m(){m.cr.apply(this,arguments)}function q(){q.dr.apply(this,
arguments)}function p(){p.uo.apply(this,arguments);this.constructor===p&&this.uo.apply(this,arguments)}function t(){t.er.apply(this,arguments)}function y(){y.Mt.apply(this,arguments)}function u(){u.Nt.apply(this,arguments)}function w(){w.li.apply(this,arguments);this.constructor===w&&this.li.apply(this,arguments)}function K(){K.Do.apply(this,arguments);this.constructor===K&&this.Do.apply(this,arguments)}function L(){L.Tt.apply(this,arguments)}function da(){da.Ko.apply(this,arguments);this.constructor===
da&&this.Ko.apply(this,arguments)}function U(){U.Xt.apply(this,arguments)}function B(){B.Yt.apply(this,arguments)}function W(){W.dm.apply(this,arguments)}function ia(){ia.Lo.apply(this,arguments);this.constructor===ia&&this.Lo.apply(this,arguments)}function X(){X.fr.apply(this,arguments)}function C(){C.Zt.apply(this,arguments)}function $(){$.Ie.apply(this,arguments)}function Ca(){Ca.gr.apply(this,arguments)}function pa(){pa.fm.apply(this,arguments);this.constructor===pa&&this.fm.apply(this,arguments)}
function Da(){Da.Ys.apply(this,arguments)}function v(){v.ct.apply(this,arguments)}function r(){r.hj.apply(this,arguments);this.constructor===r&&this.hj.apply(this,arguments)}function x(){x.vo.apply(this,arguments);this.constructor===x&&this.vo.apply(this,arguments)}function A(){A.wo.apply(this,arguments);this.constructor===A&&this.wo.apply(this,arguments)}function H(){H.Eo.apply(this,arguments)}function V(){V.ni.apply(this,arguments);this.constructor===V&&this.ni.apply(this,arguments)}function F(){F.Wb.apply(this,
arguments);this.constructor===F&&this.Wb.apply(this,arguments)}function M(){M.Sl.apply(this,arguments);this.constructor===M&&this.Sl.apply(this,arguments)}function qa(){qa.Mb.apply(this,arguments)}function S(){S.mi.apply(this,arguments);this.constructor===S&&this.mi.apply(this,arguments)}function Td(){Td.Zl.apply(this,arguments);this.constructor===Td&&this.Zl.apply(this,arguments)}function ff(){ff.Gf.apply(this,arguments)}function gf(){gf.Mo.apply(this,arguments)}function Ud(){Ud.jj.apply(this,arguments);
this.constructor===Ud&&this.jj.apply(this,arguments)}function Vd(){Vd.gg.apply(this,arguments);this.constructor===Vd&&this.gg.apply(this,arguments)}function kb(){kb.em.apply(this,arguments);this.constructor===kb&&this.em.apply(this,arguments)}function Wd(){Wd.fe.apply(this,arguments);this.constructor===Wd&&this.fe.apply(this,arguments)}function Xd(){Xd.Rl.apply(this,arguments);this.constructor===Xd&&this.Rl.apply(this,arguments)}function hf(){hf.$q.apply(this,arguments)}function jf(){jf.Ht.apply(this,
arguments)}function kf(){kf.ro.apply(this,arguments)}function Yd(){Yd.Vl.apply(this,arguments);this.constructor===Yd&&this.Vl.apply(this,arguments)}function Zd(){Zd.He.apply(this,arguments);this.constructor===Zd&&this.He.apply(this,arguments)}function lf(){lf.Lt.apply(this,arguments)}function mf(){mf.Pt.apply(this,arguments)}function $d(){$d.Wl.apply(this,arguments);this.constructor===$d&&this.Wl.apply(this,arguments)}function ae(){ae.Xl.apply(this,arguments);this.constructor===ae&&this.Xl.apply(this,
arguments)}function be(){be.Yl.apply(this,arguments);this.constructor===be&&this.Yl.apply(this,arguments)}function nf(){nf.hr.apply(this,arguments)}function ce(){ce.Je.apply(this,arguments);this.constructor===ce&&this.Je.apply(this,arguments)}function of(){of.Ct.apply(this,arguments)}function de(){de.Xa.apply(this,arguments);this.constructor===de&&this.Xa.apply(this,arguments)}function ee(){ee.qo.apply(this,arguments);this.constructor===ee&&this.qo.apply(this,arguments)}function pf(){pf.Ft.apply(this,
arguments)}function qf(){qf.Gt.apply(this,arguments)}function fe(){fe.Tl.apply(this,arguments);this.constructor===fe&&this.Tl.apply(this,arguments)}function rf(){rf.It.apply(this,arguments)}function sf(){sf.Jt.apply(this,arguments)}function ge(){ge.ij.apply(this,arguments);this.constructor===ge&&this.ij.apply(this,arguments)}function tf(){tf.Ot.apply(this,arguments)}function he(){he.Go.apply(this,arguments);this.constructor===he&&this.Go.apply(this,arguments)}function uf(){uf.Ut.apply(this,arguments)}
function vf(){vf.Vt.apply(this,arguments)}function wf(){wf.Wt.apply(this,arguments)}function ie(){ie.yk.apply(this,arguments);this.constructor===ie&&this.yk.apply(this,arguments)}function xf(){xf.Bt.apply(this,arguments)}function yf(){yf.Dt.apply(this,arguments)}function zf(){zf.Et.apply(this,arguments)}function Af(){Af.Nc.apply(this,arguments)}function Bf(){Bf.Kt.apply(this,arguments)}function Cf(){Cf.Qt.apply(this,arguments)}function Df(){Df.$t.apply(this,arguments)}function je(){je.so.apply(this,
arguments);this.constructor===je&&this.so.apply(this,arguments)}function ke(){ke.to.apply(this,arguments);this.constructor===ke&&this.to.apply(this,arguments)}function le(){le.xo.apply(this,arguments);this.constructor===le&&this.xo.apply(this,arguments)}function me(){me.yo.apply(this,arguments);this.constructor===me&&this.yo.apply(this,arguments)}function ne(){ne.zo.apply(this,arguments);this.constructor===ne&&this.zo.apply(this,arguments)}function oe(){oe.Ao.apply(this,arguments);this.constructor===
oe&&this.Ao.apply(this,arguments)}function Ef(){Ef.Rt.apply(this,arguments)}function pe(){pe.ja.apply(this,arguments);this.constructor===pe&&this.ja.apply(this,arguments)}function qe(){qe.va.apply(this,arguments);this.constructor===qe&&this.va.apply(this,arguments)}function Ff(){Ff.St.apply(this,arguments)}function re(){re.Bo.apply(this,arguments);this.constructor===re&&this.Bo.apply(this,arguments)}function se(){se.Co.apply(this,arguments);this.constructor===se&&this.Co.apply(this,arguments)}function te(){te.Fo.apply(this,
arguments);this.constructor===te&&this.Fo.apply(this,arguments)}function ue(){ue.$l.apply(this,arguments);this.constructor===ue&&this.$l.apply(this,arguments)}function ve(){ve.Ho.apply(this,arguments);this.constructor===ve&&this.Ho.apply(this,arguments)}function we(){we.Io.apply(this,arguments);this.constructor===we&&this.Io.apply(this,arguments)}function xe(){xe.am.apply(this,arguments);this.constructor===xe&&this.am.apply(this,arguments)}function ye(){ye.Jo.apply(this,arguments);this.constructor===
ye&&this.Jo.apply(this,arguments)}function ze(){ze.bm.apply(this,arguments);this.constructor===ze&&this.bm.apply(this,arguments)}function Ae(){Ae.cm.apply(this,arguments);this.constructor===Ae&&this.cm.apply(this,arguments)}function Be(){Be.No.apply(this,arguments);this.constructor===Be&&this.No.apply(this,arguments)}function Ce(){Ce.Oo.apply(this,arguments);this.constructor===Ce&&this.Oo.apply(this,arguments)}n.w.kB="Box2D.Collision.IBroadPhase";n.w.oo=a;n.w.At=b;n.w.po=c;n.w.Ad=d;n.w.Ul=f;n.w.ar=
g;n.w.xk=h;n.w.br=k;n.w.cr=m;n.w.dr=q;n.w.uo=p;n.w.er=t;n.w.Mt=y;n.w.Nt=u;n.w.li=w;n.w.Do=K;n.w.Tt=L;n.w.Ko=da;n.w.Xt=U;n.w.Yt=B;n.w.dm=W;n.w.Lo=ia;n.w.fr=X;n.w.Zt=C;n.w.Ie=$;n.w.gr=Ca;n.w.fm=pa;n.w.Ys=Da;n.w.ct=v;n.w.Ta.hj=r;n.w.Ta.vo=x;n.w.Ta.wo=A;n.w.Ta.Eo=H;n.w.Ta.ni=V;n.w.Ta.Wb=F;n.aa.IF="Box2D.Common.b2internal";n.aa.Sl=M;n.aa.Mb=qa;n.aa.Math.mi=S;n.aa.Math.Zl=Td;n.aa.Math.Gf=ff;n.aa.Math.Mo=gf;n.aa.Math.jj=Ud;n.aa.Math.gg=Vd;n.aa.Math.em=kb;n.l.fe=Wd;n.l.Rl=Xd;n.l.$q=hf;n.l.Ht=jf;n.l.ro=kf;
n.l.Vl=Yd;n.l.He=Zd;n.l.Lt=lf;n.l.Pt=mf;n.l.Wl=$d;n.l.Xl=ae;n.l.Yl=be;n.l.hr=nf;n.l.Je=ce;n.l.ka.Ct=of;n.l.ka.Xa=de;n.l.ka.qo=ee;n.l.ka.Ft=pf;n.l.ka.Gt=qf;n.l.ka.Tl=fe;n.l.ka.It=rf;n.l.ka.Jt=sf;n.l.ka.ij=ge;n.l.ka.Ot=tf;n.l.ka.Go=he;n.l.ka.Ut=uf;n.l.ka.Vt=vf;n.l.ka.Wt=wf;n.l.ka.yk=ie;n.l.Vb.Bt=xf;n.l.Vb.Dt=yf;n.l.Vb.Et=zf;n.l.Vb.Nc=Af;n.l.Vb.Kt=Bf;n.l.Vb.Qt=Cf;n.l.Vb.$t=Df;n.l.M.so=je;n.l.M.to=ke;n.l.M.xo=le;n.l.M.yo=me;n.l.M.zo=ne;n.l.M.Ao=oe;n.l.M.Rt=Ef;n.l.M.ja=pe;n.l.M.va=qe;n.l.M.St=Ff;n.l.M.Bo=
re;n.l.M.Co=se;n.l.M.Fo=te;n.l.M.$l=ue;n.l.M.Ho=ve;n.l.M.Io=we;n.l.M.am=xe;n.l.M.Jo=ye;n.l.M.bm=ze;n.l.M.cm=Ae;n.l.M.No=Be;n.l.M.Oo=Ce})();n.Ac=[];
(function(){var a=n.w.Ta.hj,b=n.w.Ta.ni,c=n.w.Ta.Wb,d=n.aa.Mb,f=n.aa.Math.Gf,g=n.aa.Math.Mo,h=n.aa.Math.jj,k=n.aa.Math.gg,m=n.w.oo,q=n.w.At,p=n.w.po,t=n.w.Ad,y=n.w.Ul,u=n.w.ar,w=n.w.xk,K=n.w.br,L=n.w.cr,da=n.w.dr,U=n.w.uo,B=n.w.er,W=n.w.Mt,ia=n.w.Nt,X=n.w.li,C=n.w.Do,$=n.w.Tt,Ca=n.w.Ko,pa=n.w.Xt,Da=n.w.Yt,v=n.w.dm,r=n.w.Lo,x=n.w.fr,A=n.w.Zt,H=n.w.Ie,V=n.w.gr,F=n.w.fm,M=n.w.Ys,qa=n.w.ct,S=n.w.kB;m.oo=function(){this.lowerBound=new k;this.upperBound=new k};m.prototype.Ol=function(){var a=this.upperBound.y-
this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=a&&this.lowerBound.Ol()&&this.upperBound.Ol()};m.prototype.gB=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};m.prototype.Zs=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};m.prototype.cj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;
return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};m.Kl=function(a,b){var c=new m;c.Kl(a,b);return c};m.prototype.Kl=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};q.At=function(){};q.prototype.xB=function(a){var b=this.value,c=this.Oi,d=this.iw;this.value=
a.value;this.Oi=a.Oi;this.iw=a.iw;a.value=b;a.Oi=c;a.iw=d};p.po=function(){};p.prototype.po=function(){this.vz=new ba;this.vz[0]=0;this.vz[1]=0;this.MA=new ba;this.MA[0]=0;this.MA[1]=0};t.Ad=function(){};t.Mw=function(a,b,c,d){void 0===d&&(d=0);var f,v=0;f=b[0];var x=f.ac;f=b[1];var r=f.ac,g=c.x*x.x+c.y*x.y-d;f=c.x*r.x+c.y*r.y-d;0>=g&&a[v++].Q(b[0]);0>=f&&a[v++].Q(b[1]);0>g*f&&(c=g/(g-f),f=a[v],f=f.ac,f.x=x.x+c*(r.x-x.x),f.y=x.y+c*(r.y-x.y),f=a[v],f.id=(0<g?b[0]:b[1]).id,++v);return v};t.Aq=function(a,
b,c,d,f){void 0===c&&(c=0);parseInt(a.Kb);var v=a.$;a=a.pc;var x=parseInt(d.Kb),r=d.$,g,A;g=b.G;A=a[c];a=g.j.x*A.x+g.k.x*A.y;d=g.j.y*A.x+g.k.y*A.y;g=f.G;var k=g.j.x*a+g.j.y*d;g=g.k.x*a+g.k.y*d;for(var H=0,h=Number.MAX_VALUE,F=0;F<x;++F)A=r[F],A=A.x*k+A.y*g,A<h&&(h=A,H=F);A=v[c];g=b.G;c=b.position.x+(g.j.x*A.x+g.k.x*A.y);b=b.position.y+(g.j.y*A.x+g.k.y*A.y);A=r[H];g=f.G;v=f.position.x+(g.j.x*A.x+g.k.x*A.y);f=f.position.y+(g.j.y*A.x+g.k.y*A.y);return(v-c)*a+(f-b)*d};t.Tw=function(a,b,c,d,f){var v=parseInt(b.Kb),
x=b.pc,r,g;g=f.G;r=d.Ei;var A=f.position.x+(g.j.x*r.x+g.k.x*r.y),k=f.position.y+(g.j.y*r.x+g.k.y*r.y);g=c.G;r=b.Ei;A-=c.position.x+(g.j.x*r.x+g.k.x*r.y);k-=c.position.y+(g.j.y*r.x+g.k.y*r.y);g=A*c.G.j.x+k*c.G.j.y;for(var k=A*c.G.k.x+k*c.G.k.y,A=0,H=-Number.MAX_VALUE,h=0;h<v;++h)r=x[h],r=r.x*g+r.y*k,r>H&&(H=r,A=h);x=t.Aq(b,c,A,d,f);r=parseInt(0<=A-1?A-1:v-1);g=t.Aq(b,c,r,d,f);var k=parseInt(A+1<v?A+1:0),H=t.Aq(b,c,k,d,f),F=0,V=0;if(g>x&&g>H)V=-1,h=r,F=g;else if(H>x)V=1,h=k,F=H;else return a[0]=A,x;
for(;;)if(A=-1==V?0<=h-1?h-1:v-1:h+1<v?h+1:0,x=t.Aq(b,c,A,d,f),x>F)h=A,F=x;else break;a[0]=h;return F};t.fB=function(a,b,c,d,f,v){void 0===d&&(d=0);parseInt(b.Kb);var x=b.pc,r=parseInt(f.Kb);b=f.$;f=f.pc;var g;g=c.G;c=x[d];var x=g.j.x*c.x+g.k.x*c.y,A=g.j.y*c.x+g.k.y*c.y;g=v.G;c=g.j.x*x+g.j.y*A;A=g.k.x*x+g.k.y*A;x=c;g=0;for(var k=Number.MAX_VALUE,H=0;H<r;++H)c=f[H],c=x*c.x+A*c.y,c<k&&(k=c,g=H);f=parseInt(g);x=parseInt(f+1<r?f+1:0);r=a[0];c=b[f];g=v.G;r.ac.x=v.position.x+(g.j.x*c.x+g.k.x*c.y);r.ac.y=
v.position.y+(g.j.y*c.x+g.k.y*c.y);r.id.ig.TD=d;r.id.ig.JC=f;r.id.ig.KC=0;r=a[1];c=b[x];g=v.G;r.ac.x=v.position.x+(g.j.x*c.x+g.k.x*c.y);r.ac.y=v.position.y+(g.j.y*c.x+g.k.y*c.y);r.id.ig.TD=d;r.id.ig.JC=x;r.id.ig.KC=1};t.lt=function(){var a=new aa(2);a[0]=new M;a[1]=new M;return a};t.$A=function(a,b,c,f,v){var r;a.Ic=0;var x=b.Da+f.Da;t.Wv[0]=0;var g=t.Tw(t.Wv,b,c,f,v);r=t.Wv[0];if(!(g>x)){var A;t.Xv[0]=0;var k=t.Tw(t.Xv,f,v,b,c);A=t.Xv[0];if(!(k>x)){var H=0,h=0;k>.98*g+.001?(g=f,f=b,b=v,H=A,a.jb=
X.Ik,h=1):(g=b,b=c,c=v,H=r,a.jb=X.Ng,h=0);r=t.YD;t.fB(r,g,b,H,f,c);A=parseInt(g.Kb);v=g.$;var g=v[H],F;F=H+1<A?v[parseInt(H+1)]:v[0];H=t.$D;H.Q(F.x-g.x,F.y-g.y);H.bb();v=t.ZD;v.x=H.y;v.y=-H.x;f=t.bE;f.Q(.5*(g.x+F.x),.5*(g.y+F.y));k=t.hE;A=b.G;k.x=A.j.x*H.x+A.k.x*H.y;k.y=A.j.y*H.x+A.k.y*H.y;var V=t.iE;V.x=-k.x;V.y=-k.y;H=t.aE;H.x=k.y;H.y=-k.x;var m=t.lE,M=t.mE;m.x=b.position.x+(A.j.x*g.x+A.k.x*g.y);m.y=b.position.y+(A.j.y*g.x+A.k.y*g.y);M.x=b.position.x+(A.j.x*F.x+A.k.x*F.y);M.y=b.position.y+(A.j.y*
F.x+A.k.y*F.y);b=H.x*m.x+H.y*m.y;A=k.x*M.x+k.y*M.y+x;F=t.WD;g=t.XD;M=t.Mw(F,r,V,-k.x*m.x-k.y*m.y+x);if(!(2>M||(M=t.Mw(g,F,k,A),2>M))){a.Jd.N(v);a.fb.N(f);for(f=v=0;f<d.hf;++f)r=g[f],H.x*r.ac.x+H.y*r.ac.y-b<=x&&(k=a.gb[v],A=c.G,V=r.ac.x-c.position.x,m=r.ac.y-c.position.y,k.fb.x=V*A.j.x+m*A.j.y,k.fb.y=V*A.k.x+m*A.k.y,k.Hi.Q(r.id),k.Hi.ig.WF=h,++v);a.Ic=v}}}};t.YA=function(a,b,c,d,f){a.Ic=0;var v,g;v=c.G;g=b.pd;var r=c.position.x+(v.j.x*g.x+v.k.x*g.y);c=c.position.y+(v.j.y*g.x+v.k.y*g.y);v=f.G;g=d.pd;
r=f.position.x+(v.j.x*g.x+v.k.x*g.y)-r;f=f.position.y+(v.j.y*g.x+v.k.y*g.y)-c;v=b.Da+d.Da;r*r+f*f>v*v||(a.jb=X.wu,a.fb.N(b.pd),a.Jd.La(),a.Ic=1,a.gb[0].fb.N(d.pd),a.gb[0].Hi.key=0)};t.ZA=function(a,b,c,d,f){var v=a.Ic=0,g=0,r,x;x=f.G;r=d.pd;var A=f.position.y+(x.j.y*r.x+x.k.y*r.y),v=f.position.x+(x.j.x*r.x+x.k.x*r.y)-c.position.x,g=A-c.position.y;x=c.G;c=v*x.j.x+g*x.j.y;x=v*x.k.x+g*x.k.y;var k=0,A=-Number.MAX_VALUE;f=b.Da+d.Da;var H=parseInt(b.Kb),h=b.$;b=b.pc;for(var F=0;F<H;++F){r=h[F];v=c-r.x;
g=x-r.y;r=b[F];v=r.x*v+r.y*g;if(v>f)return;v>A&&(A=v,k=F)}v=parseInt(k);g=parseInt(v+1<H?v+1:0);r=h[v];h=h[g];if(A<Number.MIN_VALUE)a.Ic=1,a.jb=X.Ng,a.Jd.N(b[k]),a.fb.x=.5*(r.x+h.x),a.fb.y=.5*(r.y+h.y);else if(A=(c-h.x)*(r.x-h.x)+(x-h.y)*(r.y-h.y),0>=(c-r.x)*(h.x-r.x)+(x-r.y)*(h.y-r.y)){if((c-r.x)*(c-r.x)+(x-r.y)*(x-r.y)>f*f)return;a.Ic=1;a.jb=X.Ng;a.Jd.x=c-r.x;a.Jd.y=x-r.y;a.Jd.bb();a.fb.N(r)}else if(0>=A){if((c-h.x)*(c-h.x)+(x-h.y)*(x-h.y)>f*f)return;a.Ic=1;a.jb=X.Ng;a.Jd.x=c-h.x;a.Jd.y=x-h.y;a.Jd.bb();
a.fb.N(h)}else{k=.5*(r.x+h.x);r=.5*(r.y+h.y);A=(c-k)*b[v].x+(x-r)*b[v].y;if(A>f)return;a.Ic=1;a.jb=X.Ng;a.Jd.x=b[v].x;a.Jd.y=b[v].y;a.Jd.bb();a.fb.Q(k,r)}a.gb[0].fb.N(d.pd);a.gb[0].Hi.key=0};t.cj=function(a,b){var c=b.lowerBound,d=a.upperBound,f=c.x-d.x,v=c.y-d.y,c=a.lowerBound,d=b.upperBound,r=c.y-d.y;return 0<f||0<v||0<c.x-d.x||0<r?!1:!0};n.Ac.push(function(){n.w.Ad.YD=t.lt();n.w.Ad.WD=t.lt();n.w.Ad.XD=t.lt();n.w.Ad.Wv=new ba(1);n.w.Ad.Xv=new ba(1);n.w.Ad.$D=new k;n.w.Ad.ZD=new k;n.w.Ad.bE=new k;
n.w.Ad.aE=new k;n.w.Ad.hE=new k;n.w.Ad.iE=new k;n.w.Ad.lE=new k;n.w.Ad.mE=new k;n.w.Ad.CF=new k;n.w.Ad.GF=255});y.Ul=function(){this.ig=new qa};y.prototype.Ul=function(){this.ig.dj=this};y.prototype.Q=function(a){this.key=a.df};y.prototype.Db=function(){var a=new y;a.key=this.key;return a};Object.defineProperty(y.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.df}});Object.defineProperty(y.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.df=
a;this.ig.vt=this.df&255;this.ig.tt=(this.df&65280)>>8&255;this.ig.ut=(this.df&16711680)>>16&255;this.ig.st=(this.df&4278190080)>>24&255}});u.ar=function(){this.position=new k;this.nh=new k;this.Rf=new k;this.id=new y};w.xk=function(){};w.$s=function(a,b,c){++w.EF;var v=c.Th,r=c.Uh,g=c.CA,x=c.DA,A=w.fE;A.qB(b,v,g,r,x);var H=A.$,h=w.dE,F=w.eE,V=0;A.Ww();for(var m=0,M,qa=0;20>qa;){V=A.Qb;for(m=0;m<V;m++)h[m]=H[m].nd,F[m]=H[m].od;switch(A.Qb){case 1:break;case 2:A.vB();break;case 3:A.wB();break;default:d.gc(!1)}if(3==
A.Qb)break;A.Ww();m=A.iB();if(m.Kq()<Number.MIN_VALUE*Number.MIN_VALUE)break;M=H[A.Qb];M.nd=v.it(f.Zi(g.G,m.Yi()));M.$d=f.Zc(g,v.Pd(M.nd));M.od=r.it(f.Zi(x.G,m));M.Bg=f.Zc(x,r.Pd(M.od));M.u=f.rc(M.Bg,M.$d);++qa;++w.FF;for(var p=!1,m=0;m<V;m++)if(M.nd==h[m]&&M.od==F[m]){p=!0;break}if(p)break;++A.Qb}w.RB=f.ce(w.RB,qa);A.jB(a.Yg,a.Zg);a.Ek=f.rc(a.Yg,a.Zg).bg();a.ZF=qa;A.CB(b);c.NA&&(b=v.Da,r=r.Da,a.Ek>b+r&&a.Ek>Number.MIN_VALUE?(a.Ek-=b+r,c=f.rc(a.Zg,a.Yg),c.bb(),a.Yg.x+=b*c.x,a.Yg.y+=b*c.y,a.Zg.x-=
r*c.x,a.Zg.y-=r*c.y):(M=new k,M.x=.5*(a.Yg.x+a.Zg.x),M.y=.5*(a.Yg.y+a.Zg.y),a.Yg.x=a.Zg.x=M.x,a.Yg.y=a.Zg.y=M.y,a.Ek=0))};n.Ac.push(function(){n.w.xk.fE=new r;n.w.xk.dE=new ba(3);n.w.xk.eE=new ba(3)});K.br=function(){};L.cr=function(){this.Yg=new k;this.Zg=new k};da.dr=function(){};da.prototype.Q=function(f){switch(f.Eb()){case c.Hk:f=f instanceof a?f:null;this.$=new aa(1,!0);this.$[0]=f.pd;this.Qb=1;this.Da=f.Da;break;case c.oj:f=f instanceof b?f:null;this.$=f.$;this.Qb=f.Kb;this.Da=f.Da;break;default:d.gc(!1)}};
da.prototype.it=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Qb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return b};da.prototype.Xn=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Qb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return this.$[b]};da.prototype.Pd=function(a){void 0===a&&(a=0);d.gc(0<=a&&a<this.Qb);return this.$[a]};U.uo=function(){};U.prototype.uo=function(){this.Fp=this.Nh=null};U.prototype.Sn=function(a,b){var c=
this.Kw(),f=d.ir,v=d.ir;c.xb.lowerBound.x=a.lowerBound.x-f;c.xb.lowerBound.y=a.lowerBound.y-v;c.xb.upperBound.x=a.upperBound.x+f;c.xb.upperBound.y=a.upperBound.y+v;c.jk=b;this.dx(c);return c};U.prototype.Tn=function(a){this.lx(a);this.et(a)};U.prototype.mt=function(a,b,c){d.gc(a.Gq());if(a.xb.Zs(b))return!1;this.lx(a);var f=d.ir+d.Kx*(0<c.x?c.x:-c.x);c=d.ir+d.Kx*(0<c.y?c.y:-c.y);a.xb.lowerBound.x=b.lowerBound.x-f;a.xb.lowerBound.y=b.lowerBound.y-c;a.xb.upperBound.x=b.upperBound.x+f;a.xb.upperBound.y=
b.upperBound.y+c;this.dx(a);return!0};U.prototype.Vn=function(a){return a.xb};U.prototype.Ef=function(a){return a.jk};U.prototype.ot=function(a,b){if(null!=this.Nh){var c=new aa,d=0;for(c[d++]=this.Nh;0<d;){var f=c[--d];if(f.xb.cj(b))if(f.Gq()){if(!a(f))break}else c[d++]=f.Jf,c[d++]=f.qi}}};U.prototype.Kw=function(){if(this.Fp){var a=this.Fp;this.Fp=a.parent;a.parent=null;a.Jf=null;a.qi=null;return a}return new W};U.prototype.et=function(a){a.parent=this.Fp;this.Fp=a};U.prototype.dx=function(a){if(null==
this.Nh)this.Nh=a,this.Nh.parent=null;else{var b=a.xb.gB(),c=this.Nh;if(0==c.Gq()){do var d=c.Jf,c=c.qi,c=Math.abs((d.xb.lowerBound.x+d.xb.upperBound.x)/2-b.x)+Math.abs((d.xb.lowerBound.y+d.xb.upperBound.y)/2-b.y)<Math.abs((c.xb.lowerBound.x+c.xb.upperBound.x)/2-b.x)+Math.abs((c.xb.lowerBound.y+c.xb.upperBound.y)/2-b.y)?d:c;while(0==c.Gq())}b=c.parent;d=this.Kw();d.parent=b;d.jk=null;d.xb.Kl(a.xb,c.xb);if(b){c.parent.Jf==c?b.Jf=d:b.qi=d;d.Jf=c;d.qi=a;c.parent=d;a.parent=d;do{if(b.xb.Zs(d.xb))break;
b.xb.Kl(b.Jf.xb,b.qi.xb);d=b;b=b.parent}while(b)}else d.Jf=c,d.qi=a,c.parent=d,this.Nh=a.parent=d}};U.prototype.lx=function(a){if(a==this.Nh)this.Nh=null;else{var b=a.parent,c=b.parent;a=b.Jf==a?b.qi:b.Jf;if(c)for(c.Jf==b?c.Jf=a:c.qi=a,a.parent=c,this.et(b);c;){b=c.xb;c.xb=m.Kl(c.Jf.xb,c.qi.xb);if(b.Zs(c.xb))break;c=c.parent}else this.Nh=a,a.parent=null,this.et(b)}};B.er=function(){this.qg=new U;this.cl=new aa;this.Mp=new aa;this.el=0};B.prototype.Sn=function(a,b){var c=this.qg.Sn(a,b);this.Lw(c);
return c};B.prototype.Tn=function(a){this.AB(a);this.qg.Tn(a)};B.prototype.mt=function(a,b,c){this.qg.mt(a,b,c)&&this.Lw(a)};B.prototype.cj=function(a,b){return this.qg.Vn(a).cj(this.qg.Vn(b))};B.prototype.Ef=function(a){return this.qg.Ef(a)};B.prototype.Vn=function(a){return this.qg.Vn(a)};B.prototype.BB=function(a){for(var b=this,c=b.el=0,d,c=0;c<b.cl.length;++c){d=b.cl[c];var f=b.qg.Vn(d);b.qg.ot(function(a){if(a==d)return!0;b.el==b.Mp.length&&(b.Mp[b.el]=new ia);var c=b.Mp[b.el];c.Th=a<d?a:d;
c.Uh=a>=d?a:d;++b.el;return!0},f)}for(c=b.cl.length=0;c<b.el;){var f=b.Mp[c],v=b.qg.Ef(f.Th);a(v,b.qg.Ef(f.Uh));for(++c;c<b.el;){v=b.Mp[c];if(v.Th!=f.Th||v.Uh!=f.Uh)break;++c}}};B.prototype.ot=function(a,b){this.qg.ot(a,b)};B.prototype.Lw=function(a){this.cl[this.cl.length]=a};B.prototype.AB=function(a){this.cl.splice(parseInt(this.cl.indexOf(a)),1)};B.rt={};B.rt[S]=!0;W.Mt=function(){this.xb=new m};W.prototype.Gq=function(){return null==this.Jf};ia.Nt=function(){};X.li=function(){this.Ic=0};X.prototype.li=
function(){this.gb=new aa(d.hf);for(var a=0;a<d.hf;a++)this.gb[a]=new C;this.Jd=new k;this.fb=new k};X.prototype.de=function(){for(var a=0;a<d.hf;a++)(this.gb[a]instanceof C?this.gb[a]:null).de();this.Jd.La();this.fb.La();this.Ic=this.jb=0};X.prototype.Q=function(a){this.Ic=a.Ic;for(var b=0;b<d.hf;b++)(this.gb[b]instanceof C?this.gb[b]:null).Q(a.gb[b]);this.Jd.N(a.Jd);this.fb.N(a.fb);this.jb=a.jb};X.prototype.Db=function(){var a=new X;a.Q(this);return a};n.Ac.push(function(){n.w.li.wu=1;n.w.li.Ng=
2;n.w.li.Ik=4});C.Do=function(){this.fb=new k;this.Hi=new y};C.prototype.Do=function(){this.de()};C.prototype.de=function(){this.fb.La();this.jl=this.dl=0;this.Hi.key=0};C.prototype.Q=function(a){this.fb.N(a.fb);this.dl=a.dl;this.jl=a.jl;this.Hi.Q(a.Hi)};$.Tt=function(){new k};Ca.Ko=function(){this.jn=new k;this.kn=new k};Ca.prototype.Ko=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&this.jn.N(a);b&&this.kn.N(b)};pa.Xt=function(){this.Rf=new k};Da.Yt=function(){this.jn=new k;this.kn=new k};
v.dm=function(){this.fb=new k;this.ea=new k};v.prototype.kd=function(a,b,c,r,g){this.Nj=b;this.Oj=r;var x=parseInt(a.count);d.gc(0<x&&3>x);var A,H,h,F,V=0,m=0;1==x?(this.jb=v.zy,A=this.Nj.Pd(a.nd[0]),H=this.Oj.Pd(a.od[0]),x=A,a=c.G,b=c.position.x+(a.j.x*x.x+a.k.x*x.y),r=c.position.y+(a.j.y*x.x+a.k.y*x.y),x=H,a=g.G,h=g.position.x+(a.j.x*x.x+a.k.x*x.y),F=g.position.y+(a.j.y*x.x+a.k.y*x.y),this.ea.x=h-b,this.ea.y=F-r,this.ea.bb()):(a.od[0]==a.od[1]?(this.jb=v.Ng,b=this.Nj.Pd(a.nd[0]),r=this.Nj.Pd(a.nd[1]),
H=this.Oj.Pd(a.od[0]),this.fb.x=.5*(b.x+r.x),this.fb.y=.5*(b.y+r.y),this.ea=f.Xi(f.rc(r,b),1),this.ea.bb(),x=this.ea,a=c.G,V=a.j.x*x.x+a.k.x*x.y,m=a.j.y*x.x+a.k.y*x.y,x=this.fb,a=c.G,b=c.position.x+(a.j.x*x.x+a.k.x*x.y),r=c.position.y+(a.j.y*x.x+a.k.y*x.y),x=H,a=g.G,h=g.position.x+(a.j.x*x.x+a.k.x*x.y),F=g.position.y+(a.j.y*x.x+a.k.y*x.y),V=(h-b)*V+(F-r)*m):a.nd[0]==a.nd[0]?(this.jb=v.Ik,h=this.Oj.Pd(a.od[0]),F=this.Oj.Pd(a.od[1]),A=this.Nj.Pd(a.nd[0]),this.fb.x=.5*(h.x+F.x),this.fb.y=.5*(h.y+F.y),
this.ea=f.Xi(f.rc(F,h),1),this.ea.bb(),x=this.ea,a=g.G,V=a.j.x*x.x+a.k.x*x.y,m=a.j.y*x.x+a.k.y*x.y,x=this.fb,a=g.G,h=g.position.x+(a.j.x*x.x+a.k.x*x.y),F=g.position.y+(a.j.y*x.x+a.k.y*x.y),x=A,a=c.G,b=c.position.x+(a.j.x*x.x+a.k.x*x.y),r=c.position.y+(a.j.y*x.x+a.k.y*x.y),V=(b-h)*V+(r-F)*m):(b=this.Nj.Pd(a.nd[0]),r=this.Nj.Pd(a.nd[1]),h=this.Oj.Pd(a.od[0]),F=this.Oj.Pd(a.od[1]),f.Zc(c,A),A=f.yd(c.G,f.rc(r,b)),f.Zc(g,H),V=f.yd(g.G,f.rc(F,h)),g=A.x*A.x+A.y*A.y,H=V.x*V.x+V.y*V.y,a=f.rc(V,A),c=A.x*a.x+
A.y*a.y,a=V.x*a.x+V.y*a.y,A=A.x*V.x+A.y*V.y,m=g*H-A*A,V=0,0!=m&&(V=f.Cb((A*a-c*H)/m,0,1)),0>(A*V+a)/H&&(V=f.Cb((A-c)/g,0,1)),A=new k,A.x=b.x+V*(r.x-b.x),A.y=b.y+V*(r.y-b.y),H=new k,H.x=h.x+V*(F.x-h.x),H.y=h.y+V*(F.y-h.y),0==V||1==V?(this.jb=v.Ik,this.ea=f.Xi(f.rc(F,h),1),this.ea.bb(),this.fb=H):(this.jb=v.Ng,this.ea=f.Xi(f.rc(r,b),1),this.fb=A)),0>V&&this.ea.hx())};v.prototype.Eg=function(a,b){var c,r,x=0;switch(this.jb){case v.zy:return c=f.Zi(a.G,this.ea),r=f.Zi(b.G,this.ea.Yi()),c=this.Nj.Xn(c),
r=this.Oj.Xn(r),c=f.Zc(a,c),r=f.Zc(b,r),(r.x-c.x)*this.ea.x+(r.y-c.y)*this.ea.y;case v.Ng:return x=f.yd(a.G,this.ea),c=f.Zc(a,this.fb),r=f.Zi(b.G,x.Yi()),r=this.Oj.Xn(r),r=f.Zc(b,r),(r.x-c.x)*x.x+(r.y-c.y)*x.y;case v.Ik:return x=f.yd(b.G,this.ea),r=f.Zc(b,this.fb),c=f.Zi(a.G,x.Yi()),c=this.Nj.Xn(c),c=f.Zc(a,c),(c.x-r.x)*x.x+(c.y-r.y)*x.y;default:return d.gc(!1),0}};n.Ac.push(function(){n.w.dm.zy=1;n.w.dm.Ng=2;n.w.dm.Ik=4});r.Lo=function(){this.Aa=new A;this.Sa=new A;this.xf=new A;this.$=new aa(3)};
r.prototype.Lo=function(){this.$[0]=this.Aa;this.$[1]=this.Sa;this.$[2]=this.xf};r.prototype.qB=function(a,b,c,v,r){d.gc(0<=a.count&&3>=a.count);var x,g;this.Qb=a.count;for(var A=this.$,k=0;k<this.Qb;k++){var H=A[k];H.nd=a.nd[k];H.od=a.od[k];x=b.Pd(H.nd);g=v.Pd(H.od);H.$d=f.Zc(c,x);H.Bg=f.Zc(r,g);H.u=f.rc(H.Bg,H.$d);H.R=0}1<this.Qb&&(a=a.uD,x=this.Zw(),x<.5*a||2*a<x||x<Number.MIN_VALUE)&&(this.Qb=0);0==this.Qb&&(H=A[0],H.nd=0,H.od=0,x=b.Pd(0),g=v.Pd(0),H.$d=f.Zc(c,x),H.Bg=f.Zc(r,g),H.u=f.rc(H.Bg,
H.$d),this.Qb=1)};r.prototype.CB=function(a){a.uD=this.Zw();a.count=n.tg(this.Qb);for(var b=this.$,c=0;c<this.Qb;c++)a.nd[c]=n.tg(b[c].nd),a.od[c]=n.tg(b[c].od)};r.prototype.iB=function(){switch(this.Qb){case 1:return this.Aa.u.Yi();case 2:var a=f.rc(this.Sa.u,this.Aa.u);return 0<f.Ml(a,this.Aa.u.Yi())?f.Nw(1,a):f.Xi(a,1);default:return d.gc(!1),new k}};r.prototype.Ww=function(){switch(this.Qb){case 0:d.gc(!1);new k;break;case 1:break;case 2:new k(this.Aa.R*this.Aa.u.x+this.Sa.R*this.Sa.u.x,this.Aa.R*
this.Aa.u.y+this.Sa.R*this.Sa.u.y);break;default:d.gc(!1),new k}};r.prototype.jB=function(a,b){switch(this.Qb){case 0:d.gc(!1);break;case 1:a.N(this.Aa.$d);b.N(this.Aa.Bg);break;case 2:a.x=this.Aa.R*this.Aa.$d.x+this.Sa.R*this.Sa.$d.x;a.y=this.Aa.R*this.Aa.$d.y+this.Sa.R*this.Sa.$d.y;b.x=this.Aa.R*this.Aa.Bg.x+this.Sa.R*this.Sa.Bg.x;b.y=this.Aa.R*this.Aa.Bg.y+this.Sa.R*this.Sa.Bg.y;break;case 3:b.x=a.x=this.Aa.R*this.Aa.$d.x+this.Sa.R*this.Sa.$d.x+this.xf.R*this.xf.$d.x;b.y=a.y=this.Aa.R*this.Aa.$d.y+
this.Sa.R*this.Sa.$d.y+this.xf.R*this.xf.$d.y;break;default:d.gc(!1)}};r.prototype.Zw=function(){switch(this.Qb){case 0:return d.gc(!1),0;case 1:return 0;case 2:return f.rc(this.Aa.u,this.Sa.u).bg();case 3:return f.Ml(f.rc(this.Sa.u,this.Aa.u),f.rc(this.xf.u,this.Aa.u));default:return d.gc(!1),0}};r.prototype.vB=function(){var a=this.Aa.u,b=this.Sa.u,c=f.rc(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Qb=this.Aa.R=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Qb=this.Sa.R=1,this.Aa.Q(this.Sa)):(c=1/(b+a),this.Aa.R=b*c,
this.Sa.R=a*c,this.Qb=2))};r.prototype.wB=function(){var a=this.Aa.u,b=this.Sa.u,c=this.xf.u,d=f.rc(b,a),v=f.Od(a,d),r=f.Od(b,d),v=-v,x=f.rc(c,a),g=f.Od(a,x),A=f.Od(c,x),g=-g,k=f.rc(c,b),H=f.Od(b,k),k=f.Od(c,k),H=-H,x=f.Ml(d,x),d=x*f.Ml(b,c),c=x*f.Ml(c,a),a=x*f.Ml(a,b);0>=v&&0>=g?this.Qb=this.Aa.R=1:0<r&&0<v&&0>=a?(A=1/(r+v),this.Aa.R=r*A,this.Sa.R=v*A,this.Qb=2):0<A&&0<g&&0>=c?(r=1/(A+g),this.Aa.R=A*r,this.xf.R=g*r,this.Qb=2,this.Sa.Q(this.xf)):0>=r&&0>=H?(this.Qb=this.Sa.R=1,this.Aa.Q(this.Sa)):
0>=A&&0>=k?(this.Qb=this.xf.R=1,this.Aa.Q(this.xf)):0<k&&0<H&&0>=d?(r=1/(k+H),this.Sa.R=k*r,this.xf.R=H*r,this.Qb=2,this.Aa.Q(this.xf)):(r=1/(d+c+a),this.Aa.R=d*r,this.Sa.R=c*r,this.xf.R=a*r,this.Qb=3)};x.fr=function(){this.nd=new ba(3);this.od=new ba(3)};A.Zt=function(){};A.prototype.Q=function(a){this.$d.N(a.$d);this.Bg.N(a.Bg);this.u.N(a.u);this.R=a.R;this.nd=a.nd;this.od=a.od};H.Ie=function(){};H.zB=function(a){++H.WB;var b=a.Th,c=a.Uh,v=a.yA,r=a.zA;d.gc(v.vd==r.vd);d.gc(1-v.vd>Number.MIN_VALUE);
var x=b.Da+c.Da;a=a.XE;var g=0,A=0,k=0;H.Vv.count=0;for(H.tn.NA=!1;;){v.af(H.Zj,g);r.af(H.$j,g);H.tn.Th=b;H.tn.Uh=c;H.tn.CA=H.Zj;H.tn.DA=H.$j;w.$s(H.eA,H.Vv,H.tn);if(0>=H.eA.Ek){g=1;break}H.ys.kd(H.Vv,b,H.Zj,c,H.$j);var h=H.ys.Eg(H.Zj,H.$j);if(0>=h){g=1;break}0==A&&(k=h>x?f.ce(x-a,.75*x):f.ce(h-a,.02*x));if(h-k<.5*a){if(0==A){g=1;break}break}var F=g,V=g,m=1;v.af(H.Zj,m);r.af(H.$j,m);var M=H.ys.Eg(H.Zj,H.$j);if(M>=k){g=1;break}for(var qa=0;;){var p=0,p=qa&1?V+(k-h)*(m-V)/(M-h):.5*(V+m);v.af(H.Zj,p);
r.af(H.$j,p);var S=H.ys.Eg(H.Zj,H.$j);if(f.hd(S-k)<.025*a){F=p;break}S>k?(V=p,h=S):(m=p,M=S);++qa;++H.YB;if(50==qa)break}H.Qx=f.ce(H.Qx,qa);if(F<(1+100*Number.MIN_VALUE)*g)break;g=F;A++;++H.XB;if(1E3==A)break}H.Px=f.ce(H.Px,A);return g};n.Ac.push(function(){n.w.Ie.WB=0;n.w.Ie.XB=0;n.w.Ie.Px=0;n.w.Ie.YB=0;n.w.Ie.Qx=0;n.w.Ie.Vv=new x;n.w.Ie.tn=new K;n.w.Ie.Zj=new h;n.w.Ie.$j=new h;n.w.Ie.ys=new v;n.w.Ie.eA=new L});V.gr=function(){this.Th=new da;this.Uh=new da;this.yA=new g;this.zA=new g};F.fm=function(){this.Ra=
new k};F.prototype.fm=function(){this.gb=new aa(d.hf);for(var a=0;a<d.hf;a++)this.gb[a]=new k};F.prototype.kd=function(a,b,c,d,f){void 0===c&&(c=0);void 0===f&&(f=0);if(0!=a.Ic){var v=0,r,x,g=0,A=0,k=0,H=0,h=0;switch(a.jb){case X.wu:x=b.G;r=a.fb;v=b.position.x+x.j.x*r.x+x.k.x*r.y;b=b.position.y+x.j.y*r.x+x.k.y*r.y;x=d.G;r=a.gb[0].fb;a=d.position.x+x.j.x*r.x+x.k.x*r.y;d=d.position.y+x.j.y*r.x+x.k.y*r.y;r=a-v;x=d-b;g=r*r+x*x;g>Number.MIN_VALUE*Number.MIN_VALUE?(g=Math.sqrt(g),this.Ra.x=r/g,this.Ra.y=
x/g):(this.Ra.x=1,this.Ra.y=0);r=b+c*this.Ra.y;d-=f*this.Ra.y;this.gb[0].x=.5*(v+c*this.Ra.x+(a-f*this.Ra.x));this.gb[0].y=.5*(r+d);break;case X.Ng:x=b.G;r=a.Jd;g=x.j.x*r.x+x.k.x*r.y;A=x.j.y*r.x+x.k.y*r.y;x=b.G;r=a.fb;k=b.position.x+x.j.x*r.x+x.k.x*r.y;H=b.position.y+x.j.y*r.x+x.k.y*r.y;this.Ra.x=g;this.Ra.y=A;for(v=0;v<a.Ic;v++)x=d.G,r=a.gb[v].fb,h=d.position.x+x.j.x*r.x+x.k.x*r.y,r=d.position.y+x.j.y*r.x+x.k.y*r.y,this.gb[v].x=h+.5*(c-(h-k)*g-(r-H)*A-f)*g,this.gb[v].y=r+.5*(c-(h-k)*g-(r-H)*A-f)*
A;break;case X.Ik:for(x=d.G,r=a.Jd,g=x.j.x*r.x+x.k.x*r.y,A=x.j.y*r.x+x.k.y*r.y,x=d.G,r=a.fb,k=d.position.x+x.j.x*r.x+x.k.x*r.y,H=d.position.y+x.j.y*r.x+x.k.y*r.y,this.Ra.x=-g,this.Ra.y=-A,v=0;v<a.Ic;v++)x=b.G,r=a.gb[v].fb,h=b.position.x+x.j.x*r.x+x.k.x*r.y,r=b.position.y+x.j.y*r.x+x.k.y*r.y,this.gb[v].x=h+.5*(f-(h-k)*g-(r-H)*A-c)*g,this.gb[v].y=r+.5*(f-(h-k)*g-(r-H)*A-c)*A}}};M.Ys=function(){this.ac=new k;this.id=new y};M.prototype.Q=function(a){this.ac.N(a.ac);this.id.Q(a.id)};qa.ct=function(){};
Object.defineProperty(qa.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.vt}});Object.defineProperty(qa.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.vt=a;this.dj.df=this.dj.df&4294967040|this.vt&255}});Object.defineProperty(qa.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.tt}});Object.defineProperty(qa.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===
a&&(a=0);this.tt=a;this.dj.df=this.dj.df&4294902015|this.tt<<8&65280}});Object.defineProperty(qa.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.ut}});Object.defineProperty(qa.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.ut=a;this.dj.df=this.dj.df&4278255615|this.ut<<16&16711680}});Object.defineProperty(qa.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.st}});Object.defineProperty(qa.prototype,
"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.st=a;this.dj.df=this.dj.df&16777215|this.st<<24&4278190080}})})();
(function(){var a=n.aa.Mb,b=n.w.Ta.hj,c=n.w.Ta.vo,d=n.w.Ta.wo,f=n.w.Ta.Eo,g=n.w.Ta.ni,h=n.w.Ta.Wb,k=n.aa.Math.mi,m=n.aa.Math.Gf,q=n.aa.Math.jj,p=n.aa.Math.gg,t=n.w.xk,y=n.w.br,u=n.w.cr,w=n.w.dr,K=n.w.fr;n.Gb(b,n.w.Ta.Wb);b.prototype.la=n.w.Ta.Wb.prototype;b.hj=function(){n.w.Ta.Wb.Wb.apply(this,arguments);this.pd=new p};b.prototype.Db=function(){var a=new b;a.Q(this);return a};b.prototype.Q=function(a){this.la.Q.call(this,a);n.is(a,b)&&this.pd.N((a instanceof b?a:null).pd)};b.prototype.Ll=function(a,
b){var c=b.G,d=b.position.x+(c.j.x*this.pd.x+c.k.x*this.pd.y),c=b.position.y+(c.j.y*this.pd.x+c.k.y*this.pd.y);a.lowerBound.Q(d-this.Da,c-this.Da);a.upperBound.Q(d+this.Da,c+this.Da)};b.prototype.Qn=function(b,c){void 0===c&&(c=0);b.Oh=c*a.Po*this.Da*this.Da;b.ue.N(this.pd);b.Nl=b.Oh*(.5*this.Da*this.Da+(this.pd.x*this.pd.x+this.pd.y*this.pd.y))};b.prototype.xq=function(a,b,c,d){void 0===b&&(b=0);c=m.Zc(c,this.pd);var f=-(m.Od(a,c)-b);if(f<-this.Da+Number.MIN_VALUE)return 0;if(f>this.Da)return d.N(c),
Math.PI*this.Da*this.Da;b=this.Da*this.Da;var g=f*f,f=b*(Math.asin(f/this.Da)+Math.PI/2)+f*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/f;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return f};b.prototype.tx=function(a){this.pd.N(a)};b.prototype.hj=function(a){void 0===a&&(a=0);this.la.Wb.call(this);this.jb=h.Hk;this.Da=a};c.vo=function(){};c.prototype.vo=function(){this.ba=[]};n.Gb(d,n.w.Ta.Wb);d.prototype.la=n.w.Ta.Wb.prototype;d.wo=function(){n.w.Ta.Wb.Wb.apply(this,arguments);new p;this.Aa=new p;this.Sa=new p;this.ZC=
new p;this.$C=new p;this.Ra=new p;this.Kj=new p;new p;this.aD=new p};d.prototype.Ll=function(a,b){var c=b.G,d=b.position.x+(c.j.x*this.Aa.x+c.k.x*this.Aa.y),f=b.position.y+(c.j.y*this.Aa.x+c.k.y*this.Aa.y),g=b.position.x+(c.j.x*this.Sa.x+c.k.x*this.Sa.y),c=b.position.y+(c.j.y*this.Sa.x+c.k.y*this.Sa.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);f<c?(a.lowerBound.y=f,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=f)};d.prototype.Qn=function(a){a.Oh=0;a.ue.N(this.Aa);
a.Nl=0};d.prototype.xq=function(a,b,c,d){void 0===b&&(b=0);var f=new p(a.x*b,a.y*b),g=m.Zc(c,this.Aa);c=m.Zc(c,this.Sa);var k=m.Od(a,g)-b;a=m.Od(a,c)-b;if(0<k){if(0<a)return 0;g.x=-a/(k-a)*g.x+k/(k-a)*c.x;g.y=-a/(k-a)*g.y+k/(k-a)*c.y}else 0<a&&(c.x=-a/(k-a)*g.x+k/(k-a)*c.x,c.y=-a/(k-a)*g.y+k/(k-a)*c.y);d.x=(f.x+g.x+c.x)/3;d.y=(f.y+g.y+c.y)/3;return.5*((g.x-f.x)*(c.y-f.y)-(g.y-f.y)*(c.x-f.x))};d.prototype.wo=function(b,c){this.la.Wb.call(this);this.jb=h.zr;this.Aa=b;this.Sa=c;this.Kj.Q(this.Sa.x-this.Aa.x,
this.Sa.y-this.Aa.y);this.ov=this.Kj.bb();this.Ra.Q(this.Kj.y,-this.Kj.x);this.ZC.Q(-a.lr*(this.Ra.x-this.Kj.x)+this.Aa.x,-a.lr*(this.Ra.y-this.Kj.y)+this.Aa.y);this.$C.Q(-a.lr*(this.Ra.x+this.Kj.x)+this.Sa.x,-a.lr*(this.Ra.y+this.Kj.y)+this.Sa.y);this.aD.Q(-this.Ra.x,-this.Ra.y)};f.Eo=function(){this.Oh=0;this.ue=new p(0,0);this.Nl=0};n.Gb(g,n.w.Ta.Wb);g.prototype.la=n.w.Ta.Wb.prototype;g.ni=function(){n.w.Ta.Wb.Wb.apply(this,arguments)};g.prototype.Db=function(){var a=new g;a.Q(this);return a};
g.prototype.Q=function(a){this.la.Q.call(this,a);if(n.is(a,g)){a=a instanceof g?a:null;this.Ei.N(a.Ei);this.Kb=a.Kb;this.Zn(this.Kb);for(var b=0;b<this.Kb;b++)this.$[b].N(a.$[b]),this.pc[b].N(a.pc[b])}};g.prototype.pt=function(a,b){void 0===b&&(b=0);for(var c=new aa,d=0,f,d=0;d<a.length;++d)f=a[d],c.push(f);this.px(c,b)};g.kF=function(a,b){void 0===b&&(b=0);var c=new g;c.pt(a,b);return c};g.prototype.px=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);a.gc(2<=c);this.Kb=c;this.Zn(c);for(var d=0,
d=0;d<this.Kb;d++)this.$[d].N(b[d]);for(d=0;d<this.Kb;++d){var f=parseInt(d),f=m.rc(this.$[parseInt(d+1<this.Kb?d+1:0)],this.$[f]);a.gc(f.Kq()>Number.MIN_VALUE);this.pc[d].N(m.Xi(f,1));this.pc[d].bb()}this.Ei=g.bB(this.$,this.Kb)};g.oF=function(a,b){void 0===b&&(b=0);var c=new g;c.px(a,b);return c};g.prototype.ox=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Kb=4;this.Zn(4);this.$[0].Q(-a,-b);this.$[1].Q(a,-b);this.$[2].Q(a,b);this.$[3].Q(-a,b);this.pc[0].Q(0,-1);this.pc[1].Q(1,0);this.pc[2].Q(0,
1);this.pc[3].Q(-1,0);this.Ei.La()};g.lF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new g;c.ox(a,b);return c};g.prototype.sB=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.Kb=4;this.Zn(4);this.$[0].Q(-a,-b);this.$[1].Q(a,-b);this.$[2].Q(a,b);this.$[3].Q(-a,b);this.pc[0].Q(0,-1);this.pc[1].Q(1,0);this.pc[2].Q(0,1);this.pc[3].Q(-1,0);this.Ei=c;a=new q;a.position=c;a.G.Q(d);for(c=0;c<this.Kb;++c)this.$[c]=m.Zc(a,this.$[c]),this.pc[c]=m.yd(a.G,
this.pc[c])};g.nF=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var f=new g;f.sB(a,b,c,d);return f};g.prototype.rB=function(a,b){this.Kb=2;this.Zn(2);this.$[0].N(a);this.$[1].N(b);this.Ei.x=.5*(a.x+b.x);this.Ei.y=.5*(a.y+b.y);this.pc[0]=m.Xi(m.rc(b,a),1);this.pc[0].bb();this.pc[1].x=-this.pc[0].x;this.pc[1].y=-this.pc[0].y};g.mF=function(a,b){var c=new g;c.rB(a,b);return c};g.prototype.Ll=function(a,b){for(var c=b.G,d=this.$[0],f=b.position.x+(c.j.x*
d.x+c.k.x*d.y),g=b.position.y+(c.j.y*d.x+c.k.y*d.y),k=f,h=g,m=1;m<this.Kb;++m)var d=this.$[m],p=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),f=f<p?f:p,g=g<d?g:d,k=k>p?k:p,h=h>d?h:d;a.lowerBound.x=f-this.Da;a.lowerBound.y=g-this.Da;a.upperBound.x=k+this.Da;a.upperBound.y=h+this.Da};g.prototype.Qn=function(a,b){void 0===b&&(b=0);if(2==this.Kb)a.ue.x=.5*(this.$[0].x+this.$[1].x),a.ue.y=.5*(this.$[0].y+this.$[1].y),a.Oh=0,a.Nl=0;else{for(var c=0,d=0,f=0,g=0,k=1/3,h=0;h<this.Kb;++h)var m=
this.$[h],p=h+1<this.Kb?this.$[parseInt(h+1)]:this.$[0],q=m.x-0,t=m.y-0,v=p.x-0,r=p.y-0,x=q*r-t*v,A=.5*x,f=f+A,c=c+A*k*(0+m.x+p.x),d=d+A*k*(0+m.y+p.y),m=q,g=g+x*(k*(.25*(m*m+v*m+v*v)+(0*m+0*v))+0+(k*(.25*(t*t+r*t+r*r)+(0*t+0*r))+0));a.Oh=b*f;a.ue.Q(1/f*c,1/f*d);a.Nl=b*g}};g.prototype.xq=function(a,b,c,d){void 0===b&&(b=0);var g=m.Zi(c.G,a),k=b-m.Od(a,c.position),h=new ba,q=0,t=-1;b=-1;var u=!1;for(a=a=0;a<this.Kb;++a){h[a]=m.Od(g,this.$[a])-k;var y=h[a]<-Number.MIN_VALUE;0<a&&(y?u||(t=a-1,q++):u&&
(b=a-1,q++));u=y}switch(q){case 0:return u?(a=new f,this.Qn(a,1),d.N(m.Zc(c,a.ue)),a.Oh):0;case 1:-1==t?t=this.Kb-1:b=this.Kb-1}a=parseInt((t+1)%this.Kb);g=parseInt((b+1)%this.Kb);k=(0-h[t])/(h[a]-h[t]);h=(0-h[b])/(h[g]-h[b]);t=new p(this.$[t].x*(1-k)+this.$[a].x*k,this.$[t].y*(1-k)+this.$[a].y*k);b=new p(this.$[b].x*(1-h)+this.$[g].x*h,this.$[b].y*(1-h)+this.$[g].y*h);h=0;k=new p;for(q=this.$[a];a!=g;)a=(a+1)%this.Kb,u=a==g?b:this.$[a],y=.5*((q.x-t.x)*(u.y-t.y)-(q.y-t.y)*(u.x-t.x)),h+=y,k.x+=y*(t.x+
q.x+u.x)/3,k.y+=y*(t.y+q.y+u.y)/3,q=u;k.ca(1/h);d.N(m.Zc(c,k));return h};g.prototype.it=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Kb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return b};g.prototype.Xn=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Kb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return this.$[b]};g.prototype.ni=function(){this.la.Wb.call(this);this.jb=h.oj;this.Ei=new p;this.$=new aa;this.pc=new aa};g.prototype.Zn=
function(a){void 0===a&&(a=0);for(var b=parseInt(this.$.length);b<a;b++)this.$[b]=new p,this.pc[b]=new p};g.bB=function(a,b){void 0===b&&(b=0);for(var c=new p,d=0,f=1/3,g=0;g<b;++g){var k=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],m=.5*((k.x-0)*(h.y-0)-(k.y-0)*(h.x-0)),d=d+m;c.x+=m*f*(0+k.x+h.x);c.y+=m*f*(0+k.y+h.y)}c.x*=1/d;c.y*=1/d;return c};g.qF=function(a,b,c){void 0===c&&(c=0);for(var d=0,f=new aa(c+1),d=0;d<c;++d)f[d]=b[d];f[c]=f[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=f[parseInt(d-1)],k=
f[d].x-g.x,h=f[d].y-g.y,m=Math.sqrt(k*k+h*h),k=k/m,h=h/m,p=-h,q=k,t=m=Number.MAX_VALUE,v=-Number.MAX_VALUE,r=-Number.MAX_VALUE,x=0;x<c;++x){var A=f[x].x-g.x,H=f[x].y-g.y,V=k*A+h*H,A=p*A+q*H;V<m&&(m=V);A<t&&(t=A);V>v&&(v=V);A>r&&(r=A)}x=(v-m)*(r-t);x<.95*b&&(b=x,a.G.j.x=k,a.G.j.y=h,a.G.k.x=p,a.G.k.y=q,k=.5*(m+v),h=.5*(t+r),p=a.G,a.ue.x=g.x+(p.j.x*k+p.k.x*h),a.ue.y=g.y+(p.j.y*k+p.k.y*h),a.tC.x=.5*(v-m),a.tC.y=.5*(r-t))}};n.Ac.push(function(){n.w.Ta.ni.fG=new k});h.Wb=function(){};h.prototype.Db=function(){return null};
h.prototype.Q=function(a){this.Da=a.Da};h.prototype.Eb=function(){return this.jb};h.prototype.Ll=function(){};h.prototype.Qn=function(){};h.prototype.xq=function(){return 0};h.cj=function(a,b,c,d){var f=new y;f.Th=new w;f.Th.Q(a);f.Uh=new w;f.Uh.Q(c);f.CA=b;f.DA=d;f.NA=!0;a=new K;a.count=0;b=new u;t.$s(b,a,f);return b.Ek<10*Number.MIN_VALUE};h.prototype.Wb=function(){this.jb=h.mC;this.Da=a.yb};n.Ac.push(function(){n.w.Ta.Wb.mC=-1;n.w.Ta.Wb.Hk=0;n.w.Ta.Wb.oj=1;n.w.Ta.Wb.zr=2;n.w.Ta.Wb.Br=3;n.w.Ta.Wb.QF=
1;n.w.Ta.Wb.SF=0;n.w.Ta.Wb.VF=-1})})();
(function(){var a=n.aa.Sl,b=n.aa.Mb,c=n.aa.Math.Gf;a.Sl=function(){this.Pq=this.Qq=this.Rq=0};a.prototype.Sl=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.Rq=n.tg(255*c.Cb(a,0,1));this.Qq=n.tg(255*c.Cb(b,0,1));this.Pq=n.tg(255*c.Cb(g,0,1))};a.prototype.Q=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.Rq=n.tg(255*c.Cb(a,0,1));this.Qq=n.tg(255*c.Cb(b,0,1));this.Pq=n.tg(255*c.Cb(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.Rq=n.tg(255*c.Cb(a,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Qq=n.tg(255*c.Cb(a,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Pq=n.tg(255*c.Cb(a,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.Rq<<16|this.Qq<<8|this.Pq}});b.Mb=function(){};b.MB=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};b.NB=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};b.gc=function(a){if(!a)throw"Assertion Failed";};n.Ac.push(function(){n.aa.Mb.VERSION="2.1alpha";n.aa.Mb.AF=65535;n.aa.Mb.Po=Math.PI;n.aa.Mb.hf=2;n.aa.Mb.ir=.1;n.aa.Mb.Kx=2;n.aa.Mb.HF=2*b.yb;n.aa.Mb.yb=.005;n.aa.Mb.zk=2/180*b.Po;n.aa.Mb.lr=8*b.yb;n.aa.Mb.TB=32;n.aa.Mb.UB=32;n.aa.Mb.ZB=1;n.aa.Mb.gf=.2;n.aa.Mb.jr=8/180*b.Po;n.aa.Mb.hm=2;n.aa.Mb.Ox=b.hm*b.hm;n.aa.Mb.gm=
.5*b.Po;n.aa.Mb.Nx=b.gm*b.gm;n.aa.Mb.au=.2;n.aa.Mb.VB=.5;n.aa.Mb.Mx=.01;n.aa.Mb.Lx=2/180*b.Po})})();
(function(){var a=n.aa.Math.mi,b=n.aa.Math.Zl,c=n.aa.Math.Gf,d=n.aa.Math.Mo,f=n.aa.Math.jj,g=n.aa.Math.gg,h=n.aa.Math.em;a.mi=function(){this.j=new g;this.k=new g};a.prototype.mi=function(){this.Nq()};a.Cq=function(b){void 0===b&&(b=0);var c=new a;c.Q(b);return c};a.Un=function(b,c){var d=new a;d.uB(b,c);return d};a.prototype.Q=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};a.prototype.uB=function(a,b){this.j.N(a);this.k.N(b)};a.prototype.Db=
function(){var b=new a;b.rk(this);return b};a.prototype.rk=function(a){this.j.N(a.j);this.k.N(a.k)};a.prototype.wq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};a.prototype.Nq=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};a.prototype.La=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};a.prototype.ga=function(){return Math.atan2(this.j.y,this.j.x)};a.prototype.gt=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,f=this.k.y,g=b*f-c*d;0!=g&&(g=1/g);a.j.x=
g*f;a.k.x=-g*c;a.j.y=-g*d;a.k.y=g*b};a.prototype.sk=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,w=d*h-f*g;0!=w&&(w=1/w);a.x=w*(h*b-f*c);a.y=w*(d*c-g*b);return a};a.prototype.hd=function(){this.j.hd();this.k.hd()};b.Zl=function(){this.j=new h;this.k=new h;this.Fa=new h};b.prototype.Zl=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.j.N(a),this.k.N(b),this.Fa.N(c)):(this.j.La(),this.k.La(),this.Fa.La())};
b.prototype.Db=function(){return new b(this.j,this.k,this.Fa)};b.prototype.rk=function(a){this.j.N(a.j);this.k.N(a.k);this.Fa.N(a.Fa)};b.prototype.wq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.Fa.x+=a.Fa.x;this.Fa.y+=a.Fa.y;this.Fa.z+=a.Fa.z};b.prototype.Nq=function(){this.j.x=1;this.k.x=0;this.Fa.x=0;this.j.y=0;this.k.y=1;this.Fa.y=0;this.j.z=0;this.k.z=0;this.Fa.z=1};b.prototype.La=function(){this.j.x=0;this.k.x=0;this.Fa.x=0;
this.j.y=0;this.k.y=0;this.Fa.y=0;this.j.z=0;this.k.z=0;this.Fa.z=0};b.prototype.Pl=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,w=d*h-f*g;0!=w&&(w=1/w);a.x=w*(h*b-f*c);a.y=w*(d*c-g*b);return a};b.prototype.co=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.j.x,g=this.j.y,h=this.j.z,w=this.k.x,K=this.k.y,L=this.k.z,da=this.Fa.x,U=this.Fa.y,B=this.Fa.z,W=f*(K*B-L*U)+g*(L*da-w*B)+h*(w*U-K*da);0!=W&&(W=1/W);a.x=
W*(b*(K*B-L*U)+c*(L*da-w*B)+d*(w*U-K*da));a.y=W*(f*(c*B-d*U)+g*(d*da-b*B)+h*(b*U-c*da));a.z=W*(f*(K*d-L*c)+g*(L*b-w*d)+h*(w*c-K*b));return a};c.Gf=function(){};c.Ol=function(a){void 0===a&&(a=0);return isFinite(a)};c.Od=function(a,b){return a.x*b.x+a.y*b.y};c.Ml=function(a,b){return a.x*b.y-a.y*b.x};c.Xi=function(a,b){void 0===b&&(b=0);return new g(b*a.y,-b*a.x)};c.Nw=function(a,b){void 0===a&&(a=0);return new g(-a*b.y,a*b.x)};c.yd=function(a,b){return new g(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};
c.Zi=function(a,b){return new g(c.Od(b,a.j),c.Od(b,a.k))};c.Zc=function(a,b){var d=c.yd(a.G,b);d.x+=a.position.x;d.y+=a.position.y;return d};c.oB=function(a,b){var d=c.rc(b,a.position),f=d.x*a.G.j.x+d.y*a.G.j.y;d.y=d.x*a.G.k.x+d.y*a.G.k.y;d.x=f;return d};c.Jw=function(a,b){return new g(a.x+b.x,a.y+b.y)};c.rc=function(a,b){return new g(a.x-b.x,a.y-b.y)};c.$s=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};c.rF=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};c.tF=function(a,b){void 0===
a&&(a=0);return new g(a*b.x,a*b.y)};c.jF=function(b,d){return a.Un(c.Jw(b.j,d.j),c.Jw(b.k,d.k))};c.uF=function(b,d){return a.Un(c.yd(b,d.j),c.yd(b,d.k))};c.vF=function(b,d){var f=new g(c.Od(b.j,d.j),c.Od(b.k,d.j)),h=new g(c.Od(b.j,d.k),c.Od(b.k,d.k));return a.Un(f,h)};c.hd=function(a){void 0===a&&(a=0);return 0<a?a:-a};c.Gw=function(a){return new g(c.hd(a.x),c.hd(a.y))};c.iF=function(b){return a.Un(c.Gw(b.j),c.Gw(b.k))};c.pk=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};c.fx=function(a,
b){return new g(c.pk(a.x,b.x),c.pk(a.y,b.y))};c.ce=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};c.ex=function(a,b){return new g(c.ce(a.x,b.x),c.ce(a.y,b.y))};c.Cb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};c.pF=function(a,b,d){return c.ex(b,c.fx(a,d))};c.xB=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};c.xF=function(){return 2*Math.random()-1};c.yF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return(b-a)*Math.random()+a};c.wF=
function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};c.sF=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};n.Ac.push(function(){n.aa.Math.Gf.OB=new g(0,0);n.aa.Math.Gf.LB=a.Un(new g(1,0),new g(0,1));n.aa.Math.Gf.DF=new f(c.OB,c.LB)});d.Mo=function(){this.W=new g;this.Dd=new g;this.o=new g};d.prototype.Q=function(a){this.W.N(a.W);this.Dd.N(a.Dd);this.o.N(a.o);this.dg=a.dg;this.R=a.R;this.vd=a.vd};d.prototype.Db=function(){var a=
new d;a.W.N(this.W);a.Dd.N(this.Dd);a.o.N(this.o);a.dg=this.dg;a.R=this.R;a.vd=this.vd;return a};d.prototype.af=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Dd.x+b*this.o.x;a.position.y=(1-b)*this.Dd.y+b*this.o.y;a.G.Q((1-b)*this.dg+b*this.R);var c=a.G;a.position.x-=c.j.x*this.W.x+c.k.x*this.W.y;a.position.y-=c.j.y*this.W.x+c.k.y*this.W.y};d.prototype.Wi=function(a){void 0===a&&(a=0);if(this.vd<a&&1-this.vd>Number.MIN_VALUE){var b=(a-this.vd)/(1-this.vd);this.Dd.x=(1-b)*this.Dd.x+b*this.o.x;
this.Dd.y=(1-b)*this.Dd.y+b*this.o.y;this.dg=(1-b)*this.dg+b*this.R;this.vd=a}};f.jj=function(){this.position=new g;this.G=new a};f.prototype.jj=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.N(a),this.G.rk(b))};f.prototype.kd=function(a,b){this.position.N(a);this.G.rk(b)};f.prototype.Nq=function(){this.position.La();this.G.Nq()};f.prototype.Q=function(a){this.position.N(a.position);this.G.rk(a.G)};f.prototype.ga=function(){return Math.atan2(this.G.j.y,this.G.j.x)};g.gg=
function(){};g.prototype.gg=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.La=function(){this.y=this.x=0};g.prototype.Q=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.N=function(a){this.x=a.x;this.y=a.y};g.prototype.Yi=function(){return new g(-this.x,-this.y)};g.prototype.hx=function(){this.x=-this.x;this.y=-this.y};g.nB=function(){var a=0,b=0;void 0===a&&(a=0);void 0===b&&(b=0);return new g(a,b)};g.prototype.Db=function(){return new g(this.x,
this.y)};g.prototype.Dg=function(a){this.x+=a.x;this.y+=a.y};g.prototype.eo=function(a){this.x-=a.x;this.y-=a.y};g.prototype.ca=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};g.prototype.Xi=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};g.prototype.Nw=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};g.prototype.fx=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};g.prototype.ex=function(a){this.x=this.x>a.x?this.x:a.x;this.y=
this.y>a.y?this.y:a.y};g.prototype.hd=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.bg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.Kq=function(){return this.x*this.x+this.y*this.y};g.prototype.bb=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};g.prototype.Ol=function(){return c.Ol(this.x)&&c.Ol(this.y)};h.em=function(){};h.prototype.em=function(a,b,c){void 0===a&&
(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.La=function(){this.x=this.y=this.z=0};h.prototype.Q=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.N=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.Yi=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.hx=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.Db=function(){return new h(this.x,this.y,this.z)};h.prototype.Dg=
function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};h.prototype.eo=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};h.prototype.ca=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var a=n.aa.Math.Gf,b=n.aa.Math.Mo,c=n.aa.Math.jj,d=n.aa.Math.gg,f=n.aa.Sl,g=n.aa.Mb,h=n.w.oo,k=n.w.ar,m=n.w.er,q=n.w.Ta.Eo,p=n.l.fe,t=n.l.Rl,y=n.l.$q,u=n.l.Ht,w=n.l.ro,K=n.l.Vl,L=n.l.He,da=n.l.Lt,U=n.l.Pt,B=n.l.Wl,W=n.l.Xl,ia=n.l.Yl,X=n.l.hr,C=n.l.Je,$=n.l.ka.Xa,Ca=n.l.ka.Tl,pa=n.l.ka.ij,Da=n.l.M.ja;p.fe=function(){this.g=new c;this.h=new b;this.p=new d;this.Mj=new d};p.prototype.yq=function(a){if(1==this.rd.Hq())return null;var b=new B;b.Ge(this,this.g,a);this.P&p.xr&&b.Sn(this.rd.Pe.Wm,
this.g);b.Ha=this.Hc;this.Hc=b;++this.Bz;b.dc=this;0<b.Ep&&this.cg();this.rd.P|=C.zu;return b};p.prototype.ux=function(a,b){void 0===b&&(b=0);var c;if(1!=this.rd.Hq()){this.g.G.Q(b);this.g.position.N(a);c=this.g.G;var d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Dd.N(this.h.o);this.h.dg=this.h.R=b;d=this.rd.Pe.Wm;for(c=this.Hc;c;c=c.Ha)c.vx(d,this.g,this.g);this.rd.Pe.Bq()}};p.prototype.af=function(){return this.g};
p.prototype.aj=function(a){this.ux(a,this.ga())};p.prototype.ga=function(){return this.h.R};p.prototype.rb=function(a){void 0===a&&(a=0);this.ux(this.g.position,a)};p.prototype.$n=function(a){this.jb!=p.jf&&this.p.N(a)};p.prototype.mk=function(a,b){this.jb==p.Bd&&(0==this.ld()&&this.Qd(!0),this.Mj.x+=a.x,this.Mj.y+=a.y,this.dn+=(b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x)};p.prototype.WA=function(a){void 0===a&&(a=0);this.jb==p.Bd&&(0==this.ld()&&this.Qd(!0),this.dn+=a)};p.prototype.ha=function(a,b){this.jb==
p.Bd&&(0==this.ld()&&this.Qd(!0),this.p.x+=this.T*a.x,this.p.y+=this.T*a.y,this.I+=this.fa*((b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x))};p.prototype.Yw=function(a){a.Oh=this.Z;a.Nl=this.Nf;a.ue.N(this.h.W)};p.prototype.cg=function(){this.fa=this.Nf=this.T=this.Z=0;this.h.W.La();if(this.jb!=p.jf&&this.jb!=p.SB){for(var b=d.nB(),c=this.Hc;c;c=c.Ha)if(0!=c.Ep){var f=c.Yw();this.Z+=f.Oh;b.x+=f.ue.x*f.Oh;b.y+=f.ue.y*f.Oh;this.Nf+=f.Nl}0<this.Z?(this.T=1/this.Z,b.x*=this.T,b.y*=this.T):this.T=this.Z=1;
0<this.Nf&&0==(this.P&p.uy)?(this.Nf-=this.Z*(b.x*b.x+b.y*b.y),this.Nf*=this.eD,g.gc(0<this.Nf),this.fa=1/this.Nf):this.fa=this.Nf=0;c=this.h.o.Db();this.h.W.N(b);this.h.Dd.N(a.Zc(this.g,this.h.W));this.h.o.N(this.h.Dd);this.p.x+=this.I*-(this.h.o.y-c.y);this.p.y+=this.I*+(this.h.o.x-c.x)}};p.prototype.ag=function(a){var b=this.g.G;a=new d(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.g.position.x;a.y+=this.g.position.y;return a};p.prototype.jt=function(b){return a.yd(this.g.G,b)};p.prototype.$e=
function(b){return a.oB(this.g,b)};p.prototype.ht=function(b){return a.Zi(this.g.G,b)};p.prototype.hB=function(a){return new d(this.p.x-this.I*(a.y-this.h.o.y),this.p.y+this.I*(a.x-this.h.o.x))};p.prototype.re=function(a){void 0===a&&(a=0);this.Fz=a};p.prototype.Eb=function(){return this.jb};p.prototype.qx=function(){this.P|=p.yr};p.prototype.Eq=function(){return(this.P&p.yr)==p.yr};p.prototype.Qd=function(a){a?(this.P|=p.cp,this.il=0):(this.P&=~p.cp,this.il=0,this.p.La(),this.I=0,this.Mj.La(),this.dn=
0)};p.prototype.ld=function(){return(this.P&p.cp)==p.cp};p.prototype.nk=function(){return(this.P&p.xr)==p.xr};p.prototype.Ef=function(){return this.Ji};p.prototype.ao=function(a){this.Ji=a};p.prototype.fe=function(a,b){this.P=0;a.cC&&(this.P|=p.yr);a.Ku&&(this.P|=p.uy);a.EB&&(this.P|=p.vu);a.KB&&(this.P|=p.cp);a.$c&&(this.P|=p.xr);this.rd=b;this.g.position.N(a.position);this.g.G.Q(a.Ax);this.h.W.La();this.h.vd=1;this.h.dg=this.h.R=a.Ax;var c=this.g.G,d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=
c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Dd.N(this.h.o);this.Pb=this.Jj=this.Yc=null;this.lv=0;this.Ha=this.qd=null;this.p.N(a.qz);this.I=a.HB;this.Fz=a.Wr;this.WC=a.Bx;this.Mj.Q(0,0);this.il=this.dn=0;this.jb=a.type;this.T=this.jb==p.Bd?this.Z=1:this.Z=0;this.fa=this.Nf=0;this.eD=a.LC;this.Ji=a.jk;this.Hc=null;this.Bz=0};p.prototype.wx=function(){var a=p.nE;a.G.Q(this.h.dg);var b=a.G,c=this.h.W;a.position.x=this.h.Dd.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=
this.h.Dd.y-(b.j.y*c.x+b.k.y*c.y);c=this.rd.Pe.Wm;for(b=this.Hc;b;b=b.Ha)b.vx(c,a,this.g)};p.prototype.sc=function(){this.g.G.Q(this.h.R);var a=this.g.G,b=this.h.W;this.g.position.x=this.h.o.x-(a.j.x*b.x+a.k.x*b.y);this.g.position.y=this.h.o.y-(a.j.y*b.x+a.k.y*b.y)};p.prototype.bo=function(a){if(this.jb!=p.Bd&&a.jb!=p.Bd)return!1;for(var b=this.Yc;b;b=b.next)if(b.Sf==a&&0==b.Ai.xz)return!1;return!0};p.prototype.Wi=function(a){void 0===a&&(a=0);this.h.Wi(a);this.h.o.N(this.h.Dd);this.h.R=this.h.dg;
this.sc()};n.Ac.push(function(){n.l.fe.nE=new c;n.l.fe.Oc=1;n.l.fe.cp=2;n.l.fe.vu=4;n.l.fe.yr=8;n.l.fe.uy=16;n.l.fe.xr=32;n.l.fe.jf=0;n.l.fe.SB=1;n.l.fe.Bd=2});t.Rl=function(){this.position=new d;this.qz=new d};t.prototype.Rl=function(){this.jk=null;this.position.Q(0,0);this.Ax=0;this.qz.Q(0,0);this.Bx=this.Wr=this.HB=0;this.KB=this.EB=!0;this.cC=this.Ku=!1;this.type=p.jf;this.$c=!0;this.LC=1};y.$q=function(){};y.prototype.bo=function(a,b){var c=a.Xw(),d=b.Xw();return c.Tk==d.Tk&&0!=c.Tk?0<c.Tk:0!=
(c.yf&d.lf)&&0!=(c.lf&d.yf)};n.Ac.push(function(){n.l.$q.PB=new y});u.Ht=function(){this.AD=new ba(g.hf);this.SE=new ba(g.hf)};w.ro=function(){};w.prototype.Ws=function(){};w.prototype.at=function(){};w.prototype.nt=function(){};n.Ac.push(function(){n.l.ro.QB=new w});K.Vl=function(){};K.prototype.Vl=function(){this.rd=null;this.og=0;this.zz=y.PB;this.Ym=w.QB;this.yz=new Ca(this.Ij);this.Wm=new m};K.prototype.VA=function(a,b){var c=a instanceof B?a:null,d=b instanceof B?b:null,f=c.dc,g=d.dc;if(f!=
g){for(var h=g.Pb;h;){if(h.Sf==f){var M=h.Cc.nc,k=h.Cc.oc;if(M==c&&k==d||M==d&&k==c)return}h=h.next}0!=g.bo(f)&&0!=this.zz.bo(c,d)&&(h=this.yz.Ge(c,d),c=h.nc,d=h.oc,f=c.dc,g=d.dc,h.qd=null,h.Ha=this.rd.Pb,null!=this.rd.Pb&&(this.rd.Pb.qd=h),this.rd.Pb=h,h.Wd.Cc=h,h.Wd.Sf=g,h.Wd.ic=null,h.Wd.next=f.Pb,null!=f.Pb&&(f.Pb.ic=h.Wd),f.Pb=h.Wd,h.Xd.Cc=h,h.Xd.Sf=f,h.Xd.ic=null,h.Xd.next=g.Pb,null!=g.Pb&&(g.Pb.ic=h.Xd),g.Pb=h.Xd,++this.rd.og)}};K.prototype.Bq=function(){this.Wm.BB(n.AC(this,this.VA))};K.prototype.jd=
function(a){var b=a.nc,c=a.oc,b=b.dc,c=c.dc;a.Iq()&&this.Ym.at(a);a.qd&&(a.qd.Ha=a.Ha);a.Ha&&(a.Ha.qd=a.qd);a==this.rd.Pb&&(this.rd.Pb=a.Ha);a.Wd.ic&&(a.Wd.ic.next=a.Wd.next);a.Wd.next&&(a.Wd.next.ic=a.Wd.ic);a.Wd==b.Pb&&(b.Pb=a.Wd.next);a.Xd.ic&&(a.Xd.ic.next=a.Xd.next);a.Xd.next&&(a.Xd.next.ic=a.Xd.ic);a.Xd==c.Pb&&(c.Pb=a.Xd.next);this.yz.jd(a);--this.og};K.prototype.XA=function(){for(var a=this.rd.Pb;a;){var b=a.nc,c=a.oc,d=b.dc,f=c.dc;if(0==d.ld()&&0==f.ld())a=a.Ha;else{if(a.P&$.xu){if(0==f.bo(d)){b=
a;a=b.Ha;this.jd(b);continue}if(0==this.zz.bo(b,c)){b=a;a=b.Ha;this.jd(b);continue}a.P&=~$.xu}0==this.Wm.cj(b.fl,c.fl)?(b=a,a=b.Ha,this.jd(b)):(a.xx(this.Ym),a=a.Ha)}}};n.Ac.push(function(){n.l.Vl.dG=new k});L.He=function(){};L.prototype.He=function(){};n.Ac.push(function(){n.l.He.UF=1;n.l.He.RF=2;n.l.He.NF=4;n.l.He.TF=8;n.l.He.OF=16;n.l.He.PF=32});da.Lt=function(){};U.Pt=function(){this.lf=1;this.yf=65535;this.Tk=0};U.prototype.Db=function(){var a=new U;a.lf=this.lf;a.yf=this.yf;a.Tk=this.Tk;return a};
B.Wl=function(){this.Az=new U};B.prototype.Eb=function(){return this.$a.Eb()};B.prototype.ok=function(){return this.fD};B.prototype.Xw=function(){return this.Az.Db()};B.prototype.Ef=function(){return this.Ji};B.prototype.ao=function(a){this.Ji=a};B.prototype.Yw=function(a){void 0===a&&(a=null);null==a&&(a=new q);this.$a.Qn(a,this.Ep);return a};B.prototype.sx=function(a){void 0===a&&(a=0);this.Ep=a};B.prototype.Wl=function(){this.Vm=new h;this.$a=this.Ha=this.dc=this.Ji=null;this.uv=this.nv=this.Ep=
0};B.prototype.Ge=function(a,b,c){this.Ji=c.jk;this.nv=c.Pm;this.uv=c.rn;this.dc=a;this.Ha=null;this.Az=c.filter.Db();this.fD=c.PC;this.$a=c.shape.Db();this.Ep=c.sb};B.prototype.jd=function(){this.$a=null};B.prototype.Sn=function(a,b){this.$a.Ll(this.Vm,b);this.fl=a.Sn(this.Vm,this)};B.prototype.Tn=function(a){null!=this.fl&&(a.Tn(this.fl),this.fl=null)};B.prototype.vx=function(b,c,d){if(this.fl){var f=new h,g=new h;this.$a.Ll(f,c);this.$a.Ll(g,d);this.Vm.Kl(f,g);c=a.rc(d.position,c.position);b.mt(this.fl,
this.Vm,c)}};W.Xl=function(){this.filter=new U};W.prototype.Xl=function(){this.jk=this.shape=null;this.Pm=.2;this.sb=this.rn=0;this.filter.lf=1;this.filter.yf=65535;this.filter.Tk=0;this.PC=!1};ia.Yl=function(){};ia.prototype.Yl=function(){this.Gh=new aa;this.Zm=new aa;this.Vg=new aa};ia.prototype.kd=function(a,b,c,d,f,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var h=0;this.XC=b;this.gD=c;this.Qe=this.og=this.Vd=0;this.Ij=d;this.hD=f;this.al=g;for(h=this.Gh.length;h<a;h++)this.Gh[h]=
null;for(h=this.Zm.length;h<b;h++)this.Zm[h]=null;for(h=this.Vg.length;h<c;h++)this.Vg[h]=null};ia.prototype.Xs=function(){this.Qe=this.og=this.Vd=0};ia.prototype.sk=function(b,c,d){for(var f=0,h=0,V,f=0;f<this.Vd;++f)h=this.Gh[f],h.Eb()==p.Bd&&(h.p.x+=b.Ua*(c.x+h.T*h.Mj.x),h.p.y+=b.Ua*(c.y+h.T*h.Mj.y),h.I+=b.Ua*h.fa*h.dn,h.p.ca(a.Cb(1-b.Ua*h.Fz,0,1)),h.I*=a.Cb(1-b.Ua*h.WC,0,1));this.al.kd(b,this.Zm,this.og,this.Ij);c=this.al;c.Ff(b);for(f=0;f<this.Qe;++f)V=this.Vg[f],V.Ff(b);for(f=0;f<b.In;++f){for(h=
0;h<this.Qe;++h)V=this.Vg[h],V.cf(b);c.cf()}for(f=0;f<this.Qe;++f)V=this.Vg[f],V.dt();c.dt();for(f=0;f<this.Vd;++f)if(h=this.Gh[f],h.Eb()!=p.jf){var F=b.Ua*h.p.x,M=b.Ua*h.p.y;F*F+M*M>g.Ox&&(h.p.bb(),h.p.x=h.p.x*g.hm*b.mg,h.p.y=h.p.y*g.hm*b.mg);F=b.Ua*h.I;F*F>g.Nx&&(h.I=0>h.I?-g.gm*b.mg:g.gm*b.mg);h.h.Dd.N(h.h.o);h.h.dg=h.h.R;h.h.o.x+=b.Ua*h.p.x;h.h.o.y+=b.Ua*h.p.y;h.h.R+=b.Ua*h.I;h.sc()}for(f=0;f<b.ln;++f){F=c.bf(g.au);M=!0;for(h=0;h<this.Qe;++h)V=this.Vg[h],V=V.bf(g.au),M=M&&V;if(F&&M)break}this.mx(c.Hh);
if(d){d=Number.MAX_VALUE;c=g.Mx*g.Mx;F=g.Lx*g.Lx;for(f=0;f<this.Vd;++f)h=this.Gh[f],h.Eb()!=p.jf&&(0==(h.P&p.vu)&&(d=h.il=0),0==(h.P&p.vu)||h.I*h.I>F||a.Od(h.p,h.p)>c?d=h.il=0:(h.il+=b.Ua,d=a.pk(d,h.il)));if(d>=g.VB)for(f=0;f<this.Vd;++f)h=this.Gh[f],h.Qd(!1)}};ia.prototype.qt=function(a){var b=0,c=0;this.al.kd(a,this.Zm,this.og,this.Ij);for(var d=this.al,b=0;b<this.Qe;++b)this.Vg[b].Ff(a);for(b=0;b<a.In;++b)for(d.cf(),c=0;c<this.Qe;++c)this.Vg[c].cf(a);for(b=0;b<this.Vd;++b)if(c=this.Gh[b],c.Eb()!=
p.jf){var f=a.Ua*c.p.x,h=a.Ua*c.p.y;f*f+h*h>g.Ox&&(c.p.bb(),c.p.x=c.p.x*g.hm*a.mg,c.p.y=c.p.y*g.hm*a.mg);f=a.Ua*c.I;f*f>g.Nx&&(c.I=0>c.I?-g.gm*a.mg:g.gm*a.mg);c.h.Dd.N(c.h.o);c.h.dg=c.h.R;c.h.o.x+=a.Ua*c.p.x;c.h.o.y+=a.Ua*c.p.y;c.h.R+=a.Ua*c.I;c.sc()}for(b=0;b<a.ln;++b){f=d.bf(.75);h=!0;for(c=0;c<this.Qe;++c)var F=this.Vg[c].bf(g.au),h=h&&F;if(f&&h)break}this.mx(d.Hh)};ia.prototype.mx=function(a){if(null!=this.hD)for(var b=0;b<this.og;++b)for(var c=a[b],d=0;d<c.Bf;++d)ia.fA.AD[d]=c.pe[d].dd,ia.fA.SE[d]=
c.pe[d].di};ia.prototype.Vs=function(a){a.$F=this.Vd;this.Gh[this.Vd++]=a};ia.prototype.Hw=function(a){this.Zm[this.og++]=a};ia.prototype.Iw=function(a){this.Vg[this.Qe++]=a};n.Ac.push(function(){n.l.Yl.fA=new u});X.hr=function(){};X.prototype.Q=function(a){this.Ua=a.Ua;this.mg=a.mg;this.ln=a.ln;this.In=a.In;this.Cg=a.Cg};C.Je=function(){this.gE=new aa;this.Pe=new K;this.al=new pa;this.Ez=new ia};C.prototype.Je=function(a,b){this.Jj=this.Yc=this.Pb=this.Gc=null;this.lv=this.Qe=this.og=this.Vd=0;C.nD=
!0;C.YC=!0;this.VC=b;this.Cz=a;this.Dz=0;this.Pe.rd=this;this.dD=this.Rn(new t)};C.prototype.rx=function(a){this.Pe.Ym=a};C.prototype.Rn=function(a){if(1==this.Hq())return null;a=new p(a,this);a.qd=null;if(a.Ha=this.Gc)this.Gc.qd=a;this.Gc=a;++this.Vd;return a};C.prototype.Pw=function(a){if(1!=this.Hq()){for(var b=a.Yc;b;){var c=b,b=b.next;this.Qw(c.Ai)}for(b=a.Jj;b;)c=b,b=b.Ni,c.hy.kx(a);for(b=a.Pb;b;)c=b,b=b.next,this.Pe.jd(c.Cc);a.Pb=null;for(b=a.Hc;b;)c=b,b=b.Ha,c.Tn(this.Pe.Wm),c.jd();a.Hc=null;
a.Bz=0;a.qd&&(a.qd.Ha=a.Ha);a.Ha&&(a.Ha.qd=a.qd);a==this.Gc&&(this.Gc=a.Ha);--this.Vd}};C.prototype.dB=function(a){var b=Da.Ge(a,null);b.qd=null;if(b.Ha=this.Yc)this.Yc.qd=b;this.Yc=b;++this.Qe;b.Ae.Ai=b;b.Ae.Sf=b.Qa;b.Ae.ic=null;if(b.Ae.next=b.Ga.Yc)b.Ga.Yc.ic=b.Ae;b.Ga.Yc=b.Ae;b.Be.Ai=b;b.Be.Sf=b.Ga;b.Be.ic=null;if(b.Be.next=b.Qa.Yc)b.Qa.Yc.ic=b.Be;b.Qa.Yc=b.Be;var c=a.kb,d=a.ub;if(0==a.qr)for(a=d.Pb;a;)a.Sf==c&&a.Cc.Uw(),a=a.next;return b};C.prototype.Qw=function(a){var b=a.xz;a.qd&&(a.qd.Ha=a.Ha);
a.Ha&&(a.Ha.qd=a.qd);a==this.Yc&&(this.Yc=a.Ha);var c=a.Ga,d=a.Qa;c.Qd(!0);d.Qd(!0);a.Ae.ic&&(a.Ae.ic.next=a.Ae.next);a.Ae.next&&(a.Ae.next.ic=a.Ae.ic);a.Ae==c.Yc&&(c.Yc=a.Ae.next);a.Ae.ic=null;a.Ae.next=null;a.Be.ic&&(a.Be.ic.next=a.Be.next);a.Be.next&&(a.Be.next.ic=a.Be.ic);a.Be==d.Yc&&(d.Yc=a.Be.next);a.Be.ic=null;a.Be.next=null;Da.jd(a,null);--this.Qe;if(0==b)for(a=d.Pb;a;)a.Sf==c&&a.Cc.Uw(),a=a.next};C.prototype.bj=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.P&
C.zu&&(this.Pe.Bq(),this.P&=~C.zu);this.P|=C.yu;var d=C.kE;d.Ua=a;d.In=b;d.ln=c;d.mg=0<a?1/a:0;d.Dc=this.Dz*a;d.Cg=C.nD;this.Pe.XA();0<d.Ua&&this.sk(d);C.YC&&0<d.Ua&&this.qt(d);0<d.Ua&&(this.Dz=d.mg);this.P&=~C.yu};C.prototype.Hq=function(){return 0<(this.P&C.yu)};C.prototype.sk=function(a){for(var b,c=this.Jj;c;c=c.Ha)c.bj(a);c=this.Ez;c.kd(this.Vd,this.og,this.Qe,null,this.Pe.Ym,this.al);for(b=this.Gc;b;b=b.Ha)b.P&=~p.Oc;for(var d=this.Pb;d;d=d.Ha)d.P&=~$.Oc;for(d=this.Yc;d;d=d.Ha)d.bl=!1;parseInt(this.Vd);
for(var d=this.gE,f=this.Gc;f;f=f.Ha)if(!(f.P&p.Oc)&&0!=f.ld()&&0!=f.nk()&&f.Eb()!=p.jf){c.Xs();var g=0;d[g++]=f;for(f.P|=p.Oc;0<g;)if(b=d[--g],c.Vs(b),0==b.ld()&&b.Qd(!0),b.Eb()!=p.jf){for(var h,M=b.Pb;M;M=M.next)M.Cc.P&$.Oc||1==M.Cc.ok()||0==M.Cc.Fq()||0==M.Cc.Iq()||(c.Hw(M.Cc),M.Cc.P|=$.Oc,h=M.Sf,h.P&p.Oc||(d[g++]=h,h.P|=p.Oc));for(b=b.Yc;b;b=b.next)1!=b.Ai.bl&&(h=b.Sf,0!=h.nk()&&(c.Iw(b.Ai),b.Ai.bl=!0,h.P&p.Oc||(d[g++]=h,h.P|=p.Oc)))}c.sk(a,this.Cz,this.VC);for(g=0;g<c.Vd;++g)b=c.Gh[g],b.Eb()==
p.jf&&(b.P&=~p.Oc)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(b=this.Gc;b;b=b.Ha)0==b.ld()||0==b.nk()||b.Eb()!=p.jf&&b.wx();this.Pe.Bq()};C.prototype.qt=function(a){var b,c,d,f=this.Ez;f.kd(this.Vd,g.TB,g.UB,null,this.Pe.Ym,this.al);var h=C.cE;for(b=this.Gc;b;b=b.Ha)b.P&=~p.Oc,b.h.vd=0;for(d=this.Pb;d;d=d.Ha)d.P&=~($.Em|$.Oc);for(d=this.Yc;d;d=d.Ha)d.bl=!1;for(;;){var F=null,M=1;for(d=this.Pb;d;d=d.Ha)if(1!=d.ok()&&0!=d.Fq()&&0!=d.mB()){if(d.P&$.Em)b=d.mD;else{b=d.nc;c=d.oc;b=b.dc;c=c.dc;if(!(b.Eb()==
p.Bd&&0!=b.ld()||c.Eb()==p.Bd&&0!=c.ld()))continue;var k=b.h.vd;b.h.vd<c.h.vd?(k=c.h.vd,b.h.Wi(k)):c.h.vd<b.h.vd&&(k=b.h.vd,c.h.Wi(k));b=d.cB(b.h,c.h);g.gc(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*k+b,1<b&&(b=1));d.mD=b;d.P|=$.Em}Number.MIN_VALUE<b&&b<M&&(F=d,M=b)}if(null==F||1-100*Number.MIN_VALUE<M)break;b=F.nc;c=F.oc;b=b.dc;c=c.dc;C.cA.Q(b.h);C.dA.Q(c.h);b.Wi(M);c.Wi(M);F.xx(this.Pe.Ym);F.P&=~$.Em;if(1==F.ok()||0==F.Fq())b.h.Q(C.cA),c.h.Q(C.dA),b.sc(),c.sc();else if(0!=F.Iq()){b.Eb()!=p.Bd&&(b=c);f.Xs();
F=d=0;h[d+F++]=b;for(b.P|=p.Oc;0<F;)if(b=h[d++],--F,f.Vs(b),0==b.ld()&&b.Qd(!0),b.Eb()==p.Bd){for(c=b.Pb;c&&f.og!=f.XC;c=c.next)c.Cc.P&$.Oc||1==c.Cc.ok()||0==c.Cc.Fq()||0==c.Cc.Iq()||(f.Hw(c.Cc),c.Cc.P|=$.Oc,k=c.Sf,k.P&p.Oc||(k.Eb()!=p.jf&&(k.Wi(M),k.Qd(!0)),h[d+F]=k,++F,k.P|=p.Oc));for(b=b.Yc;b;b=b.next)f.Qe!=f.gD&&1!=b.Ai.bl&&(k=b.Sf,0!=k.nk()&&(f.Iw(b.Ai),b.Ai.bl=!0,k.P&p.Oc||(k.Eb()!=p.jf&&(k.Wi(M),k.Qd(!0)),h[d+F]=k,++F,k.P|=p.Oc)))}d=C.jE;d.Cg=!1;d.Ua=(1-M)*a.Ua;d.mg=1/d.Ua;d.Dc=0;d.In=a.In;
d.ln=a.ln;f.qt(d);for(M=M=0;M<f.Vd;++M)if(b=f.Gh[M],b.P&=~p.Oc,0!=b.ld()&&b.Eb()==p.Bd)for(b.wx(),c=b.Pb;c;c=c.next)c.Cc.P&=~$.Em;for(M=0;M<f.og;++M)d=f.Zm[M],d.P&=~($.Em|$.Oc);for(M=0;M<f.Qe;++M)d=f.Vg[M],d.bl=!1;this.Pe.Bq()}}};n.Ac.push(function(){n.l.Je.kE=new X;n.l.Je.gG=new c;n.l.Je.cA=new b;n.l.Je.dA=new b;n.l.Je.jE=new X;n.l.Je.cE=new aa;n.l.Je.eG=new f(.5,.8,.8);n.l.Je.zu=1;n.l.Je.yu=2})})();
(function(){var a=n.w.Ta.hj,b=n.w.Ta.ni,c=n.w.Ta.Wb,d=n.l.ka.Ct,f=n.l.ka.Xa,g=n.l.ka.qo,h=n.l.ka.Ft,k=n.l.ka.Gt,m=n.l.ka.Tl,q=n.l.ka.It,p=n.l.ka.Jt,t=n.l.ka.ij,y=n.l.ka.Ot,u=n.l.ka.Go,w=n.l.ka.Ut,K=n.l.ka.Vt,L=n.l.ka.Wt,da=n.l.ka.yk,U=n.l.fe,B=n.l.hr,W=n.aa.Mb,ia=n.aa.Math.mi,X=n.aa.Math.Gf,C=n.aa.Math.gg,$=n.w.Ad,Ca=n.w.Ul,pa=n.w.li,Da=n.w.Ie,v=n.w.gr,r=n.w.fm;n.Gb(d,n.l.ka.Xa);d.prototype.la=n.l.ka.Xa.prototype;d.Ct=function(){n.l.ka.Xa.Xa.apply(this,arguments)};d.Ge=function(){return new d};d.jd=
function(){};d.prototype.de=function(a,b){this.la.de.call(this,a,b)};d.prototype.Eg=function(){$.YA(this.Qf,this.nc.$a instanceof a?this.nc.$a:null,this.nc.dc.g,this.oc.$a instanceof a?this.oc.$a:null,this.oc.dc.g)};f.Xa=function(){this.Wd=new k;this.Xd=new k;this.Qf=new pa;this.Lp=new pa};f.prototype.Iq=function(){return(this.P&f.Fm)==f.Fm};f.prototype.mB=function(){return(this.P&f.dp)==f.dp};f.prototype.ok=function(){return(this.P&f.fp)==f.fp};f.prototype.tB=function(){this.P&=~f.ep};f.prototype.Fq=
function(){return(this.P&f.ep)==f.ep};f.prototype.Uw=function(){this.P|=f.xu};f.prototype.Xa=function(){};f.prototype.de=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.P=f.ep;if(a&&b){if(a.ok()||b.ok())this.P|=f.fp;var c=a.dc,d=b.dc;if(c.Eb()!=U.Bd||c.Eq()||d.Eb()!=U.Bd||d.Eq())this.P|=f.dp;this.nc=a;this.oc=b;this.Qf.Ic=0;this.Ha=this.qd=null;this.Wd.Cc=null;this.Wd.ic=null;this.Wd.next=null;this.Wd.Sf=null;this.Xd.Cc=null;this.Xd.ic=null;this.Xd.next=null;this.Xd.Sf=null}else this.oc=
this.nc=null};f.prototype.xx=function(a){var b=this.Lp;this.Lp=this.Qf;this.Qf=b;this.P|=f.ep;var d=!1,b=(this.P&f.Fm)==f.Fm,g=this.nc.dc,h=this.oc.dc,r=this.nc.Vm.cj(this.oc.Vm);if(this.P&f.fp)r&&(d=this.nc.$a,r=this.oc.$a,g=g.af(),h=h.af(),d=c.cj(d,g,r,h)),this.Qf.Ic=0;else{this.P=g.Eb()!=U.Bd||g.Eq()||h.Eb()!=U.Bd||h.Eq()?this.P|f.dp:this.P&~f.dp;if(r)for(this.Eg(),d=0<this.Qf.Ic,r=0;r<this.Qf.Ic;++r){var v=this.Qf.gb[r];v.dl=0;v.jl=0;for(var k=v.Hi,m=0;m<this.Lp.Ic;++m){var p=this.Lp.gb[m];if(p.Hi.key==
k.key){v.dl=p.dl;v.jl=p.jl;break}}}else this.Qf.Ic=0;d!=b&&(g.Qd(!0),h.Qd(!0))}this.P=d?this.P|f.Fm:this.P&~f.Fm;0==b&&1==d&&a.Ws(this);1==b&&0==d&&a.at(this);0==(this.P&f.fp)&&a.nt(this,this.Lp)};f.prototype.Eg=function(){};f.prototype.cB=function(a,b){f.un.Th.Q(this.nc.$a);f.un.Uh.Q(this.oc.$a);f.un.yA=a;f.un.zA=b;f.un.XE=W.yb;return Da.zB(f.un)};n.Ac.push(function(){n.l.ka.Xa.fp=1;n.l.ka.Xa.dp=2;n.l.ka.Xa.Oc=4;n.l.ka.Xa.Em=8;n.l.ka.Xa.Fm=16;n.l.ka.Xa.ep=32;n.l.ka.Xa.xu=64;n.l.ka.Xa.un=new v});
g.qo=function(){this.Zr=new C;this.Fh=new C;this.Rf=new C;this.gn=new ia;this.xd=new ia};g.prototype.qo=function(){this.pe=new aa(W.hf);for(var a=0;a<W.hf;a++)this.pe[a]=new h};h.Ft=function(){this.Fh=new C;this.ob=new C;this.pb=new C};k.Gt=function(){};m.Tl=function(){};m.prototype.Tl=function(a){this.Ij=a;this.lB()};m.prototype.Pn=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Mh[c][d].iy=a;this.Mh[c][d].my=b;this.Mh[c][d].Vz=!0;c!=d&&(this.Mh[d][c].iy=a,this.Mh[d][c].my=b,this.Mh[d][c].Vz=
!1)};m.prototype.lB=function(){this.Mh=new aa(c.Br);for(var a=0;a<c.Br;a++){this.Mh[a]=new aa(c.Br);for(var b=0;b<c.Br;b++)this.Mh[a][b]=new q}this.Pn(d.Ge,d.jd,c.Hk,c.Hk);this.Pn(w.Ge,w.jd,c.oj,c.Hk);this.Pn(L.Ge,L.jd,c.oj,c.oj);this.Pn(y.Ge,y.jd,c.zr,c.Hk);this.Pn(K.Ge,K.jd,c.oj,c.zr)};m.prototype.Ge=function(a,b){var c=parseInt(a.Eb()),d=parseInt(b.Eb()),c=this.Mh[c][d];if(c.ns)return d=c.ns,c.ns=d.Ha,c.MD--,d.de(a,b),d;d=c.iy;return null!=d?(c.Vz?(d=d(this.Ij),d.de(a,b)):(d=d(this.Ij),d.de(b,
a)),d):null};m.prototype.jd=function(a){0<a.Qf.Ic&&(a.nc.dc.Qd(!0),a.oc.dc.Qd(!0));var b=parseInt(a.nc.Eb()),b=this.Mh[b][parseInt(a.oc.Eb())];b.MD++;a.Ha=b.ns;b.ns=a;b=b.my;b(a,this.Ij)};q.It=function(){};p.Jt=function(){this.position=new C;this.Rf=new C;this.id=new Ca};t.ij=function(){this.lD=new B;this.Hh=new aa};t.prototype.ij=function(){};t.prototype.kd=function(a,b,c,d){void 0===c&&(c=0);var f;this.lD.Q(a);this.Ij=d;for(this.Dp=c;this.Hh.length<this.Dp;)this.Hh[this.Hh.length]=new g;for(a=0;a<
c;++a){f=b[a];d=f.nc;var h=f.oc,r=d.$a.Da,v=h.$a.Da,k=d.dc,m=h.dc,p=f.Qf,u=W.MB(d.nv,h.nv),q=W.NB(d.uv,h.uv),kb=k.p.x,y=k.p.y,w=m.p.x,B=m.p.y,U=k.I,K=m.I;W.gc(0<p.Ic);t.wl.kd(p,k.g,r,m.g,v);h=t.wl.Ra.x;f=t.wl.Ra.y;d=this.Hh[a];d.kb=k;d.ub=m;d.oD=p;d.Rf.x=h;d.Rf.y=f;d.Bf=p.Ic;d.Pm=u;d.rn=q;d.Zr.x=p.Jd.x;d.Zr.y=p.Jd.y;d.Fh.x=p.fb.x;d.Fh.y=p.fb.y;d.dh=r+v;d.type=p.jb;for(r=0;r<d.Bf;++r){u=p.gb[r];v=d.pe[r];v.dd=u.dl;v.di=u.jl;v.Fh.N(u.fb);var u=v.ob.x=t.wl.gb[r].x-k.h.o.x,q=v.ob.y=t.wl.gb[r].y-k.h.o.y,
C=v.pb.x=t.wl.gb[r].x-m.h.o.x,da=v.pb.y=t.wl.gb[r].y-m.h.o.y,L=u*f-q*h,X=C*f-da*h,L=L*L,X=X*X;v.gn=1/(k.T+m.T+k.fa*L+m.fa*X);var $=k.Z*k.T+m.Z*m.T,$=$+(k.Z*k.fa*L+m.Z*m.fa*X);v.sC=1/$;X=f;$=-h;L=u*$-q*X;X=C*$-da*X;L*=L;X*=X;v.TE=1/(k.T+m.T+k.fa*L+m.fa*X);v.rq=0;u=d.Rf.x*(w+-K*da-kb- -U*q)+d.Rf.y*(B+K*C-y-U*u);u<-W.ZB&&(v.rq+=-d.rn*u)}2==d.Bf&&(B=d.pe[0],w=d.pe[1],p=k.T,k=k.fa,kb=m.T,m=m.fa,y=B.ob.x*f-B.ob.y*h,B=B.pb.x*f-B.pb.y*h,U=w.ob.x*f-w.ob.y*h,w=w.pb.x*f-w.pb.y*h,h=p+kb+k*y*y+m*B*B,f=p+kb+k*
U*U+m*w*w,m=p+kb+k*y*U+m*B*w,h*h<100*(h*f-m*m)?(d.xd.j.Q(h,m),d.xd.k.Q(m,f),d.xd.gt(d.gn)):d.Bf=1)}};t.prototype.Ff=function(a){for(var b=0;b<this.Dp;++b){var c=this.Hh[b],d=c.kb,f=c.ub,g=d.T,h=d.fa,r=f.T,v=f.fa,k=c.Rf.x,m=c.Rf.y,p=m,t=-k,u=0,q=0;if(a.Cg)for(q=c.Bf,u=0;u<q;++u){var y=c.pe[u];y.dd*=a.Dc;y.di*=a.Dc;var w=y.dd*k+y.di*p,B=y.dd*m+y.di*t;d.I-=h*(y.ob.x*B-y.ob.y*w);d.p.x-=g*w;d.p.y-=g*B;f.I+=v*(y.pb.x*B-y.pb.y*w);f.p.x+=r*w;f.p.y+=r*B}else for(q=c.Bf,u=0;u<q;++u)d=c.pe[u],d.dd=0,d.di=0}};
t.prototype.cf=function(){for(var a=0,b,c=0,d=0,f=0,g=0,h=0,r=0,v=0,k,m=0;m<this.Dp;++m){var f=this.Hh[m],p=f.kb,t=f.ub,u=p.I,q=t.I,y=p.p,w=t.p,B=p.T,U=p.fa,L=t.T,C=t.fa,r=f.Rf.x,K=v=f.Rf.y;k=-r;h=f.Pm;for(a=0;a<f.Bf;a++)b=f.pe[a],c=w.x-q*b.pb.y-y.x+u*b.ob.y,d=w.y+q*b.pb.x-y.y-u*b.ob.x,c=c*K+d*k,c=b.TE*-c,d=h*b.dd,d=X.Cb(b.di+c,-d,d),c=d-b.di,g=c*K,c*=k,y.x-=B*g,y.y-=B*c,u-=U*(b.ob.x*c-b.ob.y*g),w.x+=L*g,w.y+=L*c,q+=C*(b.pb.x*c-b.pb.y*g),b.di=d;parseInt(f.Bf);if(1==f.Bf)b=f.pe[0],c=w.x+-q*b.pb.y-
y.x- -u*b.ob.y,d=w.y+q*b.pb.x-y.y-u*b.ob.x,f=c*r+d*v,c=-b.gn*(f-b.rq),d=b.dd+c,d=0<d?d:0,c=d-b.dd,g=c*r,c*=v,y.x-=B*g,y.y-=B*c,u-=U*(b.ob.x*c-b.ob.y*g),w.x+=L*g,w.y+=L*c,q+=C*(b.pb.x*c-b.pb.y*g),b.dd=d;else{b=f.pe[0];var a=f.pe[1],c=b.dd,h=a.dd,da=(w.x-q*b.pb.y-y.x+u*b.ob.y)*r+(w.y+q*b.pb.x-y.y-u*b.ob.x)*v,W=(w.x-q*a.pb.y-y.x+u*a.ob.y)*r+(w.y+q*a.pb.x-y.y-u*a.ob.x)*v,d=da-b.rq,g=W-a.rq;k=f.xd;d-=k.j.x*c+k.k.x*h;for(g-=k.j.y*c+k.k.y*h;;){k=f.gn;K=-(k.j.x*d+k.k.x*g);k=-(k.j.y*d+k.k.y*g);if(0<=K&&0<=
k){c=K-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;y.x-=B*(f+r);y.y-=B*(c+v);u-=U*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=L*(f+r);w.y+=L*(c+v);q+=C*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.dd=K;a.dd=k;break}K=-b.gn*d;k=0;W=f.xd.j.y*K+g;if(0<=K&&0<=W){c=K-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;y.x-=B*(f+r);y.y-=B*(c+v);u-=U*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=L*(f+r);w.y+=L*(c+v);q+=C*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.dd=K;a.dd=k;break}K=0;k=-a.gn*g;da=f.xd.k.x*k+d;if(0<=k&&0<=da){c=K-c;h=k-h;f=c*r;c*=v;r*=
h;v*=h;y.x-=B*(f+r);y.y-=B*(c+v);u-=U*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=L*(f+r);w.y+=L*(c+v);q+=C*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.dd=K;a.dd=k;break}k=K=0;da=d;W=g;if(0<=da&&0<=W){c=K-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;y.x-=B*(f+r);y.y-=B*(c+v);u-=U*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=L*(f+r);w.y+=L*(c+v);q+=C*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.dd=K;a.dd=k;break}break}}p.I=u;t.I=q}};t.prototype.dt=function(){for(var a=0;a<this.Dp;++a)for(var b=this.Hh[a],c=b.oD,d=0;d<b.Bf;++d){var f=
c.gb[d],g=b.pe[d];f.dl=g.dd;f.jl=g.di}};t.prototype.bf=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.Dp;c++){var d=this.Hh[c],f=d.kb,g=d.ub,h=f.Z*f.T,r=f.Z*f.fa,v=g.Z*g.T,k=g.Z*g.fa;t.zs.kd(d);for(var m=t.zs.Ra,p=0;p<d.Bf;p++){var u=d.pe[p],q=t.zs.gb[p],y=t.zs.bs[p],w=q.x-f.h.o.x,B=q.y-f.h.o.y,K=q.x-g.h.o.x,q=q.y-g.h.o.y,b=b<y?b:y,y=X.Cb(a*(y+W.yb),-W.gf,0),y=-u.sC*y,u=y*m.x,y=y*m.y;f.h.o.x-=h*u;f.h.o.y-=h*y;f.h.R-=r*(w*y-B*u);f.sc();g.h.o.x+=v*u;g.h.o.y+=v*y;g.h.R+=k*(K*y-q*u);g.sc()}}return b>
-1.5*W.yb};n.Ac.push(function(){n.l.ka.ij.wl=new r;n.l.ka.ij.zs=new da});n.Gb(y,n.l.ka.Xa);y.prototype.la=n.l.ka.Xa.prototype;y.Ot=function(){n.l.ka.Xa.Xa.apply(this,arguments)};y.Ge=function(){return new y};y.jd=function(){};y.prototype.de=function(a,b){this.la.de.call(this,a,b)};y.prototype.Eg=function(){};n.Gb(u,n.l.ka.Xa);u.prototype.la=n.l.ka.Xa.prototype;u.Go=function(){n.l.ka.Xa.Xa.apply(this,arguments)};u.prototype.Go=function(){this.la.Xa.call(this)};u.prototype.Eg=function(){};n.Gb(w,n.l.ka.Xa);
w.prototype.la=n.l.ka.Xa.prototype;w.Ut=function(){n.l.ka.Xa.Xa.apply(this,arguments)};w.Ge=function(){return new w};w.jd=function(){};w.prototype.de=function(a,b){this.la.de.call(this,a,b);W.gc(a.Eb()==c.oj);W.gc(b.Eb()==c.Hk)};w.prototype.Eg=function(){$.ZA(this.Qf,this.nc.$a instanceof b?this.nc.$a:null,this.nc.dc.g,this.oc.$a instanceof a?this.oc.$a:null,this.oc.dc.g)};n.Gb(K,n.l.ka.Xa);K.prototype.la=n.l.ka.Xa.prototype;K.Vt=function(){n.l.ka.Xa.Xa.apply(this,arguments)};K.Ge=function(){return new K};
K.jd=function(){};K.prototype.de=function(a,b){this.la.de.call(this,a,b);W.gc(a.Eb()==c.oj);W.gc(b.Eb()==c.zr)};K.prototype.Eg=function(){};n.Gb(L,n.l.ka.Xa);L.prototype.la=n.l.ka.Xa.prototype;L.Wt=function(){n.l.ka.Xa.Xa.apply(this,arguments)};L.Ge=function(){return new L};L.jd=function(){};L.prototype.de=function(a,b){this.la.de.call(this,a,b)};L.prototype.Eg=function(){$.$A(this.Qf,this.nc.$a instanceof b?this.nc.$a:null,this.nc.dc.g,this.oc.$a instanceof b?this.oc.$a:null,this.oc.dc.g)};da.yk=
function(){};da.prototype.yk=function(){this.Ra=new C;this.bs=new ba(W.hf);this.gb=new aa(W.hf);for(var a=0;a<W.hf;a++)this.gb[a]=new C};da.prototype.kd=function(a){W.gc(0<a.Bf);var b=0,c=0,d=0,f,g=0,h=0;switch(a.type){case pa.wu:f=a.kb.g.G;d=a.Fh;b=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);c=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.ub.g.G;d=a.pe[0].Fh;g=a.ub.g.position.x+(f.j.x*d.x+f.k.x*d.y);f=a.ub.g.position.y+(f.j.y*d.x+f.k.y*d.y);var d=g-b,h=f-c,r=d*d+h*h;r>Number.MIN_VALUE*Number.MIN_VALUE?
(r=Math.sqrt(r),this.Ra.x=d/r,this.Ra.y=h/r):(this.Ra.x=1,this.Ra.y=0);this.gb[0].x=.5*(b+g);this.gb[0].y=.5*(c+f);this.bs[0]=d*this.Ra.x+h*this.Ra.y-a.dh;break;case pa.Ng:f=a.kb.g.G;d=a.Zr;this.Ra.x=f.j.x*d.x+f.k.x*d.y;this.Ra.y=f.j.y*d.x+f.k.y*d.y;f=a.kb.g.G;d=a.Fh;g=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.ub.g.G;for(b=0;b<a.Bf;++b)d=a.pe[b].Fh,c=a.ub.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.ub.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.bs[b]=(c-g)*this.Ra.x+
(d-h)*this.Ra.y-a.dh,this.gb[b].x=c,this.gb[b].y=d;break;case pa.Ik:f=a.ub.g.G;d=a.Zr;this.Ra.x=f.j.x*d.x+f.k.x*d.y;this.Ra.y=f.j.y*d.x+f.k.y*d.y;f=a.ub.g.G;d=a.Fh;g=a.ub.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.ub.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.kb.g.G;for(b=0;b<a.Bf;++b)d=a.pe[b].Fh,c=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.bs[b]=(c-g)*this.Ra.x+(d-h)*this.Ra.y-a.dh,this.gb[b].Q(c,d);this.Ra.x*=-1;this.Ra.y*=-1}};n.Ac.push(function(){n.l.ka.yk.KF=
new C;n.l.ka.yk.LF=new C})})();
(function(){var a=n.aa.Math.mi,b=n.aa.Math.Gf,c=n.aa.Math.gg,d=n.l.Vb.Bt,f=n.l.Vb.Dt,g=n.l.Vb.Et,h=n.l.Vb.Nc,k=n.l.Vb.Kt,m=n.l.Vb.Qt,q=n.l.Vb.$t;n.Gb(d,n.l.Vb.Nc);d.prototype.la=n.l.Vb.Nc.prototype;d.Bt=function(){n.l.Vb.Nc.Nc.apply(this,arguments);this.Rf=new c(0,-1);this.sb=this.offset=0;this.nh=new c(0,0);this.TC=2;this.GB=1;this.$E=!0;this.Ty=null};d.prototype.bj=function(){if(this.Gc){this.$E&&(this.Ty=this.rd.Cz.Db());for(var a=this.Gc;a;a=a.Ve){var b=a.body;if(0!=b.ld()){for(var d=new c,f=
new c,g=0,h=0,k=b.Hc;k;k=k.Ha){var m=new c,q=k.$a.xq(this.Rf,this.offset,b.af(),m),g=g+q;d.x+=q*m.x;d.y+=q*m.y;var B=0,B=1,h=h+q*B;f.x+=q*m.x*B;f.y+=q*m.y*B}d.x/=g;d.y/=g;f.x/=h;f.y/=h;g<Number.MIN_VALUE||(h=this.Ty.Yi(),h.ca(this.sb*g),b.mk(h,f),f=b.hB(d),f.eo(this.nh),f.ca(-this.TC*g),b.mk(f,d),b.WA(-b.Nf/b.Z*g*b.I*this.GB))}}}};n.Gb(f,n.l.Vb.Nc);f.prototype.la=n.l.Vb.Nc.prototype;f.Dt=function(){n.l.Vb.Nc.Nc.apply(this,arguments);this.Fw=new c(0,0)};f.prototype.bj=function(a){a=new c(this.Fw.x*
a.Ua,this.Fw.y*a.Ua);for(var b=this.Gc;b;b=b.Ve){var d=b.body;d.ld()&&d.$n(new c(d.p.x+a.x,d.p.y+a.y))}};n.Gb(g,n.l.Vb.Nc);g.prototype.la=n.l.Vb.Nc.prototype;g.Et=function(){n.l.Vb.Nc.Nc.apply(this,arguments);this.eB=new c(0,0)};g.prototype.bj=function(){for(var a=this.Gc;a;a=a.Ve){var b=a.body;b.ld()&&b.mk(this.eB,b.h.o)}};h.Nc=function(){};h.prototype.bj=function(){};h.prototype.Vs=function(a){var b=new k;b.hy=this;b.body=a;b.Ve=this.Gc;b.Zp=null;this.Gc=b;b.Ve&&(b.Ve.Zp=b);this.Vd++;b.Ni=a.Jj;
b.$p=null;a.Jj=b;b.Ni&&(b.Ni.$p=b);a.lv++};h.prototype.kx=function(a){for(var b=a.Jj;b&&b.hy!=this;)b=b.Ni;b.Zp&&(b.Zp.Ve=b.Ve);b.Ve&&(b.Ve.Zp=b.Zp);b.Ni&&(b.Ni.$p=b.$p);b.$p&&(b.$p.Ni=b.Ni);this.Gc==b&&(this.Gc=b.Ve);a.Jj==b&&(a.Jj=b.Ni);a.lv--;this.Vd--};h.prototype.Xs=function(){for(;this.Gc;)this.kx(this.Gc.body)};k.Kt=function(){};n.Gb(m,n.l.Vb.Nc);m.prototype.la=n.l.Vb.Nc.prototype;m.Qt=function(){n.l.Vb.Nc.Nc.apply(this,arguments);this.Vw=1;this.NC=!0};m.prototype.bj=function(){var a=null,
b=null,d=null,f=0,g=null,h=null,k=null,m=0,q=0,B=0;if(this.NC)for(a=this.Gc;a;a=a.Ve)for(b=a.body,d=b.h.o,f=b.Z,g=this.Gc;g!=a;g=g.Ve)h=g.body,k=h.h.o,m=k.x-d.x,q=k.y-d.y,B=m*m+q*q,B<Number.MIN_VALUE||(m=new c(m,q),m.ca(this.Vw/B/Math.sqrt(B)*f*h.Z),b.ld()&&b.mk(m,d),m.ca(-1),h.ld()&&h.mk(m,k));else for(a=this.Gc;a;a=a.Ve)for(b=a.body,d=b.h.o,f=b.Z,g=this.Gc;g!=a;g=g.Ve)h=g.body,k=h.h.o,m=k.x-d.x,q=k.y-d.y,B=m*m+q*q,B<Number.MIN_VALUE||(m=new c(m,q),m.ca(this.Vw/B*f*h.Z),b.ld()&&b.mk(m,d),m.ca(-1),
h.ld()&&h.mk(m,k))};n.Gb(q,n.l.Vb.Nc);q.prototype.la=n.l.Vb.Nc.prototype;q.$t=function(){n.l.Vb.Nc.Nc.apply(this,arguments);this.yB=new a;this.yv=0};q.prototype.bj=function(a){a=a.Ua;if(!(a<=Number.MIN_VALUE)){a>this.yv&&0<this.yv&&(a=this.yv);for(var d=this.Gc;d;d=d.Ve){var f=d.body;if(f.ld()){var g=f.jt(b.yd(this.yB,f.ht(f.p)));f.$n(new c(f.p.x+g.x*a,f.p.y+g.y*a))}}}}})();
(function(){var a=n.aa.Mb,b=n.aa.Math.mi,c=n.aa.Math.Zl,d=n.aa.Math.Gf,f=n.aa.Math.gg,g=n.aa.Math.em,h=n.l.M.so,k=n.l.M.to,m=n.l.M.xo,q=n.l.M.yo,p=n.l.M.zo,t=n.l.M.Ao,y=n.l.M.Rt,u=n.l.M.ja,w=n.l.M.va,K=n.l.M.St,L=n.l.M.Bo,da=n.l.M.Co,U=n.l.M.Fo,B=n.l.M.$l,W=n.l.M.Ho,ia=n.l.M.Io,X=n.l.M.am,C=n.l.M.Jo,$=n.l.M.bm,Ca=n.l.M.cm,pa=n.l.M.No,Da=n.l.M.Oo;n.Gb(h,n.l.M.ja);h.prototype.la=n.l.M.ja.prototype;h.so=function(){n.l.M.ja.ja.apply(this,arguments);this.ma=new f;this.xa=new f;this.cd=new f};h.prototype.wd=
function(){return this.Ga.ag(this.ma)};h.prototype.so=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.xa.N(a.Xc);this.ov=a.length;this.Gp=a.Jr;this.mv=a.sr;this.wz=this.le=this.t=0};h.prototype.Ff=function(b){var c,d=0,f=this.Ga,g=this.Qa;c=f.g.G;var h=this.ma.x-f.h.W.x,k=this.ma.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var m=this.xa.x-g.h.W.x,p=this.xa.y-g.h.W.y,d=c.j.x*m+c.k.x*p,p=c.j.y*m+c.k.y*p,m=d;this.cd.x=g.h.o.x+m-f.h.o.x-h;this.cd.y=g.h.o.y+p-f.h.o.y-k;d=Math.sqrt(this.cd.x*
this.cd.x+this.cd.y*this.cd.y);d>a.yb?this.cd.ca(1/d):this.cd.La();c=h*this.cd.y-k*this.cd.x;var S=m*this.cd.y-p*this.cd.x;c=f.T+f.fa*c*c+g.T+g.fa*S*S;this.Z=0!=c?1/c:0;if(0<this.Gp){var d=d-this.ov,S=2*Math.PI*this.Gp,q=this.Z*S*S;this.le=b.Ua*(2*this.Z*this.mv*S+b.Ua*q);this.le=0!=this.le?1/this.le:0;this.wz=d*b.Ua*q*this.le;this.Z=c+this.le;this.Z=0!=this.Z?1/this.Z:0}b.Cg?(this.t*=b.Dc,b=this.t*this.cd.x,c=this.t*this.cd.y,f.p.x-=f.T*b,f.p.y-=f.T*c,f.I-=f.fa*(h*c-k*b),g.p.x+=g.T*b,g.p.y+=g.T*
c,g.I+=g.fa*(m*c-p*b)):this.t=0};h.prototype.cf=function(){var a,b=this.Ga,c=this.Qa;a=b.g.G;var d=this.ma.x-b.h.W.x,f=this.ma.y-b.h.W.y,g=a.j.x*d+a.k.x*f,f=a.j.y*d+a.k.y*f,d=g;a=c.g.G;var h=this.xa.x-c.h.W.x,k=this.xa.y-c.h.W.y,g=a.j.x*h+a.k.x*k,k=a.j.y*h+a.k.y*k,h=g,g=-this.Z*(this.cd.x*(c.p.x+-c.I*k-(b.p.x+-b.I*f))+this.cd.y*(c.p.y+c.I*h-(b.p.y+b.I*d))+this.wz+this.le*this.t);this.t+=g;a=g*this.cd.x;g*=this.cd.y;b.p.x-=b.T*a;b.p.y-=b.T*g;b.I-=b.fa*(d*g-f*a);c.p.x+=c.T*a;c.p.y+=c.T*g;c.I+=c.fa*
(h*g-k*a)};h.prototype.bf=function(){var b;if(0<this.Gp)return!0;var c=this.Ga,f=this.Qa;b=c.g.G;var g=this.ma.x-c.h.W.x,h=this.ma.y-c.h.W.y,k=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=k;b=f.g.G;var m=this.xa.x-f.h.W.x,M=this.xa.y-f.h.W.y,k=b.j.x*m+b.k.x*M,M=b.j.y*m+b.k.y*M,m=k,k=f.h.o.x+m-c.h.o.x-g,p=f.h.o.y+M-c.h.o.y-h;b=Math.sqrt(k*k+p*p);k/=b;p/=b;b-=this.ov;b=d.Cb(b,-a.gf,a.gf);var S=-this.Z*b;this.cd.Q(k,p);k=S*this.cd.x;p=S*this.cd.y;c.h.o.x-=c.T*k;c.h.o.y-=c.T*p;c.h.R-=c.fa*(g*p-h*k);f.h.o.x+=f.T*
k;f.h.o.y+=f.T*p;f.h.R+=f.fa*(m*p-M*k);c.sc();f.sc();return d.hd(b)<a.yb};n.Gb(k,n.l.M.va);k.prototype.la=n.l.M.va.prototype;k.to=function(){n.l.M.va.va.apply(this,arguments);this.Wc=new f;this.Xc=new f};k.prototype.to=function(){this.la.va.call(this);this.type=u.ty;this.length=1;this.sr=this.Jr=0};k.prototype.kd=function(a,b,c,d){this.kb=a;this.ub=b;this.Wc.N(this.kb.$e(c));this.Xc.N(this.ub.$e(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.sr=this.Jr=0};n.Gb(m,n.l.M.ja);m.prototype.la=
n.l.M.ja.prototype;m.xo=function(){n.l.M.ja.ja.apply(this,arguments);this.Re=new f;this.Pf=new f;this.rv=new b;this.Of=new f};m.prototype.wd=function(){return this.Ga.ag(this.Re)};m.prototype.xo=function(a){this.la.ja.call(this,a);this.Re.N(a.Wc);this.Pf.N(a.Xc);this.rv.La();this.Cp=0;this.Of.La();this.Di=0;this.sv=a.wv;this.jD=a.qD};m.prototype.Ff=function(a){var c,d=0,f=this.Ga,g=this.Qa;c=f.g.G;var h=this.Re.x-f.h.W.x,k=this.Re.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var m=this.Pf.x-
g.h.W.x,p=this.Pf.y-g.h.W.y,d=c.j.x*m+c.k.x*p,p=c.j.y*m+c.k.y*p,m=d;c=f.T;var d=g.T,S=f.fa,q=g.fa,u=new b;u.j.x=c+d;u.k.x=0;u.j.y=0;u.k.y=c+d;u.j.x+=S*k*k;u.k.x+=-S*h*k;u.j.y+=-S*h*k;u.k.y+=S*h*h;u.j.x+=q*p*p;u.k.x+=-q*m*p;u.j.y+=-q*m*p;u.k.y+=q*m*m;u.gt(this.rv);this.Cp=S+q;0<this.Cp&&(this.Cp=1/this.Cp);a.Cg?(this.Of.x*=a.Dc,this.Of.y*=a.Dc,this.Di*=a.Dc,a=this.Of,f.p.x-=c*a.x,f.p.y-=c*a.y,f.I-=S*(h*a.y-k*a.x+this.Di),g.p.x+=d*a.x,g.p.y+=d*a.y,g.I+=q*(m*a.y-p*a.x+this.Di)):(this.Of.La(),this.Di=
0)};m.prototype.cf=function(a){var b,c=0,g=this.Ga,h=this.Qa,k=g.p,m=g.I,M=h.p,p=h.I,q=g.T,u=h.T,t=g.fa,y=h.fa;b=g.g.G;var w=this.Re.x-g.h.W.x,B=this.Re.y-g.h.W.y,c=b.j.x*w+b.k.x*B,B=b.j.y*w+b.k.y*B,w=c;b=h.g.G;var C=this.Pf.x-h.h.W.x,K=this.Pf.y-h.h.W.y,c=b.j.x*C+b.k.x*K,K=b.j.y*C+b.k.y*K,C=c,c=-this.Cp*(p-m),L=this.Di;b=a.Ua*this.jD;this.Di=d.Cb(this.Di+c,-b,b);c=this.Di-L;m-=t*c;p+=y*c;b=d.yd(this.rv,new f(-(M.x-p*K-k.x+m*B),-(M.y+p*C-k.y-m*w)));c=this.Of.Db();this.Of.Dg(b);b=a.Ua*this.sv;this.Of.Kq()>
b*b&&(this.Of.bb(),this.Of.ca(b));b=d.rc(this.Of,c);k.x-=q*b.x;k.y-=q*b.y;m-=t*(w*b.y-B*b.x);M.x+=u*b.x;M.y+=u*b.y;p+=y*(C*b.y-K*b.x);g.I=m;h.I=p};m.prototype.bf=function(){return!0};n.Gb(q,n.l.M.va);q.prototype.la=n.l.M.va.prototype;q.yo=function(){n.l.M.va.va.apply(this,arguments);this.Wc=new f;this.Xc=new f};q.prototype.yo=function(){this.la.va.call(this);this.type=u.vy;this.qD=this.wv=0};q.prototype.kd=function(a,b,c){this.kb=a;this.ub=b;this.Wc.N(this.kb.$e(c));this.Xc.N(this.ub.$e(c))};n.Gb(p,
n.l.M.ja);p.prototype.la=n.l.M.ja.prototype;p.zo=function(){n.l.M.ja.ja.apply(this,arguments);this.Fi=new f;this.Gi=new f;this.ma=new f;this.xa=new f;this.mc=new y};p.prototype.wd=function(){return this.Ga.ag(this.ma)};p.prototype.zo=function(a){this.la.ja.call(this,a);var b=parseInt(a.Uk.jb),c=parseInt(a.Vk.jb);this.bn=this.hl=this.an=this.gl=null;var d=0,f=0;this.bD=a.Uk.Ga;this.Ga=a.Uk.Qa;b==u.Ar?(this.gl=a.Uk instanceof $?a.Uk:null,this.Fi.N(this.gl.ma),this.ma.N(this.gl.xa),d=this.gl.be()):(this.an=
a.Uk instanceof W?a.Uk:null,this.Fi.N(this.an.ma),this.ma.N(this.an.xa),d=this.an.Wn());this.cD=a.Vk.Ga;this.Qa=a.Vk.Qa;c==u.Ar?(this.hl=a.Vk instanceof $?a.Vk:null,this.Gi.N(this.hl.ma),this.xa.N(this.hl.xa),f=this.hl.be()):(this.bn=a.Vk instanceof W?a.Vk:null,this.Gi.N(this.bn.ma),this.xa.N(this.bn.xa),f=this.bn.Wn());this.zc=a.ql;this.Xm=d+this.zc*f;this.t=0};p.prototype.Ff=function(a){var b=this.bD,c=this.cD,d=this.Ga,f=this.Qa,g=0,h=0,k=0,m=0,p=0,q=0;this.mc.La();this.gl?(this.mc.vk=-1,q+=d.fa):
(b=b.g.G,h=this.an.Se,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=d.g.G,k=this.ma.x-d.h.W.x,m=this.ma.y-d.h.W.y,p=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=p*h-m*g,this.mc.Sg.Q(-g,-h),this.mc.vk=-k,q+=d.T+d.fa*k*k);this.hl?(this.mc.wk=-this.zc,q+=this.zc*this.zc*f.fa):(b=c.g.G,h=this.bn.Se,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=f.g.G,k=this.xa.x-f.h.W.x,m=this.xa.y-f.h.W.y,p=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=p*h-m*g,this.mc.Tg.Q(-this.zc*g,-this.zc*h),this.mc.wk=-this.zc*k,q+=this.zc*this.zc*
(f.T+f.fa*k*k));this.Z=0<q?1/q:0;a.Cg?(d.p.x+=d.T*this.t*this.mc.Sg.x,d.p.y+=d.T*this.t*this.mc.Sg.y,d.I+=d.fa*this.t*this.mc.vk,f.p.x+=f.T*this.t*this.mc.Tg.x,f.p.y+=f.T*this.t*this.mc.Tg.y,f.I+=f.fa*this.t*this.mc.wk):this.t=0};p.prototype.cf=function(){var a=this.Ga,b=this.Qa,c=-this.Z*this.mc.aB(a.p,a.I,b.p,b.I);this.t+=c;a.p.x+=a.T*c*this.mc.Sg.x;a.p.y+=a.T*c*this.mc.Sg.y;a.I+=a.fa*c*this.mc.vk;b.p.x+=b.T*c*this.mc.Tg.x;b.p.y+=b.T*c*this.mc.Tg.y;b.I+=b.fa*c*this.mc.wk};p.prototype.bf=function(){var b=
this.Ga,c=this.Qa,d=0,f=0,d=this.gl?this.gl.be():this.an.Wn(),f=this.hl?this.hl.be():this.bn.Wn(),d=-this.Z*(this.Xm-(d+this.zc*f));b.h.o.x+=b.T*d*this.mc.Sg.x;b.h.o.y+=b.T*d*this.mc.Sg.y;b.h.R+=b.fa*d*this.mc.vk;c.h.o.x+=c.T*d*this.mc.Tg.x;c.h.o.y+=c.T*d*this.mc.Tg.y;c.h.R+=c.fa*d*this.mc.wk;b.sc();c.sc();return 0<a.yb};n.Gb(t,n.l.M.va);t.prototype.la=n.l.M.va.prototype;t.Ao=function(){n.l.M.va.va.apply(this,arguments)};t.prototype.Ao=function(){this.la.va.call(this);this.type=u.wy;this.Vk=this.Uk=
null;this.ql=1};y.Rt=function(){this.Sg=new f;this.Tg=new f};y.prototype.La=function(){this.Sg.La();this.vk=0;this.Tg.La();this.wk=0};y.prototype.Q=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.Sg.N(a);this.vk=b;this.Tg.N(c);this.wk=d};y.prototype.aB=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.Sg.x*a.x+this.Sg.y*a.y+this.vk*b+(this.Tg.x*c.x+this.Tg.y*c.y)+this.wk*d};u.ja=function(){this.Ae=new K;this.Be=new K;this.Kh=new f;this.Lh=new f};u.prototype.Eb=function(){return this.jb};
u.prototype.wd=function(){return null};u.prototype.Ef=function(){return this.Ji};u.prototype.ao=function(a){this.Ji=a};u.prototype.nk=function(){return this.Ga.nk()&&this.Qa.nk()};u.Ge=function(a){var b=null;switch(a.type){case u.ty:b=new h(a instanceof k?a:null);break;case u.yy:b=new U(a instanceof B?a:null);break;case u.Ay:b=new W(a instanceof ia?a:null);break;case u.Ar:b=new $(a instanceof Ca?a:null);break;case u.By:b=new X(a instanceof C?a:null);break;case u.wy:b=new p(a instanceof t?a:null);
break;case u.xy:b=new L(a instanceof da?a:null);break;case u.Cy:b=new pa(a instanceof Da?a:null);break;case u.vy:b=new m(a instanceof q?a:null)}return b};u.jd=function(){};u.prototype.ja=function(b){a.gc(b.kb!=b.ub);this.jb=b.type;this.Ha=this.qd=null;this.Ga=b.kb;this.Qa=b.ub;this.xz=b.qr;this.bl=!1;this.Ji=b.jk};u.prototype.Ff=function(){};u.prototype.cf=function(){};u.prototype.dt=function(){};u.prototype.bf=function(){return!1};n.Ac.push(function(){n.l.M.ja.lC=0;n.l.M.ja.Ar=1;n.l.M.ja.Ay=2;n.l.M.ja.ty=
3;n.l.M.ja.By=4;n.l.M.ja.yy=5;n.l.M.ja.wy=6;n.l.M.ja.xy=7;n.l.M.ja.Cy=8;n.l.M.ja.vy=9;n.l.M.ja.xe=0;n.l.M.ja.yh=1;n.l.M.ja.Hd=2;n.l.M.ja.nj=3});w.va=function(){};w.prototype.va=function(){this.type=u.lC;this.ub=this.kb=this.jk=null;this.qr=!1};K.St=function(){};n.Gb(L,n.l.M.ja);L.prototype.la=n.l.M.ja.prototype;L.Bo=function(){n.l.M.ja.ja.apply(this,arguments);this.ma=new f;this.xa=new f;this.Se=new f;this.Ii=new f;this.ea=new f;this.Ca=new f;this.ua=new b;this.t=new f};L.prototype.wd=function(){return this.Ga.ag(this.ma)};
L.prototype.Wn=function(){var a=this.Ga,b=this.Qa,c=a.ag(this.ma),d=b.ag(this.xa),b=d.x-c.x,c=d.y-c.y,a=a.jt(this.Se);return a.x*b+a.y*c};L.prototype.oh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ga.Qd(!0);this.Qa.Qd(!0);this.Te=a;this.Ue=b};L.prototype.Bo=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.xa.N(a.Xc);this.Se.N(a.$k);this.Ii.x=-this.Se.y;this.Ii.y=this.Se.x;this.t.La();this.nb=this.Ce=0;this.Te=a.iv;this.Ue=a.xw;this.tv=a.xv;this.Kp=a.Pp;this.Ug=a.Hm;this.Lj=a.gp;
this.Wa=u.xe;this.ea.La();this.Ca.La()};L.prototype.Ff=function(b){var c=this.Ga,f=this.Qa,g,h=0;this.Kh.N(c.h.W);this.Lh.N(f.h.W);var k=c.af();f.af();g=c.g.G;var m=this.ma.x-this.Kh.x,p=this.ma.y-this.Kh.y,h=g.j.x*m+g.k.x*p,p=g.j.y*m+g.k.y*p,m=h;g=f.g.G;var q=this.xa.x-this.Lh.x,S=this.xa.y-this.Lh.y,h=g.j.x*q+g.k.x*S,S=g.j.y*q+g.k.y*S,q=h;g=f.h.o.x+q-c.h.o.x-m;h=f.h.o.y+S-c.h.o.y-p;this.xc=c.T;this.yc=f.T;this.me=c.fa;this.ne=f.fa;this.ea.N(d.yd(k.G,this.Se));this.zb=(g+m)*this.ea.y-(h+p)*this.ea.x;
this.Ab=q*this.ea.y-S*this.ea.x;this.Ce=this.xc+this.yc+this.me*this.zb*this.zb+this.ne*this.Ab*this.Ab;this.Ce=this.Ce>Number.MIN_VALUE?1/this.Ce:0;this.Ca.N(d.yd(k.G,this.Ii));this.Ib=(g+m)*this.Ca.y-(h+p)*this.Ca.x;this.Jb=q*this.Ca.y-S*this.Ca.x;k=this.xc;m=this.yc;p=this.me;q=this.ne;this.ua.j.x=k+m+p*this.Ib*this.Ib+q*this.Jb*this.Jb;this.ua.j.y=p*this.Ib*this.zb+q*this.Jb*this.Ab;this.ua.k.x=this.ua.j.y;this.ua.k.y=k+m+p*this.zb*this.zb+q*this.Ab*this.Ab;this.Ug?(g=this.ea.x*g+this.ea.y*h,
d.hd(this.Ue-this.Te)<2*a.yb?this.Wa=u.nj:g<=this.Te?this.Wa!=u.yh&&(this.Wa=u.yh,this.t.y=0):g>=this.Ue?this.Wa!=u.Hd&&(this.Wa=u.Hd,this.t.y=0):(this.Wa=u.xe,this.t.y=0)):this.Wa=u.xe;0==this.Lj&&(this.nb=0);b.Cg?(this.t.x*=b.Dc,this.t.y*=b.Dc,this.nb*=b.Dc,b=this.t.x*this.Ca.x+(this.nb+this.t.y)*this.ea.x,g=this.t.x*this.Ca.y+(this.nb+this.t.y)*this.ea.y,h=this.t.x*this.Ib+(this.nb+this.t.y)*this.zb,k=this.t.x*this.Jb+(this.nb+this.t.y)*this.Ab,c.p.x-=this.xc*b,c.p.y-=this.xc*g,c.I-=this.me*h,
f.p.x+=this.yc*b,f.p.y+=this.yc*g,f.I+=this.ne*k):(this.t.La(),this.nb=0)};L.prototype.cf=function(a){var b=this.Ga,c=this.Qa,g=b.p,h=b.I,k=c.p,m=c.I,p=0,q=0,S=0,t=0;this.Lj&&this.Wa!=u.nj&&(t=this.Ce*(this.Kp-(this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Ab*m-this.zb*h)),p=this.nb,q=a.Ua*this.tv,this.nb=d.Cb(this.nb+t,-q,q),t=this.nb-p,p=t*this.ea.x,q=t*this.ea.y,S=t*this.zb,t*=this.Ab,g.x-=this.xc*p,g.y-=this.xc*q,h-=this.me*S,k.x+=this.yc*p,k.y+=this.yc*q,m+=this.ne*t);q=this.Ca.x*(k.x-g.x)+this.Ca.y*
(k.y-g.y)+this.Jb*m-this.Ib*h;this.Ug&&this.Wa!=u.xe?(S=this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Ab*m-this.zb*h,p=this.t.Db(),a=this.ua.sk(new f,-q,-S),this.t.Dg(a),this.Wa==u.yh?this.t.y=d.ce(this.t.y,0):this.Wa==u.Hd&&(this.t.y=d.pk(this.t.y,0)),q=-q-(this.t.y-p.y)*this.ua.k.x,S=0!=this.ua.j.x?q/this.ua.j.x+p.x:p.x,this.t.x=S,a.x=this.t.x-p.x,a.y=this.t.y-p.y,p=a.x*this.Ca.x+a.y*this.ea.x,q=a.x*this.Ca.y+a.y*this.ea.y,S=a.x*this.Ib+a.y*this.zb,t=a.x*this.Jb+a.y*this.Ab):(a=0!=this.ua.j.x?-q/
this.ua.j.x:0,this.t.x+=a,p=a*this.Ca.x,q=a*this.Ca.y,S=a*this.Ib,t=a*this.Jb);g.x-=this.xc*p;g.y-=this.xc*q;h-=this.me*S;k.x+=this.yc*p;k.y+=this.yc*q;m+=this.ne*t;b.p.N(g);b.I=h;c.p.N(k);c.I=m};L.prototype.bf=function(){var c=this.Ga,g=this.Qa,h=c.h.o,k=c.h.R,m=g.h.o,p=g.h.R,F,M=0,q=0,u=0,t=0,y=0,w=0,q=!1,B=0,C=b.Cq(k),u=b.Cq(p);F=C;var w=this.ma.x-this.Kh.x,K=this.ma.y-this.Kh.y,M=F.j.x*w+F.k.x*K,K=F.j.y*w+F.k.y*K,w=M;F=u;u=this.xa.x-this.Lh.x;t=this.xa.y-this.Lh.y;M=F.j.x*u+F.k.x*t;t=F.j.y*u+
F.k.y*t;u=M;F=m.x+u-h.x-w;M=m.y+t-h.y-K;if(this.Ug){this.ea=d.yd(C,this.Se);this.zb=(F+w)*this.ea.y-(M+K)*this.ea.x;this.Ab=u*this.ea.y-t*this.ea.x;var L=this.ea.x*F+this.ea.y*M;d.hd(this.Ue-this.Te)<2*a.yb?(B=d.Cb(L,-a.gf,a.gf),y=d.hd(L),q=!0):L<=this.Te?(B=d.Cb(L-this.Te+a.yb,-a.gf,0),y=this.Te-L,q=!0):L>=this.Ue&&(B=d.Cb(L-this.Ue+a.yb,0,a.gf),y=L-this.Ue,q=!0)}this.Ca=d.yd(C,this.Ii);this.Ib=(F+w)*this.Ca.y-(M+K)*this.Ca.x;this.Jb=u*this.Ca.y-t*this.Ca.x;C=new f;K=this.Ca.x*F+this.Ca.y*M;y=d.ce(y,
d.hd(K));w=0;q?(q=this.xc,u=this.yc,t=this.me,F=this.ne,this.ua.j.x=q+u+t*this.Ib*this.Ib+F*this.Jb*this.Jb,this.ua.j.y=t*this.Ib*this.zb+F*this.Jb*this.Ab,this.ua.k.x=this.ua.j.y,this.ua.k.y=q+u+t*this.zb*this.zb+F*this.Ab*this.Ab,this.ua.sk(C,-K,-B)):(q=this.xc,u=this.yc,t=this.me,F=this.ne,B=q+u+t*this.Ib*this.Ib+F*this.Jb*this.Jb,C.x=0!=B?-K/B:0,C.y=0);B=C.x*this.Ca.x+C.y*this.ea.x;q=C.x*this.Ca.y+C.y*this.ea.y;K=C.x*this.Ib+C.y*this.zb;C=C.x*this.Jb+C.y*this.Ab;h.x-=this.xc*B;h.y-=this.xc*q;
k-=this.me*K;m.x+=this.yc*B;m.y+=this.yc*q;p+=this.ne*C;c.h.R=k;g.h.R=p;c.sc();g.sc();return y<=a.yb&&w<=a.zk};n.Gb(da,n.l.M.va);da.prototype.la=n.l.M.va.prototype;da.Co=function(){n.l.M.va.va.apply(this,arguments);this.Wc=new f;this.Xc=new f;this.$k=new f};da.prototype.Co=function(){this.la.va.call(this);this.type=u.xy;this.$k.Q(1,0);this.Hm=!1;this.xw=this.iv=0;this.gp=!1;this.Pp=this.xv=0};da.prototype.kd=function(a,b,c,d){this.kb=a;this.ub=b;this.Wc=this.kb.$e(c);this.Xc=this.ub.$e(c);this.$k=
this.kb.ht(d)};n.Gb(U,n.l.M.ja);U.prototype.la=n.l.M.ja.prototype;U.Fo=function(){n.l.M.ja.ja.apply(this,arguments);this.xd=new b;this.Fg=new b;this.Gg=new b;this.$m=new f;this.cn=new f;this.t=new f;this.Z=new b;this.$r=new f};U.prototype.wd=function(){return this.cn};U.prototype.Fo=function(a){this.la.ja.call(this,a);this.cn.N(a.target);var b=this.cn.x-this.Qa.g.position.x,c=this.cn.y-this.Qa.g.position.y,d=this.Qa.g.G;this.$m.x=b*d.j.x+c*d.j.y;this.$m.y=b*d.k.x+c*d.k.y;this.sv=a.wv;this.t.La();
this.Gp=a.Jr;this.mv=a.sr;this.le=this.kv=0};U.prototype.Ff=function(a){var b=this.Qa,c=b.Z,d=2*Math.PI*this.Gp,f=c*d*d;this.le=a.Ua*(2*c*this.mv*d+a.Ua*f);this.le=0!=this.le?1/this.le:0;this.kv=a.Ua*f*this.le;var f=b.g.G,c=this.$m.x-b.h.W.x,d=this.$m.y-b.h.W.y,g=f.j.x*c+f.k.x*d,d=f.j.y*c+f.k.y*d,c=g,f=b.T,g=b.fa;this.Fg.j.x=f;this.Fg.k.x=0;this.Fg.j.y=0;this.Fg.k.y=f;this.Gg.j.x=g*d*d;this.Gg.k.x=-g*c*d;this.Gg.j.y=-g*c*d;this.Gg.k.y=g*c*c;this.xd.rk(this.Fg);this.xd.wq(this.Gg);this.xd.j.x+=this.le;
this.xd.k.y+=this.le;this.xd.gt(this.Z);this.$r.x=b.h.o.x+c-this.cn.x;this.$r.y=b.h.o.y+d-this.cn.y;b.I*=.98;this.t.x*=a.Dc;this.t.y*=a.Dc;b.p.x+=f*this.t.x;b.p.y+=f*this.t.y;b.I+=g*(c*this.t.y-d*this.t.x)};U.prototype.cf=function(a){var b=this.Qa,c,d=0,f=0;c=b.g.G;var g=this.$m.x-b.h.W.x,h=this.$m.y-b.h.W.y,d=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=d,d=b.p.x+-b.I*h,k=b.p.y+b.I*g;c=this.Z;d=d+this.kv*this.$r.x+this.le*this.t.x;f=k+this.kv*this.$r.y+this.le*this.t.y;k=-(c.j.x*d+c.k.x*f);f=-(c.j.y*d+c.k.y*
f);c=this.t.x;d=this.t.y;this.t.x+=k;this.t.y+=f;a=a.Ua*this.sv;this.t.Kq()>a*a&&this.t.ca(a/this.t.bg());k=this.t.x-c;f=this.t.y-d;b.p.x+=b.T*k;b.p.y+=b.T*f;b.I+=b.fa*(g*f-h*k)};U.prototype.bf=function(){return!0};n.Gb(B,n.l.M.va);B.prototype.la=n.l.M.va.prototype;B.$l=function(){n.l.M.va.va.apply(this,arguments);this.target=new f};B.prototype.$l=function(){this.la.va.call(this);this.type=u.yy;this.wv=0;this.Jr=5;this.sr=.7};n.Gb(W,n.l.M.ja);W.prototype.la=n.l.M.ja.prototype;W.Ho=function(){n.l.M.ja.ja.apply(this,
arguments);this.ma=new f;this.xa=new f;this.Se=new f;this.Ii=new f;this.ea=new f;this.Ca=new f;this.ua=new c;this.t=new g};W.prototype.wd=function(){return this.Ga.ag(this.ma)};W.prototype.Wn=function(){var a=this.Ga,b=this.Qa,c=a.ag(this.ma),d=b.ag(this.xa),b=d.x-c.x,c=d.y-c.y,a=a.jt(this.Se);return a.x*b+a.y*c};W.prototype.oh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ga.Qd(!0);this.Qa.Qd(!0);this.Te=a;this.Ue=b};W.prototype.Ho=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.xa.N(a.Xc);
this.Se.N(a.$k);this.Ii.x=-this.Se.y;this.Ii.y=this.Se.x;this.kD=a.Yj;this.t.La();this.nb=this.Ce=0;this.Te=a.iv;this.Ue=a.xw;this.tv=a.xv;this.Kp=a.Pp;this.Ug=a.Hm;this.Lj=a.gp;this.Wa=u.xe;this.ea.La();this.Ca.La()};W.prototype.Ff=function(b){var c=this.Ga,f=this.Qa,g,h=0;this.Kh.N(c.h.W);this.Lh.N(f.h.W);var k=c.af();f.af();g=c.g.G;var m=this.ma.x-this.Kh.x,p=this.ma.y-this.Kh.y,h=g.j.x*m+g.k.x*p,p=g.j.y*m+g.k.y*p,m=h;g=f.g.G;var q=this.xa.x-this.Lh.x,S=this.xa.y-this.Lh.y,h=g.j.x*q+g.k.x*S,S=
g.j.y*q+g.k.y*S,q=h;g=f.h.o.x+q-c.h.o.x-m;h=f.h.o.y+S-c.h.o.y-p;this.xc=c.T;this.yc=f.T;this.me=c.fa;this.ne=f.fa;this.ea.N(d.yd(k.G,this.Se));this.zb=(g+m)*this.ea.y-(h+p)*this.ea.x;this.Ab=q*this.ea.y-S*this.ea.x;this.Ce=this.xc+this.yc+this.me*this.zb*this.zb+this.ne*this.Ab*this.Ab;this.Ce>Number.MIN_VALUE&&(this.Ce=1/this.Ce);this.Ca.N(d.yd(k.G,this.Ii));this.Ib=(g+m)*this.Ca.y-(h+p)*this.Ca.x;this.Jb=q*this.Ca.y-S*this.Ca.x;k=this.xc;m=this.yc;p=this.me;q=this.ne;this.ua.j.x=k+m+p*this.Ib*this.Ib+
q*this.Jb*this.Jb;this.ua.j.y=p*this.Ib+q*this.Jb;this.ua.j.z=p*this.Ib*this.zb+q*this.Jb*this.Ab;this.ua.k.x=this.ua.j.y;this.ua.k.y=p+q;this.ua.k.z=p*this.zb+q*this.Ab;this.ua.Fa.x=this.ua.j.z;this.ua.Fa.y=this.ua.k.z;this.ua.Fa.z=k+m+p*this.zb*this.zb+q*this.Ab*this.Ab;this.Ug?(g=this.ea.x*g+this.ea.y*h,d.hd(this.Ue-this.Te)<2*a.yb?this.Wa=u.nj:g<=this.Te?this.Wa!=u.yh&&(this.Wa=u.yh,this.t.z=0):g>=this.Ue?this.Wa!=u.Hd&&(this.Wa=u.Hd,this.t.z=0):(this.Wa=u.xe,this.t.z=0)):this.Wa=u.xe;0==this.Lj&&
(this.nb=0);b.Cg?(this.t.x*=b.Dc,this.t.y*=b.Dc,this.nb*=b.Dc,b=this.t.x*this.Ca.x+(this.nb+this.t.z)*this.ea.x,g=this.t.x*this.Ca.y+(this.nb+this.t.z)*this.ea.y,h=this.t.x*this.Ib+this.t.y+(this.nb+this.t.z)*this.zb,k=this.t.x*this.Jb+this.t.y+(this.nb+this.t.z)*this.Ab,c.p.x-=this.xc*b,c.p.y-=this.xc*g,c.I-=this.me*h,f.p.x+=this.yc*b,f.p.y+=this.yc*g,f.I+=this.ne*k):(this.t.La(),this.nb=0)};W.prototype.cf=function(a){var b=this.Ga,c=this.Qa,h=b.p,k=b.I,m=c.p,p=c.I,q=0,t=0,S=0,y=0;this.Lj&&this.Wa!=
u.nj&&(y=this.Ce*(this.Kp-(this.ea.x*(m.x-h.x)+this.ea.y*(m.y-h.y)+this.Ab*p-this.zb*k)),q=this.nb,a=a.Ua*this.tv,this.nb=d.Cb(this.nb+y,-a,a),y=this.nb-q,q=y*this.ea.x,t=y*this.ea.y,S=y*this.zb,y*=this.Ab,h.x-=this.xc*q,h.y-=this.xc*t,k-=this.me*S,m.x+=this.yc*q,m.y+=this.yc*t,p+=this.ne*y);S=this.Ca.x*(m.x-h.x)+this.Ca.y*(m.y-h.y)+this.Jb*p-this.Ib*k;t=p-k;this.Ug&&this.Wa!=u.xe?(a=this.ea.x*(m.x-h.x)+this.ea.y*(m.y-h.y)+this.Ab*p-this.zb*k,q=this.t.Db(),a=this.ua.co(new g,-S,-t,-a),this.t.Dg(a),
this.Wa==u.yh?this.t.z=d.ce(this.t.z,0):this.Wa==u.Hd&&(this.t.z=d.pk(this.t.z,0)),S=-S-(this.t.z-q.z)*this.ua.Fa.x,t=-t-(this.t.z-q.z)*this.ua.Fa.y,t=this.ua.Pl(new f,S,t),t.x+=q.x,t.y+=q.y,this.t.x=t.x,this.t.y=t.y,a.x=this.t.x-q.x,a.y=this.t.y-q.y,a.z=this.t.z-q.z,q=a.x*this.Ca.x+a.z*this.ea.x,t=a.x*this.Ca.y+a.z*this.ea.y,S=a.x*this.Ib+a.y+a.z*this.zb,y=a.x*this.Jb+a.y+a.z*this.Ab):(a=this.ua.Pl(new f,-S,-t),this.t.x+=a.x,this.t.y+=a.y,q=a.x*this.Ca.x,t=a.x*this.Ca.y,S=a.x*this.Ib+a.y,y=a.x*this.Jb+
a.y);h.x-=this.xc*q;h.y-=this.xc*t;k-=this.me*S;m.x+=this.yc*q;m.y+=this.yc*t;p+=this.ne*y;b.p.N(h);b.I=k;c.p.N(m);c.I=p};W.prototype.bf=function(){var c=this.Ga,h=this.Qa,k=c.h.o,m=c.h.R,p=h.h.o,q=h.h.R,F,u=0,t=0,S=0,y=0,w=0,t=!1,B=0,C=b.Cq(m),K=b.Cq(q);F=C;var w=this.ma.x-this.Kh.x,L=this.ma.y-this.Kh.y,u=F.j.x*w+F.k.x*L,L=F.j.y*w+F.k.y*L,w=u;F=K;K=this.xa.x-this.Lh.x;S=this.xa.y-this.Lh.y;u=F.j.x*K+F.k.x*S;S=F.j.y*K+F.k.y*S;K=u;F=p.x+K-k.x-w;u=p.y+S-k.y-L;if(this.Ug){this.ea=d.yd(C,this.Se);this.zb=
(F+w)*this.ea.y-(u+L)*this.ea.x;this.Ab=K*this.ea.y-S*this.ea.x;var U=this.ea.x*F+this.ea.y*u;d.hd(this.Ue-this.Te)<2*a.yb?(B=d.Cb(U,-a.gf,a.gf),y=d.hd(U),t=!0):U<=this.Te?(B=d.Cb(U-this.Te+a.yb,-a.gf,0),y=this.Te-U,t=!0):U>=this.Ue&&(B=d.Cb(U-this.Ue+a.yb,0,a.gf),y=U-this.Ue,t=!0)}this.Ca=d.yd(C,this.Ii);this.Ib=(F+w)*this.Ca.y-(u+L)*this.Ca.x;this.Jb=K*this.Ca.y-S*this.Ca.x;C=new g;L=this.Ca.x*F+this.Ca.y*u;K=q-m-this.kD;y=d.ce(y,d.hd(L));w=d.hd(K);t?(t=this.xc,S=this.yc,F=this.me,u=this.ne,this.ua.j.x=
t+S+F*this.Ib*this.Ib+u*this.Jb*this.Jb,this.ua.j.y=F*this.Ib+u*this.Jb,this.ua.j.z=F*this.Ib*this.zb+u*this.Jb*this.Ab,this.ua.k.x=this.ua.j.y,this.ua.k.y=F+u,this.ua.k.z=F*this.zb+u*this.Ab,this.ua.Fa.x=this.ua.j.z,this.ua.Fa.y=this.ua.k.z,this.ua.Fa.z=t+S+F*this.zb*this.zb+u*this.Ab*this.Ab,this.ua.co(C,-L,-K,-B)):(t=this.xc,S=this.yc,F=this.me,u=this.ne,B=F*this.Ib+u*this.Jb,U=F+u,this.ua.j.Q(t+S+F*this.Ib*this.Ib+u*this.Jb*this.Jb,B,0),this.ua.k.Q(B,U,0),B=this.ua.Pl(new f,-L,-K),C.x=B.x,C.y=
B.y,C.z=0);B=C.x*this.Ca.x+C.z*this.ea.x;t=C.x*this.Ca.y+C.z*this.ea.y;L=C.x*this.Ib+C.y+C.z*this.zb;C=C.x*this.Jb+C.y+C.z*this.Ab;k.x-=this.xc*B;k.y-=this.xc*t;m-=this.me*L;p.x+=this.yc*B;p.y+=this.yc*t;q+=this.ne*C;c.h.R=m;h.h.R=q;c.sc();h.sc();return y<=a.yb&&w<=a.zk};n.Gb(ia,n.l.M.va);ia.prototype.la=n.l.M.va.prototype;ia.Io=function(){n.l.M.va.va.apply(this,arguments);this.Wc=new f;this.Xc=new f;this.$k=new f};ia.prototype.Io=function(){this.la.va.call(this);this.type=u.Ay;this.$k.Q(1,0);this.Yj=
0;this.Hm=!1;this.xw=this.iv=0;this.gp=!1;this.Pp=this.xv=0};ia.prototype.kd=function(a,b,c,d){this.kb=a;this.ub=b;this.Wc=this.kb.$e(c);this.Xc=this.ub.$e(c);this.$k=this.kb.ht(d);this.Yj=this.ub.ga()-this.kb.ga()};n.Gb(X,n.l.M.ja);X.prototype.la=n.l.M.ja.prototype;X.am=function(){n.l.M.ja.ja.apply(this,arguments);this.Fi=new f;this.Gi=new f;this.ma=new f;this.xa=new f;this.Rb=new f;this.Sb=new f};X.prototype.wd=function(){return this.Ga.ag(this.ma)};X.prototype.am=function(a){this.la.ja.call(this,
a);this.pg=this.Ga.rd.dD;this.Fi.x=a.Pr.x-this.pg.g.position.x;this.Fi.y=a.Pr.y-this.pg.g.position.y;this.Gi.x=a.Qr.x-this.pg.g.position.x;this.Gi.y=a.Qr.y-this.pg.g.position.y;this.ma.N(a.Wc);this.xa.N(a.Xc);this.zc=a.ql;this.Xm=a.ev+this.zc*a.fv;this.Gz=d.pk(a.Iz,this.Xm-this.zc*X.kr);this.Hz=d.pk(a.Jz,(this.Xm-X.kr)/this.zc);this.Jh=this.Ih=this.t=0};X.prototype.Ff=function(b){var c=this.Ga,d=this.Qa,f;f=c.g.G;var g=this.ma.x-c.h.W.x,h=this.ma.y-c.h.W.y,k=f.j.x*g+f.k.x*h,h=f.j.y*g+f.k.y*h,g=k;
f=d.g.G;var m=this.xa.x-d.h.W.x,p=this.xa.y-d.h.W.y,k=f.j.x*m+f.k.x*p,p=f.j.y*m+f.k.y*p,m=k;f=d.h.o.x+m;var k=d.h.o.y+p,q=this.pg.g.position.x+this.Gi.x,t=this.pg.g.position.y+this.Gi.y;this.Rb.Q(c.h.o.x+g-(this.pg.g.position.x+this.Fi.x),c.h.o.y+h-(this.pg.g.position.y+this.Fi.y));this.Sb.Q(f-q,k-t);f=this.Rb.bg();k=this.Sb.bg();f>a.yb?this.Rb.ca(1/f):this.Rb.La();k>a.yb?this.Sb.ca(1/k):this.Sb.La();0<this.Xm-f-this.zc*k?(this.vv=u.xe,this.t=0):this.vv=u.Hd;f<this.Gz?(this.pv=u.xe,this.Ih=0):this.pv=
u.Hd;k<this.Hz?(this.qv=u.xe,this.Jh=0):this.qv=u.Hd;f=g*this.Rb.y-h*this.Rb.x;k=m*this.Sb.y-p*this.Sb.x;this.Hp=c.T+c.fa*f*f;this.Ip=d.T+d.fa*k*k;this.as=this.Hp+this.zc*this.zc*this.Ip;this.Hp=1/this.Hp;this.Ip=1/this.Ip;this.as=1/this.as;b.Cg?(this.t*=b.Dc,this.Ih*=b.Dc,this.Jh*=b.Dc,b=(-this.t-this.Ih)*this.Rb.x,f=(-this.t-this.Ih)*this.Rb.y,k=(-this.zc*this.t-this.Jh)*this.Sb.x,q=(-this.zc*this.t-this.Jh)*this.Sb.y,c.p.x+=c.T*b,c.p.y+=c.T*f,c.I+=c.fa*(g*f-h*b),d.p.x+=d.T*k,d.p.y+=d.T*q,d.I+=
d.fa*(m*q-p*k)):this.Jh=this.Ih=this.t=0};X.prototype.cf=function(){var a=this.Ga,b=this.Qa,c;c=a.g.G;var f=this.ma.x-a.h.W.x,g=this.ma.y-a.h.W.y,h=c.j.x*f+c.k.x*g,g=c.j.y*f+c.k.y*g,f=h;c=b.g.G;var k=this.xa.x-b.h.W.x,m=this.xa.y-b.h.W.y,h=c.j.x*k+c.k.x*m,m=c.j.y*k+c.k.y*m,k=h,p=0,q=0;this.vv==u.Hd&&(c=a.p.x+-a.I*g,h=a.p.y+a.I*f,p=b.p.x+-b.I*m,q=b.p.y+b.I*k,c=-(this.Rb.x*c+this.Rb.y*h)-this.zc*(this.Sb.x*p+this.Sb.y*q),q=this.as*-c,c=this.t,this.t=d.ce(0,this.t+q),q=this.t-c,c=-q*this.Rb.x,h=-q*this.Rb.y,
p=-this.zc*q*this.Sb.x,q=-this.zc*q*this.Sb.y,a.p.x+=a.T*c,a.p.y+=a.T*h,a.I+=a.fa*(f*h-g*c),b.p.x+=b.T*p,b.p.y+=b.T*q,b.I+=b.fa*(k*q-m*p));this.pv==u.Hd&&(c=a.p.x+-a.I*g,h=a.p.y+a.I*f,c=-(this.Rb.x*c+this.Rb.y*h),q=-this.Hp*c,c=this.Ih,this.Ih=d.ce(0,this.Ih+q),q=this.Ih-c,c=-q*this.Rb.x,h=-q*this.Rb.y,a.p.x+=a.T*c,a.p.y+=a.T*h,a.I+=a.fa*(f*h-g*c));this.qv==u.Hd&&(p=b.p.x+-b.I*m,q=b.p.y+b.I*k,c=-(this.Sb.x*p+this.Sb.y*q),q=-this.Ip*c,c=this.Jh,this.Jh=d.ce(0,this.Jh+q),q=this.Jh-c,p=-q*this.Sb.x,
q=-q*this.Sb.y,b.p.x+=b.T*p,b.p.y+=b.T*q,b.I+=b.fa*(k*q-m*p))};X.prototype.bf=function(){var b=this.Ga,c=this.Qa,f,g=this.pg.g.position.x+this.Fi.x,h=this.pg.g.position.y+this.Fi.y,k=this.pg.g.position.x+this.Gi.x,m=this.pg.g.position.y+this.Gi.y,p=0,q=0,t=0,y=0,w=0,B=0,C=0,K=0;this.vv==u.Hd&&(f=b.g.G,p=this.ma.x-b.h.W.x,q=this.ma.y-b.h.W.y,w=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=w,f=c.g.G,t=this.xa.x-c.h.W.x,y=this.xa.y-c.h.W.y,w=f.j.x*t+f.k.x*y,y=f.j.y*t+f.k.y*y,t=w,f=b.h.o.x+p,w=b.h.o.y+q,B=c.h.o.x+
t,C=c.h.o.y+y,this.Rb.Q(f-g,w-h),this.Sb.Q(B-k,C-m),f=this.Rb.bg(),w=this.Sb.bg(),f>a.yb?this.Rb.ca(1/f):this.Rb.La(),w>a.yb?this.Sb.ca(1/w):this.Sb.La(),f=this.Xm-f-this.zc*w,K=d.ce(K,-f),f=d.Cb(f+a.yb,-a.gf,0),C=-this.as*f,f=-C*this.Rb.x,w=-C*this.Rb.y,B=-this.zc*C*this.Sb.x,C=-this.zc*C*this.Sb.y,b.h.o.x+=b.T*f,b.h.o.y+=b.T*w,b.h.R+=b.fa*(p*w-q*f),c.h.o.x+=c.T*B,c.h.o.y+=c.T*C,c.h.R+=c.fa*(t*C-y*B),b.sc(),c.sc());this.pv==u.Hd&&(f=b.g.G,p=this.ma.x-b.h.W.x,q=this.ma.y-b.h.W.y,w=f.j.x*p+f.k.x*q,
q=f.j.y*p+f.k.y*q,p=w,f=b.h.o.x+p,w=b.h.o.y+q,this.Rb.Q(f-g,w-h),f=this.Rb.bg(),f>a.yb?(this.Rb.x*=1/f,this.Rb.y*=1/f):this.Rb.La(),f=this.Gz-f,K=d.ce(K,-f),f=d.Cb(f+a.yb,-a.gf,0),C=-this.Hp*f,f=-C*this.Rb.x,w=-C*this.Rb.y,b.h.o.x+=b.T*f,b.h.o.y+=b.T*w,b.h.R+=b.fa*(p*w-q*f),b.sc());this.qv==u.Hd&&(f=c.g.G,t=this.xa.x-c.h.W.x,y=this.xa.y-c.h.W.y,w=f.j.x*t+f.k.x*y,y=f.j.y*t+f.k.y*y,t=w,B=c.h.o.x+t,C=c.h.o.y+y,this.Sb.Q(B-k,C-m),w=this.Sb.bg(),w>a.yb?(this.Sb.x*=1/w,this.Sb.y*=1/w):this.Sb.La(),f=this.Hz-
w,K=d.ce(K,-f),f=d.Cb(f+a.yb,-a.gf,0),C=-this.Ip*f,B=-C*this.Sb.x,C=-C*this.Sb.y,c.h.o.x+=c.T*B,c.h.o.y+=c.T*C,c.h.R+=c.fa*(t*C-y*B),c.sc());return K<a.yb};n.Ac.push(function(){n.l.M.am.kr=2});n.Gb(C,n.l.M.va);C.prototype.la=n.l.M.va.prototype;C.Jo=function(){n.l.M.va.va.apply(this,arguments);this.Pr=new f;this.Qr=new f;this.Wc=new f;this.Xc=new f};C.prototype.Jo=function(){this.la.va.call(this);this.type=u.By;this.Pr.Q(-1,1);this.Qr.Q(1,1);this.Wc.Q(-1,0);this.Xc.Q(1,0);this.Jz=this.fv=this.Iz=this.ev=
0;this.ql=1;this.qr=!0};C.prototype.kd=function(a,b,c,d,f,g,h){void 0===h&&(h=0);this.kb=a;this.ub=b;this.Pr.N(c);this.Qr.N(d);this.Wc=this.kb.$e(f);this.Xc=this.ub.$e(g);a=f.x-c.x;c=f.y-c.y;this.ev=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.fv=Math.sqrt(c*c+d*d);this.ql=h;h=this.ev+this.ql*this.fv;this.Iz=h-this.ql*X.kr;this.Jz=(h-X.kr)/this.ql};n.Gb($,n.l.M.ja);$.prototype.la=n.l.M.ja.prototype;$.bm=function(){n.l.M.ja.ja.apply(this,arguments);this.xd=new b;this.Fg=new b;this.Gg=new b;this.Yn=
new b;this.md=new g;this.Og=new f;this.Yh=new f;this.ma=new f;this.xa=new f;this.t=new g;this.Z=new c};$.prototype.wd=function(){return this.Ga.ag(this.ma)};$.prototype.be=function(){return this.Qa.h.R-this.Ga.h.R-this.Np};$.prototype.oh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Jp=a;this.cs=b};$.prototype.bm=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.xa.N(a.Xc);this.Np=a.Yj;this.t.La();this.nb=0;this.Jp=a.uz;this.cs=a.LA;this.iD=a.pD;this.Kp=a.Pp;this.Ug=a.Hm;this.Lj=a.gp;
this.Wa=u.xe};$.prototype.Ff=function(b){var c=this.Ga,f=this.Qa,g,h=0;g=c.g.G;var k=this.ma.x-c.h.W.x,m=this.ma.y-c.h.W.y,h=g.j.x*k+g.k.x*m,m=g.j.y*k+g.k.y*m,k=h;g=f.g.G;var p=this.xa.x-f.h.W.x,q=this.xa.y-f.h.W.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=c.T;var h=f.T,t=c.fa,w=f.fa;this.Z.j.x=g+h+m*m*t+q*q*w;this.Z.k.x=-m*k*t-q*p*w;this.Z.Fa.x=-m*t-q*w;this.Z.j.y=this.Z.k.x;this.Z.k.y=g+h+k*k*t+p*p*w;this.Z.Fa.y=k*t+p*w;this.Z.j.z=this.Z.Fa.x;this.Z.k.z=this.Z.Fa.y;this.Z.Fa.z=t+w;this.Ce=1/(t+
w);0==this.Lj&&(this.nb=0);if(this.Ug){var y=f.h.R-c.h.R-this.Np;d.hd(this.cs-this.Jp)<2*a.zk?this.Wa=u.nj:y<=this.Jp?(this.Wa!=u.yh&&(this.t.z=0),this.Wa=u.yh):y>=this.cs?(this.Wa!=u.Hd&&(this.t.z=0),this.Wa=u.Hd):(this.Wa=u.xe,this.t.z=0)}else this.Wa=u.xe;b.Cg?(this.t.x*=b.Dc,this.t.y*=b.Dc,this.nb*=b.Dc,b=this.t.x,y=this.t.y,c.p.x-=g*b,c.p.y-=g*y,c.I-=t*(k*y-m*b+this.nb+this.t.z),f.p.x+=h*b,f.p.y+=h*y,f.I+=w*(p*y-q*b+this.nb+this.t.z)):(this.t.La(),this.nb=0)};$.prototype.cf=function(a){var b=
this.Ga,c=this.Qa,f=0,g=0,h=0,k=0,m=0,p=b.p,q=b.I,t=c.p,w=c.I,y=b.T,C=c.T,B=b.fa,K=c.fa;this.Lj&&this.Wa!=u.nj&&(g=this.Ce*-(w-q-this.Kp),h=this.nb,k=a.Ua*this.iD,this.nb=d.Cb(this.nb+g,-k,k),g=this.nb-h,q-=B*g,w+=K*g);if(this.Ug&&this.Wa!=u.xe){a=b.g.G;g=this.ma.x-b.h.W.x;h=this.ma.y-b.h.W.y;f=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=f;a=c.g.G;k=this.xa.x-c.h.W.x;m=this.xa.y-c.h.W.y;f=a.j.x*k+a.k.x*m;m=a.j.y*k+a.k.y*m;k=f;a=t.x+-w*m-p.x- -q*h;var L=t.y+w*k-p.y-q*g;this.Z.co(this.md,-a,-L,-(w-q));this.Wa==
u.nj?this.t.Dg(this.md):this.Wa==u.yh?(f=this.t.z+this.md.z,0>f&&(this.Z.Pl(this.Yh,-a,-L),this.md.x=this.Yh.x,this.md.y=this.Yh.y,this.md.z=-this.t.z,this.t.x+=this.Yh.x,this.t.y+=this.Yh.y,this.t.z=0)):this.Wa==u.Hd&&(f=this.t.z+this.md.z,0<f&&(this.Z.Pl(this.Yh,-a,-L),this.md.x=this.Yh.x,this.md.y=this.Yh.y,this.md.z=-this.t.z,this.t.x+=this.Yh.x,this.t.y+=this.Yh.y,this.t.z=0));p.x-=y*this.md.x;p.y-=y*this.md.y;q-=B*(g*this.md.y-h*this.md.x+this.md.z);t.x+=C*this.md.x;t.y+=C*this.md.y;w+=K*(k*
this.md.y-m*this.md.x+this.md.z)}else a=b.g.G,g=this.ma.x-b.h.W.x,h=this.ma.y-b.h.W.y,f=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=f,a=c.g.G,k=this.xa.x-c.h.W.x,m=this.xa.y-c.h.W.y,f=a.j.x*k+a.k.x*m,m=a.j.y*k+a.k.y*m,k=f,this.Z.Pl(this.Og,-(t.x+-w*m-p.x- -q*h),-(t.y+w*k-p.y-q*g)),this.t.x+=this.Og.x,this.t.y+=this.Og.y,p.x-=y*this.Og.x,p.y-=y*this.Og.y,q-=B*(g*this.Og.y-h*this.Og.x),t.x+=C*this.Og.x,t.y+=C*this.Og.y,w+=K*(k*this.Og.y-m*this.Og.x);b.p.N(p);b.I=q;c.p.N(t);c.I=w};$.prototype.bf=function(){var b=
0,c,f=this.Ga,g=this.Qa,h=0,k=0,m=0,p=0;if(this.Ug&&this.Wa!=u.xe){var b=g.h.R-f.h.R-this.Np,q=0;this.Wa==u.nj?(b=d.Cb(b-this.Jp,-a.jr,a.jr),q=-this.Ce*b,h=d.hd(b)):this.Wa==u.yh?(b-=this.Jp,h=-b,b=d.Cb(b+a.zk,-a.jr,0),q=-this.Ce*b):this.Wa==u.Hd&&(h=b-=this.cs,b=d.Cb(b-a.zk,0,a.jr),q=-this.Ce*b);f.h.R-=f.fa*q;g.h.R+=g.fa*q;f.sc();g.sc()}c=f.g.G;q=this.ma.x-f.h.W.x;b=this.ma.y-f.h.W.y;k=c.j.x*q+c.k.x*b;b=c.j.y*q+c.k.y*b;q=k;c=g.g.G;var t=this.xa.x-g.h.W.x,w=this.xa.y-g.h.W.y,k=c.j.x*t+c.k.x*w,w=c.j.y*
t+c.k.y*w,t=k,m=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+w-f.h.o.y-b,y=m*m+p*p;c=Math.sqrt(y);var k=f.T,C=g.T,B=f.fa,K=g.fa,L=10*a.yb;y>L*L&&(y=1/(k+C),m=y*-m,p=y*-p,f.h.o.x-=.5*k*m,f.h.o.y-=.5*k*p,g.h.o.x+=.5*C*m,g.h.o.y+=.5*C*p,m=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+w-f.h.o.y-b);this.Fg.j.x=k+C;this.Fg.k.x=0;this.Fg.j.y=0;this.Fg.k.y=k+C;this.Gg.j.x=B*b*b;this.Gg.k.x=-B*q*b;this.Gg.j.y=-B*q*b;this.Gg.k.y=B*q*q;this.Yn.j.x=K*w*w;this.Yn.k.x=-K*t*w;this.Yn.j.y=-K*t*w;this.Yn.k.y=K*t*t;this.xd.rk(this.Fg);this.xd.wq(this.Gg);
this.xd.wq(this.Yn);this.xd.sk($.ow,-m,-p);m=$.ow.x;p=$.ow.y;f.h.o.x-=f.T*m;f.h.o.y-=f.T*p;f.h.R-=f.fa*(q*p-b*m);g.h.o.x+=g.T*m;g.h.o.y+=g.T*p;g.h.R+=g.fa*(t*p-w*m);f.sc();g.sc();return c<=a.yb&&h<=a.zk};n.Ac.push(function(){n.l.M.bm.ow=new f});n.Gb(Ca,n.l.M.va);Ca.prototype.la=n.l.M.va.prototype;Ca.cm=function(){n.l.M.va.va.apply(this,arguments);this.Wc=new f;this.Xc=new f};Ca.prototype.cm=function(){this.la.va.call(this);this.type=u.Ar;this.Wc.Q(0,0);this.Xc.Q(0,0);this.Pp=this.pD=this.LA=this.uz=
this.Yj=0;this.gp=this.Hm=!1};Ca.prototype.kd=function(a,b,c){this.kb=a;this.ub=b;this.Wc=this.kb.$e(c);this.Xc=this.ub.$e(c);this.Yj=this.ub.ga()-this.kb.ga()};n.Gb(pa,n.l.M.ja);pa.prototype.la=n.l.M.ja.prototype;pa.No=function(){n.l.M.ja.ja.apply(this,arguments);this.Re=new f;this.Pf=new f;this.t=new g;this.Z=new c};pa.prototype.wd=function(){return this.Ga.ag(this.Re)};pa.prototype.No=function(a){this.la.ja.call(this,a);this.Re.N(a.Wc);this.Pf.N(a.Xc);this.Np=a.Yj;this.t.La();this.Z=new c};pa.prototype.Ff=
function(a){var b,c=0,d=this.Ga,f=this.Qa;b=d.g.G;var g=this.Re.x-d.h.W.x,h=this.Re.y-d.h.W.y,c=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=c;b=f.g.G;var k=this.Pf.x-f.h.W.x,m=this.Pf.y-f.h.W.y,c=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=c;b=d.T;var c=f.T,p=d.fa,q=f.fa;this.Z.j.x=b+c+h*h*p+m*m*q;this.Z.k.x=-h*g*p-m*k*q;this.Z.Fa.x=-h*p-m*q;this.Z.j.y=this.Z.k.x;this.Z.k.y=b+c+g*g*p+k*k*q;this.Z.Fa.y=g*p+k*q;this.Z.j.z=this.Z.Fa.x;this.Z.k.z=this.Z.Fa.y;this.Z.Fa.z=p+q;a.Cg?(this.t.x*=a.Dc,this.t.y*=a.Dc,this.t.z*=
a.Dc,d.p.x-=b*this.t.x,d.p.y-=b*this.t.y,d.I-=p*(g*this.t.y-h*this.t.x+this.t.z),f.p.x+=c*this.t.x,f.p.y+=c*this.t.y,f.I+=q*(k*this.t.y-m*this.t.x+this.t.z)):this.t.La()};pa.prototype.cf=function(){var a,b=0,c=this.Ga,d=this.Qa,f=c.p,h=c.I,k=d.p,m=d.I,p=c.T,q=d.T,t=c.fa,u=d.fa;a=c.g.G;var w=this.Re.x-c.h.W.x,y=this.Re.y-c.h.W.y,b=a.j.x*w+a.k.x*y,y=a.j.y*w+a.k.y*y,w=b;a=d.g.G;var C=this.Pf.x-d.h.W.x,B=this.Pf.y-d.h.W.y,b=a.j.x*C+a.k.x*B,B=a.j.y*C+a.k.y*B,C=b;a=k.x-m*B-f.x+h*y;var b=k.y+m*C-f.y-h*w,
K=m-h,L=new g;this.Z.co(L,-a,-b,-K);this.t.Dg(L);f.x-=p*L.x;f.y-=p*L.y;h-=t*(w*L.y-y*L.x+L.z);k.x+=q*L.x;k.y+=q*L.y;m+=u*(C*L.y-B*L.x+L.z);c.I=h;d.I=m};pa.prototype.bf=function(){var b,c=0,f=this.Ga,h=this.Qa;b=f.g.G;var k=this.Re.x-f.h.W.x,m=this.Re.y-f.h.W.y,c=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=c;b=h.g.G;var p=this.Pf.x-h.h.W.x,q=this.Pf.y-h.h.W.y,c=b.j.x*p+b.k.x*q,q=b.j.y*p+b.k.y*q,p=c;b=f.T;var c=h.T,t=f.fa,u=h.fa,w=h.h.o.x+p-f.h.o.x-k,y=h.h.o.y+q-f.h.o.y-m,C=h.h.R-f.h.R-this.Np,B=10*a.yb,K=
Math.sqrt(w*w+y*y),L=d.hd(C);K>B&&(t*=1,u*=1);this.Z.j.x=b+c+m*m*t+q*q*u;this.Z.k.x=-m*k*t-q*p*u;this.Z.Fa.x=-m*t-q*u;this.Z.j.y=this.Z.k.x;this.Z.k.y=b+c+k*k*t+p*p*u;this.Z.Fa.y=k*t+p*u;this.Z.j.z=this.Z.Fa.x;this.Z.k.z=this.Z.Fa.y;this.Z.Fa.z=t+u;B=new g;this.Z.co(B,-w,-y,-C);f.h.o.x-=b*B.x;f.h.o.y-=b*B.y;f.h.R-=t*(k*B.y-m*B.x+B.z);h.h.o.x+=c*B.x;h.h.o.y+=c*B.y;h.h.R+=u*(p*B.y-q*B.x+B.z);f.sc();h.sc();return K<=a.yb&&L<=a.zk};n.Gb(Da,n.l.M.va);Da.prototype.la=n.l.M.va.prototype;Da.Oo=function(){n.l.M.va.va.apply(this,
arguments);this.Wc=new f;this.Xc=new f};Da.prototype.Oo=function(){this.la.va.call(this);this.type=u.Cy;this.Yj=0};Da.prototype.kd=function(a,b,c){this.kb=a;this.ub=b;this.Wc.N(this.kb.$e(c));this.Xc.N(this.ub.$e(c));this.Yj=this.ub.ga()-this.kb.ga()}})();(function(){var a=n.l.He;a.He=function(){};a.prototype.He=function(){}})();var s;for(s=0;s<n.Ac.length;++s)n.Ac[s]();delete n.Ac;var ca={autoplay:!1,duration:5E3,Ir:[],loop:!1,placeholder:"--",os:"metadata",volume:80},ea={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},fa=[],ga=document.createElement("audio");
function ha(a,b){function c(a,b){var c=document.createElement("source");c.src=b;ea[b.split(".").pop()]&&(c.type=ea[b.split(".").pop()]);a.appendChild(c)}b=b||{};var d=[],f=!!ga.canPlayType;this.load=function(){if(!f)return this;this.ud.load();return this};this.play=function(){if(!f)return this;this.ud.play();return this};this.pause=function(){if(!f)return this;this.ud.pause();return this};this.OC=function(){return f?this.ud.paused:null};this.stop=function(){if(!f)return this;this.setTime(0);this.ud.pause();
return this};this.loop=function(){if(!f)return this;this.ud.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()});return this};this.Mi=function(){if(!f)return this;this.ud.muted=!0;return this};this.eh=function(a){f&&(0>a&&(a=0),100<a&&(a=100),this.volume=a,this.ud.volume=a/100)};this.setTime=function(a){if(!f)return this;this.TA(function(){this.ud.currentTime=a});return this};this.getTime=function(){if(!f)return null;var a=Math.round(100*this.ud.currentTime)/100;return isNaN(a)?
ca.placeholder:a};this.set=function(a,b){if(!f)return this;this.ud[a]=b;return this};this.get=function(a){return f?a?this.ud[a]:this.ud:null};this.bind=function(a,b){function c(a){b.call(g,a)}if(!f)return this;a=a.split(" ");for(var g=this,h=0;h<a.length;h++){var k=a[h],w=k,k=w.split(".")[0];d.push({YF:w,XF:c});this.ud.addEventListener(k,c,!0)}return this};this.vC=function(a,b){function c(){setTimeout(function(){0>d&&0>h.volume?(h.eh(h.volume+=1),c()):0<d&&0<h.volume?(h.eh(--h.volume),c()):b instanceof
Function&&b.apply(h)},g)}if(f){a instanceof Function?(b=a,a=ca.duration):a=a||ca.duration;var d=this.volume,g=a/Math.abs(d-0),h=this;this.play();this.TA(function(){c()})}};this.Hy=function(a,b){f&&this.vC(a,b)};this.TA=function(a){if(f){var b=this;0===this.ud.readyState?this.bind("canplay.buzzwhenready",function(){a.call(b)}):a.call(b)}};if(f&&a){for(var g in ca)ca.hasOwnProperty(g)&&(b[g]=b[g]||ca[g]);this.ud=document.createElement("audio");if(a instanceof Array)for(var h in a)a.hasOwnProperty(h)&&
c(this.ud,a[h]);else if(b.Ir.length)for(var k in b.Ir)b.Ir.hasOwnProperty(k)&&c(this.ud,a+"."+b.Ir[k]);else c(this.ud,a);b.loop&&this.loop();b.autoplay&&(this.ud.autoplay="autoplay");this.ud.os=!0===b.os?"auto":!1===b.os?"none":b.os;this.eh(b.volume);fa.push(this)}};var ja={Menu:"complex",Interlude:"complex","Hive 1":"kickit","Hive 2":"breakthru","Hive 3":"emergence","Hive 4":"fire",Tessellation:"driven","Final Tessellation":"wicked"},ka={driven:27.46,wicked:2.922},la={impulse:"effects/impulse",pdeath:"effects/pdeath",ffrenzy:"effects/ffrenzy",sparks:"effects/sparks",ult:"effects/ult",pwheel:"effects/pwheel",goo:"effects/goo",sshot:"effects/sshot",deathray:"effects/deathray",b1hit:"effects/b1hit",b1shrink:"effects/b1shrink",b1grow:"effects/b1grow",b2bhole:"effects/b2bhole",
b3strike:"effects/b3strike",b3select:"effects/b3select",b4spawner:"effects/b4spawner",b4attacker:"effects/b4attacker",b4darkness:"effects/b4darkness"},ma={b3tick:{file:"effects/b3tick",Li:2},sdeath:{file:"effects/sdeath",Li:4},tdeath:{file:"effects/tdeath",Li:4},hfire:{file:"effects/hfire",Li:2},hhit:{file:"effects/hhit",Li:2},fbullet:{file:"effects/fbullet",Li:4},fbullethit:{file:"effects/fbullethit",Li:4},b2eat:{file:"effects/b2eat",Li:4},b4spawneract:{file:"effects/b4spawneract",Li:2}},na={"Hive 0":"bg/hive0",
"Title Alt1":"bg/titlebg_alt1","Title Alt2":"bg/titlebg_alt2","Title Alt3":"bg/titlebg_alt3","Title Alt4":"bg/titlebg_alt4","Hive 1":"bg/hive1","Hive 2":"bg/hive2","Hive 3":"bg/hive3","Hive 4":"bg/hive4"},oa={1:"IGNAVIAM",2:"CONSUMENDI",3:"NEGLIGENTIA",4:"ADROGANTIA"},ra=[{xp:4,Rc:500},{xp:5,Rc:1E3},{xp:6,Rc:2E3},{xp:7,Rc:5E3},{xp:8,Rc:7E3},{xp:9,Rc:1E4}],sa=[{Os:1,Rc:50},{Os:2,Rc:3E3},{Os:3,Rc:8E3}],ta=[{ai:11,Rc:200},{ai:12,Rc:750},{ai:13,Rc:1500},{ai:14,Rc:4E3},{ai:15,Rc:6E3},{ai:16,Rc:9E3}],ua=
{},va,wa,xa;for(xa in ma)la[xa]=ma[xa].file;
var z={bronze:"#cc8032",silver:"#c0c0c0",impulse_target_blue:"rgba(0, 128, 255, 0.2)",impulse_blue:"rgb(0, 128, 255)",impulse_blue_dark:"#13527e",gold:"#edb900","world 0":"#333","world 0 lite":"#999","world 0 bright":"#fff","world 0 dark":"#080808","world 1":"#034903","world 1 lite":"#046a04","world 1 bright":"#00ff00","world 1 dark":"#000d00","world 2":"#0020b0","world 2 lite":"#0028dd","world 2 bright":"#003DFF","world 2 dark":"#010310","world 3":"#450555","world 3 lite":"#5f0775","world 3 dark":"#0f0013",
"world 3 bright":"#C000FF","world 4":"#600","world 4 lite":"#a00","world 4 dark":"#180000","world 4 bright":"#f00",player_color:"rgb(32, 140, 231)",boss:"red","boss dark":"#900","boss 1":"#05c205","boss 2":"#002eff","boss 3":"#C000FF","boss 4":"#f00"};
function ya(){var a=D.Fb+" "+D.uc;"left mouse"==a?ua={Jq:37,Oq:38,Mq:39,zq:40,$i:13,ft:71,qk:27,Dq:16,kt:77,bt:70,Sw:39,nx:37,Lq:16,ix:39,Rw:37,jx:39,Ow:40,gx:13}:"right mouse"==a?ua={Jq:65,Oq:87,Mq:68,zq:83,$i:81,ft:71,qk:27,Dq:32,kt:77,bt:70,Sw:69,Lq:82,nx:83,ix:81,Rw:69,jx:82,Ow:68,gx:32}:"right keyboard"==a&&(ua={Jq:37,Oq:38,Mq:39,zq:40,$i:81,ft:71,qk:27,ax:65,cx:87,bx:68,$w:83,Dq:32,kt:77,bt:70,Sw:69,Lq:82,nx:83,ix:81,Rw:69,jx:82,Ow:68,gx:32,zF:69})};function za(a,b,c,d,f,g,h){a.beginPath();a.arc(b*E,c*E,d*E*2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI*f,!0);a.lineWidth=h?h:2;a.strokeStyle=g;a.stroke()}function Aa(a,b,c,d,f){a.moveTo(b*E,c*E-d*E*2);a.arc(b*E,c*E,d*E*2,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*f,!0)}
function Ba(a,b,c,d,f,g){void 0===g&&(g=1);a.save();for(var h=a.shadowBlur=0;h<c.length;h++)if(!1!==c[h].visible){var k=c[h],m=c[h].ba,q=c[h].color?c[h].color:f;a.beginPath();if("polygon"==k.type){a.moveTo(g*(k.x+k.Y*m[0][0])*E,g*(k.y+k.Y*m[0][1])*E);for(var p=1;p<m.length;p++)a.lineTo(g*(k.x+k.Y*m[p][0])*E,g*(k.y+k.Y*m[p][1])*E)}a.closePath();p=G[d].gz;a.fillStyle=q;"normal"==b&&p&&(a.fillStyle=p);a.fillStyle="black";"lighten"!=b&&a.fill();a.strokeStyle=q;a.lineWidth=2*Math.sqrt(g);"lighten"==b&&
(a.strokeStyle="black",a.lineWidth=4*Math.sqrt(g));a.stroke()}if(b=G[d].Fy){a.beginPath();for(p=0;p<b.length;p++)a.moveTo(g*b[p][0][0]*E,g*b[p][0][1]*E),a.lineTo(g*b[p][1][0]*E,g*b[p][1][1]*E);a.strokeStyle="black";a.lineWidth=3;a.globalAlpha=1;a.stroke()}b=G[d].Gy;d=G[d].K;if("undefined"!==typeof b)for(c=0;c<b.length;c++)a.beginPath(),f=b[c],a.moveTo(g*d*f.x1*E,g*d*f.y1*E),a.lineTo(g*d*f.x2*E,g*d*f.y2*E),a.lineWidth=2,a.strokeStyle=q,a.stroke();a.restore()}
function Ea(a,b,c,d,f,g,h,k){"boss"!=b.slice(b.length-4)&&(a.save(),a.translate(c,d),g&&a.rotate(g),void 0===h&&(h="normal"),c=G[b].K*E*Fa.prototype.Km,f=null==f?c:f*Math.min(G[b].K/1.5,1),Ga(a,b,f,h,k),a.restore())}
function Ga(a,b,c,d,f){void 0===f&&(f=G[b].className.prototype.Rk(d),f||(f=G[b].color));var g=G[b].wr;g||(g=G[b].Xb);Ba(a,d,g,b,f,c/(Fa.prototype.Km*G[b].K*E));d=G[b].className.prototype.Rk(d);d||(d=G[b].color);if("undefined"!==typeof G[b].rj)for(f=0;f<G[b].rj.length;f++)g=G[b].rj[f],g.nu?Ha(a,0,0,g,c,d):Ha(a,0,0,g,c,d,1,0,"black")}function Ia(a,b,c,d,f,g){a.save();a.translate(c,d);g&&a.rotate(g);Ga(a,b,G[b].images.normal.height*f/2,"normal");a.restore()}var Ja={0:1.4,1:1,2:1.4,3:1.4,4:1.6};
function Ka(a,b,c,d,f,g,h){f*=Ja[b];a.save();g&&(a.globalAlpha*=.5,1==b&&I(a,c,d,Math.PI/4,2*f,2*f,La[b],Ma[b]),I(a,c,d,Math.PI/4,1.5*f,1.5*f,La[b],Ma[b]));a.restore();a.save();a.translate(c,d);a.rotate((h?h:0)+(4!=b&&2!=b?Math.PI/4:0));I(a,0,0,0,f,f,Na[b],Ma[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle=z["boss "+b],a.stroke());a.restore()}
function Oa(a,b,c,d,f){f*=Ja[b];a.save();a.translate(c,d);4!=b&&2!=b&&a.rotate(Math.PI/4);I(a,0,0,0,f,f,Pa[b],Ma[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle="gray",a.stroke());a.restore()}
function Qa(a,b,c,d,f,g){a.save();a.shadowColor=f;a.shadowBlur=0;Ra(a,b,c-d,.9*d,.9*d,.2*d,f);Ra(a,b-d,c,.9*d,.9*d,.2*d,f);Ra(a,b,c,.9*d,.9*d,.2*d,f);Ra(a,b+d,c,.9*d,.9*d,.2*d,f);a.fillStyle=f;a.font=.4*d+"px Muli";a.textAlign="center";g?(a.fillText(g[0],b,c-1*d),a.fillText(g[1],b-d,c+0*d),a.fillText(g[2],b,c+0*d),a.fillText(g[3],b+d,c+0*d),Sa(a,b,c-.8*d,.3*d,"up",f),Sa(a,b-d,c+.2*d,.3*d,"left",f),Sa(a,b,c+.2*d,.3*d,"down",f),Sa(a,b+d,c+.2*d,.3*d,"right",f)):(Sa(a,b,c-d,.5*d,"up",f),Sa(a,b-d,c,.5*
d,"left",f),Sa(a,b,c-2,.5*d,"down",f),Sa(a,b+d,c,.5*d,"right",f));a.restore()}function Ta(a,b,c,d,f,g){a.save();a.fillStyle=g;Ra(a,b,c,d,f,.25*f,g);a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Ua(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Ra(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b-d/2,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Va(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Ra(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Ra(a,b,c,d,f,g,h){a.save();a.shadowColor=h;a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2+g,c-f/2);a.arcTo(b+d/2,c-f/2,b+d/2,c+f/2,g);a.arcTo(b+d/2,c+f/2,b-d/2,c+f/2,g);a.arcTo(b-d/2,c+f/2,b-d/2,c-f/2,g);a.arcTo(b-d/2,c-f/2,b+d/2,c-f/2,g);a.closePath();a.strokeStyle=h;a.lineWidth=2;a.stroke();a.restore()}function Wa(a,b,c,d){a.save();a.beginPath();a.rect(b-15,c-15,30,30);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.fillStyle=d;a.font="20px Muli";a.fillText("f",b,c+7.5);a.restore()}
function Xa(a,b,c,d,f,g){a.save();var h=2*Math.PI/24;a.beginPath();for(var k=0;6>k;k++)0==k?a.moveTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))):a.lineTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))),a.lineTo(b-15*Math.cos(h*(4*k+.6)),c-15*Math.sin(h*(4*k+.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+1.6)),c-11.25*Math.sin(h*(4*k+1.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+2.6)),c-11.25*Math.sin(h*(4*k+2.6)));a.closePath();a.fillStyle=d;a.fill();g&&(a.globalAlpha/=2);a.beginPath();a.arc(b,
c,7.5,0,1.998*Math.PI);a.fillStyle=f;a.fill();a.restore()}function Ya(a,b,c,d){a.save();a.beginPath();a.arc(b,c-5,5,0,2*Math.PI,!0);a.moveTo(b,c+12.5);a.arc(b,c+12.5,10,0,Math.PI,!0);a.fillStyle=d;a.fill();a.restore()}function Za(a,b,c,d){a.save();a.beginPath();a.moveTo(b,c-13/3);a.lineTo(b-13,c-26/3);a.lineTo(b-13,c+26/3);a.lineTo(b,c+13);a.moveTo(b,c+13);a.lineTo(b,c-13/3);a.lineTo(b+13,c-26/3);a.lineTo(b+13,c+26/3);a.lineTo(b,c+13);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.restore()}
function $a(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,2*Math.PI/5,Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.arc(b,c,9.75,7*Math.PI/5,2*Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b-2.4375,c);a.lineTo(b-15.4375,c);a.lineTo(b-8.9375,c-6.5);a.moveTo(b+2.4375,c);a.lineTo(b+15.4375,c);a.lineTo(b+8.9375,c+6.5);a.fillStyle=d;a.fill();a.restore()}
function ab(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,3*Math.PI/2,3*Math.PI/4);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b,c-2.4375);a.lineTo(b,c-15.4375);a.lineTo(b-6.5,c-8.9375);a.fillStyle=d;a.fill();a.restore()}function bb(a,b,c,d,f){a.save();cb(a,b,c,d/2,f);a.beginPath();a.arc(b,c,d,7*Math.PI/6,11*Math.PI/6);a.lineWidth=Math.ceil(d/6);a.strokeStyle=f;a.stroke();a.restore()}
function cb(a,b,c,d,f){a.beginPath();a.arc(b,c,d,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill();a.beginPath();a.arc(b,c,4*d/5,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle="black";a.fill();a.beginPath();a.arc(b,c,11*d/20,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill()}
function db(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.moveTo(b-12,c-12);a.lineTo(b-12,c+12);a.lineTo(b+12,c+12);a.lineTo(b+12,c-12);a.lineTo(b,c-12);a.lineTo(b,c);a.lineWidth=5;a.stroke();a.beginPath();a.moveTo(b-7,c-3);a.lineTo(b+7,c-3);a.lineTo(b,c+4);a.fill();a.restore()}
function eb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.arc(b,c,12.6,0,2*Math.PI,!0);a.lineWidth=3;a.stroke();a.beginPath();a.lineWidth=4;a.moveTo(b,c-7.2);a.lineTo(b,c+3.6);a.moveTo(b,c+18*.3);a.lineTo(b,c+7.2);a.stroke();a.restore()}
function fb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-3*d/8,c-d/4);a.lineTo(b+3*d/8,c-d/4);a.moveTo(b-d/4,c-d/4);a.lineTo(b-d/4,c+d/2);a.lineTo(b+d/4,c+d/2);a.lineTo(b+d/4,c-d/4);a.moveTo(b-d/8,c-d/8);a.lineTo(b-d/8,c+3*d/8);a.moveTo(b,c-d/8);a.lineTo(b,c+3*d/8);a.moveTo(b+d/8,c-d/8);a.lineTo(b+d/8,c+3*d/8);a.moveTo(b-d/8,c-d/4);a.lineTo(b-d/8,c-3*d/8);a.lineTo(b+d/8,c-3*d/8);a.lineTo(b+d/8,c-d/4);a.strokeStyle=f;a.lineWidth=2;a.stroke();a.restore()}
function gb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2,c-d/2);a.lineTo(b+d/2,c+d/2);a.moveTo(b-d/2,c+d/2);a.lineTo(b+d/2,c-d/2);a.strokeStyle=f;a.lineWidth=5;a.stroke();a.restore()}function hb(a,b,c,d){a.save();a.translate(b,c);a.transform(1,-.35,0,1,0,0);a.translate(-b,-c);a.beginPath();a.moveTo(b-10,c);a.lineTo(b+10,c);a.moveTo(b-10,c+10);a.lineTo(b+10,c+10);a.lineWidth=6;a.strokeStyle=d;a.stroke();a.restore()}
function ib(a,b,c,d){a.save();a.beginPath();a.rect(b-5,c-10,10,10);a.rect(b-10,c,10,10);a.rect(b,c,10,10);a.strokeStyle=d;a.lineWidth=4;a.stroke();a.restore()}
function jb(a,b,c,d){a.save();a.translate(20/3,0);a.beginPath();a.moveTo(b-20/3,c+10);a.lineTo(b-20/3,c-20/6);a.lineTo(b+20/3,c-40/6);a.lineTo(b+20/3,c+40/6);a.lineWidth=4;a.strokeStyle=d;a.stroke();var f=b-10,g=c+10;a.save();a.translate(f,g);a.scale(1.3,1);a.translate(-f,-g);a.beginPath();a.arc(f,g,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();a.restore();b+=20/6;c+=20/3;a.save();a.translate(b,c);a.scale(1.3,1);a.translate(-b,-c);a.beginPath();a.arc(b,c,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();
a.restore();a.restore()}
function lb(a,b,c,d,f,g){a.save();a.beginPath();a.moveTo(b-.3*d-d/2*.75,c-d/2*.6);a.lineTo(b-.3*d,c-d/2*.6);a.lineTo(b-.3*d+d/2*.75,c-.6*d);a.lineTo(b-.3*d+d/2*.75,c+.6*d);a.lineTo(b-.3*d,c+d/2*.6);a.lineTo(b-.3*d-d/2*.75,c+d/2*.6);a.fillStyle=f;a.fill();g?(a.beginPath(),a.arc(b-.3*d+.75*d,c,d/2*.45,0,2*Math.PI,!0),a.moveTo(b-.3*d+.75*d-Math.cos(Math.PI/4)*d/2*.45,c-Math.cos(Math.PI/4)*d/2*.45),a.lineTo(b-.3*d+.75*d+Math.cos(Math.PI/4)*d/2*.45,c+Math.cos(Math.PI/4)*d/2*.405),a.lineWidth=2,a.strokeStyle=
f):(a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2*.6,-Math.PI/3,Math.PI/3,!1),a.lineWidth=2,a.strokeStyle=f,a.stroke(),a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2,-Math.PI/3,Math.PI/3,!1));a.stroke();a.restore()}
function Ha(a,b,c,d,f,g,h,k,m){h="undefined"!==typeof h?h:1;k="undefined"!==typeof k?k:0;a.beginPath();a.save();0!=k&&(a.translate(b,c),a.rotate(k),a.translate(-b,-c));"circle"==d.type&&a.arc(b+d.x,c+d.y,f*d.Y,0,1.998*Math.PI);if("polygon"==d.type){a.moveTo(b+(d.x+d.ba[0][0]*d.Y)*f,c+(d.y+d.ba[0][1]*d.Y)*f);for(k=1;k<d.ba.length;k++)a.lineTo(b+(d.x+d.ba[k][0]*d.Y)*f,c+(d.y+d.ba[k][1]*d.Y)*f);a.closePath()}a.globalAlpha*=h;a.fillStyle=g;m&&"none"!=m?a.fillStyle=m:a.globalAlpha/=3;"none"!=m&&a.fill();
m&&"none"!=m||(a.globalAlpha*=3);a.strokeStyle=g;a.lineWidth=2;a.stroke();a.restore()}
function Sa(a,b,c,d,f,g,h){h=void 0==h?!1:h;a.save();a.translate(b,c);"left"==f?a.rotate(Math.PI):"up"==f?a.rotate(3*Math.PI/2):"down"==f&&a.rotate(Math.PI/2);a.beginPath();a.moveTo(Math.cos(0)*d/2,Math.sin(0)*d/2);a.lineTo(Math.cos(2*Math.PI/3)*d/2,Math.sin(2*Math.PI/3)*d/2);a.lineTo(Math.cos(4*Math.PI/3)*d/2,Math.sin(4*Math.PI/3)*d/2);a.closePath();a.fillStyle=g;h?(a.shadowBlur=10,a.shadowColor=g):a.shadowBlur=0;a.fill();a.restore()}
function mb(a,b,c,d){a.save();a.textAlign="center";a.shadowColor=z.impulse_blue;a.shadowBlur=0;a.fillStyle="white";a.drawImage(nb,b-nb.width/2*.85,c-.6375*nb.height,.85*nb.width,.85*nb.height);d&&(a.font="16px Muli",a.fillText(d,b,c+40));a.restore()}
function ob(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.rect(c-100,d-75,200,150);a.clip();a.beginPath();a.rect(c-100,d-75,200,150);a.save();a.globalAlpha*=.3;a.fillStyle=f;a.fill();a.restore();var g=null;"easy"==J&&(g=N[b].Af);g||(g=N[b].Ja);if(g){for(b=0;b<g.length;b++){a.beginPath();a.moveTo(c-100+g[b][0][0]/O*200,d-75+g[b][0][1]/P*150);for(var h=1;h<g[b].length;h++)a.lineTo(c-100+g[b][h][0]/O*200,d-75+g[b][h][1]/P*150);a.closePath();a.fillStyle="black";a.strokeStyle=f;a.lineWidth=2;a.stroke();
a.fill()}a.restore();a.save();a.beginPath();a.shadowBlur=0;a.rect(c-100,d-75,200,150);a.lineWidth=2;a.strokeStyle=f;a.stroke();a.restore()}}
function pb(){var a=document.createElement("canvas");a.width=400;a.height=400;var b=a.getContext("2d");b.globalAlpha=.2;I(b,a.width/2,a.height/2,0,.7*a.width,.7*a.height,"ultimate");b.globalAlpha=1;for(var c=0;48>c;c++){var d=c%2?.4*a.width:.42*a.width;I(b,a.width/2+d*Math.cos(c*Math.PI*2/48),a.height/2+d*Math.sin(c*Math.PI*2/48),2*Math.PI/48*c,32,18,"ultimate_shard")}return a}function qb(a){var b=new Image;b.src=a;return b}
var rb=qb("art/sprites.png"),sb={player_normal:[0,0,40,40],player_red:[40,-1,40,40],player_yellow:[80,0,41,41],player_gray:[120,0,41,41],player_green:[160,0,41,41],player_white:[200,0,40,40],spark:[0,41,40,40],multi:[0,81,40,40],white_glow:[40,40,100,100],ultimate:[148,41,150,150],lives_icon:[0,0,40,40],sparks_icon:[0,41,40,40],ultimate_icon:[0,155,42,42],ultimate_icon_blue:[43,155,42,42],ultimate_shard:[0,121,18,32],world1_starblank:[85,199,41,38],world1_starhalf:[127,199,19,38],world1_star:[127,
199,41,38],world2_starblank:[85,237,41,38],world2_starhalf:[127,237,19,38],world2_star:[127,237,41,38],world3_starblank:[0,199,41,38],world3_starhalf:[42,199,19,38],world3_star:[42,199,41,38],world4_starblank:[0,237,41,38],world4_starhalf:[42,237,19,38],world4_star:[42,237,41,38],silver_trophy:[0,277,90,78],gold_trophy:[89,277,90,78],world1_timer:[189,211,48,61],world2_timer:[241,211,48,61],world3_timer:[189,277,48,62],world4_timer:[241,277,48,62],spark_powerup:[310,6,37,36],multi_powerup:[310,58,
37,36],ult_powerup:[304,105,49,48],immunitas_arm:[0,0,90,90],immunitas_arm_red:[150,135,90,90],immunitas_hand:[90,0,90,90],immunitas_hand_red:[240,135,90,90],immunitas_logo_gray:[330,135,90,90],immunitas_head:[0,90,108,108],immunitas_head_red:[450,123,108,108],immunitas_glow:[180,0,135,135],immunitas_red_glow:[315,0,135,135],immunitas_aura:[450,0,123,123],immunitas_aura_red:[573,0,123,123],immunitas_arrow:[0,200,70,70],immunitas_lockon:[573,123,120,120],consumendi_head:[0,0,180,180],consumendi_head_red:[720,
136,135,135],consumendi_aura:[181,0,269,269],consumendi_small_diamond:[94,180,30,56],consumendi_small_diamond_filled:[64,180,30,56],consumendi_small_arrow:[124,180,30,16],consumendi_glow:[720,0,135,135],consumendi_logo:[450,0,120,119],consumendi_mini:[450,119,120,120],consumendi_mini_gray:[570,0,120,120],negligentia_head:[0,0,180,180],negligentia_head_red:[0,180,180,180],negligentia_arm_striking:[180,0,244,100],negligentia_arm_striking_red:[180,100,244,100],negligentia_wheel:[424,0,134,134],negligentia_wheel_red:[424,
270,134,134],negligentia_wheel_complete:[423,135,135,135],negligentia_glow:[560,0,115,115],negligentia_glow_red:[560,115,115,115],negligentia_aura:[559,270,39,65],negligentia_aura_open:[598,270,39,65],negligentia_arm_ring:[180,200,180,180],negligentia_logo:[680,0,120,120],negligentia_logo_gray:[680,120,120,120],adrogantia_attack_bud:[0,0,80,80],adrogantia_spawner:[0,80,80,80],adrogantia_body_bud:[80,0,80,80],adrogantia_attack_bud_firing:[80,80,80,80],adrogantia_body_bud_red:[80,160,80,80],adrogantia_head:[181,
1,160,160],adrogantia_head_red:[181,161,160,160],adrogantia_glow:[340,0,135,135],adrogantia_logo:[476,0,125,125],adrogantia_logo_gray:[476,125,125,125],generated_ultimate:[0,0,400,400]},tb=qb("art/immunitas_sprite.png"),ub=qb("art/consumendi_sprite.png"),vb=qb("art/negligentia_sprite.png"),wb=qb("art/adrogantia_sprite.png"),nb=qb("art/logo.png"),La={0:"white_glow",1:"immunitas_glow",2:"consumendi_glow",3:"negligentia_glow",4:"adrogantia_glow"},Na={0:"ultimate",1:"immunitas_arm",2:"consumendi_logo",
3:"negligentia_logo",4:"adrogantia_logo"},Pa={0:"world_logo",1:"immunitas_logo_gray",2:"consumendi_mini_gray",3:"negligentia_logo_gray",4:"adrogantia_logo_gray"},Ma={0:rb,1:tb,2:ub,3:vb,4:wb},xb={},yb;for(yb in na)xb[yb]=qb("art/"+na[yb]+".png");function I(a,b,c,d,f,g,h,k){k="undefined"!==typeof k?k:rb;a.save();a.translate(b,c);a.rotate(d);a.drawImage(k,sb[h][0],sb[h][1],sb[h][2],sb[h][3],-f/2,-g/2,f,g);a.restore()}
function zb(a,b,c,d,f,g,h){var k=h.width,m=h.height;a.save();a.translate(b,c);a.rotate(d);a.drawImage(h,0,0,k,m,-f/2,-g/2,f,g);a.restore()}function Ab(a,b,c,d,f){f=xb[f];var g=f.width,h=f.height;a.save();a.rect(0,b,c-0,d-b);a.clip();for(var k=0;k<c;k+=g)for(var m=b;m<d;m+=h)a.drawImage(f,0,0,g,h,k,m,g,h);a.restore()}
function Bb(a,b,c,d,f){"half"==f?(I(a,b-24,c,0,20,20,"world"+d+"_starblank"),I(a,b-28.8,c,0,12*.8,20,"world"+d+"_starhalf"),I(a,b,c,0,20,20,"world"+d+"_starblank"),I(a,b+24,c,0,20,20,"world"+d+"_starblank")):"basic"==f?(I(a,b-24,c,0,20,20,"world"+d+"_star"),I(a,b,c,0,20,20,"world"+d+"_starblank"),I(a,b+24,c,0,20,20,"world"+d+"_starblank")):"silver"==f?(I(a,b-24,c,0,20,20,"world"+d+"_star"),I(a,b,c,0,20,20,"world"+d+"_star"),I(a,b+24,c,0,20,20,"world"+d+"_starblank")):"gold"==f&&(I(a,b-24,c,0,20,20,
"world"+d+"_star"),I(a,b,c,0,20,20,"world"+d+"_star"),I(a,b+24,c,0,20,20,"world"+d+"_star"))}function Cb(a,b,c,d,f){var g=z.gold;a.save();a.beginPath();a.translate(b-d,c-f);a.scale(d,f);a.arc(1,1,1,0,2*Math.PI,!1);a.restore();a.save();g&&(a.strokeStyle=g);a.stroke();a.restore()}
draw_enemy_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();a.save();a.globalAlpha*=.2;I(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();Ea(a,f,b,c,30)};
draw_quest_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();"beat_hive"==f&&(Ka(a,1,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=z.impulse_blue,a.stroke());"final_boss"==f&&(Ka(a,4,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+
.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=z.impulse_blue,a.stroke());"first_gold"==f&&(a.save(),a.globalAlpha*=.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c,0,.8*d,.8*d,"gold_trophy"));if("combo"==f){a.save();a.globalAlpha*=.2;I(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();I(a,b,c-d/4,0,.4*d,.4*d,"player_normal");a.beginPath();a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1);a.strokeStyle=z.impulse_blue;a.stroke();for(var g=[Math.PI/2,.36*Math.PI,.64*Math.PI,
.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++){var k=g[h];zb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),k,10,10,G.stunner.images.normal)}}if("combo"==f)for(a.save(),a.globalAlpha*=.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=z.impulse_blue,a.stroke(),g=[Math.PI/2,.36*Math.PI,.64*Math.PI,.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++)k=g[h],zb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),
k,10,10,G.stunner.images.normal);"high_roller"==f&&(a.save(),a.globalAlpha*=.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.65*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=z.impulse_blue,a.stroke(),a.fillStyle=z.gold,a.textAlign="center",a.font="12px Muli",a.fillText("250K",b,c+d/2));"blitz_hive"==f.substring(0,10)&&(a.save(),a.globalAlpha*=.2,g=f.substring(10),"1"==g?I(a,b,c,0,1.2*d,1.2*d,"immunitas_glow",tb):"2"==g?I(a,b,c,0,
1.2*d,1.2*d,"consumendi_glow",ub):"3"==g?I(a,b,c,0,1.2*d,1.2*d,"negligentia_glow",vb):"4"==g&&I(a,b,c,0,1.2*d,1.2*d,"adrogantia_glow",wb),a.restore(),I(a,b,c,0,.8*d,.8*d,"world"+f.substring(10)+"_timer"));if("survivor"==f)for(a.save(),a.globalAlpha*=.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c,0,.4*d,.4*d,"player_normal"),h=0;8>h;h++)k=2*Math.PI*h/4+Math.PI/4,zb(a,b+.5*d*Math.cos(k),c+.5*d*Math.sin(k),Math.PI/2+k,15,15,G.spear.images.normal);"fast_time"==f&&(a.save(),a.globalAlpha*=
.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c,0,.7*d,.7*d,"timer_icon"));"pacifist"==f&&(a.save(),a.globalAlpha*=.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c+.2*d,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Cb(a,b,c-.2*d,d/6,d/12),a.restore());"beat_hard"==f&&(a.save(),a.globalAlpha*=.1,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,b,c,0,d,d,"ultimate_icon"));"untouchable"==f&&(a.save(),a.globalAlpha*=.2,I(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),I(a,
b,c,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Cb(a,b,c,.45*d,.45*d),Cb(a,b,c,.55*d,.55*d),a.restore())};var Db={beat_hive:{wb:["ult"],text:["DEFEAT A HIVE"]},final_boss:{wb:["life"],text:["DEFEAT THE FINAL BOSS"]},untouchable:{wb:["spark"],text:["BEAT ANY HIVE","WITHOUT GETTING HIT"]},high_roller:{wb:["life"],qE:25E4,text:["SCORE 250000 PTS OR MORE","ON A SINGLE ENEMY"]},pacifist:{wb:["life"],text:["BEAT ANY LEVEL","WITHOUT USING IMPULSE"]},blitz_hive1:{wb:["spark"],text:["BEAT HIVE 1 IN HARD MODE","UNDER 5 MINUTES"],oq:300},blitz_hive2:{wb:["life"],text:["BEAT HIVE 2 IN HARD MODE","UNDER 6 MINUTES"],
oq:400},blitz_hive3:{wb:["life","spark"],text:["BEAT HIVE 3 IN HARD MODE","UNDER 7 MINUTES"],oq:500},blitz_hive4:{wb:["life","spark","ult"],text:["BEAT HIVE 4 IN HARD MODE","UNDER 8 MINUTES"],oq:600},beat_hard:{wb:["life","spark"],text:["DEFEAT ALL HIVES","IN HARD MODE"]}};function Eb(a,b){return a.x==b.x&&a.y==b.y}function Fb(a){var b=a%60;return Math.floor(a/60)+":"+(10>b?"0"+b:b)}function Gb(a,b,c,d){void 0===d&&(d=null);for(var f=0;f<c.length;f++)if(!(Eb(a,c[f].p1)||Eb(a,c[f].p2)||Eb(b,c[f].p1)||Eb(b,c[f].p2))&&c[f].p1.p_n!==d&&Hb(a,b,c[f].p1,c[f].p2))return!1;return!0}
function Ib(a,b){for(var c=a.length-1,d=!1,f=0;f<a.length;f++)(a[f].y<b.y&&a[c].y>=b.y||a[f].y>=b.y&&a[c].y<b.y)&&a[f].y!=a[c].y&&a[f].x+(b.y-a[f].y)/(a[c].y-a[f].y)*(a[c].x-a[f].x)<b.x&&(d=!d),c=f;return d}function Q(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function Hb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};a={x:c.x-a.x,y:c.y-a.y};c=Jb(b,d);if(0==c&&0==Jb(a,d))return!1;d=Jb(a,d)/c;b=Jb(a,b)/c;return 0<=d&&1>=d&&0<=b&&1>=b}
function Kb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};c={x:c.x-a.x,y:c.y-a.y};var f=Jb(b,d);if(0==f&&0==Jb(c,d))return null;d=Jb(c,d)/f;c=Jb(c,b)/f;return 0<=d&&1>=d&&0<=c&&1>=c?{x:a.x+b.x*d,y:a.y+b.y*d}:null}function Lb(a,b,c){return Math.abs(Jb({x:b.x-a.x,y:b.y-a.y},{x:c.x-a.x,y:c.y-a.y}))/Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Jb(a,b){return a.x*b.y-a.y*b.x}
function Mb(a){var b;a.pageX||a.pageY?(b=a.pageX,a=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);b-=offset_left;a-=offset_top;return{x:b,y:a}}function R(a,b){null!=a&&null!=b||console.log("ERROR");var c;if(a.x==b.x)return c=a.y>b.y?-Math.PI/2:Math.PI/2;c=Math.atan((a.y-b.y)/(a.x-b.x));a.x>b.x&&a.y<b.y?c+=Math.PI:a.x>b.x&&a.y>=b.y&&(c-=Math.PI);return c}
function Nb(a,b,c,d){for(var f=[],g=0;g<c.length;g++){var h=d(c[g]);Q(a,h)<b&&f.push(c[g])}return f}
function Ob(a,b){for(var c=a.length-1,d=[],f=0;f<a.length;f++){var g=(f+1)%a.length,h=new b2Vec2(a[f].y-a[c].y,a[c].x-a[f].x),c=new b2Vec2(a[f].x-a[c].x,a[f].y-a[c].y),k=new b2Vec2(a[g].y-a[f].y,a[f].x-a[g].x),g=new b2Vec2(a[f].x-a[g].x,a[f].y-a[g].y);h.bb();k.bb();c.bb();g.bb();var m=R({x:0,y:0},k),q=R({x:0,y:0},h),m=m-q,m=0>m?m+2*Math.PI:m,m=m>=2*Math.PI?m-2*Math.PI:m;m>Math.PI?d.push({x:a[f].x+h.x*b-1*c.x/Math.tan(m/2-Math.PI/2)*b,y:a[f].y+h.y*b-1*c.y/Math.tan(m/2-Math.PI/2)*b}):m>5*Math.PI/6?
(d.push({x:a[f].x+h.x*b+c.x*b,y:a[f].y+h.y*b+c.y*b}),d.push({x:a[f].x+k.x*b+g.x*b,y:a[f].y+k.y*b+g.y*b})):d.push({x:a[f].x+h.x*b+c.x*Math.tan(m/2)*b,y:a[f].y+h.y*b+c.y*Math.tan(m/2)*b});c=f}return d}function Pb(a,b){var c=E,c=c?c:1;return b.x>=a&&b.y>=a&&b.x<=O/c-a&&b.y<=P/c-a}function Qb(a,b,c){for(var d={x:Math.random()*(O/c-2*b)+b,y:Math.random()*(P/c-2*b)+b},f=!1,g=0;g<T.i.uh.length;g++)s!=g&&Ib(T.i.uh[g],d)&&(f=!0);return f||null==Rb(T.Lb,d,a).path?Qb(a,b,c):d}
function Sb(a,b,c){for(;a<c;)a+=2*Math.PI;for(;a>c;)a-=2*Math.PI;for(;b>c;)b-=2*Math.PI;for(;b<c;)b+=2*Math.PI;return b-a<=2*Math.PI}function Tb(a,b){for(;b-a>Math.PI;)b-=2*Math.PI;for(;b-a<-Math.PI;)b+=2*Math.PI;return b}function Ub(a,b){var c=a-b;c>2*Math.PI&&(c-=2*Math.PI);0>c&&(c+=2*Math.PI);c>Math.PI&&(c=2*Math.PI-c);return c}function Vb(a,b,c){return 0*Math.pow(1-c,3)+3*Math.pow(1-c,2)*c*a+3*(1-c)*Math.pow(c,2)*b+1*Math.pow(c,3)}
function Wb(a,b,c,d,f,g,h,k){var m=new b2BodyDef;m.type="static"==h?b2Body.jf:b2Body.Bd;m.position.x=c;m.position.y=d;m.Wr=3;a=a.Rn(m);for(c=0;c<b.length;c++){d=b[c];h=null;"circle"==d.type&&(h=new b2CircleShape(d.Y),h.tx(new b2Vec2(d.x,d.y)));if("polygon"==d.type){m=[];for(h=0;h<d.ba.length;h++)m.push(new b2Vec2(d.x+d.Y*d.ba[h][0],d.y+d.Y*d.ba[h][1]));h=new b2PolygonShape;h.pt(m,m.length)}d=new b2FixtureDef;d.sb=f;d.Pm=0;d.rn=.7;d.filter.lf=g;d.filter.yf=6;d.shape=h;a.yq(d).ao({body:a,owner:k,self:null})}return a}
function Xb(a){var b=a%60;10>b&&(b="0"+b);return Math.floor(a/60)+":"+b};function Yb(){this.Lc={};this.nl={};this.cc=null;for(var a in ma)Zb(this,ma[a].file,ma[a].Li);this.Wj={};this.Mi=D.Dv;this.Gm=D.Gm}function $b(a){ac.play(la[a])}Yb.prototype.play=function(a){if(!this.Gm)if(a in this.nl)for(var b=0;b<this.nl[a].length;b++){if(!this.nl[a][b]){this.Lc[a+b].play();this.Lc[a+b].eh(D.Dr);this.nl[a][b]=!0;break}}else a in this.Lc||(this.Lc[a]=new ha("audio/"+a+".ogg")),this.Lc[a].play(),this.Lc[a].eh(D.Dr)};
function Zb(a,b,c){a.nl[b]=[];for(var d=0;d<c;d++){a.nl[b].push(!1);a.Lc[b+d]=new ha("audio/"+b+".ogg");var f=a;a.Lc[b+d].bind("ended",function(a,b){return function(){f.nl[b][a]=!1}}(d,b))}}function bc(a,b){a.cc&&a.Lc[a.cc].stop();a.cc=null;cc(a,b)}
function cc(a,b){null!=a.cc&&a.cc!=b?a.Lc[a.cc].OC()?bc(a,b):(a.Wj[a.cc]=!1,a.Wj[b]=!0,a.Lc[a.cc].Hy(500,function(){bc(a,b)})):(b in a.Lc||(b in ka?(a.Lc[b]=new ha("audio/"+b+".ogg"),a.Lc[b].bind("ended",function(){this.setTime(ka[b]);this.play()})):a.Lc[b]=new ha("audio/"+b+".ogg",{loop:!0})),a.Mi?a.Lc[b].eh(0):a.Lc[b].eh(D.im),a.Lc[b].play(),a.Wj[b]=!0,a.cc=b)}
function dc(){var a=ac;if(a.cc){a.Wj[a.cc]=!1;var b=a.cc;a.Lc[a.cc].Hy(300,function(){a.cc&&!a.Wj[a.cc]?(a.Lc[a.cc].stop(),a.cc=null):a.cc==b&&a.Wj[a.cc]&&a.Lc[a.cc].eh(D.im)})}};function ec(a,b){void 0!==a&&(this.Id=fc()-1,this.Wf=0,this.ik=gc(),this.Kg=0,this.ai=hc(),this.Zy=!1,this.hc=b,0<a&&(this.ci=1E3*Db["blitz_hive"+a].oq),this.hc||(this.Id=0,1<this.ik&&(this.ik=1)),this.kh={},this.lz=this.Id,this.mz=0,this.pz=fc(),this.KA=gc(),this.Bk=null,this.H={},this.qa=a,this.Sr=0==this.qa?"TUTORIAL":"HIVE "+oa[a],this.eu=oa[a],this.HD=0,this.gi=null)}ec.prototype.clone=function(a){var b=new ec,c;for(c in a)b[c]=a[c];return b};
function ic(a){a.Id+=fc()-a.pz;a.ik+=gc()-a.KA;a.ai=hc();a.pz=fc();a.KA=gc()}ec.prototype.continue=function(){this.Id=fc();this.Wf=0;this.ik=gc();this.ai=hc();this.lz=this.Id;this.mz=0;this.Kg+=1};function jc(a,b,c,d){this.ia(a,b,c,d)}l=jc.prototype;l.wa=3.5;l.id=9999;l.Fn=1.2;l.bz=50;l.Qg=10;l.Xu=.03125;l.IC=z.impulse_target_blue;l.az=z.impulse_blue;l.sb=.5625;l.dh=.66;l.K=.66;
l.ia=function(a,b,c,d){if(null!=a){"easy"==J&&(this.sb*=1.5,this.Fn*=1.5);var f=new b2FixtureDef;f.sb=this.sb;f.Pm=0;f.rn=1;f.filter.lf=2;f.filter.yf=29;var g=new b2BodyDef;g.type=b2Body.Bd;f.shape=new b2CircleShape(jc.prototype.dh);this.Y=jc.prototype.dh;this.i=d.i;this.v=d;g.position.x=b;g.position.y=c;g.Wr=this.wa;this.body=a.Rn(g);this.body.yq(f).ao({owner:this,body:this.body,self:this});this.shape=f.shape;this.$g=[];for(a=0;4>a;a++)this.$g.push({Y:.5,ii:a*Math.PI/2});this.qq=this.bp=this.right=
this.left=!1;this.hk=this.Eh=this.Ah=this.Ch=this.Bh=null;this.xi=0;this.hp=[];this.tw=[];this.gj=!1;this.ph={};this.ad=0;this.fj=500;this.ej=0;this.hk=!1;this.mh={};this.Hn=1E3;this.Fl=0;this.uw=20;this.ZE=250;this.ck=this.fd=this.ou=this.sm=0;this.Bv={x:0,y:0};this.status="normal";this.r=[0,0,0,0,0,0];this.gh=.3;this.O=!1;this.cb=1E3;this.tb=0;this.color=z.player_color;this.oa=this.Fn;this.Vx=5;this.hu=!1;this.Mf=1.5;this.dv=0;this.Qp=!1;this.xt=250;this.yt=!0;this.ko=this.xt}};
function kc(a,b){switch(b){case ua.Jq:a.left=!0;break;case ua.Mq:a.right=!0;break;case ua.zq:a.bp=!0;break;case ua.Oq:a.qq=!0;break;case ua.$i:case ua.qk:a.qq=!1;a.bp=!1;a.left=!1;a.right=!1;a.Bh=null;a.Ch=null;a.Eh=null;a.Ah=null;break;case ua.ax:a.Bh=(new Date).getTime();break;case ua.cx:a.Eh=(new Date).getTime();break;case ua.bx:a.Ch=(new Date).getTime();break;case ua.$w:a.Ah=(new Date).getTime()}}l.Ti=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1])};
l.$b=function(a,b){b&&(this.fd=Math.max(a,this.r[1]),this.ck=Math.max(a,this.r[1]));this.r[1]=Math.max(a,this.r[1])};l.Ou=function(a){this.r[2]=Math.max(a,this.r[2])};l.yp=function(a){this.r[3]=Math.max(a,this.r[3]);this.Ur=this.r[3];this.zp=1;this.Yk=1/this.Mf};function lc(a,b){a.sm=Math.max(b,a.r[4]);a.ou=Math.max(b,a.r[4]);a.r[4]=Math.max(b,a.r[4])}
l.na=function(a){if(this.O)this.tb-=a;else{this.yt&&(this.ko-=a,0>this.ko&&(this.yt=!1));0<this.fd&&(this.fd-=a);0<this.sm&&(this.sm-=a);0<this.r[0]&&(this.r[0]-=a);0<this.r[1]&&(this.r[1]-=a);0<this.r[2]?(this.r[2]-=a,this.body.re(3*this.wa),this.CC=!0):this.CC&&this.body.re(this.wa);if(0<this.r[3]){if(this.r[3]-=a,!this.zi){this.zi=!0;var b=this.body.Hc;void 0===b.length&&(b=[b]);for(var c=0;c<b.length;c++)b[c].$a.Da/=this.Mf;this.body.cg();mc(this)}}else if(this.zi){this.zi=!1;b=this.body.Hc;void 0===
b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].$a.Da*=this.Mf;this.body.cg();mc(this)}0<this.r[4]&&(this.r[4]-=a);if(0<this.r[5]){this.r[5]-=a;b=this.body.Hc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].sx(this.sb*this.Vx);mc(this);this.body.cg();this.hu=!0}else if(this.hu){this.hu=!1;b=this.body.Hc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].sx(this.sb);mc(this);this.body.cg()}cur_time=(new Date).getTime();"mouse"==D.uc?((this.Qp||100>cur_time-this.dv)&&!this.gj&&0>=this.r[1]&&
(this.gj=!0,this.v.H.Yu=!0,this.ph=this.body.g.position.Db(),this.ad=this.xi,this.ej=this.fj,$b("impulse"),this.v instanceof nc&&(c=this.v,1==c.da&&"first_time_tutorial"==c.mode&&0==c.Rd&&"none"==c.ib&&(c.eg=c.zm,c.Rd=!0)),this.v.fh&&oc(this.v,"player_impulsed")),this.xi=R({x:this.body.g.position.x*E,y:this.body.g.position.y*E},this.Bv)):"keyboard"==D.uc&&!this.gj&&0>=this.r[1]&&(c=0,null!=this.Bh&&this.Bh>c&&(c=this.Bh),null!=this.Ch&&this.Ch>c&&(c=this.Ch),null!=this.Eh&&this.Eh>c&&(c=this.Eh),
null!=this.Ah&&this.Ah>c&&(c=this.Ah),0!=c&&40<(new Date).getTime()-c&&(null!=this.Bh&&null!=this.Eh?this.ad=5*Math.PI/4:null!=this.Bh&&null!=this.Ah?this.ad=3*Math.PI/4:null!=this.Ch&&null!=this.Eh?this.ad=7*Math.PI/4:null!=this.Ch&&null!=this.Ah?this.ad=1*Math.PI/4:null!=this.Bh?this.ad=Math.PI:null!=this.Ch?this.ad=0:null!=this.Eh?this.ad=3*Math.PI/2:null!=this.Ah&&(this.ad=1*Math.PI/2),0<this.r[4]&&(this.ad+=Math.PI),this.gj=!0,this.v.H.Yu=!0,this.ph=this.body.g.position.Db(),this.ej=this.fj,
$b("impulse")));this.body.rb(this.xi);0<this.r[4]&&(this.xi+=Math.PI);for(c=0;c<this.i.Yd.length;c++)if(Ib(this.i.Yd[c],this.body.g.position)){this.Mc();break}if(this.gj)if(0>this.ej)this.gj=!1,this.hp=[];else{for(c=0;c<this.i.s.length;c++)if(!(this.i.s[c]instanceof pc&&0>=this.i.s[c].r[1]||this.i.s[c]instanceof qc&&this.i.s[c].nC)){if(-1==this.hp.indexOf(this.i.s[c].id)&&!this.i.s[c].O)for(var b=this.i.s[c].Aj(),d=0;d<b.length;d++)if(rc(this,b[d])){if(sc(this,b[d],20<this.i.s[c].body.p.bg())){var f=
R(this.ph,b[d]);this.hp.push(this.i.s[c].id);this.i.s[c].Cf(this.ph,this.bz,f);break}this.i.s[c]instanceof tc&&"engaged"==this.i.s[c].mb&&uc(this.i.s[c])}if(this.i.s[c]instanceof tc&&"inactive"!=this.i.s[c].mb){var g=this.i.s[c].Ya;if(-1==this.hp.indexOf(g.id))for(b=g.Aj(),d=0;d<b.length;d++)rc(this,b[d])&&sc(this,b[d],!0)&&(f=R(this.ph,b[d]),g.Cf(this.ph,this.bz,f),this.hp.push(g.id))}}this.ej-=a}this.hk&&(0>this.Fl?(vc(this,!0),this.hk=!1,this.tw=[],this.v instanceof nc&&(a=this.v,1==a.da&&"ult_tutorial"==
a.mode&&0==a.Rd&&"none"==a.ib&&(a.eg=a.zm,a.Rd=!0)),this.i.pa&&this.body.aj(this.mh)):(vc(this,!1),this.Fl-=a));0>=this.r[0]&&(b=this.oa,c=a=0,this.left&&--a,this.right&&(a+=1),this.qq&&--c,this.bp&&(c+=1),b=2==Math.abs(a)+Math.abs(c)?b/Math.sqrt(2):b,0<this.r[4]&&(a*=-1,c*=-1),this.body.ha(new b2Vec2(b*a,b*c),this.body.h.o),this.v instanceof nc&&(0!=a||0!=c)&&(b=this.v,0==b.da&&"first_time_tutorial"==b.mode&&0==b.Rd&&"none"==b.ib&&(b.eg=b.zm,b.Rd=!0)),!this.v.fh||0==a&&0==c||oc(this.v,"player_moved"))}};
function mc(a){a.oa=0<a.r[5]?a.Fn*a.Vx:0<a.r[3]?a.Fn/a.Mf/a.Mf:a.Fn}
function vc(a,b){for(var c=0;c<a.i.s.length;c++){var d=a.i.s[c];if(!d.O){for(var f=d.Aj(),g=(b?1:.002)*a.ZE,h=0;h<f.length;h++)if(wc(a,f[h])){var k=R(a.mh,f[h]);-1==a.tw.indexOf(d.id)?(a.tw.push(d.id),xc(d,!0)):xc(d,!1);f=G[d.type];h=d.wf?.02/d.Pg:1;"slingshot"==d.type&&(h*=2);d.Cf(a.mh,1*g*h*d.body.Z*f.wa,k,!0);break}d instanceof tc&&"engaged"==d.mb&&d.Pc==a&&uc(d)}if(d instanceof tc&&"inactive"!=d.mb)for(d=d.Ya,f=d.Aj(),h=0;h<f.length;h++)wc(a,f[h])&&(k=R(a.mh,f[h]),d.Cf(a.mh,2*g,k))}}
function yc(a){return a.hk?a.mh:a.body.g.position}function rc(a,b){var c=R(a.ph,b);return a.ad<2*-Math.PI/3?c<=a.ad+Math.PI/3||c>=a.ad+5*Math.PI/3:a.ad>2*Math.PI/3?c<=a.ad-5*Math.PI/3||c>=a.ad-Math.PI/3:c>=a.ad-Math.PI/3&&c<=a.ad+Math.PI/3}function sc(a,b,c){var d=zc(a),f=a.ph.Db();f.eo(b);f=f.bb();b=c?4*a.Xu:2*a.Xu;return f>=a.Qg*d*((a.fj-a.ej)/a.fj-b)&&f<=a.Qg*d*((a.fj-a.ej)/a.fj+b)}function wc(a,b){var c=a.mh.Db();c.eo(b);c=c.bb();return c<=a.uw*Vb(.15,.5,(a.Hn-a.Fl)/a.Hn)}
function Ac(a,b){b.save();if(a.O){var c=a.O?Math.min((a.cb-a.tb)/a.cb,1):0;b.globalAlpha*=1-c}a.hk&&0<a.Fl&&(b.save(),b.globalAlpha*=.3,c=Math.min(2-Math.abs((a.Fl-a.Hn/2)/(a.Hn/4)),1),b.globalAlpha*=c/2,b.fillStyle="white",b.fillRect(0,0,Bc,Cc),b.restore(),b.shadowBlur=10,b.shadowColor="#ccc",b.globalAlpha*=.5,c=Vb(.1,.5,(a.Hn-a.Fl)/a.Hn),.4<c&&(b.globalAlpha*=0>(1-c)/.4?0:(1-c)/.4),I(b,a.mh.x*E,a.mh.y*E,0,a.uw*c*E*2,a.uw*c*E*2,"generated_ultimate",va));b.restore()}
l.bh=function(a){this.O||Ac(this,a)};
l.X=function(a){if(!this.O){Ac(this,a);a.save();if(0<this.sm){var b=Math.max((this.ou-this.sm)/this.ou,0);za(a,this.body.g.position.x,this.body.g.position.y,this.dh,b,"#24ac40")}else 0<this.fd&&(b=Math.max((this.ck-this.fd)/this.ck,0),za(a,this.body.g.position.x,this.body.g.position.y,this.dh,b,"gray"));if(this.yt){var b=this.ko/this.xt,c=1+8*b;a.save();a.globalAlpha*=1-b;a.beginPath();a.lineWidth=Math.ceil(4-4*b);a.strokeStyle=z.impulse_blue;a.arc(this.body.g.position.x*E,this.body.g.position.y*
E,this.shape.Da*c*E,0,2*Math.PI,!0);a.stroke();a.restore()}else this.hk?(c=zc(this),I(a,this.mh.x*E,this.mh.y*E,this.body.ga(),this.shape.Da*E*2.5*c,this.shape.Da*E*2.5*c,"player_gray")):0<this.r[0]?Dc(this,a,"player_red"):0<this.r[4]?Dc(this,a,"player_green"):0<this.r[1]?Dc(this,a,"player_gray"):0<this.r[2]?Dc(this,a,"player_yellow"):Dc(this,a,"player_normal");c=zc(this);0<this.r[3]&&(a.beginPath(),a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.dh*c*E,0,2*Math.PI,!1),a.strokeStyle=
"black",a.stroke());a.beginPath();D.Tr&&(a.save(),b=this.ko/this.xt,a.globalAlpha*=Math.max(0,1-b),0>=this.r[1]&&"mouse"==D.uc?(a.fillStyle=this.IC,a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.Qg*c*E,this.xi-Math.PI/3,this.xi+Math.PI/3),a.lineTo(this.body.g.position.x*E+Math.cos(this.xi+Math.PI/3)*this.Qg*c*E,this.body.g.position.y*E+Math.sin(this.xi+Math.PI/3)*this.Qg*c*E),a.lineTo(this.body.g.position.x*E,this.body.g.position.y*E),a.fill()):0>=this.r[1]&&"keyboard"==D.uc&&(a.beginPath(),
a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.Qg*c*E,0,2*Math.PI),a.globalAlpha/=6,a.lineWidth=2,a.strokeStyle=z.impulse_blue,a.stroke()),a.restore());this.gj&&(a.beginPath(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=10,a.shadowColor=this.az,a.lineWidth=this.Qg*this.Xu*E*c,b=(this.fj-this.ej)/this.fj,a.save(),.5<b&&(a.globalAlpha*=0>(1-b)/.5?0:(1-b)/.5),a.arc(this.ph.x*E,this.ph.y*E,this.Qg*c*b*E,this.ad-Math.PI/3,this.ad+Math.PI/3),a.strokeStyle=this.az,a.lineWidth=5,a.stroke(),
a.restore());D.es&&!this.v.pa&&(a.font="16px Muli",a.fillStyle=z.impulse_blue,a.textAlign="center",a.shadowBlur=0,a.fillText("x"+this.v.H.of,this.body.g.position.x*E,this.body.g.position.y*E+30));a.restore()}};function Dc(a,b,c){var d=zc(a);I(b,a.body.g.position.x*E,a.body.g.position.y*E,a.body.ga(),a.shape.Da*E*2.5*d,a.shape.Da*E*2.5*d,c)}
function zc(a){if(0>=a.r[3])return 1;var b=a.r[3]/a.Ur;.1>b?(b=1-b/.1,lighten_factor=a.zp*b+a.Yk*(1-b)):.9<b?(b=(b-.9)/.1,lighten_factor=a.zp*b+a.Yk*(1-b)):lighten_factor=a.Yk;return lighten_factor}l.Ke=function(){};l.Mc=function(a){this.O=!0;this.tb=this.cb;this.i.bG=!0;"absorbed"!=a&&$b("pdeath");Ec(this.i,"player",this.body.g.position,this.body.p,!0)};
l.Mu=function(a,b){for(var c=this.$g.length-1,d=null,f=null,g=0;g<this.$g.length;g++){var h=Kb({x:this.body.g.position.x+this.$g[g].Y*Math.cos(this.$g[g].ii+0),y:this.body.g.position.y+this.$g[g].Y*Math.sin(this.$g[g].ii+0)},{x:this.body.g.position.x+this.$g[c].Y*Math.cos(this.$g[c].ii+0),y:this.body.g.position.y+this.$g[c].Y*Math.sin(this.$g[c].ii+0)},a,b);if(null!=h){c=Q(h,a);if(null==f||c<f)d=h,f=c;c=g}}return{KD:d,Td:f}};function Fa(){}l=Fa.prototype;l.Km=1.5;
l.ia=function(a,b,c,d,f){this.ID=new b2Vec2(b,c);if(this.v=f)this.i=f.i,this.q=f.q;this.qa=a;for(g in G[this.type])this[g]=G[this.type][g];this.Ov=[];this.Ov.push(new b2Vec2(Math.cos(0*Math.PI),Math.sin(0*Math.PI)));this.Ov.push(new b2Vec2(Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)));this.Ov.push(new b2Vec2(Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)));this.LD=1E3;this.Sy=3;this.uu=this.Pv=0;this.Sj=1500;this.sl=!0;this.Mf=1.5;this.Zu=z.impulse_blue;g=new b2BodyDef;g.type=b2Body.Bd;g.position.x=
b;g.position.y=c;g.Wr=this.wa;g.Ku=this.lG?!1:!0;g.Ku||(g.Bx=50);a&&(this.body=a.Rn(g));this.vE=[];this.wg=[];this.zi=!1;this.tp=500;for(var g=0;g<this.Xb.length;g++){a=this.Xb[g];b=null;"circle"==a.type&&(b=new b2CircleShape(a.Y),b.tx(new b2Vec2(a.x,a.y)));if("polygon"==a.type){c=[];for(b=0;b<a.ba.length;b++)c.push(new b2Vec2(a.x+a.Y*a.ba[b][0],a.y+a.Y*a.ba[b][1]));b=new b2PolygonShape;b.pt(c,c.length)}a=new b2FixtureDef;a.sb=this.sb;a.Pm=0;a.rn=.7;a.filter.lf=this.lf?this.lf:4;a.filter.yf=this.yf?
this.yf:30;a.shape=b;this.body&&this.body.yq(a).ao({owner:this,body:this.body,self:this});this.vE.push(b);b instanceof b2PolygonShape?this.wg.push(b.$):this.wg.push(null)}this.Kf=!0;Fc(this);this.path=null;this.Dw=0;this.Cw=!1;this.id=d;this.Dk=this.O=!1;this.cb=this.jy=500;this.tb=0;this.r=[0,0,0,0];this.ra={};this.ra.open=0;this.ra.impulsed=0;this.hz=!0;this.Sc=!1;this.xA=0;this.ap=!0;this.Ld=this.oe=40;this.hF=10;this.gh=.3;this.Gd=!1;this.lj=!0;this.dw=this.oa/3;this.$u=!1;this.av=this.cz=2E3;
this.we=2;this.Ur=0;this.QE="normal impulsed stunned silenced gooed lighten ulted white world1 world2 world3 world4 black".split(" ");this.Sq=[];this.Uq=0;this.DB=4;this.Tq=null;this.io=.5;this.ho=!0;this.Rm=!1;this.nm=0;this.Pz=this.$y=this.Mm=!1;this.Yy=4;this.Sm=0;this.se=null;this.$h&&(this.qf=!1,this.Bc=this.Xh=this.zh=this.hg)};
l.nr=function(){for(var a=0;a<this.i.Yd.length;a++)if(Ib(this.i.Yd[a],this.body.g.position)){if(0>=this.ra.open&&this.Pz){this.body.aj(this.ID);break}0>=this.ra.open&&this.sl?this.Mc("accident"):(this.v instanceof nc&&(a=this.v,3==a.da&&"first_time_tutorial"==a.mode&&0==a.Rd&&"none"==a.ib&&(a.eg=a.zm,a.Rd=!0),4==a.da&&"first_time_tutorial"==a.mode&&0==a.Rd&&"none"==a.ib&&(a.eg=a.zm,a.Rd=!0)),this.v.fh&&oc(this.v,"enemy_killed"),this.Mc("kill"));break}};
function Fc(a){a.bw=[];a.fC=[];if(a.q)for(var b=a.body.Hc;null!=b;){var c=b.$a,d=[];if(c instanceof b2PolygonShape){for(var c=c.$,f=0;f<c.length;f++){var g=Q({x:0,y:0},c[f]),h=R({x:0,y:0},c[f]);d.push({Y:g,ii:h})}a.fC.push(Ob(c,a.q.Y+.1))}a.bw.push(d);b=b.Ha}}l.Wz=function(a,b){this.Dk&&("hit_player"!=this.O||this.tb<this.cb-50)&&(this.Dk=!1,this.i.Zo.push(a));return this.O&&0>this.tb?(this.i.lp.push(a),!0):this.O?(this.tb-=b,!0):!1};
l.na=function(a,b){if(!this.Wz(a,b))if(0==this.qb)this.Uc(b);else if(this.Hg)this.wt(b);else{0<this.r[0]&&(this.r[0]-=b);0<this.r[1]?this.r[1]-=b:this.nf&&(this.nf=!1);for(status in this.ra)0<this.ra[status]&&(this.ra[status]-=b);0<this.r[2]?(this.r[2]-=b,this.body.re(this.wa*this.Sy)):this.body.re(this.wa);if(0<this.r[3]){if(this.r[3]-=b,!this.zi){this.zi=!0;var c=this.body.Hc;void 0===c.length&&(c=[c]);for(var d=0;d<c.length;d++)for(var f=this.body.Hc.$a.$,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x/
this.Mf,f[g].y/this.Mf);this.body.cg();this.oa=G[this.type].oa/this.Mf/this.Mf}}else if(this.zi){this.zi=!1;c=this.body.Hc;void 0===c.length&&(c=[c]);for(d=0;d<c.length;d++)for(f=this.body.Hc.$a.$,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x*this.Mf,f[g].y*this.Mf);this.body.cg();this.oa=G[this.type].oa}1>this.Pv&&(this.Pv=Math.min(this.Pv+b/this.LD,1));this.xA+=b;this.av=this.$u?this.av-b:this.cz;this.nr();this.Uq+=1;if(!(!this.ho||0<this.ra.open&&"tank"==this.type||0<this.r[1])){if(this.Uq>this.DB){this.Uq=
0;c=!1;f=this.i.uh;d=null;for(g=0;g<f.length;g++)if(Ib(f[g],this.body.g.position)){var h;h=f[g];for(var k=this.body.g.position,m=h.length-1,q={jn:null,kn:null,Td:null},p=0;p<h.length;p++){var t=Lb(h[p],h[m],k);if(null==q.Td||t<q.Td){var y=R(k,h[m]);Tb(y,R(k,h[p]))-y<Math.PI/2||(q.jn=h[m],q.kn=h[p],q.Td=t)}m=p}h=q;if(null!=h.Td)d=R({x:0,y:0},{x:h.kn.x-h.jn.x,y:h.kn.y-h.jn.y})-Math.PI/2,c=!0;else{f=f[g];g=this.body.g.position;h={ac:null,Td:null};for(k=0;k<f.length;k++)if(m=Q(f[k],g),null==h.Td||m<h.Td)h.Td=
m,h.ac=f[k];f=h;f.Td<N[this.i.V].Na&&(d=R(f.ac,this.body.g.position),c=!0)}break}this.Tq=c?d:null}null!=this.Tq&&(c=new b2Vec2(Math.cos(this.Tq),Math.sin(this.Tq)),c.ca(this.oa*this.io),0<this.ra.open&&"normal"==J&&this.Mm?c.ca(1.5):("goo"==this.type||"disabler"==this.type)&&0<this.ra.open?c.ca(0):"harpoon"==this.type&&0<this.ra.open&&c.ca(.6),this.body.ha(c,this.body.h.o))}this.$h&&(!this.qf&&Pb(0,this.body.g.position)&&(this.$b(this.hg),this.Bc=this.Xh=this.hg,this.qf=!0),0<this.zh&&(this.zh-=dt),
Pb(0,this.body.g.position)||(this.qf=!1,this.$b(100,!0),this.Bc=0),0<this.Bc&&(this.Bc-=dt,this.$b(100,!0)));this.move();this.Uc(b)}};l.Uc=function(){};l.wt=function(){};l.Ry=function(){return this.q.body.g.position};
l.move=function(){if(!(this.q.O||0<this.r[0])){this.Ld+=1;if(0==this.Ld%4||this.Ld>=this.oe){var a=this.Ry();if(!a)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a==this.q.body.g.position||this.Ld>=this.oe||this.path&&!Gb(this.body.g.position,this.path[0],this.i.Xe)){var b=Rb(this.v.Lb,this.body.g.position,a,this.v.i.Xp);this.path=null!=b.path?b.path:null;this.Ld=Math.floor(.25*Math.random()*this.oe)}}if(this.path){b=this.path[0];if(0==this.Ld%4){for(;0<this.path.length&&
1>Q(b,this.body.g.position);)this.path=this.path.slice(1),b=this.path[0];if(!b||!Gb(this.body.g.position,b,this.i.Xe))return;a==this.q.body.g.position&&Gb(this.body.g.position,this.q.body.g.position,this.i.Xe)&&(this.path=[this.q.body.g.position],b=this.path[0])}if(this.Gd){if(this.Dw==this.hF){a=Nb(this.body.g.position,4*this.K,this.i.s,function(a){return a.body.g.position});this.Cw=!1;for(var c=0;c<a.length;c++)if(a[c].id>this.id&&"fighter_bullet"!=a[c].type){this.Cw=!0;break}this.Dw=0}this.Dw++}this.Gd&&
this.Cw||!b||this.ds(b)}}};l.ds=function(a){var b=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);b.bb();this.Pj(b);this.body.ha(b,this.body.h.o);this.Kf&&Gc(this,a)};l.Pj=function(a){a.ca(this.oa)};function Gc(a,b){a.Uf(R(a.body.g.position,b))}l.Uf=function(a){--this.Sm;0>=this.Sm&&(this.body.rb(a),this.Sm=this.Yy);this.se=a};
l.Mc=function(a){this.O=a;this.tb=this.cb="fade"==a?500:this.jy;this.Dk=!0;if("kill"==this.O&&!this.q.O&&(this.v.H.je+=1,G[this.type].Oi?G[G[this.type].Oi].je+=1:G[this.type].je+=1,!this.i.pa)){var b=this.v.H.of*this.Jc;D.ec&&Hc(this.v,b,this.color,this.body.g.position.x,this.body.g.position.y);this.v.H.Ye+=b;Ic(this.v);Jc(this.v);b>Db.high_roller.qE&&Kc("high_roller")}"accident"!=this.O&&"fade"!=this.O&&"absorbed"!=this.O&&("tank"==this.type?$b("tdeath"):this.wf?($b("tdeath"),setTimeout(function(){$b("tdeath")},
150),setTimeout(function(){$b("tdeath")},300)):"troll"==this.type&&"hit_player"==this.O&&0>=this.r[1]||$b("sdeath"));"fade"!=this.O&&(Ec(this.i,this.type,this.body.g.position,this.body.p),this.tk(a))};l.tk=function(){};
l.Ke=function(a){if(!this.O){if(0<this.ra.open&&("mote"==a.type||"troll"==a.type)){var b=this.body.p,c=this.body.Z/a.body.Z;a.body.ha(new b2Vec2(.2*b.x*c,.2*b.y*c),a.body.g.position);this.body.$n(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))}a===this.q?(this.v.pa&&!this.zi&&50<this.body.p.bg()&&(b=this.body.p,c=this.body.Z/a.body.Z,a.body.ha(new b2Vec2(b.x*c*.5,b.y*c*.5),a.body.g.position),this.body.$n(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))),this.ap&&this.Mc("hit_player"),(0>=this.r[1]||this.$y)&&this.Tf(),
Lc(this.v)):a instanceof Fa&&0<a.ra.open&&this.open(a.ra.open)}};l.Tf=function(){"easy"==J&&this.q.Ti(300);"normal"==J&&this.q.Ti(500)};
l.X=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0,d=this.body.g.position;a.save();a.translate(d.x*b,d.y*b);a.rotate(this.se);d=G[this.type].images.normal.height;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);var f=this.O&&"fade"!=this.O?1+this.we*c:1,g=d;if(0<this.r[3]){var c=this.r[3]/this.Ur,h=1;.1>c?(c=1-c/.1,h=this.zp*c+this.Yk*(1-c)):.9<c?(c=(c-.9)/.1,h=this.zp*c+this.Yk*(1-c)):h=this.Yk;g*=
h}g*=f;a.drawImage(G[this.type].images[this.zj()],0,0,d,d,-g/2,-g/2,g,g);0<this.r[3]&&a.drawImage(G[this.type].images[this.zj()],0,0,d,d,-g/2,-g/2,g,g);a.restore();this.zd(a,b)}};l.zd=function(){};l.bh=function(){};l.Gu=function(){};l.om=function(){};l.lm=function(){};l.mm=function(){};l.Cf=function(a,b,c,d){d||(this.open(this.Sj),this.ra.impulsed+=this.tp);this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d&&!this.wf||this.qe(a,b,c)};l.qe=function(){};
function xc(a,b){a.Ti(2E3);a.ra.open=0;a.ra.ulted=2E3;b&&a.body.$n(new b2Vec2(0,0))}l.Ti=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1])};l.$b=function(a,b){b&&(this.nf=b);this.r[1]=Math.max(a,this.r[1])};l.Ou=function(a){this.r[2]=Math.max(a,this.r[2])};l.yp=function(a){this.r[3]=Math.max(a,this.r[3]);this.Ur=this.r[3];this.zp=1;this.Yk=1/this.Mf};l.open=function(a){this.ra.open=Math.max(a,this.ra.open)};
l.Mu=function(a,b){for(var c=null,d=null,f="polygon"==this.hG?this.MF:0,g=0;g<this.bw.length;g++)for(var h=this.bw[g],k=h.length-1,m=0;m<h.length;m++){var q=Kb({x:this.body.g.position.x+h[m].Y*Math.cos(h[m].ii+f),y:this.body.g.position.y+h[m].Y*Math.sin(h[m].ii+f)},{x:this.body.g.position.x+h[k].Y*Math.cos(h[k].ii+f),y:this.body.g.position.y+h[k].Y*Math.sin(h[k].ii+f)},a,b);if(null!=q){k=Q(q,a);if(null==d||k<d)c=q,d=k;k=m}}return{KD:c,Td:d}};l.Aj=function(){return[this.body.g.position]};
l.zj=function(){if(!this.O){if(0<this.ra.ulted)return"ulted";if(0<this.ra.impulsed)return"impulsed";if(0<this.r[0])return"stunned";if(this.nf)return"silenced";if(0<this.r[2])return"gooed"}return this.pp()};l.pp=function(){return"normal"};l.Rk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a||"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Zu:"ulted"==a?z.impulse_blue:"white"==a?"white":"black"==a?"black":"world"==a.slice(0,5)?z["world "+a.slice(5,6)+" lite"]:this.op(a)};
l.op=function(){};function Mc(){}Mc.prototype=new Fa;l=Mc.prototype;l.constructor=Mc;l.ia=function(a,b,c,d,f){this.rC(a,b,c,d,f);this.gd=1E3;this.Pg=10;this.v.tj&&this.v.i.hc&&(this.gd=6600);this.sl=!1;this.jy=2E3;this.jc=this.gd};l.rC=Fa.prototype.ia;l.wf=!0;l.Cf=function(a,b,c){this.qb&&(this.body.ha(new b2Vec2(this.Pg*b*Math.cos(c),this.Pg*b*Math.sin(c)),this.body.h.o),this.qe(a,b,c))};l.qe=function(){this.lc=this.vp};l.Ti=function(){};l.$b=function(){};l.Ou=function(){};l.yp=function(){};l.open=function(){};Nc.prototype=new Mc;l=Nc.prototype;l.constructor=Nc;
function Nc(a,b,c,d,f){this.type="fourth boss";this.ia(a,b,c,d,f);this.Sc=!1;this.we=5;this.Gd=!1;this.Zh=!0;this.body.rb(Math.PI/2);this.visibility=0;this.jc=this.gd=2300;this.qb=!1;this.ff=0;this.FB=5;this.zx=1E3;this.jo=0;this.Zd=Math.PI/2;this.FE="#000000 #110000 #660000 #990000 #cc0000 #ff0000".split(" ");this.hh=0;this.rA=250;this.sA=2E4;"easy"==J&&(this.sA=3E4);this.GE=.2;this.KE={stunner:8,spear:5,tank:6,mote:6,goo:1,harpoon:4,orbiter:5,disabler:1,fighter:3,slingshot:4,troll:6,deathray:2};
this.LE={stunner:6,spear:4,tank:4,mote:4,goo:1,harpoon:3,orbiter:3,disabler:1,fighter:2,slingshot:2,troll:4,deathray:1};this.ME={stunner:10,spear:10,tank:75,mote:10,goo:20,harpoon:20,orbiter:8,disabler:20,fighter:30,slingshot:10,troll:10,deathray:50};this.tA="stunner spear fighter orbiter troll goo harpoon deathray slingshot mote tank disabler".split(" ");this.gw=0;this.JE=22E3;this.NE=0;this.cv=this.jz=2;this.iz=Math.PI/4;this.wa=10;this.body.re(10);this.Rj=5;this.bd=[];this.vA=4;"easy"==J&&(this.vA=
4);this.Jx=1E4;"easy"==J&&(this.Jx=12E3);this.Yq=!1;this.lo=this.Hx=1250;this.mo=0;this.Ix=1E3;"easy"==J&&(this.Ix=1500);this.yi=!1;this.oy=!0;this.kj=G[this.type].kj;for(a=0;a<this.Rj;a++)b=(a+.5)/this.Rj*Math.PI*2+this.body.ga(),c=Wb(this.qa,G[this.type].Ux,this.body.g.position.x+1.5*this.K*Math.cos(Math.PI/5)*Math.cos(b),this.body.g.position.y+1.5*this.K*Math.cos(Math.PI/5)*Math.sin(b),10,17,"static",this),c.rb(b),this.bd.push({type:"body",ke:a,body:c,size:this.kj*(.8+.2*Vb(.15,.85,Math.abs(1E3-
(new Date).getTime()%2E3)/1E3))});this.FA=4E3;this.IE=2E3;this.fu=0;this.Tc=100;J&&(this.Tc=70);this.qu=25E3;this.Fd=this.qu-1;this.Yo=this.Ck=this.Mg=1E3;this.Me=document.createElement("canvas");this.vm=this.Me.getContext("2d");this.Me.width=200;this.Me.height=200;this.Xo=0;this.vm.beginPath();this.vm.moveTo(100+100*Math.cos(8*Math.PI/5),100+100*Math.sin(8*Math.PI/5));for(a=0;5>a;a++)this.vm.lineTo(100+100*Math.cos(2*Math.PI*a/5),100+100*Math.sin(2*Math.PI*a/5));this.vm.closePath();this.vm.fillStyle=
"black";this.vm.fill();this.su=!1}
l.X=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;I(a,c.x*b,c.y*b,this.body.ga(),2*this.K*b,2*this.K*b,"adrogantia_head",wb);if(0<this.ff){a.save();a.beginPath();var d=this.body.ga();a.moveTo(c.x*b+this.K*b*Math.cos(d),c.y*b+this.K*b*Math.sin(d));for(var f=1;f<=this.ff;f++)a.lineTo(c.x*b+this.K*b*Math.cos(d+f*Math.PI*
2/5),c.y*b+this.K*b*Math.sin(d+f*Math.PI*2/5));5>this.ff&&a.lineTo(c.x*b,c.y*b);a.closePath();a.clip();I(a,c.x*b,c.y*b,this.body.ga(),2*this.K*b,2*this.K*b,"adrogantia_head_red",wb);a.restore()}this.zd(a,b);a.restore()}};
l.Gu=function(a,b){a.save();a.globalAlpha=1;var c=this.body.g.position;if(0<this.Fd){var d=1-this.Fd/this.qu,f=this.K*d*b;this.Xo=this.body.ga();a.save();a.globalAlpha*=.5;a.translate(c.x*b,c.y*b);a.rotate(this.Xo);a.drawImage(this.Me,0,0,this.Me.width,this.Me.height,-f,-f,2*f,2*f);a.restore()}else this.Fd>-this.Mg?(this.su||(this.su=!0,$b("b4darkness")),d=this.Fd/-this.Mg,f=(this.K*(1-d)+60*d)*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.Xo),a.drawImage(this.Me,0,0,this.Me.width,
this.Me.height,-f,-f,2*f,2*f),a.restore()):this.Fd>-(this.Mg+this.Ck)?(f=60*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.Xo),a.drawImage(this.Me,0,0,this.Me.width,this.Me.height,-f,-f,2*f,2*f),a.restore()):this.Fd>-(this.Mg+this.Ck+this.Yo)&&(d=1-(this.Fd+this.Mg+this.Ck)/-this.Yo,f=60*b,a.save(),a.globalAlpha=.5*a.globalAlpha*d,a.translate(c.x*b,c.y*b),a.rotate(this.Xo),a.drawImage(this.Me,0,0,this.Me.width,this.Me.height,-f,-f,2*f,2*f),a.restore());a.restore()};
l.zd=function(a,b){Oc(this);for(var c in this.bd)if("body"==this.bd[c].type){var d=this.bd[c],f=d.body.g.position,g=d.body.ga();a.save();I(a,f.x*b,f.y*b,g,d.size*b*2,d.size*b*2,d.ke<this.ff?"adrogantia_body_bud_red":"adrogantia_body_bud",wb);a.restore()}};
l.Uc=function(a){if(0<this.jc)this.jc=Math.max(this.jc-a,0),this.visibility=1-this.jc/this.gd;else{0==this.qb&&(this.qb=!0,this.visibility=1);0<this.mo&&(this.mo-=a);0<this.ff&&(this.jo-=a,0>this.jo&&(this.jo=this.zx,--this.ff));null!=this.Wo&&this.Wo instanceof Pc&&0>=this.Wo.r[1]?(this.hh+=a/(this.rA*Math.pow(.8,this.ff)),1<this.hh&&(this.hh=1)):0<this.hh&&(this.hh-=a/this.rA,0>this.hh&&(this.hh=0));if(this.oy){this.yi=!0;for(var b=0;b<this.Rj;b++){var c=null,c=0==b?{type:"attack",ke:b,ym:0,body:null,
Er:null,Lk:null}:{type:"spawn",ke:b,ym:0,body:null,Er:null,Lk:null};this.bd.push(c);Qc(this,c)}this.oy=!1}var b=[],d;for(d in this.bd)if(c=this.bd[d],"attack"==c.type||"spawn"==c.type){var c=this.bd[d],f=this.bd[d].ke,g=f/this.Rj*Math.PI*2+this.body.ga();if(0<c.ym&&!this.yi)c.ym-=a;else if(null==c.body)c.type=null,Qc(this,c);else{var h=Math.max(.1,Vb(.15,.85,Math.min(1,1-c.Lk/c.Er))*G["boss four "+c.type+"er"].K),k=this.K+h,k={x:this.body.g.position.x+k*Math.cos(g),y:this.body.g.position.y+k*Math.sin(g)};
c.pf.Bs(h);c.body.rb(g);c.body.aj(k);c.Lk-=a;0>=this.mo&&0>c.Lk&&!this.Wh&&("spawn"==c.type?(this.Wh=c,this.zt=f/this.Rj*Math.PI*2):b.push(d))}}0<b.length&&!this.Wh&&(f=b[Math.floor(Math.random()*b.length)],this.Wh=c=this.bd[f],this.zt=f/this.Rj*Math.PI*2);d=R(this.body.g.position,yc(this.q));for(var m in this.i.s)b=this.i.s[m],b.O||b==this||"boss four attacker"==b.type||"boss four spawner"==b.type||(6>Q(b.body.g.position,this.body.g.position)?b.Mc("absorbed"):8>Q(b.body.g.position,this.body.g.position)&&
(c=Tb(d,R(this.body.g.position,b.body.g.position)),b.body.ha(new b2Vec2(5*b.oa*Math.cos(c),5*b.oa*Math.sin(c)),b.body.h.o),c=c<d?c+Math.PI/2:c-Math.PI/2,b.body.ha(new b2Vec2(b.oa*Math.cos(c),b.oa*Math.sin(c)),b.body.h.o)));0>this.Fd&&this.Fd>-this.Mg?(m=this.Fd/-this.Mg,this.i.Lm=1-m):this.Fd<-(this.Mg+this.Ck)&&this.Fd>-(this.Mg+this.Ck+this.Yo)?(m=(this.Fd+this.Mg+this.Ck)/-this.Yo,this.i.Lm=m):0<=this.Fd&&(this.i.Lm=1);if(this.Wh)if(this.Yq)this.lo-=a,0>this.lo&&Rc(this,this.Wh);else{m=this.body.ga();
if("attack"==this.Wh.type)var q=Tb(m,R(this.body.g.position,yc(this.q))-this.zt);else"spawn"==this.Wh.type&&(this.yi?q=Tb(m,Math.PI/2):(null==this.qw&&Sc(this),q=Tb(m,this.qw-this.zt)));d=this.FA;Ub(m,q)<2*Math.PI*a/d?(this.body.rb(q),this.Yq=!0,this.yi?this.lo=0:(this.lo=this.Hx,this.Wh.pf.Hr=!0)):q>m?this.body.rb(this.body.ga()+2*Math.PI*a/d):this.body.rb(this.body.ga()-2*Math.PI*a/d)}this.NE<=this.JE-500&&(this.wa=G["fourth boss"].wa);Oc(this);this.Zd+=a/(this.sA*Math.pow(.8,this.ff))*Math.PI*
2;m=q=null;d={x:this.body.g.position.x+100*Math.cos(this.Zd),y:this.body.g.position.y+100*Math.sin(this.Zd)};if(0>=this.cv)for(this.cv=this.jz,b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b]instanceof Pc&&this.i.s[b].qb&&Sb(this.Zd-this.iz,this.Zd+this.iz,R(this.body.g.position,this.i.s[b].body.g.position))&&(c=this.i.s[b].Mu(this.body.g.position,d).Td,null==q||null!=c&&c<q)&&(q=c,m=this.i.s[b]);else q=this.ve,m=this.Wo;--this.cv;c=this.q.Mu(this.body.g.position,d).Td;if(null==q||null!=
c&&c<q)q=c,m=this.q;m instanceof Pc&&m.id!=this.Wo.id&&m.qb&&(d=m,0>=d.r[1]&&(d.Fs=!0,d.yn=d.fw));this.Wo=m;this.ve=q;"normal"==J&&(this.Fd-=a,0>this.Fd&&this.Fd<-(this.Mg+this.Ck+this.Yo)&&(this.Fd=this.qu,this.su=!1))}};function Sc(a){var b=2*Math.random()*Math.PI,c={x:a.body.g.position.x+15*Math.cos(b),y:a.body.g.position.y+15*Math.sin(b)},d=Math.min(775/E-c.x,c.x-25/E),f=Math.min(575/E-c.y,c.y-25/E);Gb(a.body.g.position,c,a.i.Xe)&&10<Math.min(d,f)?a.qw=b:Sc(a)}
function Rc(a,b,c){if(a.yi)for(a.yi=!1,b=0;b<a.bd.length;b++)c=a.bd[b],"spawn"==c.type&&Rc(a,c,!0);else{if("attack"==b.type)b.pf.dir={x:b.body.g.position.x-a.body.g.position.x,y:b.body.g.position.y-a.body.g.position.y},b.body=null,b.ym=0,a.Wh=null,a.Yq=!1,b.pf.body.cg(),b.pf=null,$b("b4attacker");else if("spawn"==b.type){a.Wh=null;a.Yq=!1;b.ym=0;b.body=null;var d=R(a.body.g.position,b.pf.body.g.position),d=new b2Vec2(Math.cos(d),Math.sin(d));d.ca(a.IE);b.pf.body.ha(d,b.pf.body.h.o);b.pf.qb=!0;b.pf.Hr=
!1;1!=c&&b.pf.$b(5E3,!0,!0);Fc(b.pf);b.pf.body.cg();b.pf=null;a.qw=null;$b("b4spawner")}a.mo=a.Ix}}
l.tk=function(){for(var a=0;a<this.bd.length;a++){var b=this.bd[a],c=R(this.body.g.position,b.body.g.position);"body"==b.type?(b=Wb(this.qa,G[this.type].Ux,this.body.g.position.x+1.5*this.K*Math.cos(Math.PI/5)*Math.cos(c),this.body.g.position.y+1.5*this.K*Math.cos(Math.PI/5)*Math.sin(c),.1,17,"dynamic",this),b.rb(c),this.bd[a].body=b,c=new b2Vec2(Math.cos(c),Math.sin(c)),c.bb(),c.ca(20),b.ha(c,b.h.o)):0<b.Lk&&(c=new b2Vec2(Math.cos(c),Math.sin(c)),c.bb(),c.ca(30),this.bd[a].body.ha(c,this.bd[a].body.h.o))}};
function Oc(a){if(!a.O){for(var b=.8+.2*Vb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3),c=[],d=0;5>d;d++)c.push({x:Math.cos(2*Math.PI*d/5)*b*a.kj,y:Math.sin(2*Math.PI*d/5)*b*a.kj});for(d in a.bd){var f=a.bd[d];if("body"==f.type){var f=a.bd[d],g=(a.bd[d].ke+.5)/a.Rj*Math.PI*2+a.body.ga();f.body.Hc.$a.$=c;f.body.aj({x:a.body.g.position.x+(a.K+b*a.kj)*Math.cos(Math.PI/5)*Math.cos(g),y:a.body.g.position.y+(a.K+b*a.kj)*Math.cos(Math.PI/5)*Math.sin(g)});f.body.rb(g);f.size=b*a.kj}}}}
function Qc(a,b){null==b.type&&(a.fu+=1,b.type=0==a.fu%a.vA?"spawn":"attack");var c=b.ke/a.Rj*Math.PI*2+a.body.ga(),d=a.K+1.5*G["boss four "+b.type+"er"].ez,f=a.body.g.position.x+d*Math.cos(c),d=a.body.g.position.y+d*Math.sin(c),g=null;"attack"==b.type?g=new Tc(a.qa,f,d,a.i.vc,a.v,.1):(a.gw+=1,g=a.tA[(a.gw-1)%a.tA.length],g=new Pc(a.qa,f,d,a.i.vc,a.v,g,"easy"==J?a.LE[g]:a.KE[g],a.ME[g],a,.1));b.body=g.body;b.pf=g;b.body.rb(c);a.i.bi.push(g);a.i.vc+=1;b.Er=a.yi&&"spawn"==b.type?1E3:a.Jx;b.Lk=b.Er}
l.bh=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){a.save();var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Fk(a,b);this.qb&&(a.beginPath(),c=null!=this.ve?this.ve:100,a.moveTo((this.body.g.position.x+Uc(this)*Math.cos(this.Zd+Math.PI/2))*b,(this.body.g.position.y+Uc(this)*Math.sin(this.Zd+Math.PI/2))*b),a.lineTo((this.body.g.position.x+Uc(this)*Math.cos(this.Zd-Math.PI/2))*b,(this.body.g.position.y+
Uc(this)*Math.sin(this.Zd-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.Zd)+Uc(this)*Math.cos(this.Zd-Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.Zd)+Uc(this)*Math.sin(this.Zd-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.Zd)+Uc(this)*Math.cos(this.Zd+Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.Zd)+Uc(this)*Math.sin(this.Zd+Math.PI/2))*b),a.closePath(),a.globalAlpha*=.5,a.fillStyle=this.FE[this.ff],a.fill(),a.globalAlpha*=2,0<this.hh&&(a.save(),
a.globalAlpha*=this.hh,a.fillStyle="red",a.fill(),a.restore()));a.restore()}};l.Fk=function(a,b){var c=this.body.g.position;I(a,c.x*b,c.y*b,this.body.ga(),200,200,"adrogantia_glow",wb)};l.move=function(){};l.Ke=function(a){this.O||a!==this.q||(a=R(this.body.g.position,yc(this.q)),this.q.body.ha(new b2Vec2(this.Tc*Math.cos(a),this.Tc*Math.sin(a)),this.q.body.h.o),Lc(this.v))};l.Aj=function(){for(var a=[],b=0;b<this.wg[0].length;b++){var c=this.body.g.position.Db();c.Dg(this.wg[0][b]);a.push(c)}return a};
l.qe=function(){this.lc=this.vp;this.ff<this.FB&&(this.ff+=1);this.jo=this.zx};l.Fr=function(){};function Uc(a){return a.GE*Math.pow(1.2,a.ff)};Tc.prototype=new Fa;l=Tc.prototype;l.constructor=Tc;function Tc(a,b,c,d,f,g){this.type="boss four attacker";this.ia(a,b,c,d,f);this.size=g;this.Kf=!1;this.Tc=100;"easy"==J&&(this.Tc=70);this.wA=200;this.dir=null;this.ho=this.Hr=!1}
l.X=function(a,b){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;this.Hr?I(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud_firing",wb):I(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud",wb);a.restore()};
l.Uc=function(){if(this.dir){var a=new b2Vec2(this.dir.x,this.dir.y);a.bb();a.ca(this.oa);"easy"==J&&a.ca(.5);this.body.ha(a,this.body.h.o)}};l.move=function(){};
l.Ke=function(a){if(!(this.O||0<this.r[1]))if(a===this.q){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.Tc*Math.cos(b),this.Tc*Math.sin(b)),this.q.body.h.o);Lc(this.v)}else if(this.dir&&"boss four spawner"==a.type){var b=R({x:0,y:0},this.dir),c=Tb(b,R(this.body.g.position,a.body.g.position)),b=b<c?b-Math.PI/2:b+Math.PI/2;a.body.ha(new b2Vec2(this.wA*Math.cos(b),this.wA*Math.sin(b)),a.body.h.o)}else this.dir&&"fourth boss"!=a.type&&(R(this.body.g.position,a.body.g.position),
b=new b2Vec2(this.dir.x,this.dir.y),b.bb(),b.ca(100*a.oa),a.body.ha(b,a.body.h.o))};l.Cf=function(){};l.nr=function(){if(this.dir)for(var a=0;a<this.i.Yd.length;a++)if(Ib(this.i.Yd[a],this.body.g.position)){0>=this.ra.open&&this.sl?this.Mc("accident"):this.Mc("kill");break}};l.Bs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Hc.$a.$=b;this.size=a;this.body.cg()};Pc.prototype=new Fa;l=Pc.prototype;l.constructor=Pc;function Pc(a,b,c,d,f,g,h,k,m,q){this.type="boss four spawner";this.ia(a,b,c,d,f);this.kp=g;this.color="black";this.gz=G[this.kp].color;this.Fs=!1;this.HE=h;this.PD=k;this.size=q;this.Kf=!1;this.parent=m;this.Hr=this.qb=!1;this.fw=1E3;this.yn=0;this.Pg=2;this.Tc=100}
l.Uc=function(a){if(!this.O&&(this.qb&&(0<this.yn?(this.Bs(G[this.type].K*(1+Vb(.15,.85,.5-Math.abs(this.yn/this.fw-.5)))),this.yn-=a):this.size!=G[this.type].K&&this.Bs(G[this.type].K)),this.Fs&&this.yn<this.fw/2)){$b("b4spawneract");a=R(this.parent.body.g.position,this.body.g.position);for(var b=0,c=this.HE*(1+.2*this.parent.ff),d=Math.max(c,4),f=0;f<c;f++){if(this.i.Jk[this.kp]+f>=this.i.Im[this.kp][6]){this.$b(500);this.Fs=!1;return}for(var g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;!Gb(this.body.g.position,
{x:this.body.g.position.x+10*Math.cos(g),y:this.body.g.position.y+10*Math.sin(g)},this.i.Xe);)b+=1,g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;var h=[this.body.g.position.x+2*this.K*Math.cos(g),this.body.g.position.y+2*this.K*Math.sin(g)],h=new G[this.kp].className(this.qa,h[0],h[1],this.i.vc,this.v),g=new b2Vec2(Math.cos(g),Math.sin(g));g.ca(this.PD);h.body.ha(g,h.body.h.o);h.Ld=h.oe;this.i.bi.push(h);this.i.vc+=1;b+=1}this.Fs=!1;this.$b(1E3)}};
l.Bs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Hc.$a.$=b;this.size=a;this.body.cg()};l.zd=function(a,b){0<this.r[1]&&this.nf&&!this.O&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*b*1.5,-.5*Math.PI,-.5*Math.PI+this.r[1]/this.SC*Math.PI*1.998,!0),a.lineWidth=2,a.strokeStyle="red",a.stroke())};l.$b=function(a,b){b&&(this.nf=b);this.r[1]=Math.max(a,this.r[1]);this.SC=this.r[1]};
l.Ke=function(a){this.O||a===this.q&&Lc(this.v)};l.Cf=function(a,b,c){this.qb&&(this.body.ha(new b2Vec2(this.Pg*b*Math.cos(c),this.Pg*b*Math.sin(c)),this.body.h.o),this.qe(a,b,c))};
l.X=function(a,b){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;I(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_spawner",wb);var d=this.kp,c=this.body.g.position.x*b,f=this.body.g.position.y*b,g=this.size*b*.7,h=this.body.ga();a.save();h&&(a.translate(c,f),a.rotate(h),a.translate(-c,-f));h=Math.min(1/G[d].K,1)*g/2;"boss"==d.slice(d.length-4)&&(h=2/G[d].K*g/2);for(g=0;g<G[d].Xb.length;g++){var k=G[d].Xb[g];
Ha(a,c,f,k,h,"black")}if("undefined"!==typeof G[d].rj)for(g=0;g<G[d].rj.length;g++)k=G[d].rj[g],Ha(a,c,f,k,h,"black");d=G[d].Gy;if("undefined"!==typeof d)for(g=0;g<d.length;g++)a.beginPath(),k=d[g],a.moveTo(c+h*k.x1,f+h*k.y1),a.lineTo(c+h*k.x2,f+h*k.y2),a.lineWidth=2,a.strokeStyle="black",a.stroke();a.restore();a.restore();this.zd(a,b)};l.move=function(){};Vc.prototype=new Mc;l=Vc.prototype;l.constructor=Vc;
function Vc(a,b,c,d,f){this.type="first boss";this.qa=a;this.ia(a,b,c,d,f);this.Sc=!1;this.we=5;this.xg=this.Kc=562.5;this.Gd=!1;this.Zh=!0;this.Kc=3E3;this.lA=2;this.Zk=2E4;this.Ud=this.Zk-1;this.Ci=6E3;this.qb=this.Ap=!1;this.Jm=["stunner","spear","tank"];this.An={stunner:5,spear:3,tank:20};this.Kf=!1;this.body.rb(Math.PI/2);this.dz=Math.PI/2;this.visibility=0;this.GA=1E3;"easy"==J&&(this.GA=1500);"easy"==J&&(this.Pg=12);this.FA=5E3;this.body.re(100*G[this.type].wa);this.Hf=40;"easy"==J&&(this.Hf=
30);this.RC=1;this.Yz=8;this.yx=750;this.rz=this.ky=400;this.aA=300;this.Xz=400;this.Sz=300;this.VD=(this.ky+this.Xz+this.aA+this.rz+this.Sz)/2;this.YE=1500;this.vp=150;this.lc=0;this.Xk={left:0,right:0};this.Vj={left:0,right:0};this.ef={left:this.yx,right:this.yx};this.data=G[this.type];this.state="turret";this.tc={left:"none",right:"none"};this.eb={};this.Ma={};a=G[this.type].yw[0].Y;b=G[this.type].jv[0].Y;c=G[this.type].Pu[0].Y;d=this.K;f=this.body.g.position.x;var g=this.body.g.position.y,h=this.RC;
this.Ma.lu=Wb(this.qa,G[this.type].yw,f+d+a-2*h,g,.01,8,"dynamic",this);this.eb.lu=Wc(this,new b2Vec2(f+d-h,g),this.body,this.Ma.lu);this.Ma.ll=Wb(this.qa,G[this.type].jv,f+d+2*a+b-4*h,g,.01,8,"dynamic",this);this.eb.ll=Wc(this,new b2Vec2(f+d+2*a-3*h,g),this.Ma.lu,this.Ma.ll);this.Ma.lh=Wb(this.qa,G[this.type].Pu,f+d+2*a+2*b-4*h+.25*c,g,.01,8,"dynamic",this);this.Ma.lh.rb(Math.PI/4);this.eb.lh=Wc(this,new b2Vec2(f+d+2*a+2*b-4*h+.25*c,g),this.Ma.ll,this.Ma.lh);this.Ma.ru=Wb(this.qa,G[this.type].yw,
f-(d+a-2*h),g,.01,8,"dynamic",this);this.eb.ru=Wc(this,new b2Vec2(f-(d-h),g),this.body,this.Ma.ru);this.Ma.rl=Wb(this.qa,G[this.type].jv,f-(d+2*a+b-4*h),g,.01,8,"dynamic",this);this.eb.rl=Wc(this,new b2Vec2(f-(d+2*a-3*h),g),this.Ma.ru,this.Ma.rl);this.Ma.rh=Wb(this.qa,G[this.type].Pu,f-(d+2*a+2*b-4*h+.25*c),g,.01,8,"dynamic",this);this.Ma.rh.rb(Math.PI/4);this.eb.rh=Wc(this,new b2Vec2(f-(d+2*a+2*b-4*h+.25*c),g),this.Ma.rl,this.Ma.rh);this.Wk={};this.ug={};this.Vh={left:"none",right:"none"};this.kz=
{left:0,right:0};this.ps=13;this.nn={left:0,right:0};this.pl=this.Rv=13500;this.pn=2E3;this.Sv=200;this.Zz=8;this.on=15;this.qs=150;this.OD=!1;this.Mz=1E4;this.Kz=12E3;this.Lz=6E3;this.ml=this.Mz/2;this.en=this.Kz;this.sl=!1;this.sz=1E3;this.jw=this.Bp=0;this.Ny=!0;this.Pg=20}
l.tk=function(){var a="lu ll lh ru rl rh".split(" ");this.lc=0;this.Xk.left=0;for(var b=this.Xk.right=0;b<a.length;b++){this.qa.Qw(this.eb[a[b]]);var c=R(this.body.g.position,this.Ma[a[b]].g.position),c=new b2Vec2(Math.cos(c),Math.sin(c));c.bb();c.ca(10);this.Ma[a[b]].ha(c,this.Ma[a[b]].h.o)}};
function Xc(a,b){var c=arm;Yc(a,c,a.rz);if("left"==c){var d=a;a.tc[c]="loading";Zc(a,"lu",.3*-Math.PI);Zc(a,"lh",Math.PI/4);Zc(a,"ll",function(){return Tb(d.eb.ll.be(),R(d.eb.ll.wd(),yc(d.q))-d.eb.lu.be()-(d.body.ga()-d.dz))});a.nn[c]=R(a.eb.ll.wd(),b);a.Vh[c]={x:a.eb.ll.wd().x+Math.cos(a.nn[c])*a.ps,y:a.eb.ll.wd().y+Math.sin(a.nn[c])*a.ps};a.Bp=a.sz}"right"==c&&(d=a,a.tc[c]="loading",Zc(a,"ru",.3*Math.PI),Zc(a,"rh",-Math.PI/4),Zc(a,"rl",function(){return Tb(d.eb.rl.be(),Math.PI+R(d.eb.rl.wd(),yc(d.q))-
d.eb.ru.be()-(d.body.ga()-d.dz))}),a.nn[c]=R(a.eb.rl.wd(),b),a.Vh[c]={x:a.eb.rl.wd().x+Math.cos(a.nn[c])*a.ps,y:a.eb.rl.wd().y+Math.sin(a.nn[c])*a.ps},a.Bp=a.sz)}function $c(a,b,c){Yc(a,b,a.ky);"left"==b?(a.tc[b]="default",Zc(a,"lu",-Math.PI/4),Zc(a,"ll",Math.PI/2),Zc(a,"lh",0)):"right"==b&&(a.tc[b]="default",c&&(a.tc[b]="delay_default"),Zc(a,"ru",Math.PI/4),Zc(a,"rl",-Math.PI/2),Zc(a,"rh",0))}
function ad(a,b){Yc(a,b,a.YE);"left"==b?(a.tc[b]="loading_turret",Zc(a,"lu",Math.PI/2),Zc(a,"ll",0),Zc(a,"lh",0)):"right"==b&&(a.tc[b]="loading_turret",Zc(a,"ru",-Math.PI/2),Zc(a,"rl",0),Zc(a,"rh",0))}function Zc(a,b,c){a.Wk[b]={start:a.eb[b].be(),end:c}}function Yc(a,b,c){a.ef[b]=c;a.kz[b]=c}function Wc(a,b,c,d){var f=new n.l.M.cm;f.kd(c,d,b);f.Hm=!0;f.uz=-Math.PI/2;f.LA=Math.PI/2;f.qr=!1;return a.qa.dB(f)}
l.Uc=function(a){this.jw+=a;1==this.i.s.length&&this.en>this.Lz&&(this.en=this.Lz);if(0<this.jc)this.jc=Math.max(this.jc-a,0),this.visibility=1-this.jc/this.gd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.re(G[this.type].wa));0<this.lc&&(this.lc-=a);0<this.Bp&&(this.Bp-=a);"turret"==this.state?(this.ml-=a,0>this.ml&&(this.state="punching",$c(this,"left",!0),this.Vj.left=0,this.Vj.right=0,$c(this,"right",!0),this.en=this.Kz)):"punching"==this.state&&(this.en-=a,0>this.en&&bd(this));for(arm in this.tc){this.ef[arm]-=
a;0<this.Xk[arm]&&(this.Xk[arm]-=a);"none"==this.tc[arm]&&bd(this);if("turret"==this.state)var b=Tb(this.body.ga(),R(this.body.g.position,yc(this.q))+(Math.abs(this.jw%2E3-1E3)-500)/500*Math.PI/8);else"punching"==this.state&&(b=Tb(this.body.ga(),R(this.body.g.position,yc(this.q))));if("loading"==this.tc[arm])if(this.body.rb(b),0>this.ef[arm]){yc(this.q).Db();var c=arm;Yc(this,c,this.Xz);"left"==c&&"left"==c&&(this.ug.ll=this.eb.ll.be(),this.ug.lu=this.eb.lu.be(),this.ug.lh=this.eb.lh.be(),this.tc[c]=
"punching",this.eb.ll.oh(0,Math.PI),this.eb.lu.oh(-Math.PI,Math.PI),this.eb.lh.oh(0,0));"right"==c&&(this.ug.rl=this.eb.rl.be(),this.ug.ru=this.eb.ru.be(),this.ug.rh=this.eb.rh.be(),this.tc[c]="punching",this.eb.rl.oh(-Math.PI,0),this.eb.ru.oh(-Math.PI,Math.PI),this.eb.rh.oh(0,0))}else cd(this);"default"==this.tc[arm]&&(this.body.rb(b),0>this.ef[arm]?0<this.Vj[arm]?this.Vj[arm]-=a:Xc(this,yc(this.q)):cd(this));"delay_default"==this.tc[arm]&&(this.body.rb(b),this.ef[arm]<-this.VD?0<this.Vj[arm]?this.Vj[arm]-=
a:Xc(this,yc(this.q)):cd(this));if("punching"==this.tc[arm])if(0>this.ef[arm]){c=arm;this.tc[c]="paralyzed";if("right"==c)var d=["rl","ru","rh"];"left"==c&&(d=["ll","lu","lh"]);c=void 0;for(c in d){var f=d[c];this.eb[f].oh(this.eb[f].be(),this.eb[f].be())}this.ef[arm]=this.Sz}else{c=arm;if("left"==c){var f=R(this.Ma.lh.g.position,this.Vh[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Ma.lh.g.position,this.Vh[c]);this.eb.lu.wd();10>g&&f.ca(g/10);"punching"==this.tc[c]&&f.ca(this.Yz);this.Ma.lh.ha(f,
this.Ma.lh.h.o)}"right"==c&&(f=R(this.Ma.rh.g.position,this.Vh[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Ma.rh.g.position,this.Vh[c]),this.eb.ru.wd(),10>g&&f.ca(g/10),"punching"==this.tc[c]&&f.ca(this.Yz),this.Ma.rh.ha(f,this.Ma.rh.h.o))}"retract"==this.tc[arm]&&(0>this.ef[arm]?$c(this,arm):cd(this));"paralyzed"==this.tc[arm]&&0>this.ef[arm]&&(c=arm,Yc(this,c,this.aA),"left"==c?(this.Vh.left=null,this.tc[c]="retract",Zc(this,"lu",this.ug.lu),Zc(this,"ll",this.ug.ll),Zc(this,"lh",this.ug.lh)):
"right"==c&&(this.Vh.right=null,this.tc[c]="retract",Zc(this,"ru",this.ug.ru),Zc(this,"rl",this.ug.rl),Zc(this,"rh",this.ug.rh)));"loading_turret"==this.tc[arm]&&(this.body.rb(b),0>this.ef[arm]?this.tc[arm]="turret_firing":cd(this));if("turret_firing"==this.tc[arm]&&(this.body.rb(b),0>this.ef[arm])){g=arm;c=new b2Vec2(Math.cos(this.body.ga()),Math.sin(this.body.ga()));f=this.Jm[Math.floor(Math.random()*this.Jm.length)];"easy"==J&&"tank"==f&&.5>Math.random()&&(f=this.Jm[Math.floor(Math.random()*this.Jm.length)]);
c.bb();var h=null;"left"==g&&(h={x:this.Ma.lh.g.position.x+3*c.x,y:this.Ma.lh.g.position.y+3*c.y});"right"==g&&(h={x:this.Ma.rh.g.position.x+3*c.x,y:this.Ma.rh.g.position.y+3*c.y});c.ca(this.An[f]);g=new this.i.Ey[f](this.qa,h.x,h.y,this.i.vc,this.v);this.i.bi.push(g);g.body.ha(c,g.body.h.o);g.Ti(this.ml+2E3);"stunner"==f&&g.open(1500);g.Ld=2*g.oe;g.Uf(this.body.ga());0>this.Ud&&g.yp(this.Ud+this.Ci);this.i.vc+=1;this.ef[arm]=this.GA}}if("normal"==J){if(0>this.Ud&&this.Ud>.9*-this.Ci&&!this.Ap)for(this.Ap=
!0,$b("b1shrink"),this.xg>this.Kc/this.lA&&(this.xg=this.Kc/this.lA),this.q.yp(Math.round(this.Ci)),b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b].yp(Math.round(this.Ci));this.Ud<.9*-this.Ci&&this.Ap&&(this.Ap=!1,$b("b1grow"));this.Ud<-this.Ci&&(this.Ud=this.Zk);this.Ud-=a;if(!(this.Ud>.9*this.Zk)&&this.Ud<.175*this.Zk&&0<=this.Ud)for(a=this.Ud;a>.05*this.Zk;)a-=.05*this.Zk}}};
function cd(a){var b=arm,c=[];"left"==b&&(c=["lu","ll","lh"]);"right"==b&&(c=["ru","rl","rh"]);for(index in c){var d=c[index];if("undefined"!==typeof a.Wk[d].start&&"undefined"!==typeof a.Wk[d].end){var f=Math.max(a.ef[b]/a.kz[b],0),g=null,g="function"==typeof a.Wk[d].end?a.Wk[d].end():a.Wk[d].end,f=f*a.Wk[d].start+(1-f)*g;a.eb[d].oh(f,f)}}}
function dd(a,b,c,d,f){var g=b.g.position;0<a.lc||0<a.Xk[f]?I(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm_red",tb):I(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm",tb)}function ed(a,b,c,d,f){var g=b.g.position;0<a.lc||0<a.Xk[f]?I(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand_red",tb):I(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand",tb)}
l.Fk=function(a,b){var c=this.body.g.position;0<this.lc?I(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_red_glow",tb):I(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_glow",tb);var d=[];for(index in d)if(c=d[index],this.Ma[c]){var f=this.Ma[c],c=f.g.position;I(a,c.x*b,c.y*b,f.ga(),190,190,"immunitas_glow",tb)}};
l.X=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);dd(this,this.Ma.lu,a,b,"left");dd(this,this.Ma.ru,a,b,"right");dd(this,this.Ma.ll,a,b,"left");dd(this,this.Ma.rl,a,b,"right");ed(this,this.Ma.lh,a,b,"left");ed(this,this.Ma.rh,a,b,"right");c=this.body.g.position;0<this.lc?I(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head_red",tb):
I(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head",tb);a.restore();this.zd(a,b)}};
l.sy=function(a,b){var c=1-Math.max(this.Ud,0)/this.Zk;a.beginPath();var d=b*this.body.g.position.x,f=b*this.body.g.position.y;0<c&&(a.moveTo(d,f-106),a.lineTo(d+106*Math.min(1,c/.25),f-106+106*Math.min(1,c/.25)));.25<c&&(a.moveTo(d+106,f),a.lineTo(d+106-106*Math.min(1,(c-.25)/.25),f+106*Math.min(1,(c-.25)/.25)));.5<c&&(a.moveTo(d,f+106),a.lineTo(d-106*Math.min(1,(c-.5)/.25),f+106-106*Math.min(1,(c-.5)/.25)));.75<c&&(a.moveTo(d-106,f),a.lineTo(d-106+106*Math.min(1,(c-.75)/.25),f-106*Math.min(1,(c-
.75)/.25)));a.lineWidth=15;a.strokeStyle=z["boss 1"];a.stroke()};function fd(a,b,c){for(var d=0;d<a.Zz;d++){var f=d/a.Zz*Math.PI*2;I(b,a.body.g.position.x*c+(a.on+.9)*c*Math.cos(f),a.body.g.position.y*c+(a.on+.9)*c*Math.sin(f),f,70,70,"immunitas_arrow",tb);b.globalAlpha*=.8;b.beginPath();b.arc(a.body.g.position.x*c,a.body.g.position.y*c,a.on*c,0,2*Math.PI,!1);b.strokeStyle="black";b.lineWidth=2;b.stroke();b.globalAlpha/=.8}}
l.zd=function(a,b){this.O||(a.save(),null!=this.pl&&(this.pl<this.pn?(a.beginPath(),a.globalAlpha=(this.pn-this.pl)/this.pn*.7,fd(this,a,b)):this.pl>this.Rv-this.pn/2&&this.OD&&(a.beginPath(),a.globalAlpha=(this.pl-(this.Rv-this.pn/2))/this.pn/2*.7,fd(this,a,b)),this.pl<this.Sv&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,(this.Sv-this.pl)/this.Sv*this.on*b,0,2*Math.PI,!1),globalAlpha=.7,a.lineWidth=4,a.strokeStyle=this.color,a.stroke())),a.restore())};
l.bh=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){a.save();if(this.O){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;this.Fk(a,b);c=this.body.g.position;a.globalAlpha*=.6;0<this.lc?I(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura_red",tb):I(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura",tb);a.globalAlpha/=.6;0<=this.Ud&&this.sy(a,b);a.globalAlpha*=.8;0>this.Ud&&this.Ud>=-this.Ci&&(c=Math.min(5-Math.abs((-this.Ud-
this.Ci/2)/(this.Ci/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Bc,Cc));a.restore()}};l.move=function(){var a=this.body.ga(),b=R(this.body.g.position,yc(this.q));Math.min(250,Ub(a,b)/Math.PI*1E3);Sb(a-Math.PI,a,b)?this.body.rb(this.body.ga()-Math.PI/2E3):this.body.rb(this.body.ga()+Math.PI/2E3)};
l.Ke=function(a,b){if(!this.O&&this.qb)if(a==this.q&&($b("b1hit"),Lc(this.v)),b==this.body){var c=R(this.body.g.position,a.body.g.position);a.body.ha(new b2Vec2(4*this.Hf*Math.cos(c),4*this.Hf*Math.sin(c)),a.body.h.o)}else{var c=R(this.body.g.position,a.body.g.position),d=this.Hf;this.Ap&&(d*=2);d="punching"==this.state?1.5*d:b!=this.Ma.lh&&b!=this.Ma.rh?2*d:1*d;a.body.ha(new b2Vec2(d*Math.cos(c),d*Math.sin(c)),a.body.h.o)}};
l.Aj=function(){for(var a=[],b=0;b<this.wg[0].length;b++){var c=this.body.g.position.Db();c.Dg({x:.6*this.wg[0][b].x,y:.6*this.wg[0][b].y});a.push(c)}return a};l.Tf=function(){var a=R(this.body.g.position,yc(this.q));this.q.body.ha(new b2Vec2(this.Hf*Math.cos(a),this.Hf*Math.sin(a)),this.q.body.h.o)};function bd(a){a.state="turret";ad(a,"left");ad(a,"right");a.ml=a.Mz;a.Vh.left=null;a.Vh.right=null;a.Ny&&(a.ml/=2,a.Ny=!1)}
l.Fr=function(){if(Q(this.body.g.position,yc(this.q))<=this.on){var a=R(this.body.g.position,yc(this.q));this.q.body.ha(new b2Vec2(this.qs*Math.cos(a),this.qs*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.on){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ha(new b2Vec2(this.qs*Math.cos(b),this.qs*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a]instanceof gd||this.i.s[a].open(1500)}};hd.prototype=new Mc;l=hd.prototype;l.constructor=hd;
function hd(a,b,c,d,f){this.type="third boss";this.ia(a,b,c,d,f);this.Sc=!1;this.we=5;this.Kc=1500;this.xg=5;this.Gd=!1;this.Zh=!0;this.qb=!1;this.body.rb(7*Math.PI/16);this.lc=this.visibility=0;this.vp=150;this.Hf=200;"easy"==J&&(this.Hf=120);this.qc=16;this.fc={};this.ek=2200;"easy"==J&&(this.ek=2800);this.nq=1500;"easy"==J&&(this.nq=2E3);this.Xf=this.nq;this.mw=.7;this.Kf=!1;this.ih=16*this.ek*(1-this.mw);this.Rs=4E3;"easy"==J&&(this.Rs=6E3);this.Mn=this.Rs;this.eF=16;this.ae=0;this.Ub="gap";this.$f=
this.Gl=1E3;this.sq=this.fF=2E3;this.kk=4;this.Ln=4.3;this.nz=-1;this.SA=1E3;this.hi=0;this.fk=this.nw=4500;this.mq=.75;this.Eu=0;this.kc="extend";this.Yf=this.Cl=500;this.xm=this.K+2;this.iC=18;this.ei=this.K;this.tq=0;this.Lg=id(this);this.yg=[];this.Gs=this.hw=200;this.Qs=!1;this.zn={stunner:12,spear:9,tank:5,mote:9,goo:1,harpoon:5,disabler:1,fighter:3,troll:9};if("easy"==J)for(var g in this.zn)this.zn[g]*=.5,this.zn[g]=Math.ceil(this.zn[g]);this.An={stunner:25,spear:18,tank:200,mote:10,goo:200,
harpoon:400,disabler:300,fighter:400,troll:20};this.EE={stunner:500,spear:1E3,tank:2E3,mote:500,goo:0,harpoon:5E3,disabler:0,fighter:5E3,troll:2E3,frenzy:1E3};this.ck=2E4;this.Fe=this.ck-1;this.fd=7E3;this.Pi=!1;this.vl=-1;this.sn=!1;for(a=0;a<this.qc;a++)b=Wb(this.qa,G[this.type].Ex,this.body.g.position.x,this.body.g.position.y,.01,16,"static",this),b.rb(this.body.ga()+Math.PI/(this.qc/2)*a),this.fc[a]={interval:this.ek,duration:0,Ki:0,ve:this.K,body:b,mf:this.mw}}
function id(a){var b=["tank","fighter","troll","harpoon"],c=["stunner","spear","goo","disabler"],d="mote harpoon stunner spear goo disabler tank fighter troll".split(" ");6<a.i.s.length&&(c.push("frenzy"),d.push("frenzy"));a=[];var f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b.splice(f,1);f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b=Math.floor(Math.random()*d.length);a.push(d[b]);-1!=c.indexOf(d[b])&&c.splice(c.indexOf(d[b]),1);
a.push(c[Math.floor(Math.random()*c.length)]);return a}
l.Uc=function(a){if(0<this.jc)this.jc=Math.max(this.jc-a,0),this.visibility=1-this.jc/this.gd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.re(G[this.type].wa));this.sn&&(0==this.vl%2?this.body.rb(this.body.ga()+2*Math.PI*a/this.ih):1==this.vl%2&&this.body.rb(this.body.ga()-2*Math.PI*a/this.ih));if("normal"==J){if(0>this.Fe&&!this.Pi&&"activate"!=this.Ub&&"fadeout"!=this.Ub&&"gap"!=this.Ub){this.Fe=0;this.Pi=!0;this.q.$b(Math.round(this.fd));for(var b=0;b<this.i.s.length;b++)this.i.s[b].id!=
this.id&&this.i.s[b].$b(Math.round(this.fd),!0,!0);"fadein"==this.Ub?(this.$f=this.Gl-this.$f,this.Ub="fadeout",this.ae=null):"spinning"==this.Ub||"activate"==this.Ub?(this.$f=this.Gl,this.Ub="fadeout","spinning"==this.Ub&&(this.ae=null)):"gap"==this.Ub&&(this.sq=this.Fe+this.fd);"retract"==this.kc?(this.Yf=this.Cl-this.Yf,this.kc="extend"):"gap"==this.kc?(this.Yf=this.Cl,this.kc="extend"):"striking"==this.kc?(jd(this),this.kc="frenzy",this.sn=!1,this.fk=this.Fe+this.fd):"frenzy"==this.kc&&(this.fk=
this.Fe+this.fd);this.yg=[]}this.Pi&&this.Fe<-this.fd&&(this.Pi=!1,this.Fe=this.ck);this.Fe-=a}"extend"==this.kc?(this.Yf-=a,b=Math.min(1-this.Yf/this.Cl,1),this.ei=this.K+b*(this.xm-this.K),kd(this,this.ei),0>this.Yf&&(this.Pi?(this.kc="frenzy",this.fk=this.Fe+this.fd):(this.kc="striking",this.sn=!0,this.vl+=1),this.Xf=0)):"striking"==this.kc?(ld(this),15>=Q(this.body.g.position,yc(this.q))?(this.Xf-=a,0>=this.Xf&&!(0<this.hi&&"frenzy"==this.Lg[this.ae])&&(this.Xf=this.nq,md(this))):this.Xf-=a):
"retract"==this.kc?(this.Yf-=a,b=Math.max(this.Yf/this.Cl,0),this.ei=this.K+b*(this.xm-this.K),kd(this,this.ei),ld(this),0>this.Yf&&(this.kc="gap")):"gap"==this.kc?ld(this):"frenzy"==this.kc&&(ld(this),this.Xf-=a,this.fk-=a,0>=this.Xf&&this.fk>this.mq*this.ek&&(this.Xf=this.nq*this.mq,md(this)),0>this.fk&&(this.kc="striking",this.sn=!0,this.vl+=1,this.Xf=this.nq));if("fadein"==this.Ub)this.ae=0,this.$f-=a,this.tq=Math.min(1-this.$f/this.Gl,1),0>=this.$f&&(this.Ub="spinning",this.tq=1,this.Mn=this.Rs);
else if("spinning"==this.Ub)this.Mn-=a,b=Math.pow(Math.min(1-this.Mn/this.Rs,1),1),this.ae=Math.floor(b*this.eF)%this.kk,this.nz!=this.ae&&(this.nz=this.ae,$b("b3tick")),0>=this.Mn&&nd(this);else if("fadeout"==this.Ub)this.$f-=a,this.tq=Math.max(this.$f/this.Gl,0),0>=this.$f&&(this.Ub="gap",this.tq=0,this.sq=this.Pi?this.Fe+this.fd:this.EE[this.Lg[this.ae]]+this.Eu,this.Eu=0,this.ae=null);else if("activate"==this.Ub){if("striking"==this.kc&&"frenzy"!=this.Lg[this.ae]&&(this.kc="retract",this.sn=!1,
this.Yf=this.Cl,jd(this)),this.hi!=this.SA||"frenzy"!=this.Lg[this.ae]||this.Qs||jd(this),this.hi-=a,0>this.hi)if(this.Qs)this.Ub="fadeout",this.$f=this.Gl,"gap"==this.kc&&"frenzy"!=this.Lg[this.ae]&&(this.kc="extend",this.Yf=this.Cl);else{b=this.Lg[this.ae];if("frenzy"!=b)for(var c=0;c<this.zn[b];c++)this.yg.push(b),this.hi+=this.hw;else this.kc="frenzy",this.sn=!1,this.fk=this.nw,this.hi+=this.nw,this.Xf=0;this.Qs=!0}}else"gap"==this.Ub&&(this.sq-=a,0>=this.sq&&(this.Ub="fadein",this.$f=this.Gl,
this.Lg=id(this)));0<this.yg.length&&(this.Gs-=a,0>this.Gs&&(this.Js(this.yg[0]),this.yg.splice(0,1),this.Gs=this.hw));0<this.lc&&(this.lc-=a);if(!this.O)for(var d in this.fc)a=this.fc[d],a.body.rb(this.body.ga()+Math.PI/(this.qc/2)*d),a.body.aj(this.body.g.position),a.body.Hc.$a.$[1]={x:Math.cos(0)*a.ve,y:Math.sin(0)*a.ve},a.body.Hc.$a.$[2]={x:Math.cos(Math.PI/8)*a.ve,y:Math.sin(Math.PI/8)*a.ve}}};
function ld(a){for(var b in a.fc){var c=a.fc[b];0<c.duration&&(c.duration-=dt);if(0>=c.duration)c.ve=c.lq;else{var d=1-c.duration/c.interval,f=0;null==c.Ki&&(c.Ki=Q(a.body.g.position,yc(a.q))+5,20>c.Ki&&(c.Ki+=10));var f=c.mf,g=c.mf+.3*(1-c.mf),h=c.mf+.7*(1-c.mf);d<f?(f=d/f,c.ve=c.lq*(1-f)+c.Zx*f):d>=f&&d<g?(f=(d-f)/(g-f),f=Vb(.15,.85,f),c.ve=c.Ki*f+c.Zx*(1-f),c.pA||(c.pA=!0,$b("b3strike"))):d>=g&&d<h?c.ve=c.Ki:d>=h&&1>d&&(f=(d-h)/(1-h),f=Vb(.15,.85,f),c.ve=0<f?c.Ki*(1-f)+c.lq*f:c.lq)}}}
function kd(a,b){for(var c in a.fc){var d=a.fc[c];d.lq=b;0>=d.duration&&(d.ve=b)}}function jd(a){for(var b in a.fc){var c=a.fc[b];if(0<c.duration){var d=1-c.duration/c.interval;d<c.mf?c.duration=0:d>c.mf&&d<.5*c.mf+.5&&(c.duration=2*c.interval*(.5-.5*c.mf)-c.duration)}}}
function md(a){if("striking"==a.kc){for(var b=R(a.body.g.position,yc(a.q)),c=Math.floor((b-a.body.ga())/(Math.PI/8));0>c;)c+=a.qc;for(var b=a.iC,d=0==a.vl%2?[c-1,c-3,c-2]:[c+3,c+1,c+2],f=d.length-1;0<=f;f--)d[f]>=a.qc&&(d[f]-=a.qc),0>d[f]&&(d[f]+=a.qc),0<a.fc[d[f]].duration&&d.splice(f,1);f=Math.floor(Math.random()*d.length);od(a,d[f],b,a.ek)}else if("frenzy"==a.kc){b=R(a.body.g.position,yc(a.q));for(c=Math.floor((b-a.body.ga())/(Math.PI/8));0>c;)c+=a.qc;for(var b=null,d=[c-3,c-2,c-1,c,c+1,c+2,c+
3,c+4],g=!1,f=d.length-1;0<=f;f--)0<a.fc[pd(a,d[f])].duration&&(d.splice(f,1),2<=f&&4>=f&&(g=!0));g||d.splice(d.indexOf(c+Math.floor(3*Math.random()-1)),1);f=Math.floor(Math.random()*d.length);od(a,d[f],b,a.ek*a.mq);d.splice(f,1);c=Math.floor(Math.random()*d.length);od(a,d[c],b,a.ek*a.mq);d.splice(c,1);od(a,d[Math.floor(Math.random()*d.length)],b,a.ek*a.mq)}}function pd(a,b){b>=a.qc&&(b-=a.qc);0>b&&(b+=a.qc);return b}
function od(a,b,c,d){a.RE||(a.RE=b);b=pd(a,b);0>=a.fc[b].duration&&(a.fc[b].duration=d,a.fc[b].interval=d,a.fc[b].Ki=c,a.fc[b].lq=a.xm,a.fc[b].Zx=.8*a.xm,a.fc[b].mf=a.mw,a.fc[b].pA=!1)}l.tk=function(){for(var a=0;a<this.qc;a++){var b=Wb(this.qa,G[this.type].Ex,this.body.g.position.x,this.body.g.position.y,1,16,"dynamic",this),c=this.body.ga()+Math.PI/(this.qc/2)*a;b.rb(c);this.fc[a].body=b;c=new b2Vec2(Math.cos(c),Math.sin(c));c.bb();c.ca(10);b.ha(c,b.h.o)}};
l.Aj=function(){for(var a=[],b=0;b<this.wg[0].length;b++){var c=this.body.g.position.Db();c.Dg({x:this.wg[0][b].x,y:this.wg[0][b].y});a.push(c)}return a};
l.X=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);var d=this.body.g.position,c=[];if(this.qb)for(var f in this.fc)if(0<this.fc[f].duration||this.O){var d=this.fc[f].body.g.position,g=this.fc[f].body.ga();a.save();a.translate(d.x*b,d.y*b);a.rotate(g+Math.PI/16);d=this.fc[f].ve*Math.cos(Math.PI/16);I(a,d/2*b,0,0,d*b,this.fc[f].ve*Math.sin(Math.PI/
16)*2*b,0<this.lc?"negligentia_arm_striking_red":"negligentia_arm_striking",vb);a.restore();c.push(f)}a.save();a.beginPath();d=this.body.g.position;f=this.ei*b;-1!==c.indexOf("0")&&(f=this.ei*b*.8);g=this.body.ga();a.moveTo(d.x*b+f*Math.cos(g),d.y*b+f*Math.sin(g));for(var h=0;h<this.qc;h++){var k=(h+1)%this.qc;a.lineTo(d.x*b+f*Math.cos(2*k*Math.PI/this.qc+g),d.y*b+f*Math.sin(2*k*Math.PI/this.qc+g));var m=this.ei*b;-1!==c.indexOf(""+k)&&(m=this.ei*b*.8);m!=f&&(a.lineTo(d.x*b+m*Math.cos(2*k*Math.PI/
this.qc+g),d.y*b+m*Math.sin(2*k*Math.PI/this.qc+g)),f=m)}a.closePath();a.clip();if(this.qb)if("extend"==this.kc||"retract"==this.kc)d=this.body.g.position,I(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.ei*b*2,this.ei*b*2,"negligentia_arm_ring",vb);else if("striking"==this.kc||"frenzy"==this.kc)d=this.body.g.position,I(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.xm*b*2,this.xm*b*2,"negligentia_arm_ring",vb);a.restore();0<this.lc?I(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.K*b,2*this.K*b,"negligentia_head_red",
vb):I(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.K*b,2*this.K*b,"negligentia_head",vb);this.zd(a,b);a.restore()}};l.Fk=function(a,b){var c=this.body.g.position;0<this.lc?I(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow_red",vb):I(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow",vb)};
l.bh=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){a.save();var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Pi&&0>this.Fe&&this.Fe>=-this.fd&&(a.save(),c=Math.min(5-Math.abs((-this.Fe-this.fd/2)/(this.fd/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Bc,Cc),a.restore());this.Fk(a,b);this.Pi||(a.globalAlpha*=.4);for(c=0;16>c;c++){var d=this.body.g.position,f=2*Math.PI*
(c/16+.03125-.25);1-this.Fe/this.ck>1-c/16&&(0!=c||this.Pi)?(a.globalAlpha*=2,I(a,(d.x+Math.cos(f)*this.K*1.8)*b,(d.y+Math.sin(f)*this.K*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura",vb),a.globalAlpha/=2):I(a,(d.x+Math.cos(f)*this.K*1.8)*b,(d.y+Math.sin(f)*this.K*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura_open",vb)}a.restore()}};
l.zd=function(a,b){a.save();a.globalAlpha*=this.tq;if("fadein"==this.Ub||"spinning"==this.Ub||"fadeout"==this.Ub||"activate"==this.Ub){var c=0<this.lc?"negligentia_wheel_red":"negligentia_wheel";if("fadeout"==this.Ub||"activate"==this.Ub)c="negligentia_wheel_complete";var d=this.body.ga()+Math.PI/16+Math.PI/4,f=Math.PI/(this.kk/2)*(this.ae+.5)+d;I(a,this.body.g.position.x*b,this.body.g.position.y*b,d+Math.PI/2*((this.ae+1)%4),2*this.Ln*Math.cos(Math.PI/4)*b,2*this.Ln*Math.cos(Math.PI/4)*b,c,vb);if("fadein"==
this.Ub||"spinning"==this.Ub)for(c=0;c<this.kk;c++)f=Math.PI/(this.kk/2)*(c+.5)+d,"frenzy"!=this.Lg[c]?Ea(a,this.Lg[c],this.body.g.position.x*b+Math.cos(f+Math.PI/(this.kk/2)/2)*this.Ln*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.kk/2)/2)*this.Ln*.4*b,15,f+1*Math.PI/4):Ka(a,3,this.body.g.position.x*b+Math.cos(f+Math.PI/(this.kk/2)/2)*this.Ln*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.kk/2)/2)*this.Ln*.4*b,20,!0,f);else("fadeout"==this.Ub||"activate"==this.Ub)&&null!=this.ae&&
("frenzy"!=this.Lg[this.ae]?Ea(a,this.Lg[this.ae],this.body.g.position.x*b,this.body.g.position.y*b,20,f+1*Math.PI/4):Ka(a,3,this.body.g.position.x*b,this.body.g.position.y*b,50,!0,f))}a.restore()};l.sy=function(a,b){a.beginPath();var c=Math.min(1-this.Fe/this.ck,1);a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*b*1.5,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c*.999);a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
l.Js=function(a){var b=R(this.body.g.position,yc(this.q)),c=new this.i.Ey[a](this.qa,(this.body.g.position.x+Math.cos(b)*this.K*1.25)*E/E,(this.body.g.position.y+Math.sin(b)*this.K*1.25)*E/E,this.i.vc,this.v);this.i.bi.push(c);this.i.vc+=1;"stunner"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"spear"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"tank"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.7-.35*Math.PI);"mote"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI-
.5*Math.PI);"troll"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.8-.4*Math.PI);"harpoon"==a&&(b+=Math.random()*Math.PI/10-Math.PI/20);var d=new b2Vec2(Math.cos(b),Math.sin(b));d.ca(this.An[a]);c.body.ha(d,c.body.h.o);c.body.rb(b);c.Ld=2*c.oe;c.hg=0;c.zh=0;"harpoon"==a&&c.$b(500,!0)};
l.Ke=function(a,b){if(!this.O&&this.qb)if(a===this.q&&Lc(this.v),b!==this.body)for(var c in this.fc){var d=this.fc[c],f=1-d.duration/d.interval;if(d.body==b&&(f>d.mf&&f<d.mf+.3*(1-d.mf)||1<=f||f<d.mf))if(d=R(this.body.g.position,a.body.g.position),a===this.q)a.body.ha(new b2Vec2(this.Hf*Math.cos(d),this.Hf*Math.sin(d)),a.body.h.o),Lc(this.v);else if("harpoonhead"==a.type)a.body.ha(new b2Vec2(this.An.harpoon*Math.cos(d),this.An.harpoon*Math.sin(d)),a.body.h.o);else{if(void 0!=this.An[a.type])var g=
G[a.type];g&&(f=a.body.Z*Math.sqrt(g.wa)*this.Hf,a.body.ha(new b2Vec2(f*Math.cos(d),f*Math.sin(d)),a.body.h.o))}}else d=R(this.body.g.position,a.body.g.position),c=1,a===this.q&&"easy"==J&&(c=.5),a.body.ha(new b2Vec2(this.Hf*c*Math.cos(d),this.Hf*c*Math.sin(d)),a.body.h.o)};function nd(a){a.Ub="activate";a.hi=a.SA;a.Qs=!1;$b("b3select")}l.qe=function(){this.lc=this.vp;"spinning"==this.Ub&&(nd(this),this.Eu=this.Mn)};qd.prototype=new Mc;l=qd.prototype;l.constructor=qd;
function qd(a,b,c,d,f){this.type="second boss";this.ia(a,b,c,d,f);this.Sc=!1;this.we=5;this.Gd=!1;this.tf=[];this.jg=this.Pk=1E3;this.Mr=2E3;this.Nr=8;this.Zh=!0;this.ji=3*Math.PI/4;this.Xq=3*Math.PI/16;"easy"==J&&(this.Xq=5*Math.PI/32);this.IB=1*Math.PI/2;this.ki=this.Xq;this.Gx=1*Math.PI/8;this.Wq=50;this.Fx=.9;this.qc=4;this.fo=[];this.Dx=15E3;this.qb=!1;this.body.rb(this.ji);this.Kf=!1;this.ih=this.Dx;this.visibility=0;this.Ro=13400;this.Cd=this.Ro-1;this.Ak=2E3;this.jm=0;this.Sx=10;this.$B=1;
this.So=1E3;this.Qo=.7;this.bu=!1;this.vp=150;this.Xg=this.lc=0;this.body.re(2*G[this.type].wa);this.Dj=2.5;this.ng=4;this.cu=.75;this.Uo=.3;this.km=1.2;"easy"==J&&(this.cu*=1.5,this.Uo*=1.5,this.km*=1.5);this.uA=!1;this.Bl=[];this.Hb=this.lg=1;this.EA=.2;this.Uy=.125;this.wE=.025;this.Bu=1E4;"easy"==J&&(this.Bu=12E3);this.jp=2E3;this.Is=[["stunner","mote"],["harpoon","spear"],["tank","goo"]];this.Au={stunner:.4,spear:.4,tank:2,mote:.2,goo:2.5,harpoon:2};this.Nv=!1;this.ip=[];this.zl=0}
l.Uc=function(a){if(!this.uA){this.uA=!0;for(var b=[[O-80,P-80],[80,80]],c=0;c<b.length;c++){var d=new rd(b[c][0],b[c][1],this,this.v);d.jc=c/b.length*d.gd;this.Bl.push(d)}}if(0<this.jc)this.jc=Math.max(this.jc-a,0),this.visibility=1-this.jc/this.gd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.re(G[this.type].wa));this.body.rb(this.ji);0<this.lc&&(this.lc-=a);this.jp-=a;0>this.jp&&(this.jp=this.Bu,sd(this.Bl[0],this.Is[this.zl][0]),sd(this.Bl[1],this.Is[this.zl][1]),this.zl+=1,this.zl%=
this.Is.length);1<this.lg&&(this.lg=Math.max(1,this.lg-a/1E3*this.wE));if(this.Hb!=this.lg){this.Hb=this.Hb<this.lg?Math.min(this.Hb+this.EA*a/1E3,this.lg):Math.max(this.Hb-this.EA*a/1E3,this.lg);c=this.body.Hc;void 0===c.length&&(c=[c]);for(b=0;b<c.length;b++)for(var d=this.body.Hc.$a.$,f=this.Xb[b],g=0;g<d.length;g++)d[g]=new b2Vec2(f.x+f.Y*f.ba[g][0]*this.Hb,f.y+f.Y*f.ba[g][1]*this.Hb);this.body.cg()}this.mn(a);c=this.Xq+Math.min(1,(this.lg-1)/2)*(this.IB-this.Xq);this.ki!=c&&(this.ki=this.ki<
c?Math.min(this.ki+this.Gx*a/1E3,c):Math.max(this.ki-this.Gx*a/1E3,c));for(var h in this.Bl)this.Bl[h].na(a);this.BE&&(0>this.oA?this.BE=!1:this.oA-=a);this.ji+=2*Math.PI*a/(this.Dx/this.Hb);for(c=0;c<this.i.s.length;c++)this.i.s[c].id!=this.id&&(h=R(this.i.s[c].body.g.position,this.body.g.position),b=this.Au[this.i.s[c].type]*this.qp(this.i.s[c].body.g.position,!0),0<b&&this.i.s[c].body.ha(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.i.s[c].body.h.o));this.Xg=0;h=R(yc(this.q),this.body.g.position);
b=this.qp(yc(this.q));0<b&&(this.Xg+=b,this.q.body.ha(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.q.body.h.o));if("normal"==J){if(0>this.Cd)for(this.bu||(this.bu=!0,$b("b2bhole")),h=-this.Cd/this.Ak,this.jm=h<this.Qo?h/this.Qo*this.K*this.ng*this.Hb:this.K*this.Hb*this.ng*(1-(h-this.Qo)/(1-this.Qo)),h=1,-this.Cd/this.Ak<this.Qo&&(h=.05),c=0,this.Nv||(c=Q(this.body.g.position,yc(this.q))<=this.jm?this.Sx*h*this.$B:this.Uo,b=R(this.body.g.position,yc(this.q))+Math.PI,this.Xg+=c,this.q.body.ha(new b2Vec2(c*
Math.cos(b),c*Math.sin(b)),this.q.body.h.o),this.Xg+=c),c=0;c<this.i.s.length;c++)-1!=this.ip.indexOf(this.i.s[c])||this.i.s[c].O||this.i.s[c]===this||(Q(this.body.g.position,this.i.s[c].body.g.position)<=this.jm?(b=R(this.body.g.position,this.i.s[c].body.g.position)+Math.PI,d=this.Sx*this.Au[this.i.s[c].type]*h):(b=R(this.body.g.position,this.i.s[c].body.g.position)+Math.PI,d=this.Uo*this.Au[this.i.s[c].type]),this.i.s[c].body.ha(new b2Vec2(d*Math.cos(b),d*Math.sin(b)),this.i.s[c].body.h.o));this.Cd<
-this.Ak&&(this.Cd=this.Ro,this.jm=0,this.Nv=!1,this.ip=[],this.bu=!1);this.Cd-=a}}};l.qp=function(a,b){for(var c=Q(a,this.body.g.position),d=td(this),f=0;f<d.length;f++)if(Ib(d[f],a))return c<=this.K*this.Hb*this.Dj?2*this.km:c<=this.K*this.Hb*this.ng?1.5*this.km:b?.5*this.km:this.km;if(c<=this.K*this.Hb*this.Dj)return this.cu;if(c<=this.K*this.Hb*this.ng)return this.Uo};
l.bh=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){a.save();if(this.O){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;0>this.Cd&&this.Cd>=-this.Ak&&(a.globalAlpha*=.5,c=Math.min(5-Math.abs((-this.Cd-this.Ak/2)/(this.Ak/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Bc,Cc),a.globalAlpha*=2);this.Dm(a,b);0>this.Cd&&this.Cd>=-this.Ak&&(c=this.body.g.position,I(a,c.x*b,c.y*b,0,this.jm*b*2,this.jm*b*
2,"consumendi_aura",ub));var d=1;this.Cd>=this.Ro-this.So?d=1-(this.Cd-this.Ro+this.So)/this.So:this.Cd<=this.So&&0<this.Cd&&(d=this.Cd/this.So);c=this.body.g.position;0<this.Cd&&I(a,c.x*b,c.y*b,0,90*d*this.Hb*this.Dj,90*d*this.Hb*this.Dj,"consumendi_aura",ub);a.save();a.globalAlpha*=.7;for(d=0;16>d;d++){var f=2*Math.PI*(d/16+.03125-.25);this.qb&&1-this.Cd/this.Ro>1-d/16?I(a,(c.x+Math.cos(f)*this.K*this.Hb*this.ng)*b,(c.y+Math.sin(f)*this.K*this.Hb*this.ng)*b,f,30,56,"consumendi_small_diamond_filled",
ub):I(a,(c.x+Math.cos(f)*this.K*this.Hb*this.ng)*b,(c.y+Math.sin(f)*this.K*this.Hb*this.ng)*b,f,30,56,"consumendi_small_diamond",ub)}a.restore();this.Fk(a,b);a.restore()}};
l.X=function(a,b){if(!(0==this.qb&&this.jc>.9*this.gd)){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;0<this.lc?I(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Hb,90*this.Hb,"consumendi_head_red",ub):I(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Hb,90*this.Hb,"consumendi_head",ub);this.zd(a,b);a.restore()}};
l.tk=function(){if(0!=this.fo.length)for(var a=0;10>a;a++){var b=this.fo[Math.floor(this.fo.length/10*a)],c=R(this.body.g.position,this.q.body.g.position)+2*(Math.random()-.5)*Math.PI,c=new b2Vec2(Math.cos(c),Math.sin(c));c.bb();c.ca(100);Ec(this.i,b,this.body.g.position,c)}};l.Fk=function(a,b){var c=this.body.g.position;0<this.lc?I(a,c.x*b,c.y*b,this.body.ga(),200*this.Hb,200*this.Hb,"immunitas_red_glow",tb):I(a,c.x*b,c.y*b,this.body.ga(),200*this.Hb,200*this.Hb,"consumendi_glow",ub)};
l.zd=function(a,b){for(var c in this.Bl)this.Bl[c].X(a,b,Math.max(this.jp,0)/this.Bu,this.Is[this.zl][c]);c=td(this);a.save();a.beginPath();a.rect(0,0,O,P);a.clip();for(var d=0;d<c.length;d++){a.beginPath();a.moveTo(c[d][0].x*b,c[d][0].y*b);for(var f=1;f<c[d].length;f++)a.lineTo(c[d][f].x*b,c[d][f].y*b);a.closePath();a.save();a.globalAlpha*=this.visibility/4;a.fillStyle=this.color;a.fill();var f=this.body.g.position,g=2*Math.PI*d/this.qc+this.ji;I(a,(f.x+Math.cos(g)*this.K*this.Hb*this.ng*1.5)*b,
(f.y+Math.sin(g)*this.K*this.Hb*this.ng*1.5)*b,g+Math.PI/2,50,80,"consumendi_small_arrow",ub);a.restore()}a.restore();f=yc(this.q);c=R(f,this.body.g.position);this.q.O||(.3<=this.Xg&&I(a,(f.x+2*Math.cos(c))*b,(f.y+2*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",ub),.75<=this.Xg&&I(a,(f.x+2.75*Math.cos(c))*b,(f.y+2.75*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",ub),1.2<=this.Xg&&I(a,(f.x+3.5*Math.cos(c))*b,(f.y+3.5*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",
ub),2<=this.Xg&&I(a,(f.x+4.25*Math.cos(c))*b,(f.y+4.25*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",ub))};
function td(a){for(var b=[],c=0;c<a.qc;c++){var d=[];d.push({x:a.body.g.position.x,y:a.body.g.position.y});d.push({x:a.body.g.position.x+a.Wq*a.Fx*Math.cos(2*Math.PI*c/a.qc+a.ji-a.ki/2),y:a.body.g.position.y+a.Wq*a.Fx*Math.sin(2*Math.PI*c/a.qc+a.ji-a.ki/2)});d.push({x:a.body.g.position.x+a.Wq*Math.cos(2*Math.PI*c/a.qc+a.ji+a.ki/2),y:a.body.g.position.y+a.Wq*Math.sin(2*Math.PI*c/a.qc+a.ji+a.ki/2)});b.push(d)}return b}l.move=function(){};
l.Ke=function(a){this.O||!this.qb||a.O||(a===this.q?($b("b2eat"),R(this.body.g.position,a.body.g.position),this.Nv=!0,a.Mc("absorbed"),Lc(this.v)):a!==this.q&&($b("b2eat"),"harpoonhead"!=a.type?(a.Mc("absorbed"),this.lg+=this.Uy,this.ip.push(a),this.fo.push(a.type)):(this.fo.push("harpoon"),a.wi.Mc("absorbed"),this.lg+=this.Uy,this.ip.push(a),this.ip.push(a.wi))))};l.Aj=function(){for(var a=[],b=0;b<this.wg[0].length;b++){var c=this.body.g.position.Db();c.Dg(this.wg[0][b]);a.push(c)}return a};
l.mn=function(a){for(var b=0;b<this.tf.length;b++){var c=this.tf[b];c.ed+=a/this.Mr;1<c.ed&&this.tf.splice(b,1)}this.jg-=a;0>this.jg&&(this.jg+=this.Pk,this.np(this.body.g.position.x,this.body.g.position.y,this.Nr))};l.np=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.tf.push({kw:Math.cos(f)*this.K*this.Hb*this.Dj+a,lw:Math.sin(f)*this.K*this.Hb*this.Dj+b,ed:0})}};
l.Dm=function(a,b){for(var c=0;c<this.tf.length;c++){var d=this.tf[c];a.save();a.globalAlpha=.25>d.ed?4*a.globalAlpha*d.ed:(1-d.ed)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.kw*(1-d.ed)+this.body.g.position.x*d.ed)-3,b*(d.lw*(1-d.ed)+this.body.g.position.y*d.ed)-3,6,6);a.fillStyle=z["world "+this.v.n+" bright"];a.fill();a.restore()}};function rd(a,b,c,d){this.x=a;this.y=b;this.Ig=c;this.color=this.Ig.color;this.qa=this.Ig.qa;this.v=d;this.i=this.v.i;this.q=this.v.q;this.size=60;this.visibility=0;this.Jm={stunner:3,spear:3,tank:2,mote:2,goo:1,harpoon:2};this.qC={stunner:3,spear:3,tank:2,mote:1,goo:1,harpoon:1};this.Dj=.75;this.ng=1.5;this.HC=.8;this.UC=.2}
rd.prototype.X=function(a,b,c,d){a.save();a.globalAlpha*=.5;I(a,this.x,this.y,Math.PI/4,2*this.size,2*this.size,"consumendi_glow",ub);I(a,this.x,this.y,Math.PI/4,this.size,this.size,"consumendi_mini",ub);0<c&&(a.beginPath(),a.arc(this.x,this.y,.75*this.size,-.5*Math.PI,-.5*Math.PI-2*Math.PI*(1-c),!0),a.lineWidth=4,a.strokeStyle=G[d].color,a.stroke());a.restore()};
rd.prototype.na=function(){for(var a=0;a<this.i.s.length;a++)if(this.i.s[a].id!=this.id){var b=R(this.i.s[a].body.g.position,{x:this.x/E,y:this.y/E})+Math.PI,c=this.qp(this.i.s[a].body.g.position);0<c&&this.i.s[a].body.ha(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.i.s[a].body.h.o)}b=R(this.q.body.g.position,{x:this.x/E,y:this.y/E})+Math.PI;c=this.qp(this.q.body.g.position);0<c&&this.q.body.ha(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.q.body.h.o)};
rd.prototype.qp=function(a){a=Q(a,{x:this.x/E,y:this.y/E});return a<=this.size/E*this.Dj?this.HC:a<=this.size/E*this.ng?this.UC:0};function sd(a,b){var c=a.Jm[b];"easy"==J&&(c=a.qC[b]);if(a.i.Jk[b]+1<=a.i.Im[b][6])for(var d=0;d<c;d++){var f=R({x:a.x/E,y:a.y/E},a.Ig.body.g.position),f=[(a.x+a.size/2*Math.cos(f))/E,(a.y+a.size/2*Math.sin(f))/E],f=new G[b].className(a.qa,f[0],f[1],a.i.vc,a.v);"harpoon"==f.type&&(f.kC=!0);a.i.bi.push(f);a.i.vc+=1}};ud.prototype=new Fa;l=ud.prototype;l.constructor=ud;
function ud(a,b,c,d,f){void 0!==a&&(this.type="deathray",this.ia(a,b,c,d,f),null!==a&&(this.Gd=!1,this.As=10,this.Yv=2,this.MC=5,this.Zh=!0,this.Bw=!1,this.Kc=1E3,"easy"==J&&(this.Kc=1400),this.Mm=!1,this.io=.5,this.xg=this.Kc,this.Vq=.56,this.vi=this.Nk=200,this.sj=5,this.sd=null,this.us=.8,this.ss=-.5,this.ts=400,this.Dl=1500,"easy"==J&&(this.Dl=2E3),this.Hu=this.uk=!1,this.Bj=null,this.vs=100,this.ws=Math.PI/48,this.Kf=!1,this.Pg=3,this.Tc=100,this.ap=!1))}
l.Ti=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1]);this.Xh=this.Bc=a};
l.Uc=function(a){this.uk?this.Uf(this.sd):this.Uf(R(this.body.g.position,this.q.body.g.position));this.Zh!=Q(this.q.body.g.position,this.body.g.position)>this.As&&(this.Zh=!this.Zh);0<this.uu&&(this.uu-=a);this.Bw=Pb(this.MC,this.body.g.position);0<this.Bc&&(this.Bc-=a);if(0<this.r[1])vd(this);else if(0>=this.xg)if(0>=this.vi)vd(this),this.Ti(this.Dl);else{if(this.vi=Math.max(this.vi-a,0),$b("deathray"),this.vi<=this.Nk/2&&!this.Hu){a=wd(this);this.Hu=!0;if(Ib(a,this.q.body.g.position)){var b=1;0<
this.q.r[5]&&!this.q.hk&&(b*=10);0<this.q.r[2]&&(b*=.25);this.q.body.ha(new b2Vec2(b*this.ts*Math.cos(this.sd),b*this.ts*Math.sin(this.sd)),this.q.body.h.o);Lc(this.v)}for(b=0;b<this.i.s.length;b++)if(this.i.s[b]!=this&&Ib(a,this.i.s[b].body.g.position)){if("orbiter"==this.i.s[b].type){var c=this.i.s[b];c.Kn=c.Aw}this.i.s[b].body.ha(new b2Vec2(this.ts*Math.cos(this.sd),this.ts*Math.sin(this.sd)),this.i.s[b].body.h.o);this.i.s[b].open(2500)}}}else if(this.uk||!this.uk&&this.Bw&&!this.Cv)this.xg=Math.max(this.xg-
a,0),this.xg<=this.Kc*this.Vq&&!this.uk&&(this.sd=R(this.body.g.position,this.q.body.g.position),this.xg=this.Kc*this.Vq,this.uk=!0)};l.zd=function(a){0<this.Bc&&!this.O&&za(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Bc/this.Xh,"#444444",4)};function vd(a){a.xg=a.Kc;a.vi=a.Nk;a.uk=!1;a.Hu=!1;a.sd=null}
function wd(a){var b=[];b.push({x:a.body.g.position.x+a.ss*Math.cos(a.sd)+a.us*Math.cos(a.sd+Math.PI/2),y:a.body.g.position.y+a.ss*Math.sin(a.sd)+a.us*Math.sin(a.sd+Math.PI/2)});b.push({x:a.body.g.position.x+a.ss*Math.cos(a.sd)+a.us*Math.cos(a.sd-Math.PI/2),y:a.body.g.position.y+a.ss*Math.sin(a.sd)+a.us*Math.sin(a.sd-Math.PI/2)});b.push({x:b[1].x+a.vs*Math.cos(a.sd-a.ws),y:b[1].y+a.vs*Math.sin(a.sd-a.ws)});b.push({x:b[0].x+a.vs*Math.cos(a.sd+a.ws),y:b[0].y+a.vs*Math.sin(a.sd+a.ws)});return b}
l.Cf=function(a,b,c,d){d||(this.open(this.Sj),this.ra.impulsed+=this.tp);this.body.ha(new b2Vec2(this.Pg*b*Math.cos(c),this.Pg*b*Math.sin(c)),this.body.h.o);d&&!this.wf||this.qe(a,b,c)};l.Ry=function(){if(this.Zh)return null==this.Bj&&(this.Bj={x:this.i.Si.x/E,y:this.i.Si.y/E}),this.Bj;this.Bj=null;for(var a=N[this.v.V].ya,b=null,c=1E3,d=0;d<a.length;d++){var f=Q({x:a[d][0]/E,y:a[d][1]/E},this.body.g.position);f<c&&(c=f,b=a[d])}return{x:b[0]/E,y:b[1]/E}};l.pj=Fa.prototype.move;
l.move=function(){this.uk||(this.Zh?this.Bw?(this.Bj=this.path=null,this.Cv=!1):Q(this.q.body.g.position,this.body.g.position)>this.As+this.Yv?(null==this.path&&(this.Ld=2*this.oe),this.pj(),this.Cv=!0):this.Bj=null:(null==this.path&&(this.Ld=2*this.oe),this.Bj=null,this.pj(),this.Cv=!0))};
l.bh=function(a,b){if(0>=this.r[1]){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;var d=wd(this);if(this.xg<=this.Kc*this.Vq&&null!=this.sd){c=1-this.xg/(this.Kc*this.Vq);a.save();a.beginPath();a.globalAlpha*=Math.max(c,.2);a.moveTo(d[1].x*b,d[1].y*b);a.lineTo(d[2].x*b,d[2].y*b);a.moveTo(d[3].x*b,d[3].y*b);a.lineTo(d[0].x*b,d[0].y*b);a.lineWidth=1;a.strokeStyle=this.color;a.stroke();if(this.vi<this.Nk){c=this.vi>this.Nk/2?this.Nk-this.vi:this.vi;c/=this.Nk/2;a.globalAlpha*=
c;a.beginPath();a.moveTo(d[0].x*b,d[0].y*b);for(c=1;c<d.length;c++)a.lineTo(d[c].x*b,d[c].y*b);a.closePath();a.fillStyle=this.color;a.fill()}a.restore()}a.restore()}};l.Rk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a?"#444444":"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Zu:"ulted"==a?z.impulse_blue:"white"==a?"white":"world"==a.slice(0,5)?z["world "+a.slice(5,6)+" lite"]:this.op(a)};l.$b=function(a,b){b&&(this.nf=!0);this.r[1]=Math.max(a,this.r[1])};
l.Pj=function(a){Pb(-3,this.body.g.position)||a.ca(this.sj);for(var b=!1,c=0;c<this.i.Yd.length;c++)Ib(this.i.Yd[c],this.body.g.position)&&(b=!0);b?a.ca(this.dw):(0<this.r[1]&&a.ca(.5),0<this.r[2]&&a.ca(this.gh),a.ca(this.oa))};l.Tf=function(){};xd.prototype=new Fa;xd.prototype.constructor=xd;function xd(a,b,c,d,f){this.type="dumb_stunner";this.$h=!1;this.ia(a,b,c,d,f)};yd.prototype=new Fa;l=yd.prototype;l.constructor=yd;
function yd(a,b,c,d,f){void 0!==a&&(this.type="fighter",this.ia(a,b,c,d,f),this.Sq=["frenzy"],null!==a&&(this.we=5,this.Kc=2E3,this.vj=750,this.Ee=[this.Kc,2*this.Kc],this.iA=.15,this.Cs=[!1,!1],this.cw=400,this.yl=0,this.hA=2.5*this.K,this.Zu=this.color,this.Gd=!1,this.As=10,this.Yv=2,this.sj=5,this.Vu=!1,this.Zh=!0,this.jA=this.K,this.kA=2*this.K,this.he=0,this.Py=2500,"easy"==J&&(this.Py=3500),this.uj=5,this.ze="normal",this.sh=3,this.Hg=!1,this.Tc=100,"easy"==J&&(this.Tc=80),this.lj=!1,this.JD=
200,this.Yp=0,this.ap=!1))}function zd(a,b){var c=a.se+Math.PI/2*(b%2*2-1);return{x:a.body.g.position.x+a.kA*Math.cos(c)+a.jA*Math.cos(a.se),y:a.body.g.position.y+a.kA*Math.sin(c)+a.jA*Math.sin(a.se)}}l.op=function(a){if("frenzy"==a)return"red"};l.zj=function(){if(!this.O){if(0<this.r[0])return"stunned";if("frenzy"==this.ze)return"frenzy";if(this.nf)return"silenced";if(0<this.r[2])return"gooed";if(0<this.ra.impulsed)return"impulsed"}return this.pp()};
l.Uc=function(a){"normal"==this.ze&&this.he>=this.uj&&($b("ffrenzy"),this.ze="frenzy",this.Ee=[this.vj,this.vj],this.color="red",this.body.re(5*G[this.type].wa));if(0>=this.r[1]&&0>=this.Yp&&Q(this.body.g.position,this.q.body.g.position)<this.hA){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.Tc*Math.cos(b),this.Tc*Math.sin(b)),this.q.body.h.o);Lc(this.v);this.yl=this.cw;this.Yp=this.JD}0<this.r[1]?this.body.re(.5*this.wa):this.body.re(this.wa);0<this.Yp&&(this.Yp-=
a);"frenzy"==this.ze&&0>=this.he&&(this.ze="normal",this.Ee=[this.Kc,2*this.Kc],this.color=G[this.type].color,this.body.re(G[this.type].wa));for(b=0;b<this.Ee.length;b++){if(0>=this.Ee[b]&&!this.Cs[b]&&0>=this.r[1]&&Pb(0,this.body.g.position)){var c=zd(this,b);this.Vu=Gb(c,this.q.body.g.position,this.i.Xe);var d=R(c,this.q.body.g.position);this.Vu?(this.Ee[b]="normal"==this.ze?2*this.Kc:this.vj,$b("fbullet"),"frenzy"==this.ze?(this.he-=.5,c=new Ad(this.qa,c.x,c.y,this.i.vc,this.v,d,this.id),d=new b2Vec2(Math.cos(d),
Math.sin(d)),d.ca(2)):(c=new Bd(this.qa,c.x,c.y,this.i.vc,this.v,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),d.ca(.5)),c.body.ha(d,c.body.h.o),this.i.bi.push(c),this.i.vc+=1):this.Cs[b]=!0}this.Cs[b]&&this.Ee[b]<-this.iA*("normal"==this.ze?this.Kc:this.vj)&&(this.Ee[b]="normal"==this.ze?2*this.Kc+this.Ee[b]:this.vj,this.Cs[b]=!1);Pb(0,this.body.g.position)&&(this.Ee[b]-=a)}"normal"==this.ze&&0>=this.r[1]&&this.he<this.uj&&Pb(0,this.body.g.position)&&(this.he+=a/this.Py);0<this.yl&&(this.yl-=
a)};l.Tf=function(){};
l.zd=function(a,b){if(!this.O){a.save();a.globalAlpha*=.7;if(0<this.he){for(var c=0;c<Math.floor(this.he);c++)a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.K*b,-Math.PI/2+2*Math.PI*(c+1)/this.uj-Math.PI/24,-Math.PI/2+2*Math.PI*c/this.uj+Math.PI/24,!0),a.strokeStyle="red",a.lineWidth=5,a.stroke();if(0>=this.r[1]&&this.he<this.uj){var c=Math.floor(this.he),d=this.he-c;a.beginPath();a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.K*b,-Math.PI/2+2*Math.PI*
c/this.uj+Math.PI/24+(2*Math.PI/this.uj-Math.PI/12)*d,-Math.PI/2+2*Math.PI*c/this.uj+Math.PI/24,!0);a.lineWidth=5;a.strokeStyle="red";a.stroke()}}a.restore();for(c=0;c<this.Ee.length;c++){var d=zd(this,c),f="normal"==this.ze?this.Kc:this.vj,f=Math.max((f-this.Ee[c])/f,0);if(0<f&&1>f){a.save();a.globalAlpha*=f;var g="frenzy"==this.ze?"piercing_fighter_bullet":"fighter_bullet";this.se?Ea(a,g,d.x*b,d.y*b,null,this.se):Ea(a,g,d.x*b,d.y*b,null,this.body.ga());0<this.Ee[c]&&0<f&&(a.beginPath(),a.arc(d.x*
b,d.y*b,this.K*b*1,-.5*Math.PI,-.5*Math.PI+2*Math.PI*f*.999),a.lineWidth=2,a.strokeStyle=this.color,a.stroke());a.restore()}else 0>this.Ee[c]&&(f=1-Math.min((f-1)/this.iA,1),a.save(),a.globalAlpha*=f,g="frenzy"==this.ze?"piercing_fighter_bullet":"fighter_bullet",this.se?Ea(a,g,d.x*b,d.y*b,null,this.se):Ea(a,g,d.x*b,d.y*b,null,this.body.ga()),a.beginPath(),a.arc(d.x*b,d.y*b,this.K*b*1,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=2,a.strokeStyle=this.color,a.stroke(),a.restore())}0<this.yl&&(c=
1-Math.abs(1-2*this.yl/this.cw),a.save(),a.globalAlpha*=Vb(.15,.85,c),a.beginPath(),a.strokeStyle=this.color,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.hA*b,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=3,a.stroke(),a.fillStyle=this.color,a.globalAlpha/=4,a.fill(),a.restore())}};l.wt=function(){};l.$b=function(a,b){b&&(this.nf=!0);this.r[1]=Math.max(a,this.r[1]);this.Ee[0]="normal"==this.ze?this.Kc:this.vj;this.Ee[1]="normal"==this.ze?2*this.Kc:this.vj};
l.Pj=function(a){Pb(-3,this.body.g.position)||a.ca(this.sj);for(var b=!1,c=0;c<this.i.Yd.length;c++)Ib(this.i.Yd[c],this.body.g.position)&&(b=!0);b?a.ca(this.dw):("frenzy"==this.ze&&0>=this.r[1]&&!this.Vu&&a.ca(this.sj),0<this.r[1]&&a.ca(.5),0<this.r[2]&&a.ca(this.gh),a.ca(this.oa))};
l.Fr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.K*this.sh){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.Tc*Math.cos(a),this.Tc*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.K*this.sh){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ha(new b2Vec2(this.Tc*Math.cos(b),this.Tc*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.Cf=function(a,b,c,d){d||this.open(this.Sj);var f=1.5;0<this.r[1]||d||(f=.6);this.body.ha(new b2Vec2(f*b*Math.cos(c),f*b*Math.sin(c)),this.body.h.o);this.ra.impulsed+=this.tp;this.qe(a,b,c)};l.qe=function(){0<this.he&&(--this.he,0>this.he&&(this.he=0));0>=this.r[1]&&(this.yl=this.cw)};Bd.prototype=new Fa;l=Bd.prototype;l.constructor=Bd;function Bd(a,b,c,d,f,g,h){void 0!==a&&(this.type="fighter_bullet",this.ia(a,b,c,d,f),null!==a&&(this.Sc=!1,this.we=5,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.bb(),this.ac.ca(this.oa),"easy"==J&&this.ac.ca(.5),this.Gd=!1,this.Vo=100,"easy"==J&&(this.Vo=50),this.ho=!1,this.iu=150,"easy"==J&&(this.iu=75),this.Kv=h,this.Tv=!1,this.body.qx(),this.Gd=!1,this.ju=.33))}l.Mc=function(a){this.O=a;this.tb=this.cb;this.Dk=!0};
l.Ke=function(a){if(!this.O)if(a===this.q){if(this.Mc("hit_player"),0>=this.r[1]){$b("fbullethit");var b=this.body.p.Db();b.bb();0<this.q.r[2]?b.ca(this.Vo*this.ju):b.ca(this.Vo);this.q.body.ha(b,this.q.body.h.o);Lc(this.v)}}else if(a.hz&&!(a instanceof Bd)&&(this.Mc("hit_enemy"),(a.id!=this.Kv||this.Tv)&&0>=this.r[1])){$b("fbullethit");a instanceof yd&&(a.he=0);b=this.body.p.Db();b.bb();var c=1;a.id==this.Kv?c*=3:a instanceof yd?c*=.7:a instanceof Cd&&(a.Kn=a.Aw);b.ca(this.iu*a.oa*c);a.open(1500);
a.body.ha(b,a.body.h.o)}};l.move=function(){0<this.r[2]?this.body.ha(new b2Vec2(.7*this.ac.x,.7*this.ac.y),this.body.h.o):this.body.ha(this.ac,this.body.h.o);this.Uf(R({x:0,y:0},this.ac))};l.Cf=function(a,b){var c=new b2Vec2(this.body.g.position.x-a.x,this.body.g.position.y-a.y);c.bb();c.ca(b);this.ac.Dg(c);this.Tv=!0;this.open(this.Sj)};
l.nr=function(){for(var a=0;a<this.i.Yd.length;a++)if(Ib(this.i.Yd[a],this.body.g.position)){this.Mc("kill");return}(-5>=this.body.g.position.x||this.body.g.position.x>=Bc/E+5||-5>=this.body.g.position.y||this.body.g.position.y>=Bc/E+5)&&this.Mc("kill")};l.Tf=function(){};Dd.prototype=new Fa;l=Dd.prototype;l.constructor=Dd;function Dd(a,b,c,d,f){void 0!==a&&(this.type="goo",this.$h=!1,this.ia(a,b,c,d,f),this.we=2,this.Gd=!1,this.Qm=3,this.rp=10,this.kg=this.Qm,this.Cj=500,this.Sk=2500,"easy"==J&&(this.Sk=3500),this.uf="small",this.ie=0,this.gh=.2,this.Kf=!1,this.ih=6E3)}
l.Uc=function(a){this.body.rb(this.body.ga()+2*Math.PI*a/this.ih);0<this.ie&&(this.ie-=a);"expanding"==this.uf?0>=this.ie?(this.uf="big",this.kg=this.rp,this.ie=this.Sk):(a=(this.Cj-this.ie)/this.Cj,a=Vb(.15,.85,a),this.kg=this.Qm*(1-a)+a*this.rp):"big"==this.uf&&0>=this.ie?(this.uf="shrinking",$b("goo"),this.ie=this.Cj):"shrinking"==this.uf&&(0>=this.ie?(this.uf="small",this.kg=this.Qm,this.ie=this.Sk):(a=(this.Cj-this.ie)/this.Cj,a=Vb(.15,.85,a),this.kg=this.Qm*a+(1-a)*this.rp));0>=this.r[1]?(this.body.re(G[this.type].wa),
this.oa=G[this.type].oa):(this.body.re(.3*G[this.type].wa),this.oa=.3*G[this.type].oa);this.ay()};l.ay=function(){0>=this.r[1]&&Q(this.body.g.position,this.q.body.g.position)<this.kg&&this.Ql(this.q);for(var a=0;a<this.i.s.length;a++)0>=this.r[1]&&Q(this.body.g.position,this.i.s[a].body.g.position)<this.kg&&this.i.s[a].className!=this.className&&this.Ql(this.i.s[a])};l.Tf=function(){};l.Ql=function(a){a.Ou(100)};
l.Gu=function(a,b){0<this.r[1]||(this.O||(a.beginPath(),a.strokeStyle=this.color,a.fillStyle=this.color,a.lineWidth=2,a.save(),a.globalAlpha*=.3,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.kg*b,0,1.998*Math.PI),a.stroke(),a.fill(),a.restore()),"big"==this.uf&&za(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.ie/this.Sk))};
l.qe=function(){0>=this.r[1]&&("shrinking"==this.uf?(this.ie=this.Cj-this.ie,this.uf="expanding"):"big"==this.uf?this.ie=this.Sk:"small"==this.uf&&(this.ie=this.Cj,this.uf="expanding",$b("goo")))};l.Pj=function(a){"small"!=this.uf&&0>=this.r[1]&&a.ca(this.gh);a.ca(this.oa)};Ed.prototype=new Fa;l=Ed.prototype;l.constructor=Ed;function Ed(a,b,c,d,f,g){void 0!==a&&(this.wi=g,this.type="harpoonhead",this.ia(a,b,c,d,f),this.ap=this.sl=!1)}l.Uc=function(){this.r=this.wi.r};l.qe=function(){this.wi.$b(this.wi.fq)};l.Uf=function(a){this.se=a};l.Tf=function(){};l.open=function(){};pc.prototype=new Fa;pc.prototype.constructor=pc;function pc(a,b,c,d,f){this.type="mote";this.$h=!1;this.ia(a,b,c,d,f);this.Sc=!1;this.we=5;this.Kf=!1;this.ih=2E3;this.lj=!0;this.Mm=!1;this.io=1;this.fd=3E3;"easy"==J&&(this.fd=2E3)}pc.prototype.Tf=function(){0>=this.r[1]&&this.q.$b(this.fd,!0)};pc.prototype.Uc=function(a){this.body.rb(this.body.ga()+2*Math.PI*a/this.ih)};pc.prototype.Cf=function(a,b,c,d){0<this.r[1]&&(this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o),d||this.open(this.Sj))};Cd.prototype=new Fa;l=Cd.prototype;l.constructor=Cd;function Cd(a,b,c,d,f){this.type="orbiter";this.$h=!0;this.hg=500;this.ia(a,b,c,d,f);f&&(this.Sc=!1,this.we=5,this.bq=1.25*this.q.Qg,this.js=1,this.oe=18,this.Rm=!0,this.nm=1,this.Lv=18,this.Mv=9,this.lj=!0,this.sj=2,this.no=!1,this.ms=50,this.JA=!0,this.BC=3,this.Rz=[-1,1,-4,4,-8,8,-12,12,-16,16],this.zv=4,this.Kn=0,this.Aw=250,this.Iv=G[this.type].wa,this.Mm=!1,this.io=.5,this.dC=200,this.pr=100,this.Qz=1.2*this.q.Qg,this.Pz=!1,this.Sy=2)}
l.zd=function(){};
l.Uc=function(a){this.oe=Q(this.body.g.position,this.q.body.g.position)<1.5*this.bq?this.Mv:this.Lv;this.pr-=a;if(0>this.pr){for(var b=!1,c=0;c<this.i.uh.length;c++)Ib(this.i.uh[c],this.body.g.position)&&(b=!0);this.$u=b;this.pr=this.dC}0<this.Kn?(this.Kn-=a,this.wa=3):this.wa=this.Iv;Gc(this,this.q.body.g.position);!this.qf&&Pb(0,this.body.g.position)&&(this.$b(this.hg,!0),this.qf=!0);0<this.zh&&(this.zh-=a);Pb(0,this.body.g.position)||(this.qf=!1,this.$b(100,!0));this.$x=(this.no=this.q.gj&&!rc(this.q,
this.body.g.position)||0<this.q.r[0]||0<this.q.r[1]||0<this.q.r[4])&&!this.O&&this.path&&1==this.path.length&&this.path[0]==this.q.body.g.position&&0>=this.r[1]&&this.qf;this.lj=!this.$x};
l.Nu=function(){if(this.no)return Rb(this.v.Lb,this.body.g.position,this.q.body.g.position,this.v.i.Xp);var a=R(this.q.body.g.position,this.body.g.position),b=this.Rz,c=0;this.JA&&(this.js*=-1);for(var d=!1,f=null,g=0;!d&&c<b.length;){for(var h=a+2*Math.PI/64*b[c]*this.js,d=!0,h=new b2Vec2(this.q.body.g.position.x+Math.cos(h)*this.bq,this.q.body.g.position.y+Math.sin(h)*this.bq),k=0;k<this.i.uh.length;k++)if(Ib(this.i.uh[k],h)){d=!1;break}if(d)if(f=Rb(this.v.Lb,this.body.g.position,h,this.v.i.Xp),
f.path){a:{h=f.path;for(k=0;k<h.length-1;k++)if(Lb(h[k],h[k+1],this.q.body.g.position)<this.Qz){h=!1;break a}h=!0}if(!h&&(d=!1,g+=1,g>=this.zv))break}else if(d=!1,g+=1,g>=this.zv)break;if(d)return f;c+=1}if(this.v.pa)a={path:null,Td:null};else if(Q(this.body.g.position,this.q.body.g.position)<this.Qz){a=this.v.Lb;b=this.body.g.position;c=N[this.v.V].ya;d=null;f=0;g=R(this.body.g.position,this.q.body.g.position);for(h=0;h<c.length;h++)k=Tb(g,R(this.body.g.position,{x:c[h][0]/E,y:c[h][1]/E})),k=Math.abs(k-
g),k>f&&(f=k,d=c[h]);a=Rb(a,b,{x:d[0]/E,y:d[1]/E})}else a=Rb(this.v.Lb,this.body.g.position,this.q.body.g.position,this.v.i.Xp);return a};
l.move=function(){if(!(this.q.O||0<this.r[0])){this.Ld+=1;if(null==this.path||this.Ld>=this.oe){var a=this.Nu();if(!a.path)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a.path[a.length-1]==this.q.body.g.position||this.Ld>=this.oe||this.path&&!Gb(this.body.g.position,this.path[0],this.i.Xe))null!=a.path&&(this.path=a.path,this.VE=this.path[this.path.length-1]),this.Ld=Math.floor(.1*Math.random()*this.oe)}if(this.path){a=this.path[0];if(0==this.Ld%4){for(;0<this.path.length&&
1>Q(a,this.body.g.position);)this.path=this.path.slice(1),a=this.path[0];if(!a||!Gb(this.body.g.position,a,this.i.Xe))return;Gb(this.body.g.position,this.q.body.g.position,this.i.Xe)&&this.VE==this.q.body.g.position&&(this.path=[this.q.body.g.position],a=this.path[0])}a&&this.ds(a)}}};l.Pj=function(a){this.$x?(a.ca(this.sj),a.ca(this.oa)):this.$u&&this.lj&&0<this.av||0<this.r[2]?a.ca(this.dw):(0<this.r[2]&&a.ca(this.BC),a.ca(this.oa))};
l.ds=function(a){a=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);a.bb();this.Pj(a);this.body.ha(a,this.body.h.o)};l.Tf=function(){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.ms*Math.cos(a),this.ms*Math.sin(a));this.q.body.ha(new b2Vec2(this.ms*Math.cos(a),this.ms*Math.sin(a)),this.q.body.h.o)};l.qe=function(){this.Kn=this.Aw};l.om=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.lm=function(a,b,c){this.O||1==c&&(!(0<this.Bc)||this.O||0<this.r[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Bc/this.Xh))};l.mm=function(a){a.stroke();a.restore()};Ad.prototype=new Bd;Ad.prototype.constructor=Ad;function Ad(a,b,c,d,f,g,h){this.type="piercing_fighter_bullet";this.ia(a,b,c,d,f);null!==a&&(this.Sc=!1,this.we=5,this.Kv=h,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.bb(),this.ac.ca(this.oa),"easy"==J&&this.ac.ca(.5),this.Gd=!1,this.Vo=100,"easy"==J&&(this.Vo=50),this.Tv=!1,this.body.qx(),this.ho=!1,this.ju=.33,this.iu=150,this.ju=.33)}Ad.prototype.Cf=function(){};Ad.prototype.Ke=Bd.prototype.Ke;qc.prototype=new Fa;l=qc.prototype;l.constructor=qc;function qc(a,b,c,d,f){this.type="slingshot";this.ia(a,b,c,d,f);this.Sc=!1;"easy"==J&&(this.oa*=.8);this.xE=50;this.Iu=!1;this.we=5;this.gh=.5;this.Gd=!1;this.RD=this.color;this.hq=!1;this.Qi=null;this.gq=0;this.yE=100;this.AE=1;this.si=0;this.pC=750;this.oC=100;this.lj=!1;this.Sq=["empowered"];this.Iv=G[this.type].wa;this.zE=6}l.pj=Fa.prototype.move;
l.move=function(){if(this.hq){if(0>=this.r[0]){var a=new b2Vec2(this.Qi.x-this.body.g.position.x,this.Qi.y-this.body.g.position.y);a.ca(this.AE);0<this.r[2]&&a.ca(this.gh);this.body.ha(a,this.body.h.o);a=R(this.body.g.position,this.Qi);this.body.rb(a)}}else this.pj()};l.Pj=function(a){0<this.r[2]&&a.ca(this.gh);this.Iu||a.ca(this.gh);a.ca(this.oa)};
l.Uc=function(a){if(this.hq&&0>=this.gq&&1>Q(this.Qi,this.body.g.position)||0<this.r[1])this.hq=!1,this.wa=this.Iv;!this.Iu&&Pb(1,this.body.g.position)&&(this.Iu=!0);this.Sc=0<this.si;this.color=0<this.si?"red":this.RD;this.nC=0<this.si&&0>=this.r[1];0<this.gq&&(this.gq-=a);0<this.si&&(this.si-=a)};l.Tf=function(){var a=R(this.body.g.position,this.q.body.g.position),a=new b2Vec2(Math.cos(a),Math.sin(a));0<this.si?a.ca(this.oC):a.ca(this.xE);this.q.body.ha(a,this.q.body.h.o)};
l.qe=function(){0>=this.r[1]&&(this.Qi=this.body.g.position.Db(),this.hq=!0,this.gq=this.yE,this.si=this.pC,this.wa=this.zE,$b("sshot"))};l.zj=function(){if(!this.O){if(0<this.r[0])return"stunned";if(this.nf)return"silenced";if(0<this.r[2])return"gooed"}return this.pp()};l.op=function(a){if("empowered"==a)return"red"};l.pp=function(){return!this.O&&0<this.si?"empowered":"normal"};
function Fd(a,b){var c=a.body.ga()+2*Math.PI/3*b;return{x:a.body.g.position.x+Math.cos(c)*a.K*3/4,y:a.body.g.position.y+Math.sin(c)*a.K*3/4}}l.zd=function(a,b){if(this.hq&&!this.O){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.moveTo(this.Qi.x*b,this.Qi.y*b);var c=Fd(this,1);a.lineTo(c.x*b,c.y*b);c=Fd(this,2);a.moveTo(this.Qi.x*b,this.Qi.y*b);a.lineTo(c.x*b,c.y*b);a.stroke()}};Gd.prototype=new Fa;l=Gd.prototype;l.constructor=Gd;function Gd(a,b,c,d,f){this.type="spear";this.$h=!0;this.hg=500;this.ia(a,b,c,d,f);this.sj=5;this.kq=30;"easy"==J&&(this.kq=40);this.we=5;this.Dl=3E3;this.Rm=!0;this.nm=1;this.Gd=!1;this.$y=this.sl=!0}l.pj=Fa.prototype.move;l.move=function(){this.q.O||0<this.r[0]||(Gb(this.body.g.position,this.q.body.g.position,this.i.Xe)?(this.path=[this.q.body.g.position],this.ds(this.q.body.g.position)):this.pj())};
l.Pj=function(a){this.Sc&&a.ca(this.sj);0<this.r[2]&&a.ca(this.gh);a.ca(this.oa)};l.Uc=function(){this.Sc=!this.O&&this.path&&1==this.path.length&&0>=this.r[1]&&this.qf};l.Tf=function(){if(0>=this.r[1]){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.kq*Math.cos(a),this.kq*Math.sin(a));this.q.body.ha(new b2Vec2(this.kq*Math.cos(a),this.kq*Math.sin(a)),this.q.body.h.o)}};l.qe=function(){this.$b(this.Dl);this.Dl>this.Bc&&(this.Bc=this.Xh=this.Dl)};
l.Ti=function(a){this.r[0]=Math.max(a,this.r[0]);this.$b(a)};l.$b=function(a,b){b&&(this.nf=b);this.r[1]=Math.max(a,this.r[1])};l.zd=function(){};l.om=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};l.lm=function(a,b,c){this.O||1==c&&(!(0<this.Bc)||this.O||0<this.r[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Bc/this.Xh))};l.mm=function(a){a.stroke();a.restore()};Hd.prototype=new Fa;Hd.prototype.constructor=Hd;function Hd(a,b,c,d,f){this.type="stunner";this.$h=!1;this.ia(a,b,c,d,f);f&&(this.Gd=!1,"normal"==J&&(this.oa*=1.2))};gd.prototype=new Fa;l=gd.prototype;l.constructor=gd;function gd(a,b,c,d,f){this.type="tank";this.$h=!1;this.ia(a,b,c,d,f);this.Sc=!1;this.Tc=100;"easy"==J&&(this.Tc=80);this.we=5;this.jC=this.Bm=200;this.sh=6;"easy"==J&&(this.sh=5);this.UE=75;this.Hg=!1;this.qm=null;this.Kf=this.Gd=!1;this.ih=4E3;this.sl=!0;this.Sj=500;this.Sq=["volatile"];this.ra["volatile"]=0;this.Rm=!0;this.nm=1;this.dF=1500}
l.Uc=function(a){this.Sc=0>=this.r[1];0<this.Ls&&(this.Ls-=a);0<this.ra["volatile"]&&(this.ra["volatile"]-=a)};l.tk=function(){this.color="red"};l.wt=function(a){this.Hg&&(this.color="red",0>=this.Bm&&!this.O&&(this.Mc(this.qm),this.Fr()),0<this.Bm&&(this.Bm-=a))};l.nr=function(){for(var a=0;a<this.i.Yd.length;a++)if(Ib(this.i.Yd[a],this.body.g.position)){0>=this.r[1]&&0<this.ra["volatile"]?(this.Hg=!0,this.qm="kill"):0<this.ra.open?this.Mc("kill"):this.Mc("accident");break}};
l.Cf=function(a,b,c,d){this.ra.impulsed+=this.tp;this.qe(a,b,c);d||this.open(this.Sj);0<this.r[2]?this.body.ha(new b2Vec2(1.3*b*Math.cos(c),1.3*b*Math.sin(c)),this.body.h.o):"easy"==J?this.body.ha(new b2Vec2(1.25*b*Math.cos(c),1.25*b*Math.sin(c)),this.body.h.o):this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);0<this.Ls&&!this.O&&!this.Hg&&0>=this.r[1]&&(this.Hg=!0,this.qm="kill")};l.qe=function(){this.ra["volatile"]=this.dF};
l.Ke=function(a){a instanceof gd&&(0<this.ra["volatile"]&&!this.O&&!this.Hg&&0>=this.r[1]?(this.Hg=!0,this.qm="kill"):this.Ls=this.UE);this.O||this.Hg||(a===this.q?0>=this.r[1]?(this.Hg=!0,this.qm="hit_player",Lc(this.v)):this.Mc("hit_player"):a instanceof Fa&&0<a.ra.open&&this.open(a.ra.open))};
l.Fr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.K*this.sh){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.Tc*Math.cos(a),this.Tc*Math.sin(a)),this.q.body.h.o);"hit_player"!=this.qm&&Lc(this.v)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.K*this.sh){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ha(new b2Vec2(this.Tc*Math.cos(b),this.Tc*Math.sin(b)),
this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.zd=function(a,b){var c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;this.Hg&&0<this.Bm?(a.beginPath(),a.strokeStyle="red",a.lineWidth=5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.sh*(1-this.Bm/this.jC)*b,0,1.998*Math.PI),a.stroke()):0>=this.r[1]&&0<this.ra["volatile"]&&(a.beginPath(),a.strokeStyle="red",a.lineWidth=2,a.globalAlpha*=.5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.sh*b,0,1.998*Math.PI),a.stroke());a.restore()};
l.om=function(a){a.save();a.beginPath();a.lineWidth=2;a.globalAlpha*=.5;a.strokeStyle=G[this.type].color};l.lm=function(a,b){!this.O&&0>=this.ra["volatile"]&&0>=this.r[1]&&(a.moveTo(this.body.g.position.x*b+this.K*this.sh*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.sh*b,0,1.998*Math.PI))};l.mm=function(a){a.stroke();a.restore()};l.op=function(a){if("volatile"==a)return"red"};
l.zj=function(){if(this.O)return"volatile";if(!this.O){if(0<this.r[0])return"stunned";if(this.nf)return"silenced";if(0<this.ra["volatile"])return"volatile";if(0<this.r[2])return"gooed";if(0<this.ra.impulsed)return"impulsed"}return this.pp()};Id.prototype=new Fa;l=Id.prototype;l.constructor=Id;function Id(a,b,c,d,f){this.type="troll";this.$h=!0;this.hg=1E3;this.ia(a,b,c,d,f);this.Gd=!1;this.fi=400;this.En=4;"easy"==J&&(this.fi=600,this.En=3);this.Kf=this.lj=!1;this.ih=1E3;this.wh=[];this.fy=250;this.Rm=!0;this.nm=2;this.mA=1E3;"easy"==J&&(this.mA=750);this.Mm=!0;this.tz=5E3;"easy"==J&&(this.tz=2500)}
l.Uc=function(a){var b=(new Date).getTime();0>=this.r[1]&&this.Uf(this.se+2*Math.PI*a/this.ih);b%(this.En*this.fi)<this.fi&&this.$b(this.fi-b%(this.En*this.fi),!0);for(b=this.wh.length-1;0<=b;b--)this.wh[b].jh-=a,0>=this.wh[b].jh&&this.wh.splice(b,1);!this.qf&&Pb(0,this.body.g.position)&&(this.$b(this.hg,!0),this.qf=!0);0<this.zh&&(this.zh-=a);Pb(0,this.body.g.position)||(this.qf=!1)};
l.zd=function(a,b){if(!(this.O||0<this.r[1])){a.save();for(var c in this.wh){a.beginPath();var d=this.wh[c].jh/this.fy;a.globalAlpha*=Math.max(0,(1-2*Math.abs(d-.5))/.5);a.moveTo(this.wh[c].object.body.g.position.x*b,this.wh[c].object.body.g.position.y*b);a.lineTo(this.body.g.position.x*b,this.body.g.position.y*b);a.lineWidth=3;a.strokeStyle=this.color;a.stroke();a.globalAlpha/=Math.max(0,(1-2*Math.abs(d-.5))/.5)}a.restore()}};
l.Cf=function(a,b,c,d){0>=this.r[1]&&this.qf?(this.body.ha(new b2Vec2(.3*b*Math.cos(c),.3*b*Math.sin(c)),this.body.h.o),lc(this.q,this.mA),$b("pwheel"),this.wh.push({object:this.q,jh:this.fy}),Lc(this.v)):this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d||this.open(this.Sj);this.ra.impulsed+=this.tp};l.Tf=function(){0>=this.r[1]&&(lc(this.q,this.tz),$b("pwheel"))};
l.om=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray");2==c&&(a.lineWidth=2,a.strokeStyle=this.color)};l.lm=function(a,b,c){this.O||(1==c&&(!(0<this.Bc)||this.O||0<this.r[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Bc/this.Xh)),2==c&&(b=(new Date).getTime(),0>=this.r[1]&&b%(this.En*this.fi)>this.fi&&Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,(b%(this.En*this.fi)-this.fi)/((this.En-1)*this.fi))))};
l.mm=function(a){a.stroke();a.restore()};Jd.prototype=new Dd;Jd.prototype.constructor=Jd;function Jd(a,b,c,d,f){this.type="disabler";this.ia(a,b,c,d,f);this.we=2;this.Gd=!1;this.Qm=3;this.rp=9;"easy"==J&&(this.rp=8);this.kg=this.Qm;this.Cj=500;this.Sk=2500;"easy"==J&&(this.Sk=3500);this.uf="small";this.ie=0;this.Kf=!1;this.ih=6E3;this.gh=0}
Jd.prototype.ay=function(){0>=this.r[1]&&Q(this.body.g.position,this.q.body.g.position)<this.kg&&this.Ql(this.q);for(var a=0;a<this.i.s.length;a++)0>=this.r[1]&&Q(this.body.g.position,this.i.s[a].body.g.position)<this.kg?this.i.s[a].className!=this.className&&this.Ql(this.i.s[a]):"harpoon"==this.i.s[a].type&&(Q(this.i.s[a].Ya.body.g.position,this.body.g.position)<this.kg||"engaged"==this.i.s[a].mb&&Q(this.i.s[a].Pc.body.g.position,this.body.g.position)<this.kg)&&this.Ql(this.i.s[a])};
Jd.prototype.Ql=function(a){"harpoonhead"==a.type?a.wi.$b(100,!0):a===this.q?(a.r[5]=Math.max(100,a.r[5]),a.$b(100)):a.$b(100,!0)};tc.prototype=new Fa;l=tc.prototype;l.constructor=tc;
function tc(a,b,c,d,f){if(void 0!==a){this.type="harpoon";var g=[];g.push(new b2Vec2(.3*Math.cos(0*Math.PI),.3*Math.sin(0*Math.PI)));g.push(new b2Vec2(.3*Math.cos(5*Math.PI/6),.3*Math.sin(5*Math.PI/6)));g.push(new b2Vec2(.3*Math.cos(7*Math.PI/6),.3*Math.sin(7*Math.PI/6)));this.$h=!0;this.hg=1E3;this.ia(a,b,c,d,f);null!=a&&(this.we=2,this.sp=17,"easy"==J&&(this.sp=13),this.Bj=null,this.mb="inactive",this.Xy=6,"easy"==J&&(this.Xy=4.5),this.GC=.33,this.Tu=400,"easy"==J&&(this.Tu=50),this.Uu=1.2,"easy"==
J&&(this.Uu=.6),this.As=this.q.Qg,this.Yv=2,this.bq=.8*this.sp,this.Lv=40,this.Mv=20,this.oe=40,this.js=.5>Math.random()?1:-1,this.fq=500,this.JA=this.Gd=!1,this.or=this.by=5,this.state="seek",this.mu=this.cy=8,this.Kf=!1,this.zv=4,this.Su=Math.sqrt(2)/2+Math.sqrt(6)/6-.4,a=Kd(this),this.Ya=new Ed(this.qa,a.x,a.y,this.id+1E4,this.v,this),this.FC=3,this.Ru=null,this.ur=1E3,this.Pc=null,this.kC=this.lj=!1,this.no=!0,this.Mm=!1,this.io=1,this.Rz=[0,-1,1,-2,2,-4,4,-8,8,-12,12,-16,16,-20,20],this.Rm=!0,
this.nm=3,this.ap=!1)}}l.Nu=Cd.prototype.Nu;l.pj=Cd.prototype.move;l.Tf=function(){};
l.move=function(){if("inactive"==this.mb||"engaged"==this.mb)if("engaged"==this.mb){var a=new b2Vec2(this.body.g.position.x-this.Pc.body.g.position.x,this.body.g.position.y-this.Pc.body.g.position.y);a.bb();a.ca(this.Xy);this.Pc==this.q&&0<this.q.r[2]&&a.ca(this.GC);this.Pc.body.ha(a,this.body.h.o);this.Pc!=this.q&&(this.Pc.open(1500),"tank"==this.Pc.type&&(this.Pc.ra["volatile"]=1500))}else null==this.path&&(this.Ld=this.oe),this.pj()};
function Kd(a){return new b2Vec2(a.body.g.position.x+a.Su*G[a.type].K*Math.cos(a.se),a.body.g.position.y+a.Su*G[a.type].K*Math.sin(a.se))}l.Uf=function(a){--this.Sm;0>=this.Sm&&(this.body.rb(a),this.Sm=this.Yy,this.Ya.body.rb(this.Ya.se));this.se=a};l.$b=function(a,b){b&&(this.nf=!0);this.r[1]=Math.max(a,this.r[1])};
l.Uc=function(a){"inactive"==this.mb?Gc(this,this.q.body.g.position):"engaged"==this.mb?Gc(this,this.Pc.body.g.position):Gc(this,this.Ya.body.g.position);this.ho="inactive"==this.mb;this.oe=Q(this.body.g.position,this.q.body.g.position)<1.5*this.bq?this.Mv:this.Lv;if("inactive"==this.mb)this.Ya.body.aj(Kd(this)),this.Ya.Uf(this.se);else if("fire"==this.mb){var b=R(this.body.g.position,this.Ya.body.g.position);this.Ya.Uf(b);1>this.Ya.body.p.bg()&&(this.mb="retract")}else if("retract"==this.mb){if(0>=
this.r[1]||!Pb(0,this.body.g.position))b=R(this.Ya.body.g.position,this.body.g.position),this.Ya.body.ha(new b2Vec2(this.Uu*Math.cos(b),this.Uu*Math.sin(b)),this.Ya.body.h.o),this.Ya.Uf(Math.PI+b),Q(this.Ya.body.g.position,this.body.g.position)<1.1*this.Su&&(this.mb="inactive",this.$b(this.ur,!0),this.ur>this.Bc&&(this.Bc=this.Xh=this.ur),this.Ru=null)}else if("engaged"==this.mb)this.Ya.body.aj(new b2Vec2(-100,-100));else if("retract_ready"==this.mb){b=new b2Vec2(this.q.body.g.position.x-this.body.g.position.x,
this.q.body.g.position.y-this.body.g.position.y);b.bb();b.ca(2*this.q.dh);var c=this.Pc.body.g.position.Db();c.eo(b);this.Ya.body.aj(c);b=R(this.body.g.position,this.Ya.body.g.position);this.Ya.Uf(b);this.mb="retract";this.Pc=null}0>=this.mu&&(this.no=!1,this.mu=this.cy);--this.mu;0<this.or&&--this.or;0>=this.or&&((!Gb(this.body.g.position,this.q.body.g.position,this.i.Xe)||this.v.pa)&&0>=this.r[1]&&this.qf&&!this.O&&"inactive"==this.mb&&Pb(0,this.body.g.position)&&Q(this.body.g.position,this.q.body.g.position)<=
this.sp&&($b("hfire"),this.mb="fire",this.Qu=R(this.Ya.body.g.position,this.q.body.g.position.Db()),this.Ya.body.ha(new b2Vec2(this.Tu*Math.cos(this.Qu),this.Tu*Math.sin(this.Qu)),this.Ya.body.h.o),this.Ya.Uf(this.Qu)),0<this.r[1]&&"inactive"!=this.mb&&uc(this),"engaged"==this.mb&&(!Pb(1,this.Pc.body.g.position)||this.Pc.O||Q(this.Pc.body.g.position,this.body.g.position)<this.FC)?uc(this):"engaged"==this.mb&&this.q.O&&uc(this),this.or=this.by);0<this.Ya.ra.open&&(this.Ya.ra.open-=a)};
l.Wz=function(a,b){this.Dk&&("hit_player"!=this.O||this.tb<this.cb-50)&&(this.Dk=!1,this.i.Zo.push(a));return this.O&&0>this.tb?(this.i.lp.push(a),!0):this.O?(this.tb-=b,this.Ya.tb-=b,!0):!1};
l.Mc=function(a){uc(this);this.O=a;this.tb=this.cb;this.Dk=!0;if("kill"==this.O&&!this.q.O&&(this.v.H.je+=1,G[this.type].Oi?G[G[this.type].Oi].je+=1:G[this.type].je+=1,!this.i.pa)){var b=this.v.H.of*this.Jc;D.ec&&Hc(this.v,b,this.color,this.body.g.position.x,this.body.g.position.y);this.v.H.Ye+=b;Ic(this.v);Jc(this.v)}"fade"!=this.O&&(Ec(this.i,this.type,this.body.g.position,this.body.p),this.tk(a),$b("sdeath"));this.Ya.Mc("fade"==this.O?"fade":"accident")};
l.bh=function(a,b){var c=this.Rk(this.zj());if(c!=this.color||this.O)a.save(),a.strokeStyle=c,a.lineWidth=3,a.globalAlpha*=.5,c=this.O?Math.min((this.cb-this.tb)/this.cb,1):0,this.O&&(a.globalAlpha*=1-c),a.beginPath(),"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Ya.body.g.position.x*b,this.Ya.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Pc.body.g.position.x*b,this.Pc.body.g.position.y*
b)),a.stroke(),a.restore()};l.zd=function(a,b){"engaged"!=this.mb&&"retract_ready"!=this.mb&&(this.Ya.color=this.Rk(this.zj()),this.Ya.nf=this.nf,this.Ya.ra=this.ra,this.Ya.X(a,b))};l.om=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.globalAlpha*=.2);2==c&&(a.lineWidth=3,a.globalAlpha*=.5);3==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.lm=function(a,b,c){if(!this.O){1==c&&0>=this.r[1]&&this.qf&&"inactive"==this.mb&&(a.moveTo(this.body.g.position.x*b+this.sp*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.sp*b,0,1.998*Math.PI));if(2==c){if(this.Rk(this.zj())!=this.color||this.O)return;"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Ya.body.g.position.x*b,this.Ya.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*
b,this.body.g.position.y*b),a.lineTo(this.Pc.body.g.position.x*b,this.Pc.body.g.position.y*b))}3==c&&(!(0<this.Bc)||this.O||0<this.r[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Bc/this.Xh))}};l.mm=function(a){a.stroke();a.restore()};l.qe=function(){this.$b(this.fq,!0);this.fq>this.Bc&&(this.Bc=this.Xh=this.fq)};function uc(a){"engaged"==a.mb&&(a.mb="retract_ready",a.Ru=a.Pc.id)};var G={};
G.dumb_stunner={color:"#00ffff",sb:2.2,wa:6,K:.5,oa:0,Jc:100,Sd:1,te:!0,Ag:"stunner",Xb:[{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],wr:[{type:"polygon",x:-.1,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],ge:"YES",ye:["On collision, stuns you for a short period"],Vf:"stuns on collision",
className:xd};
G.stunner={color:"#00ffff",sb:1.5,wa:4,K:.5,oa:.42,Jc:100,Sd:1,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],wr:[{type:"polygon",x:-.1,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],ge:"YES",ye:["On collision, stuns you for a short period"],Ag:"shocker",Vf:"stuns on collision",
className:Hd};G.spear={color:"#f86003",sb:.7,wa:4,K:.7,oa:.24,Jc:500,Sd:7,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.7,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)],[Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)]]}],ge:"YES",ye:["Will dive at you if it has line of sight"],Vf:"charges on sight",zg:"Charges you on sight. Hurls you backward on impact.",sg:"Silenced for two seconds on entering or re-entering stage. When Impulsed, silenced for five seconds.",className:Gd};
G.tank={color:"#6f27cf",sb:2.5,wa:3,K:1,oa:1.5,Jc:1E3,Sd:8,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Gy:[{x1:.5,y1:.5,x2:-.5,y2:-.5},{x1:.5,y1:-.5,x2:-.5,y2:.5}],ge:"YES",ye:["Explodes on death or collision with player","Will explode on collision with another Tank if recently Impulsed","The explosion radius is outlined around the tank"],
Vf:"explodes on death",className:gd};G.mote={color:"#ee42ae",sb:.5,wa:3,K:.5,oa:.15,Jc:1E3,Sd:.5,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ge:"YES",ye:["Cannot be Impulsed # # On collision, disarms you for a few moments","Other enemies can be impulsed into the mote"],Vf:"unaffected by impulse",className:pc};
G.goo={color:"#e6c43c",sb:7,wa:9,K:.5,oa:3.5,Jc:3E3,Sd:.25,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],rj:[{type:"circle",x:0,y:0,Y:1.3,nu:!0}],ge:"YES",ye:["All units within its radius are slowed","When Impulsed, expands its radius for a few moments"],Vf:"slows all nearby units",
className:Dd};
G.harpoon={color:"#00aa00",sb:6,wa:6,K:.7,oa:5.4,Jc:3E3,Sd:6,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.7,ba:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],rj:[{type:"polygon",x:-.1,y:0,Y:.7,nu:!1,ba:[[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)],[((Math.sqrt(2)+Math.sqrt(6))/2-.4)*Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4)-.4,Math.sin(1*
Math.PI/4)]]},{type:"polygon",x:-.1,y:0,Y:.7,ba:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],wr:[],ge:"NO",ye:["Fires its hook at you and # attempts to yank you in # # Can only fire through the void","The hook range is outlined # around the Harpoon","If you are hooked, # impulse the harpoon to get free","While the hook is detached from the Harpoon, it cannot move",
"During boss battles, will fire at any time"],Vf:"hooks through walls",className:tc};
G.harpoonhead={color:"#00dd00",sb:1.2,wa:6,K:G.harpoon.K*Math.sqrt(6)/3,oa:1.5,Jc:1E3,Sd:6,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:G.harpoon.K*Math.sqrt(6)/3,ba:[[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)]]}],ge:"NO",zg:"Shoots a harpoon which can latch onto you. Once you are latched, the Harpoon will attempt to drag you to your death.",sg:"In normal levels, harpoons can only fire through obstacles and are harmless up close. In boss levels, harpoons can fire at any time. Impulsing a harpoon silences it for 1 second. Harpoons will flee from you.",
description:"Shoots a harpoon that can latch onto you. Once you are latched, it will attempt to drag you to your death.",className:Ed};
G.fighter={color:"#0000ff",sb:3,wa:6,K:.75,oa:2.5,Jc:4E3,Sd:9,Ag:"hunter",te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.75,ba:[[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)]]},{type:"polygon",x:0,y:0,Y:.75,ba:[[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,Math.sqrt(2)]]},
{type:"polygon",x:0,y:0,Y:.75,ba:[[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,-Math.sqrt(2)]]}],ye:["Fires projectiles at you on sight # # Is weak to its own projectiles","When its rage meter is full, # the hunter moves faster and its bullets cannot be impulsed","Impulse the hunter to lower its rage meter"],Vf:"weak to projectiles",ge:"NO",zg:"Fires bullets at you upon sight. Bullets fling you backwards on impact. For every 2 seconds that the Fighter is idle, it loads up a piercing bullet, which cannot be Impulsed.",
sg:"Normal bullets can be reflected to hit other enemies and even the Fighter itself.",className:yd};G.fighter_bullet={color:"#0000ec",sb:1,wa:3,K:.3,oa:.5,Jc:0,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Bd};
G.piercing_fighter_bullet={color:"#ff0000",sb:1,wa:3,K:.3,oa:1,Jc:0,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Ad};
G.disabler={color:"#cccccc",sb:8,wa:9,K:.5,oa:5,Jc:5E3,Sd:.25,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/3),Math.sin(1*Math.PI/3)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(3*Math.PI/3),Math.sin(3*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)]]}],rj:[{type:"circle",x:0,y:0,Y:1.3,nu:!0}],ge:"YES",ye:["Disables all units within its radius","When Impulsed, expands its radius for a few moments"],
Ag:"equalizer",Vf:"disables all nearby units",zg:"Leaves behind a trail of crippling poison. Everything that passes through the poison is silenced.",sg:"Passing through goo will instantly slow you down, which may help you survive blasts from other enemies. Goos are not affected by each other.",className:Jd};
G.troll={color:"#159d31",sb:1.3,wa:3,K:.7,oa:.38,Jc:4E3,Sd:2,Ag:"pinwheel",te:!0,Xb:[{type:"polygon",x:0,y:0,Y:1,ba:[[0,0],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408),Math.sqrt(52)/8*Math.sin(-.408)],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,Y:1,ba:[[0,0],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3)],[.25*Math.cos(3*Math.PI/
3),.25*Math.sin(3*Math.PI/3)]]},{type:"polygon",x:0,y:0,Y:1,ba:[[0,0],[.25*Math.cos(3*Math.PI/3),.25*Math.sin(3*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3)],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)]]}],wr:[{type:"polygon",x:-.2,y:0,Y:1,ba:[[0,0],[.25*Math.cos(5*Math.PI/3+.36),.25*Math.sin(5*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+.36),Math.sqrt(52)/8*Math.sin(-.408+.36)],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/
3+.36)]]},{type:"polygon",x:-.2,y:0,Y:1,ba:[[0,0],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3+.36)],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)]]},{type:"polygon",x:-.2,y:0,Y:1,ba:[[0,0],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3+.36)],[.25*Math.cos(5*Math.PI/3+.22),
.25*Math.sin(5*Math.PI/3+.22)]]}],ye:["On collision or if impulsed while spinning, # reverses your controls"],Vf:"reverses your controls",ge:"YES",zg:"When active, impulsing the Troll will pull it towards you. Upon impact, reverses your movement and impulse controls.",sg:"The troll alternates between active and inactive every second.",className:Id};
G.slingshot={color:"#a0522d",sb:.2,wa:7,K:1,oa:.65,Jc:5E3,Sd:10,te:!0,Xb:[{type:"polygon",x:-.25,y:0,Y:1,ba:[[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(2*Math.PI/3)/2,1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3)/2,1*Math.sin(4*Math.PI/3)/2]]},{type:"polygon",x:-.25,y:0,Y:1,ba:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4]]},
{type:"polygon",x:-.25,y:0,Y:1,ba:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)]]}],Fy:[[[1*Math.cos(0*Math.PI)/4-.25,1*Math.sin(0*Math.PI)/4],[.75*Math.cos(0*Math.PI)-.25,3*Math.sin(0*Math.PI)/4]]],ge:"YES",Ag:"boomerang",zg:"When Impulsed, it will hook onto the ground and slingshot back towards you, flinging you away if it hits you.",sg:"If the boomerang hits you while not slingshoting, it will still push you back a fair way.",
className:qc,ye:["When Impulsed, latches onto its current position # and slingshots back at you","cannot be impulsed while latched"],Vf:"slingshots when impulsed"};
G.orbiter={color:"red",sb:.3,wa:15,K:.5,oa:.96,Jc:5E3,Sd:10,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3)+.4,Math.sin(2*Math.PI/3)],[.4,0]]},{type:"polygon",x:0,y:0,Y:.5,ba:[[Math.cos(4*Math.PI/3)+.4,Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[.4,0]]},{type:"polygon",x:0,y:0,Y:.5,ba:[[.4,0],[-.6,.3],[-1.6,0],[-.6,-.3]]}],Fy:[[[.5,0],[.2,0]]],ye:["Intelligently avoids your Impulse # # Will charge at you opportunistically"],
Vf:"intelligent and dangerous",ge:"YES",zg:"Locks onto you. Actively avoids your Impulse. Charges you if you've shot your Impulse the other way.",sg:"Intelligent and dangerous.",className:Cd};
G.deathray={color:"#dddddd",gz:"black",sb:6,wa:6,K:1,oa:7.2,Jc:7500,Sd:10,te:!0,Xb:[{type:"polygon",x:0,y:0,Y:1.5,ba:[[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*Math.PI/4)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)]]},{type:"polygon",x:0,y:0,Y:1.5,ba:[[.6*Math.cos(1*Math.PI/3)+.2,.6*Math.sin(1*Math.PI/3)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*
Math.PI/4)],[.8*Math.cos(1*Math.PI/3)+.2,.3*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,Y:1.5,ba:[[.8*Math.cos(5*Math.PI/3)+.2,.3*Math.sin(5*Math.PI/3)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.6*Math.cos(5*Math.PI/3)+.2,.6*Math.sin(5*Math.PI/3)]]}],ye:["After firing, must recharge for a short period # # During this time, the deathray cannot move"],Vf:"giant death ray",ge:"NO",zg:"While in turret mode, sends a devastating ray across the level every 2 seconds.",
sg:"Death rays will only enter turret mode after they are a certain distance away from the walls. Death rays take 1 seconds to enter or leave turret mode.",className:ud};
G["first boss"]={color:z["boss 1"],sb:4.5,wa:8,K:3,oa:0,Jc:[1E6,5E6,15E6],Sd:10,wf:!0,lf:8,yf:6,Xb:[{type:"polygon",x:0,y:0,Y:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],tr:[{type:"polygon",x:0,y:0,Y:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/
2),Math.sin(3*Math.PI/2)]]}],yw:[{type:"polygon",x:0,y:0,Y:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],jv:[{type:"polygon",x:0,y:0,Y:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Pu:[{type:"polygon",x:0,y:0,Y:3,ba:[[Math.cos(0*
Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ge:"NO",zg:"Shoots stunners, spears, and tanks at you. Can cast a global lighten, which causes everything to lighter and much easier to push.",sg:"The color of the boss's guns reflect what it is shooting. During the global lighten, the boss will shoot faster. Use this time to clear the field of enemies.",className:Vc};
G["second boss"]={color:z["boss 2"],sb:4.5,wa:8,K:3,oa:0,Jc:[1E6,5E6,15E6],Sd:10,wf:!0,Xb:[{type:"polygon",x:0,y:0,Y:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(2*Math.PI/4),Math.sin(2*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(6*Math.PI/4),Math.sin(6*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],tr:[{type:"polygon",
x:0,y:0,Y:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[.5*Math.cos(2*Math.PI/4),.5*Math.sin(2*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[.5*Math.cos(6*Math.PI/4),.5*Math.sin(6*Math.PI/4)]]}],ge:"NO",zg:"Exerts a gravity on the field, pulling everything towards it. The closer to the boss, the stronger the pull. The boss has four gravity arms, inside which the gravity is doubled. The boss can also send a massive shockwave through the field.",sg:"Enemies that collide with the boss will be absorbed, increasing the boss's shockwave range. If you touch the boss, you will be flung away.",
className:qd};
G["third boss"]={color:"#C000FF",sb:2,wa:8,K:4.5,oa:0,Sd:10,Jc:[1E6,5E6,15E6],wf:!0,lf:16,yf:6,Xb:[{type:"polygon",x:0,y:0,Y:4.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)],[Math.cos(2*Math.PI/8),Math.sin(2*Math.PI/8)],[Math.cos(3*Math.PI/8),Math.sin(3*Math.PI/8)],[Math.cos(4*Math.PI/8),Math.sin(4*Math.PI/8)],[Math.cos(5*Math.PI/8),Math.sin(5*Math.PI/8)],[Math.cos(6*Math.PI/8),Math.sin(6*Math.PI/8)],[Math.cos(7*Math.PI/8),Math.sin(7*Math.PI/8)],[Math.cos(8*
Math.PI/8),Math.sin(8*Math.PI/8)],[Math.cos(9*Math.PI/8),Math.sin(9*Math.PI/8)],[Math.cos(10*Math.PI/8),Math.sin(10*Math.PI/8)],[Math.cos(11*Math.PI/8),Math.sin(11*Math.PI/8)],[Math.cos(12*Math.PI/8),Math.sin(12*Math.PI/8)],[Math.cos(13*Math.PI/8),Math.sin(13*Math.PI/8)],[Math.cos(14*Math.PI/8),Math.sin(14*Math.PI/8)],[Math.cos(15*Math.PI/8),Math.sin(15*Math.PI/8)]]}],tr:[{type:"polygon",x:0,y:0,Y:4.5,ba:[[.8*Math.cos(1*Math.PI/3),.8*Math.sin(1*Math.PI/3)],[.6*Math.cos(2*Math.PI/3),.6*Math.sin(2*
Math.PI/3)],[.6*Math.cos(4*Math.PI/3),.6*Math.sin(4*Math.PI/3)],[.8*Math.cos(5*Math.PI/3),.8*Math.sin(5*Math.PI/3)]]}],Ex:[{type:"polygon",x:0,y:0,Y:2,ba:[[0,0],[Math.cos(0*Math.PI/8),Math.sin(0*Math.PI/8)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)]]}],ge:"NO",zg:"Has six turrets which fire bullets. Can cast a global silence and enter berserk mode, during which its attack speed is doubled.",sg:"Turrets which enter an obstacle cannot attack. Bullets can be reflected by Impulse to hit other enemies, including the boss.",
className:hd};
G["fourth boss"]={color:"#ff0000",sb:3,wa:8,K:4,oa:0,Sd:10,Jc:[1E6,5E6,15E6],wf:!0,lf:17,yf:6,Xb:[{type:"polygon",x:0,y:0,Y:4,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],kj:2,Ux:[{type:"polygon",x:0,y:0,Y:2,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/
5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],tr:[{type:"polygon",x:0,y:0,Y:2,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],ge:"NO",zg:"Periodically spawns capsules. Has a thin laser which sweeps around the field. When the sweep laser hits a capsule, the capsule spawns a large number of enemies. The boss has two additional lasers, one which paralyzes and one which exerts massive force.",
sg:"The sweep laser can be blocked, preventing capsules from spawning enemies.",className:Nc};G["boss four attacker"]={color:"white",sb:1.5,wa:1,ez:.1,K:2.2,oa:360,Sd:10,Jc:[1E6,5E6,15E6],Xb:[{type:"polygon",x:0,y:0,Y:.1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Tc};
G["boss four spawner"]={color:"rgb(0, 255, 0)",sb:4,wa:12,ez:.1,K:1,oa:0,Jc:5E3,Xb:[{type:"polygon",x:0,y:0,Y:.1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Pc};var Ld={stunner:500,spear:250,tank:150,mote:150,goo:50,harpoon:50,disabler:50,fighter:50,slingshot:50,troll:50,deathray:25,orbiter:50};
function Md(){for(var a in G)if(G[a].te){var b=new G[a].className(null,0,0,0,null),c=G[a],d={},f=b.Xb,g=b.QE.concat(b.Sq);for(index in g){var h=g[index],k=document.createElement("canvas");k.width=2*G[b.type].K*b.Km*E;k.height=2*G[b.type].K*b.Km*E;var m=k.getContext("2d"),q=b.Rk(h);q||(q=b.color);var p=G[b.type].K*Fa.prototype.Km,t=G[b.type].K*Fa.prototype.Km;m.translate(p*E,t*E);Ba(m,h,f,b.type,q);m.translate(-p*E,-t*E);d[h]=k}c.images=d}};function Nd(a,b,c){this.ia(a,b,c)}Nd.prototype.ia=function(a,b,c){this.Ui=a;this.color=b;this.hC=c};Nd.prototype.na=function(){};Nd.prototype.X=function(a,b){a.beginPath();a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=20;a.shadowColor=this.color;a.moveTo(this.Ui[0].x*b,this.Ui[0].y*b);for(var c=1;c<this.Ui.length;c++)a.lineTo(this.Ui[c].x*b,this.Ui[c].y*b);a.closePath();a.fillStyle=this.hC;a.strokeStyle=this.color;a.lineWidth=6;a.stroke();a.fill();a.shadowBlur=0};function Od(a,b,c,d,f,g,h){this.ia(a,b,c,d,f,g,h)}Od.prototype.ia=function(a,b,c,d,f,g,h){this.i=a;this.gu=a.uh;this.Yd=a.Yd;b&&(this.Uz=b,this.ba=c,this.Ds=g,this.QA=h);this.Hj=(new Date).getTime()};function Pd(a,b,c,d){var f;if(f=Gb(b,c,a.Uz,d)){if(!(d=c.p_n!=d))a:{a=a.Yd[c.p_n];d=a.length-1;for(f=0;f<a.length;f++){if(Hb(b,c,a[f],a[d])){d=!1;break a}d=f}d=!0}f=d}return f}
function Rb(a,b,c,d){if(Gb(b,c,a.Uz)&&Gb(b,c,a.i.Xe))return{path:[c],Td:Q(b,c)};for(var f=null,g=null,h=0;h<a.gu.length;h++)Ib(a.gu[h],b)&&(f=h),Ib(a.gu[h],c)&&(g=h);var k=null,m=null,q=a.QA[50*Math.floor(b.x*E/50)+" "+50*Math.floor(b.y*E/50)],p=a.QA[50*Math.floor(c.x*E/50)+" "+50*Math.floor(c.y*E/50)];if(q){for(var t=[],h=0;h<q.length;h++)Pd(a,b,a.ba[q[h]],f)&&t.push(q[h]);q=t}if(!q||0==q.length)for(q=[],h=0;h<a.ba.length;h++)Pd(a,b,a.ba[h],f)&&q.push(h);if(p){f=[];for(h=0;h<p.length;h++)Pd(a,c,
a.ba[p[h]],g)&&f.push(p[h]);p=f}if(!p||0==p.length)for(p=[],h=0;h<a.ba.length;h++)Pd(a,c,a.ba[h],g)&&p.push(h);for(h=0;h<q.length;h++)for(g=0;g<p.length;g++)if(f=q[h]==p[g]?0:a.Ds[q[h]][p[g]].b,null!=f&&(f=Q(b,a.ba[q[h]])+f+Q(a.ba[p[g]],c),!k||f<k))k=f,m=q[h]==p[g]?[q[h]]:a.Ds[q[h]][p[g]].a;if(!m)return{path:null,Td:null};d&&(d=Math.floor(Math.random()*q.length*p.length),h=Math.floor(d/p.length),g=d%p.length,Q(b,5>a.ba[m[0]])&&(h=q.indexOf(m[0])),0!=q.length*p.length&&(f=q[h]==p[g]?0:a.Ds[q[h]][p[g]].b,
null!=f&&(f=Q(b,a.ba[q[h]])+f+Q(a.ba[p[g]],c),d=R(b,a.ba[m[0]]),t=R(b,a.ba[q[h]]),f<1.2*k&&Ub(d,t)<3*Math.PI/8&&!Gb(a.ba[m[0]],a.ba[q[h]])&&(k=f,m=q[h]==p[g]?[q[h]]:a.Ds[q[h]][p[g]].a))));q=[];for(h=0;h<m.length;h++)q.push(a.ba[m[h]]);q.push(c);return 2==q.length&&Gb(b,c,a.i.Xe)?{path:[c],Td:Q(b,c)}:{path:q,Td:k}};var Qd=!1,Bc=0,Cc=0,Y=0,O=0,P=0,Rd=null,Sd=null,De=null,Ee=null,Fe=null,E=15,Ge=0,T=null,He=null,Ie="impulse_save_data",D,J,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,ac=null,Se=null,Te,Ue,Ve,We,Xe,Ye,Ze,$e,af,bf;
window.impulse_main=function(){b2Vec2=n.aa.Math.gg;b2AABB=n.w.oo;b2BodyDef=n.l.Rl;b2Body=n.l.fe;b2FixtureDef=n.l.Xl;b2Fixture=n.l.Wl;b2World=n.l.Je;b2MassData=n.w.Ta.Eo;b2PolygonShape=n.w.Ta.ni;b2CircleShape=n.w.Ta.hj;b2DebugDraw=n.l.He;b2MouseJointDef=n.l.M.$l;b2ContactListener=n.l.ro;Bc=1200;Cc=600;Y=200;O=Bc-2*Y;P=Cc;Sd=document.getElementById("canvas");var a=document.getElementById("canvas_container");Sd.width=Bc;Sd.height=Cc;a.style.width=Bc+"px";a.style.height=Cc+"px";De=document.getElementById("bg_canvas");
a=document.getElementById("bg_canvas_container");De.width=Bc;De.height=Cc;a.style.width=Bc+"px";a.style.height=Cc+"px";Rd=Sd.getContext("2d");Ee=De.getContext("2d");window.addEventListener("keydown",cf,!1);window.addEventListener("keyup",df,!1);window.addEventListener("click",ef,!1);window.addEventListener("mousedown",Gf,!1);window.addEventListener("mouseup",Hf,!1);window.addEventListener("mousemove",If,!1);window.addEventListener("resize",Jf,!1);window.oncontextmenu=function(){return!1};Jf();Kf();
Md();va=pb();Lf();wa=[];ya();ac=new Yb;T=new Mf;Ge=(new Date).getTime();Nf()};
function Jf(){var a,b;a=800;b=600;document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth,b=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight);Bc<a?(offset_left=(a-Bc)/2,canvas_container.style.left=Math.round(offset_left)+"px",bg_canvas_container.style.left=
Math.round(offset_left)+"px"):offset_left=0;Cc<b?(offset_top=(b-Cc)/2,canvas_container.style.top=Math.round(offset_top)+"px",bg_canvas_container.style.top=Math.round(offset_top)+"px"):offset_top=0;message.style.display=""}function Lf(){var a=document.createElement("canvas");a.width=O;a.height=P;Te=a;a=document.createElement("canvas");a.width=O;a.height=P;Ue=a;a=document.createElement("canvas");a.width=O;a.height=P;Ve=a}
function Of(a,b,c){We!=a&&(Xe=Se=b,b=Ue.getContext("2d"),"#"==a.substring(0,1)?(b.fillStyle=a,b.fillRect(0,0,O,P)):Ab(b,0,O,P,a),Ye=c,Ze=a)}function Pf(a,b){var c=Te.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Ab(c,0,O,P,a);$e=b;We=a;Ee.clearRect(0,0,canvas.width,canvas.height);Ee.fillStyle="#000";Ee.fillRect(0,0,canvas.width,canvas.height);Ee.globalAlpha=$e;Ee.drawImage(Te,0,0,O,P,Y,0,O,P);Ee.globalAlpha=1}
function Qf(a){if(0<Xe){var b=Xe/Se;Ee.clearRect(0,0,canvas.width,canvas.height);Ee.fillStyle="#000";Ee.fillRect(0,0,canvas.width,canvas.height);Ee.globalAlpha=b*$e;Ee.drawImage(Te,0,0,O,P,Y,0,O,P);Ee.globalAlpha=(1-b)*Ye;Ee.drawImage(Ue,0,0,O,P,Y,0,O,P);Ee.globalAlpha=1;Xe-=a}else null!=Se&&(Se=null,Pf(Ze,Ye))}
function Nf(){var a=(new Date).getTime();Rd.globalAlpha=1;dt=a-Ge;T.na(dt);null!=He&&He.na(dt);null!=Fe&&(bf-=dt,0>bf&&(Fe=null));T instanceof Rf?T instanceof Rf&&T.ready&&(1!=T.zoom?(Rd.fillStyle=T.ri,Rd.fillRect(Y,0,O,P)):Rd.clearRect(Y,0,O,P)):Rd.clearRect(0,0,canvas.width,canvas.height);if(T instanceof Rf){T.X(Rd,Ee);Rd.save();Sf(T,Rd);for(var b=0;b<wa.length;b++)wa[b].X(Rd);Rd.restore()}else Rd.fillStyle="black",Rd.fillRect(0,0,Y,Cc),Rd.fillRect(Bc-Y,0,Y,Cc),Rd.translate(Y,0),T.X(Rd,Ee),Rd.translate(-Y,
0);null!=He&&(Rd.globalAlpha=1,He.X(Rd));if(null!=Fe){b=Rd;b.save();var c=bf/af;b.globalAlpha=.2>c?5*b.globalAlpha*c:.9<c?10*b.globalAlpha*(1-c):1;Fe.X(b);b.restore()}Ge=a;setTimeout(Nf,Math.max(33-((new Date).getTime()-a),1))}function Tf(a,b,c,d){Fe=new Uf(a,c?c:"white",d?d:0);Vf(Fe,Bc/2,Cc-10-Fe.m);Fe.visible=!0;bf=af=b}function If(a){a=Mb(a);He&&He.Ea(a.x,a.y);if(T instanceof Rf){T.Ea(a.x,a.y);for(var b=0;b<wa.length;b++)wa[b].Ea(a.x,a.y)}else T.Ea(a.x-Y,a.y)}
function Gf(a){a.preventDefault();var b=Mb(a);0==a.button&&(He?He.rg(b.x,b.y):T instanceof Rf?T.rg(b.x,b.y):T.rg(b.x-Y,b.y))}function Hf(a){a.preventDefault();var b=Mb(a);0==a.button&&(He?He.Wg(b.x,b.y):T instanceof Rf?T.Wg(b.x,b.y):T.Wg(b.x-Y,b.y))}function ef(a){a.preventDefault();var b=Mb(a);if(0==a.button)if(He){if(He.Oa(b.x,b.y),T instanceof Rf)for(a=0;a<wa.length;a++)wa[a].Oa(b.x,b.y)}else if(T instanceof Rf){for(a=0;a<wa.length;a++)wa[a].Oa(b.x,b.y);T.Oa(b.x,b.y)}else T.Oa(b.x-Y,b.y)}
function Wf(){return document.yC&&null!==document.yC||document.mozFullScreen||document.webkitIsFullScreen}function Xf(){var a=Wf(),b=document.documentElement;a?document.exitFullscreen?document.exitFullscreen():document.vD?document.vD():document.webkitExitFullscreen&&document.webkitExitFullscreen():b.requestFullscreen?b.requestFullscreen():b.wD?b.wD():b.webkitRequestFullscreen&&b.webkitRequestFullscreen();He&&He instanceof Yf&&(He.Kr.Jg.checked=!a)}
function Zf(){if(ac.Mi){var a=ac;a.Mi=!1;D.Dv=!1;$f();a.cc&&(a.Lc[a.cc].eh(D.im),a.Wj[a.cc]=!0);ac.Gm=!1;D.Gm=!1}else a=ac,a.Mi=!0,D.Dv=!0,$f(),a.cc&&(a.Lc[a.cc].eh(0),a.Wj[a.cc]=!1),ac.Gm=!0,D.Gm=!0;$f();if(He&&He instanceof Yf){var a=He,b=ac.Mi;a.Cr.Sc=b;a.fs.Sc=b}}function cf(a){a=null==a?window.event.keyCode:a.keyCode;a==ua.ft&&0==Qd&&(Qd=!0,Tf("god_mode_alert",2500,"white",0),T instanceof ag&&bg(T));a==ua.kt&&Zf();a==ua.bt&&Xf();He?He.De(a):T.De(a)}
function df(a){a=null==a?window.event.keyCode:a.keyCode;He&&He.Wp(a);T.Wp(a)}
function Kf(){var a={};void 0===localStorage[Ie]||null===localStorage[Ie]?(Ke=!0,a.difficulty_mode="easy"):(a=JSON.parse(localStorage[Ie]),Ke=0==a.first_time?!1:!0);void 0!==a.hard_mode_unlocked?(Le=a.hard_mode_unlocked)||(J="easy"):(Le=!1,Je&&Je.easy&&void 0!==Je.easy["world 4"]&&(Le=!0));a.levels||(a.levels={});a.enemies_seen||(a.enemies_seen={});a.enemies_killed||(a.enemies_killed={});a.world_rankings||(a.world_rankings={easy:{},normal:{}});var b={Dr:100,im:100,Gr:!0,ec:!0,cG:!1,es:!1,Tr:!0,ci:!1,
Fb:"right",uc:"mouse"};a.options||(a.options={});a.quests||(a.quests=[]);for(var c in b)a.options.hasOwnProperty(c)||(a.options[c]=b[c]);a.save_data||(a.save_data={easy:{},normal:{}});Me=a.save_data;J=a.difficulty_mode?a.difficulty_mode:"normal";Ne=a.total_kills?a.total_kills:0;Oe=a.tutorial_shown?a.tutorial_shown:[];D=a.options;Pe=a.quests;cg("easy",a);cg("normal",a);Je=a.world_rankings;for(difficulty in Je)for(world in Je[difficulty])b=Je[difficulty][world],"string"===typeof b&&(c=dg(b),eg(c)),
b.rank&&(c=dg(b.rank),eg(c));for(s in G)G[s].vg=a.enemies_seen[s]?a.enemies_seen[s]:0,G[s].je=a.enemies_killed[s]?a.enemies_killed[s]:0;fg("easy");fg("normal")}
function cg(a,b){for(s in N)if("HOW TO PLAY"!=s.slice(0,11))if("undefined"===typeof N[s].Ia&&(N[s].Ia={}),N[s].Ia[a]={},b.levels.hasOwnProperty(s)&&b.levels[s].save_state&&b.levels[s].save_state[a])if(N[s].Ia[a].Qc=b.levels[s].save_state[a].high_score,N[s].Ia[a].vg=b.levels[s].save_state[a].seen,N[s].Ia[a].Va=b.levels[s].save_state[a].best_time,"HIVE"==s.slice(0,4)){for(var c=0;N[s].Ia[a].Qc>=N[s].za[a][c];)c+=1;N[s].Ia[a].ab=c}else N[s].Ia[a].ab=1E3>N[s].Ia[a].Va?3:0;else N[s].Ia[a].Qc=0,N[s].Ia[a].ab=
0,N[s].Ia[a].vg=!1,N[s].Ia[a].Va=1E3}function $f(){var a={levels:{}};gg("easy",a);gg("normal",a);a.enemies_seen={};a.enemies_killed={};for(s in G)a.enemies_seen[s]=G[s].vg,a.enemies_killed[s]=G[s].je;a.total_kills=Ne;a.difficulty_mode=J;a.world_rankings=Je;a.save_data=Me;a.options=D;a.first_time=Ke;a.hard_mode_unlocked=Le;a.tutorial_shown=Oe;a.quests=Pe;localStorage[Ie]=JSON.stringify(a)}
function gg(a,b){for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&(b.levels.hasOwnProperty(s)||(b.levels[s]={},b.levels[s].save_state={}),b.levels[s].save_state[a]={},b.levels[s].save_state[a].high_score=N[s].Ia[a].Qc,b.levels[s].save_state[a].best_time=N[s].Ia[a].Va,b.levels[s].save_state[a].seen=N[s].Ia[a].vg)}function fg(a){var b=0;for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&N[s].Ia[a]&&(b+=N[s].Ia[a].ab);Qe=0;for(s in Ld)G[s].je>=Ld[s]&&(Qe+=1);"undefined"===typeof Re&&(Re={});Re[a]=b+Qe}
function hg(a){Me[J]=a;$f()}function fc(){for(var a=3,b=0;b<Pe.length;b++){var c=Pe[b];Db[c]&&-1!=Db[c].wb.indexOf("life")&&(a+=1)}return a}function gc(){for(var a=0,b=0;b<Pe.length;b++){var c=Pe[b];Db[c]&&-1!=Db[c].wb.indexOf("ult")&&(a+=1)}return a}function hc(){for(var a=10,b=0;b<Pe.length;b++){var c=Pe[b];Db[c]&&-1!=Db[c].wb.indexOf("spark")&&(a+=1)}return a}
function ig(){for(var a=null,b=0;b<ra.length;b++)0<ra[b].Rc&&(ra[b].Rc<a||null==a)&&(a=ra[b].Rc);for(b=0;b<sa.length;b++)0<sa[b].Rc&&(sa[b].Rc<a||null==a)&&(a=sa[b].Rc);for(b=0;b<ta.length;b++)0<ta[b].Rc&&(ta[b].Rc<a||null==a)&&(a=ta[b].Rc)}function Kc(a){-1==Pe.indexOf(a)&&(Pe.push(a),$f(),Tf("quest_"+a,2500,"white",0))}function jg(a){return 2==a?.5:3==a?.4:.3};function kg(a,b,c,d,f,g,h,k){this.type=a;this.Ok=b;this.jq=c;this.iq=d;this.Hs=f;this.DD=g;this.CD=h;this.sD=k;this.Al=0==this.Ok?1E3*this.jq:1}kg.prototype.na=function(a,b){b>this.Ok&&(this.Al-=a)};function lg(a,b){this.ia(a,b)}l=lg.prototype;
l.ia=function(a,b){this.n=b.n;this.Tm=b;this.v=null;this.Ri=a.Ri;this.qn=!1;this.Uv=500;"easy"==J&&(this.Im=a.Nb);this.Im?this.aF=!0:this.Im=a.s;"easy"==J&&(this.Pa=a.wc);this.Pa?this.bF=!0:this.Pa=a.Pa;this.Jk={};this.V=a.V;"easy"==J&&(this.Ka=a.qA);this.Ka||(this.Ka=a.Ka);this.Xp=a.Xp;this.Si=a.hb;"easy"==J&&a.Tz&&(this.Si=a.Tz);this.hb=this.Si;this.ya=a.ya;mg(this);this.hs=a.hs;"easy"==J&&(this.Ja=a.Af);this.Ja||(this.Ja=a.Ja);this.Or=a.Or;this.color=z["world "+this.Tm.n];this.ri=z["world "+this.Tm.n+
" dark"];this.Fc=z["world "+this.Tm.n+" lite"];this.J=z["world "+this.Tm.n+" bright"];this.pa="BOSS"==this.V.slice(0,4);this.pa||(this.oz=parseInt(this.V.slice(this.V.length-1,this.V.length)),this.za=a.za[J]);this.th=!1;this.Na=a.Na;this.uh=[];this.Yd=[];this.Rh=[];this.Xe=[];this.ED=[];this.sf=[];this.pq=0;this.tD=20;this.wj=!1;this.Ey={stunner:Hd,spear:Gd,tank:gd,mote:pc,goo:Dd,disabler:Jd,troll:Id,fighter:yd,harpoon:tc,orbiter:Cd,slingshot:qc,deathray:ud,"first boss":Vc,"second boss":qd,"third boss":hd,
"fourth boss":Nc,"boss four spawner":Pc};this.Ec=a.Ec?{x:a.Ec.x/E,y:a.Ec.y/E}:{x:this.Si.x/E,y:this.Si.y/E};this.Qk=4;this.zC=300;this.Qy=1E3;this.xj=null;this.tf=[];this.jg=this.Pk=1E3;this.Mr=2E3;this.Nr=5;this.reset();this.mr={};this.wC=null;this.Oy=0};
l.reset=function(){this.hc=this.v&&this.v.hc?!0:!1;this.qn=!1;this.s=[];this.sf=[];this.vc=0;this.Ks=this.gd=200;this.Lm=1;this.wj=!1;this.Vp=0;this.bC=3;this.Ig=null;this.th=this.Tx=!1;this.ti={};for(s in this.Im){var a=this.Im[s];this.ti[s]=new kg(s,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);this.Jk[s]=0}this.Zo=[];this.lp=[];this.bi=[];this.yg=[];this.fz=!1;this.CE=this.dk=null;this.DE=1E4;this.Rp=this.zf=null;this.Oz=1E4};
function ng(a){var b=Math.floor(Math.random()*a.Ka.length);a.zf={x:a.Ka[b][0],y:a.Ka[b][1]};for(var c={x:a.v.q.body.g.position.x*E,y:a.v.q.body.g.position.y*E};125>Q(c,a.zf)||a.dk&&a.zf.x==a.dk.x&&a.zf.y==a.dk.y;)b+=1,b%=a.Ka.length,a.zf={x:a.Ka[b][0],y:a.Ka[b][1]};a.Rp=a.Oz}
l.na=function(a){!this.pa&&0<this.Ka.length&&(this.Rp-=a,null==this.zf||0>this.Rp?ng(this):25>Q({x:this.v.q.body.g.position.x*E,y:this.v.q.body.g.position.y*E},this.zf)&&($b("sparks"),this.v.H.qh+=5,this.v.H.of=this.v.H.qh+Math.floor(this.v.H.Ze/10),Hc(this.v,"x"+this.v.H.of,"white",this.zf.x/E,this.zf.y/E,2E3),ng(this)));null!=this.xj&&(0<this.xj?this.xj-=a:(Ee.translate(Y,0),this.Ne(Ee),Ee.translate(-Y,0),this.xj=null));this.qn&&(this.xs-=a);this.wj&&this.mn(a);0>=this.Vp&&1>this.Up?this.Up=Math.min(1,
this.Up+a/1E3):0<this.Vp&&0<this.Up&&(this.Up=Math.max(0,this.Up-a/1E3));0<this.Vp&&(this.Vp-=a);this.Zo=[];this.bi=[];this.lp=[];for(var b=0;b<this.s.length;b++)this.s[b].na(b,a);for(;0<this.Zo.length;)b=this.Zo.pop(),this.v.qa.Pw(this.s[b].body),this.s[b]instanceof tc&&this.v.qa.Pw(this.s[b].Ya.body),this.s[b]==this.Ig&&(this.th=!0);for(b=this.sf.length-1;0<=b;b--)this.sf[b].na(a),0>=this.sf[b].Vr&&(this.sf.splice(b,1),this.pq-=4);for(;0<this.lp.length;){b=this.lp.pop();--this.Jk[this.s[b].type];
if("goo"==this.s[b].type||"disabler"==this.s[b].type){var c=this.ti[this.s[b].type];c.Al=1E3*Math.max(c.jq-(this.v.H.Ze-c.Ok)/60*c.iq,c.Hs)}this.s.splice(b,1)}for(;0<this.bi.length;)b=this.bi.pop(),og(this,b);if(!this.fz)this.yi(),this.fz=!0;else if("HIVE 0-3"!=this.V||!this.v.yj){if(!this.pa){var b=[],d;for(d in this.ti){c=this.ti[d];c.na(a,this.v.H.Ze);var f=this.v.H.Ze;if(0>=c.Al){c.Al+=1E3*Math.max(c.jq-(f-c.Ok)/60*c.iq,c.Hs);var g=0;0<c.iq&&(g=2*Math.max(0,(c.Hs-(c.jq-(f-c.Ok)/60*c.iq))/c.iq)*
c.Hs/c.jq);c=c.DD+(f-c.Ok)/60*c.CD+g}else c=void 0;if(0<c)for("easy"!=J||this.aF||(c=Math.max(1,.5*c)),this.v instanceof nc&&this.py&&(c*=2),this.v instanceof nc&&this.fn&&(c=0),f=1;f<=c;f++)b.push(d)}pg(this,b);if(0==this.s.length&&0==this.yg.length){d=1E3;for(var h in this.ti)b=this.ti[h],this.v.H.Ze>b.Ok&&(d=Math.min(d,b.Al));for(h in this.ti)b=this.ti[h],b.na(d,this.v.H.Ze)}}0<=this.Ks?this.Ks-=a:0<this.yg.length&&(a=this.yg[0].type,h=this.yg[0].jG,this.yg=this.yg.slice(1),this.Js(a,h),this.Ks=
this.gd)}if(this.th)for(b=0;b<this.s.length;b++)this.s[b].O||this.s[b].Mc("kill")};function mg(a){a.ya.sort(function(a,c){var d=R({x:400,y:300},{x:a[0],y:a[1]}),f=R({x:400,y:300},{x:c[0],y:c[1]});return d-f})}l.yi=function(){if(this.Pa){var a=[],b;for(b in this.Pa){var c=this.Pa[b];this.pa||"easy"!=J||this.bF||(c=Math.max(1,.5*c));for(var d=0;d<c;d++)a.push(b);"separate_by_type"==this.Ri&&(pg(this,a),a=[])}"separate_by_type"!=this.Ri&&pg(this,a)}};
function pg(a,b){var c;if("spread"==a.Ri){c=0;for(var d=Math.floor(Math.random()*a.ya.length),f=0;f<a.ya.length;f++){for(var g={x:a.ya[f][0]/E,y:a.ya[f][1]/E},h=-1,k=0;k<a.s.length;k++){var m=Q(a.s[k].body.g.position,g);if(-1==h||m<h)h=m}h>c&&(c=h,d=f)}c=d}else c=Math.floor(Math.random()*a.ya.length);d=b.slice(0);for(f=0;f<b.length;f++)g=Math.floor(Math.random()*d.length),a.Js(d[g],c+Math.floor(f/b.length*a.ya.length)),d.splice(g,1)}
function Ec(a,b,c,d,f){if("player"==b||"spark"==b||"multi"==b||"boss"==b.slice(b.length-4,b.length)||a.pq<a.tD&&D.Gr)a.sf.push(new qg(b,c,d,f)),a.pq+=4}
l.Js=function(a,b){if(!this.qn){var c=G[a].className;if(!(c.prototype.wf&&this.Tx||this.Jk[a]>=this.ti[a].sD)){if(c.prototype.wf)this.Ig=c=new c(this.v.qa,O/E/2,P/E/2,this.vc,this.v),this.Tx=!0;else if(this.ya)var d=this.ya[b%this.ya.length],c=new c(this.v.qa,d[0]/E,d[1]/E,this.vc,this.v);else{var f;.5>Math.random()?(d=.5>Math.random()?-7:O/E+5,f=Math.random()*(P/E+12)-7):(f=.5>Math.random()?-7:P/E+5,d=Math.random()*(O/E+12)-7);d={x:d+2*Math.random(),y:f+2*Math.random()};c=new c(this.v.qa,d.x,d.y,
this.vc,this.v)}og(this,c)}}};function og(a,b){a.s.push(b);a.vc+=1;a.Jk[b.type]+=1;b.wf&&(a.Ig=b);b.Rm&&!a.mr.hasOwnProperty(b.type)&&(a.mr[b.type]=b.nm)}function rg(a){null==a.hs&&a.Ja.length&&(a.hs=a.Ja.length);for(var b=0;b<a.hs;b++){var c=a.Or(b);a.Rh.push(new Nd(c,a.Fc,a.ri));a.Yd.push(c);for(var d=0;d<c.length;d++)a.ED.push(c[d]);a.uh.push(Ob(c,a.Na))}for(b=0;b<a.Rh.length;b++)for(var c=a.Rh[b],d=c.Ui.length-1,f=0;f<c.Ui.length;f++)a.Xe.push({p1:c.Ui[d],p2:c.Ui[f]}),d=f}
l.bh=function(a,b){if(this.Ec&&!this.pa){a.save();if(null!=this.xj&&4>=this.n){var c=Math.max(this.xj/this.Qy,0);a.globalAlpha*=.3+.2*(1-c);a.strokeStyle=this.J;"HIVE 0-1"!=this.V&&"HIVE 0-2"!=this.V&&(a.save(),a.globalAlpha=.5<c?.3+(1-c):Math.max(0,0+1.6*c),a.beginPath(),a.arc(this.Ec.x*b,this.Ec.y*b,this.zC*(1-c),0,2*Math.PI),a.lineWidth=2+8*c,a.stroke(),a.restore())}else a.globalAlpha=this.v&&this.wj&&4>=this.n?.7*a.globalAlpha:.3*a.globalAlpha;Ka(a,this.n,this.Ec.x*b,this.Ec.y*b,this.Qk*b,this.wj,
0);this.wj&&this.Dm(a,b);a.restore()}};
l.X=function(a,b){a.save();if(0<this.Oy){a.save();a.globalAlpha=this.Oy;for(var c=0;c<this.Rh.length;c++){var d=this.Rh[c].color;this.Rh[c].color=this.wC;this.Rh[c].X(a,E);this.Rh[c].color=d}a.restore()}if(this.dk){var f=this.CE/this.DE;a.save();a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7);this.qn&&(a.globalAlpha*=Math.max(0,this.xs/this.Uv));I(a,this.dk.x,this.dk.y,0,36,36,"spark_powerup");a.restore()}this.zf&&(f=this.Rp/this.Oz,a.save(),a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7),this.qn&&
(a.globalAlpha*=Math.max(0,this.xs/this.Uv)),c=this.zf.x,d=this.zf.y,I(a,c+1,d,0,20,20,"multi_powerup"),a.strokeStyle="white",a.lineWidth=2,a.save(),a.globalAlpha*=.5,a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+.001,!0),a.stroke(),a.restore(),a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*(1-f),!0),a.stroke(),a.restore());this.SD&&(Ee.translate(Y,0),this.Ne(Ee,!0),Ee.translate(-Y,0),this.SD=!1);1!=this.Lm&&(a.save(),a.globalAlpha*=this.Lm);for(c=0;c<this.sf.length;c++)this.sf[c].X(a,
b);for(c=0;c<this.s.length;c++)this.s[c].bh(a,b);for(var g in this.mr)for(d=this.mr[g],f=1;f<=d;f++){for(var h=null,c=0;c<this.s.length;c++)this.s[c].type==g&&(null==h&&(h=this.s[c],h.om(a,b,f)),this.s[c].lm(a,b,f));null!=h&&h.mm(a,b,f)}for(c=0;c<this.s.length;c++)this.s[c].X(a,b);for(c=0;c<this.s.length;c++)this.s[c].Gu(a,b);1!=this.Lm&&a.restore();0<=this.aC&&(a.beginPath(),a.arc(O/b/2*b,P/b/2*b,2*this.bC*b,-.5*Math.PI,-.5*Math.PI+this.aC/this.JF*Math.PI*2,!0),a.lineWidth=2,a.strokeStyle="gray",
a.stroke(),a.globalAlpha=1);a.restore()};
l.Ne=function(a){a.save();a.rect(0,0,O,P);a.clip();null!=this.Tm.n?Ab(a,0,O,P,"Hive "+this.Tm.n):(a.fillStyle=z["world 0 bright"],a.fillRect(0,0,O,P));for(var b=0;b<this.Rh.length;b++)this.Rh[b].X(a,E);this.pa?(a.fillStyle=z["world "+this.n+" dark"],a.fillRect(375,0,50,25),a.fillRect(375,575,50,25),a.fillRect(0,275,25,50),a.fillRect(775,275,25,50)):"HIVE 0-3"==this.V?(a.fillStyle=z["world "+this.n+" dark"],a.fillRect(0,0,800,200),a.fillRect(0,400,800,200)):"HIVE 0-4"==this.V&&(a.fillStyle=z["world "+
this.n+" dark"],a.fillRect(0,0,800,50),a.fillRect(0,550,800,50));a.restore()};l.mn=function(a){for(var b=0;b<this.tf.length;b++){var c=this.tf[b];c.ed+=a/this.Mr;1<c.ed&&this.tf.splice(b,1)}this.jg-=a;0>this.jg&&(this.jg+=this.Pk,this.np(this.Ec.x,this.Ec.y,this.Nr))};l.np=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.tf.push({kw:1.5*Math.cos(f)*this.Qk+a,lw:1.4*Math.sin(f)*this.Qk+b,ed:0})}};
l.Dm=function(a,b){for(var c=0;c<this.tf.length;c++){var d=this.tf[c];a.save();a.globalAlpha=.25>d.ed?4*a.globalAlpha*d.ed:(1-d.ed)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.kw*(1-d.ed)+this.Ec.x*d.ed)-3,b*(d.lw*(1-d.ed)+this.Ec.y*d.ed)-3,6,6);a.fillStyle=z["world "+this.n+" bright"];a.fill();a.restore()}};var N={"HOW TO PLAY":{s:{stunner:[0,4,0,4,1,0,5]},lb:"stunner",Ja:[[[838,84],[-38,84],[-38,-45],[838,-45]],[[-38,175],[42,175],[42,258],[756,258],[756,175],[838,175],[838,645],[-38,645]]],Ka:[[72,225],[728,225],[21,127],[779,127]],ya:[[-100,127],[900,127]],Na:1,za:{normal:[2500,1E4,2E4],easy:[2500,1E4,2E4]},hb:{x:400,y:170},Na:1},"HIVE 0-1":{Nb:{},s:{},wc:{},Pa:{},lb:"stunner",Ja:[],Ka:[],ya:[],Na:1,kl:50,za:{normal:[0,3E5,12E5]},hb:{x:200,y:300},Ec:{x:600,y:300}},"HIVE 0-2":{Nb:{},s:{},wc:{},Pa:{},
lb:"stunner",Ja:[[[-50,260],[370,260],[370,360],[-50,360]],[[50,420],[751,420],[750,520],[50,520]],[[850,360],[430,360],[430,260],[850,260]]],Ka:[],ya:[],Na:1,kl:50,za:{normal:[0,3E5,12E5]},hb:{x:400,y:560},Ec:{x:400,y:200}},"HIVE 0-3":{Nb:{dumb_stunner:[0,1,0,1,1,0,1]},s:{dumb_stunner:[0,1,0,1,1,0,1]},wc:{dumb_stunner:1},Pa:{dumb_stunner:1},lb:"dumb_stunner",Ja:[[[-50,-50],[850,-50],[850,200],[-50,200]],[[-50,400],[850,400],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],
[750,650],[850,650],[850,-50]]],Ka:[],ya:[[200,300]],Na:1,kl:50,za:{easy:[1E3,3E5,12E5],normal:[1E3,3E5,12E5]},hb:{x:100,y:300},Ec:{x:600,y:300},nA:!0},"HIVE 0-4":{Nb:{dumb_stunner:[0,1,0,1,1,0,4]},s:{dumb_stunner:[0,1,0,1,1,0,4]},wc:{dumb_stunner:4},Pa:{dumb_stunner:4},lb:"dumb_stunner",Ja:[[[-50,-50],[850,-50],[850,50],[-50,50]],[[-50,550],[850,550],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]]],Ka:[[200,200],[600,200],[200,400],[600,400]],
ya:[[300,300],[500,300],[400,200],[400,400]],Na:1,kl:50,za:{easy:[2E3,1E4,2E4],normal:[2E3,1E4,2E4]},hb:{x:400,y:300},Ri:"spread",dq:!0},"HIVE 1-1":{Nb:{stunner:[0,5,1,1,2,0,50]},s:{stunner:[0,1,0,1,4,4,50]},wc:{stunner:2},Pa:{stunner:4},lb:"stunner",Ja:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[144,367],[656,367],[656,626],[144,626]],[[144,-26],[656,-26],[656,233],[144,233]]],Af:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,
-26]],[[174,400],[626,400],[626,626],[174,626]],[[174,-26],[626,-26],[626,200],[174,200]]],Ka:[[81,75],[81,525],[719,75],[719,525]],qA:[[250,250],[250,350],[550,250],[550,350]],ya:[[50,-100],[750,-100],[50,700],[750,700]],Na:1,kl:50,za:{easy:[2500,5E4,3E5],normal:[5E4,4E5,8E5]},hb:{x:400,y:300}},"HIVE 1-2":{s:{stunner:[3,3,0,3,2,2,25],spear:[0,2.5,.5,1.5,2,0,25]},Nb:{stunner:[2,3,1,1,1,0,25],spear:[0,4,1,1,1,0,25]},Pa:{spear:4,stunner:2},wc:{spear:1},lb:"spear",Ja:[[[112,-6],[688,-6],[688,26],[112,
26]],[[-9,96],[30,96],[30,505],[-9,505]],[[809,504],[770,504],[770,95],[809,95]],[[688,606],[112,606],[112,574],[688,574]],[[135,126],[330,126],[135,259]],[[135,341],[330,474],[135,474]],[[665,259],[470,126],[665,126]],[[665,474],[470,474],[665,341]]],Ka:[[135,300],[665,300],[400,125],[400,475],[709,78],[91,78],[709,522],[91,522]],ya:[[-50,-50],[850,650],[850,-50],[-50,650]],Na:1,za:{easy:[15E3,8E4,4E5],normal:[15E4,4E5,1E6]},hb:{x:400,y:300}},"HIVE 1-3":{Nb:{stunner:[0,2.5,.5,1,2,0,40],spear:[30,
6,1.5,1.5,1,0,15]},s:{stunner:[0,1,0,1,2,2,40],spear:[20,5,0,5,1,3,15]},wc:{stunner:4},Pa:{stunner:12},lb:"stunner",Ja:[[[-11,-10],[335,-10],[-11,252]],[[-11,348],[335,610],[-11,610]],[[811,252],[465,-10],[811,-10]],[[811,610],[465,610],[811,348]],[[466,300],[400,348],[335,300],[400,251]]],ya:[[-100,300],[400,-100],[900,300],[400,700]],Ka:[[400,50],[50,300],[400,550],[750,300]],Na:1,za:{easy:[2E4,12E4,6E5],normal:[1E5,3E5,12E5]},hb:{x:400,y:400}},"HIVE 1-4":{Nb:{spear:[0,5,2,1,2,0,40]},s:{spear:[0,
3,0,3,2,3,40]},Pa:{spear:2},wc:{spear:2},lb:"spear",Ja:[[[-15,73],[265,253],[-15,269]],[[336,426],[362,610],[-15,610]],[[464,175],[438,-10],[815,-10]],[[-15,331],[265,348],[-15,527]],[[815,269],[535,253],[815,73]],[[-15,-10],[362,-10],[336,175]],[[815,610],[438,610],[464,426]],[[815,527],[535,348],[815,331]]],ya:[[-100,14],[900,14],[900,586],[-100,586],[-100,300],[400,-100],[900,300],[400,700]],Ka:[[400,125],[400,475],[125,300],[675,300],[177,145],[623,145],[177,455],[623,455]],Na:1,za:{easy:[3E4,
2E5,75E4],normal:[125E3,4E5,15E5]},hb:{x:400,y:300}},"HIVE 1-5":{s:{spear:[0,6,0,6,2,2,15],tank:[0,4,0,4,2,2,25]},Nb:{spear:[6,6,2,2,1.5,0,15],tank:[0,5,2,1,1,0,25]},lb:"tank",Pa:{spear:8,tank:4},wc:{tank:6},Ja:[[[103,1],[688,1],[688,27],[103,27]],[[799,483],[770,483],[770,116],[799,116]],[[103,573],[688,573],[688,599],[103,599]],[[1,116],[30,116],[30,483],[1,483]]],ya:[[-100,-100],[900,-100],[900,700],[-100,700]],Ka:[[66,528],[66,72],[734,528],[66,528]],Na:1,za:{easy:[4E4,2E5,6E5],normal:[15E4,4E5,
125E4]},hb:{x:400,y:300}},"HIVE 1-6":{s:{stunner:[0,6,0,6,2,1,25],tank:[0,8,0,8,2,4,25]},Nb:{stunner:[0,6,2,2,1,0,25],tank:[0,6,2,2,1,0,25]},Pa:{tank:4},wc:{tank:3,stunner:1},lb:"tank",Ja:[[[828,322],[518,8],[554,-32],[823,-32]],[[-28,278],[282,592],[246,632],[-23,632]],[[398,125],[575,300],[399,476],[223,300]],[[107,185],[-25,53],[-25,-34],[325,-34]],[[693,415],[825,547],[825,634],[475,634]]],ya:[[400,-100],[400,700],[-100,150],[900,450]],Ka:[[50,240],[400,15],[400,585],[750,360]],Na:1,za:{easy:[5E4,
2E5,8E5],normal:[15E4,5E5,15E5]},hb:{x:250,y:150}},"HIVE 1-7":{Nb:{stunner:[0,5,1,2,1,0,30],spear:[0,6,1.2,2.4,1,0,15],tank:[0,10,2.5,5,1,0,15]},s:{stunner:[0,4,0,4,2,1,30],spear:[0,5,0,5,2,1,15],tank:[0,8,0,8,2,1,15]},Pa:{stunner:6,spear:2,tank:4},wc:{stunner:2,spear:1,tank:1},lb:"tank",Ja:[[[243,110],[332,144],[243,179],[153,144]],[[310,-3],[400,-38],[489,-3],[400,31]],[[310,300],[400,265],[489,300],[400,334]],[[88,-38],[177,-3],[88,31],[-2,-3]],[[-2,300],[88,265],[177,300],[88,334]],[[-21,125],
[25,143],[-21,163]],[[-2,603],[88,569],[177,603],[88,638]],[[802,-3],[712,31],[623,-3],[712,-38]],[[-21,437],[25,457],[-21,475]],[[821,163],[775,143],[821,125]],[[153,456],[243,421],[332,456],[243,490]],[[647,144],[557,179],[468,144],[557,110]],[[712,334],[623,300],[712,265],[802,300]],[[557,490],[468,456],[557,421],[647,456]],[[712,638],[623,603],[712,569],[802,603]],[[400,569],[489,603],[400,638],[310,603]],[[821,475],[775,457],[821,437]]],ya:[[-100,50],[-100,300],[-100,550],[900,50],[900,300],
[900,550],[240,-100],[560,-100],[240,700],[560,700]],Ka:[[75,145],[235,34],[565,34],[725,145],[725,455],[565,566],[235,566],[75,455]],Na:1,za:{easy:[5E4,15E4,75E4],normal:[125E3,4E5,15E5]},hb:{x:400,y:450}},"BOSS 1":{s:{"first boss":[0,1,0,1,0,0,1]},Pa:{"first boss":1},lb:"first boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,
575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,62],[740,539]],Na:1,hb:{x:400,y:550},tu:40},"HIVE 2-1":{Nb:{stunner:[0,5,1.5,2,1,0,15],tank:[15,12,3,3,1,0,15],mote:[0,10,2,4,1,0,25]},s:{stunner:[1,4,0,4,2,2,15],tank:[0,8,0,8,2,1,15],mote:[0,6,0,6,2,2,25]},Pa:{mote:4,tank:2},wc:{mote:2,stunner:2},lb:"mote",Ja:[[[-12,-8],[815,-8],[815,609],[748,609],[748,50],[51,50],[51,609],[-12,609]],[[176,609],[176,175],[288,174],[286,286],[228,286],[228,540],[566,540],[566,287],[510,286],[510,175],[626,175],
[626,609]],[[324,363],[469,363],[469,466],[324,466]]],Ka:[[400,500],[687,450],[113,450]],ya:[[100,700],[700,700]],Na:1,za:{easy:[6E4,2E5,75E4],normal:[15E4,45E4,175E4]},Ri:"separate_by_type",hb:{x:400,y:235}},"HIVE 2-2":{s:{stunner:[3,3,0,3,2,1,30],spear:[0,10,0,10,4,4,20],mote:[0,5,1,2,1,0,20]},Nb:{stunner:[5,5,1,2,1,0,30],spear:[0,12,0,12,2,1,20],mote:[0,9,2,3,1,0,20]},Pa:{spear:4,mote:2},lb:"mote",Ja:[[[-25,253],[143,253],[143,347],[-25,347]],[[825,347],[656,347],[656,253],[825,253]],[[556,347],
[454,347],[454,253],[557,253]],[[244,253],[346,253],[346,347],[243,347]],[[-25,-36],[825,-36],[825,148],[758,148],[758,23],[656,23],[658,148],[555,148],[557,23],[454,23],[455,148],[346,148],[346,23],[243,23],[244,148],[143,148],[143,23],[42,23],[42,148],[-25,148]],[[-25,452],[42,452],[42,577],[143,577],[143,452],[244,452],[243,577],[346,577],[346,452],[455,452],[454,577],[557,577],[555,452],[658,452],[656,577],[758,577],[758,452],[825,452],[825,636],[-25,636]]],ya:[[-100,175],[900,175],[900,425],
[-100,425]],Ka:[[95,85],[295,85],[505,85],[705,85],[95,515],[295,515],[505,515],[705,515]],Na:1,za:{normal:[1E5,3E5,15E5]},hb:{x:400,y:300}},"HIVE 2-3":{Nb:{spear:[0,6,2,2,2,0,30],tank:[0,8,1,2,2,0,30],goo:[0,10,0,10,1,0,1]},s:{spear:[0,8,0,8,4,1,30],tank:[0,8,0,8,4,1,30],goo:[0,10,0,10,1,0,1]},lb:"goo",Ja:[[[169,549],[630,549],[706,621],[91,622]],[[631,51],[170,51],[94,-21],[709,-22]],[[-24,116],[58,184],[56,416],[-24,483]],[[824,484],[743,416],[744,184],[824,117]]],ya:[[-100,-100],[900,-100],[900,
700],[-100,700]],Ka:[[66,528],[66,72],[734,528],[66,528]],Na:1,Pa:{tank:4,spear:8,goo:1},wc:{tank:6,spear:4,goo:1},Ri:"separate_by_type",za:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},hb:{x:400,y:300}},"HIVE 2-4":{s:{stunner:[6,6,0,6,2,2,10],spear:[0,2,.3,1,1.5,0,20],mote:[0,6,2,2,1,0,15],goo:[0,10,0,10,1,0,1]},Nb:{stunner:[8,8,0,8,2,1,10],spear:[0,12,3,2,2,0,20],mote:[0,8,1.5,2,1,0,15],goo:[0,10,0,10,1,0,1]},lb:"goo",Pa:{spear:3,goo:1,mote:2,stunner:2},wc:{spear:2,goo:1,mote:1,stunner:2},Ja:[[[-33,
-54],[342,-54],[343,201],[191,384],[-33,536]],[[833,536],[609,384],[457,201],[458,-54],[833,-54]],[[526,478],[725,602],[725,641],[75,641],[75,602],[274,478]]],ya:[[400,-100],[-125,700],[925,700]],Ka:[[400,120],[180,460],[620,460]],Na:1,za:{easy:[6E4,2E5,8E5],normal:[175E3,5E5,2E6]},Ri:"separate_by_type",hb:{x:400,y:330}},"HIVE 2-5":{Nb:{stunner:[6,6,2,2,1,0,15],mote:[8,8,2,4,1,0,15],harpoon:[0,15,3,6,1,0,15]},s:{stunner:[0,6,0,6,1,2,15],mote:[0,8,1.6,3.2,1,0,15],harpoon:[0,20,4,8,2,0,15]},lb:"harpoon",
Pa:{stunner:2,mote:2,harpoon:2},wc:{harpoon:1},Ja:[[[-32,-31],[49,-31],[49,631],[-32,631]],[[832,631],[751,631],[751,-31],[832,-31]],[[656,366],[629,366],[629,236],[656,236]],[[144,235],[171,235],[171,364],[144,364]],[[387,235],[414,235],[414,365],[387,365]],[[265,368],[292,368],[292,498],[265,498]],[[535,232],[508,232],[508,102],[535,102]],[[265,102],[292,102],[292,232],[265,232]],[[535,498],[508,498],[508,368],[535,368]],[[659,102],[628,102],[629,18],[414,18],[414,102],[387,102],[387,18],[172,18],
[172,102],[143,102],[145,-34],[659,-33]],[[141,498],[172,498],[171,582],[386,582],[386,498],[414,498],[413,582],[628,582],[628,498],[658,498],[655,634],[141,633]]],Na:1,ya:[[100,-50],[700,-50],[100,650],[700,650]],Ka:[[100,50],[100,300],[100,550],[700,50],[700,300],[700,550]],za:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},hb:{x:400,y:425}},"HIVE 2-6":{s:{spear:[0,10,0,10,2,2,10],tank:[2,15,0,15,2,1,12],goo:[0,15,0,15,1,0,1],harpoon:[0,20,0,20,2,2,12]},Nb:{spear:[0,8,2,4,1,0,10],tank:[2,12,4,3,1,0,12],
goo:[0,20,0,20,1,0,1],harpoon:[0,15,4,6,1,0,12]},lb:"harpoon",Ja:[[[325,276],[374,276],[374,231],[427,231],[427,276],[475,276],[475,324],[426,324],[426,371],[373,371],[373,324],[325,324]],[[832,27],[-31,27],[-31,-18],[832,-18]],[[-32,573],[831,573],[831,618],[-32,618]],[[192,369],[246,369],[246,450],[325,450],[325,502],[192,502]],[[192,98],[325,98],[325,150],[246,150],[246,231],[192,231]],[[-25,98],[111,98],[111,502],[-25,502]],[[825,502],[689,502],[689,98],[825,98]],[[608,231],[554,231],[554,150],
[475,150],[475,98],[608,98]],[[608,502],[475,502],[475,450],[554,450],[554,369],[608,369]]],ya:[[-100,50],[900,50],[-100,550],[900,550]],Ka:[[90,63],[710,63],[90,537],[710,537]],Pa:{spear:4,harpoon:2,goo:1},Na:1,za:{easy:[9E4,25E4,6E5],normal:[2E5,5E5,125E4]},hb:{x:400,y:450}},"HIVE 2-7":{Nb:{stunner:[0,30,0,30,2,1,16],spear:[2,30,0,30,2,1,16],tank:[12,30,0,30,2,1,16],mote:[6,30,0,30,2,1,16],goo:[18,30,0,30,1,0,1],harpoon:[20,30,0,30,2,1,16]},s:{stunner:[0,30,0,30,4,2,16],spear:[22,30,0,30,4,2,16],
tank:[2,30,0,30,4,2,16],mote:[6,30,0,30,4,2,16],goo:[16,30,0,30,1,0,1],harpoon:[10,30,0,30,4,2,16]},lb:"harpoon",Ja:[[[830,52],[-29,52],[-29,-27],[830,-27]],[[-30,548],[829,548],[829,627],[-30,627]],[[-30,133],[307,133],[307,186],[54,186],[54,415],[307,415],[307,467],[-30,466]],[[830,466],[493,467],[493,415],[746,415],[746,186],[493,186],[493,133],[830,133]],[[229,275],[571,275],[571,325],[229,325]]],ya:[[-100,100],[900,100],[-100,500],[900,500]],Ka:[[200,93],[600,93],[200,507],[600,507]],Na:1,za:{easy:[1E5,
3E5,1E6],normal:[2E5,75E4,225E4]},Pa:{stunner:4},hb:{x:400,y:400}},"BOSS 2":{s:{"second boss":[0,1,0,1,0,0,1],stunner:[0,10,0,10,0,0,12],spear:[0,10,0,10,0,0,8],tank:[0,10,0,10,0,0,8],mote:[0,10,0,10,0,0,8],goo:[0,10,0,10,0,0,1],harpoon:[0,10,0,10,0,0,8]},Pa:{"second boss":1},lb:"second boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,
575],[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,62],[740,539]],Na:1,hb:{x:400,y:500},tu:60},"HIVE 3-1":{Nb:{stunner:[7,12,2,6,2,0,20],tank:[8,12,3,3,1,0,10],mote:[6,12,2,4,1,0,15],fighter:[0,24,4,8,1,0,12]},s:{stunner:[0,10,1.5,4,4,0,20],tank:[0,12,2.4,4.8,1,0,10],mote:[0,12,2.4,4.8,1,0,15],fighter:[0,15,3,6,1,0,12]},lb:"fighter",Ja:[[[304,274],[426,204],[496,326],[374,396]],[[72,212],[193,142],[263,263],[142,333]],[[242,507],[363,437],[433,558],[312,628]],[[558,93],[437,163],[367,
42],[488,-28]],[[728,388],[607,458],[537,337],[658,267]],[[326,31],[204,101],[134,-20],[256,-90]],[[474,569],[596,499],[666,620],[544,690]],[[10,444],[131,374],[201,496],[80,566]],[[790,156],[669,226],[599,104],[720,34]],[[-160,150],[-39,80],[31,201],[-90,271]],[[960,450],[839,520],[769,399],[890,329]]],Af:[[[314,277],[423,214],[486,323],[377,386]],[[82,215],[190,152],[253,260],[145,323]],[[252,510],[360,447],[423,555],[315,618]],[[548,90],[440,153],[377,45],[485,-18]],[[718,385],[610,448],[547,340],
[655,277]],[[316,28],[207,91],[144,-17],[253,-80]],[[484,572],[593,509],[656,617],[547,680]],[[20,447],[128,384],[191,493],[83,556]],[[780,153],[672,216],[609,107],[717,44]],[[-150,153],[-42,90],[21,198],[-87,261]],[[950,447],[842,510],[779,402],[887,339]]],ya:[[-100,360],[-100,-100],[900,200],[900,700],[200,700],[400,700],[360,-100],[600,-100]],Ka:[[586,50],[83,88],[205,548],[715,515],[728,260],[83,330]],Na:.8,za:{easy:[125E3,4E5,1E6],normal:[25E4,75E4,225E4]},Pa:{fighter:1,tank:1,mote:1,stunner:4},
wc:{fighter:1,stunner:2},vh:!0,hb:{x:250,y:380}},"HIVE 3-2":{s:{spear:[0,6,0,6,2,1,20],goo:[1,15,0,15,1,0,1],fighter:[0,18,0,18,2,2,12],harpoon:[0,15,3,6,1,0,12]},Nb:{spear:[10,10,1.5,3,1,0,20],goo:[0,15,0,15,1,0,1],fighter:[0,24,4,8,2,0,12],harpoon:[0,20,3,9,1,0,12]},lb:"fighter",Ja:[[[438,472],[393,455],[380,425],[413,411]],[[488,230],[474,198],[505,185],[548,205]],[[572,262],[555,307],[525,320],[512,287]],[[228,338],[245,293],[275,280],[288,313]],[[312,370],[326,402],[295,415],[252,395]],[[470,
388],[502,374],[515,405],[495,448]],[[330,212],[298,226],[285,195],[305,152]],[[362,128],[407,145],[420,175],[387,189]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,
27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],Af:[[[433,467],[395,453],[384,427],[412,416]],[[490,226],[479,199],[505,188],[541,205]],[[567,267],[553,305],[527,316],[516,288]],[[233,333],[247,295],[273,284],[284,312]],[[310,374],[321,401],[295,412],[259,395]],[[474,390],[501,379],[512,405],[495,441]],[[326,210],[299,221],[288,195],[305,159]],[[367,133],[405,147],[416,173],[388,184]],[[739,714],[628,449],[692,422],[665,357],[855,279],
[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],ya:[[-156,410],[-78,605],[110,-102],[317,-187],[886,-23],
[972,193],[706,742],[482,820]],Ka:[[190,84],[613,89],[610,521],[186,503]],Na:1,za:{easy:[125E3,3E5,1E6],normal:[3E5,8E5,2E6]},Pa:{fighter:2,spear:2,harpoon:1},wc:{fighter:2,harpoon:1,goo:1},vh:!0,hb:{x:370,y:380}},"HIVE 3-3":{s:{tank:[0,10,2,4,1,0,20],harpoon:[0,16,4,6,1,0,15],mote:[0,8,1.6,3.2,1,0,10],disabler:[0,10,1,1,1,0,1]},Nb:{tank:[6,12,3,3,1,0,20],harpoon:[8,16,3,6,1,0,15],mote:[0,10,2,4,1,0,10],disabler:[0,5,0,5,1,0,1]},lb:"disabler",Ja:[[[-14,343],[25,439],[175,439],[250,239],[325,439],
[475,439],[550,239],[625,439],[775,439],[811,341],[850,629],[-50,629]],[[850,161],[775,161],[700,361],[625,161],[475,161],[400,361],[325,161],[175,161],[100,361],[25,161],[-50,161],[-50,-21],[850,-21]]],Af:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],ya:[[-100,166],[900,166]],Ka:[[100,402],[700,
402],[25,299],[775,299]],Na:1.3,za:{easy:[125E3,3E5,9E5],normal:[25E4,6E5,175E4]},Pa:{disabler:1,harpoon:1,tank:2,mote:2},wc:{disabler:1,mote:2},vh:!0,hb:{x:400,y:400}},"HIVE 3-4":{s:{spear:[0,4,0,4,2,2,15],fighter:[0,10,0,10,2,1,10],mote:[0,8,0,8,2,1,20],disabler:[0,10,0,10,1,0,1]},Nb:{spear:[0,6,1,3,2,0,15],fighter:[0,20,3,6,2,0,10],mote:[0,10,0,10,2,1,20],disabler:[0,5,0,5,1,0,1]},lb:"disabler",Ja:[[[424,337],[540,368],[555,310],[613,326],[582,441],[640,457],[624,515],[509,484],[493,541],[436,
526],[467,410],[409,395]],[[420,584],[536,615],[551,558],[609,573],[578,689],[405,642]],[[428,90],[544,121],[559,63],[617,78],[586,194],[644,209],[629,267],[513,236],[498,294],[440,279],[471,163],[413,147]],[[177,333],[292,364],[308,306],[366,322],[335,437],[393,453],[377,510],[262,479],[246,537],[188,522],[219,406],[161,391]],[[173,580],[288,611],[304,553],[362,569],[331,685],[157,638]],[[181,86],[297,117],[312,59],[370,74],[339,190],[397,205],[381,263],[266,232],[250,290],[192,274],[223,159],[166,
143]],[[401,-42],[385,16],[270,-15],[254,43],[197,27],[228,-89]],[[648,-38],[633,20],[517,-11],[502,47],[444,31],[475,-84]],[[671,341],[787,372],[802,314],[860,330],[829,445],[887,461],[871,519],[756,488],[740,545],[683,530],[714,414],[656,399]],[[895,-34],[880,24],[764,-7],[749,51],[691,35],[722,-80]],[[154,-46],[138,12],[23,-19],[7,39],[-50,23],[-19,-93]],[[667,588],[783,619],[798,562],[856,577],[825,693],[652,646]],[[-66,82],[50,113],[65,55],[123,70],[92,186],[150,201],[134,259],[19,228],[3,286],
[-55,270],[-24,155],[-81,139]],[[-74,576],[41,607],[57,549],[115,565],[84,681],[-90,634]],[[-70,329],[45,360],[61,302],[119,318],[88,433],[146,449],[130,506],[15,475],[-1,533],[-59,518],[-28,402],[-86,387]],[[675,94],[791,125],[806,67],[864,82],[833,198],[891,213],[876,271],[760,240],[745,298],[687,283],[718,167],[660,151]]],Af:[[[434,346],[538,374],[552,322],[604,336],[576,439],[628,454],[614,506],[511,478],[496,529],[445,516],[473,412],[421,398]],[[430,587],[534,615],[548,563],[600,577],[572,681],
[416,639]],[[438,99],[542,127],[556,75],[608,88],[580,192],[632,206],[619,258],[515,230],[501,282],[449,269],[477,165],[425,150]],[[187,342],[291,370],[305,318],[357,332],[329,435],[381,450],[367,501],[264,473],[249,525],[197,512],[225,408],[173,394]],[[183,583],[286,611],[301,558],[353,573],[325,677],[168,635]],[[191,95],[295,123],[309,71],[361,84],[333,188],[385,202],[371,254],[268,226],[253,278],[201,264],[229,161],[178,146]],[[390,-39],[375,13],[272,-14],[258,38],[206,23],[234,-81]],[[637,-35],
[623,17],[519,-10],[505,42],[453,27],[481,-76]],[[681,350],[785,378],[799,326],[851,340],[823,443],[875,458],[861,510],[758,482],[743,533],[692,520],[720,416],[668,402]],[[884,-31],[870,21],[766,-6],[752,46],[700,31],[728,-72]],[[143,-43],[128,9],[25,-18],[11,34],[-41,19],[-13,-85]],[[677,591],[781,619],[795,567],[847,581],[819,685],[663,643]],[[-56,91],[48,119],[62,67],[114,80],[86,184],[138,198],[124,250],[21,222],[6,274],[-46,260],[-18,157],[-69,142]],[[-64,579],[39,607],[54,554],[106,569],[78,
673],[-79,631]],[[-60,338],[44,366],[58,314],[110,328],[82,431],[134,446],[120,497],[17,469],[2,521],[-50,508],[-22,404],[-74,390]],[[685,103],[789,131],[803,79],[855,92],[827,196],[879,210],[866,262],[762,234],[748,286],[696,273],[724,169],[672,154]]],ya:[[-692,162],[958,574],[-114,43],[958,327],[-139,277],[941,70],[-125,530],[105,743],[-125,530],[344,745],[456,-148],[597,738],[203,-140]],Ka:[[159,48],[646,551],[151,544],[653,58]],Na:.8,za:{normal:[3E5,6E5,2E6]},hb:{x:400,y:300},Pa:{spear:3,fighter:2,
mote:2,disabler:1},wc:{fighter:2,spear:2,disabler:1}},"HIVE 3-6":{s:{spear:[0,10,0,10,2,2,8],tank:[0,12,0,12,2,2,8],harpoon:[0,12,2.4,4.8,1,0,8],troll:[0,10,0,10,2,2,10]},Nb:{spear:[12,12,2,4,2,0,8],tank:[15,15,2.5,4,1,0,8],harpoon:[24,24,4,8,1,0,8],troll:[0,14,2,4,2,0,10]},lb:"troll",Ja:[[[350,123],[400,90],[450,123],[400,156]],[[256,300],[223,350],[190,300],[223,250]],[[400,444],[450,477],[400,510],[350,477]],[[577,250],[610,300],[577,350],[544,300]],[[400,350],[250,450],[350,300],[250,150],[400,
250],[550,150],[450,300],[550,450]],[[350,-54],[450,-54],[550,96],[400,-4],[250,96]],[[-4,123],[46,90],[96,123],[46,156]],[[46,444],[96,477],[46,510],[-4,477]],[[754,156],[704,123],[754,90],[804,123]],[[804,477],[754,510],[704,477],[754,444]],[[46,-4],[-41,55],[-4,-54],[96,-54],[196,96]],[[250,504],[400,604],[550,504],[450,654],[350,654]],[[196,150],[96,300],[196,450],[46,350],[-47,412],[-4,300],[-44,190],[46,250]],[[604,450],[704,300],[604,150],[754,250],[847,188],[804,300],[844,410],[754,350]],
[[196,504],[96,654],[-4,654],[-41,545],[46,604]],[[604,96],[704,-54],[804,-54],[841,55],[754,-4]],[[754,604],[841,545],[804,654],[704,654],[604,504]]],Af:[[[355,123],[400,93],[445,123],[400,153]],[[253,300],[223,345],[193,300],[223,255]],[[400,447],[445,477],[400,507],[355,477]],[[577,255],[607,300],[577,345],[547,300]],[[400,345],[265,435],[355,300],[265,165],[400,255],[535,165],[445,300],[535,435]],[[355,-47],[445,-47],[535,88],[400,-2],[265,88]],[[1,123],[46,93],[91,123],[46,153]],[[46,447],[91,
477],[46,507],[1,477]],[[754,153],[709,123],[754,93],[799,123]],[[799,477],[754,507],[709,477],[754,447]],[[47,-3],[-31,50],[2,-48],[92,-48],[182,87]],[[265,512],[400,602],[535,512],[445,647],[355,647]],[[182,165],[92,300],[182,435],[47,345],[-36,401],[2,300],[-34,201],[47,255]],[[618,435],[708,300],[618,165],[753,255],[836,199],[798,300],[834,399],[753,345]],[[182,513],[92,648],[2,648],[-31,550],[47,603]],[[618,87],[708,-48],[798,-48],[831,50],[753,-3]],[[753,603],[831,550],[798,648],[708,648],[618,
513]]],ya:[[222,652],[-120,123],[-120,477],[920,123],[920,477],[222,-52],[578,652],[578,-52]],Ka:[[223,58],[223,543],[577,58],[577,543]],Na:1,za:{easy:[2E5,4E5,9E5],normal:[3E5,6E5,175E4]},hb:{x:400,y:400},Pa:{tank:1,spear:1,harpoon:1,troll:2},wc:{troll:2,tank:1,harpoon:1}},"HIVE 3-5":{s:{stunner:[0,8,0,8,2,2,15],mote:[0,10,2,4,1,1,15],fighter:[7,20,4,8,1,1,10],troll:[0,10,0,10,2,2,10]},Nb:{stunner:[5,10,0,10,1,1,15],mote:[0,15,2.5,6,1,0,15],fighter:[10,20,3,8,1,0,10],troll:[0,15,2.5,6,2,0,10]},lb:"troll",
Ka:[[100,100]],Ja:[[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[531,313],[525,325],[479,305],[498,259],[359,202],[340,248],[294,229],[300,216],[411,170],[486,201]],[[269,287],[275,275],[321,295],[302,341],[441,398],[460,352],[506,371],[500,384],[389,430],[314,
399]],[[828,504],[826,846],[-76,645],[-33,148],[136,218],[118,264],[163,284],[145,329],[99,310],[41,449],[178,506],[198,460],[245,479],[226,525],[364,582],[383,536],[430,556],[410,601],[606,520],[560,501],[579,455],[625,475],[645,428]],[[-28,96],[-26,-246],[876,-45],[833,452],[664,382],[682,336],[637,316],[655,271],[701,290],[759,151],[622,94],[602,140],[555,121],[574,75],[436,18],[417,64],[370,44],[390,-1],[194,80],[240,99],[221,145],[175,125],[155,172]]],Af:[[[513,482],[468,464],[449,509],[402,
491],[408,478],[519,431],[533,436]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[269,287],[316,307],[302,341],[441,398],[454,365],[500,384],[389,430],[314,399]],[[531,313],[484,293],[498,259],[359,202],[345,235],[300,216],[411,170],[486,201]],[[-26,81],[-26,-246],[876,-45],[839,439],[669,369],[682,336],[659,327],[678,281],[701,
290],[759,151],[622,94],[612,119],[565,99],[574,75],[436,18],[426,42],[380,23],[390,-1],[194,80],[217,88],[198,135],[175,125],[162,159]],[[826,519],[826,846],[-76,645],[-40,160],[132,231],[118,264],[141,273],[122,319],[99,310],[41,449],[178,506],[188,481],[235,501],[226,525],[364,582],[374,558],[420,577],[410,601],[606,520],[583,512],[602,465],[625,475],[638,441]]],ya:[[-103,88],[923,515]],Ka:[[318,106],[482,495],[214,222],[586,379],[202,383],[598,218]],Na:1,za:{easy:[2E5,4E5,8E5],normal:[4E5,75E4,
15E5]},Pa:{troll:2,stunner:2,mote:1},Ri:"separate_by_type",wc:{troll:2},hb:{x:400,y:300}},"HIVE 3-7":{s:{stunner:[4,30,0,30,2,1,10],spear:[18,30,0,30,4,2,10],tank:[8,30,0,30,2,2,8],mote:[16,30,0,30,2,2,10],goo:[10,30,0,30,1,0,1],harpoon:[2,30,0,30,4,4,6],fighter:[12,30,0,30,2,1,6],disabler:[20,30,0,30,1,0,1],troll:[0,30,0,30,4,2,10]},lb:"troll",Ja:[[[373,606],[439,691],[-20,688],[-20,-44],[211,-23],[206,-2],[17,459]],[[427,-6],[361,-91],[820,-88],[820,644],[589,623],[594,602],[783,141]],[[309,78],
[200,340],[144,363],[285,22],[626,163],[569,187]],[[600,260],[656,237],[515,578],[175,436],[230,413],[492,521]],[[468,364],[448,318],[467,272],[422,254],[402,207],[513,253]],[[332,236],[352,282],[333,328],[378,346],[398,393],[287,347]]],ya:[[163,-99],[284,-112],[516,712],[638,699]],Ka:[[171,492],[105,319],[629,109],[695,282]],Na:1.5,za:{easy:[25E4,5E5,1E6],normal:[4E5,8E5,2E6]},Pa:{troll:4},vh:!0,hb:{x:400,y:300}},"BOSS 3":{s:{"third boss":[0,1,0,1,1,0,1],stunner:[0,6,0,6,0,0,15],spear:[0,10,0,10,
0,0,10],tank:[0,12,0,12,0,0,10],troll:[0,8,0,8,0,0,10],goo:[0,12,0,12,0,0,2],mote:[0,8,0,8,0,0,10],disabler:[0,10,0,10,0,0,2],harpoon:[0,15,0,15,0,0,10]},lb:"third boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,62],[740,539]],Na:1,hb:{x:400,y:500},tu:60,Pa:{"third boss":1}},
"HIVE 4-1":{s:{spear:[4,16,0,16,2,2,10],troll:[8,16,0,16,2,1,10],tank:[12,16,0,16,2,1,10],harpoon:[16,16,0,16,2,1,10],slingshot:[0,8,0,8,2,1,20]},Nb:{spear:[6,28,0,28,2,1,10],troll:[13,28,0,28,2,1,10],tank:[20,28,0,28,2,1,10],harpoon:[27,28,0,28,2,1,10],slingshot:[0,8,1,4,1,0,20]},lb:"slingshot",Ja:[[[-7,472],[61,471],[96,527],[61,581],[-7,581],[-41,526]],[[93,299],[59,354],[-9,354],[-44,300],[-9,244],[59,245]],[[329,74],[363,19],[431,19],[466,73],[431,129],[363,128]],[[621,466],[553,467],[518,411],
[553,357],[621,357],[655,412]],[[841,526],[807,581],[739,581],[704,527],[739,471],[807,472]],[[179,135],[247,134],[282,190],[247,244],[179,244],[145,189]],[[145,412],[179,357],[247,357],[282,411],[247,467],[179,466]],[[741,245],[809,244],[844,300],[809,354],[741,354],[707,299]],[[744,20],[812,19],[847,75],[812,129],[744,129],[710,74]],[[330,303],[364,248],[432,248],[467,302],[432,358],[364,357]],[[363,473],[431,472],[466,528],[431,582],[363,582],[329,527]],[[655,189],[621,244],[553,244],[518,190],
[553,134],[621,135]],[[90,74],[56,129],[-12,129],[-47,75],[-12,19],[56,20]]],Na:.5,za:{easy:[25E4,6E5,15E5],normal:[5E5,125E4,3E6]},Pa:{slingshot:2},wc:{slingshot:1},hb:{x:400,y:415},Ka:[[210,75],[590,75],[210,525],[590,525]],ya:[[-75,180],[-75,420],[215,650],[585,650],[215,-50],[585,-50],[875,180],[875,420]],vh:!0},"HIVE 4-2":{Nb:{stunner:[8,8,1.2,2.4,1,0,15],mote:[7,14,2,4,1,0,10],fighter:[0,25,4,9,1,0,8],slingshot:[0,18,3,6,2,0,15],goo:[1,15,0,15,1,0,1]},s:{stunner:[0,6,0,6,2,1,15],mote:[0,8,1.5,
3,1,0,10],fighter:[0,15,3,6,1,0,8],slingshot:[0,5,.75,3,1,0,15],goo:[1,15,0,15,1,0,1]},lb:"slingshot",Ja:[[[282,254],[311,254],[311,280],[338,280],[338,319],[312,319],[312,347],[282,347]],[[354,418],[354,389],[380,389],[380,362],[419,362],[419,388],[447,388],[447,418]],[[447,182],[447,212],[419,212],[419,238],[380,238],[380,211],[354,211],[354,182]],[[820,619],[605,619],[605,542],[642,542],[642,505],[820,505]],[[282,619],[282,542],[354,542],[354,505],[447,505],[446,542],[518,542],[518,619]],[[820,
418],[642,418],[642,346],[605,346],[605,253],[642,254],[642,182],[820,182]],[[-20,505],[158,505],[158,542],[195,542],[195,619],[-20,619]],[[-20,-19],[195,-19],[195,58],[158,58],[158,95],[-20,95]],[[820,95],[642,95],[642,58],[605,58],[605,-19],[820,-19]],[[518,347],[488,347],[488,319],[462,319],[462,280],[489,280],[489,254],[518,254]],[[-20,182],[158,182],[158,254],[195,253],[195,346],[158,346],[158,418],[-20,418]],[[518,-19],[518,58],[446,58],[447,95],[354,95],[354,58],[282,58],[282,-19]]],Af:[[[345,
447],[345,412],[376,412],[376,379],[423,379],[423,411],[456,411],[456,447]],[[-94,536],[120,536],[120,580],[164,580],[164,673],[-94,673]],[[547,356],[511,356],[511,323],[479,323],[479,276],[512,276],[512,245],[547,245]],[[456,153],[456,189],[423,189],[423,221],[376,221],[376,188],[345,188],[345,153]],[[253,245],[288,245],[288,276],[321,276],[321,323],[289,323],[289,356],[253,356]],[[-94,-73],[164,-73],[164,20],[120,20],[120,64],[-94,64]],[[894,673],[636,673],[636,580],[680,580],[680,536],[894,536]],
[[894,64],[680,64],[680,20],[636,20],[636,-73],[894,-73]],[[904,447],[680,447],[680,355],[636,355],[636,244],[680,245],[680,153],[904,153]],[[-104,153],[120,153],[120,245],[164,245],[164,356],[120,355],[120,447],[-104,447]],[[253,673],[253,580],[345,580],[344,536],[455,536],[455,580],[547,580],[547,673]],[[547,-73],[547,20],[455,20],[455,64],[344,64],[345,20],[253,20],[253,-73]]],ya:[[-100,450],[-100,150],[900,450],[900,150],[240,-100],[560,-100],[240,700],[560,700]],Ka:[[114,150],[114,451],[686,
150],[686,451],[561,41],[561,560],[239,41],[239,560]],qA:[[61,107],[61,493],[739,107],[739,493]],Na:1,za:{normal:[5E5,15E5,3E6]},Pa:{stunner:2,mote:2,slingshot:2,fighter:1},wc:{slingshot:2,fighter:1},vh:!0,hb:{x:400,y:300}},"HIVE 4-3":{Nb:{spear:[20,20,4,8,1,0,10],tank:[17,20,4,8,1,0,15],mote:[14,20,4,8,1,0,10],harpoon:[17,30,5,10,1,0,10],orbiter:[0,12,1.5,6,1,0,15]},s:{spear:[6,12,2.4,4.8,1,0,10],tank:[4,12,2.4,4.8,1,0,15],mote:[2,12,2.4,4.8,1,0,10],harpoon:[4,15,3,6,1,0,10],orbiter:[0,12,0,12,2,
1,15]},lb:"orbiter",Ka:[[159,301],[641,301],[208,94],[208,507],[592,94],[592,507]],Ja:[[[309,161],[492,161],[492,249],[456,249],[456,199],[343,199],[343,249],[309,249]],[[309,351],[343,351],[343,401],[456,401],[456,351],[492,351],[492,440],[309,440]],[[230,209],[230,392],[141,392],[141,356],[191,356],[191,243],[141,243],[141,209]],[[571,391],[571,208],[659,208],[659,244],[609,244],[609,357],[659,357],[659,391]],[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],
[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,119],[191,119],[191,158],[37,158],[37,442],[191,442],[191,480],[-40,480]],[[840,481],[609,481],[609,442],[763,442],[763,158],[609,158],[609,120],[840,120]]],Af:[[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,120],[141,119],[141,158],[37,158],[37,442],[141,442],[141,481],[-40,481]],[[840,480],[659,481],[659,
442],[763,442],[763,158],[659,158],[659,119],[840,119]],[[481,269],[447,269],[447,219],[354,219],[354,269],[318,269],[318,180],[481,180]],[[481,420],[318,420],[318,331],[354,331],[354,381],[447,381],[447,331],[481,331]],[[568,381],[568,218],[657,218],[657,254],[607,254],[607,347],[656,347],[657,381]],[[232,219],[232,382],[143,382],[143,346],[193,346],[193,253],[144,253],[143,219]]],ya:[[-100,-100],[-100,700],[900,700],[900,-100]],Na:1.3,za:{normal:[4E5,12E5,25E5]},Pa:{orbiter:2},wc:{orbiter:1},vh:!0,
hb:{x:400,y:300}},"HIVE 4-4":{Nb:{goo:[1,10,0,10,1,0,1],troll:[4,20,3,6,1,0,5],fighter:[2,30,4,9,1,0,5],slingshot:[1,20,3,6,1,0,5],orbiter:[0,12,2,6,1,0,10]},s:{goo:[2,20,0,20,1,0,1],troll:[4,15,0,15,2,1,5],fighter:[2,15,3,6,1,0,5],slingshot:[1,12,2.4,4.8,1,0,5],orbiter:[0,12,0,12,2,2,10]},lb:"orbiter",Ja:[[[51,190],[76,190],[76,215],[51,215]],[[126,190],[151,190],[151,215],[126,215]],[[351,190],[376,190],[376,215],[351,215]],[[426,190],[451,190],[451,215],[426,215]],[[676,215],[651,215],[651,190],
[676,190]],[[751,215],[726,215],[726,190],[751,190]],[[237,115],[262,115],[262,140],[237,140]],[[488,140],[313,140],[313,115],[488,115]],[[563,140],[538,140],[538,115],[563,115]],[[-27,-30],[830,-30],[830,54],[-27,54]],[[-27,546],[830,546],[830,630],[-27,630]],[[237,460],[262,460],[262,485],[237,485]],[[488,485],[313,485],[313,460],[488,460]],[[563,485],[538,485],[538,460],[563,460]],[[751,410],[726,410],[726,385],[751,385]],[[676,410],[651,410],[651,385],[676,385]],[[426,385],[451,385],[451,410],
[426,410]],[[351,385],[376,385],[376,410],[351,410]],[[126,385],[151,385],[151,410],[126,410]],[[51,385],[76,385],[76,410],[51,410]],[[51,460],[188,460],[188,485],[51,485]],[[749,140],[612,140],[612,115],[749,115]],[[749,485],[612,485],[612,460],[749,460]],[[51,115],[188,115],[188,140],[51,140]],[[201,385],[301,385],[301,410],[201,410]],[[599,216],[499,216],[499,190],[599,191]],[[599,410],[499,410],[499,385],[599,385]],[[201,191],[301,190],[301,216],[201,216]]],Af:[[[327,190],[364,190],[364,215],
[327,215]],[[439,190],[477,190],[477,215],[439,215]],[[156,115],[193,115],[193,140],[156,140]],[[532,140],[270,140],[270,115],[532,115]],[[645,140],[607,140],[607,115],[645,115]],[[-51,-30],[847,-30],[847,54],[-51,54]],[[156,460],[193,460],[193,485],[156,485]],[[532,485],[270,485],[270,460],[532,460]],[[645,485],[607,485],[607,460],[645,460]],[[439,385],[477,385],[477,410],[439,410]],[[327,385],[364,385],[364,410],[327,410]],[[102,385],[252,385],[252,410],[102,410]],[[699,216],[549,216],[549,190],
[699,191]],[[699,410],[549,410],[549,385],[699,385]],[[102,191],[252,190],[252,216],[102,216]],[[-51,546],[847,546],[847,630],[-51,630]]],ya:[[-100,350],[900,350],[-100,250],[900,250]],Ka:[[117,83],[117,518],[683,83],[683,518]],Na:1,za:{normal:[5E5,1E6,2E6]},Pa:{orbiter:2},wc:{orbiter:1},vh:!0,hb:{x:400,y:300}},"HIVE 4-6":{s:{tank:[2,12,0,12,2,1,15],mote:[3,10,0,10,2,1,15],harpoon:[5,14,0,14,2,1,10],fighter:[1,18,0,18,2,1,6],disabler:[0,16,0,16,1,0,1],deathray:[30,30,6,12,1,0,3]},Nb:{tank:[2,15,3,
6,1,0,15],mote:[4,12,2.5,4,1,0,15],harpoon:[6,18,3,6,1,0,10],fighter:[8,24,4,8,1,0,6],disabler:[0,16,0,16,1,0,1],deathray:[40,40,8,24,1,0,3]},lb:"deathray",Ja:[[[180,104],[244,104],[244,142],[180,142]],[[430,104],[494,104],[494,142],[430,142]],[[120,459],[120,497],[-50,497],[-50,459]],[[680,142],[680,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[620,50],[620,400],[556,400],[556,50],[370,50],[370,400],[306,400],[306,50],[120,50],[120,400],[-50,400]],[[370,496],[306,496],[306,458],[370,458]],
[[620,496],[556,496],[556,458],[620,458]],[[850,650],[-50,650],[-50,550],[180,550],[180,200],[244,200],[244,550],[430,550],[430,200],[494,200],[494,550],[680,550],[680,200],[850,200]]],Af:[[[187,104],[237,104],[237,142],[187,142]],[[613,497],[563,497],[563,459],[613,459]],[[437,104],[487,104],[487,142],[437,142]],[[313,459],[363,459],[363,497],[313,497]],[[850,650],[-50,650],[-50,550],[187,550],[187,200],[237,200],[237,550],[437,550],[437,200],[487,200],[487,550],[687,550],[687,200],[850,200]],[[113,
459],[113,497],[-50,497],[-50,459]],[[687,142],[687,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[613,50],[613,400],[563,400],[563,50],[363,50],[363,400],[313,400],[313,50],[113,50],[113,400],[-50,400]]],ya:[[-100,430],[900,80],[-100,520],[900,170]],Ka:[[150,430],[650,170],[210,75],[590,525]],Na:1,za:{easy:[3E5,1E6,25E5],normal:[5E5,1E6,25E5]},Pa:{deathray:1,disabler:1},vh:!0,hb:{x:400,y:300}},"HIVE 4-5":{Nb:{stunner:[6,8,2,3,1,0,40],spear:[13,10,2,4,1,0,20],troll:[9,20,4,8,1,0,10],slingshot:[11,
20,4,8,1,0,10],orbiter:[15,15,3,6,1,0,10],deathray:[30,30,5,10,1,1,3]},s:{stunner:[2,8,0,8,2,2,40],spear:[1,10,2,4,1,1,20],troll:[5,15,3,6,1,1,10],slingshot:[3,15,3,6,1,1,10],orbiter:[1,8,1.6,3.2,1,1,10],deathray:[30,30,6,12,1,1,3]},lb:"deathray",Ka:[[82,69],[82,532],[718,69],[718,532]],Ja:[[[326,261],[326,339],[284,362],[284,238]],[[516,238],[516,362],[474,339],[474,261]],[[521,180],[484,216],[316,216],[279,180]],[[279,420],[316,384],[484,384],[521,420]],[[234,209],[234,391],[164,427],[164,173]],
[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Af:[[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],
[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],ya:[[-100,-100],[900,-100],[900,700],[-100,700]],Na:.8,za:{normal:[6E5,12E5,25E5]},Pa:{deathray:1},vh:!0,hb:{x:400,y:300}},"HIVE 4-7":{Nb:{stunner:[1,30,6,12,2,0,6],spear:[5,30,6,12,2,0,6],tank:[3,30,5,10,1,0,5],mote:[10,30,5,10,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[18,30,8,16,1,0,6],fighter:[12,30,8,16,1,0,4],disabler:[14,15,3,6,1,0,1],troll:[16,30,6,12,1,0,4],slingshot:[28,30,8,16,1,0,
4],orbiter:[30,30,6,12,1,0,5],deathray:[2,35,9,18,1,0,3]},s:{stunner:[1,20,3,8,4,0,6],spear:[3,20,3,8,4,0,6],tank:[4,25,4,9,3,0,5],mote:[5,20,3,12,3,0,6],goo:[8,20,0,20,1,0,1],harpoon:[10,25,5,10,1,0,6],fighter:[6,25,5,10,1,0,4],disabler:[9,15,0,15,1,0,1],troll:[8,20,3,12,2,0,4],slingshot:[2,25,5,10,1,0,4],orbiter:[30,20,3,8,2,0,5],deathray:[1,30,6,12,1,0,3]},lb:"deathray",Ja:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,
133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[277,208],[335,208],[335,243],[277,243]],[[277,358],[335,358],[335,393],[277,393]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[523,243],[466,243],[466,208],[523,208]],[[523,393],[466,393],[466,358],[523,358]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],
[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[370,433],[430,433],[430,468],[370,468]],[[430,168],[370,168],[370,133],[430,133]],[[185,283],[245,283],[245,318],[185,316]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[615,316],[555,318],[555,283],[615,283]],[[430,318],[370,318],[370,283],[430,283]]],Af:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],
[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[-34,283],[60,
283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[430,243],[369,243],[369,208],[430,208]],[[466,283],[527,283],[527,318],[466,318]],[[334,318],[273,318],[273,283],[334,283]],[[430,392],[369,392],[369,357],[430,357]]],ya:[[869,37],[869,563],[-69,37],[-69,563],[-69,112],[-69,489],[869,112],[869,489],[869,190],[869,411],[-69,190],[-69,411],[-69,336],[-69,264],[869,336],[869,264]],Ka:[[314,37],[486,563],[314,563],[486,37]],Na:1,za:{easy:[3E5,6E5,125E4],normal:[75E4,125E4,25E5]},Pa:{orbiter:2},
vh:!0,hb:{x:400,y:370},Tz:{x:400,y:300}},"BOSS 4":{s:{"fourth boss":[0,1,0,0,1,0,1],stunner:[0,0,0,0,0,0,15],spear:[0,0,0,0,0,0,15],tank:[0,0,0,0,0,0,10],mote:[0,0,0,0,0,0,15],goo:[0,0,0,0,0,0,2],disabler:[0,0,0,0,0,0,1],troll:[0,0,0,0,0,0,12],orbiter:[0,0,0,0,0,0,10],fighter:[0,0,0,0,0,0,8],harpoon:[0,0,0,0,0,0,12],slingshot:[0,0,0,0,0,0,12],deathray:[0,0,0,0,0,0,4]},lb:"fourth boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,
625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,62],[740,539]],Na:1,hb:{x:400,y:500},tu:90,Pa:{"fourth boss":1}}};
for(s in N)N[s].V=s,N[s].za&&"undefined"===typeof N[s].za.easy&&(N[s].za.easy=N[s].za.normal.map(function(a){return a/2})),"undefined"===typeof N[s].kl&&("BOSS"==s.slice(0,4)?N[s].kl=100*parseInt(s.slice(5,6)):"HIVE"==s.slice(0,4)&&(N[s].kl=100*parseInt(s.slice(5,6)))),"undefined"===typeof N.Or&&(N[s].Or=function(a){a=this.Ja[a];for(var b=[],c=0;c<a.length;c++)b.push(new b2Vec2(a[c][0]/E,a[c][1]/E));return b});function sg(){}l=sg.prototype;l.na=function(){};l.X=function(){};l.Ea=function(){};l.Oa=function(){};l.rg=function(){};l.Wg=function(){};l.De=function(){};l.Wp=function(){};function tg(){}tg.prototype=new sg;tg.prototype.constructor=tg;tg.prototype.Um=function(a){var b=new lg(a,this);rg(b);a=new Worker("js/lib/worker.js");a.postMessage({a:b.uh,b:b.Xe,c:E,d:O,e:P});this.Yr=0;a.onmessage=function(a){return function(d){d.data.z?a.Yr=d.data.z:d.data.a&&(a.Lb=new Od(b,d.data.a,d.data.b,d.data.c,d.data.d,d.data.e,d.data.f),a.Yr=1,a.Xr())}}(this);return b};tg.prototype.Xr=function(){};ug.prototype=new sg;l=ug.prototype;l.constructor=ug;
function ug(){this.Yb=!1;this.buttons=[];var a=this;this.buttons.push(new Z("BACK",16,O/2,P/2+260,60,65,"white",z.impulse_blue,function(){vg(a.U,"fade_out",function(){T=new Mf})},"back"));this.Wu=new Image;this.Wu.src="impulse_logo.png";this.buttons.push(new Z("KEVIN MACLEOD",16,O/2-250,P/2+50,150,70,"white",z.impulse_blue,function(){window.open("http://incompetech.com")},"note"));this.buttons.push(new Z("MATT MCFARLAND",16,O/2,P/2+50,150,70,"white",z.impulse_blue,function(){window.open("http://www.mattmcfarland.com")},
"note"));this.buttons.push(new Z("SUBTLE PATTERNS",16,O/2+250,P/2+50,150,70,"white",z.impulse_blue,function(){window.open("http://www.subtlepatterns.com")},"texture"));this.buttons.push(new Z("JAY SALVAT",16,O/2-150,P/2+180,150,70,"white",z.impulse_blue,function(){window.open("http://buzz.jaysalvat.com/")},"audio"));this.buttons.push(new Z("ERIN CATTO",16,O/2+150,P/2+180,150,70,"white",z.impulse_blue,function(){window.open("http://box2d.org/")},"physics_engine"));this.buttons[1].rf="MAIN MENU MUSIC";
this.buttons[2].rf="ALL OTHER MUSIC";this.buttons[3].rf="TEXTURES";this.buttons[4].rf="AUDIO API";this.buttons[5].rf="PHYSICS ENGINE";this.U=new wg({fade_in:250,fade_out:250});vg(this.U,"fade_in")}l.na=function(a){this.U.na(a)};
l.X=function(a){this.Yb||(bg_canvas.setAttribute("style",""),Pf("Hive 0",.3),this.Yb=!0);a.save();"fade_in"==this.U.bc?a.globalAlpha*=xg(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-xg(this.U));mb(a,O/2,150,"CREDITS");a.font="20px Muli";a.fillStyle="white";a.textAlign="center";a.shadowColor=a.fillStyle;a.globalAlpha*=1;a.globalAlpha/=1;for(var b=0;b<this.buttons.length;b++)this.buttons[b].X(a);a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};
l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};function wg(a){this.Cx=a;this.bc=null;this.jh=0}function vg(a,b,c){null==a.bc&&(a.bc=b,a.jh=a.Cx[b],a.Xx=c)}wg.prototype.na=function(a){null!=this.bc&&0<this.jh&&(this.jh-=a);null!=this.bc&&0>=this.jh&&(this.Xx&&this.Xx(),this.bc=null)};function xg(a){return a.bc?Math.min(1-a.jh/a.Cx[a.bc],1):0};yg.prototype=new sg;l=yg.prototype;l.constructor=yg;
function yg(a,b,c,d,f){this.i=b;this.V=this.i.V;this.buttons=[];this.n=c;this.Lb=d;this.Yb=!1;this.sa=f.sa;this.color=z["world "+this.n+" bright"];this.tl=new Z("RETRY",16,O-70,P-40,60,65,this.color,"white",function(a){return function(){var b=new ec(a.n,!1);vg(a.U,"fade_out",function(){T=new Rf(a.n,a.i,a.Lb,b,!1,!1)})}}(this),"start");this.buttons.push(this.tl);this.tl.keyCode=ua.Lq;this.tl.rf="right"==D.Fb?"R KEY":"SHIFT KEY";this.buttons.push(new Z("MENU",16,70,P/2+260,60,65,this.color,"white",
function(a){return function(){a.n?vg(a.U,"fade_out",function(){T=new ag(a.n,!0);"normal"==J?Pf("Title Alt"+a.n,.15):Pf("Hive 0",.3)}):vg(a.U,"fade_out",function(){T=new Mf;Pf("Hive 0",.3)})}}(this),"back"));this.H=a;this.i.pa?(this.Va=f.Va?f.Va:0,this.ab=f.ab?f.ab:0):(this.Qc=f.Qc,this.ab=f.ab?f.ab:0,this.Va=f.Va?f.Va:0);Ne+=this.H.je;$f();fg(J);this.Bn=["world "+this.n+" bright","silver","gold"];dc();this.U=new wg({fade_in:500,fade_out:250});vg(this.U,"fade_in")}l.na=function(a){this.U.na(a)};
l.X=function(a,b){if(!this.Yb){this.i.v=null;bg_canvas.setAttribute("style","display:none");b.translate(Y,0);this.i.Ne(b);var c=Ve.getContext("2d");Ab(c,0,O,P,"Hive "+this.n);this.Yb=!0;b.translate(-Y,0);this.Yb=!0}a.save();a.fillStyle=z["world "+this.n+" dark"];a.fillRect(0,0,O,P);a.globalAlpha*=jg(this.n);a.drawImage(Ve,0,0,O,P,0,0,O,P);a.restore();a.save();"fade_in"==this.U.bc?a.globalAlpha*=xg(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-xg(this.U));if(this.i.pa)a.globalAlpha/=3,Ka(a,this.n,
O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==J&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=this.color,a.textAlign="center",a.font="32px Muli",a.fillText(oa[this.n],O/2,240),a.fill(),a.font="48px Muli",this.i.th?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300)),d=420,a.fillStyle=this.color,a.font="20px Muli",a.fillText("GAME TIME ",O/2,380),a.font="42px Muli",
a.fillText(this.H.Hj,O/2,d),c=440,this.Va||(a.beginPath(),a.moveTo(350,c),a.lineTo(450,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke()),c=445,d=500,f=470,this.Va?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2,f),a.font="28px Muli",1E3>N[this.V].Ia[J].Va?(a.font="28px Muli",a.fillText(Xb(N[this.V].Ia[J].Va),O/2,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2,d)),
a.restore());else{a.globalAlpha/=3;Ka(a,this.n,O/2,230,80,!0);a.globalAlpha*=3;a.save();a.globalAlpha*=.5;a.fillStyle="white";a.font="20px Muli";"normal"==J&&a.fillText("HARD MODE",O/2,180);a.restore();a.beginPath();a.fillStyle=this.color;a.font="42px Muli";a.textAlign="center";a.fillText(this.V,O/2,240);a.fill();a.font="36px Muli";this.sa?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300));var c=380,d=420;a.fillStyle=this.color;a.font="20px Muli";
a.fillText("GAME TIME ",O/2+100,c);a.font="42px Muli";a.fillText(this.H.Hj,O/2+100,d);a.fillStyle=0<this.ab?z[this.Bn[this.ab-1]]:this.color;a.font="20px Muli";a.fillText("SCORE",O/2-100,c);a.font="42px Muli";a.fillText(this.H.Ye,O/2-100,d);c=440;this.Qc||(a.beginPath(),a.moveTo(250,c),a.lineTo(350,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());this.Va||(a.beginPath(),a.moveTo(450,c),a.lineTo(550,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());var c=445,d=500,f=470;this.Qc?(a.fillStyle=
this.color,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,f),a.font="28px Muli",a.fillText(N[this.V].Ia[J].Qc,O/2-100,d),a.restore());this.Va?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,f),a.font="28px Muli",1E3>N[this.V].Ia[J].Va?(a.font="28px Muli",
a.fillText(Xb(N[this.V].Ia[J].Va),O/2+100,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,d)),a.restore())}for(c=0;c<this.buttons.length;c++)this.buttons[c].X(a);a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.De=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].De(a)};Rf.prototype=new sg;l=Rf.prototype;l.constructor=Rf;function Rf(a,b,c,d,f,g){null!=a&&void 0!=a&&this.ia(a,b,c,g,d,f)}
l.ia=function(a,b,c,d,f,g){this.H={Ye:0,of:1,qh:1,Ze:0,je:0,mp:0,Hj:null,Yu:!1};this.L=f;if(this.hc=g)this.L.Wf=Math.floor(this.L.Wf),this.L.Id=Math.floor(this.L.Id);this.pause=!0;this.ready=!1;this.buttons=[];this.Om=null;this.ec=[];this.gA=1E3;this.aw=30;this.Na=1;this.Yb=!1;this.vf=1<=gc();this.du=!1;this.ab=0;this.n=a;this.Bn=["world "+this.n+" lite","silver","gold"];this.Xj=0;this.ND=3E3;a=new b2Vec2(0,0);this.qa=new b2World(a,!1);b&&(this.i=b,this.i.v=this,this.i.reset(),this.V=this.i.V,this.pa=
"BOSS"==this.V.slice(0,4),zg(this),"BOSS 4"==this.V?cc(ac,ja["Final Tessellation"]):"BOSS"==this.V.slice(0,4)?cc(ac,ja.Tessellation):0!=this.n&&cc(ac,ja["Hive "+this.n]));void 0===this.L.kh[this.V]&&(this.L.kh[this.V]=0);this.Lb=c;this.color=this.pa?z["boss "+this.n]:z["world "+this.n+" lite"];this.ri=z["world "+this.n+" dark"];this.Fc=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.To=6E3;this.pi=0;this.Jv=this.Qv=!1;Ag(this);c=new b2ContactListener;c.Ws=this.Vy;c.nt=this.Ly;
c.at=this.EC;this.qa.rx(c);this.pause=!1;this.UA=this.ready=!0;this.On=1;this.If={x:O/2,y:P/2};this.ew=1500;this.Ky=750;this.lk=0;this.Nd="none";this.Ss={x:O,y:P};this.uq={x:O,y:P};this.Ts=.1;this.vq=1;this.zoom=.1;this.Jl=!0;(this.tj=d)?Bg(this,1,this.ew):Bg(this,1,this.Ky);this.Mk="in";this.yj=this.sa=!1;this.vr=this.ry=100;this.gv=!1;this.Ev=3E4;this.Qj=0;this.ol=null;this.Zv=5E3;this.bk=0;this.Op=document.createElement("canvas");this.Op.width=120;this.Op.height=160;this.Op.getContext("2d");!b||
this instanceof nc||Cg(this);for(b=0;b<wa.length;b++)wa[b].color=this.color,wa[b].Za=this.J;this.fh=0==this.n||Oe.length<Dg.prototype.ls.length;this.pa&&1==this.n&&"easy"==J&&3>N[this.V].Ia[J].ab&&(this.fh=!0);this.fh&&(this.sw=new Dg(this),this.Zf={},this.Gn={},this.HA=500);!this.pa&&this.i&&Jc(this);0==this.n&&this.L&&(this.L.Id=99)};
l.reset=function(){this.H={Ye:0,of:1,qh:1,Ze:0,je:0,mp:0,Hj:null};this.Ev=1E4;this.Qj=0;this.ol=null;this.Jv=this.tj=this.Qv=!1;var a=new b2Vec2(0,0);this.qa=new b2World(a,!1);Ag(this);a=new b2ContactListener;a.Ws=this.Vy;a.nt=this.Ly;this.qa.rx(a);this.Zv=1E4;this.ab=this.bk=0;this.sa=this.yj=!1;this.i.reset();!this.i||this instanceof nc||Cg(this);Ee.translate(Y,0);this.i.Ne(Ee);Ee.translate(-Y,0);this.Xj=0;this.du=!1;this.pa&&this.fh&&(this.sw=new Dg(this),this.Zf={},this.Gn={},this.HA=500);!this.pa&&
this.i&&Jc(this)};function Cg(a){if(0!=a.n)for(var b in N[a.V].s)G[b].vg+=1,$f(),G[b].wf||1!=G[b].vg||(Tf("enemy_"+b,5E3,a.J,a.n),a.ol=b)}function zg(a){if(a.i.Si)a.q=new jc(a.qa,a.i.Si.x/E,a.i.Si.y/E,a);else{var b=Qb({x:-10,y:-10},a.Na,E);a.q=new jc(a.qa,b.x,b.y,a)}}function Bg(a,b,c){var d={x:O/2,y:P/2};a.Nd="in";a.Us=c;a.lk=c;a.uq=d;a.vq=b;a.Ss={x:a.If.x,y:a.If.y};a.Ts=a.zoom;a.Jl=!1}function Eg(a,b,c,d){a.Nd="out";a.Us=d;a.lk=d;a.uq=b;a.vq=c;a.Ss={x:a.If.x,y:a.If.y};a.Ts=a.zoom;a.Jl=!1}
l.na=function(a){if(this.ready){null==this.Om?this.Om=0:100==this.Om&&(this.Om=0);this.Om+=1;for(var b in this.Gn)this.Gn[b]-=a,0>this.Gn[b]&&(this.Zf[b]="timeout");if(!this.pause){this.fh&&(this.sw.na(a),this.yj&&Q(this.i.Ec,this.q.body.g.position)<this.i.Qk&&oc(this,"moved_to_gateway"));document.webkitHidden&&(this.pause=!0,He=new Fg(this.i,this.n,this.H,this,this.Lb));this.vr-=a;0<this.Qj?this.Qj-=a:this.ol&&(this.$v=this.ol=null);0<this.bk?this.bk-=a:this.$v&&(this.$v=this.ol=null);this.Ew?this.If=
{x:this.q.body.g.position.x*E,y:this.q.body.g.position.y*E}:"none"!=this.Nd&&(0>=this.lk?(this.Nd="none",this.zoom=this.vq,this.If=this.uq,this.Jl=!1):(b=this.lk/this.Us,this.zoom=1/(1/this.Ts*b+1/this.vq*(1-b)),this.If.x=this.Ss.x*b+this.uq.x*(1-b),this.If.y=this.Ss.y*b+this.uq.y*(1-b),this.lk-=a));"none"==this.Nd&&1==this.zoom&&this.pa&&!this.du&&(this.pi=this.To,4==this.n&&(this.pi/=2,this.To/=2),this.du=!0);0<this.pi&&(this.pi-=a);if(this.q.O&&0<this.q.tb&&!this.Qv){this.Qv=!0;b=this.i;b.qn=!0;
b.xs=b.Uv;for(var c=0;c<b.s.length;c++)b.s[c].Mc("fade");this.H.Ye=0;this.H.of=1;this.ab=0;this.hc&&0<this.n&&(this.L.H[this.i.V].wm+=1,hg(this.L))}if(this.q.O&&0>this.q.tb||this.Cu)this.Cu||this.Jv&&this.hc?"none"==this.Nd&&1==this.zoom?(Eg(this,{x:O/2,y:P/2},.1,this.Ky),this.Mk="out"):"none"==this.Nd&&(this.ready=!1,this.Lr()):(this.reset(),zg(this));else if(this.i.Ig&&this.i.Ig.O&&0>this.i.Ig.tb&&"fade"!=this.i.Ig.O&&!this.q.O)"none"==this.Nd&&1==this.zoom?(Bg(this,10,this.ew),this.Mk="out",Gg(this),
this.sa=!0,this.i.th=!0):"none"==this.Nd&&(this.ready=!1,this.Lr());else if(this.sa)"none"==this.Nd&&1==this.zoom?(Eg(this,{x:this.q.body.g.position.x*E,y:this.q.body.g.position.y*E},10,this.ew),this.Mk="out"):"none"==this.Nd&&(this.ready=!1,this.Lr(!0));else{this.pa||(b=Math.min(this.H.Ye/this.i.za[0],1),c=this.ND,this.q.O&&(c/=3),this.Xj>b?this.Xj=Math.max(this.Xj-a/c,b):this.Xj<b&&(this.Xj=Math.min(this.Xj+a/c,b)));this.UA&&1>this.On?this.On=Math.min(1,this.On+a/1E3):!this.UA&&0<this.On&&(this.On=
Math.max(0,this.On-a/1E3));this.q.na(a);this.H.of=this.H.qh+Math.floor(this.H.Ze/10);this.H.Hj=Fb(this.H.Ze);this.H.mp+=a;0<this.n&&(this.L.ci-=a);this.L.kh[this.i.V]+=a;this.H.Ze=Math.floor(this.H.mp/1E3);this.H.kh+=a;this.i.na(a);for(b=this.ec.length-1;0<=b;b--)this.ec[b].duration-=a,0>=this.ec[b].duration&&this.ec.splice(b,1);this.qa.bj(1/60,1,10);this.Uc(a)}}}};l.Uc=function(){};
function Sf(a,b){if("in"==a.Mk){var c=Vb(.1,.5,a.lk/a.Us);b.globalAlpha=Math.min(1-c,1)}else"out"==a.Mk&&(c=Vb(.1,.5,a.lk/a.Us),b.globalAlpha=Math.max(c,0))}
l.X=function(a,b){if(this.ready&&!this.pause){this.ee(a,b);a.save();a.translate(Y,0);"none"!=this.Nd&&(a.rect(0,0,O,P),a.clip());a.fillStyle=this.ri;a.scale(this.zoom,this.zoom);a.translate((O/2-this.If.x*this.zoom)/this.zoom,(P/2-this.If.y*this.zoom)/this.zoom);a.beginPath();"none"!=this.Nd&&(a.rect(2,2,O-4,P-4),a.clip());Sf(this,a);"none"!=this.Nd&&a.drawImage(bg_canvas,Y,0,O,P,0,0,O,P);this.i.bh(a,E);this.q.bh(a);this.i.X(a,E);1!=this.zoom&&this.sa?(a.save(),a.translate(this.q.body.g.position.x*
E,this.q.body.g.position.y*E),a.scale(1/this.zoom,1/this.zoom),a.translate(-this.q.body.g.position.x*E,-this.q.body.g.position.y*E),this.q.X(a),a.restore()):this.q.X(a);if(this.gv){var c=this.i;c.xj=c.Qy;c.wj=!0;this.gv=!1}a.beginPath();"none"==this.Nd&&(a.rect(2,2,O-4,P-4),a.clip());0<this.pi&&this.pi<this.To&&this.hc&&1==this.zoom&&4>=this.n&&this.tj&&(a.globalAlpha=Math.min(1,(1-2*Math.abs(this.pi/this.To-.5))/.5),a.beginPath(),a.fillStyle=z["boss "+this.n],a.textAlign="center",a.font="42px Muli",
a.fillText(this.L.eu,O/2,P/2-150),a.fill());if(!this.pa)for(c=0;c<this.ec.length;c++){a.save();a.beginPath();a.font=this.ec[c].size+"px Muli";var d=this.ec[c].duration/this.ec[c].rD;a.globalAlpha*=d;a.fillStyle=this.ec[c].color;this.ec[c].QC?(a.textAlign="left",I(a,this.ec[c].x*E+20,this.ec[c].y*E-(1-d)*this.aw-7,0,.8*this.ec[c].size,.8*this.ec[c].size,"spark"),a.fillText(this.ec[c].text,this.ec[c].x*E-25,this.ec[c].y*E-(1-d)*this.aw)):(a.textAlign="center",a.fillText(this.ec[c].text,this.ec[c].x*
E,this.ec[c].y*E-(1-d)*this.aw));a.restore()}a.restore();a.clearRect(0,0,Y,Cc);a.clearRect(Bc-Y,0,Y,Cc);1==this.zoom&&"none"==this.Nd?0>this.vr&&(Hg(this,b),this.vr=this.ry):Hg(this,a);if(0==!this.n||N[this.V].dq)null!=this.ol&&(a.save(),Sf(this,a),500>this.Qj?a.globalAlpha*=Math.max(0,this.Qj/500):this.Qj>this.Ev-500&&(a.globalAlpha*=Math.max(0,(this.Ev-this.Qj)/500)),a.drawImage(this.Op,0,0,120,160,Y/2-60,Cc/2,120,160),a.restore()),null!=this.$v&&(a.save(),Sf(this,a),500>this.bk?a.globalAlpha*=
Math.max(0,this.bk/500):this.bk>this.Zv-500&&(a.globalAlpha*=Math.max(0,(this.Zv-this.bk)/500)),a.drawImage(this.Op,0,0,120,160,Y/2-60,Cc/2-30,120,160),a.restore());if(0!=this.n||N[this.V].dq||N[this.V].nA){a.save();Sf(this,a);if(!this.pa){var c=this.Xj,d=this.color,f=Bc-Y/2,g=Cc/2,h=3*Cc/4-50;a.save();a.shadowBlur=0;a.beginPath();a.rect(f-20,g-.5*h,40,h);a.fillStyle="black";a.fill();a.restore();a.save();a.beginPath();a.rect(f-20,g-.5*h,40,h);a.strokeStyle=d;a.fillStyle=d;a.lineWidth=4;a.save();a.globalAlpha/=
10;a.fill();a.restore();a.stroke();a.beginPath();a.rect(f-20,g+.5*h-c*h,40,h*c);a.fillStyle=d;a.fill();a.restore();a.textAlign="center";a.font="72px Muli";a.fillStyle=this.Lu(this.H.of);(0!=this.n||N[this.V].dq)&&a.fillText("x"+this.H.of,Bc-Y/2,Cc/2)}a.restore()}a.save();Sf(this,a);for(c=0;c<this.buttons.length;c++)this.buttons[c].X(a);a.restore();a.save();a.translate(Y,0);Sf(this,a);this.fh&&this.sw.X(a);a.restore();this.Jl||(1==this.zoom&&"none"==this.Nd?bg_canvas.setAttribute("style",""):bg_canvas.setAttribute("style",
"display: none"),this.Jl=!0)}};l.ee=function(){};
function Hg(a,b){b.save();b.globalAlpha=1;b.beginPath();b.fillStyle="black";b.clearRect(0,0,Y,Cc);b.clearRect(Bc-Y,0,Y,Cc);Sf(a,b);b.fillStyle=a.color;b.textAlign="center";a instanceof nc||0!=!a.n||"normal"!=J||a.pa||(b.font="20px Muli",b.save(),b.globalAlpha*=1,b.fillText("HARD MODE",Y/2,170),b.restore());0==a.n||a.pa?0==a.n&&(b.font="40px Muli",b.fillText("TUTORIAL",Y/2,70)):(b.font="64px Muli",type=a.V.split(" ")[0],"HOW"!=type?b.fillText(type,Y/2,70):(b.font="40px Muli",b.fillText("HOW TO",Y/
2,70)),b.font="80px Muli","BOSS"==type?b.fillText(a.n,Y/2,140):"HOW"==type?(b.font="60px Muli",b.fillText("PLAY",Y/2,130)):b.fillText(a.V.slice(5,a.V.length),Y/2,140));var c=Cc-15;a.pa||(b.fillStyle=a.J,b.font="18px Muli",b.save(),b.globalAlpha*=.4,"right"==D.Fb?b.fillText("Q FOR MENU",Y/2,c):b.fillText("ENTER FOR MENU",Y/2,c),b.restore());c=Cc/2-20;if(0!=a.n||N[a.V].dq)if("normal"==J&&0<a.n&&a.hc&&D.ci){b.fillStyle="white";b.font="16px Muli";b.fillText("SPEED RUN",Y/2,c-30);b.fillText("TIME LEFT",
Y/2,c-10);b.font="32px Muli";var d=Fb(Math.max(0,Math.ceil(a.L.ci/1E3)));b.fillText(d,Y/2,c+22)}else a.pa||(b.fillStyle=a.color,b.font="16px Muli",b.fillText("LEVEL TIME",Y/2,c-10),b.font="32px Muli",b.fillText(a.H.Hj,Y/2,c+22));a.pa||0!=!a.n&&!N[a.V].dq&&!N[a.V].nA||(b.font="21px Muli",b.fillText("SCORE",Bc-Y/2,Cc-10),b.font="40px Muli",b.fillText(a.H.Ye,Bc-Y/2,Cc-35),3>a.ab&&(a.yj?(b.fillStyle=a.J,b.font="21px Muli",b.fillText("GATEWAY",Bc-Y/2,45),b.font="42px Muli",b.fillText("OPEN",Bc-Y/2,85)):
(b.fillStyle=a.Fc,b.font="21px Muli",b.fillText("GOAL",Bc-Y/2,45),b.font="42px Muli",b.fillText(a.i.za[0],Bc-Y/2,85))));b.restore()}l.Lu=function(){return"white"};function Ig(a,b){return{x:(b.x-(O/2-a.If.x*a.zoom))/a.zoom,y:(b.y-(P/2-a.If.y*a.zoom))/a.zoom}}l.Ea=function(a,b){if(this.ready){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b);this.pause||(this.q.Bv=Ig(this,{x:a-Y,y:b}))}};
l.rg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b);this.pause||(c=this.q,c.dv=(new Date).getTime(),c.Qp=!0)};l.Wg=function(){this.pause||(this.q.Qp=!1)};function Jg(a){a.pause=!a.pause;a.pause?(kc(a.q,ua.$i),a.q.Qp=!1,He=new Fg(a.i,a.n,a.H,a,a.Lb)):He=null}
l.De=function(a){if(this.ready){if(90==a)if(this.sa=!0,this.pa?this.i.th=!0:this.H.Ye=this.i.za[2],Gg(this),this.hc&&0<this.n&&!this.pa){this.L.Bk=Kg(this.i,this.n);for(var b in this.H)this.L.H[this.i.V][b]=this.H[b];hg(this.L);Tf("saved_alert",1500,"white",this.n)}else this.hc&&0<this.n&&this.pa&&hg({});if(a==ua.$i||a==ua.qk)this.pa&&this.sa||this.Jv||Jg(this);else if(a==ua.Dq&&this.yj&&Q(this.i.Ec,this.q.body.g.position)<this.i.Qk)if(this.sa=!0,Gg(this),this.pa&&(this.i.th=!0),this.hc&&0<this.n&&
!this.pa){this.L.Bk=Kg(this.i,this.n);for(b in this.H)this.L.H[this.i.V][b]=this.H[b];hg(this.L);Tf("saved_alert",1E3,"white",this.n)}else this.hc&&0<this.n&&this.pa&&hg({});else 69==a?(this.Ew=!this.Ew)?(this.zoom=1.7,this.Nd="player"):(this.zoom=1,this.If={x:O/2,y:P/2},this.Mk=this.Nd="none",this.Jl=!1):kc(this.q,a)}};
l.Wp=function(a){if(this.ready){var b=this.q;switch(a){case ua.Jq:b.left=!1;break;case ua.Mq:b.right=!1;break;case ua.zq:b.bp=!1;break;case ua.Oq:b.qq=!1;break;case ua.ax:b.Bh=null;break;case ua.cx:b.Eh=null;break;case ua.bx:b.Ch=null;break;case ua.$w:b.Ah=null;break;case ua.$i:case ua.qk:b.qq=!1,b.bp=!1,b.left=!1,b.right=!1,b.Bh=null,b.Ch=null,b.Eh=null,b.Ah=null}}};
function Ag(a){var b,c;b=[{x:O/E/2,y:2},{x:O/E/2,y:2},{x:2,y:P/E/2},{x:2,y:P/E/2}];c=[{x:O/E/2,y:-2},{x:O/E/2,y:P/E+2},{x:-2,y:P/E/2},{x:O/E+2,y:P/E/2}];for(var d=0;4>d;d++){var f=new b2FixtureDef;f.filter.lf=1;f.filter.yf=2;var g=new b2BodyDef;g.type=b2Body.jf;f.shape=new b2PolygonShape;f.shape.ox(b[d].x,b[d].y);g.position.Q(c[d].x,c[d].y);a.qa.Rn(g).yq(f)}}l.Vy=function(a){var b=a.nc.Ef();a=a.oc.Ef();b&&a&&(b.owner.Ke(a.owner,b.body,a.body),a.owner.Ke(b.owner,a.body,b.body))};
l.EC=function(a){var b=a.nc.Ef();a=a.oc.Ef();b&&a&&"tank"==b.owner.type&&"tank"==a.owner.type&&(b.owner.Ke(a.owner,b.body,a.body),a.owner.Ke(b.owner,a.body,b.body))};
l.Ly=function(a){var b=a.nc.Ef(),c=a.oc.Ef();if(null!=b&&null!=c){var d=b.self,f=c.self;if(null!=d&&null!=f){var b=[d,f],g=[f,d],h;for(h in b)if(d=b[h],"harpoonhead"==d.type&&"inactive"!=d.wi.mb){f=g[h];if(f!=d.wi&&"harpoonhead"!=f.type&&!f.wf&&!c.owner.wf){if(("boss four spawner"==f.type||"boss four attacker"==f.type)&&!f.qb)continue;Q(d.body.g.position,f.body.g.position)<d.K+f.K&&(f.hz&&f.open(3E3),d=d.wi,"engaged"!=d.mb&&!d.O&&0>=d.r[1]&&f.id!==d.Ru&&($b("hhit"),d.mb="engaged",d.Pc=f,d.Pc==d.q&&
Lc(d.v)))}a.tB()}}}};function Hc(a,b,c,d,f,g){a.ec.push({text:b,color:c,x:d,y:f,duration:g?g:a.gA,rD:g?g:a.gA,size:20,QC:void 0})}function Jc(a){a.H.Ye>=a.i.za[0]&&0==a.ab&&(a.ab=1,a.yj=!0,a.gv=!0,a instanceof nc&&a.wj(),a.fh&&oc(a,"gateway_opened"))}function Ic(a){a.H.qh+=1;a.H.of=a.H.qh+Math.floor(a.H.Ze/10)}function Lc(a){a.q.hk||(a.fh&&!a.i.pa&&oc(a,"multiplier_reset"),a.L.Zy=!0,a.H.qh=1,a.H.of=a.H.qh+Math.floor(a.H.Ze/10))}
l.Lr=function(){T=this.hc?new Lg(this.n,this.i,this.sa||this.i.th,this.H,this.Lb,this.L):new Mg(this.L,this.hc,{H:this.H,i:this.i,n:this.n,Lb:this.Lb,sa:this.sa})};
function Gg(a){if(a.i.pa){var b=a.i.V,c=a.H.Ze,d=J,f={};c<N[b].Ia[d].Va?(f.Va=!0,N[b].Ia[d].Va=c):f.Va=!1;N[b].Ia[d].ab=3;f.ab=3;f.Va&&$f();b=f;a.H.Va=b.Va;a.H.ab=b.ab;a.H.Ye="WIN"}else{var b=a.i.V,c=a.H.Ye,g=a.H.Ze,d=J,f={};c>N[b].Ia[d].Qc?(f.Qc=!0,N[b].Ia[d].Qc=c):f.Qc=!1;g<N[b].Ia[d].Va?(f.Va=!0,N[b].Ia[d].Va=g):f.Va=!1;for(g=0;c>=N[b].za[d][g];)g+=1;f.ab=g;f.Qc&&(N[b].Ia[d].ab=f.ab,$f());f.Va&&$f();b=f;a.H.Qc=b.Qc;a.H.ab=b.ab;a.H.Va=b.Va}}
function oc(a,b){a.fh&&(a.Zf[b]="fresh",a.Gn[b]=a.HA)};Ng.prototype=new tg;l=Ng.prototype;l.constructor=Ng;
function Ng(a,b){this.V=a;this.buttons=[];this.n=b;this.Yb=!1;this.color=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.pa="BOSS"==this.V.slice(0,4);this.buttons.push(new Z("BACK",16,70,P/2+260,60,65,this.J,"white",function(a){return function(){Ee.fillStyle=z["world "+a.n+" dark"];Ee.translate(Y,0);Ee.fillRect(0,0,O,P);Ee.globalAlpha*=jg(0);Ab(Ee,0,O,P,"Hive "+a.n);Ee.translate(-Y,0);De.setAttribute("style","");vg(a.U,"fade_out_to_main",function(){T=a.n?new ag(a.n,!0):new Mf;
We=null;"normal"==J?Pf("Title Alt"+a.n,.15):Pf("Hive 0",.3)})}}(this),"back"));this.Bn=["bronze","silver","gold"];this.ab=N[this.V].Ia[J].Qc.ab;this.Gk=null;if(this.pa)this.Gk={};else{this.Gk=N[this.V].s;this.We=0;for(var c in N[this.V].s)this.We+=1}this.Lf=40;this.i=this.Um(N[this.V]);var d=0;for(c in this.Gk){for(var f=0,g=0;f<d+1&&f<this.We;)f+=12;g=f<=this.We?12:this.We-(f-12);this.buttons.push(new Og(c,this.Lf,O/2+(this.Lf+10)*(d-(f-12)-(g-1)/2),400+this.Lf*(Math.floor(d/12)-(Math.ceil(this.We/
12)-1)/2),this.Lf,this.Lf,z["world "+this.n+" lite"],function(a,b){return function(){vg(b.U,"fade_out",function(){He=new Pg(a,b)})}}(c,this)));d+=1}this.U=new wg({fade_in:500,fade_out:250,fade_out_to_main:250});vg(this.U,"fade_in")}l.na=function(a){this.U.na(a);Qf(a)};
l.X=function(a,b){if(!this.Yb){var c=Ve.getContext("2d");c.clearRect(0,0,O,P);Ab(c,0,O,P,"Hive "+this.n);b.translate(Y,0);this.i.Ne(b);this.Yb=!0;b.translate(-Y,0);bg_canvas.setAttribute("style","display:none")}"fade_out_to_main"!=this.U.bc?(a.save(),a.fillStyle=z["world "+this.n+" dark"],a.fillRect(0,0,O,P),a.globalAlpha*=jg(this.n)):(a.save(),a.globalAlpha*=xg(this.U),a.fillStyle="black",a.fillRect(0,0,O,P),a.globalAlpha*=jg(0));a.drawImage(Ve,0,0,O,P,0,0,O,P);a.restore();a.save();if("fade_in"==
this.U.bc)a.globalAlpha*=xg(this.U);else if("fade_out"==this.U.bc||"fade_out_to_main"==this.U.bc)a.globalAlpha*=1-xg(this.U);if(this.pa)for(a.fillStyle=z["world "+this.n+" bright"],a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,P/2-50,100),a.restore(),a.font="16px Muli",a.fillText(this.i.V,O/2,P/2-60),a.font="40px Muli",a.fillText(oa[this.n],O/2,P/2-20),a.font="24px Muli",3==N[this.V].Ia[J].ab?(a.font="12px Muli",a.fillText("BEST TIME",O/2,390),a.font=
"28px Muli",a.fillText(Xb(N[this.V].Ia[J].Va),O/2,415)):(a.fillStyle=z["boss "+this.n],a.fillText("UNDEFEATED",O/2,400)),c=0;c<this.buttons.length;c++)this.buttons[c].X(a);else{a.globalAlpha/=3;Ka(a,this.n,O/2,130,40,!0);a.globalAlpha*=3;a.fillStyle="white";a.font="18px Muli";"normal"==J&&a.fillText("HARD MODE",O/2,100);a.beginPath();a.fillStyle=z["world "+this.n+" bright"];a.font="30px Muli";a.textAlign="center";a.fillText(this.V,O/2,140);a.fill();for(c=0;c<this.buttons.length;c++)this.buttons[c].X(a);
ob(a,this.V,O/2,255,z["world "+this.n+" lite"]);a.beginPath();a.rect(O/2-100,100,250,150);a.strokeStyle="rgba(0, 0, 0, .3)";a.stroke();if(1>this.Yr){a.textAlign="center";var c=this.Yr,d=O-70,f=P-53;a.save();cb(a,d,f,10,"gray");a.beginPath();a.arc(d,f,15,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI*c);a.lineWidth=2;a.strokeStyle="gray";a.stroke();a.restore();a.font="16px Muli";a.fillStyle="gray";a.fillText("LOADING",O-70,P-19)}if("HOW TO PLAY"!=this.V.slice(0,11)){a.fillStyle=this.J;a.font="12px Muli";a.fillText("ENEMIES",
O/2,370);for(score_color=0;N[this.V].Ia[J].Qc>N[this.V].za[J][score_color];)score_color+=1;a.fillStyle=this.J;a.textAlign="center";a.font="12px Muli";a.fillText("HIGH SCORE",O/2-100,480);a.font="28px Muli";a.fillText(N[this.V].Ia[J].Qc,O/2-100,505);a.fillStyle=this.J;a.font="12px Muli";a.fillText("BEST TIME",O/2+100,480);1E3>N[this.V].Ia[J].Va?(a.font="28px Muli",a.fillText(Xb(N[this.V].Ia[J].Va),O/2+100,505)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,505))}}a.restore()};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.Xr=function(){var a=new ec(this.n,!1);this.buttons.push(new Z("START",16,O-70,P/2+260,100,65,this.J,"white",function(b){return function(){vg(b.U,"fade_out",function(){T=new Rf(b.n,b.i,b.Lb,a,!1,!0)})}}(this),"start"))};Qg.prototype=new sg;l=Qg.prototype;l.constructor=Qg;l.QD={F:0,D:10,"D+":11,"C-":13,C:14,"C+":15,"B-":16,B:17,"B+":18,"A-":20,A:21,"A+":22,S:24,"S+":25};l.zw=["half","basic","silver","gold"];
function Qg(a,b,c,d,f,g,h){this.Gj=h;this.ak=g;this.buttons=[];this.Yb=!1;this.L=c;this.i=d;this.Lb=f;this.n=a;this.sa=b;this.vf=1<=gc();g&&(this.L=ec.prototype.clone(Me[J]),ic(this.L),$f(),this.n=this.L.qa,this.sa=null);this.Ba=this.Md=250;this.ib="in";this.buttons=[];this.gi="half";this.color=z["world "+this.n];this.Fc=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.ri=z["world "+this.n+" dark"];0<this.n&&(this.kh=Math.ceil((1E3*Db["blitz_hive"+this.n].oq-this.L.ci)/1E3),this.Dn=
0);for(a=0;8>a;a++)f=7==a?"BOSS "+this.n:"HIVE "+this.n+"-"+(a+1),this.L.H[f]&&(this.Dn+=this.L.H[f].wm);if(b){Rg(this);this.cF="HIVE "+this.L.eu+" DEFEATED";b=3;for(d in c.H)c.H[d].ab<b&&(b=c.H[d].ab);c.Kg||(this.gi=this.zw[b],this.L.gi=this.gi);(d=Je[J]["world "+this.n])&&d.rank&&eg(dg(d.rank));if(!d||this.zw.indexOf(this.gi)>this.zw.indexOf(d.victory_type)||this.gi==d.victory_type&&("half"==this.gi&&c.Kg<d.continues||"gold"==this.gi&&this.Dn<d.deaths))Je[J]["world "+this.n]={victory_type:this.gi,
continues:c.Kg,deaths:this.Dn,first_victory:void 0===d},$f()}this.ak&&!this.Gj&&(this.ul=new Z("RESUME",16,730,P/2+260,100,65,this.J,this.J,function(a){return function(){Me[J]={};$f();a.L.HD=0;T=new Lg(a.n,null,null,null,null,a.L,!0,!0)}}(this),"start"),this.ul.xl=!1,this.buttons.push(this.ul),this.Am=new Z("DELETE",16,O/2,P/2+260,100,65,this.J,this.J,function(a){return function(){Me[J]={};$f();T=new ag(a.n)}}(this),"delete_small"),this.buttons.push(this.Am),this.Am.xl=!1,this.UD=new Z("EXIT",16,
70,P/2+260,60,65,this.J,this.J,function(){return function(){T=new Mf}}(this),"back"),this.buttons.push(this.UD));0!=this.n&&dc();this.Bn=["bronze","silver","gold"];!this.ak&&this.sa&&Sg(this)}function dg(a){a=Qg.prototype.QD[a];var b="half";0<a&&(b="basic");16<=a&&(b="silver");24<=a&&(b="gold");return b}function eg(a){Je[difficulty][world]={victory_type:a,continues:"half"==a?1:0,deaths:9,first_victory:!0};$f()}
function Rg(a){for(var b=0,c=0;8>c;c++){var d=7==c?"BOSS "+a.n:"HIVE "+a.n+"-"+(c+1);a.L.H[d]&&(b+=a.L.H[d].wm)}a.Dn=b}
l.X=function(a){if(0!=this.n||this.ak){this.Yb||(bg_canvas.setAttribute("style","display:none"),this.Yb=!0,Ab(Ve.getContext("2d"),0,O,P,"Hive "+this.n));a.save();this.Ba-=dt;0>this.Ba&&("in"==this.ib&&(this.ib="none"),"out"==this.ib&&Tg(this));a.fillStyle=this.ri;a.fillRect(0,0,O,P);if("in"==this.ib){var b=this.Ba/this.Md;a.globalAlpha=1-b}else"out"==this.ib&&(b=this.Ba/this.Md,a.globalAlpha=Math.max(0,b));a.save();a.globalAlpha*=jg(this.n);a.drawImage(Ve,0,0,O,P,0,0,O,P);a.restore();for(b=0;b<this.buttons.length;b++)this.buttons[b].X(a);
a.shadowBlur=0;a.textAlign="center";a.font="20px Muli";this.sa?(a.globalAlpha*=.3,Ka(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle=this.J,a.font="40px Muli",a.fillText(this.cF,O/2,130)):this.ak?(a.globalAlpha*=.3,Ka(a,this.n,O/2,220,80),a.globalAlpha/=.3,a.fillStyle="white",a.fillText("GAME SAVED",O/2,210),a.fillStyle=this.J,a.font="40px Muli",a.fillText(this.L.Sr,O/2,250),a.font="24px Muli",a.fillText(this.L.Bk,O/2,280),a.textAlign="center",a.fillStyle=this.J,a.font="20px Muli",a.fillText("TOTAL TIME ",
O/2-100,380),a.font="42px Muli",a.fillText(Fb(this.kh),O/2-100,420),a.fillStyle=this.J,a.font="20px Muli",a.fillText("DEATHS",O/2+100,380),a.font="42px Muli",a.fillText(this.Dn,O/2+100,420)):(a.globalAlpha*=.3,Ka(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle="red",a.fillText("GAME OVER",O/2,80),a.fillStyle=this.J,0<this.L.Kg&&(a.font="18px Muli",a.fillText("CONTINUES: "+this.L.Kg,O/2,175)),a.font="40px Muli",a.fillText(this.L.Sr,O/2,130));this.sa&&this.L.Kg&&(a.fillStyle=this.J,a.font="18px Muli",
a.fillText("CONTINUES: "+this.L.Kg,O/2,250));this.sa&&(a.fillStyle=this.J,a.font="14px Muli",a.fillText("TOTAL TIME",O/2,167),a.font="24px Muli",a.fillText(Fb(this.kh),O/2,190));if(!this.ak)for(a.shadowBlur=0,a.font="18px Muli",a.textAlign="center",a.fillStyle=this.J,a.fillText("LEVEL",260,250),a.fillText("TIME",400,250),a.fillText("DEATHS",540,250),b=0;8>b;b++){var c=7==b?"BOSS "+this.n:"HIVE "+this.n+"-"+(b+1),d=c;7==b&&(d=this.L.eu);var f;f=this.L.H[c]?this.L.H[c]:{};a.fillStyle=f.RA?this.J:"#666";
var g=280+27*b;a.fillText(d,260,g);a.fillStyle=f.RA?this.J:"#666";void 0!=this.L.kh[c]?a.fillText(Fb(Math.floor(this.L.kh[c]/1E3)),400,g):a.fillText("---",400,g);void 0!=f.wm?a.fillText(f.wm,540,g):a.fillText("---",540,g)}a.font="16px Muli";a.fillStyle=this.Fc;this.ak?this.Gj&&a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30):a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30);for(b=0;b<this.buttons.length;b++)this.buttons[b].X(a);for(b=0;b<this.buttons.length;b++)Ug(this.buttons[b],a);a.restore()}};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.De=function(){"none"!=this.ib||this.ak&&!this.Gj||(this.ib="out",this.Ba=this.Md)};l.Wp=function(){};l.na=function(){0!=this.n||this.ak||Tg(this)};
function Sg(a){if(!(0>=a.n)){if("normal"==J)for(var b=3,c=["half","basic","silver","gold"],d=1;4>=d;d++)if(Je.normal["world "+d]){var f=Je.normal["world "+d].gi;c.indexOf(f)<b&&(b=c.indexOf(f))}else b=-1;"normal"==J&&0<a.L.ci&&Kc("blitz_hive"+a.n);a.L.Zy||Kc("untouchable");Je[J]["world "+a.L.qa]&&Je[J]["world "+a.L.qa].first_victory&&(4>a.L.qa&&Kc("beat_hive"),4==a.L.qa&&Kc("final_boss"))}}
function Tg(a){T=a.sa?new Mg(a.L,!0,{sa:!0,up:0==a.n,Ju:Ke,Gj:a.Gj}):new Mg(a.L,!0,{sa:!1,up:0==a.n,Ju:Ke,Gj:a.Gj})};Lg.prototype=new tg;l=Lg.prototype;l.constructor=Lg;
function Lg(a,b,c,d,f,g,h,k){this.L=g;this.sa=c;this.H=d;this.My=!1;this.xC=k;this.Il=3700;this.Oe=2200;this.Rg=4E3;this.Vc=null;this.Bi=!0;this.vf=1<=gc();this.n=a;this.color=z["world "+a];this.Fc=z["world "+a+" lite"];this.J=z["world "+a+" bright"];this.ri=z["world "+a+" dark"];this.Lb=f;this.buttons=[];this.Yb=!1;this.Bn=["bronze","silver","gold"];this.gy=this.tj=!1;if(b)if(this.H){this.Vc=b;this.wp=b.V;this.sa?(this.state="last_level_summary",this.Ba=this.Rg):(this.state="level_intro",this.Ba=
D.iG?this.Rg:this.Oe);a=0;if(!this.Vc.pa)for(;this.H.Ye>N[this.Vc.V].za[J][a];)a+=1;this.ab=a;if(this.sa){this.AA=Math.floor(this.H.Ze/5);this.ey=Math.floor(this.H.of/2);this.Ms=this.L.Wf+this.AA+this.ey;for(this.pw=this.L.Id;100<=this.Ms;)this.Ms-=100,this.pw+=1;0==this.L.H[this.Vc.V].Yu&&Kc("pacifist")}}else this.state="level_intro",this.i=this.Vc=b,this.wp=b.V,this.Ba=this.Oe/=2,this.gy=!0;else this.state="level_intro",this.L=h?g:new ec(a,!0),this.Ba=this.Oe;if(!this.gy){if(this.sa||!this.Vc){if(this.Vc&&
this.Vc.pa||0==this.n&&this.sa&&this.Vc&&"HIVE 0-4"==this.Vc.V)return;this.Bi=!1;this.i=h?this.Um(N[this.L.Bk]):this.Um(N[Kg(this.Vc,this.n)]);this.tj=!N[this.i.V].Ia[J].vg;N[this.i.V].Ia[J].vg=!0;$f();this.L.H.hasOwnProperty(this.i.V)||(this.L.H[this.i.V]={},this.L.H[this.i.V].RA=!0,this.L.H[this.i.V].wm=0);this.L.Bk=this.i.V;0<this.n&&hg(this.L)}else this.i=this.Vc,this.i.v=null,Ee.translate(Y,0),this.i.Ne(Ee),this.Yb=!0,Ee.translate(-Y,0);this.i.pa&&(this.Oe=this.sa?1E3:500)}0==this.n||this.Vc&&
this.Vc.pa||h&&this.L.Bk&&"BOSS"==this.L.Bk.substring(0,4)||cc(ac,ja["Hive "+this.n])}function Kg(a,b){return a?7>a.oz?"HIVE "+b+"-"+(a.oz+1):"BOSS "+b:0==b?"HIVE 0-1":"HIVE "+b+"-1"}
l.na=function(a){this.My=!0;if(0>this.L.Id)T=new Qg(this.n,!1,this.L,this.i,this.Lb);else if(0==this.n&&this.sa&&this.Vc&&"HIVE 0-4"==this.Vc.V)T=new Qg(this.n,!0,this.L);else if(0==this.n)this.Bi&&(T=new Rf(this.n,this.i,this.Lb,this.L,!0,null===this.sa?!0:this.sa));else if(this.Vc&&this.Vc.pa&&this.Vc.th)T=new Qg(this.n,!0,this.L);else if(this.Vc&&this.Vc.pa&&!this.Vc.th)T=new Rf(this.n,this.i,this.Lb,this.L,!0,null===this.sa?!0:this.sa);else{var b=this.Ba/this.Rg;"last_level_summary"==this.state&&
this.sa&&.3<b&&.7>b?(this.L.Wf+=a/(.4*this.Rg)*(this.AA+this.ey),100<=this.L.Wf&&(this.L.Wf-=100,this.L.Id+=1)):"last_level_summary"==this.state&&this.sa&&.3>b&&(this.L.Wf=Math.floor(this.Ms),this.L.Id=Math.floor(this.pw),this.L.mz=this.L.Wf,this.L.lz=this.L.Id);if(this.Bi||"world_intro"==this.state&&this.Ba>=this.Il/2||"last_level_summary"==this.state&&this.Ba>=this.Rg/2||"level_intro"==this.state&&this.Ba>=this.Oe/2)this.Ba-=a;0>this.Ba&&("world_intro"==this.state&&this.Bi?0==this.n?T=new Rf(this.n,
this.i,this.Lb,this.L,!0,null===this.sa?!0:this.sa):(this.state="level_intro",this.Ba=this.Oe):"last_level_summary"==this.state&&this.Bi?(this.sa&&this.i.pa&&dc(),this.state="level_intro",this.Ba=this.Oe):"level_intro"==this.state&&(T=new Rf(this.n,this.i,this.Lb,this.L,!0,null===this.sa?!0:this.sa)))}};
l.X=function(a,b){!this.Yb&&this.i&&(this.Yb=!0,bg_canvas.setAttribute("style","display:none"),b.translate(Y,0),this.i.Ne(b),b.translate(-Y,0),Ab(Ve.getContext("2d"),0,O,P,"Hive "+this.n));a.fillStyle=z["world "+this.n+" dark"];a.fillRect(0,0,O,P);if(0!=this.n){a.save();a.globalAlpha*=jg(this.n);if("world_intro"!=this.state||this.xC)"level_intro"==this.state?(c=this.Ba/this.Oe,.5>c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))):"last_level_summary"==this.state&&(c=this.Ba/this.Rg,.5<c&&(a.globalAlpha*=
Math.min(1,(1-2*Math.abs(c-.5))/.5)));else{var c=this.Ba/this.Il;.5<c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))}a.drawImage(Ve,0,0,O,P,0,0,O,P);a.restore();this.My&&("world_intro"==this.state?(c=this.Ba/this.Il,a.save(),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.textAlign="center",a.shadowBlur=0,a.fillStyle=this.J,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,P/2,130),a.restore(),a.font="54px Muli",a.fillText(this.L.Sr,O/2,P/2+25),a.shadowBlur=0,a.fillStyle=
this.Fc,a.shadowColor=a.fillStyle,a.font="12px Muli",this.Bi?a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270):a.fillText("LOADING LEVEL",O/2,P/2+270),a.restore()):"level_intro"==this.state?this.i.pa||(a.save(),c=this.Ba/this.Oe,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.fillStyle=this.J,a.textAlign="center",a.shadowBlur=0,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,300,100),a.restore(),a.font="24px Muli",a.save(),a.globalAlpha*=.5,a.fillText(this.L.Sr,O/2,250),a.restore(),
a.font="56px Muli",a.fillText(this.i.V,O/2,320),a.shadowBlur=0,a.fillStyle=this.Fc,a.shadowColor=a.fillStyle,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270),a.restore()):"last_level_summary"==this.state&&(a.save(),c=this.Ba/this.Rg,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.globalAlpha/=3,Ka(a,this.n,O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==J&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=
this.J,a.font="42px Muli",a.textAlign="center",a.fillText(this.wp,O/2,240),a.fill(),a.font="36px Muli",a.fillStyle="white",a.fillText("VICTORY",O/2,300),a.fillStyle=this.J,a.font="20px Muli",a.fillText("GAME TIME ",O/2+100,380),a.font="42px Muli",a.fillText(this.H.Hj,O/2+100,420),a.fillStyle=this.J,a.font="20px Muli",a.fillText("SCORE",O/2-100,380),a.font="42px Muli",a.fillText(this.H.Ye,O/2-100,420),this.H.Qc||(a.beginPath(),a.moveTo(250,440),a.lineTo(350,440),a.lineWidth=3,a.strokeStyle=this.J,
a.stroke()),this.H.Va||(a.beginPath(),a.moveTo(450,440),a.lineTo(550,440),a.lineWidth=3,a.strokeStyle=this.J,a.stroke()),this.H.Qc?(a.fillStyle=this.J,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,445)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.J,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,470),a.font="28px Muli",a.fillText(N[this.wp].Ia[J].Qc,O/2-100,500),a.restore()),this.H.Va?(a.fillStyle=this.J,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,445)):(a.save(),a.globalAlpha*=
.6,a.fillStyle=this.J,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,470),a.font="28px Muli",1E3>N[this.wp].Ia[J].Va?(a.font="28px Muli",a.fillText(Xb(N[this.wp].Ia[J].Va),O/2+100,500)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,500)),a.restore(),a.shadowBlur=0,a.fillStyle=this.Fc,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270)),a.restore()))}};l.De=function(){this.Bi&&(this.Il/=4,this.Oe/=4,this.Rg/=4,this.Ba/=4)};
l.Oa=function(){this.Bi&&(this.Il/=4,this.Oe/=4,this.Rg/=4,this.Ba/=4)};l.Xr=function(){bg_canvas.setAttribute("style","display:none");this.Bi=!0;Ee.translate(Y,0);this.i.Ne(Ee);Ee.translate(-Y,0);Ab(Ve.getContext("2d"),0,O,P,"Hive "+this.n)};l.Lu=function(a){return 100>a?(a/=100,"rgb("+Math.round(190*(1-a)+0*a)+","+Math.round(190*(1-a)+128*a)+","+Math.round(190*(1-a)+255*a)+")"):this.Lu(Math.abs(400-this.H.mp%800)/400*99.99)};Vg.prototype=new sg;l=Vg.prototype;l.constructor=Vg;
function Vg(){this.vf=1<=gc();this.U=new wg({fade_in:500,fade_out:250});vg(this.U,"fade_in");this.buttons=[];this.buttons.push(new Z("BACK",16,O/2,P/2+260,60,65,"white",z.impulse_blue,function(a){return function(){vg(a.U,"fade_out",function(){T=new Mf})}}(this),"back"));this.buttons.push(new Wg("beat_hive",O/2-300,200,50));this.buttons.push(new Wg("final_boss",O/2-150,200,50));this.buttons.push(new Wg("untouchable",O/2+0,200,50));this.buttons.push(new Wg("pacifist",O/2+150,200,50));this.buttons.push(new Wg("high_roller",
O/2+300,200,50));this.buttons.push(new Wg("beat_hard",O/2-300,350,50));this.buttons.push(new Wg("blitz_hive1",O/2-150,350,50));this.buttons.push(new Wg("blitz_hive2",O/2-0,350,50));this.buttons.push(new Wg("blitz_hive3",O/2+150,350,50));this.buttons.push(new Wg("blitz_hive4",O/2+300,350,50))}l.na=function(a){this.U.na(a)};
l.X=function(a){this.Yb||(De.setAttribute("style",""),Pf("Hive 0",.3),this.Yb=!0);"fade_in"==this.U.bc?a.globalAlpha*=xg(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-xg(this.U));a.textAlign="center";a.font="24px Muli";a.fillStyle="white";a.fillText("ACHIEVEMENTS",O/2,50);a.font="12px Muli";a.fillText("MOUSE OVER TO VIEW",O/2,75);for(var b=0;b<this.buttons.length;b++)this.buttons[b].X(a);for(b=0;b<this.buttons.length;b++)Ug(this.buttons[b],a)};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};Mg.prototype=new sg;l=Mg.prototype;l.constructor=Mg;
function Mg(a,b,c){this.L=a;this.hc=b;this.fg=c;this.wb=[];this.Ed=-1;this.Ba=this.Md=250;this.ib="in";this.tj=Ke;this.sa=c.sa;this.Wy=this.Yb=!1;this.ab=0;var d=this;this.Ej=J;this.hn=new Z("NORMAL MODE",20,O/2-150,300,250,125,"white",z.impulse_blue,function(){d.rm("easy")},"easy_mode");this.ku=new Z("CHALLENGE MODE",20,O/2+150,300,250,125,"white",z.impulse_blue,function(){d.rm("normal")},"normal_mode");this.debug();if(this.fg.up){if("first_time_tutorial"==this.fg.IA||this.fg.Ju)this.wb.push({type:"first_time_tutorial"}),
Ke=!1,$f()}else this.hc&&Je[this.Ej]["world "+this.L.qa]&&Je[this.Ej]["world "+this.L.qa].first_victory&&(4==this.L.qa&&(this.wb.push({type:"final_victory"}),"easy"==this.Ej&&(this.Wy=Le=!0,J="normal",$f())),Je[this.Ej]["world "+this.L.qa].first_victory=!1,$f());this.Ed+=1;0<this.wb.length&&dc();this.JB=3E3;this.Zq=0}l.rm=function(a){"none"==this.ib&&(J=a,$f(),this.BF(),this.ib="out",this.Ba=4*this.Md)};
l.X=function(a){if(0!=this.wb.length){var b=this.wb[this.Ed];if(!this.Yb){bg_canvas.setAttribute("style","display:none");var c=Ve.getContext("2d");"world_victory"==b.type?Ab(c,0,O,P,"Hive "+(b.data+1)):"final_victory"==b.type?Ab(c,0,O,P,"Title Alt4"):Ab(c,0,O,P,"Hive 0");this.Yb=!0}a.save();a.globalAlpha="world_victory"==b.type?a.globalAlpha*jg(b.data+1):"final_victory"==b.type?jg(0)/2*a.globalAlpha:a.globalAlpha*jg(0);a.drawImage(Ve,0,0,O,P,0,0,O,P);a.restore();a.save();"in"==this.ib?(c=this.Ba/
this.Md,a.globalAlpha=1-c):"out"==this.ib&&(c=this.Ba/this.Md,a.globalAlpha=Math.max(0,c));if("quest"!=b.type&&"ult_tutorial"!=b.type&&"select_difficulty"!=b.type&&"share"!=b.type){var d="world_victory"==b.type?b.data+1:0;a.save();a.globalAlpha*=.2;Ka(a,d,O/2,250,100);a.restore()}var f=c="",g=32;"world_victory"==b.type&&(a.fillStyle=z["world "+(b.data+1)+" bright"],g=24,c="NEW HIVE UNLOCKED",f="easy"==this.Ej?"STANDARD MODE":"CHALLENGE MODE",a.textAlign="center",a.font="48px Muli",a.fillText("HIVE "+
oa[b.data+1],O/2,270));"final_victory"==b.type&&(final_message="easy"==this.Ej?"HARD MODE UNLOCKED FOR ALL HIVES":"CHALLENGE MODE COMPLETED",final_message_teaser="easy"==this.Ej?"THE REAL GAME BEGINS":"INCREDIBLE",a.textAlign="center",a.fillStyle="white",a.font="24px Muli",a.fillText(final_message,O/2,240),a.font="20px Muli",a.fillStyle="red",a.fillText(final_message_teaser,O/2,280),a.font="16px Muli",a.fillStyle="white","easy"!=this.Ej&&a.fillText("THANKS FOR PLAYING IMPULSE",O/2,320));"rating"==
b.type&&(c="YOUR SKILL RATING WENT UP",f="CONGRATULATIONS!",g=32,a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Cm,O/2,270),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW SKILL RATING",O/2,405),a.font="48px Muli",a.fillText(b.data.aG,O/2,455));"lives"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA LIFE",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Cm,O/2-25,270),I(a,O/2+35,250,0,40,40,"lives_icon"),
a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("LIVES",O/2-d,400),I(a,O/2-d,422,0,30,30,"lives_icon"),a.fillText("LIVES",O/2+d,400),I(a,O/2+d,422,0,30,30,"lives_icon"),a.font="36px Muli",a.fillText(b.data.xD-b.data.Cm,O/2-d,470),Sa(a,O/2,430,20,"right","white",!1),a.fillText(b.data.xD,O/2+d,470));"ult"==b.type&&(a.textAlign="center",f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA ULTIMATE",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Cm,O/2-25,270),I(a,O/2+35,250,
0,40,40,"ultimate_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("ULT",O/2-d,400),I(a,O/2-d,422,0,30,30,"ultimate_icon"),a.fillText("ULT",O/2+d,400),I(a,O/2+d,422,0,30,30,"ultimate_icon"),a.font="36px Muli",a.fillText(b.data.zD-b.data.Cm,O/2-d,470),Sa(a,O/2,430,20,"right","white",!1),a.fillText(b.data.zD,O/2+d,470));if("quest"==b.type)for(d=0,a.save(),Ka(a,d,O/2,250,150),a.restore(),a.textAlign="center",a.fillStyle=z.impulse_blue,a.font="32px Muli",a.fillText("CHALLENGE COMPLETE!",
O/2,120),draw_quest_button(a,O/2,250,60,b.data.type),a.font="24px Muli",a.fillStyle="white",d=0;d<Db[b.data.type].text.length;d++)a.fillText(Db[b.data.type].text[d],O/2,400+36*d);"spark_val"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="SPARK VALUE INCREASED",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Cm,O/2-25,270),I(a,O/2+35,250,0,40,40,"sparks_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillStyle="white",a.fillText("SPARK",O/2-d,
390),a.fillText("VALUE",O/2-d,405),I(a,O/2-d,424,0,22,22,"sparks_icon"),a.fillText("SPARK",O/2+d,390),a.fillText("VALUE",O/2+d,405),I(a,O/2+d,424,0,22,22,"sparks_icon"),a.font="36px Muli",a.fillText(b.data.yD-b.data.Cm,O/2-d,470),Sa(a,O/2,430,20,"right","white",!1),a.fillText(b.data.yD,O/2+d,470));"first_time_tutorial"==b.type&&(a.font="30px Muli",a.textAlign="center",a.fillStyle="white",a.fillText("INTRO TUTORIAL COMPLETE",O/2,250),a.fillStyle="white",a.font="16px Muli",a.fillText("INITIALIZING MAIN GAME...",
O/2,550));"select_difficulty"==b.type&&(f="LET'S DO THIS",g=36,c="SELECT DIFFICULTY",this.hn.X(a),this.ku.X(a));c&&(a.fillStyle="white",a.textAlign="center",a.font="16px Muli",a.fillText(f,O/2,70),a.font=g+"px Muli",a.fillStyle="world_victory"==b.type?z["world "+(b.data+1)+" bright"]:z.impulse_blue,a.fillText(c,O/2,120));"select_difficulty"!=b.type?(a.textAlign="center",a.fillStyle="world_victory"==b.type?z["world "+(b.data+1)+" bright"]:"white",a.font="16px Muli","first_time_tutorial"!=b.type&&("ult"!=
b.type?a.fillText("PRESS ANY KEY TO CONTINUE",O/2,P-30):a.fillText("PRESS ANY KEY FOR ULT TUTORIAL",O/2,P-30))):(a.font="16px Muli",a.textAlign="center",a.fillStyle=z.impulse_blue,a.fillText("YOU CAN SWITCH DIFFICULTY ON THE TITLE SCREEN OPTIONS MENU",O/2,P-75));a.restore()}};l.debug=function(){};
l.na=function(a){0==this.wb.length&&Xg(this);this.Ed<this.wb.length&&0<=this.Ed&&"first_time_tutorial"==this.wb[this.Ed].type&&(this.Zq-=a,0>=this.Zq&&"none"==this.ib&&(this.ib="out",this.Ba=this.Md));this.Ba-=a;0>this.Ba&&("in"==this.ib&&(this.ib="none",this.Zq=this.JB),"out"==this.ib&&(this.Ed+=1,this.Ed>=this.wb.length?Xg(this):(this.ib="in",this.Ba=this.Md,this.Yb=!1)))};function Yg(a,b){var c=a.Wy?1:a.L.qa;"normal"!=J||Ke?Pf("Hive 0",.3):Pf("Title Alt"+c,.15);T=new ag(c,b)}
function Xg(a){a.kG?T=new nc("ult_tutorial"):a.hc?a.sa&&1<=a.L.qa&&3>=a.L.qa?T=new Lg(a.L.qa+1,null,null,null,null):a.sa&&0==a.L.qa&&a.tj?T=new Lg(a.L.qa+1,null,null,null,null):a.sa&&4==a.L.qa?Yg(a,!1):a.fg.Gj?T=new Mf:Yg(a,!1):a.fg.up?"ult_tutorial"==a.fg.IA?T=new Lg(2,null,null,null,null):Yg(a,!1):a.sa?T=new yg(a.fg.H,a.fg.i,a.fg.n,a.fg.Lb,{Va:a.fg.H.Va,Qc:a.fg.H.Qc,ab:a.ab,sa:a.sa}):Yg(a,!0)}
l.De=function(){0!=this.wb.length&&"none"==this.ib&&"select_difficulty"!=this.wb[this.Ed].type&&"first_time_tutorial"!=this.wb[this.Ed].type&&(this.ib="out",this.Ba=this.Md)};
l.Oa=function(a,b){0==this.wb.length||0<=this.Ed&&this.Ed<this.wb.length&&"share"==this.wb[this.Ed].type||"first_time_tutorial"==this.wb[this.Ed].type||this.Ed>=this.wb.length||("select_difficulty"==this.wb[this.Ed].type&&(this.hn.Oa(a,b),this.ku.Oa(a,b)),"none"==this.ib&&"select_difficulty"!=this.wb[this.Ed].type&&(this.ib="out",this.Ba=this.Md))};l.Ea=function(a,b){0!=this.wb.length&&"select_difficulty"==this.wb[this.Ed].type&&(this.hn.Ea(a,b),this.ku.Ea(a,b))};Mf.prototype=new sg;l=Mf.prototype;l.constructor=Mf;function Mf(){this.buttons={menu:[],enter:[],options:[]};this.Wu=new Image;this.Yb=!1;this.visibility=0;this.state="menu";this.Wu.src="impulse_logo.png";Zg(this);cc(ac,ja.Menu);this.U=new wg({fade_in:500,fade_out:250});vg(this.U,"fade_in")}l.na=function(a){this.U.na(a);Qf(a)};
l.X=function(a){this.Yb||(De.setAttribute("style",""),Pf("Hive 0",.3),this.Yb=!0);a.save();"fade_in"==this.U.bc?a.globalAlpha*=xg(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-xg(this.U));a.shadowColor=z.impulse_blue;a.shadowBlur=0;mb(a,O/2,150,"MARK ZHANG");for(var b=0;b<this.buttons[this.state].length;b++)this.buttons[this.state][b].X(a);for(b=0;b<this.buttons[this.state].length;b++)Ug(this.buttons[this.state][b],a);a.restore()};
l.Ea=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Oa(a,b)};
function Zg(a){c=a;a.buttons.menu=[];var b=P/2+50,c=a;a.buttons.menu.push(new Z("START GAME",20,Ke?O/2:O/2-130,b,210,100,"white",z.impulse_blue,function(){if(Me[J]&&Me[J].H)vg(c.U,"fade_out",function(){T=new Qg(null,null,null,null,null,!0)});else{for(var a=1;4>a&&Je[J]["world "+a];)a+=1;null!=c.U.bc||"normal"!=J||Ke?Ke&&Of(z["world 0 dark"],150,1):Of("Title Alt"+a,250,.15);vg(c.U,"fade_out",function(){T=new ag(a,!1)})}},"player"));Ke||a.buttons.menu.push(new Z("PRACTICE",20,O/2+130,b,210,100,"white",
z.impulse_blue,function(){for(var a=1;4>a&&Je[J]["world "+a];)a+=1;null==c.U.bc&&"normal"==J&&Of("Title Alt"+a,250,.15);vg(c.U,"fade_out",function(){T=new ag(a,!0)})},"normal_mode"));a.buttons.menu.push(new Z("OPTIONS",16,O/2-240,b+130,100,70,"white",z.impulse_blue,function(){vg(c.U,"fade_out",function(){He=new Yf(c)})},"gear"));a.buttons.menu.push(new Z("ACHIEVEMENTS",16,O/2,b+130,100,70,"white",z.impulse_blue,function(){vg(c.U,"fade_out",function(){T=new Vg})},"quest"));a.buttons.menu.push(new Z("CREDITS",
16,O/2+240,b+130,100,70,"white",z.impulse_blue,function(){vg(c.U,"fade_out",function(){T=new ug})},"credit"));a.buttons.enter.push(new $g("CLICK TO BEGIN",20,O/2,P/2+150,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},20)}));a.Dy=new $g("NORMAL MODE",20,O/2-100,P/2+120,200,50,"white","blue",function(){c.rm("easy")});a.buttons.options.push(a.Dy);a.hn=new $g("CHALLENGE MODE",20,O/2+100,P/2+120,200,50,"white","blue",function(){c.rm("normal")});a.buttons.options.push(a.hn);ah(a);
a.eC=new $g("CLEAR DATA",20,O/2,P/2+170,200,50,"white","blue",function(){bh()});a.buttons.options.push(a.eC);a.buttons.options.push(new $g("BACK",20,O/2,P/2+220,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},50)}));b=new Z("",20,O-20,20,30,30,"white",z.impulse_blue,function(){Xf()},"fullscreen_in_game");ch(b,new Uf("fullscreen_msg",z["world 0 bright"],0));a.buttons.menu.push(b);b=new Z("",20,O-50,20,30,30,"white",z.impulse_blue,function(){Zf()},"mute_in_game");ch(b,new Uf("mute_msg",
z["world 0 bright"],0));a.buttons.menu.push(b)}l.rm=function(a){J=a;$f();ah(this);fg(J)};function ah(a){a.Dy.vw="easy"==J;a.hn.vw="normal"==J};ag.prototype=new sg;l=ag.prototype;l.constructor=ag;
function ag(a,b){this.Dh=b;this.Yb=!1;this.color="white";this.vf=1<=gc();this.n=a;this.Fv=null;this.tm=J;this.gs=null;this.buttons=[];var c=this;this.buttons.push(new Z("BACK",16,70,P/2+260,60,65,this.color,z.impulse_blue,function(){vg(c.U,"fade_out",function(){T=new Mf});Of("Hive 0",250,.3)},"back"));this.xh=["easy","normal"];this.tE=new dh(16,730,P/2+260,100,65,this.color,z.impulse_blue,this);this.buttons.push(this.tE);this.BD=5;this.Hl=P/2;bg(this);cc(ac,ja.Menu);this.Iy=500;this.Jy=250;this.ui=
this.Nm=null;ig();this.U=new wg({fade_in:250,fade_across:250,fade_out:250});vg(this.U,"fade_in");this.tf=[];this.jg=this.Pk=1E3;this.Mr=2E3;this.Ec={x:O/2/E,y:this.Hl/E};this.Qk=5;this.Nr=8;Ke&&setTimeout(function(){T=new Lg(0,null,null,null,null,null,!1,!0)})}
function bg(a){a.Nn={};for(var b=0;b<a.xh.length;b++){var c=a.xh[b];a.Nn[c]={0:!0,1:!0,2:Je[c]["world 1"]||!1||Qd,3:Je[c]["world 2"]||!1||Qd,4:Je[c]["world 3"]||!1||Qd}}a.Vi={};a.Ph={};a.ah={};for(b=0;b<a.xh.length;b++)if(a.Vi[a.xh[b]]={},a.Ph[a.xh[b]]=[],a.ah[a.xh[b]]={},eh(a,a.xh[b]),a.Dh)fh(a,a.xh[b]),gh(a,0,a.Hl,!0,a.xh[b]);else for(var c=a,d=a.xh[b],f=0;4>=f;f++)gh(c,f,c.Hl,c.Nn[d][f],d)}
function eh(a,b){for(var c=["T","1","2","3","4"],d=2,f=2;f<a.BD&&(!(1<f)||a.Nn[b][f]);f++)d+=1;for(var g=O/2-37.5*(d-1),f=0;f<d;f++){var h=a;a.Ph[b].push(new Z(c[f],16,g+75*f,P/2+250,60,60,z["world "+f+" bright"],z.impulse_blue,function(a){return function(){h.n!=a&&(vg(h.U,"fade_across",function(){h.n=a}),hh(h,a,h.tm),h.Fv=a,h.gs=h.tm)}}(f),"world"+f))}}
function ih(a){var b=J;if(a.tm!=b){for(var c=a.n;1<c&&!a.Nn[b][c];)--c;vg(a.U,"fade_across",function(){a.tm=a.gs;a.n=c});hh(a,c,b);a.Fv=c;a.gs=b}}function hh(a,b,c){void 0==b&&(b=a.n);0!=b&&"normal"==c?Of("Title Alt"+b,250,.15):Of("Hive 0",250,.3)}
function fh(a,b){for(var c=1;4>=c;c++){a.ah[b][c]=[];for(var d=0;8>d;d++){var f="HIVE "+c+"-"+(d+1);7==d&&(f="BOSS "+c);var g=a,h=z["world "+c+" bright"],h=new Z(d+1,30,O/2+150*(-1.5+d%4),4<=d?P/2+100:P/2,75,75,h,h,function(a,b){return function(){g.Nm=g.Jy;g.ui=g.Nm;g.Fu=z["world "+b+" dark"];var c=Ve.getContext("2d");Ab(c,0,O,P,"Hive "+g.n);setTimeout(function(){T=new Ng(a,b)},g.Jy)}}(f,c),"practice"+c);h.ww=!1;h.V=f;a.ah[b][c].push(h);h.$c=N[f].Ia[b].vg||0==d&&a.Nn[b][c]||Qd;h.$c||(h.color="gray")}}}
function gh(a,b,c,d,f){a.Vi[f][b]=new Z(d?"START":"LOCKED",50,O/2,c,150,150,z["world "+b+" bright"],z["world "+b+" bright"],function(){a.Nm=a.Iy;a.ui=a.Nm;a.Fu=z["world "+b+" dark"];var c=Ve.getContext("2d");Ab(c,0,O,P,"Hive "+a.n);setTimeout(function(){T=new Lg(b,null,null,null,null,null,!1,!0)},a.Iy)},"world"+b);a.Vi[f][b].$c=d}
l.X=function(a){if(!Ke){this.Fu&&(a.save(),a.globalAlpha=1-this.ui/this.Nm,a.fillStyle=this.Fu,a.fillRect(0,0,O,P),a.globalAlpha*=jg(this.n),a.drawImage(Ve,0,0,O,P,0,0,O,P),a.restore());a.save();null!=this.ui&&(a.globalAlpha*=Math.max(this.ui/this.Nm,0));"fade_in"==this.U.bc?a.globalAlpha*=xg(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-xg(this.U));this.Yb||(bg_canvas.setAttribute("style",""),this.Yb=!0);for(var b=0;b<this.buttons.length;b++)this.buttons[b].X(a);!this.Dh&&this.Nn[J][this.n]&&
this.Dm(a,E);a.font="13px Muli";a.fillStyle="white";a.fillText("SELECT HIVE",O/2,P/2+215);"fade_across"==this.U.bc?(a.save(),a.globalAlpha*=1-xg(this.U),jh(this,a,this.n,this.tm),a.restore(),a.save(),a.globalAlpha*=xg(this.U),jh(this,a,this.Fv,this.gs),a.restore()):jh(this,a,this.n,this.tm)}};
function jh(a,b,c,d){a.Dh&&0!=c||a.Vi[d][c].X(b);if(0<c&&a.Dh&&0!=c)for(var f=0;f<a.ah[d][c].length;f++)a.ah[d][c][f].X(b);0!=c&&(a.Dh?(b.fillStyle="white",b.font="20px Muli",b.fillText("PRACTICE MODE",O/2,a.Hl-170)):"normal"==J&&(b.fillStyle="white",b.font="24px Muli",b.fillText("HARD MODE",O/2,a.Hl-170)));b.fillStyle=z["world "+c+" bright"];b.font="42px Muli";b.textAlign="center";0<c?b.fillText("HIVE "+oa[c],O/2,a.Hl-125):b.fillText("TUTORIAL",O/2,a.Hl-125);for(f=0;f<a.Ph[d].length;f++)a.Ph[d][f].X(b),
a.Ph[d][f].Qh&&(b.textAlign="center",b.font="15px Muli",0==f?(b.fillStyle=z["world "+f+" bright"],b.fillText("TUTORIAL",O/2,P-8)):a.Ph[d][f].$c&&(b.fillStyle=z["world "+f+" bright"],b.fillText("HIVE "+oa[f],O/2,P-8)));a.Dh&&0!=c||Ug(a.Vi[d][c],b);if(0<c&&a.Dh)for(f=0;f<a.ah[d][c].length;f++)Ug(a.ah[d][c][f],b)}l.na=function(a){Ke||(null!=this.ui&&(this.ui-=a),this.Dh||this.mn(a),this.U.na(a),Qf(a))};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b);var d=J;if(this.Dh)if(0!=this.n)for(c=0;c<this.ah[d][this.n].length;c++)this.ah[d][this.n][c].Ea(a,b);else this.Vi[d][this.n].Ea(a,b);else this.Vi[d][this.n].Ea(a,b);for(c=0;c<this.Ph[d].length;c++)this.Ph[d][c].Ea(a,b)};
l.Oa=function(a,b){if(null==this.ui){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b);var d=J;if(this.Dh)if(0!=this.n)for(c=0;c<this.ah[d][this.n].length;c++)this.ah[d][this.n][c].Oa(a,b);else this.Vi[d][this.n].Oa(a,b);else this.Vi[d][this.n].Oa(a,b);for(c=0;c<this.Ph[d].length;c++)this.Ph[d][c].Oa(a,b)}};l.mn=lg.prototype.mn;l.np=lg.prototype.np;l.Dm=lg.prototype.Dm;nc.prototype=new Rf;l=nc.prototype;l.constructor=nc;function nc(a){this.V="HOW TO PLAY";this.ia(0,null,null,!0,this.L,!1);this.mode=a;this.ready=!1;this.i=this.Um(N["HOW TO PLAY"]);this.i.fn=!0;this.L=new ec(0,!1);this.Rd=!1;this.eg=0;this.zm=100;this.BA=3E3;this.Ba=this.Md=500;this.ib="in"}l.Um=tg.prototype.Um;
l.Xr=function(){this.ready=!0;this.i.v=this;this.i.reset();this.V=this.i.V;this.pa=!1;zg(this);De.setAttribute("style","display:none");Ee.translate(Y,0);this.i.Ne(Ee);Ee.translate(-Y,0);cc(ac,ja.Interlude);this.color=this.pa?z["boss "+this.n]:z["world "+this.n+" lite"];this.ri=z["world "+this.n+" dark"];this.Fc=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.Kd=12;"normal_tutorial"==this.mode?this.da=0:"first_time_tutorial"==this.mode?(this.da=-1,this.eg=this.BA,this.Rd=!0):"ult_tutorial"==
this.mode&&(this.da=0,this.eg=.5*this.BA,this.Rd=!0);this.Cn=null;this.aq=document.createElement("canvas");this.aq.width=150;this.aq.height=150;this.Tb=this.aq.getContext("2d");this.cq=document.createElement("canvas");this.cq.width=150;this.cq.height=150;this.td=this.cq.getContext("2d");this.pE=["white","silver","gold"];this.rE=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];this.sE=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"];this.Bn=["white","silver","gold"];var a=this;this.Kk=new Z("EXIT TUTORIAL",
20,400,440,125,85,this.Fc,"white",function(){a.Cu=!0},"quit");this.El=(this.vf=1<=gc())?2:0;this.Kd+=this.El;this.vf&&(this.L.ik=99)};l.rm=function(a){J=a;$f()};
l.Uc=function(a){if(!this.pause&&1==this.zoom){var b=this.q;b.r[5]=Math.max(1E3,b.r[5]);this.Rd&&(0>=this.eg?(this.Rd=!1,this.ib="out",this.Ba=this.Md):this.eg-=a);this.Ba-=a;0>this.Ba&&"none"!=this.ib&&1==this.zoom&&("in"==this.ib?this.ib="none":"out"==this.ib&&(kh(this,this.da+1),2==this.da&&"ult_tutorial"==this.mode&&(this.Kk.y=550),this.ib="in",this.Ba=this.Md))}};
l.ee=function(a){if(1==this.zoom){a.save();a.translate(Y,0);if("in"==this.ib){var b=this.Ba/this.Md;a.globalAlpha=1-b}else"out"==this.ib&&(b=this.Ba/this.Md,a.globalAlpha=Math.max(0,b));if("first_time_tutorial"==this.mode)if(a.font="24px Muli",a.textAlign="center",a.fillStyle="white",-1==this.da&&(mb(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("INTRO TUTORIAL",400,500),a.font="18px Muli",a.fillStyle=z.impulse_blue,a.fillText("PRESS Q TO PAUSE AND QUIT",400,535)),0==this.da&&("right"==D.Fb&&
Qa(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Fb&&"mouse"==D.uc&&Qa(a,400,430,60,"white"),a.fillText("MOVE",400,500)),1==this.da&&("mouse"==D.uc?Ua(a,400,400,83,125,"white"):Qa(a,400,430,60,"white"),a.fillText("IMPULSE",400,500),a.save(),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",400,550),a.restore()),2==this.da&&lh(this,a),3==this.da&&mh(this,a),4==this.da&&nh(a),5==this.da&&oh(a),6==this.da&&ph(a),7==this.da&&qh(this,a),8==this.da&&nh(a),9==this.da&&
rh(this,a),-1!=[2,5,6,7].indexOf(this.da))a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*sh()),a.font="16px Muli",a.fillText("PRESS SPACEBAR TO CONTINUE",400,580),a.restore();else if(0==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*sh()),a.font="16px Muli",a.fillText("TRY MOVING NOW",400,580),a.restore();else if(1==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*sh()),a.font="16px Muli",a.fillText("TRY IMPULSING NOW",400,580),
a.restore();else if(3==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*sh()),a.font="16px Muli",a.fillText("TRY KILLING AN ENEMY NOW",400,580),a.restore();else if(4==this.da||8==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*sh()),a.font="16px Muli",a.fillText("GET THE GATEWAY SCORE",400,580),a.restore();if("normal_tutorial"==this.mode){a.font="20px Muli";a.textAlign="center";a.fillStyle="white";0==this.da&&(mb(a,400,380,"MARK ZHANG"),a.font="24px Muli",
a.fillStyle="white",a.fillText("TUTORIAL",400,500));1==this.da&&("right"==D.Fb&&Qa(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Fb&&"mouse"==D.uc&&Qa(a,400,430,60,"white"),a.fillText("MOVE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillStyle="white",a.fillText("ALTERNATE CONTROLS AVAILABLE IN PAUSE MENU",400,550));2==this.da&&(a.font="20px Muli","mouse"==D.uc?Ua(a,400,400,83,125,"white"):Qa(a,400,430,60,"white"),a.fillText("USE IMPULSE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",
400,550));3==this.da&&lh(this,a);4==this.da&&mh(this,a);if(5==this.da){for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=z[this.pE[b]],a.shadowColor=a.fillStyle,a.font="25px Muli",a.fillText(N["HOW TO PLAY"].za[J][b],600,40*b+337),a.textAlign="left",a.font="20px Muli",a.fillText(this.rE[b],200,330+40*b),a.font="12px Muli",a.fillText(this.sE[b],200,40*b+345);a.beginPath();a.rect(190,308,420,45);a.strokeStyle="red";a.lineWidth=8;a.stroke();a.beginPath();a.rect(825,515,150,80);a.strokeStyle=
"red";a.lineWidth=6;a.stroke();a.font="20px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE...",400,500);a.shadowColor="red";a.fillStyle="red"}6==this.da&&rh(this,a);this.da==7+this.El&&oh(a);this.da==8+this.El&&ph(a);this.da==9+this.El&&qh(this,a);this.vf&&(a.fillStyle="white",a.textAlign="center",7==this.da&&th(a),8==this.da&&uh(this,a));this.da==10+this.El&&(a.font="20px Muli",a.fillStyle="white","right"==D.Fb?(Ra(a,250,406,55,55,10,"white"),a.fillText("Q",250,
412)):"left"==D.Fb&&(Ra(a,250,406,125,55,10,"white"),a.fillText("ENTER",250,412)),Ra(a,400,406,55,55,10,"white"),a.fillText("X",400,412),Ra(a,550,406,55,55,10,"white"),a.fillText("C",550,412),a.font="16px Muli",a.fillText("PAUSE",250,462),a.fillText("MUTE MUSIC",400,462),a.fillText("FULLSCREEN",550,462),a.font="12px Muli",a.fillText("ENEMY INFO AND GAME OPTIONS IN THE PAUSE MENU",400,530));this.da==11+this.El&&(this.Kk.X(a),a.fillStyle=z.impulse_blue,a.font="16px Muli",a.fillText("THANKS FOR PLAYING IMPULSE!",
400,335),a.font="12px Muli",a.fillText("- MARK -",400,360));a.globalAlpha=1;0<this.da&&(Sa(a,100,420,20,"left","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("BACK",98,450));this.da<this.Kd-1&&(Sa(a,700,420,20,"right","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("NEXT",702,450));for(b=0;b<this.Kd;b++){var c=(this.Kd-1)/2-b;a.beginPath();a.arc(400-25*c,580,4,0,2*Math.PI,!0);a.fillStyle="white";this.da==b?(a.fillStyle="white",a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=
5,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=5)}}"ult_tutorial"==this.mode&&(a.fillStyle="white",a.textAlign="center",0==this.da&&(mb(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("ULT TUTORIAL",400,500)),1==this.da&&th(a),2==this.da&&uh(this,a));a.restore()}};
function nh(a){a.beginPath();a.rect(825,515,150,80);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.font="24px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE TO BEAT THE LEVEL",400,420);a.save();a.globalAlpha*=sh();vh(a,735,555,50,"red");a.restore()}
function vh(a,b,c,d,f,g){a.save();g&&(a.translate(b,c),"left"==g&&a.rotate(Math.PI),"up"==g&&a.rotate(3*Math.PI/2),"down"==g&&a.rotate(Math.PI/2),a.translate(-b,-c));a.beginPath();a.moveTo(b-d/2,c);a.lineTo(b+.355*d,c);a.lineWidth=d/5;a.strokeStyle=f;a.stroke();Sa(a,b+d/2,c,.6*d,"right",f,!1);a.restore()}
function oh(a){a.font="24px Muli";a.fillStyle="white";a.fillText("YOUR MULTIPLIER INCREASES THE POINTS",400,340);a.fillText("YOU GET FROM KILLING ENEMIES",400,375);a.fillStyle=z.impulse_blue;a.font="48px Muli";a.fillText("100",250,450);a.fillStyle="white";a.font="12px Muli";a.fillText("BASE POINT VALUE",250,480);a.fillText("OF ENEMY",250,500);vh(a,325,435,30,"white");a.fillStyle=z.impulse_blue;a.font="48px Muli";a.textAlign="center";a.fillText("x5",400,450);a.fillStyle="white";a.font="12px Muli";
a.fillText("YOUR CURRENT",400,480);a.fillText("MULTIPLIER",400,500);vh(a,475,435,30,"white");a.fillStyle=z.impulse_blue;a.font="48px Muli";a.fillText("+500",565,450);a.fillStyle="white";a.font="12px Muli";a.fillText("TOTAL POINTS",565,480);a.fillText("GAINED",565,500);a.beginPath();a.rect(825,225,150,100);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.save();a.globalAlpha*=sh();vh(a,735,280,50,"red");a.restore()}
function ph(a){a.fillStyle="white";a.font="16px Muli";a.fillText("KILLING ENEMIES",250,360);a.fillStyle=z.impulse_blue;a.font="36px Muli";a.fillText("INCREASES",250,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",250,430);a.fillText("TOUCHING ENEMIES",550,360);a.fillStyle="red";a.font="36px Muli";a.fillText("RESETS",550,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",550,430);a.fillStyle="white";a.save();a.globalAlpha*=.5;a.font="12px Muli";a.fillText("MULTIPLIER PERMANENTLY +1 EVERY 10 SECONDS",
400,500);a.restore()}
function qh(a,b){b.beginPath();b.arc(a.i.dk.x,a.i.dk.y,25,0,2*Math.PI);b.lineWidth=4;b.strokeStyle="red";b.stroke();b.beginPath();b.arc(a.i.zf.x,a.i.zf.y,25,0,2*Math.PI);b.stroke();I(b,300,440,void 0,25,25,"spark");b.font="16px Muli";b.fillStyle=z.impulse_blue;b.fillText("+10 SPARKS",300,475);I(b,500,440,void 0,25,25,"multi");b.font="16px Muli";b.fillStyle="white";b.fillText("+5 MULTIPLIER",500,475);b.font="24px Muli";b.fillText("POWERUPS",400,350);b.font="12px Muli";b.fillStyle=z.impulse_blue;b.fillText("100 SPARKS = EXTRA LIFE",
300,495);b.beginPath();b.rect(-160,Cc-140,120,80);b.strokeStyle="red";b.lineWidth=4;b.stroke()}function th(a){"mouse"==D.uc?(Va(a,400,400,83,125,"white"),a.font="20px Muli",a.fillText("USE ULTIMATE",400,500)):(Ra(a,400,400,55,55,10,"white"),a.font="20px Muli",a.fillText("E",400,406),a.fillText("USE ULTIMATE",400,470))}
function uh(a,b){I(b,400,330,0,60,60,"ultimate");b.font="16px Muli";b.textAlign="center";b.fillStyle="white";b.shadowBlur=0;b.fillText("YOU GET NO POINTS FOR KILLING ENEMIES WITH YOUR ULTIMATE",400,430);b.fillText("WHILE USING YOUR ULTIMATE, YOU ARE INVINCIBLE",400,480);"ult_tutorial"==a.mode&&a.Kk.X(b)}function sh(){return Math.abs(((new Date).getTime()%2E3-1E3)/1E3)}
function mh(a,b){b.drawImage(a.aq,0,0,150,150,225,300,150,150);b.drawImage(a.cq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.restore();b.shadowBlur=0;b.beginPath();b.moveTo(385,375);b.lineTo(400,375);b.lineWidth=8;b.strokeStyle="white";b.stroke();Sa(b,408,375,20,"right","white",!1);b.font="20px Muli";b.fillStyle="white";b.textAlign="center";b.fillText("IMPULSE ENEMIES INTO THE VOID TO KILL THEM",
400,500);0<a.i.s.length&&(b.save(),b.globalAlpha*=sh(),b.beginPath(),b.arc(a.i.s[0].body.g.position.x*E,a.i.s[0].body.g.position.y*E,25,0,2*Math.PI),b.lineWidth=6,b.strokeStyle=z.impulse_blue,b.stroke(),b.beginPath(),b.moveTo(a.i.s[0].body.g.position.x*E,a.i.s[0].body.g.position.y*E-25),b.lineTo(a.i.s[0].body.g.position.x*E,66),b.lineWidth=6,b.stroke(),Sa(b,a.i.s[0].body.g.position.x*E,60,25,"up",z.impulse_blue,!1),b.restore())}
function lh(a,b){b.drawImage(a.aq,0,0,150,150,225,300,150,150);b.drawImage(a.cq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.shadowBlur=0;vh(b,400,375,25,"white");b.shadowBlur=0;b.font="20px Muli";b.fillText("TOUCHING THE BLACK VOID WILL KILL YOU",400,500);for(var c=0;6>c;c++)vh(b,150+100*c,220,35,"red","down"),vh(b,150+100*c,120,35,"red","up");b.restore()}
function rh(a,b){Sa(b,355,170,25,"right","red",!1);Sa(b,445,170,25,"left","red",!1);Sa(b,400,125,25,"down","red",!1);Sa(b,400,215,25,"up","red",!1);b.beginPath();b.arc(400,170,50,0,2*Math.PI);b.lineWidth=8;b.shadowBlur=0;b.strokeStyle="red";b.stroke();"first_time_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",
400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");"normal_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("...THEN MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");b.fillStyle="white";"right"==D.Fb&&(Ra(b,400,445,300,50,10,"white"),b.fillText("SPACEBAR",400,451));"left"==D.Fb&&
(Ra(b,400,445,120,50,10,"white"),b.fillText("SHIFT",400,451))}function wh(a,b){b.save();b.beginPath();b.rect(0,0,150,75);b.fillStyle=a.ri;b.fill();Ab(b,75,150,150,"Hive 0");b.beginPath();b.moveTo(0,75);b.lineTo(150,75);b.lineWidth=6;b.strokeStyle=z["world 0 lite"];b.stroke();b.restore()}l.Ea=function(a,b){!this.pause&&this.ready&&1==this.zoom&&("normal_tutorial"==this.mode&&this.da==this.Kd-1&&this.Kk.Ea(a-Y,b),this.q.Bv=Ig(this,{x:a-Y,y:b}),"ult_tutorial"==this.mode&&2==this.da&&this.Kk.Ea(a-Y,b))};
l.De=function(a){this.ready&&1==this.zoom&&(a==ua.$i||a==ua.qk?(this.pause=!this.pause)&&(He=new Fg(this.i,this.n,this.H,this,this.Lb)):a==ua.Dq&&this.L&&this.yj&&Q(this.i.Ec,this.q.body.g.position)<this.i.Qk?"first_time_tutorial"==this.mode&&9>this.da||(this.sa=!0):kc(this.q,a),32==a&&-1!=[2,5,6,7].indexOf(this.da)&&"first_time_tutorial"==this.mode&&0==this.Rd&&"none"==this.ib&&(this.eg=0,this.Rd=!0))};
function kh(a,b){if("normal_tutorial"==a.mode&&4<=b||"first_time_tutorial"==a.mode&&3==b)a.i.fn=!1;"first_time_tutorial"==a.mode&&4==b&&(a.i.fn=!1);"ult_tutorial"==a.mode&&1==b&&(a.i.fn=!1,a.i.py=!0);"first_time_tutorial"==a.mode&&5==b&&(a.i.fn=!0);if("first_time_tutorial"==a.mode&&8==b&&(a.i.fn=!1,a.i.py=!0,a.yj)){kh(a,b+1);return}if("normal_tutorial"==a.mode&&3==b&&3!=a.da||"first_time_tutorial"==a.mode&&2==b)a.Cn=new qg("player",{x:75/E,y:73/E},{x:0,y:0},!1),a.Cn.na(300);if("normal_tutorial"==
a.mode&&4==b&&4!=a.da||"first_time_tutorial"==a.mode&&3==b)a.Cn=new qg("stunner",{x:75/E,y:60/E},{x:0,y:-5},!1),a.Cn.na(100);a.da=b;if("normal_tutorial"==a.mode&&3==a.da||"first_time_tutorial"==a.mode&&2==a.da)a.Tb.clearRect(0,0,150,150),a.td.clearRect(0,0,150,150),wh(a,a.Tb),wh(a,a.td),vh(a.Tb,30,110,35,"red","up"),vh(a.Tb,120,110,35,"red","up"),vh(a.td,30,110,35,"red","up"),vh(a.td,120,110,35,"red","up"),I(a.Tb,75,75,0,30,30,"player_normal"),a.Tb.beginPath(),a.Tb.moveTo(75,55),a.Tb.lineTo(75,40),
a.Tb.lineWidth=4,a.Tb.strokeStyle=z.impulse_blue,a.Tb.stroke(),Sa(a.Tb,75,40,13,"up",z.impulse_blue,!1),a.Cn.X(a.td);if("normal_tutorial"==a.mode&&4==a.da||"first_time_tutorial"==a.mode&&3==a.da)a.Tb.clearRect(0,0,150,150),a.td.clearRect(0,0,150,150),wh(a,a.Tb),wh(a,a.td),I(a.Tb,75,120,0,30,30,"player_normal"),a.Tb.beginPath(),a.Tb.shadowOffsetX=0,a.Tb.shadowOffsetY=0,a.Tb.lineWidth=5,a.Tb.strokeStyle=z.impulse_blue,a.Tb.arc(75,120,40,7*Math.PI/6,11*Math.PI/6),a.Tb.shadowBlur=0,a.Tb.stroke(),Ia(a.Tb,
"stunner",75,77,1,Math.PI/2),a.Tb.beginPath(),a.Tb.moveTo(75,58),a.Tb.lineTo(75,43),a.Tb.lineWidth=4,a.Tb.strokeStyle="cyan",a.Tb.stroke(),Sa(a.Tb,75,40,13,"up","cyan",!1),I(a.td,75,120,0,30,30,"player_normal"),a.td.globalAlpha=.5,a.td.globalAlpha=1,a.td.beginPath(),a.td.shadowOffsetX=0,a.td.shadowOffsetY=0,a.td.lineWidth=5,a.td.strokeStyle=a.td.shadowColor,a.td.arc(75,120,50,7*Math.PI/6,11*Math.PI/6),a.td.shadowBlur=0,a.td.stroke(),a.Cn.X(a.td)}
l.rg=function(a,b){if(!(null!=this.ol&&120>Math.abs(a-Y/2)&&160>Math.abs(b-(Cc/2+60)))){if(!this.pause&&this.ready&&1==this.zoom)if("normal_tutorial"==this.mode&&a>Y&&(a<Bc-Y&&400<b||this.da==10+this.El&&350<b)){if(this.da==this.Kd-1&&this.Kk.Oa(a-Y,b),400>a&&0<this.da&&kh(this,this.da-1),800<a&&this.da<this.Kd-1&&kh(this,this.da+1),565<b&&595>b){var c=Math.round((this.Kd-1)/2-(600-a)/25);0<=c&&c<this.Kd&&kh(this,c)}}else c=this.q,c.dv=(new Date).getTime(),c.Qp=!0;"ult_tutorial"==this.mode&&2==this.da&&
this.Kk.Oa(a-Y,b)}};l.Lr=function(){"first_time_tutorial"==this.mode&&this.sa||this.Cu?T=new Mg(this.L,this.hc,{H:this.H,i:this.i,n:this.n,Lb:this.Lb,up:!0,IA:this.mode}):(this.Ts=.1,this.vq=1,this.zoom=.1,this.Jl=!0,Bg(this,1,1E3),this.Mk="in",this.ready=!0,this.L=new ec(this.n,!1),this.i.reset(),this.reset(),zg(this),this.i.hc=!1)};l.wj=function(){8==this.da&&"first_time_tutorial"==this.mode&&0==this.Rd&&"none"==this.ib&&(this.eg=this.zm,this.Rd=!0)};function xh(a,b,c,d,f,g,h){f&&this.ia(a,b,c,d,f,g,h)}l=xh.prototype;l.ia=function(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.action=f;this.$c=!0;this.border=g;this.color=h;this.ta=!1;this.Za=null;this.Ob};l.X=function(a){a.save();this.border&&(a.beginPath(),a.strokeStyle=this.$c?this.ta&&this.Za?this.Za:this.color:"gray",a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=4,a.stroke());this.ee(a);a.restore()};function Ug(a,b){a.Ob&&a.Ob.X(b)}l.ee=function(){};
l.Ea=function(a,b){a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.$c&&(this.ta=!0),this.Qh=!0):this.Qh=this.ta=!1;this.Ob&&(this.Ob.visible=this.Qh,Vf(this.Ob,a,b))};l.Oa=function(a,b){return this.$c&&a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.action(),!0):!1};l.De=function(a){(this.$c&&this.keyCode&&this.keyCode==a||this.bA&&this.bA==a)&&this.action()};function ch(a,b){a.Ob=b}l.rg=function(){};l.Wg=function(){};yh.prototype=new xh;yh.prototype.constructor=yh;function yh(a,b,c,d,f,g,h,k,m){this.text=a;this.ia(b,c,d,f,null,!1,g);this.Rr=h;this.Jg=new zh(this.x+this.u/2-20,this.y,20,20,this.color);this.Jg.checked=m();this.Yx=!0;this.action=function(){k(this.Jg.checked);this.Yx&&(this.Jg.checked=!this.Jg.checked)}}
yh.prototype.ee=function(a){a.save();this.Qh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Qh?this.Rr:this.color;a.fillText(this.text,this.x-this.u/2+10,this.y+7);this.Jg.color=this.Qh?this.Rr:this.color;this.Jg.X(a);a.restore()};function Ah(){}l=Ah.prototype;l.ia=function(a,b){this.u=a;this.m=b;this.x=Bc/2;this.y=Cc/2;this.buttons=[];this.xn=!0;this.U=new wg({fade_in:500,fade_out:250})};l.na=function(a){this.U.na(a)};
l.X=function(a){a.save();a.fillStyle=z["world "+this.n+" dark"];a.fillRect(Y,0,O,P);a.globalAlpha*=jg(this.n?this.n:0);a.drawImage(Ve,0,0,O,P,Y,0,O,P);a.restore();a.save();"fade_in"==this.U.bc?a.globalAlpha*=xg(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-xg(this.U));this.xn&&(a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fillStyle="white",a.fill(),a.lineWidth=2,a.strokeStyle="black",a.stroke());this.ee(a);a.restore()};l.Ne=function(){};l.ee=function(){};l.Ea=function(){};
l.rg=function(){};l.Wg=function(){};l.Oa=function(){};l.De=function(){};l.Wp=function(){};Fg.prototype=new Ah;l=Fg.prototype;l.constructor=Fg;
function Fg(a,b,c,d,f){this.i=a;this.H=c;this.vb=d;this.n=b;this.V=this.i.V;this.pa="BOSS"==this.V.slice(0,4);this.Lb=f;this.ia(800,600);this.xn=!1;this.kf="black";this.J=z["world "+this.n+" bright"];this.color=z["world "+this.n];this.Fc=this.vb.Fc;this.Gk=null;if(this.pa)this.Gk={},this.We=0;else{this.Gk=N[this.V].s;this.We=0;for(var g in N[this.V].s)this.We+=1}this.Lf=40;Bh(this)}l.Ne=function(){};
function Bh(a){a.buttons=[];var b="white";if(0==a.n||void 0==a.n)b=z.impulse_blue;"HOW TO PLAY"!=a.V.slice(0,11)&&0!=a.n?(a.i.hc?(a.oE=new Z("SAVE & QUIT",16,a.x+170,a.y-a.m/2+500,120,65,a.J,b,function(a){return function(){hg(a.vb.L);T=new Qg(a.vb.n,!1,a.vb.L,null,null,!0,!0);He=null}}(a),"save"),a.buttons.push(a.oE),a.rs=new Z("QUIT",16,a.x-170,a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){hg({});T=new Qg(a.vb.n,!1,a.vb.L,null,null);He=null}}(a),"quit")):(a.tl=new Z("RETRY",16,a.x-173,
a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){Ee.translate(Y,0);a.i.v=null;a.i.Ne(Ee);Ee.translate(-Y,0);var b=new ec(a.vb.n,!1);T=new Rf(a.vb.n,a.i,a.Lb,b,!1,!1);He=null}}(a),"retry"),a.buttons.push(a.tl),a.tl.keyCode=ua.Lq,a.tl.rf="right"==D.Fb?"R KEY":"SHIFT KEY",a.rs=new Z("QUIT",16,a.x+180,a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){T=new Mg(a.vb.L,a.vb.hc,{H:a.vb.H,i:a.vb.i,n:a.vb.n,Lb:a.vb.Lb,sa:!1});He=null}}(a),"quit")),a.buttons.push(a.rs),a.Hv=new Z("OPTIONS",16,a.x,
a.y-a.m/2+500,100,65,a.J,b,function(a){return function(){vg(a.U,"fade_out",function(){He=new Yf(a)})}}(a),"options")):(a.rs=new Z(0==a.n&&Ke?"SKIP TUTORIAL":"QUIT",16,a.x+100,a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){T=new Mg(a.vb.L,a.vb.hc,{H:a.vb.H,i:a.vb.i,n:a.vb.n,Lb:a.vb.Lb,up:!0,Ju:Ke,sa:!0});He=null}}(a),"quit"),a.buttons.push(a.rs),a.Hv=new Z("OPTIONS",16,a.x-100,a.y-a.m/2+500,100,65,a.J,b,function(a){return function(){vg(a.U,"fade_out",function(){He=new Yf(a)})}}(a),"options"));
a.Hv.kf=a.kf;a.buttons.push(a.Hv);a.ul=new Z("RESUME",24,a.x,a.y-a.m/2+350,150,100,a.J,b,function(a){return function(){Jg(a.vb)}}(a),"resume");a.ul.keyCode=ua.$i;a.ul.bA=ua.qk;a.ul.rf="right"==D.Fb?"Q KEY":"ENTER KEY";a.buttons.push(a.ul);var b=0,c;for(c in a.Gk){for(var d=0,f=0;d<b+1&&d<a.We;)d+=12;f=d<=a.We?12:a.We-(d-12);d=new Og(c,a.Lf,a.x+(a.Lf+10)*(b-(d-12)-(f-1)/2),a.y-a.m/2+200+a.Lf*(Math.floor(b/12)-(Math.ceil(a.We/12)-1)/2),a.Lf,a.Lf,a.i.Fc,function(a,b){return function(){vg(b.U,"fade_out",
function(){He=new Pg(a,b)})}}(c,a));d.Rx=a.J;a.buttons.push(d);b+=1}c=new Z("",20,a.x+a.u/2-20,a.y-a.m/2+20,30,30,a.J,"white",function(){Xf()},"fullscreen_in_game");a.buttons.push(c);c=new Z("",20,a.x+a.u/2-50,a.y-a.m/2+20,30,30,a.J,"white",function(){Zf()},"mute_in_game");a.buttons.push(c)}
l.ee=function(a){a.save();a.beginPath();a.textAlign="center";this.i.hc&&0<this.vb.L.Kg&&(a.font="14px Muli",a.fillStyle="red",a.shadowBlur=10,a.shadowColor=a.fillStyle,a.fillText("CONTINUES: "+this.vb.L.Kg,this.x,this.y-this.m/2+70));a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.J;a.fillStyle=this.J;a.fillText("MENU",this.x,this.y-this.m/2+100);a.font="16px Muli";0<this.We&&a.fillText("DETAILED ENEMY INFO",this.x,this.y-this.m/2+165);a.textAlign="center";for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].X(a);
a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.De=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].De(a)};Yf.prototype=new Ah;l=Yf.prototype;l.constructor=Yf;
function Yf(a){this.ia(800,600);this.vb=a.vb;this.xn=!1;this.n=a.n;this.Sh=133;var b="white";if(0==this.n||void 0==this.n)b=z.impulse_blue;this.Zb=a;this.Zb instanceof Fg?(this.kf=this.Zb.kf,this.color=this.Zb.color,this.Fc=this.Zb.Fc,this.J=this.Zb.J):(this.kf=z["world 0 dark"],this.color=z["world 0"],this.Fc=z["world 0 lite"],this.J=z["world 0 bright"],this.Ne());this.oi=new Z("BACK",16,this.x,this.y-this.m/2+560,60,65,this.J,b,function(a){return function(){vg(a.U,"fade_out",function(){a.Zb instanceof
Fg?(Bh(a.Zb),He=a.Zb,vg(a.Zb.U,"fade_in")):(a.Zb instanceof Mf&&vg(a.Zb.U,"fade_in"),He=null)})}}(this),"back");a=this.x;this.Zb instanceof Mf&&(this.Am=new Z("DELETE GAME DATA",20,this.x+150,this.y+120,200,100,this.J,"red",function(a){return function(){vg(a.U,"fade_out",function(){He=new Ch(a)})}}(this),"delete"),this.buttons.push(this.Am),a=this.x-150);this.buttons.push(this.oi);this.gC=new Z("CHANGE CONTROLS",20,a,this.y+120,200,100,this.J,b,function(a){return function(){vg(a.U,"fade_out",function(){He=
new Dh(a)})}}(this),"controls");this.buttons.push(this.gC);this.pu="";this.fs=new Eh("GAME MUSIC",this.x,this.y-this.m/2+this.Sh,300,30,this.J,"white",function(a){var b=ac;D.im=Math.ceil(100*Math.pow(a,2));b.cc&&!b.Mi&&b.Lc[b.cc].eh(D.im);$f()},Math.pow(D.im/100,.5));this.fs.Sc=ac.Mi;ch(this.fs,new Uf("option_game_music","white",this.n));this.buttons.push(this.fs);this.Cr=new Eh("SOUND EFFECTS",this.x,this.y-this.m/2+this.Sh+30,300,30,this.J,"white",function(a){D.Dr=Math.ceil(100*Math.pow(a,3));$f()},
Math.pow(D.Dr/100,.333));this.Cr.Sc=ac.Mi;ch(this.Cr,new Uf("option_sound_effects","white",this.n));this.buttons.push(this.Cr);this.Kr=new yh("FULLSCREEN",this.x,this.y-this.m/2+this.Sh+60,300,30,this.J,"white",function(){Xf()},function(){return Wf()});ch(this.Kr,new Uf("option_fullscreen","white",this.n));this.Kr.Yx=!1;this.buttons.push(this.Kr);button=new yh("PARTICLE EFFECTS",this.x,this.y-this.m/2+this.Sh+90,300,30,this.J,"white",function(){D.Gr=!D.Gr},function(){return D.Gr});ch(button,new Uf("option_particle_effects",
"white",this.n));this.buttons.push(button);button=new yh("SCORE LABELS",this.x,this.y-this.m/2+this.Sh+120,300,30,this.J,"white",function(){D.ec=!D.ec},function(){return D.ec});ch(button,new Uf("option_score_labels","white",this.n));this.buttons.push(button);button=new yh("MULTIPLIER DISPLAY",this.x,this.y-this.m/2+this.Sh+150,300,30,this.J,"white",function(){D.es=!D.es},function(){return D.es});ch(button,new Uf("option_multiplier_display","white",this.n));this.buttons.push(button);button=new yh("IMPULSE SHADOW",
this.x,this.y-this.m/2+this.Sh+180,300,30,this.J,"white",function(){D.Tr=!D.Tr},function(){return D.Tr});ch(button,new Uf("option_impulse_shadow","white",this.n));this.buttons.push(button);this.vb instanceof Rf&&this.vb.i.hc&&0<this.n&&"normal"==J&&(button=new yh("SPEED RUN COUNTDOWN",this.x,this.y-this.m/2+this.Sh+210,300,30,this.J,"white",function(){D.ci=!D.ci},function(){return D.ci}),ch(button,new Uf("option_speed_run","white",this.n)),this.buttons.push(button));vg(this.U,"fade_in")}
l.Ne=function(){var a=Ve.getContext("2d");Ab(a,0,O,P,"Hive 0")};
l.ee=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.J;a.fillStyle=this.J;a.fillText("OPTIONS",this.x,this.y-this.m/2+100);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].X(a);for(b=0;b<this.buttons.length;b++)Ug(this.buttons[b],a);a.textAlign="center";this.pu&&(a.font="14px Muli",this.vb instanceof Rf&&this.vb.i.hc?a.fillText(this.pu,this.x,this.y-this.m/2+this.Sh+180):a.fillText(this.pu,this.x,this.y-this.m/2+this.Sh+150));a.restore()};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.De=function(){};l.rg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].rg(a,b)};l.Wg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Wg(a,b)};Dh.prototype=new Ah;l=Dh.prototype;l.constructor=Dh;
function Dh(a){this.ia(800,600);this.vb=a.vb;this.xn=!1;this.Zb=a;this.kf=this.Zb.kf;this.Fc=this.Zb.Fc;this.J=this.Zb.J;this.color=this.Zb.color;this.n=a.n;a="white";if(0==this.n||void 0==this.n)a=z.impulse_blue;this.oi=new Z("BACK",16,this.x,this.y-this.m/2+560,60,65,this.J,a,function(a){return function(){vg(a.U,"fade_out",function(){He=a.Zb;vg(a.Zb.U,"fade_in")})}}(this),"back");this.Le={};this.Le["left mouse"]=new Z("LEFT-HAND MOUSE",16,this.x-200,this.y-this.m/2+135,200,100,this.J,a,function(){return function(){D.Fb=
"left";D.uc="mouse";$f();ya()}}(this),"left_mouse");this.Le["right keyboard"]=new Z("KEYBOARD-ONLY",16,this.x,this.y-this.m/2+135,200,100,this.J,a,function(){return function(){D.Fb="right";D.uc="keyboard";$f();ya()}}(this),"keyboard");this.Le["right mouse"]=new Z("RIGHT-HAND MOUSE",16,this.x+200,this.y-this.m/2+135,200,100,this.J,a,function(){return function(){D.Fb="right";D.uc="mouse";$f();ya()}}(this),"right_mouse");this.buttons.push(this.Le["left mouse"]);this.buttons.push(this.Le["right mouse"]);
this.buttons.push(this.Le["right keyboard"]);this.vf=1<=gc();this.buttons.push(this.oi);Fh(this);vg(this.U,"fade_in")}l.Ea=function(a,b){this.rr=null;for(var c in this.Le)this.Le[c].Ea(a,b),this.Le[c].Qh&&(this.rr=c);this.oi.Ea(a,b);Fh(this)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};function Fh(a){for(var b in a.Le)a.Le[b].color=a.J,a.Le[b].border=!1;a.rr?a.Le[a.rr].color=a.J:a.Le[D.Fb+" "+D.uc].color=a.J;a.Le[D.Fb+" "+D.uc].border=!0}
l.ee=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowColor=this.J;a.fillStyle=this.J;a.fillText("CONTROLS",this.x,this.y-this.m/2+50);a.font="18px Muli";a.fillText("SELECT SCHEME",this.x,this.y-this.m/2+75);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].X(a);b=this.rr;null==b&&("right"==D.Fb&&"mouse"==D.uc&&(b="right mouse"),"left"==D.Fb&&"mouse"==D.uc&&(b="left mouse"),"right"==D.Fb&&"keyboard"==D.uc&&(b="right keyboard"));a.globalAlpha*=.6;"right mouse"==
b&&(Qa(a,this.x-200,this.y-this.m/2+300,50,this.J,["W","A","S","D"]),a.fillText("MOVE",this.x-200,this.y-this.m/2+360),this.vf?(Ua(a,this.x,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x,this.y-this.m/2+360),Va(a,this.x+200,this.y-this.m/2+270,75,100,this.J),a.fillText("ULTIMATE",this.x+200,this.y-this.m/2+360)):(Ua(a,this.x+200,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x+200,this.y-this.m/2+360)),Ra(a,this.x,this.y-this.m/2+430,300,40,10,this.J),a.fillText("SPACEBAR",
this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"left mouse"==b&&(this.vf?(Ua(a,this.x-200,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),Va(a,this.x,this.y-this.m/2+270,75,100,this.J),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)):(Ua(a,this.x-200,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360)),Qa(a,this.x+200,this.y-this.m/2+300,50,this.J),a.fillText("MOVE",this.x+
200,this.y-this.m/2+360),Ra(a,this.x,this.y-this.m/2+430,120,40,10,this.J),a.fillText("SHIFT",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"right keyboard"==b&&(Qa(a,this.x-200,this.y-this.m/2+300,50,this.J,["W","A","S","D"]),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),this.vf&&(Ra(a,this.x,this.y-this.m/2+280,45,45,10,this.J),a.font="18px Muli",a.fillText("F",this.x,this.y-this.m/2+286),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)),
Qa(a,this.x+200,this.y-this.m/2+300,50,this.J),a.fillText("MOVE",this.x+200,this.y-this.m/2+360),Ra(a,this.x,this.y-this.m/2+430,300,40,10,this.J),a.fillText("SPACEBAR",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));a.restore()};l.De=function(){};Pg.prototype=new Ah;l=Pg.prototype;l.constructor=Pg;
function Pg(a,b){this.ia(800,600);this.xn=!1;b instanceof Ah?(this.vb=b.vb,this.kf=b.kf,this.color=b.color,this.Fc=b.Fc,this.J=b.J,this.n=this.vb.n):b instanceof sg&&(this.kf="black",this.Fc=z["world "+b.n+" lite"],this.J=z["world "+b.n+" bright"],this.color=z["world "+b.n],this.n=b.n);var c="white";if(0==this.n||void 0==this.n)c=z.impulse_blue;this.Zb=b;this.Ag=this.qj=a;G[this.qj].Ag&&(this.Ag=G[this.qj].Ag);this.sg=this.zg=null;this.vg=G[this.qj].vg;this.u=600;this.oi=new Z("BACK",16,this.x,this.y-
this.m/2+560,60,65,this.J,c,function(a){return function(){vg(a.U,"fade_out",function(){a.Zb instanceof Ah?(He=a.Zb,vg(a.Zb.U,"fade_in")):a.Zb instanceof sg&&(He=null,vg(a.Zb.U,"fade_in"))})}}(this),"back");this.buttons.push(this.oi);this.color=z["world "+this.n];this.rw=500;this.ye=G[this.qj].ye;this.um=null;this.Kd=this.ye.length;this.da=0;vg(this.U,"fade_in")}
l.ee=function(a){a.save();if(null==this.um){var b;b=this.rw;var c=this.ye[this.da].toUpperCase().split(" "),d=[],f=c[0],g=0;if(1==c.length)b=c;else{a.font="20px Muli";for(var h=1;h<c.length;h++){var k=c[h],g=a.measureText(f+k).width;g<b&&"#"!=k?f+=" "+k:(d.push(f),f="#"!=k?k:"");if(h===c.length-1){d.push(f);break}}b=d}this.um=b}a.beginPath();a.textAlign="center";a.fillStyle=this.J;a.font="16px Muli";a.fillText("ENEMY INFO",this.x,this.y-this.m/2+70);a.font="30px Muli";a.fillText(this.Ag.toUpperCase(),
this.x,this.y-this.m/2+120);a.globalAlpha/=3;Ka(a,this.n,this.x,this.y-this.m/2+215,80);a.globalAlpha*=3;Ia(a,this.qj,this.x,this.y-this.m/2+215,1.5);a.font="12px Muli";a.fillText("BASE POINTS",this.x,this.y-this.m/2+310);a.font="24px Muli";a.fillText(G[this.qj].Jc,this.x,this.y-this.m/2+335);a.font="20px Muli";for(b=0;b<this.um.length;b++)c=b-(this.um.length-1)/2,a.fillText(this.um[b],this.x,this.y-this.m/2+427+25*c);if(1<this.Kd)for(Sa(a,this.x-300,this.y-this.m/2+420,20,"left",this.J,!1),a.font=
"10px Muli",a.fillStyle=this.J,a.fillText("NEXT",this.x+302,this.y-this.m/2+450),a.fillText("PREV",this.x-302,this.y-this.m/2+450),Sa(a,this.x+300,this.y-this.m/2+420,20,"right",this.J,!1),b=0;b<this.Kd;b++)c=(this.Kd-1)/2-b,a.beginPath(),a.shadowBlur=5,a.arc(this.x-25*c,this.y-this.m/2+515,4,0,2*Math.PI,!0),this.da==b?(a.fillStyle=this.J,a.shadowColor=a.fillStyle,a.fill()):(a.save(),a.globalAlpha*=.5,a.fillStyle=this.color,a.shadowColor=a.fillStyle,a.fill(),a.restore());for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].X(a);
a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b);a<this.x-this.rw/2?Gh(this,this.da-1):a>this.x+this.rw/2&&Gh(this,this.da+1);500<b&&530>b&&(c=Math.round((this.Kd-1)/2-(this.x-a)/25),0<=c&&c<this.Kd&&Gh(this,c))};function Gh(a,b){a.da=b;0>a.da&&(a.da+=a.Kd);a.da>=a.Kd&&(a.da-=a.Kd);a.um=null}l.De=function(){};Ch.prototype=new Ah;Ch.prototype.constructor=Ch;
function Ch(a){this.ia(800,600);this.Zb=a;this.xn=!1;this.Fc=a.Fc;this.J=a.J;this.ly=!1;this.buttons=[];this.Am=new Z("DELETE GAME DATA",20,this.x,this.y+90,200,100,"white","red",function(a){return function(){bh();a.ly=!0}}(this),"delete");this.buttons.push(this.Am);this.oi=new Z("BACK",16,this.x,this.y-this.m/2+560,60,65,"white","white",function(a){return function(){vg(a.U,"fade_out",function(){He=a.Zb;a.Zb.Ne();vg(a.Zb.U,"fade_in")})}}(this),"back");this.buttons.push(this.oi);vg(this.U,"fade_in")}
Ch.prototype.ee=function(a){if(this.ly)a.fillStyle="red",a.textAlign="center",a.font="24px Muli",a.fillText("ALL GAME DATA HAS BEEN DELETED",this.x,210),this.oi.X(a);else{a.fillStyle="red";a.textAlign="center";a.font="24px Muli";a.fillText("ARE YOU SURE",this.x,200);a.font="24px Muli";a.fillText(" YOU WANT TO DELETE ALL YOUR GAME DATA?",this.x,230);a.font="16px Muli";a.fillText("THIS ACTION CANNOT BE UNDONE.",this.x,290);for(var b=0;b<this.buttons.length;b++)this.buttons[b].X(a)}};
Ch.prototype.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};Ch.prototype.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};function bh(){localStorage.removeItem(Ie);var a=D,b=Oe;Kf();D=a;Oe=b;Ke=!1;$f()};new xh;function qg(a,b,c,d){this.ia(a,b,c,d)}
qg.prototype.ia=function(a,b,c,d){this.uE=d?!0:!1;this.sf=[];if("spark"==a||"multi"==a)c={x:0,y:0};this.Jn=1;d=Math.min(1,10/Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y+.01)));c={x:c.x*d,y:c.y*d};this.hv=1E3;this.color="black";"boss"==a.slice(a.length-4,a.length)?(this.shape=G[a].tr[0],this.color=G[a].color,this.Uj=.5,this.Tp=50,this.pm=10,"boss_two"==a&&(this.pm=20),this.Jn=5,this.hv=2E3):"player"==a?(this.shape={type:"circle",x:0,y:0,Y:jc.prototype.dh},this.color=z.player_color,this.Uj=.5,this.Tp=12,this.Jn=
this.pm=2):"harpoon"==a||"harpoonhead"==a?(this.shape=G[a].Xb[0],this.color=G[a].color,this.Uj=.3,this.Tp=4,this.pm=2):"spark"==a||"multi"==a?(this.Tp=6,this.pm=20,this.Uj=1,this.shape=a):(this.shape=G[a].Xb[0],this.color=G[a].color,"tanker"==a&&(this.color="red"),this.Uj=.3,this.Tp=4,this.pm=2);this.Vr=this.hv;this.Wx=this.pm*Math.max(3,Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y)));this.OA=.5;this.ue={x:b.x,y:b.y};this.mj={x:this.Uj*c.x,y:this.Uj*c.y};for(a=0;a<this.Jn;a++){d=this.Tp/this.Jn;for(var f=
0;f<d;f++)dir=2*Math.PI*f/d+2*(Math.random()-.5)*Math.PI/d,new_v={x:this.Uj*c.x+Math.cos(dir)*(a+1)/this.Jn*this.Wx,y:this.Uj*c.y+Math.sin(dir)*(a+1)/this.Jn*this.Wx},this.sf.push(new Hh(this.shape,E/3,{x:b.x*E,y:b.y*E},{x:new_v.x*E,y:new_v.y*E},this.color))}};qg.prototype.na=function(a){this.Vr-=a;this.ue.x+=this.mj.x*a/1E3;this.ue.y+=this.mj.y*a/1E3;this.mj.x-=this.OA*this.mj.x*a/1E3;this.mj.y-=this.OA*this.mj.y*a/1E3;for(var b=0;b<this.sf.length;b++)this.sf[b].na(a)};
qg.prototype.X=function(a){this.uE&&(a.shadowColor=this.color,a.shadowBlur=15);for(var b=0;b<this.sf.length;b++)this.sf[b].X(a,this.Vr/this.hv);a.shadowBlur=0};function Hh(a,b,c,d,f){this.ia(a,b,c,d,f)}Hh.prototype.ia=function(a,b,c,d,f){this.ke=c;this.shape=a;this.size=b;this.nh=d;this.color=f;this.PA=500};Hh.prototype.na=function(a){this.ke.x+=this.nh.x*a/1E3;this.ke.y+=this.nh.y*a/1E3;this.nh.x*=Math.pow(.5,a/this.PA);this.nh.y*=Math.pow(.5,a/this.PA)};
Hh.prototype.X=function(a,b){if("spark"==this.shape||"multi"==this.shape){a.save();a.globalAlpha*=b;var c=R({x:0,y:0},this.nh);"spark"==this.shape?I(a,this.ke.x/E,this.ke.y/E,c,12,12,"spark"):"multi"==this.shape&&I(a,this.ke.x/E,this.ke.y/E,c,12,12,"multi")}else a.save(),c=R({x:0,y:0},this.nh),Ha(a,this.ke.x,this.ke.y,this.shape,this.size,this.color,b,c);a.restore()};Z.prototype=new xh;Z.prototype.constructor=Z;function Z(a,b,c,d,f,g,h,k,m,q){this.text=a;this.size=b;this.ia(c,d,f,g,m,!1,h);this.Za=k;this.xl=!1;this.icon=q;this.$c=!0;this.kf=null;this.ww=!0;"world"==this.icon.slice(0,5)&&(this.ww=!1)}
Z.prototype.ee=function(a){a.save();if(this.icon){a.save();a.shadowBlur=0;if("player"==this.icon)this.ta?I(a,this.x,this.y-this.m/8,0,40,40,"player_normal"):I(a,this.x,this.y-this.m/8,0,40,40,"player_white");else if("gear"==this.icon)this.ta?Xa(a,this.x,this.y-this.m/8,z.impulse_blue,"#080808",!1):Xa(a,this.x,this.y-this.m/8,"white","#080808",!1);else if("credit"==this.icon)this.ta?Ya(a,this.x,this.y-this.m/8,z.impulse_blue):Ya(a,this.x,this.y-this.m/8,"white");else if("tutorial"==this.icon)this.ta?
Za(a,this.x,this.y-this.m/8,z.impulse_blue):Za(a,this.x,this.y-this.m/8,"white");else if("note"==this.icon)this.ta?jb(a,this.x,this.y-this.m/6,z.impulse_blue):jb(a,this.x,this.y-this.m/6,"white");else if("texture"==this.icon)this.ta?hb(a,this.x,this.y-this.m/4,z.impulse_blue):hb(a,this.x,this.y-this.m/4,"white");else if("physics_engine"==this.icon)this.ta?ib(a,this.x,this.y-this.m/6,z.impulse_blue):ib(a,this.x,this.y-this.m/6,"white");else if("audio"==this.icon)this.ta?lb(a,this.x,this.y-this.m/6,
20,z.impulse_blue,!1):lb(a,this.x,this.y-this.m/6,20,"white",!1);else if("back"==this.icon)this.ta?ab(a,this.x,this.y-this.m/8,this.Za):ab(a,this.x,this.y-this.m/8,this.color);else if("start"==this.icon)this.ta?bb(a,this.x,this.y-this.m/8,20,this.Za):bb(a,this.x,this.y-this.m/8,20,this.color);else if("resume"==this.icon)this.ta?bb(a,this.x,this.y-this.m/8,30,this.Za):bb(a,this.x,this.y-this.m/8,30,this.color);else if("retry"==this.icon)this.ta?$a(a,this.x,this.y-this.m/8,this.Za):$a(a,this.x,this.y-
this.m/8,this.color);else if("options"==this.icon)this.ta?Xa(a,this.x,this.y-this.m/8,this.Za,this.kf):Xa(a,this.x,this.y-this.m/8,this.color,this.kf);else if("fb"==this.icon)this.ta?Wa(a,this.x,this.y-this.m/8,this.Za):Wa(a,this.x,this.y-this.m/8,this.color);else if("save"==this.icon)this.ta?db(a,this.x,this.y-this.m/8,this.Za):db(a,this.x,this.y-this.m/8,this.color);else if("quest"==this.icon)this.ta?eb(a,this.x,this.y-this.m/8,this.Za):eb(a,this.x,this.y-this.m/8,this.color);else if("quit"==this.icon)this.ta?
gb(a,this.x,this.y-this.m/6,24,this.Za):gb(a,this.x,this.y-this.m/6,24,this.color);else if("delete"==this.icon)this.ta?fb(a,this.x,this.y-this.m/8,36,this.Za):fb(a,this.x,this.y-this.m/8,36,this.color);else if("delete_small"==this.icon)this.ta?fb(a,this.x,this.y-this.m/5,30,this.Za):fb(a,this.x,this.y-this.m/5,30,this.color);else if("close_dialog"==this.icon)this.ta?gb(a,this.x,this.y-this.m/6,36,this.Za):gb(a,this.x,this.y-this.m/6,36,this.color);else if("mute_in_game"==this.icon)lb(a,this.x,this.y,
15,this.ta?this.Za:this.color,D.Dv);else if("pause_in_game"==this.icon){var b=this.x,c=this.y,d=this.ta?this.Za:this.color;a.save();a.clearRect(b-15,c-15,45,45);a.beginPath();a.rect(b-5.625,c-7.5,3.75,15);a.rect(b+1.875,c-7.5,3.75,15);a.fillStyle=d;a.fill();a.font="10px Muli";a.textAlign="center";"left"==D.Fb?a.fillText("ENTER",b+15,c+15):a.fillText("Q",b+15,c+15);a.restore()}else"fullscreen_in_game"==this.icon?(b=this.x,c=this.y,d=this.ta?this.Za:this.color,a.save(),a.beginPath(),a.globalAlpha/=
2,a.rect(b-11.25,c-11.25,22.5,22.5),a.strokeStyle=d,a.fillStyle=d,a.lineWidth=2,a.stroke(),a.globalAlpha*=2,a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b-0,c-7.5),a.lineTo(b-7.5,c-0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b+7.5,c+7.5),a.lineTo(b+0,c+7.5),a.lineTo(b+7.5,c+0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b+7.5,c+7.5),a.stroke(),a.restore()):"easy_mode"==this.icon?Ea(a,"goo",this.x,this.y-this.m/8,30,Math.PI/2,this.ta?"ulted":"white",this.ta?z.impulse_blue:
"white"):"normal_mode"==this.icon?I(a,this.x,this.y-this.m/8,0,40,40,this.ta?"ultimate_icon_blue":"ultimate_icon"):"left_mouse"==this.icon?(Ta(a,this.x-.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.ta?this.Za:this.color),Qa(a,this.x+.17*this.u,this.y,.2*this.m,this.ta?this.Za:this.color)):"keyboard"==this.icon?(Qa(a,this.x-.23*this.u,this.y,.2*this.m,this.ta?this.Za:this.color),Qa(a,this.x+.23*this.u,this.y,.2*this.m,this.ta?this.Za:this.color)):"right_mouse"==this.icon?(Qa(a,this.x-.17*this.u,
this.y,.2*this.m,this.ta?this.Za:this.color),Ta(a,this.x+.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.ta?this.Za:this.color)):"help_icon"==this.icon?(a.beginPath(),a.arc(this.x,this.y,this.u/2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI,!1),a.strokeStyle=this.ta?this.Za:this.color,a.lineWidth=2,a.fillStyle="black",a.stroke(),a.fill(),a.beginPath(),a.arc(this.x,this.y-this.u/8,this.u/8,-Math.PI,0,!1),a.lineTo(this.x,this.y+this.u/8),a.stroke(),a.beginPath(),a.arc(this.x,this.y+this.u/2-4,1,0,2*
Math.PI),a.fillStyle=this.ta?this.Za:this.color,a.fill()):"controls"==this.icon?(a.shadowBlur=0,"right"==D.Fb&&"mouse"==D.uc&&(Qa(a,this.x-.15*this.u,this.y,.2*this.m,this.ta?this.Za:this.color),Ta(a,this.x+.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.ta?this.Za:this.color)),"left"==D.Fb&&"mouse"==D.uc&&(Ta(a,this.x-.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.ta?this.Za:this.color),Qa(a,this.x+.15*this.u,this.y,.2*this.m,this.ta?this.Za:this.color)),"right"==D.Fb&&"keyboard"==D.uc&&
(Qa(a,this.x-.2*this.u,this.y,.2*this.m,this.ta?this.Za:this.color),Qa(a,this.x+.2*this.u,this.y,.2*this.m,this.ta?this.Za:this.color))):"world"==this.icon.slice(0,5)?(b=parseInt(this.icon.slice(5)),a.save(),a.globalAlpha=this.ta&&this.$c?.5*a.globalAlpha:this.$c?.3*a.globalAlpha:.15*a.globalAlpha,this.$c?Ka(a,b,this.x,this.y,2*this.size,this.ta):Oa(a,b,this.x,this.y,2*this.size),a.restore(),a.save(),this.$c||(a.globalAlpha*=.3),a.textAlign="center",a.font="32px Muli",a.fillStyle=this.$c?this.color:
"gray",a.fillText(this.text,this.x,this.y+10),a.restore()):"practice"==this.icon.slice(0,8)&&(b=parseInt(this.icon.slice(8)),this.$c?(a.globalAlpha=this.ta?3==b?.6*a.globalAlpha:.7*a.globalAlpha:.3*a.globalAlpha,Ka(a,b,this.x,this.y,1.4*this.size)):(a.globalAlpha*=.3,Oa(a,b,this.x,this.y,1.4*this.size)));a.restore()}a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";this.ta&&this.ww&&(a.beginPath(),b=a.measureText(this.text).width,a.moveTo(this.x-b/2,this.y+.4*this.m),a.lineTo(this.x+b/
2,this.y+.4*this.m),a.strokeStyle=this.Za?this.Za:this.color,a.lineWidth=2,a.stroke());this.$c||"practice"!=this.icon.slice(0,8)||(a.globalAlpha*=.4);a.fillStyle=this.ta?this.Za:this.color;this.xl?(a.shadowBlur=5,a.shadowColor=a.fillStyle):a.shadowBlur=0;"practice"==this.icon.slice(0,8)?a.fillText(this.text,this.x-1,this.y+this.m/6):"world"!=this.icon.slice(0,5)&&a.fillText(this.text,this.x,this.y+this.m/3);this.rf&&(a.font=this.uC?this.uC:.7*this.size+"px Muli",a.fillText(this.rf,this.x,this.y+this.m/
3+1*this.size));a.fill();a.restore()};new xh;function Uf(a,b,c,d){b&&this.ia(a,b,c,d)}
Uf.prototype.ia=function(a,b,c){this.type=a;this.color=b;this.y=this.x=0;this.Nz=this.visible=!1;this.Es=!0;"rank_explanation"==this.type?(this.u=360,this.m=105):"rank_explanation_normal"==this.type?(this.u=360,this.m=140):"fullscreen_msg"==this.type?(this.u=230,this.m=40):"mute_msg"==this.type?(this.u=130,this.m=40):"final_boss"==this.type?(this.u=220,this.m=50):"blitz_hive"==this.type.substring(0,10)?(this.u=250,this.m=75):"beat_hive"==this.type.substring(0,9)?(this.u=150,this.m=50):"high_roller"==
this.type?(this.u=250,this.m=75):"untouchable"==this.type?(this.u=200,this.m=75):"combo"==this.type||"pacifist"==this.type||"survivor"==this.type?(this.u=250,this.m=75):"fast_time"==this.type?(this.u=220,this.m=150):"0star"==this.type?(this.u=250,this.m=75):"beat_hard"==this.type?(this.u=180,this.m=75):"option_game_music"==this.type?(this.u=300,this.m=40):"option_sound_effects"==this.type?(this.u=250,this.m=40):"option_fullscreen"==this.type?(this.u=150,this.m=40):"option_particle_effects"==this.type?
(this.u=250,this.m=40):"option_score_labels"==this.type?(this.u=350,this.m=40):"option_multiplier_display"==this.type?(this.u=300,this.m=40):"option_impulse_shadow"==this.type?(this.u=350,this.m=40):"option_speed_run"==this.type?(this.u=500,this.m=40):"tutorial_move"==this.type?(this.u=200,this.m=150):"tutorial_impulse"==this.type?(this.u=180,this.m=150):"tutorial_pause"==this.type?(this.u=220,this.m=40):"tutorial_gateway_move"==this.type?(this.u=220,this.m=80):"tutorial_score_points"==this.type?
(this.u=450,this.m=40):"tutorial_enemy_incr"==this.type?(this.u=420,this.m=40):"tutorial_enter_gateway"==this.type?(this.u=200,this.m=120):"tutorial_void"==this.type?(this.u=300,this.m=40):"tutorial_kill_enemy"==this.type?(this.u=300,this.m=40):"tutorial_incr_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_reset_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_one_up"==this.type?(this.u=250,this.m=40):"tutorial_kill_boss"==this.type?(this.u=250,this.m=40):"lives_and_sparks"==this.type?
(this.u=150,this.m=110,this.vf=1<=gc(),this.Id=fc(),this.ik=gc(),this.ai=hc()):"god_mode_alert"==this.type?(this.u=250,this.m=40,this.message="ALL LEVELS UNLOCKED",this.Nz=!0):"saved_alert"==this.type?(this.u=250,this.m=75,this.Es=!1):"level_preview_"==this.type.substring(0,14)?(this.u=200,this.m=150):"quest_"==this.type.substring(0,6)?(this.u=420,this.m=90,this.Es=!1):"enemy_"==this.type.substring(0,6)&&(this.u=420,this.m=90,this.Es=!1);this.opacity=0;this.n=c};
Uf.prototype.X=function(a){if(this.visible){a.save();this.Es&&(a.beginPath(),a.strokeStyle=this.color,a.fillStyle="tutorial"==this.type.substring(0,8)?"#111":"black",a.shadowBlur=0,a.lineWidth=2,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.stroke());"option_game_music"==this.type&&(this.Tj="BACKGROUND MUSIC VOLUME");"option_sound_effects"==this.type&&(this.Tj="SOUND EFFECTS VOLUME");"option_fullscreen"==this.type&&(this.Tj="GO FULLSCREEN");"option_particle_effects"==this.type&&
(this.Tj="SHOW PARTICLE EFFECTS");"option_score_labels"==this.type&&(this.Tj="SHOW SCORE VALUE WHEN ENEMIES DIE");"option_multiplier_display"==this.type&&(this.Tj="SHOW MULTIPLIER BELOW PLAYER");"option_impulse_shadow"==this.type&&(this.Tj="SHOW AIMING SHADOW FOR IMPULSE");"option_speed_run"==this.type&&(this.Tj="SHOW COUNTDOWN FOR BEATING SPEED RUN CHALLENGE");"tutorial_move"==this.type&&("right"==D.Fb&&"mouse"==D.uc&&Qa(a,this.x,this.y,40,"white",["W","A","S","D"]),"right"==D.Fb&&"keyboard"==D.uc&&
Qa(a,this.x,this.y,40,"white"),"left"==D.Fb&&"mouse"==D.uc&&Qa(a,this.x,this.y,40,"white"),this.Df="MOVE");"tutorial_impulse"==this.type&&("mouse"==D.uc?Ua(a,this.x,this.y-20,56,82,"white"):Qa(a,this.x,this.y,40,"white",["W","A","S","D"]),this.Df="IMPULSE");"tutorial_pause"==this.type&&("right"==D.Fb?this.Df="ESC TO PAUSE":"left"==D.Fb&&(this.Df="ENTER TO PAUSE"));"tutorial_score_points"==this.type&&(this.Df="GET THE GOAL SCORE TO OPEN THE GATEWAY");"tutorial_incr_multiplier"==this.type&&(this.Df=
"KILLING ENEMIES INCREASES YOUR MULTIPLIER");"tutorial_reset_multiplier"==this.type&&(this.Df="TOUCHING ENEMIES RESETS YOUR MULTIPLIER");"tutorial_enemy_incr"==this.type&&(this.Df="ENEMIES SPAWN FASTER OVER TIME");"tutorial_one_up"==this.type&&(this.Df="100 SPARKS = 1UP");"tutorial_kill_boss"==this.type&&(this.Df="PUSH THE BOSS INTO THE VOID");"tutorial_void"==this.type&&(this.Df="DO NOT TOUCH THE VOID");"tutorial_kill_enemy"==this.type&&(this.Df="IMPULSE THE ENEMY INTO THE VOID");"tutorial_enter_gateway"==
this.type&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,"right"==D.Fb&&(Ra(a,this.x,this.y-10,160,34,7,"white"),a.fillText("SPACEBAR",this.x,this.y-4)),"left"==D.Fb&&(Ra(a,this.x,this.y-10,80,34,7,"white"),a.fillText("SHIFT",this.x,this.y-4)),this.Df="ENTER GATEWAY");if("tutorial_gateway_move"==this.type){a.textAlign="center";a.font="16px Muli";a.fillStyle=this.color;a.fillText("MOVE TO THE GATEWAY",this.x,this.y-this.m/2+25);var b=this.x,c=this.y+12;a.save();a.translate(b,c);a.scale(1,
1);a.beginPath();a.moveTo(-8,-12);a.lineTo(8,-12);a.lineTo(8,-2);a.lineTo(16,-2);a.lineTo(0,13);a.lineTo(-16,-2);a.lineTo(-8,-2);a.closePath();a.fillStyle="white";a.fill();a.restore()}if("fullscreen_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("TOGGLE FULLSCREEN (F)",this.x,this.y-this.m/2+25);else if("mute_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("MUTE (M)",this.x,this.y-this.m/2+25);else if("tutorial"==
this.type.substring(0,8))this.Df&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Df,this.x,this.y+this.m/2-15));else if("rank_explanation_normal"==this.type){var b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7;Bb(a,this.x-this.u/2+h,b-k+d,this.n,"half");Bb(a,this.x-this.u/2+h,b-k+d+c,this.n,"basic");Bb(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"silver");Bb(a,this.x-this.u/2+h,b-k+d+3*c,this.n,"gold");a.textAlign="right";a.font="16px Muli";a.fillStyle="white";
a.fillText("ONE OR MORE CONTINUES",f-g,b+d);a.fillText("NO CONTINUES USED",f-g,b+d+c);a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+2*c);a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+3*c)}else if("rank_explanation"==this.type)b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7,Bb(a,this.x-this.u/2+h,b-k+d,this.n,"basic"),Bb(a,this.x-this.u/2+h,b-k+d+1*c,this.n,"silver"),Bb(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"gold"),a.textAlign="right",a.font="16px Muli",a.fillStyle="white",a.fillText("DEFEAT HIVE",
f-g,b+d),a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+1*c),a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+2*c);else if("option"==this.type.substring(0,6))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Tj,this.x,this.y-this.m/2+25);else if("lives_and_sparks"==this.type){a.textAlign="center";a.font="12px Muli";a.fillStyle="white";a.fillText("STARTING VALUES",this.x,this.y-this.m/2+20);b=this.Id;c=this.ai;d=this.ik;f=this.x;g=this.y+5;h={labels:!0,PE:!0,Os:this.vf,
Wf:!0,Id:!0};k=[];h.Id&&k.push("lives");h.Wf&&k.push("sparks");h.Os&&k.push("ult");a.save();for(var m=0;m<k.length;m++){var q=k[m],p=f-(k.length-1)/2*36+36*m;a.font="20px Muli";a.fillStyle="ult"==q?"white":z.impulse_blue;a.shadowBlur=0;a.textAlign="center";h.xl&&(a.shadowBlur=10,a.shadowColor=a.fillStyle);"lives"==q&&(I(a,p,g,0,26,26,"lives_icon"),a.fillText(b,p,g+32));"sparks"==q&&(I(a,p+1,g+1,0,16,16,"spark"),a.fillText(c,p,g+32));"ult"==q&&(I(a,p,g,0,24,24,"ultimate_icon"),a.fillText(d,p,g+32));
a.font=Math.max(8,20/3)+"px Muli";"lives"==q&&a.fillText("LIVES",p,g-16);"sparks"==q&&(h.PE?(a.fillText("SPARK",p,g-26),a.fillText("VALUE",p,g-16)):a.fillText("SPARKS",p,g-16));"ult"==q&&a.fillText("ULT",p,g-16)}a.restore()}else if(this.Nz)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.message,this.x,this.y-this.m/2+25);else if("saved_alert"==this.type)a.globalAlpha*=.5,a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.save(),a.globalAlpha*=.5,db(a,this.x,
this.y-this.m/2+10,this.color),a.restore(),a.fillText("GAME SAVED",this.x,this.y+this.m/2-33);else if("level_preview_"==this.type.substring(0,14))ob(a,this.type.substring(14),this.x,this.y,z["world "+this.n+" lite"]),a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=6,a.strokeStyle=z["world "+this.n+" lite"],a.stroke();else if("quest_"==this.type.substring(0,6)){a.beginPath();a.fillStyle="black";a.shadowBlur=0;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.fill();
a.beginPath();b=this.x-this.u/2+75;a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(this.x+this.u/2,this.y+this.m/2);a.lineTo(b,this.y+this.m/2);a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(b,this.y-this.m/2);a.strokeStyle="white";a.lineWidth=2;a.stroke();b=50;c=this.type.substring(6);a.textAlign="center";a.font="16px Muli";a.fillStyle="white";a.fillText("NEW ACHIEVEMENT",this.x+b,this.y-this.m/2+30);a.font="12px Muli";d="";if(Db[c])for(f=0;f<Db[c].text.length;f++)d+=Db[c].text[f]+" ";a.fillText(d,
this.x+b,this.y+this.m/2-20);draw_quest_button(a,this.x-this.u/2+40,this.y,60,c)}else if("enemy_"==this.type.substring(0,6))a.beginPath(),a.fillStyle="black",a.shadowBlur=0,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.beginPath(),b=this.x-this.u/2+75,a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.lineTo(b,this.y+this.m/2),a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(b,this.y-this.m/2),a.strokeStyle="white",a.lineWidth=2,a.stroke(),b=
50,d=c=this.type.substring(6),G[c].Ag&&(d=G[c].Ag),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW ENEMY",this.x+b,this.y-this.m/2+20),a.fillStyle=G[c].color,a.font="24px Muli",a.fillText(d.toUpperCase(),this.x+b,this.y-this.m/2+45),a.fillStyle="white",a.font="16px Muli",a.fillText(G[c].Vf.toUpperCase(),this.x+b,this.y+this.m/2-15),draw_enemy_button(a,this.x-this.u/2+40,this.y,60,c);else for(a.textAlign="center",a.font="16px Muli",a.fillStyle="white",f=0;f<Db[this.type].text.length;f++)a.fillText(Db[this.type].text[f],
this.x,this.y-this.m/2+30+24*f);a.restore()}};function Vf(a,b,c){a.x=b;a.y=c+a.m/2;"option"==a.type.substring(0,6)&&(a.y+=20);"tutorial"==a.type.substring(0,8)&&(a.x=b,a.y=c-a.m/2-50)};Wg.prototype=new xh;Wg.prototype.constructor=Wg;
function Wg(a,b,c,d){this.type=a;this.x=b;this.y=c;this.Y=d;this.u=2*d;this.m=2*d;this.Sp=document.createElement("canvas");this.Sp.width=this.u;this.Sp.height=this.m;b=this.Sp.getContext("2d");draw_quest_button(b,this.Y,this.Y,this.Y,this.type);b=this.Sp;b=b.getContext("2d").getImageData(0,0,b.width,b.height);for(c=0;c<b.height;c++)for(d=0;d<b.width;d++){var f=4*c*b.width+4*d,g=(b.data[f]+b.data[f+1]+b.data[f+2])/3;b.data[f]=g;b.data[f+1]=g;b.data[f+2]=g;b.data[f+3]=b.data[f+3]?255:0}c=document.createElement("canvas");
c.width=b.width;c.height=b.height;c.getContext("2d").putImageData(b,0,0,0,0,b.width,b.height);this.DC=c;this.$z=-1!=Pe.indexOf(a);this.Ob=new Uf(this.type,"white",0,this.$z)}
Wg.prototype.X=function(a){this.$z?a.drawImage(this.Sp,0,0,this.u,this.m,this.x-this.Y,this.y-this.Y,this.u,this.m):(a.save(),a.globalAlpha*=.4,a.drawImage(this.DC,0,0,this.u,this.m,this.x-this.Y,this.y-this.Y,this.u,this.m),a.restore());this.Qh&&(a.save(),a.globalAlpha*=.2,a.beginPath(),a.arc(this.x,this.y,this.Y,0,2*Math.PI,!1),a.fillStyle="#fff",a.fill(),a.beginPath(),a.restore())};Wg.prototype.na=function(){};dh.prototype=new xh;dh.prototype.constructor=dh;function dh(a,b,c,d,f,g,h,k){this.size=a;this.ia(b,c,d,f,this.FD,!1,g);this.Za=h;this.xl=!1;this.$c=!0;this.kf=null;this.Jg=new zh(this.x,this.y-this.m/8,20,20,this.color);this.gF=k;this.Jg.checked="normal"==J}dh.prototype.FD=function(){J="easy"==J?"normal":"easy";$f();ih(this.gF);this.Jg.checked="normal"==J};
dh.prototype.ee=function(a){this.Jg.X(a);a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText("HARD MODE",this.x,this.y+this.m/3)};function Ih(a,b,c,d,f){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.$c=!0;this.value=0;this.gk=20}l=Ih.prototype;l.X=function(a){a.beginPath();a.strokeStyle=this.color;a.fillStyle=this.color;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.lineWidth=1;a.save();a.globalAlpha*=.75;a.fill();a.restore();a.stroke();a.beginPath();a.rect(this.x-this.u/2+this.u*this.value-this.gk/2,this.y-this.gk/2,this.gk,this.gk);a.fill()};
l.rg=function(a,b){a>this.x-this.u/2-this.gk/2&&a<this.x+this.u/2+this.gk/2&&b>this.y-this.m/2-this.gk/2&&b<this.y+this.m/2+this.gk/2&&(Jh(this,(a-(this.x-this.u/2))/this.u),this.qy=!0)};function Jh(a,b){a.value=b;0>a.value&&(a.value=0);1<a.value&&(a.value=1)}l.Wg=function(){this.onselect(this.value);this.qy=!1};l.onselect=function(){};l.Ea=function(a){this.qy&&Jh(this,(a-(this.x-this.u/2))/this.u)};
function zh(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.$c=!0;this.checked=h?h:!1;this.WE=g}zh.prototype.X=function(a){a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);this.checked&&(a.moveTo(this.x-this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.moveTo(this.x-this.u/2,this.y+this.m/2),a.lineTo(this.x+this.u/2,this.y-this.m/2));a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
zh.prototype.Oa=function(a,b){a>this.x-this.u/2&&a<this.x+this.u/2&&b>this.y-this.m/2&&b<this.y+this.m/2&&(this.checked=!this.checked,this.WE(this.checked))};Eh.prototype=new xh;l=Eh.prototype;l.constructor=Eh;function Eh(a,b,c,d,f,g,h,k,m){this.text=a;this.ia(b,c,d+90,f,function(){},!1,g);this.wn=new Ih(this.x+this.u/2-65,this.y,100,5,this.color);this.wn.value=m;this.wn.onselect=k;this.Rr=h;this.Sc=!1;this.OE="MUTED (M)"}
l.ee=function(a){a.save();this.Qh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Qh?this.Rr:this.color;a.fillText(this.text,this.x-this.u/2+55,this.y+7);this.Sc?(a.textAlign="center",a.fillText(this.OE,this.x+this.u/2-20,this.y+7)):this.wn.X(a);a.restore()};l.rg=function(a,b){this.Sc||this.wn.rg(a,b)};l.Wg=function(a,b){this.Sc||this.wn.Wg(a,b)};l.GD=xh.prototype.Ea;l.Ea=function(a,b){this.GD(a,b);this.Sc||this.wn.Ea(a,b)};$g.prototype=new xh;$g.prototype.constructor=$g;function $g(a,b,c,d,f,g,h,k,m){this.text=a;this.size=b;this.ia(c,d,f,g,m,!1,h);this.Za=k;this.vw=!1;this.Ps=null;this.rf="";this.xl=!1;this.shadowColor=this.color;this.ny=!1}
$g.prototype.ee=function(a){a.save();a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.ta?this.Za:this.color;this.xl?(a.shadowBlur=5,a.shadowColor=this.shadowColor):a.shadowBlur=0;a.fillText(this.text,this.x,this.y);a.fill();if(!this.ta&&!this.vw)if(null!=this.Ps&&this.Ps<this.text.length){a.globalAlpha*=.5;a.beginPath();var b=a.measureText(this.text.slice(0,this.Ps)).width,c=a.measureText(this.text.slice(0,this.Ps+1)).width,d=a.measureText(this.text).width;a.moveTo(this.x-
d/2+b,this.y+this.size/4);a.lineTo(this.x-d/2+c,this.y+this.size/4);a.strokeStyle=this.color;a.lineWidth=1;a.stroke();a.globalAlpha/=.5;""!=this.rf&&(a.globalAlpha*=.5,this.ny&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.rf,this.x-d/2+(b+c)/2,this.y+3*this.size/4))}else""!=this.rf&&(a.globalAlpha*=.5,this.ny&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.rf,this.x,this.y+3*this.size/4));a.restore();a.shadowBlur=0};Og.prototype=new xh;Og.prototype.constructor=Og;function Og(a,b,c,d,f,g,h,k){this.state=null;this.qj=a;this.size=b;this.ia(c,d,f,g,k,!0,h);this.Lf=30}Og.prototype.ee=function(a){a.save();a.save();a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.globalAlpha*=this.ta?1:.5;a.fillStyle=this.color;a.fill();a.restore();this.Rx&&(a.strokeStyle=this.Rx,a.lineWidth=2,a.stroke());Ea(a,this.qj,this.x,this.y,this.Lf);a.restore()};function Dg(a){this.Bb=[];this.v=a;this.bv=2E3;"HIVE 0"==a.V.substring(0,6)&&(this.Ns=parseInt(a.V.substring(7)));this.v.pa&&1==this.v.n&&"easy"==J&&3>N[this.v.V].Ia[J].ab&&this.Bb.push(new Kh(this.v));if(1==this.Ns)this.Bb.push(new Lh(this.v)),this.Bb.push(new Mh(this.v)),this.Bb.push(new Nh(this.v));else if(2==this.Ns)this.Bb.push(new Oh(this.v)),this.Bb.push(new Mh(this.v)),this.Bb.push(new Nh(this.v));else if(3==this.Ns)this.Bb.push(new Ph(this.v)),this.Bb.push(new Qh(this.v)),this.Bb.push(new Rh(this.v)),
this.Bb.push(new Sh(this.v)),this.Bb.push(new Mh(this.v)),this.Bb.push(new Nh(this.v));else if(4==this.Ns)this.Bb.push(new Th(this.v)),this.Bb.push(new Uh(this.v)),this.Bb.push(new Vh(this.v)),this.Bb.push(new Wh(this.v));else for(a=0;a<this.ls.length;a++)-1==Oe.indexOf(this.ls[a].type)&&this.Bb.push(new this.ls[a].dy(this.v))}Dg.prototype.ls=[{type:"reset_multiplier",dy:Vh},{type:"one_up",dy:Wh}];
Dg.prototype.X=function(a){if(0!=this.Bb.length){var b=this.Bb[0];a.save();"fade_in"==b.U.bc?a.globalAlpha*=xg(b.U):"fade_out"==b.U.bc?a.globalAlpha*=1-xg(b.U):b.eq||(a.globalAlpha=0);a.globalAlpha*=.8;b.Ob&&b.Ob.X(a);b.X(a);a.restore()}};
Dg.prototype.na=function(a){if(0<this.bv)this.bv-=a;else if(0!=this.Bb.length){Xh(this.Bb[0],a);if(!this.Bb[0].Fj())for(a=1;a<this.Bb.length;a++)if(this.Bb[a].ks&&this.Bb[a].Fj()){var b=this.Bb.splice(a,1)[0];this.Bb.unshift(b)}if(this.Bb[0].Du)for(this.Bb.shift();0<this.Bb.length&&Yh(this.Bb[0]);)this.Bb.shift()}};function Zh(){}l=Zh.prototype;l.ia=function(a){this.v=a;this.U=new wg({fade_in:500,fade_out:500});this.Du=!1;this.duration=null;this.eq=!1;this.$o=0;this.ks=!1};l.Fj=function(){return!0};
l.X=function(){};function Xh(a,b){if(a.Fj()){if(!a.eq)if(Yh(a))a.Du=!0;else{if(0<a.$o){a.$o-=b;return}a.eq=!0;vg(a.U,"fade_in");a.Ob&&(a.Ob.visible=!0)}0<a.duration&&(a.duration-=b);if(a.Ob){var c=a.v.q.body.g.position.x*E,d=a.v.q.body.g.position.y*E;c<a.Ob.u/2+5?c=a.Ob.u/2+5:c>O-a.Ob.u/2-5&&(c=O-a.Ob.u/2-5);d<a.Ob.m+55&&(d+=a.Ob.m+100);Vf(a.Ob,c,d)}a.U.na(b);a.na(b);Yh(a)&&vg(a.U,"fade_out",function(){a.Du=!0;a.Gv()})}}l.Gv=function(){};l.vn=function(){return!1};
function Yh(a){return a.vn()||null!=a.duration&&0>=a.duration}l.na=function(){};Lh.prototype=new Zh;Lh.prototype.constructor=Lh;function Lh(a){this.ia(a);this.Ob=new Uf("tutorial_move",a.J,a.n)}Lh.prototype.X=function(){};Lh.prototype.na=function(){};Lh.prototype.vn=function(){return this.v.Zf.player_moved};Oh.prototype=new Zh;Oh.prototype.constructor=Oh;function Oh(a){this.ia(a);this.Ob=new Uf("tutorial_void",a.J,a.n);this.duration=3E3}Oh.prototype.X=function(){};Oh.prototype.na=function(){};
Ph.prototype=new Zh;Ph.prototype.constructor=Ph;function Ph(a){this.ia(a);this.Ob=new Uf("tutorial_impulse",a.J,a.n)}Ph.prototype.X=function(){};Ph.prototype.na=function(){};Ph.prototype.vn=function(){return this.v.Zf.player_impulsed};Qh.prototype=new Zh;Qh.prototype.constructor=Qh;function Qh(a){this.ia(a);this.Ob=new Uf("tutorial_kill_enemy",a.J,a.n);this.$o=4E3}Qh.prototype.X=function(){};Qh.prototype.na=function(){};Qh.prototype.vn=function(){return this.v.Zf.enemy_killed};Rh.prototype=new Zh;
Rh.prototype.constructor=Rh;function Rh(a){this.ia(a);this.duration=5E3;this.Ob=new Uf("tutorial_score_points",a.J,a.n)}Rh.prototype.Fj=function(){return this.v.Zf.enemy_killed};Rh.prototype.X=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+Y/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+Y/2,45);a.font="42px Muli";a.fillText(this.v.i.za[this.v.ab],O+Y/2,85)};Sh.prototype=new Zh;Sh.prototype.constructor=Sh;
function Sh(a){this.ia(a);this.Ob=new Uf("tutorial_score_points",a.J,a.n);this.$o=5E3}Sh.prototype.X=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+Y/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+Y/2,45);a.font="42px Muli";a.fillText(this.v.i.za[this.v.ab],O+Y/2,85)};Sh.prototype.vn=function(){return this.v.Zf.gateway_opened};Th.prototype=new Zh;Th.prototype.constructor=Th;
function Th(a){this.ia(a);this.ks=!0;this.duration=5E3;this.Ob=new Uf("tutorial_enemy_incr",a.J,a.n)}Th.prototype.X=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(-Y/2-60,Cc/2-20-35,120,70);a.stroke();a.font="16px Muli";a.fillText("LEVEL TIME",-Y/2,Cc/2-30);a.font="32px Muli";a.fillText(this.v.H.Hj,-Y/2,Cc/2+2)};Th.prototype.na=function(){};Uh.prototype=new Zh;Uh.prototype.constructor=Uh;
function Uh(a){this.ia(a);this.duration=3E3;this.Ob=new Uf("tutorial_incr_multiplier",a.J,a.n)}Uh.prototype.Fj=function(){return"fresh"==this.v.Zf.enemy_killed||this.eq};Uh.prototype.X=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(O+Y/2-50,Cc/2-50-20,100,100);a.stroke();a.font="72px Muli";a.fillText("x"+this.v.H.of,O+Y/2,Cc/2)};Uh.prototype.na=function(){};Vh.prototype=new Zh;l=Vh.prototype;l.constructor=Vh;
function Vh(a){this.ia(a);this.duration=3E3;this.ks=!0;this.Ob=new Uf("tutorial_reset_multiplier",a.J,a.n)}l.Fj=function(){return"fresh"==this.v.Zf.multiplier_reset||this.eq};l.X=function(){};l.na=function(){};l.Gv=function(){-1==Oe.indexOf("reset_multiplier")&&(Oe.push("reset_multiplier"),$f())};Wh.prototype=new Zh;l=Wh.prototype;l.constructor=Wh;function Wh(a){this.ia(a);this.duration=3E3;this.ks=!0;this.Ob=new Uf("tutorial_one_up",a.J,a.n)}l.Fj=function(){return this.v.Zf.got_spark};l.X=function(){};
l.na=function(){};l.Gv=function(){-1==Oe.indexOf("one_up")&&(Oe.push("one_up"),$f())};Mh.prototype=new Zh;l=Mh.prototype;l.constructor=Mh;function Mh(a){this.ia(a);this.Ec={x:this.v.i.Ec.x*E,y:this.v.i.Ec.y*E};this.Av=new Uf("tutorial_gateway_move",a.J,a.n);Vf(this.Av,this.Ec.x,this.Ec.y-30);this.Av.visible=!0}l.X=function(a){this.Av.X(a)};l.na=function(){};l.Fj=function(){return this.v.Zf.gateway_opened};l.vn=function(){return this.v.Zf.moved_to_gateway};Nh.prototype=new Zh;
Nh.prototype.constructor=Nh;function Nh(a){this.ia(a);this.duration=3E3;this.Ob=new Uf("tutorial_enter_gateway",a.J,a.n)}Nh.prototype.X=function(){};Nh.prototype.na=function(){};Kh.prototype=new Zh;Kh.prototype.constructor=Kh;function Kh(a){this.ia(a);this.duration=3E3;this.Ob=new Uf("tutorial_kill_boss",a.J,a.n)}Kh.prototype.X=function(){};Kh.prototype.na=function(){};new xh;
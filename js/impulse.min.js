var l,m={};
(function(a,b){function c(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});a.Jb=function(a,b){c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.iD=function(a,b){return function(){b.apply(a,arguments)}};a.WB=function(a){a===
b&&(a=0);for(var c=Array(a||0),g=0;g<a;++g)c[g]=0;return c};a.is=function(a,c){return null===a?!1:c instanceof Function&&a instanceof c||a.constructor.Xt!=b&&a.constructor.Xt[c]?!0:!1};a.zg=function(a){return Math.abs(parseInt(a))}})(m);var aa=Array,ba=m.WB;"undefined"===typeof m&&(m={});"undefined"===typeof m.v&&(m.v={});"undefined"===typeof m.v.Sa&&(m.v.Sa={});"undefined"===typeof m.ba&&(m.ba={});"undefined"===typeof m.ba.Math&&(m.ba.Math={});"undefined"===typeof m.l&&(m.l={});
"undefined"===typeof m.l.ka&&(m.l.ka={});"undefined"===typeof m.l.Xb&&(m.l.Xb={});"undefined"===typeof m.l.J&&(m.l.J={});
(function(){function a(){a.Go.apply(this,arguments)}function b(){b.fu.apply(this,arguments)}function c(){c.Ho.apply(this,arguments);this.constructor===c&&this.Ho.apply(this,arguments)}function d(){d.Id.apply(this,arguments)}function f(){f.fm.apply(this,arguments);this.constructor===f&&this.fm.apply(this,arguments)}function g(){g.Ar.apply(this,arguments)}function h(){h.Hk.apply(this,arguments)}function k(){k.Br.apply(this,arguments)}function n(){n.Cr.apply(this,arguments)}function q(){q.Dr.apply(this,
arguments)}function p(){p.Mo.apply(this,arguments);this.constructor===p&&this.Mo.apply(this,arguments)}function t(){t.Er.apply(this,arguments)}function A(){A.tu.apply(this,arguments)}function u(){u.uu.apply(this,arguments)}function y(){y.vi.apply(this,arguments);this.constructor===y&&this.vi.apply(this,arguments)}function M(){M.Vo.apply(this,arguments);this.constructor===M&&this.Vo.apply(this,arguments)}function O(){O.Au.apply(this,arguments)}function da(){da.bp.apply(this,arguments);this.constructor===
da&&this.bp.apply(this,arguments)}function T(){T.Eu.apply(this,arguments)}function C(){C.Fu.apply(this,arguments)}function V(){V.pm.apply(this,arguments)}function la(){la.cp.apply(this,arguments);this.constructor===la&&this.cp.apply(this,arguments)}function W(){W.Fr.apply(this,arguments)}function F(){F.Gu.apply(this,arguments)}function Z(){Z.Qe.apply(this,arguments)}function Ia(){Ia.Gr.apply(this,arguments)}function ta(){ta.rm.apply(this,arguments);this.constructor===ta&&this.rm.apply(this,arguments)}
function Ja(){Ja.Dt.apply(this,arguments)}function w(){w.It.apply(this,arguments)}function v(){v.wj.apply(this,arguments);this.constructor===v&&this.wj.apply(this,arguments)}function x(){x.No.apply(this,arguments);this.constructor===x&&this.No.apply(this,arguments)}function B(){B.Oo.apply(this,arguments);this.constructor===B&&this.Oo.apply(this,arguments)}function K(){K.Wo.apply(this,arguments)}function U(){U.xi.apply(this,arguments);this.constructor===U&&this.xi.apply(this,arguments)}function I(){I.Yb.apply(this,
arguments);this.constructor===I&&this.Yb.apply(this,arguments)}function fa(){fa.dm.apply(this,arguments);this.constructor===fa&&this.dm.apply(this,arguments)}function E(){E.Pb.apply(this,arguments)}function pa(){pa.wi.apply(this,arguments);this.constructor===pa&&this.wi.apply(this,arguments)}function ae(){ae.km.apply(this,arguments);this.constructor===ae&&this.km.apply(this,arguments)}function tf(){tf.If.apply(this,arguments)}function uf(){uf.dp.apply(this,arguments)}function be(){be.yj.apply(this,
arguments);this.constructor===be&&this.yj.apply(this,arguments)}function ce(){ce.lg.apply(this,arguments);this.constructor===ce&&this.lg.apply(this,arguments)}function ob(){ob.qm.apply(this,arguments);this.constructor===ob&&this.qm.apply(this,arguments)}function de(){de.ke.apply(this,arguments);this.constructor===de&&this.ke.apply(this,arguments)}function ee(){ee.cm.apply(this,arguments);this.constructor===ee&&this.cm.apply(this,arguments)}function vf(){vf.zr.apply(this,arguments)}function wf(){wf.nu.apply(this,
arguments)}function xf(){xf.Jo.apply(this,arguments)}function fe(){fe.gm.apply(this,arguments);this.constructor===fe&&this.gm.apply(this,arguments)}function ge(){ge.Pe.apply(this,arguments);this.constructor===ge&&this.Pe.apply(this,arguments)}function yf(){yf.su.apply(this,arguments)}function zf(){zf.wu.apply(this,arguments)}function he(){he.hm.apply(this,arguments);this.constructor===he&&this.hm.apply(this,arguments)}function ie(){ie.im.apply(this,arguments);this.constructor===ie&&this.im.apply(this,
arguments)}function je(){je.jm.apply(this,arguments);this.constructor===je&&this.jm.apply(this,arguments)}function Af(){Af.Hr.apply(this,arguments)}function ke(){ke.Re.apply(this,arguments);this.constructor===ke&&this.Re.apply(this,arguments)}function Bf(){Bf.hu.apply(this,arguments)}function le(){le.Ya.apply(this,arguments);this.constructor===le&&this.Ya.apply(this,arguments)}function me(){me.Io.apply(this,arguments);this.constructor===me&&this.Io.apply(this,arguments)}function Cf(){Cf.ku.apply(this,
arguments)}function Df(){Df.mu.apply(this,arguments)}function ne(){ne.em.apply(this,arguments);this.constructor===ne&&this.em.apply(this,arguments)}function Ef(){Ef.ou.apply(this,arguments)}function Ff(){Ff.pu.apply(this,arguments)}function oe(){oe.xj.apply(this,arguments);this.constructor===oe&&this.xj.apply(this,arguments)}function Gf(){Gf.vu.apply(this,arguments)}function pe(){pe.Yo.apply(this,arguments);this.constructor===pe&&this.Yo.apply(this,arguments)}function Hf(){Hf.Bu.apply(this,arguments)}
function If(){If.Cu.apply(this,arguments)}function Jf(){Jf.Du.apply(this,arguments)}function qe(){qe.Ik.apply(this,arguments);this.constructor===qe&&this.Ik.apply(this,arguments)}function Kf(){Kf.gu.apply(this,arguments)}function Lf(){Lf.iu.apply(this,arguments)}function Mf(){Mf.ju.apply(this,arguments)}function Nf(){Nf.Rc.apply(this,arguments)}function Of(){Of.qu.apply(this,arguments)}function Pf(){Pf.xu.apply(this,arguments)}function Qf(){Qf.Hu.apply(this,arguments)}function re(){re.Ko.apply(this,
arguments);this.constructor===re&&this.Ko.apply(this,arguments)}function se(){se.Lo.apply(this,arguments);this.constructor===se&&this.Lo.apply(this,arguments)}function te(){te.Po.apply(this,arguments);this.constructor===te&&this.Po.apply(this,arguments)}function ue(){ue.Qo.apply(this,arguments);this.constructor===ue&&this.Qo.apply(this,arguments)}function ve(){ve.Ro.apply(this,arguments);this.constructor===ve&&this.Ro.apply(this,arguments)}function we(){we.So.apply(this,arguments);this.constructor===
we&&this.So.apply(this,arguments)}function Rf(){Rf.yu.apply(this,arguments)}function xe(){xe.ja.apply(this,arguments);this.constructor===xe&&this.ja.apply(this,arguments)}function ye(){ye.xa.apply(this,arguments);this.constructor===ye&&this.xa.apply(this,arguments)}function Sf(){Sf.zu.apply(this,arguments)}function ze(){ze.To.apply(this,arguments);this.constructor===ze&&this.To.apply(this,arguments)}function Ae(){Ae.Uo.apply(this,arguments);this.constructor===Ae&&this.Uo.apply(this,arguments)}function Be(){Be.Xo.apply(this,
arguments);this.constructor===Be&&this.Xo.apply(this,arguments)}function Ce(){Ce.lm.apply(this,arguments);this.constructor===Ce&&this.lm.apply(this,arguments)}function De(){De.Zo.apply(this,arguments);this.constructor===De&&this.Zo.apply(this,arguments)}function Ee(){Ee.$o.apply(this,arguments);this.constructor===Ee&&this.$o.apply(this,arguments)}function Fe(){Fe.mm.apply(this,arguments);this.constructor===Fe&&this.mm.apply(this,arguments)}function Ge(){Ge.ap.apply(this,arguments);this.constructor===
Ge&&this.ap.apply(this,arguments)}function He(){He.nm.apply(this,arguments);this.constructor===He&&this.nm.apply(this,arguments)}function Ie(){Ie.om.apply(this,arguments);this.constructor===Ie&&this.om.apply(this,arguments)}function Je(){Je.ep.apply(this,arguments);this.constructor===Je&&this.ep.apply(this,arguments)}function Ke(){Ke.fp.apply(this,arguments);this.constructor===Ke&&this.fp.apply(this,arguments)}m.v.RB="Box2D.Collision.IBroadPhase";m.v.Go=a;m.v.fu=b;m.v.Ho=c;m.v.Id=d;m.v.fm=f;m.v.Ar=
g;m.v.Hk=h;m.v.Br=k;m.v.Cr=n;m.v.Dr=q;m.v.Mo=p;m.v.Er=t;m.v.tu=A;m.v.uu=u;m.v.vi=y;m.v.Vo=M;m.v.Au=O;m.v.bp=da;m.v.Eu=T;m.v.Fu=C;m.v.pm=V;m.v.cp=la;m.v.Fr=W;m.v.Gu=F;m.v.Qe=Z;m.v.Gr=Ia;m.v.rm=ta;m.v.Dt=Ja;m.v.It=w;m.v.Sa.wj=v;m.v.Sa.No=x;m.v.Sa.Oo=B;m.v.Sa.Wo=K;m.v.Sa.xi=U;m.v.Sa.Yb=I;m.ba.vG="Box2D.Common.b2internal";m.ba.dm=fa;m.ba.Pb=E;m.ba.Math.wi=pa;m.ba.Math.km=ae;m.ba.Math.If=tf;m.ba.Math.dp=uf;m.ba.Math.yj=be;m.ba.Math.lg=ce;m.ba.Math.qm=ob;m.l.ke=de;m.l.cm=ee;m.l.zr=vf;m.l.nu=wf;m.l.Jo=xf;
m.l.gm=fe;m.l.Pe=ge;m.l.su=yf;m.l.wu=zf;m.l.hm=he;m.l.im=ie;m.l.jm=je;m.l.Hr=Af;m.l.Re=ke;m.l.ka.hu=Bf;m.l.ka.Ya=le;m.l.ka.Io=me;m.l.ka.ku=Cf;m.l.ka.mu=Df;m.l.ka.em=ne;m.l.ka.ou=Ef;m.l.ka.pu=Ff;m.l.ka.xj=oe;m.l.ka.vu=Gf;m.l.ka.Yo=pe;m.l.ka.Bu=Hf;m.l.ka.Cu=If;m.l.ka.Du=Jf;m.l.ka.Ik=qe;m.l.Xb.gu=Kf;m.l.Xb.iu=Lf;m.l.Xb.ju=Mf;m.l.Xb.Rc=Nf;m.l.Xb.qu=Of;m.l.Xb.xu=Pf;m.l.Xb.Hu=Qf;m.l.J.Ko=re;m.l.J.Lo=se;m.l.J.Po=te;m.l.J.Qo=ue;m.l.J.Ro=ve;m.l.J.So=we;m.l.J.yu=Rf;m.l.J.ja=xe;m.l.J.xa=ye;m.l.J.zu=Sf;m.l.J.To=
ze;m.l.J.Uo=Ae;m.l.J.Xo=Be;m.l.J.lm=Ce;m.l.J.Zo=De;m.l.J.$o=Ee;m.l.J.mm=Fe;m.l.J.ap=Ge;m.l.J.nm=He;m.l.J.om=Ie;m.l.J.ep=Je;m.l.J.fp=Ke})();m.Fc=[];
(function(){var a=m.v.Sa.wj,b=m.v.Sa.xi,c=m.v.Sa.Yb,d=m.ba.Pb,f=m.ba.Math.If,g=m.ba.Math.dp,h=m.ba.Math.yj,k=m.ba.Math.lg,n=m.v.Go,q=m.v.fu,p=m.v.Ho,t=m.v.Id,A=m.v.fm,u=m.v.Ar,y=m.v.Hk,M=m.v.Br,O=m.v.Cr,da=m.v.Dr,T=m.v.Mo,C=m.v.Er,V=m.v.tu,la=m.v.uu,W=m.v.vi,F=m.v.Vo,Z=m.v.Au,Ia=m.v.bp,ta=m.v.Eu,Ja=m.v.Fu,w=m.v.pm,v=m.v.cp,x=m.v.Fr,B=m.v.Gu,K=m.v.Qe,U=m.v.Gr,I=m.v.rm,fa=m.v.Dt,E=m.v.It,pa=m.v.RB;n.Go=function(){this.lowerBound=new k;this.upperBound=new k};n.prototype.Zl=function(){var a=this.upperBound.y-
this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=a&&this.lowerBound.Zl()&&this.upperBound.Zl()};n.prototype.NB=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};n.prototype.Et=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};n.prototype.rj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;
return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};n.Vl=function(a,b){var c=new n;c.Vl(a,b);return c};n.prototype.Vl=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};q.fu=function(){};q.prototype.dC=function(a){var b=this.value,c=this.aj,d=this.Kw;this.value=
a.value;this.aj=a.aj;this.Kw=a.Kw;a.value=b;a.aj=c;a.Kw=d};p.Ho=function(){};p.prototype.Ho=function(){this.Xz=new ba;this.Xz[0]=0;this.Xz[1]=0;this.tB=new ba;this.tB[0]=0;this.tB[1]=0};t.Id=function(){};t.nx=function(a,b,c,d){void 0===d&&(d=0);var f,w=0;f=b[0];var x=f.fc;f=b[1];var v=f.fc,g=c.x*x.x+c.y*x.y-d;f=c.x*v.x+c.y*v.y-d;0>=g&&a[w++].P(b[0]);0>=f&&a[w++].P(b[1]);0>g*f&&(c=g/(g-f),f=a[w],f=f.fc,f.x=x.x+c*(v.x-x.x),f.y=x.y+c*(v.y-x.y),f=a[w],f.id=(0<g?b[0]:b[1]).id,++w);return w};t.Zq=function(a,
b,c,d,f){void 0===c&&(c=0);parseInt(a.Mb);var w=a.Z;a=a.vc;var x=parseInt(d.Mb),v=d.Z,g,B;g=b.w;B=a[c];a=g.j.x*B.x+g.k.x*B.y;d=g.j.y*B.x+g.k.y*B.y;g=f.w;var k=g.j.x*a+g.j.y*d;g=g.k.x*a+g.k.y*d;for(var K=0,h=Number.MAX_VALUE,I=0;I<x;++I)B=v[I],B=B.x*k+B.y*g,B<h&&(h=B,K=I);B=w[c];g=b.w;c=b.position.x+(g.j.x*B.x+g.k.x*B.y);b=b.position.y+(g.j.y*B.x+g.k.y*B.y);B=v[K];g=f.w;w=f.position.x+(g.j.x*B.x+g.k.x*B.y);f=f.position.y+(g.j.y*B.x+g.k.y*B.y);return(w-c)*a+(f-b)*d};t.ux=function(a,b,c,d,f){var w=parseInt(b.Mb),
x=b.vc,v,g;g=f.w;v=d.Ri;var B=f.position.x+(g.j.x*v.x+g.k.x*v.y),k=f.position.y+(g.j.y*v.x+g.k.y*v.y);g=c.w;v=b.Ri;B-=c.position.x+(g.j.x*v.x+g.k.x*v.y);k-=c.position.y+(g.j.y*v.x+g.k.y*v.y);g=B*c.w.j.x+k*c.w.j.y;for(var k=B*c.w.k.x+k*c.w.k.y,B=0,K=-Number.MAX_VALUE,h=0;h<w;++h)v=x[h],v=v.x*g+v.y*k,v>K&&(K=v,B=h);x=t.Zq(b,c,B,d,f);v=parseInt(0<=B-1?B-1:w-1);g=t.Zq(b,c,v,d,f);var k=parseInt(B+1<w?B+1:0),K=t.Zq(b,c,k,d,f),I=0,U=0;if(g>x&&g>K)U=-1,h=v,I=g;else if(K>x)U=1,h=k,I=K;else return a[0]=B,x;
for(;;)if(B=-1==U?0<=h-1?h-1:w-1:h+1<w?h+1:0,x=t.Zq(b,c,B,d,f),x>I)h=B,I=x;else break;a[0]=h;return I};t.MB=function(a,b,c,d,f,w){void 0===d&&(d=0);parseInt(b.Mb);var x=b.vc,v=parseInt(f.Mb);b=f.Z;f=f.vc;var g;g=c.w;c=x[d];var x=g.j.x*c.x+g.k.x*c.y,B=g.j.y*c.x+g.k.y*c.y;g=w.w;c=g.j.x*x+g.j.y*B;B=g.k.x*x+g.k.y*B;x=c;g=0;for(var k=Number.MAX_VALUE,K=0;K<v;++K)c=f[K],c=x*c.x+B*c.y,c<k&&(k=c,g=K);f=parseInt(g);x=parseInt(f+1<v?f+1:0);v=a[0];c=b[f];g=w.w;v.fc.x=w.position.x+(g.j.x*c.x+g.k.x*c.y);v.fc.y=
w.position.y+(g.j.y*c.x+g.k.y*c.y);v.id.pg.FE=d;v.id.pg.tD=f;v.id.pg.uD=0;v=a[1];c=b[x];g=w.w;v.fc.x=w.position.x+(g.j.x*c.x+g.k.x*c.y);v.fc.y=w.position.y+(g.j.y*c.x+g.k.y*c.y);v.id.pg.FE=d;v.id.pg.tD=x;v.id.pg.uD=1};t.Rt=function(){var a=new aa(2);a[0]=new fa;a[1]=new fa;return a};t.GB=function(a,b,c,f,w){var v;a.Nc=0;var x=b.Ea+f.Ea;t.yw[0]=0;var g=t.ux(t.yw,b,c,f,w);v=t.yw[0];if(!(g>x)){var B;t.zw[0]=0;var k=t.ux(t.zw,f,w,b,c);B=t.zw[0];if(!(k>x)){var K=0,h=0;k>.98*g+.001?(g=f,f=b,b=w,K=B,a.ib=
W.Sk,h=1):(g=b,b=c,c=w,K=v,a.ib=W.Xg,h=0);v=t.KE;t.MB(v,g,b,K,f,c);B=parseInt(g.Mb);w=g.Z;var g=w[K],I;I=K+1<B?w[parseInt(K+1)]:w[0];K=t.ME;K.P(I.x-g.x,I.y-g.y);K.bb();w=t.LE;w.x=K.y;w.y=-K.x;f=t.OE;f.P(.5*(g.x+I.x),.5*(g.y+I.y));k=t.UE;B=b.w;k.x=B.j.x*K.x+B.k.x*K.y;k.y=B.j.y*K.x+B.k.y*K.y;var U=t.VE;U.x=-k.x;U.y=-k.y;K=t.NE;K.x=k.y;K.y=-k.x;var n=t.YE,fa=t.ZE;n.x=b.position.x+(B.j.x*g.x+B.k.x*g.y);n.y=b.position.y+(B.j.y*g.x+B.k.y*g.y);fa.x=b.position.x+(B.j.x*I.x+B.k.x*I.y);fa.y=b.position.y+(B.j.y*
I.x+B.k.y*I.y);b=K.x*n.x+K.y*n.y;B=k.x*fa.x+k.y*fa.y+x;I=t.IE;g=t.JE;fa=t.nx(I,v,U,-k.x*n.x-k.y*n.y+x);if(!(2>fa||(fa=t.nx(g,I,k,B),2>fa))){a.Pd.L(w);a.fb.L(f);for(f=w=0;f<d.of;++f)v=g[f],K.x*v.fc.x+K.y*v.fc.y-b<=x&&(k=a.gb[w],B=c.w,U=v.fc.x-c.position.x,n=v.fc.y-c.position.y,k.fb.x=U*B.j.x+n*B.j.y,k.fb.y=U*B.k.x+n*B.k.y,k.Ui.P(v.id),k.Ui.pg.MG=h,++w);a.Nc=w}}}};t.EB=function(a,b,c,d,f){a.Nc=0;var w,v;w=c.w;v=b.vd;var x=c.position.x+(w.j.x*v.x+w.k.x*v.y);c=c.position.y+(w.j.y*v.x+w.k.y*v.y);w=f.w;
v=d.vd;x=f.position.x+(w.j.x*v.x+w.k.x*v.y)-x;f=f.position.y+(w.j.y*v.x+w.k.y*v.y)-c;w=b.Ea+d.Ea;x*x+f*f>w*w||(a.ib=W.dv,a.fb.L(b.vd),a.Pd.Ka(),a.Nc=1,a.gb[0].fb.L(d.vd),a.gb[0].Ui.key=0)};t.FB=function(a,b,c,d,f){var w=a.Nc=0,v=0,x,g;g=f.w;x=d.vd;var B=f.position.y+(g.j.y*x.x+g.k.y*x.y),w=f.position.x+(g.j.x*x.x+g.k.x*x.y)-c.position.x,v=B-c.position.y;g=c.w;c=w*g.j.x+v*g.j.y;g=w*g.k.x+v*g.k.y;var k=0,B=-Number.MAX_VALUE;f=b.Ea+d.Ea;var K=parseInt(b.Mb),h=b.Z;b=b.vc;for(var I=0;I<K;++I){x=h[I];w=
c-x.x;v=g-x.y;x=b[I];w=x.x*w+x.y*v;if(w>f)return;w>B&&(B=w,k=I)}w=parseInt(k);v=parseInt(w+1<K?w+1:0);x=h[w];h=h[v];if(B<Number.MIN_VALUE)a.Nc=1,a.ib=W.Xg,a.Pd.L(b[k]),a.fb.x=.5*(x.x+h.x),a.fb.y=.5*(x.y+h.y);else if(B=(c-h.x)*(x.x-h.x)+(g-h.y)*(x.y-h.y),0>=(c-x.x)*(h.x-x.x)+(g-x.y)*(h.y-x.y)){if((c-x.x)*(c-x.x)+(g-x.y)*(g-x.y)>f*f)return;a.Nc=1;a.ib=W.Xg;a.Pd.x=c-x.x;a.Pd.y=g-x.y;a.Pd.bb();a.fb.L(x)}else if(0>=B){if((c-h.x)*(c-h.x)+(g-h.y)*(g-h.y)>f*f)return;a.Nc=1;a.ib=W.Xg;a.Pd.x=c-h.x;a.Pd.y=g-
h.y;a.Pd.bb();a.fb.L(h)}else{k=.5*(x.x+h.x);x=.5*(x.y+h.y);B=(c-k)*b[w].x+(g-x)*b[w].y;if(B>f)return;a.Nc=1;a.ib=W.Xg;a.Pd.x=b[w].x;a.Pd.y=b[w].y;a.Pd.bb();a.fb.P(k,x)}a.gb[0].fb.L(d.vd);a.gb[0].Ui.key=0};t.rj=function(a,b){var c=b.lowerBound,d=a.upperBound,f=c.x-d.x,w=c.y-d.y,c=a.lowerBound,d=b.upperBound,x=c.y-d.y;return 0<f||0<w||0<c.x-d.x||0<x?!1:!0};m.Fc.push(function(){m.v.Id.KE=t.Rt();m.v.Id.IE=t.Rt();m.v.Id.JE=t.Rt();m.v.Id.yw=new ba(1);m.v.Id.zw=new ba(1);m.v.Id.ME=new k;m.v.Id.LE=new k;
m.v.Id.OE=new k;m.v.Id.NE=new k;m.v.Id.UE=new k;m.v.Id.VE=new k;m.v.Id.YE=new k;m.v.Id.ZE=new k;m.v.Id.pG=new k;m.v.Id.tG=255});A.fm=function(){this.pg=new E};A.prototype.fm=function(){this.pg.sj=this};A.prototype.P=function(a){this.key=a.kf};A.prototype.Gb=function(){var a=new A;a.key=this.key;return a};Object.defineProperty(A.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.kf}});Object.defineProperty(A.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===
a&&(a=0);this.kf=a;this.pg.au=this.kf&255;this.pg.Zt=(this.kf&65280)>>8&255;this.pg.$t=(this.kf&16711680)>>16&255;this.pg.Yt=(this.kf&4278190080)>>24&255}});u.Ar=function(){this.position=new k;this.xh=new k;this.Yf=new k;this.id=new A};y.Hk=function(){};y.Ft=function(a,b,c){++y.rG;var w=c.di,x=c.ei,v=c.kB,g=c.lB,B=y.SE;B.XB(b,w,v,x,g);var K=B.Z,h=y.QE,I=y.RE,U=0;B.xx();for(var n=0,fa,E=0;20>E;){U=B.Sb;for(n=0;n<U;n++)h[n]=K[n].sd,I[n]=K[n].td;switch(B.Sb){case 1:break;case 2:B.bC();break;case 3:B.cC();
break;default:d.lc(!1)}if(3==B.Sb)break;B.xx();n=B.PB();if(n.ir()<Number.MIN_VALUE*Number.MIN_VALUE)break;fa=K[B.Sb];fa.sd=w.Ot(f.nj(v.w,n.mj()));fa.fe=f.cd(v,w.Vd(fa.sd));fa.td=x.Ot(f.nj(g.w,n));fa.Jg=f.cd(g,x.Vd(fa.td));fa.u=f.yc(fa.Jg,fa.fe);++E;++y.sG;for(var p=!1,n=0;n<U;n++)if(fa.sd==h[n]&&fa.td==I[n]){p=!0;break}if(p)break;++B.Sb}y.xC=f.he(y.xC,E);B.QB(a.ih,a.jh);a.Ok=f.yc(a.ih,a.jh).hg();a.PG=E;B.iC(b);c.uB&&(b=w.Ea,x=x.Ea,a.Ok>b+x&&a.Ok>Number.MIN_VALUE?(a.Ok-=b+x,c=f.yc(a.jh,a.ih),c.bb(),
a.ih.x+=b*c.x,a.ih.y+=b*c.y,a.jh.x-=x*c.x,a.jh.y-=x*c.y):(fa=new k,fa.x=.5*(a.ih.x+a.jh.x),fa.y=.5*(a.ih.y+a.jh.y),a.ih.x=a.jh.x=fa.x,a.ih.y=a.jh.y=fa.y,a.Ok=0))};m.Fc.push(function(){m.v.Hk.SE=new v;m.v.Hk.QE=new ba(3);m.v.Hk.RE=new ba(3)});M.Br=function(){};O.Cr=function(){this.ih=new k;this.jh=new k};da.Dr=function(){};da.prototype.P=function(f){switch(f.Hb()){case c.Rk:f=f instanceof a?f:null;this.Z=new aa(1,!0);this.Z[0]=f.vd;this.Sb=1;this.Ea=f.Ea;break;case c.Ej:f=f instanceof b?f:null;this.Z=
f.Z;this.Sb=f.Mb;this.Ea=f.Ea;break;default:d.lc(!1)}};da.prototype.Ot=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Sb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return b};da.prototype.qo=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Sb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return this.Z[b]};da.prototype.Vd=function(a){void 0===a&&(a=0);d.lc(0<=a&&a<this.Sb);return this.Z[a]};T.Mo=function(){};T.prototype.Mo=function(){this.dq=
this.Yh=null};T.prototype.lo=function(a,b){var c=this.lx(),f=d.Ir,w=d.Ir;c.Ab.lowerBound.x=a.lowerBound.x-f;c.Ab.lowerBound.y=a.lowerBound.y-w;c.Ab.upperBound.x=a.upperBound.x+f;c.Ab.upperBound.y=a.upperBound.y+w;c.tk=b;this.Fx(c);return c};T.prototype.mo=function(a){this.Nx(a);this.Kt(a)};T.prototype.St=function(a,b,c){d.lc(a.er());if(a.Ab.Et(b))return!1;this.Nx(a);var f=d.Ir+d.my*(0<c.x?c.x:-c.x);c=d.Ir+d.my*(0<c.y?c.y:-c.y);a.Ab.lowerBound.x=b.lowerBound.x-f;a.Ab.lowerBound.y=b.lowerBound.y-c;
a.Ab.upperBound.x=b.upperBound.x+f;a.Ab.upperBound.y=b.upperBound.y+c;this.Fx(a);return!0};T.prototype.oo=function(a){return a.Ab};T.prototype.Gf=function(a){return a.tk};T.prototype.Ut=function(a,b){if(null!=this.Yh){var c=new aa,d=0;for(c[d++]=this.Yh;0<d;){var f=c[--d];if(f.Ab.rj(b))if(f.er()){if(!a(f))break}else c[d++]=f.Lf,c[d++]=f.Bi}}};T.prototype.lx=function(){if(this.dq){var a=this.dq;this.dq=a.parent;a.parent=null;a.Lf=null;a.Bi=null;return a}return new V};T.prototype.Kt=function(a){a.parent=
this.dq;this.dq=a};T.prototype.Fx=function(a){if(null==this.Yh)this.Yh=a,this.Yh.parent=null;else{var b=a.Ab.NB(),c=this.Yh;if(0==c.er()){do var d=c.Lf,c=c.Bi,c=Math.abs((d.Ab.lowerBound.x+d.Ab.upperBound.x)/2-b.x)+Math.abs((d.Ab.lowerBound.y+d.Ab.upperBound.y)/2-b.y)<Math.abs((c.Ab.lowerBound.x+c.Ab.upperBound.x)/2-b.x)+Math.abs((c.Ab.lowerBound.y+c.Ab.upperBound.y)/2-b.y)?d:c;while(0==c.er())}b=c.parent;d=this.lx();d.parent=b;d.tk=null;d.Ab.Vl(a.Ab,c.Ab);if(b){c.parent.Lf==c?b.Lf=d:b.Bi=d;d.Lf=
c;d.Bi=a;c.parent=d;a.parent=d;do{if(b.Ab.Et(d.Ab))break;b.Ab.Vl(b.Lf.Ab,b.Bi.Ab);d=b;b=b.parent}while(b)}else d.Lf=c,d.Bi=a,c.parent=d,this.Yh=a.parent=d}};T.prototype.Nx=function(a){if(a==this.Yh)this.Yh=null;else{var b=a.parent,c=b.parent;a=b.Lf==a?b.Bi:b.Lf;if(c)for(c.Lf==b?c.Lf=a:c.Bi=a,a.parent=c,this.Kt(b);c;){b=c.Ab;c.Ab=n.Vl(c.Lf.Ab,c.Bi.Ab);if(b.Et(c.Ab))break;c=c.parent}else this.Yh=a,a.parent=null,this.Kt(b)}};C.Er=function(){this.vg=new T;this.sl=new aa;this.kq=new aa;this.ul=0};C.prototype.lo=
function(a,b){var c=this.vg.lo(a,b);this.mx(c);return c};C.prototype.mo=function(a){this.gC(a);this.vg.mo(a)};C.prototype.St=function(a,b,c){this.vg.St(a,b,c)&&this.mx(a)};C.prototype.rj=function(a,b){return this.vg.oo(a).rj(this.vg.oo(b))};C.prototype.Gf=function(a){return this.vg.Gf(a)};C.prototype.oo=function(a){return this.vg.oo(a)};C.prototype.hC=function(a){for(var b=this,c=b.ul=0,d,c=0;c<b.sl.length;++c){d=b.sl[c];var f=b.vg.oo(d);b.vg.Ut(function(a){if(a==d)return!0;b.ul==b.kq.length&&(b.kq[b.ul]=
new la);var c=b.kq[b.ul];c.di=a<d?a:d;c.ei=a>=d?a:d;++b.ul;return!0},f)}for(c=b.sl.length=0;c<b.ul;){var f=b.kq[c],w=b.vg.Gf(f.di);a(w,b.vg.Gf(f.ei));for(++c;c<b.ul;){w=b.kq[c];if(w.di!=f.di||w.ei!=f.ei)break;++c}}};C.prototype.Ut=function(a,b){this.vg.Ut(a,b)};C.prototype.mx=function(a){this.sl[this.sl.length]=a};C.prototype.gC=function(a){this.sl.splice(parseInt(this.sl.indexOf(a)),1)};C.Xt={};C.Xt[pa]=!0;V.tu=function(){this.Ab=new n};V.prototype.er=function(){return null==this.Lf};la.uu=function(){};
W.vi=function(){this.Nc=0};W.prototype.vi=function(){this.gb=new aa(d.of);for(var a=0;a<d.of;a++)this.gb[a]=new F;this.Pd=new k;this.fb=new k};W.prototype.ie=function(){for(var a=0;a<d.of;a++)(this.gb[a]instanceof F?this.gb[a]:null).ie();this.Pd.Ka();this.fb.Ka();this.Nc=this.ib=0};W.prototype.P=function(a){this.Nc=a.Nc;for(var b=0;b<d.of;b++)(this.gb[b]instanceof F?this.gb[b]:null).P(a.gb[b]);this.Pd.L(a.Pd);this.fb.L(a.fb);this.ib=a.ib};W.prototype.Gb=function(){var a=new W;a.P(this);return a};
m.Fc.push(function(){m.v.vi.dv=1;m.v.vi.Xg=2;m.v.vi.Sk=4});F.Vo=function(){this.fb=new k;this.Ui=new A};F.prototype.Vo=function(){this.ie()};F.prototype.ie=function(){this.fb.Ka();this.zl=this.tl=0;this.Ui.key=0};F.prototype.P=function(a){this.fb.L(a.fb);this.tl=a.tl;this.zl=a.zl;this.Ui.P(a.Ui)};Z.Au=function(){new k};Ia.bp=function(){this.xn=new k;this.yn=new k};Ia.prototype.bp=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&this.xn.L(a);b&&this.yn.L(b)};ta.Eu=function(){this.Yf=new k};
Ja.Fu=function(){this.xn=new k;this.yn=new k};w.pm=function(){this.fb=new k;this.ea=new k};w.prototype.nd=function(a,b,c,x,v){this.Zj=b;this.$j=x;var g=parseInt(a.count);d.lc(0<g&&3>g);var B,K,h,I,U=0,n=0;1==g?(this.ib=w.$y,B=this.Zj.Vd(a.sd[0]),K=this.$j.Vd(a.td[0]),g=B,a=c.w,b=c.position.x+(a.j.x*g.x+a.k.x*g.y),x=c.position.y+(a.j.y*g.x+a.k.y*g.y),g=K,a=v.w,h=v.position.x+(a.j.x*g.x+a.k.x*g.y),I=v.position.y+(a.j.y*g.x+a.k.y*g.y),this.ea.x=h-b,this.ea.y=I-x,this.ea.bb()):(a.td[0]==a.td[1]?(this.ib=
w.Xg,b=this.Zj.Vd(a.sd[0]),x=this.Zj.Vd(a.sd[1]),K=this.$j.Vd(a.td[0]),this.fb.x=.5*(b.x+x.x),this.fb.y=.5*(b.y+x.y),this.ea=f.lj(f.yc(x,b),1),this.ea.bb(),g=this.ea,a=c.w,U=a.j.x*g.x+a.k.x*g.y,n=a.j.y*g.x+a.k.y*g.y,g=this.fb,a=c.w,b=c.position.x+(a.j.x*g.x+a.k.x*g.y),x=c.position.y+(a.j.y*g.x+a.k.y*g.y),g=K,a=v.w,h=v.position.x+(a.j.x*g.x+a.k.x*g.y),I=v.position.y+(a.j.y*g.x+a.k.y*g.y),U=(h-b)*U+(I-x)*n):a.sd[0]==a.sd[0]?(this.ib=w.Sk,h=this.$j.Vd(a.td[0]),I=this.$j.Vd(a.td[1]),B=this.Zj.Vd(a.sd[0]),
this.fb.x=.5*(h.x+I.x),this.fb.y=.5*(h.y+I.y),this.ea=f.lj(f.yc(I,h),1),this.ea.bb(),g=this.ea,a=v.w,U=a.j.x*g.x+a.k.x*g.y,n=a.j.y*g.x+a.k.y*g.y,g=this.fb,a=v.w,h=v.position.x+(a.j.x*g.x+a.k.x*g.y),I=v.position.y+(a.j.y*g.x+a.k.y*g.y),g=B,a=c.w,b=c.position.x+(a.j.x*g.x+a.k.x*g.y),x=c.position.y+(a.j.y*g.x+a.k.y*g.y),U=(b-h)*U+(x-I)*n):(b=this.Zj.Vd(a.sd[0]),x=this.Zj.Vd(a.sd[1]),h=this.$j.Vd(a.td[0]),I=this.$j.Vd(a.td[1]),f.cd(c,B),B=f.Fd(c.w,f.yc(x,b)),f.cd(v,K),U=f.Fd(v.w,f.yc(I,h)),v=B.x*B.x+
B.y*B.y,K=U.x*U.x+U.y*U.y,a=f.yc(U,B),c=B.x*a.x+B.y*a.y,a=U.x*a.x+U.y*a.y,B=B.x*U.x+B.y*U.y,n=v*K-B*B,U=0,0!=n&&(U=f.Fb((B*a-c*K)/n,0,1)),0>(B*U+a)/K&&(U=f.Fb((B-c)/v,0,1)),B=new k,B.x=b.x+U*(x.x-b.x),B.y=b.y+U*(x.y-b.y),K=new k,K.x=h.x+U*(I.x-h.x),K.y=h.y+U*(I.y-h.y),0==U||1==U?(this.ib=w.Sk,this.ea=f.lj(f.yc(I,h),1),this.ea.bb(),this.fb=K):(this.ib=w.Xg,this.ea=f.lj(f.yc(x,b),1),this.fb=B)),0>U&&this.ea.Jx())};w.prototype.Mg=function(a,b){var c,x,g=0;switch(this.ib){case w.$y:return c=f.nj(a.w,
this.ea),x=f.nj(b.w,this.ea.mj()),c=this.Zj.qo(c),x=this.$j.qo(x),c=f.cd(a,c),x=f.cd(b,x),(x.x-c.x)*this.ea.x+(x.y-c.y)*this.ea.y;case w.Xg:return g=f.Fd(a.w,this.ea),c=f.cd(a,this.fb),x=f.nj(b.w,g.mj()),x=this.$j.qo(x),x=f.cd(b,x),(x.x-c.x)*g.x+(x.y-c.y)*g.y;case w.Sk:return g=f.Fd(b.w,this.ea),x=f.cd(b,this.fb),c=f.nj(a.w,g.mj()),c=this.Zj.qo(c),c=f.cd(a,c),(c.x-x.x)*g.x+(c.y-x.y)*g.y;default:return d.lc(!1),0}};m.Fc.push(function(){m.v.pm.$y=1;m.v.pm.Xg=2;m.v.pm.Sk=4});v.cp=function(){this.za=
new B;this.Qa=new B;this.zf=new B;this.Z=new aa(3)};v.prototype.cp=function(){this.Z[0]=this.za;this.Z[1]=this.Qa;this.Z[2]=this.zf};v.prototype.XB=function(a,b,c,w,x){d.lc(0<=a.count&&3>=a.count);var g,v;this.Sb=a.count;for(var B=this.Z,k=0;k<this.Sb;k++){var K=B[k];K.sd=a.sd[k];K.td=a.td[k];g=b.Vd(K.sd);v=w.Vd(K.td);K.fe=f.cd(c,g);K.Jg=f.cd(x,v);K.u=f.yc(K.Jg,K.fe);K.Q=0}1<this.Sb&&(a=a.gE,g=this.Ax(),g<.5*a||2*a<g||g<Number.MIN_VALUE)&&(this.Sb=0);0==this.Sb&&(K=B[0],K.sd=0,K.td=0,g=b.Vd(0),v=
w.Vd(0),K.fe=f.cd(c,g),K.Jg=f.cd(x,v),K.u=f.yc(K.Jg,K.fe),this.Sb=1)};v.prototype.iC=function(a){a.gE=this.Ax();a.count=m.zg(this.Sb);for(var b=this.Z,c=0;c<this.Sb;c++)a.sd[c]=m.zg(b[c].sd),a.td[c]=m.zg(b[c].td)};v.prototype.PB=function(){switch(this.Sb){case 1:return this.za.u.mj();case 2:var a=f.yc(this.Qa.u,this.za.u);return 0<f.Xl(a,this.za.u.mj())?f.ox(1,a):f.lj(a,1);default:return d.lc(!1),new k}};v.prototype.xx=function(){switch(this.Sb){case 0:d.lc(!1);new k;break;case 1:break;case 2:new k(this.za.Q*
this.za.u.x+this.Qa.Q*this.Qa.u.x,this.za.Q*this.za.u.y+this.Qa.Q*this.Qa.u.y);break;default:d.lc(!1),new k}};v.prototype.QB=function(a,b){switch(this.Sb){case 0:d.lc(!1);break;case 1:a.L(this.za.fe);b.L(this.za.Jg);break;case 2:a.x=this.za.Q*this.za.fe.x+this.Qa.Q*this.Qa.fe.x;a.y=this.za.Q*this.za.fe.y+this.Qa.Q*this.Qa.fe.y;b.x=this.za.Q*this.za.Jg.x+this.Qa.Q*this.Qa.Jg.x;b.y=this.za.Q*this.za.Jg.y+this.Qa.Q*this.Qa.Jg.y;break;case 3:b.x=a.x=this.za.Q*this.za.fe.x+this.Qa.Q*this.Qa.fe.x+this.zf.Q*
this.zf.fe.x;b.y=a.y=this.za.Q*this.za.fe.y+this.Qa.Q*this.Qa.fe.y+this.zf.Q*this.zf.fe.y;break;default:d.lc(!1)}};v.prototype.Ax=function(){switch(this.Sb){case 0:return d.lc(!1),0;case 1:return 0;case 2:return f.yc(this.za.u,this.Qa.u).hg();case 3:return f.Xl(f.yc(this.Qa.u,this.za.u),f.yc(this.zf.u,this.za.u));default:return d.lc(!1),0}};v.prototype.bC=function(){var a=this.za.u,b=this.Qa.u,c=f.yc(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Sb=this.za.Q=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Sb=this.Qa.Q=1,this.za.P(this.Qa)):
(c=1/(b+a),this.za.Q=b*c,this.Qa.Q=a*c,this.Sb=2))};v.prototype.cC=function(){var a=this.za.u,b=this.Qa.u,c=this.zf.u,d=f.yc(b,a),w=f.Ud(a,d),x=f.Ud(b,d),w=-w,g=f.yc(c,a),v=f.Ud(a,g),B=f.Ud(c,g),v=-v,k=f.yc(c,b),K=f.Ud(b,k),k=f.Ud(c,k),K=-K,g=f.Xl(d,g),d=g*f.Xl(b,c),c=g*f.Xl(c,a),a=g*f.Xl(a,b);0>=w&&0>=v?this.Sb=this.za.Q=1:0<x&&0<w&&0>=a?(B=1/(x+w),this.za.Q=x*B,this.Qa.Q=w*B,this.Sb=2):0<B&&0<v&&0>=c?(x=1/(B+v),this.za.Q=B*x,this.zf.Q=v*x,this.Sb=2,this.Qa.P(this.zf)):0>=x&&0>=K?(this.Sb=this.Qa.Q=
1,this.za.P(this.Qa)):0>=B&&0>=k?(this.Sb=this.zf.Q=1,this.za.P(this.zf)):0<k&&0<K&&0>=d?(x=1/(k+K),this.Qa.Q=k*x,this.zf.Q=K*x,this.Sb=2,this.za.P(this.zf)):(x=1/(d+c+a),this.za.Q=d*x,this.Qa.Q=c*x,this.zf.Q=a*x,this.Sb=3)};x.Fr=function(){this.sd=new ba(3);this.td=new ba(3)};B.Gu=function(){};B.prototype.P=function(a){this.fe.L(a.fe);this.Jg.L(a.Jg);this.u.L(a.u);this.Q=a.Q;this.sd=a.sd;this.td=a.td};K.Qe=function(){};K.fC=function(a){++K.CC;var b=a.di,c=a.ei,w=a.hB,x=a.iB;d.lc(w.Cd==x.Cd);d.lc(1-
w.Cd>Number.MIN_VALUE);var g=b.Ea+c.Ea;a=a.KF;var v=0,B=0,k=0;K.xw.count=0;for(K.Hn.uB=!1;;){w.gf(K.ik,v);x.gf(K.jk,v);K.Hn.di=b;K.Hn.ei=c;K.Hn.kB=K.ik;K.Hn.lB=K.jk;y.Ft(K.JA,K.xw,K.Hn);if(0>=K.JA.Ok){v=1;break}K.bt.nd(K.xw,b,K.ik,c,K.jk);var h=K.bt.Mg(K.ik,K.jk);if(0>=h){v=1;break}0==B&&(k=h>g?f.he(g-a,.75*g):f.he(h-a,.02*g));if(h-k<.5*a){if(0==B){v=1;break}break}var I=v,U=v,n=1;w.gf(K.ik,n);x.gf(K.jk,n);var fa=K.bt.Mg(K.ik,K.jk);if(fa>=k){v=1;break}for(var E=0;;){var p=0,p=E&1?U+(k-h)*(n-U)/(fa-
h):.5*(U+n);w.gf(K.ik,p);x.gf(K.jk,p);var pa=K.bt.Mg(K.ik,K.jk);if(f.ld(pa-k)<.025*a){I=p;break}pa>k?(U=p,h=pa):(n=p,fa=pa);++E;++K.EC;if(50==E)break}K.sy=f.he(K.sy,E);if(I<(1+100*Number.MIN_VALUE)*v)break;v=I;B++;++K.DC;if(1E3==B)break}K.ry=f.he(K.ry,B);return v};m.Fc.push(function(){m.v.Qe.CC=0;m.v.Qe.DC=0;m.v.Qe.ry=0;m.v.Qe.EC=0;m.v.Qe.sy=0;m.v.Qe.xw=new x;m.v.Qe.Hn=new M;m.v.Qe.ik=new h;m.v.Qe.jk=new h;m.v.Qe.bt=new w;m.v.Qe.JA=new O});U.Gr=function(){this.di=new da;this.ei=new da;this.hB=new g;
this.iB=new g};I.rm=function(){this.Pa=new k};I.prototype.rm=function(){this.gb=new aa(d.of);for(var a=0;a<d.of;a++)this.gb[a]=new k};I.prototype.nd=function(a,b,c,d,f){void 0===c&&(c=0);void 0===f&&(f=0);if(0!=a.Nc){var w=0,x,g,v=0,B=0,k=0,K=0,h=0;switch(a.ib){case W.dv:g=b.w;x=a.fb;w=b.position.x+g.j.x*x.x+g.k.x*x.y;b=b.position.y+g.j.y*x.x+g.k.y*x.y;g=d.w;x=a.gb[0].fb;a=d.position.x+g.j.x*x.x+g.k.x*x.y;d=d.position.y+g.j.y*x.x+g.k.y*x.y;x=a-w;g=d-b;v=x*x+g*g;v>Number.MIN_VALUE*Number.MIN_VALUE?
(v=Math.sqrt(v),this.Pa.x=x/v,this.Pa.y=g/v):(this.Pa.x=1,this.Pa.y=0);x=b+c*this.Pa.y;d-=f*this.Pa.y;this.gb[0].x=.5*(w+c*this.Pa.x+(a-f*this.Pa.x));this.gb[0].y=.5*(x+d);break;case W.Xg:g=b.w;x=a.Pd;v=g.j.x*x.x+g.k.x*x.y;B=g.j.y*x.x+g.k.y*x.y;g=b.w;x=a.fb;k=b.position.x+g.j.x*x.x+g.k.x*x.y;K=b.position.y+g.j.y*x.x+g.k.y*x.y;this.Pa.x=v;this.Pa.y=B;for(w=0;w<a.Nc;w++)g=d.w,x=a.gb[w].fb,h=d.position.x+g.j.x*x.x+g.k.x*x.y,x=d.position.y+g.j.y*x.x+g.k.y*x.y,this.gb[w].x=h+.5*(c-(h-k)*v-(x-K)*B-f)*v,
this.gb[w].y=x+.5*(c-(h-k)*v-(x-K)*B-f)*B;break;case W.Sk:for(g=d.w,x=a.Pd,v=g.j.x*x.x+g.k.x*x.y,B=g.j.y*x.x+g.k.y*x.y,g=d.w,x=a.fb,k=d.position.x+g.j.x*x.x+g.k.x*x.y,K=d.position.y+g.j.y*x.x+g.k.y*x.y,this.Pa.x=-v,this.Pa.y=-B,w=0;w<a.Nc;w++)g=b.w,x=a.gb[w].fb,h=b.position.x+g.j.x*x.x+g.k.x*x.y,x=b.position.y+g.j.y*x.x+g.k.y*x.y,this.gb[w].x=h+.5*(f-(h-k)*v-(x-K)*B-c)*v,this.gb[w].y=x+.5*(f-(h-k)*v-(x-K)*B-c)*B}}};fa.Dt=function(){this.fc=new k;this.id=new A};fa.prototype.P=function(a){this.fc.L(a.fc);
this.id.P(a.id)};E.It=function(){};Object.defineProperty(E.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.au}});Object.defineProperty(E.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.au=a;this.sj.kf=this.sj.kf&4294967040|this.au&255}});Object.defineProperty(E.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.Zt}});Object.defineProperty(E.prototype,"incidentEdge",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.Zt=a;this.sj.kf=this.sj.kf&4294902015|this.Zt<<8&65280}});Object.defineProperty(E.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.$t}});Object.defineProperty(E.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.$t=a;this.sj.kf=this.sj.kf&4278255615|this.$t<<16&16711680}});Object.defineProperty(E.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.Yt}});Object.defineProperty(E.prototype,
"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Yt=a;this.sj.kf=this.sj.kf&16777215|this.Yt<<24&4278190080}})})();
(function(){var a=m.ba.Pb,b=m.v.Sa.wj,c=m.v.Sa.No,d=m.v.Sa.Oo,f=m.v.Sa.Wo,g=m.v.Sa.xi,h=m.v.Sa.Yb,k=m.ba.Math.wi,n=m.ba.Math.If,q=m.ba.Math.yj,p=m.ba.Math.lg,t=m.v.Hk,A=m.v.Br,u=m.v.Cr,y=m.v.Dr,M=m.v.Fr;m.Jb(b,m.v.Sa.Yb);b.prototype.oa=m.v.Sa.Yb.prototype;b.wj=function(){m.v.Sa.Yb.Yb.apply(this,arguments);this.vd=new p};b.prototype.Gb=function(){var a=new b;a.P(this);return a};b.prototype.P=function(a){this.oa.P.call(this,a);m.is(a,b)&&this.vd.L((a instanceof b?a:null).vd)};b.prototype.Wl=function(a,
b){var c=b.w,d=b.position.x+(c.j.x*this.vd.x+c.k.x*this.vd.y),c=b.position.y+(c.j.y*this.vd.x+c.k.y*this.vd.y);a.lowerBound.P(d-this.Ea,c-this.Ea);a.upperBound.P(d+this.Ea,c+this.Ea)};b.prototype.jo=function(b,c){void 0===c&&(c=0);b.Zh=c*a.gp*this.Ea*this.Ea;b.ze.L(this.vd);b.Yl=b.Zh*(.5*this.Ea*this.Ea+(this.vd.x*this.vd.x+this.vd.y*this.vd.y))};b.prototype.Wq=function(a,b,c,d){void 0===b&&(b=0);c=n.cd(c,this.vd);var f=-(n.Ud(a,c)-b);if(f<-this.Ea+Number.MIN_VALUE)return 0;if(f>this.Ea)return d.L(c),
Math.PI*this.Ea*this.Ea;b=this.Ea*this.Ea;var g=f*f,f=b*(Math.asin(f/this.Ea)+Math.PI/2)+f*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/f;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return f};b.prototype.Vx=function(a){this.vd.L(a)};b.prototype.wj=function(a){void 0===a&&(a=0);this.oa.Yb.call(this);this.ib=h.Rk;this.Ea=a};c.No=function(){};c.prototype.No=function(){this.ca=[]};m.Jb(d,m.v.Sa.Yb);d.prototype.oa=m.v.Sa.Yb.prototype;d.Oo=function(){m.v.Sa.Yb.Yb.apply(this,arguments);new p;this.za=new p;this.Qa=new p;this.JD=
new p;this.KD=new p;this.Pa=new p;this.Wj=new p;new p;this.LD=new p};d.prototype.Wl=function(a,b){var c=b.w,d=b.position.x+(c.j.x*this.za.x+c.k.x*this.za.y),f=b.position.y+(c.j.y*this.za.x+c.k.y*this.za.y),g=b.position.x+(c.j.x*this.Qa.x+c.k.x*this.Qa.y),c=b.position.y+(c.j.y*this.Qa.x+c.k.y*this.Qa.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);f<c?(a.lowerBound.y=f,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=f)};d.prototype.jo=function(a){a.Zh=0;a.ze.L(this.za);
a.Yl=0};d.prototype.Wq=function(a,b,c,d){void 0===b&&(b=0);var f=new p(a.x*b,a.y*b),g=n.cd(c,this.za);c=n.cd(c,this.Qa);var k=n.Ud(a,g)-b;a=n.Ud(a,c)-b;if(0<k){if(0<a)return 0;g.x=-a/(k-a)*g.x+k/(k-a)*c.x;g.y=-a/(k-a)*g.y+k/(k-a)*c.y}else 0<a&&(c.x=-a/(k-a)*g.x+k/(k-a)*c.x,c.y=-a/(k-a)*g.y+k/(k-a)*c.y);d.x=(f.x+g.x+c.x)/3;d.y=(f.y+g.y+c.y)/3;return.5*((g.x-f.x)*(c.y-f.y)-(g.y-f.y)*(c.x-f.x))};d.prototype.Oo=function(b,c){this.oa.Yb.call(this);this.ib=h.bs;this.za=b;this.Qa=c;this.Wj.P(this.Qa.x-this.za.x,
this.Qa.y-this.za.y);this.Tv=this.Wj.bb();this.Pa.P(this.Wj.y,-this.Wj.x);this.JD.P(-a.Lr*(this.Pa.x-this.Wj.x)+this.za.x,-a.Lr*(this.Pa.y-this.Wj.y)+this.za.y);this.KD.P(-a.Lr*(this.Pa.x+this.Wj.x)+this.Qa.x,-a.Lr*(this.Pa.y+this.Wj.y)+this.Qa.y);this.LD.P(-this.Pa.x,-this.Pa.y)};f.Wo=function(){this.Zh=0;this.ze=new p(0,0);this.Yl=0};m.Jb(g,m.v.Sa.Yb);g.prototype.oa=m.v.Sa.Yb.prototype;g.xi=function(){m.v.Sa.Yb.Yb.apply(this,arguments)};g.prototype.Gb=function(){var a=new g;a.P(this);return a};
g.prototype.P=function(a){this.oa.P.call(this,a);if(m.is(a,g)){a=a instanceof g?a:null;this.Ri.L(a.Ri);this.Mb=a.Mb;this.so(this.Mb);for(var b=0;b<this.Mb;b++)this.Z[b].L(a.Z[b]),this.vc[b].L(a.vc[b])}};g.prototype.Vt=function(a,b){void 0===b&&(b=0);for(var c=new aa,d=0,f,d=0;d<a.length;++d)f=a[d],c.push(f);this.Rx(c,b)};g.YF=function(a,b){void 0===b&&(b=0);var c=new g;c.Vt(a,b);return c};g.prototype.Rx=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);a.lc(2<=c);this.Mb=c;this.so(c);for(var d=0,
d=0;d<this.Mb;d++)this.Z[d].L(b[d]);for(d=0;d<this.Mb;++d){var f=parseInt(d),f=n.yc(this.Z[parseInt(d+1<this.Mb?d+1:0)],this.Z[f]);a.lc(f.ir()>Number.MIN_VALUE);this.vc[d].L(n.lj(f,1));this.vc[d].bb()}this.Ri=g.IB(this.Z,this.Mb)};g.bG=function(a,b){void 0===b&&(b=0);var c=new g;c.Rx(a,b);return c};g.prototype.Qx=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Mb=4;this.so(4);this.Z[0].P(-a,-b);this.Z[1].P(a,-b);this.Z[2].P(a,b);this.Z[3].P(-a,b);this.vc[0].P(0,-1);this.vc[1].P(1,0);this.vc[2].P(0,
1);this.vc[3].P(-1,0);this.Ri.Ka()};g.ZF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new g;c.Qx(a,b);return c};g.prototype.ZB=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.Mb=4;this.so(4);this.Z[0].P(-a,-b);this.Z[1].P(a,-b);this.Z[2].P(a,b);this.Z[3].P(-a,b);this.vc[0].P(0,-1);this.vc[1].P(1,0);this.vc[2].P(0,1);this.vc[3].P(-1,0);this.Ri=c;a=new q;a.position=c;a.w.P(d);for(c=0;c<this.Mb;++c)this.Z[c]=n.cd(a,this.Z[c]),this.vc[c]=n.Fd(a.w,
this.vc[c])};g.aG=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var f=new g;f.ZB(a,b,c,d);return f};g.prototype.YB=function(a,b){this.Mb=2;this.so(2);this.Z[0].L(a);this.Z[1].L(b);this.Ri.x=.5*(a.x+b.x);this.Ri.y=.5*(a.y+b.y);this.vc[0]=n.lj(n.yc(b,a),1);this.vc[0].bb();this.vc[1].x=-this.vc[0].x;this.vc[1].y=-this.vc[0].y};g.$F=function(a,b){var c=new g;c.YB(a,b);return c};g.prototype.Wl=function(a,b){for(var c=b.w,d=this.Z[0],f=b.position.x+(c.j.x*
d.x+c.k.x*d.y),g=b.position.y+(c.j.y*d.x+c.k.y*d.y),k=f,h=g,n=1;n<this.Mb;++n)var d=this.Z[n],p=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),f=f<p?f:p,g=g<d?g:d,k=k>p?k:p,h=h>d?h:d;a.lowerBound.x=f-this.Ea;a.lowerBound.y=g-this.Ea;a.upperBound.x=k+this.Ea;a.upperBound.y=h+this.Ea};g.prototype.jo=function(a,b){void 0===b&&(b=0);if(2==this.Mb)a.ze.x=.5*(this.Z[0].x+this.Z[1].x),a.ze.y=.5*(this.Z[0].y+this.Z[1].y),a.Zh=0,a.Yl=0;else{for(var c=0,d=0,f=0,g=0,k=1/3,h=0;h<this.Mb;++h)var n=
this.Z[h],p=h+1<this.Mb?this.Z[parseInt(h+1)]:this.Z[0],t=n.x-0,q=n.y-0,w=p.x-0,v=p.y-0,x=t*v-q*w,B=.5*x,f=f+B,c=c+B*k*(0+n.x+p.x),d=d+B*k*(0+n.y+p.y),n=t,g=g+x*(k*(.25*(n*n+w*n+w*w)+(0*n+0*w))+0+(k*(.25*(q*q+v*q+v*v)+(0*q+0*v))+0));a.Zh=b*f;a.ze.P(1/f*c,1/f*d);a.Yl=b*g}};g.prototype.Wq=function(a,b,c,d){void 0===b&&(b=0);var g=n.nj(c.w,a),k=b-n.Ud(a,c.position),h=new ba,t=0,q=-1;b=-1;var u=!1;for(a=a=0;a<this.Mb;++a){h[a]=n.Ud(g,this.Z[a])-k;var A=h[a]<-Number.MIN_VALUE;0<a&&(A?u||(q=a-1,t++):u&&
(b=a-1,t++));u=A}switch(t){case 0:return u?(a=new f,this.jo(a,1),d.L(n.cd(c,a.ze)),a.Zh):0;case 1:-1==q?q=this.Mb-1:b=this.Mb-1}a=parseInt((q+1)%this.Mb);g=parseInt((b+1)%this.Mb);k=(0-h[q])/(h[a]-h[q]);h=(0-h[b])/(h[g]-h[b]);q=new p(this.Z[q].x*(1-k)+this.Z[a].x*k,this.Z[q].y*(1-k)+this.Z[a].y*k);b=new p(this.Z[b].x*(1-h)+this.Z[g].x*h,this.Z[b].y*(1-h)+this.Z[g].y*h);h=0;k=new p;for(t=this.Z[a];a!=g;)a=(a+1)%this.Mb,u=a==g?b:this.Z[a],A=.5*((t.x-q.x)*(u.y-q.y)-(t.y-q.y)*(u.x-q.x)),h+=A,k.x+=A*(q.x+
t.x+u.x)/3,k.y+=A*(q.y+t.y+u.y)/3,t=u;k.aa(1/h);d.L(n.cd(c,k));return h};g.prototype.Ot=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Mb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return b};g.prototype.qo=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Mb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return this.Z[b]};g.prototype.xi=function(){this.oa.Yb.call(this);this.ib=h.Ej;this.Ri=new p;this.Z=new aa;this.vc=new aa};g.prototype.so=
function(a){void 0===a&&(a=0);for(var b=parseInt(this.Z.length);b<a;b++)this.Z[b]=new p,this.vc[b]=new p};g.IB=function(a,b){void 0===b&&(b=0);for(var c=new p,d=0,f=1/3,g=0;g<b;++g){var k=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],n=.5*((k.x-0)*(h.y-0)-(k.y-0)*(h.x-0)),d=d+n;c.x+=n*f*(0+k.x+h.x);c.y+=n*f*(0+k.y+h.y)}c.x*=1/d;c.y*=1/d;return c};g.dG=function(a,b,c){void 0===c&&(c=0);for(var d=0,f=new aa(c+1),d=0;d<c;++d)f[d]=b[d];f[c]=f[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=f[parseInt(d-1)],k=
f[d].x-g.x,h=f[d].y-g.y,n=Math.sqrt(k*k+h*h),k=k/n,h=h/n,p=-h,q=k,t=n=Number.MAX_VALUE,w=-Number.MAX_VALUE,v=-Number.MAX_VALUE,x=0;x<c;++x){var B=f[x].x-g.x,K=f[x].y-g.y,U=k*B+h*K,B=p*B+q*K;U<n&&(n=U);B<t&&(t=B);U>w&&(w=U);B>v&&(v=B)}x=(w-n)*(v-t);x<.95*b&&(b=x,a.w.j.x=k,a.w.j.y=h,a.w.k.x=p,a.w.k.y=q,k=.5*(n+w),h=.5*(t+v),p=a.w,a.ze.x=g.x+(p.j.x*k+p.k.x*h),a.ze.y=g.y+(p.j.y*k+p.k.y*h),a.bD.x=.5*(w-n),a.bD.y=.5*(v-t))}};m.Fc.push(function(){m.v.Sa.xi.XG=new k});h.Yb=function(){};h.prototype.Gb=function(){return null};
h.prototype.P=function(a){this.Ea=a.Ea};h.prototype.Hb=function(){return this.ib};h.prototype.Wl=function(){};h.prototype.jo=function(){};h.prototype.Wq=function(){return 0};h.rj=function(a,b,c,d){var f=new A;f.di=new y;f.di.P(a);f.ei=new y;f.ei.P(c);f.kB=b;f.lB=d;f.uB=!0;a=new M;a.count=0;b=new u;t.Ft(b,a,f);return b.Ok<10*Number.MIN_VALUE};h.prototype.Yb=function(){this.ib=h.UC;this.Ea=a.Bb};m.Fc.push(function(){m.v.Sa.Yb.UC=-1;m.v.Sa.Yb.Rk=0;m.v.Sa.Yb.Ej=1;m.v.Sa.Yb.bs=2;m.v.Sa.Yb.ds=3;m.v.Sa.Yb.EG=
1;m.v.Sa.Yb.GG=0;m.v.Sa.Yb.JG=-1})})();
(function(){var a=m.ba.dm,b=m.ba.Pb,c=m.ba.Math.If;a.dm=function(){this.nr=this.or=this.pr=0};a.prototype.dm=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.pr=m.zg(255*c.Fb(a,0,1));this.or=m.zg(255*c.Fb(b,0,1));this.nr=m.zg(255*c.Fb(g,0,1))};a.prototype.P=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.pr=m.zg(255*c.Fb(a,0,1));this.or=m.zg(255*c.Fb(b,0,1));this.nr=m.zg(255*c.Fb(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.pr=m.zg(255*c.Fb(a,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.or=m.zg(255*c.Fb(a,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.nr=m.zg(255*c.Fb(a,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.pr<<16|this.or<<8|this.nr}});b.Pb=function(){};b.sC=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};b.tC=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};b.lc=function(a){if(!a)throw"Assertion Failed";};m.Fc.push(function(){m.ba.Pb.VERSION="2.1alpha";m.ba.Pb.nG=65535;m.ba.Pb.gp=Math.PI;m.ba.Pb.of=2;m.ba.Pb.Ir=.1;m.ba.Pb.my=2;m.ba.Pb.uG=2*b.Bb;m.ba.Pb.Bb=.005;m.ba.Pb.Jk=2/180*b.gp;m.ba.Pb.Lr=8*b.Bb;m.ba.Pb.zC=32;m.ba.Pb.AC=32;m.ba.Pb.FC=1;m.ba.Pb.nf=.2;m.ba.Pb.Jr=8/180*b.gp;m.ba.Pb.tm=2;m.ba.Pb.qy=b.tm*b.tm;m.ba.Pb.sm=
.5*b.gp;m.ba.Pb.py=b.sm*b.sm;m.ba.Pb.Iu=.2;m.ba.Pb.BC=.5;m.ba.Pb.oy=.01;m.ba.Pb.ny=2/180*b.gp})})();
(function(){var a=m.ba.Math.wi,b=m.ba.Math.km,c=m.ba.Math.If,d=m.ba.Math.dp,f=m.ba.Math.yj,g=m.ba.Math.lg,h=m.ba.Math.qm;a.wi=function(){this.j=new g;this.k=new g};a.prototype.wi=function(){this.lr()};a.ar=function(b){void 0===b&&(b=0);var c=new a;c.P(b);return c};a.no=function(b,c){var d=new a;d.aC(b,c);return d};a.prototype.P=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};a.prototype.aC=function(a,b){this.j.L(a);this.k.L(b)};a.prototype.Gb=
function(){var b=new a;b.Bk(this);return b};a.prototype.Bk=function(a){this.j.L(a.j);this.k.L(a.k)};a.prototype.Vq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};a.prototype.lr=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};a.prototype.Ka=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};a.prototype.ga=function(){return Math.atan2(this.j.y,this.j.x)};a.prototype.Mt=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,f=this.k.y,g=b*f-c*d;0!=g&&(g=1/g);a.j.x=
g*f;a.k.x=-g*c;a.j.y=-g*d;a.k.y=g*b};a.prototype.Ck=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,y=d*h-f*g;0!=y&&(y=1/y);a.x=y*(h*b-f*c);a.y=y*(d*c-g*b);return a};a.prototype.ld=function(){this.j.ld();this.k.ld()};b.km=function(){this.j=new h;this.k=new h;this.Ga=new h};b.prototype.km=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.j.L(a),this.k.L(b),this.Ga.L(c)):(this.j.Ka(),this.k.Ka(),this.Ga.Ka())};
b.prototype.Gb=function(){return new b(this.j,this.k,this.Ga)};b.prototype.Bk=function(a){this.j.L(a.j);this.k.L(a.k);this.Ga.L(a.Ga)};b.prototype.Vq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.Ga.x+=a.Ga.x;this.Ga.y+=a.Ga.y;this.Ga.z+=a.Ga.z};b.prototype.lr=function(){this.j.x=1;this.k.x=0;this.Ga.x=0;this.j.y=0;this.k.y=1;this.Ga.y=0;this.j.z=0;this.k.z=0;this.Ga.z=1};b.prototype.Ka=function(){this.j.x=0;this.k.x=0;this.Ga.x=0;
this.j.y=0;this.k.y=0;this.Ga.y=0;this.j.z=0;this.k.z=0;this.Ga.z=0};b.prototype.$l=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,y=d*h-f*g;0!=y&&(y=1/y);a.x=y*(h*b-f*c);a.y=y*(d*c-g*b);return a};b.prototype.wo=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.j.x,g=this.j.y,h=this.j.z,y=this.k.x,M=this.k.y,O=this.k.z,da=this.Ga.x,T=this.Ga.y,C=this.Ga.z,V=f*(M*C-O*T)+g*(O*da-y*C)+h*(y*T-M*da);0!=V&&(V=1/V);a.x=
V*(b*(M*C-O*T)+c*(O*da-y*C)+d*(y*T-M*da));a.y=V*(f*(c*C-d*T)+g*(d*da-b*C)+h*(b*T-c*da));a.z=V*(f*(M*d-O*c)+g*(O*b-y*d)+h*(y*c-M*b));return a};c.If=function(){};c.Zl=function(a){void 0===a&&(a=0);return isFinite(a)};c.Ud=function(a,b){return a.x*b.x+a.y*b.y};c.Xl=function(a,b){return a.x*b.y-a.y*b.x};c.lj=function(a,b){void 0===b&&(b=0);return new g(b*a.y,-b*a.x)};c.ox=function(a,b){void 0===a&&(a=0);return new g(-a*b.y,a*b.x)};c.Fd=function(a,b){return new g(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};
c.nj=function(a,b){return new g(c.Ud(b,a.j),c.Ud(b,a.k))};c.cd=function(a,b){var d=c.Fd(a.w,b);d.x+=a.position.x;d.y+=a.position.y;return d};c.VB=function(a,b){var d=c.yc(b,a.position),f=d.x*a.w.j.x+d.y*a.w.j.y;d.y=d.x*a.w.k.x+d.y*a.w.k.y;d.x=f;return d};c.kx=function(a,b){return new g(a.x+b.x,a.y+b.y)};c.yc=function(a,b){return new g(a.x-b.x,a.y-b.y)};c.Ft=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};c.eG=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};c.gG=function(a,b){void 0===
a&&(a=0);return new g(a*b.x,a*b.y)};c.XF=function(b,d){return a.no(c.kx(b.j,d.j),c.kx(b.k,d.k))};c.hG=function(b,d){return a.no(c.Fd(b,d.j),c.Fd(b,d.k))};c.iG=function(b,d){var f=new g(c.Ud(b.j,d.j),c.Ud(b.k,d.j)),h=new g(c.Ud(b.j,d.k),c.Ud(b.k,d.k));return a.no(f,h)};c.ld=function(a){void 0===a&&(a=0);return 0<a?a:-a};c.hx=function(a){return new g(c.ld(a.x),c.ld(a.y))};c.WF=function(b){return a.no(c.hx(b.j),c.hx(b.k))};c.zk=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};c.Hx=function(a,
b){return new g(c.zk(a.x,b.x),c.zk(a.y,b.y))};c.he=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};c.Gx=function(a,b){return new g(c.he(a.x,b.x),c.he(a.y,b.y))};c.Fb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};c.cG=function(a,b,d){return c.Gx(b,c.Hx(a,d))};c.dC=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};c.kG=function(){return 2*Math.random()-1};c.lG=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return(b-a)*Math.random()+a};c.jG=
function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};c.fG=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};m.Fc.push(function(){m.ba.Math.If.uC=new g(0,0);m.ba.Math.If.rC=a.no(new g(1,0),new g(0,1));m.ba.Math.If.qG=new f(c.uC,c.rC)});d.dp=function(){this.W=new g;this.Kd=new g;this.o=new g};d.prototype.P=function(a){this.W.L(a.W);this.Kd.L(a.Kd);this.o.L(a.o);this.jg=a.jg;this.Q=a.Q;this.Cd=a.Cd};d.prototype.Gb=function(){var a=
new d;a.W.L(this.W);a.Kd.L(this.Kd);a.o.L(this.o);a.jg=this.jg;a.Q=this.Q;a.Cd=this.Cd;return a};d.prototype.gf=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Kd.x+b*this.o.x;a.position.y=(1-b)*this.Kd.y+b*this.o.y;a.w.P((1-b)*this.jg+b*this.Q);var c=a.w;a.position.x-=c.j.x*this.W.x+c.k.x*this.W.y;a.position.y-=c.j.y*this.W.x+c.k.y*this.W.y};d.prototype.kj=function(a){void 0===a&&(a=0);if(this.Cd<a&&1-this.Cd>Number.MIN_VALUE){var b=(a-this.Cd)/(1-this.Cd);this.Kd.x=(1-b)*this.Kd.x+b*this.o.x;
this.Kd.y=(1-b)*this.Kd.y+b*this.o.y;this.jg=(1-b)*this.jg+b*this.Q;this.Cd=a}};f.yj=function(){this.position=new g;this.w=new a};f.prototype.yj=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.L(a),this.w.Bk(b))};f.prototype.nd=function(a,b){this.position.L(a);this.w.Bk(b)};f.prototype.lr=function(){this.position.Ka();this.w.lr()};f.prototype.P=function(a){this.position.L(a.position);this.w.Bk(a.w)};f.prototype.ga=function(){return Math.atan2(this.w.j.y,this.w.j.x)};g.lg=
function(){};g.prototype.lg=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.Ka=function(){this.y=this.x=0};g.prototype.P=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.L=function(a){this.x=a.x;this.y=a.y};g.prototype.mj=function(){return new g(-this.x,-this.y)};g.prototype.Jx=function(){this.x=-this.x;this.y=-this.y};g.UB=function(){var a=0,b=0;void 0===a&&(a=0);void 0===b&&(b=0);return new g(a,b)};g.prototype.Gb=function(){return new g(this.x,
this.y)};g.prototype.Lg=function(a){this.x+=a.x;this.y+=a.y};g.prototype.xo=function(a){this.x-=a.x;this.y-=a.y};g.prototype.aa=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};g.prototype.lj=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};g.prototype.ox=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};g.prototype.Hx=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};g.prototype.Gx=function(a){this.x=this.x>a.x?this.x:a.x;this.y=
this.y>a.y?this.y:a.y};g.prototype.ld=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.hg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.ir=function(){return this.x*this.x+this.y*this.y};g.prototype.bb=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};g.prototype.Zl=function(){return c.Zl(this.x)&&c.Zl(this.y)};h.qm=function(){};h.prototype.qm=function(a,b,c){void 0===a&&
(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.Ka=function(){this.x=this.y=this.z=0};h.prototype.P=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.L=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.mj=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.Jx=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.Gb=function(){return new h(this.x,this.y,this.z)};h.prototype.Lg=
function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};h.prototype.xo=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};h.prototype.aa=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var a=m.ba.Math.If,b=m.ba.Math.dp,c=m.ba.Math.yj,d=m.ba.Math.lg,f=m.ba.dm,g=m.ba.Pb,h=m.v.Go,k=m.v.Ar,n=m.v.Er,q=m.v.Sa.Wo,p=m.l.ke,t=m.l.cm,A=m.l.zr,u=m.l.nu,y=m.l.Jo,M=m.l.gm,O=m.l.Pe,da=m.l.su,T=m.l.wu,C=m.l.hm,V=m.l.im,la=m.l.jm,W=m.l.Hr,F=m.l.Re,Z=m.l.ka.Ya,Ia=m.l.ka.em,ta=m.l.ka.xj,Ja=m.l.J.ja;p.ke=function(){this.g=new c;this.h=new b;this.p=new d;this.Yj=new d};p.prototype.Xq=function(a){if(1==this.xd.fr())return null;var b=new C;b.Oe(this,this.g,a);this.O&p.$r&&b.lo(this.xd.We.hn,
this.g);b.Ja=this.Mc;this.Mc=b;++this.cA;b.hc=this;0<b.cq&&this.ig();this.xd.O|=F.gv;return b};p.prototype.Wx=function(a,b){void 0===b&&(b=0);var c;if(1!=this.xd.fr()){this.g.w.P(b);this.g.position.L(a);c=this.g.w;var d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Kd.L(this.h.o);this.h.jg=this.h.Q=b;d=this.xd.We.hn;for(c=this.Mc;c;c=c.Ja)c.Xx(d,this.g,this.g);this.xd.We.$q()}};p.prototype.gf=function(){return this.g};
p.prototype.pj=function(a){this.Wx(a,this.ga())};p.prototype.ga=function(){return this.h.Q};p.prototype.tb=function(a){void 0===a&&(a=0);this.Wx(this.g.position,a)};p.prototype.to=function(a){this.ib!=p.pf&&this.p.L(a)};p.prototype.wk=function(a,b){this.ib==p.Jd&&(0==this.od()&&this.Wd(!0),this.Yj.x+=a.x,this.Yj.y+=a.y,this.qn+=(b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x)};p.prototype.CB=function(a){void 0===a&&(a=0);this.ib==p.Jd&&(0==this.od()&&this.Wd(!0),this.qn+=a)};p.prototype.ia=function(a,b){this.ib==
p.Jd&&(0==this.od()&&this.Wd(!0),this.p.x+=this.R*a.x,this.p.y+=this.R*a.y,this.G+=this.fa*((b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x))};p.prototype.zx=function(a){a.Zh=this.Y;a.Yl=this.Uf;a.ze.L(this.h.W)};p.prototype.ig=function(){this.fa=this.Uf=this.R=this.Y=0;this.h.W.Ka();if(this.ib!=p.pf&&this.ib!=p.yC){for(var b=d.UB(),c=this.Mc;c;c=c.Ja)if(0!=c.cq){var f=c.zx();this.Y+=f.Zh;b.x+=f.ze.x*f.Zh;b.y+=f.ze.y*f.Zh;this.Uf+=f.Yl}0<this.Y?(this.R=1/this.Y,b.x*=this.R,b.y*=this.R):this.R=this.Y=1;
0<this.Uf&&0==(this.O&p.Vy)?(this.Uf-=this.Y*(b.x*b.x+b.y*b.y),this.Uf*=this.PD,g.lc(0<this.Uf),this.fa=1/this.Uf):this.fa=this.Uf=0;c=this.h.o.Gb();this.h.W.L(b);this.h.Kd.L(a.cd(this.g,this.h.W));this.h.o.L(this.h.Kd);this.p.x+=this.G*-(this.h.o.y-c.y);this.p.y+=this.G*+(this.h.o.x-c.x)}};p.prototype.gg=function(a){var b=this.g.w;a=new d(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.g.position.x;a.y+=this.g.position.y;return a};p.prototype.Pt=function(b){return a.Fd(this.g.w,b)};p.prototype.ff=
function(b){return a.VB(this.g,b)};p.prototype.Nt=function(b){return a.nj(this.g.w,b)};p.prototype.OB=function(a){return new d(this.p.x-this.G*(a.y-this.h.o.y),this.p.y+this.G*(a.x-this.h.o.x))};p.prototype.zh=function(a){void 0===a&&(a=0);this.gA=a};p.prototype.Hb=function(){return this.ib};p.prototype.Sx=function(){this.O|=p.as};p.prototype.cr=function(){return(this.O&p.as)==p.as};p.prototype.Wd=function(a){a?(this.O|=p.xp,this.yl=0):(this.O&=~p.xp,this.yl=0,this.p.Ka(),this.G=0,this.Yj.Ka(),this.qn=
0)};p.prototype.od=function(){return(this.O&p.xp)==p.xp};p.prototype.xk=function(){return(this.O&p.$r)==p.$r};p.prototype.Gf=function(){return this.Wi};p.prototype.uo=function(a){this.Wi=a};p.prototype.ke=function(a,b){this.O=0;a.KC&&(this.O|=p.as);a.pv&&(this.O|=p.Vy);a.kC&&(this.O|=p.cv);a.qC&&(this.O|=p.xp);a.dd&&(this.O|=p.$r);this.xd=b;this.g.position.L(a.position);this.g.w.P(a.by);this.h.W.Ka();this.h.Cd=1;this.h.jg=this.h.Q=a.by;var c=this.g.w,d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=
c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Kd.L(this.h.o);this.Rb=this.Vj=this.ad=null;this.Qv=0;this.Ja=this.wd=null;this.p.L(a.Sz);this.G=a.nC;this.gA=a.Cs;this.GD=a.cy;this.Yj.P(0,0);this.yl=this.qn=0;this.ib=a.type;this.R=this.ib==p.Jd?this.Y=1:this.Y=0;this.fa=this.Uf=0;this.PD=a.vD;this.Wi=a.tk;this.Mc=null;this.cA=0};p.prototype.Yx=function(){var a=p.$E;a.w.P(this.h.jg);var b=a.w,c=this.h.W;a.position.x=this.h.Kd.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=
this.h.Kd.y-(b.j.y*c.x+b.k.y*c.y);c=this.xd.We.hn;for(b=this.Mc;b;b=b.Ja)b.Xx(c,a,this.g)};p.prototype.zc=function(){this.g.w.P(this.h.Q);var a=this.g.w,b=this.h.W;this.g.position.x=this.h.o.x-(a.j.x*b.x+a.k.x*b.y);this.g.position.y=this.h.o.y-(a.j.y*b.x+a.k.y*b.y)};p.prototype.vo=function(a){if(this.ib!=p.Jd&&a.ib!=p.Jd)return!1;for(var b=this.ad;b;b=b.next)if(b.Zf==a&&0==b.Oi.Zz)return!1;return!0};p.prototype.kj=function(a){void 0===a&&(a=0);this.h.kj(a);this.h.o.L(this.h.Kd);this.h.Q=this.h.jg;
this.zc()};m.Fc.push(function(){m.l.ke.$E=new c;m.l.ke.Sc=1;m.l.ke.xp=2;m.l.ke.cv=4;m.l.ke.as=8;m.l.ke.Vy=16;m.l.ke.$r=32;m.l.ke.pf=0;m.l.ke.yC=1;m.l.ke.Jd=2});t.cm=function(){this.position=new d;this.Sz=new d};t.prototype.cm=function(){this.tk=null;this.position.P(0,0);this.by=0;this.Sz.P(0,0);this.cy=this.Cs=this.nC=0;this.qC=this.kC=!0;this.KC=this.pv=!1;this.type=p.pf;this.dd=!0;this.vD=1};A.zr=function(){};A.prototype.vo=function(a,b){var c=a.yx(),d=b.yx();return c.el==d.el&&0!=c.el?0<c.el:0!=
(c.Af&d.rf)&&0!=(c.rf&d.Af)};m.Fc.push(function(){m.l.zr.vC=new A});u.nu=function(){this.mE=new ba(g.of);this.FF=new ba(g.of)};y.Jo=function(){};y.prototype.Bt=function(){};y.prototype.Gt=function(){};y.prototype.Tt=function(){};m.Fc.push(function(){m.l.Jo.wC=new y});M.gm=function(){};M.prototype.gm=function(){this.xd=null;this.tg=0;this.aA=A.vC;this.kn=y.wC;this.$z=new Ia(this.Uj);this.hn=new n};M.prototype.BB=function(a,b){var c=a instanceof C?a:null,d=b instanceof C?b:null,f=c.hc,g=d.hc;if(f!=
g){for(var h=g.Rb;h;){if(h.Zf==f){var k=h.Jc.tc,E=h.Jc.uc;if(k==c&&E==d||k==d&&E==c)return}h=h.next}0!=g.vo(f)&&0!=this.aA.vo(c,d)&&(h=this.$z.Oe(c,d),c=h.tc,d=h.uc,f=c.hc,g=d.hc,h.wd=null,h.Ja=this.xd.Rb,null!=this.xd.Rb&&(this.xd.Rb.wd=h),this.xd.Rb=h,h.ce.Jc=h,h.ce.Zf=g,h.ce.mc=null,h.ce.next=f.Rb,null!=f.Rb&&(f.Rb.mc=h.ce),f.Rb=h.ce,h.de.Jc=h,h.de.Zf=f,h.de.mc=null,h.de.next=g.Rb,null!=g.Rb&&(g.Rb.mc=h.de),g.Rb=h.de,++this.xd.tg)}};M.prototype.$q=function(){this.hn.hC(m.iD(this,this.BB))};M.prototype.md=
function(a){var b=a.tc,c=a.uc,b=b.hc,c=c.hc;a.gr()&&this.kn.Gt(a);a.wd&&(a.wd.Ja=a.Ja);a.Ja&&(a.Ja.wd=a.wd);a==this.xd.Rb&&(this.xd.Rb=a.Ja);a.ce.mc&&(a.ce.mc.next=a.ce.next);a.ce.next&&(a.ce.next.mc=a.ce.mc);a.ce==b.Rb&&(b.Rb=a.ce.next);a.de.mc&&(a.de.mc.next=a.de.next);a.de.next&&(a.de.next.mc=a.de.mc);a.de==c.Rb&&(c.Rb=a.de.next);this.$z.md(a);--this.tg};M.prototype.DB=function(){for(var a=this.xd.Rb;a;){var b=a.tc,c=a.uc,d=b.hc,f=c.hc;if(0==d.od()&&0==f.od())a=a.Ja;else{if(a.O&Z.ev){if(0==f.vo(d)){b=
a;a=b.Ja;this.md(b);continue}if(0==this.aA.vo(b,c)){b=a;a=b.Ja;this.md(b);continue}a.O&=~Z.ev}0==this.hn.rj(b.vl,c.vl)?(b=a,a=b.Ja,this.md(b)):(a.Zx(this.kn),a=a.Ja)}}};m.Fc.push(function(){m.l.gm.VG=new k});O.Pe=function(){};O.prototype.Pe=function(){};m.Fc.push(function(){m.l.Pe.IG=1;m.l.Pe.FG=2;m.l.Pe.BG=4;m.l.Pe.HG=8;m.l.Pe.CG=16;m.l.Pe.DG=32});da.su=function(){};T.wu=function(){this.rf=1;this.Af=65535;this.el=0};T.prototype.Gb=function(){var a=new T;a.rf=this.rf;a.Af=this.Af;a.el=this.el;return a};
C.hm=function(){this.bA=new T};C.prototype.Hb=function(){return this.ab.Hb()};C.prototype.yk=function(){return this.QD};C.prototype.yx=function(){return this.bA.Gb()};C.prototype.Gf=function(){return this.Wi};C.prototype.uo=function(a){this.Wi=a};C.prototype.zx=function(a){void 0===a&&(a=null);null==a&&(a=new q);this.ab.jo(a,this.cq);return a};C.prototype.Ux=function(a){void 0===a&&(a=0);this.cq=a};C.prototype.hm=function(){this.gn=new h;this.ab=this.Ja=this.hc=this.Wi=null;this.Zv=this.Sv=this.cq=
0};C.prototype.Oe=function(a,b,c){this.Wi=c.tk;this.Sv=c.$m;this.Zv=c.Fn;this.hc=a;this.Ja=null;this.bA=c.filter.Gb();this.QD=c.zD;this.ab=c.shape.Gb();this.cq=c.rb};C.prototype.md=function(){this.ab=null};C.prototype.lo=function(a,b){this.ab.Wl(this.gn,b);this.vl=a.lo(this.gn,this)};C.prototype.mo=function(a){null!=this.vl&&(a.mo(this.vl),this.vl=null)};C.prototype.Xx=function(b,c,d){if(this.vl){var f=new h,g=new h;this.ab.Wl(f,c);this.ab.Wl(g,d);this.gn.Vl(f,g);c=a.yc(d.position,c.position);b.St(this.vl,
this.gn,c)}};V.im=function(){this.filter=new T};V.prototype.im=function(){this.tk=this.shape=null;this.$m=.2;this.rb=this.Fn=0;this.filter.rf=1;this.filter.Af=65535;this.filter.el=0;this.zD=!1};la.jm=function(){};la.prototype.jm=function(){this.Rh=new aa;this.ln=new aa;this.eh=new aa};la.prototype.nd=function(a,b,c,d,f,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var h=0;this.HD=b;this.RD=c;this.Xe=this.tg=this.be=0;this.Uj=d;this.SD=f;this.pl=g;for(h=this.Rh.length;h<a;h++)this.Rh[h]=
null;for(h=this.ln.length;h<b;h++)this.ln[h]=null;for(h=this.eh.length;h<c;h++)this.eh[h]=null};la.prototype.Ct=function(){this.Xe=this.tg=this.be=0};la.prototype.Ck=function(b,c,d){for(var f=0,h=0,U,f=0;f<this.be;++f)h=this.Rh[f],h.Hb()==p.Jd&&(h.p.x+=b.Ta*(c.x+h.R*h.Yj.x),h.p.y+=b.Ta*(c.y+h.R*h.Yj.y),h.G+=b.Ta*h.fa*h.qn,h.p.aa(a.Fb(1-b.Ta*h.gA,0,1)),h.G*=a.Fb(1-b.Ta*h.GD,0,1));this.pl.nd(b,this.ln,this.tg,this.Uj);c=this.pl;c.Hf(b);for(f=0;f<this.Xe;++f)U=this.eh[f],U.Hf(b);for(f=0;f<b.$n;++f){for(h=
0;h<this.Xe;++h)U=this.eh[h],U.jf(b);c.jf()}for(f=0;f<this.Xe;++f)U=this.eh[f],U.Jt();c.Jt();for(f=0;f<this.be;++f)if(h=this.Rh[f],h.Hb()!=p.pf){var I=b.Ta*h.p.x,k=b.Ta*h.p.y;I*I+k*k>g.qy&&(h.p.bb(),h.p.x=h.p.x*g.tm*b.sg,h.p.y=h.p.y*g.tm*b.sg);I=b.Ta*h.G;I*I>g.py&&(h.G=0>h.G?-g.sm*b.sg:g.sm*b.sg);h.h.Kd.L(h.h.o);h.h.jg=h.h.Q;h.h.o.x+=b.Ta*h.p.x;h.h.o.y+=b.Ta*h.p.y;h.h.Q+=b.Ta*h.G;h.zc()}for(f=0;f<b.zn;++f){I=c.hf(g.Iu);k=!0;for(h=0;h<this.Xe;++h)U=this.eh[h],U=U.hf(g.Iu),k=k&&U;if(I&&k)break}this.Ox(c.Sh);
if(d){d=Number.MAX_VALUE;c=g.oy*g.oy;I=g.ny*g.ny;for(f=0;f<this.be;++f)h=this.Rh[f],h.Hb()!=p.pf&&(0==(h.O&p.cv)&&(d=h.yl=0),0==(h.O&p.cv)||h.G*h.G>I||a.Ud(h.p,h.p)>c?d=h.yl=0:(h.yl+=b.Ta,d=a.zk(d,h.yl)));if(d>=g.BC)for(f=0;f<this.be;++f)h=this.Rh[f],h.Wd(!1)}};la.prototype.Wt=function(a){var b=0,c=0;this.pl.nd(a,this.ln,this.tg,this.Uj);for(var d=this.pl,b=0;b<this.Xe;++b)this.eh[b].Hf(a);for(b=0;b<a.$n;++b)for(d.jf(),c=0;c<this.Xe;++c)this.eh[c].jf(a);for(b=0;b<this.be;++b)if(c=this.Rh[b],c.Hb()!=
p.pf){var f=a.Ta*c.p.x,h=a.Ta*c.p.y;f*f+h*h>g.qy&&(c.p.bb(),c.p.x=c.p.x*g.tm*a.sg,c.p.y=c.p.y*g.tm*a.sg);f=a.Ta*c.G;f*f>g.py&&(c.G=0>c.G?-g.sm*a.sg:g.sm*a.sg);c.h.Kd.L(c.h.o);c.h.jg=c.h.Q;c.h.o.x+=a.Ta*c.p.x;c.h.o.y+=a.Ta*c.p.y;c.h.Q+=a.Ta*c.G;c.zc()}for(b=0;b<a.zn;++b){f=d.hf(.75);h=!0;for(c=0;c<this.Xe;++c)var I=this.eh[c].hf(g.Iu),h=h&&I;if(f&&h)break}this.Ox(d.Sh)};la.prototype.Ox=function(a){if(null!=this.SD)for(var b=0;b<this.tg;++b)for(var c=a[b],d=0;d<c.Df;++d)la.KA.mE[d]=c.ve[d].hd,la.KA.FF[d]=
c.ve[d].ni};la.prototype.At=function(a){a.QG=this.be;this.Rh[this.be++]=a};la.prototype.ix=function(a){this.ln[this.tg++]=a};la.prototype.jx=function(a){this.eh[this.Xe++]=a};m.Fc.push(function(){m.l.jm.KA=new u});W.Hr=function(){};W.prototype.P=function(a){this.Ta=a.Ta;this.sg=a.sg;this.zn=a.zn;this.$n=a.$n;this.Kg=a.Kg};F.Re=function(){this.TE=new aa;this.We=new M;this.pl=new ta;this.fA=new la};F.prototype.Re=function(a,b){this.Vj=this.ad=this.Rb=this.Lc=null;this.Qv=this.Xe=this.tg=this.be=0;F.YD=
!0;F.ID=!0;this.FD=b;this.dA=a;this.eA=0;this.We.xd=this;this.OD=this.ko(new t)};F.prototype.Tx=function(a){this.We.kn=a};F.prototype.ko=function(a){if(1==this.fr())return null;a=new p(a,this);a.wd=null;if(a.Ja=this.Lc)this.Lc.wd=a;this.Lc=a;++this.be;return a};F.prototype.qx=function(a){if(1!=this.fr()){for(var b=a.ad;b;){var c=b,b=b.next;this.rx(c.Oi)}for(b=a.Vj;b;)c=b,b=b.$i,c.Iy.Mx(a);for(b=a.Rb;b;)c=b,b=b.next,this.We.md(c.Jc);a.Rb=null;for(b=a.Mc;b;)c=b,b=b.Ja,c.mo(this.We.hn),c.md();a.Mc=null;
a.cA=0;a.wd&&(a.wd.Ja=a.Ja);a.Ja&&(a.Ja.wd=a.wd);a==this.Lc&&(this.Lc=a.Ja);--this.be}};F.prototype.KB=function(a){var b=Ja.Oe(a,null);b.wd=null;if(b.Ja=this.ad)this.ad.wd=b;this.ad=b;++this.Xe;b.Ie.Oi=b;b.Ie.Zf=b.Oa;b.Ie.mc=null;if(b.Ie.next=b.Ia.ad)b.Ia.ad.mc=b.Ie;b.Ia.ad=b.Ie;b.Je.Oi=b;b.Je.Zf=b.Ia;b.Je.mc=null;if(b.Je.next=b.Oa.ad)b.Oa.ad.mc=b.Je;b.Oa.ad=b.Je;var c=a.kb,d=a.vb;if(0==a.Ur)for(a=d.Rb;a;)a.Zf==c&&a.Jc.vx(),a=a.next;return b};F.prototype.rx=function(a){var b=a.Zz;a.wd&&(a.wd.Ja=a.Ja);
a.Ja&&(a.Ja.wd=a.wd);a==this.ad&&(this.ad=a.Ja);var c=a.Ia,d=a.Oa;c.Wd(!0);d.Wd(!0);a.Ie.mc&&(a.Ie.mc.next=a.Ie.next);a.Ie.next&&(a.Ie.next.mc=a.Ie.mc);a.Ie==c.ad&&(c.ad=a.Ie.next);a.Ie.mc=null;a.Ie.next=null;a.Je.mc&&(a.Je.mc.next=a.Je.next);a.Je.next&&(a.Je.next.mc=a.Je.mc);a.Je==d.ad&&(d.ad=a.Je.next);a.Je.mc=null;a.Je.next=null;Ja.md(a,null);--this.Xe;if(0==b)for(a=d.Rb;a;)a.Zf==c&&a.Jc.vx(),a=a.next};F.prototype.qj=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.O&
F.gv&&(this.We.$q(),this.O&=~F.gv);this.O|=F.fv;var d=F.XE;d.Ta=a;d.$n=b;d.zn=c;d.sg=0<a?1/a:0;d.Kc=this.eA*a;d.Kg=F.YD;this.We.DB();0<d.Ta&&this.Ck(d);F.ID&&0<d.Ta&&this.Wt(d);0<d.Ta&&(this.eA=d.sg);this.O&=~F.fv};F.prototype.fr=function(){return 0<(this.O&F.fv)};F.prototype.Ck=function(a){for(var b,c=this.Vj;c;c=c.Ja)c.qj(a);c=this.fA;c.nd(this.be,this.tg,this.Xe,null,this.We.kn,this.pl);for(b=this.Lc;b;b=b.Ja)b.O&=~p.Sc;for(var d=this.Rb;d;d=d.Ja)d.O&=~Z.Sc;for(d=this.ad;d;d=d.Ja)d.ql=!1;parseInt(this.be);
for(var d=this.TE,f=this.Lc;f;f=f.Ja)if(!(f.O&p.Sc)&&0!=f.od()&&0!=f.xk()&&f.Hb()!=p.pf){c.Ct();var g=0;d[g++]=f;for(f.O|=p.Sc;0<g;)if(b=d[--g],c.At(b),0==b.od()&&b.Wd(!0),b.Hb()!=p.pf){for(var h,k=b.Rb;k;k=k.next)k.Jc.O&Z.Sc||1==k.Jc.yk()||0==k.Jc.dr()||0==k.Jc.gr()||(c.ix(k.Jc),k.Jc.O|=Z.Sc,h=k.Zf,h.O&p.Sc||(d[g++]=h,h.O|=p.Sc));for(b=b.ad;b;b=b.next)1!=b.Oi.ql&&(h=b.Zf,0!=h.xk()&&(c.jx(b.Oi),b.Oi.ql=!0,h.O&p.Sc||(d[g++]=h,h.O|=p.Sc)))}c.Ck(a,this.dA,this.FD);for(g=0;g<c.be;++g)b=c.Rh[g],b.Hb()==
p.pf&&(b.O&=~p.Sc)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(b=this.Lc;b;b=b.Ja)0==b.od()||0==b.xk()||b.Hb()!=p.pf&&b.Yx();this.We.$q()};F.prototype.Wt=function(a){var b,c,d,f=this.fA;f.nd(this.be,g.zC,g.AC,null,this.We.kn,this.pl);var h=F.PE;for(b=this.Lc;b;b=b.Ja)b.O&=~p.Sc,b.h.Cd=0;for(d=this.Rb;d;d=d.Ja)d.O&=~(Z.Pm|Z.Sc);for(d=this.ad;d;d=d.Ja)d.ql=!1;for(;;){var I=null,k=1;for(d=this.Rb;d;d=d.Ja)if(1!=d.yk()&&0!=d.dr()&&0!=d.TB()){if(d.O&Z.Pm)b=d.XD;else{b=d.tc;c=d.uc;b=b.hc;c=c.hc;if(!(b.Hb()==
p.Jd&&0!=b.od()||c.Hb()==p.Jd&&0!=c.od()))continue;var E=b.h.Cd;b.h.Cd<c.h.Cd?(E=c.h.Cd,b.h.kj(E)):c.h.Cd<b.h.Cd&&(E=b.h.Cd,c.h.kj(E));b=d.JB(b.h,c.h);g.lc(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*E+b,1<b&&(b=1));d.XD=b;d.O|=Z.Pm}Number.MIN_VALUE<b&&b<k&&(I=d,k=b)}if(null==I||1-100*Number.MIN_VALUE<k)break;b=I.tc;c=I.uc;b=b.hc;c=c.hc;F.HA.P(b.h);F.IA.P(c.h);b.kj(k);c.kj(k);I.Zx(this.We.kn);I.O&=~Z.Pm;if(1==I.yk()||0==I.dr())b.h.P(F.HA),c.h.P(F.IA),b.zc(),c.zc();else if(0!=I.gr()){b.Hb()!=p.Jd&&(b=c);f.Ct();
I=d=0;h[d+I++]=b;for(b.O|=p.Sc;0<I;)if(b=h[d++],--I,f.At(b),0==b.od()&&b.Wd(!0),b.Hb()==p.Jd){for(c=b.Rb;c&&f.tg!=f.HD;c=c.next)c.Jc.O&Z.Sc||1==c.Jc.yk()||0==c.Jc.dr()||0==c.Jc.gr()||(f.ix(c.Jc),c.Jc.O|=Z.Sc,E=c.Zf,E.O&p.Sc||(E.Hb()!=p.pf&&(E.kj(k),E.Wd(!0)),h[d+I]=E,++I,E.O|=p.Sc));for(b=b.ad;b;b=b.next)f.Xe!=f.RD&&1!=b.Oi.ql&&(E=b.Zf,0!=E.xk()&&(f.jx(b.Oi),b.Oi.ql=!0,E.O&p.Sc||(E.Hb()!=p.pf&&(E.kj(k),E.Wd(!0)),h[d+I]=E,++I,E.O|=p.Sc)))}d=F.WE;d.Kg=!1;d.Ta=(1-k)*a.Ta;d.sg=1/d.Ta;d.Kc=0;d.$n=a.$n;
d.zn=a.zn;f.Wt(d);for(k=k=0;k<f.be;++k)if(b=f.Rh[k],b.O&=~p.Sc,0!=b.od()&&b.Hb()==p.Jd)for(b.Yx(),c=b.Rb;c;c=c.next)c.Jc.O&=~Z.Pm;for(k=0;k<f.tg;++k)d=f.ln[k],d.O&=~(Z.Pm|Z.Sc);for(k=0;k<f.Xe;++k)d=f.eh[k],d.ql=!1;this.We.$q()}}};m.Fc.push(function(){m.l.Re.XE=new W;m.l.Re.YG=new c;m.l.Re.HA=new b;m.l.Re.IA=new b;m.l.Re.WE=new W;m.l.Re.PE=new aa;m.l.Re.WG=new f(.5,.8,.8);m.l.Re.gv=1;m.l.Re.fv=2})})();
(function(){var a=m.v.Sa.wj,b=m.v.Sa.xi,c=m.v.Sa.Yb,d=m.l.ka.hu,f=m.l.ka.Ya,g=m.l.ka.Io,h=m.l.ka.ku,k=m.l.ka.mu,n=m.l.ka.em,q=m.l.ka.ou,p=m.l.ka.pu,t=m.l.ka.xj,A=m.l.ka.vu,u=m.l.ka.Yo,y=m.l.ka.Bu,M=m.l.ka.Cu,O=m.l.ka.Du,da=m.l.ka.Ik,T=m.l.ke,C=m.l.Hr,V=m.ba.Pb,la=m.ba.Math.wi,W=m.ba.Math.If,F=m.ba.Math.lg,Z=m.v.Id,Ia=m.v.fm,ta=m.v.vi,Ja=m.v.Qe,w=m.v.Gr,v=m.v.rm;m.Jb(d,m.l.ka.Ya);d.prototype.oa=m.l.ka.Ya.prototype;d.hu=function(){m.l.ka.Ya.Ya.apply(this,arguments)};d.Oe=function(){return new d};d.md=
function(){};d.prototype.ie=function(a,b){this.oa.ie.call(this,a,b)};d.prototype.Mg=function(){Z.EB(this.Xf,this.tc.ab instanceof a?this.tc.ab:null,this.tc.hc.g,this.uc.ab instanceof a?this.uc.ab:null,this.uc.hc.g)};f.Ya=function(){this.ce=new k;this.de=new k;this.Xf=new ta;this.jq=new ta};f.prototype.gr=function(){return(this.O&f.Qm)==f.Qm};f.prototype.TB=function(){return(this.O&f.yp)==f.yp};f.prototype.yk=function(){return(this.O&f.Ap)==f.Ap};f.prototype.$B=function(){this.O&=~f.zp};f.prototype.dr=
function(){return(this.O&f.zp)==f.zp};f.prototype.vx=function(){this.O|=f.ev};f.prototype.Ya=function(){};f.prototype.ie=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.O=f.zp;if(a&&b){if(a.yk()||b.yk())this.O|=f.Ap;var c=a.hc,d=b.hc;if(c.Hb()!=T.Jd||c.cr()||d.Hb()!=T.Jd||d.cr())this.O|=f.yp;this.tc=a;this.uc=b;this.Xf.Nc=0;this.Ja=this.wd=null;this.ce.Jc=null;this.ce.mc=null;this.ce.next=null;this.ce.Zf=null;this.de.Jc=null;this.de.mc=null;this.de.next=null;this.de.Zf=null}else this.uc=
this.tc=null};f.prototype.Zx=function(a){var b=this.jq;this.jq=this.Xf;this.Xf=b;this.O|=f.zp;var d=!1,b=(this.O&f.Qm)==f.Qm,g=this.tc.hc,h=this.uc.hc,w=this.tc.gn.rj(this.uc.gn);if(this.O&f.Ap)w&&(d=this.tc.ab,w=this.uc.ab,g=g.gf(),h=h.gf(),d=c.rj(d,g,w,h)),this.Xf.Nc=0;else{this.O=g.Hb()!=T.Jd||g.cr()||h.Hb()!=T.Jd||h.cr()?this.O|f.yp:this.O&~f.yp;if(w)for(this.Mg(),d=0<this.Xf.Nc,w=0;w<this.Xf.Nc;++w){var v=this.Xf.gb[w];v.tl=0;v.zl=0;for(var k=v.Ui,p=0;p<this.jq.Nc;++p){var n=this.jq.gb[p];if(n.Ui.key==
k.key){v.tl=n.tl;v.zl=n.zl;break}}}else this.Xf.Nc=0;d!=b&&(g.Wd(!0),h.Wd(!0))}this.O=d?this.O|f.Qm:this.O&~f.Qm;0==b&&1==d&&a.Bt(this);1==b&&0==d&&a.Gt(this);0==(this.O&f.Ap)&&a.Tt(this,this.jq)};f.prototype.Mg=function(){};f.prototype.JB=function(a,b){f.In.di.P(this.tc.ab);f.In.ei.P(this.uc.ab);f.In.hB=a;f.In.iB=b;f.In.KF=V.Bb;return Ja.fC(f.In)};m.Fc.push(function(){m.l.ka.Ya.Ap=1;m.l.ka.Ya.yp=2;m.l.ka.Ya.Sc=4;m.l.ka.Ya.Pm=8;m.l.ka.Ya.Qm=16;m.l.ka.Ya.zp=32;m.l.ka.Ya.ev=64;m.l.ka.Ya.In=new w});
g.Io=function(){this.Fs=new F;this.Qh=new F;this.Yf=new F;this.un=new la;this.Ed=new la};g.prototype.Io=function(){this.ve=new aa(V.of);for(var a=0;a<V.of;a++)this.ve[a]=new h};h.ku=function(){this.Qh=new F;this.pb=new F;this.qb=new F};k.mu=function(){};n.em=function(){};n.prototype.em=function(a){this.Uj=a;this.SB()};n.prototype.io=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Xh[c][d].Jy=a;this.Xh[c][d].Ny=b;this.Xh[c][d].zA=!0;c!=d&&(this.Xh[d][c].Jy=a,this.Xh[d][c].Ny=b,this.Xh[d][c].zA=
!1)};n.prototype.SB=function(){this.Xh=new aa(c.ds);for(var a=0;a<c.ds;a++){this.Xh[a]=new aa(c.ds);for(var b=0;b<c.ds;b++)this.Xh[a][b]=new q}this.io(d.Oe,d.md,c.Rk,c.Rk);this.io(y.Oe,y.md,c.Ej,c.Rk);this.io(O.Oe,O.md,c.Ej,c.Ej);this.io(A.Oe,A.md,c.bs,c.Rk);this.io(M.Oe,M.md,c.Ej,c.bs)};n.prototype.Oe=function(a,b){var c=parseInt(a.Hb()),d=parseInt(b.Hb()),c=this.Xh[c][d];if(c.Rs)return d=c.Rs,c.Rs=d.Ja,c.xE--,d.ie(a,b),d;d=c.Jy;return null!=d?(c.zA?(d=d(this.Uj),d.ie(a,b)):(d=d(this.Uj),d.ie(b,
a)),d):null};n.prototype.md=function(a){0<a.Xf.Nc&&(a.tc.hc.Wd(!0),a.uc.hc.Wd(!0));var b=parseInt(a.tc.Hb()),b=this.Xh[b][parseInt(a.uc.Hb())];b.xE++;a.Ja=b.Rs;b.Rs=a;b=b.Ny;b(a,this.Uj)};q.ou=function(){};p.pu=function(){this.position=new F;this.Yf=new F;this.id=new Ia};t.xj=function(){this.WD=new C;this.Sh=new aa};t.prototype.xj=function(){};t.prototype.nd=function(a,b,c,d){void 0===c&&(c=0);var f;this.WD.P(a);this.Uj=d;for(this.bq=c;this.Sh.length<this.bq;)this.Sh[this.Sh.length]=new g;for(a=0;a<
c;++a){f=b[a];d=f.tc;var h=f.uc,w=d.ab.Ea,v=h.ab.Ea,k=d.hc,p=h.hc,n=f.Xf,u=V.sC(d.Sv,h.Sv),q=V.tC(d.Zv,h.Zv),ob=k.p.x,A=k.p.y,y=p.p.x,C=p.p.y,T=k.G,M=p.G;V.lc(0<n.Nc);t.Kl.nd(n,k.g,w,p.g,v);h=t.Kl.Pa.x;f=t.Kl.Pa.y;d=this.Sh[a];d.kb=k;d.vb=p;d.aE=n;d.Yf.x=h;d.Yf.y=f;d.Df=n.Nc;d.$m=u;d.Fn=q;d.Fs.x=n.Pd.x;d.Fs.y=n.Pd.y;d.Qh.x=n.fb.x;d.Qh.y=n.fb.y;d.oh=w+v;d.type=n.ib;for(w=0;w<d.Df;++w){u=n.gb[w];v=d.ve[w];v.hd=u.tl;v.ni=u.zl;v.Qh.L(u.fb);var u=v.pb.x=t.Kl.gb[w].x-k.h.o.x,q=v.pb.y=t.Kl.gb[w].y-k.h.o.y,
F=v.qb.x=t.Kl.gb[w].x-p.h.o.x,da=v.qb.y=t.Kl.gb[w].y-p.h.o.y,O=u*f-q*h,W=F*f-da*h,O=O*O,W=W*W;v.un=1/(k.R+p.R+k.fa*O+p.fa*W);var Z=k.Y*k.R+p.Y*p.R,Z=Z+(k.Y*k.fa*O+p.Y*p.fa*W);v.aD=1/Z;W=f;Z=-h;O=u*Z-q*W;W=F*Z-da*W;O*=O;W*=W;v.GF=1/(k.R+p.R+k.fa*O+p.fa*W);v.Qq=0;u=d.Yf.x*(y+-M*da-ob- -T*q)+d.Yf.y*(C+M*F-A-T*u);u<-V.FC&&(v.Qq+=-d.Fn*u)}2==d.Df&&(C=d.ve[0],y=d.ve[1],n=k.R,k=k.fa,ob=p.R,p=p.fa,A=C.pb.x*f-C.pb.y*h,C=C.qb.x*f-C.qb.y*h,T=y.pb.x*f-y.pb.y*h,y=y.qb.x*f-y.qb.y*h,h=n+ob+k*A*A+p*C*C,f=n+ob+k*
T*T+p*y*y,p=n+ob+k*A*T+p*C*y,h*h<100*(h*f-p*p)?(d.Ed.j.P(h,p),d.Ed.k.P(p,f),d.Ed.Mt(d.un)):d.Df=1)}};t.prototype.Hf=function(a){for(var b=0;b<this.bq;++b){var c=this.Sh[b],d=c.kb,f=c.vb,g=d.R,h=d.fa,w=f.R,v=f.fa,k=c.Yf.x,p=c.Yf.y,n=p,t=-k,u=0,q=0;if(a.Kg)for(q=c.Df,u=0;u<q;++u){var A=c.ve[u];A.hd*=a.Kc;A.ni*=a.Kc;var y=A.hd*k+A.ni*n,C=A.hd*p+A.ni*t;d.G-=h*(A.pb.x*C-A.pb.y*y);d.p.x-=g*y;d.p.y-=g*C;f.G+=v*(A.qb.x*C-A.qb.y*y);f.p.x+=w*y;f.p.y+=w*C}else for(q=c.Df,u=0;u<q;++u)d=c.ve[u],d.hd=0,d.ni=0}};
t.prototype.jf=function(){for(var a=0,b,c=0,d=0,f=0,g=0,h=0,w=0,v=0,k,p=0;p<this.bq;++p){var f=this.Sh[p],n=f.kb,t=f.vb,u=n.G,q=t.G,A=n.p,y=t.p,C=n.R,T=n.fa,O=t.R,F=t.fa,w=f.Yf.x,M=v=f.Yf.y;k=-w;h=f.$m;for(a=0;a<f.Df;a++)b=f.ve[a],c=y.x-q*b.qb.y-A.x+u*b.pb.y,d=y.y+q*b.qb.x-A.y-u*b.pb.x,c=c*M+d*k,c=b.GF*-c,d=h*b.hd,d=W.Fb(b.ni+c,-d,d),c=d-b.ni,g=c*M,c*=k,A.x-=C*g,A.y-=C*c,u-=T*(b.pb.x*c-b.pb.y*g),y.x+=O*g,y.y+=O*c,q+=F*(b.qb.x*c-b.qb.y*g),b.ni=d;parseInt(f.Df);if(1==f.Df)b=f.ve[0],c=y.x+-q*b.qb.y-
A.x- -u*b.pb.y,d=y.y+q*b.qb.x-A.y-u*b.pb.x,f=c*w+d*v,c=-b.un*(f-b.Qq),d=b.hd+c,d=0<d?d:0,c=d-b.hd,g=c*w,c*=v,A.x-=C*g,A.y-=C*c,u-=T*(b.pb.x*c-b.pb.y*g),y.x+=O*g,y.y+=O*c,q+=F*(b.qb.x*c-b.qb.y*g),b.hd=d;else{b=f.ve[0];var a=f.ve[1],c=b.hd,h=a.hd,da=(y.x-q*b.qb.y-A.x+u*b.pb.y)*w+(y.y+q*b.qb.x-A.y-u*b.pb.x)*v,V=(y.x-q*a.qb.y-A.x+u*a.pb.y)*w+(y.y+q*a.qb.x-A.y-u*a.pb.x)*v,d=da-b.Qq,g=V-a.Qq;k=f.Ed;d-=k.j.x*c+k.k.x*h;for(g-=k.j.y*c+k.k.y*h;;){k=f.un;M=-(k.j.x*d+k.k.x*g);k=-(k.j.y*d+k.k.y*g);if(0<=M&&0<=
k){c=M-c;h=k-h;f=c*w;c*=v;w*=h;v*=h;A.x-=C*(f+w);A.y-=C*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*w);y.x+=O*(f+w);y.y+=O*(c+v);q+=F*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*w);b.hd=M;a.hd=k;break}M=-b.un*d;k=0;V=f.Ed.j.y*M+g;if(0<=M&&0<=V){c=M-c;h=k-h;f=c*w;c*=v;w*=h;v*=h;A.x-=C*(f+w);A.y-=C*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*w);y.x+=O*(f+w);y.y+=O*(c+v);q+=F*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*w);b.hd=M;a.hd=k;break}M=0;k=-a.un*g;da=f.Ed.k.x*k+d;if(0<=k&&0<=da){c=M-c;h=k-h;f=c*w;c*=v;w*=
h;v*=h;A.x-=C*(f+w);A.y-=C*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*w);y.x+=O*(f+w);y.y+=O*(c+v);q+=F*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*w);b.hd=M;a.hd=k;break}k=M=0;da=d;V=g;if(0<=da&&0<=V){c=M-c;h=k-h;f=c*w;c*=v;w*=h;v*=h;A.x-=C*(f+w);A.y-=C*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*w);y.x+=O*(f+w);y.y+=O*(c+v);q+=F*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*w);b.hd=M;a.hd=k;break}break}}n.G=u;t.G=q}};t.prototype.Jt=function(){for(var a=0;a<this.bq;++a)for(var b=this.Sh[a],c=b.aE,d=0;d<b.Df;++d){var f=
c.gb[d],g=b.ve[d];f.tl=g.hd;f.zl=g.ni}};t.prototype.hf=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.bq;c++){var d=this.Sh[c],f=d.kb,g=d.vb,h=f.Y*f.R,w=f.Y*f.fa,v=g.Y*g.R,k=g.Y*g.fa;t.ct.nd(d);for(var p=t.ct.Pa,n=0;n<d.Df;n++){var u=d.ve[n],q=t.ct.gb[n],A=t.ct.Is[n],y=q.x-f.h.o.x,C=q.y-f.h.o.y,M=q.x-g.h.o.x,q=q.y-g.h.o.y,b=b<A?b:A,A=W.Fb(a*(A+V.Bb),-V.nf,0),A=-u.aD*A,u=A*p.x,A=A*p.y;f.h.o.x-=h*u;f.h.o.y-=h*A;f.h.Q-=w*(y*A-C*u);f.zc();g.h.o.x+=v*u;g.h.o.y+=v*A;g.h.Q+=k*(M*A-q*u);g.zc()}}return b>
-1.5*V.Bb};m.Fc.push(function(){m.l.ka.xj.Kl=new v;m.l.ka.xj.ct=new da});m.Jb(A,m.l.ka.Ya);A.prototype.oa=m.l.ka.Ya.prototype;A.vu=function(){m.l.ka.Ya.Ya.apply(this,arguments)};A.Oe=function(){return new A};A.md=function(){};A.prototype.ie=function(a,b){this.oa.ie.call(this,a,b)};A.prototype.Mg=function(){};m.Jb(u,m.l.ka.Ya);u.prototype.oa=m.l.ka.Ya.prototype;u.Yo=function(){m.l.ka.Ya.Ya.apply(this,arguments)};u.prototype.Yo=function(){this.oa.Ya.call(this)};u.prototype.Mg=function(){};m.Jb(y,m.l.ka.Ya);
y.prototype.oa=m.l.ka.Ya.prototype;y.Bu=function(){m.l.ka.Ya.Ya.apply(this,arguments)};y.Oe=function(){return new y};y.md=function(){};y.prototype.ie=function(a,b){this.oa.ie.call(this,a,b);V.lc(a.Hb()==c.Ej);V.lc(b.Hb()==c.Rk)};y.prototype.Mg=function(){Z.FB(this.Xf,this.tc.ab instanceof b?this.tc.ab:null,this.tc.hc.g,this.uc.ab instanceof a?this.uc.ab:null,this.uc.hc.g)};m.Jb(M,m.l.ka.Ya);M.prototype.oa=m.l.ka.Ya.prototype;M.Cu=function(){m.l.ka.Ya.Ya.apply(this,arguments)};M.Oe=function(){return new M};
M.md=function(){};M.prototype.ie=function(a,b){this.oa.ie.call(this,a,b);V.lc(a.Hb()==c.Ej);V.lc(b.Hb()==c.bs)};M.prototype.Mg=function(){};m.Jb(O,m.l.ka.Ya);O.prototype.oa=m.l.ka.Ya.prototype;O.Du=function(){m.l.ka.Ya.Ya.apply(this,arguments)};O.Oe=function(){return new O};O.md=function(){};O.prototype.ie=function(a,b){this.oa.ie.call(this,a,b)};O.prototype.Mg=function(){Z.GB(this.Xf,this.tc.ab instanceof b?this.tc.ab:null,this.tc.hc.g,this.uc.ab instanceof b?this.uc.ab:null,this.uc.hc.g)};da.Ik=
function(){};da.prototype.Ik=function(){this.Pa=new F;this.Is=new ba(V.of);this.gb=new aa(V.of);for(var a=0;a<V.of;a++)this.gb[a]=new F};da.prototype.nd=function(a){V.lc(0<a.Df);var b=0,c=0,d=0,f,g=0,h=0;switch(a.type){case ta.dv:f=a.kb.g.w;d=a.Qh;b=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);c=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.vb.g.w;d=a.ve[0].Qh;g=a.vb.g.position.x+(f.j.x*d.x+f.k.x*d.y);f=a.vb.g.position.y+(f.j.y*d.x+f.k.y*d.y);var d=g-b,h=f-c,w=d*d+h*h;w>Number.MIN_VALUE*Number.MIN_VALUE?
(w=Math.sqrt(w),this.Pa.x=d/w,this.Pa.y=h/w):(this.Pa.x=1,this.Pa.y=0);this.gb[0].x=.5*(b+g);this.gb[0].y=.5*(c+f);this.Is[0]=d*this.Pa.x+h*this.Pa.y-a.oh;break;case ta.Xg:f=a.kb.g.w;d=a.Fs;this.Pa.x=f.j.x*d.x+f.k.x*d.y;this.Pa.y=f.j.y*d.x+f.k.y*d.y;f=a.kb.g.w;d=a.Qh;g=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.vb.g.w;for(b=0;b<a.Df;++b)d=a.ve[b].Qh,c=a.vb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.vb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.Is[b]=(c-g)*this.Pa.x+
(d-h)*this.Pa.y-a.oh,this.gb[b].x=c,this.gb[b].y=d;break;case ta.Sk:f=a.vb.g.w;d=a.Fs;this.Pa.x=f.j.x*d.x+f.k.x*d.y;this.Pa.y=f.j.y*d.x+f.k.y*d.y;f=a.vb.g.w;d=a.Qh;g=a.vb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.vb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.kb.g.w;for(b=0;b<a.Df;++b)d=a.ve[b].Qh,c=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.Is[b]=(c-g)*this.Pa.x+(d-h)*this.Pa.y-a.oh,this.gb[b].P(c,d);this.Pa.x*=-1;this.Pa.y*=-1}};m.Fc.push(function(){m.l.ka.Ik.xG=
new F;m.l.ka.Ik.yG=new F})})();
(function(){var a=m.ba.Math.wi,b=m.ba.Math.If,c=m.ba.Math.lg,d=m.l.Xb.gu,f=m.l.Xb.iu,g=m.l.Xb.ju,h=m.l.Xb.Rc,k=m.l.Xb.qu,n=m.l.Xb.xu,q=m.l.Xb.Hu;m.Jb(d,m.l.Xb.Rc);d.prototype.oa=m.l.Xb.Rc.prototype;d.gu=function(){m.l.Xb.Rc.Rc.apply(this,arguments);this.Yf=new c(0,-1);this.rb=this.offset=0;this.xh=new c(0,0);this.DD=2;this.mC=1;this.NF=!0;this.uz=null};d.prototype.qj=function(){if(this.Lc){this.NF&&(this.uz=this.xd.dA.Gb());for(var a=this.Lc;a;a=a.bf){var b=a.body;if(0!=b.od()){for(var d=new c,f=
new c,g=0,h=0,k=b.Mc;k;k=k.Ja){var n=new c,q=k.ab.Wq(this.Yf,this.offset,b.gf(),n),g=g+q;d.x+=q*n.x;d.y+=q*n.y;var C=0,C=1,h=h+q*C;f.x+=q*n.x*C;f.y+=q*n.y*C}d.x/=g;d.y/=g;f.x/=h;f.y/=h;g<Number.MIN_VALUE||(h=this.uz.mj(),h.aa(this.rb*g),b.wk(h,f),f=b.OB(d),f.xo(this.xh),f.aa(-this.DD*g),b.wk(f,d),b.CB(-b.Uf/b.Y*g*b.G*this.mC))}}}};m.Jb(f,m.l.Xb.Rc);f.prototype.oa=m.l.Xb.Rc.prototype;f.iu=function(){m.l.Xb.Rc.Rc.apply(this,arguments);this.gx=new c(0,0)};f.prototype.qj=function(a){a=new c(this.gx.x*
a.Ta,this.gx.y*a.Ta);for(var b=this.Lc;b;b=b.bf){var d=b.body;d.od()&&d.to(new c(d.p.x+a.x,d.p.y+a.y))}};m.Jb(g,m.l.Xb.Rc);g.prototype.oa=m.l.Xb.Rc.prototype;g.ju=function(){m.l.Xb.Rc.Rc.apply(this,arguments);this.LB=new c(0,0)};g.prototype.qj=function(){for(var a=this.Lc;a;a=a.bf){var b=a.body;b.od()&&b.wk(this.LB,b.h.o)}};h.Rc=function(){};h.prototype.qj=function(){};h.prototype.At=function(a){var b=new k;b.Iy=this;b.body=a;b.bf=this.Lc;b.xq=null;this.Lc=b;b.bf&&(b.bf.xq=b);this.be++;b.$i=a.Vj;
b.yq=null;a.Vj=b;b.$i&&(b.$i.yq=b);a.Qv++};h.prototype.Mx=function(a){for(var b=a.Vj;b&&b.Iy!=this;)b=b.$i;b.xq&&(b.xq.bf=b.bf);b.bf&&(b.bf.xq=b.xq);b.$i&&(b.$i.yq=b.yq);b.yq&&(b.yq.$i=b.$i);this.Lc==b&&(this.Lc=b.bf);a.Vj==b&&(a.Vj=b.$i);a.Qv--;this.be--};h.prototype.Ct=function(){for(;this.Lc;)this.Mx(this.Lc.body)};k.qu=function(){};m.Jb(n,m.l.Xb.Rc);n.prototype.oa=m.l.Xb.Rc.prototype;n.xu=function(){m.l.Xb.Rc.Rc.apply(this,arguments);this.wx=1;this.xD=!0};n.prototype.qj=function(){var a=null,
b=null,d=null,f=0,g=null,h=null,k=null,n=0,q=0,C=0;if(this.xD)for(a=this.Lc;a;a=a.bf)for(b=a.body,d=b.h.o,f=b.Y,g=this.Lc;g!=a;g=g.bf)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,C=n*n+q*q,C<Number.MIN_VALUE||(n=new c(n,q),n.aa(this.wx/C/Math.sqrt(C)*f*h.Y),b.od()&&b.wk(n,d),n.aa(-1),h.od()&&h.wk(n,k));else for(a=this.Lc;a;a=a.bf)for(b=a.body,d=b.h.o,f=b.Y,g=this.Lc;g!=a;g=g.bf)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,C=n*n+q*q,C<Number.MIN_VALUE||(n=new c(n,q),n.aa(this.wx/C*f*h.Y),b.od()&&b.wk(n,d),n.aa(-1),
h.od()&&h.wk(n,k))};m.Jb(q,m.l.Xb.Rc);q.prototype.oa=m.l.Xb.Rc.prototype;q.Hu=function(){m.l.Xb.Rc.Rc.apply(this,arguments);this.eC=new a;this.cw=0};q.prototype.qj=function(a){a=a.Ta;if(!(a<=Number.MIN_VALUE)){a>this.cw&&0<this.cw&&(a=this.cw);for(var d=this.Lc;d;d=d.bf){var f=d.body;if(f.od()){var g=f.Pt(b.Fd(this.eC,f.Nt(f.p)));f.to(new c(f.p.x+g.x*a,f.p.y+g.y*a))}}}}})();
(function(){var a=m.ba.Pb,b=m.ba.Math.wi,c=m.ba.Math.km,d=m.ba.Math.If,f=m.ba.Math.lg,g=m.ba.Math.qm,h=m.l.J.Ko,k=m.l.J.Lo,n=m.l.J.Po,q=m.l.J.Qo,p=m.l.J.Ro,t=m.l.J.So,A=m.l.J.yu,u=m.l.J.ja,y=m.l.J.xa,M=m.l.J.zu,O=m.l.J.To,da=m.l.J.Uo,T=m.l.J.Xo,C=m.l.J.lm,V=m.l.J.Zo,la=m.l.J.$o,W=m.l.J.mm,F=m.l.J.ap,Z=m.l.J.nm,Ia=m.l.J.om,ta=m.l.J.ep,Ja=m.l.J.fp;m.Jb(h,m.l.J.ja);h.prototype.oa=m.l.J.ja.prototype;h.Ko=function(){m.l.J.ja.ja.apply(this,arguments);this.qa=new f;this.ya=new f;this.gd=new f};h.prototype.Dd=
function(){return this.Ia.gg(this.qa)};h.prototype.Ko=function(a){this.oa.ja.call(this,a);this.qa.L(a.Zc);this.ya.L(a.$c);this.Tv=a.length;this.eq=a.ns;this.Rv=a.Wr;this.Yz=this.pe=this.t=0};h.prototype.Hf=function(b){var c,d=0,f=this.Ia,g=this.Oa;c=f.g.w;var h=this.qa.x-f.h.W.x,k=this.qa.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.w;var n=this.ya.x-g.h.W.x,p=this.ya.y-g.h.W.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;this.gd.x=g.h.o.x+n-f.h.o.x-h;this.gd.y=g.h.o.y+p-f.h.o.y-k;d=Math.sqrt(this.gd.x*
this.gd.x+this.gd.y*this.gd.y);d>a.Bb?this.gd.aa(1/d):this.gd.Ka();c=h*this.gd.y-k*this.gd.x;var pa=n*this.gd.y-p*this.gd.x;c=f.R+f.fa*c*c+g.R+g.fa*pa*pa;this.Y=0!=c?1/c:0;if(0<this.eq){var d=d-this.Tv,pa=2*Math.PI*this.eq,q=this.Y*pa*pa;this.pe=b.Ta*(2*this.Y*this.Rv*pa+b.Ta*q);this.pe=0!=this.pe?1/this.pe:0;this.Yz=d*b.Ta*q*this.pe;this.Y=c+this.pe;this.Y=0!=this.Y?1/this.Y:0}b.Kg?(this.t*=b.Kc,b=this.t*this.gd.x,c=this.t*this.gd.y,f.p.x-=f.R*b,f.p.y-=f.R*c,f.G-=f.fa*(h*c-k*b),g.p.x+=g.R*b,g.p.y+=
g.R*c,g.G+=g.fa*(n*c-p*b)):this.t=0};h.prototype.jf=function(){var a,b=this.Ia,c=this.Oa;a=b.g.w;var d=this.qa.x-b.h.W.x,f=this.qa.y-b.h.W.y,g=a.j.x*d+a.k.x*f,f=a.j.y*d+a.k.y*f,d=g;a=c.g.w;var h=this.ya.x-c.h.W.x,k=this.ya.y-c.h.W.y,g=a.j.x*h+a.k.x*k,k=a.j.y*h+a.k.y*k,h=g,g=-this.Y*(this.gd.x*(c.p.x+-c.G*k-(b.p.x+-b.G*f))+this.gd.y*(c.p.y+c.G*h-(b.p.y+b.G*d))+this.Yz+this.pe*this.t);this.t+=g;a=g*this.gd.x;g*=this.gd.y;b.p.x-=b.R*a;b.p.y-=b.R*g;b.G-=b.fa*(d*g-f*a);c.p.x+=c.R*a;c.p.y+=c.R*g;c.G+=c.fa*
(h*g-k*a)};h.prototype.hf=function(){var b;if(0<this.eq)return!0;var c=this.Ia,f=this.Oa;b=c.g.w;var g=this.qa.x-c.h.W.x,h=this.qa.y-c.h.W.y,k=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=k;b=f.g.w;var n=this.ya.x-f.h.W.x,p=this.ya.y-f.h.W.y,k=b.j.x*n+b.k.x*p,p=b.j.y*n+b.k.y*p,n=k,k=f.h.o.x+n-c.h.o.x-g,E=f.h.o.y+p-c.h.o.y-h;b=Math.sqrt(k*k+E*E);k/=b;E/=b;b-=this.Tv;b=d.Fb(b,-a.nf,a.nf);var pa=-this.Y*b;this.gd.P(k,E);k=pa*this.gd.x;E=pa*this.gd.y;c.h.o.x-=c.R*k;c.h.o.y-=c.R*E;c.h.Q-=c.fa*(g*E-h*k);f.h.o.x+=
f.R*k;f.h.o.y+=f.R*E;f.h.Q+=f.fa*(n*E-p*k);c.zc();f.zc();return d.ld(b)<a.Bb};m.Jb(k,m.l.J.xa);k.prototype.oa=m.l.J.xa.prototype;k.Lo=function(){m.l.J.xa.xa.apply(this,arguments);this.Zc=new f;this.$c=new f};k.prototype.Lo=function(){this.oa.xa.call(this);this.type=u.Uy;this.length=1;this.Wr=this.ns=0};k.prototype.nd=function(a,b,c,d){this.kb=a;this.vb=b;this.Zc.L(this.kb.ff(c));this.$c.L(this.vb.ff(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Wr=this.ns=0};m.Jb(n,m.l.J.ja);n.prototype.oa=
m.l.J.ja.prototype;n.Po=function(){m.l.J.ja.ja.apply(this,arguments);this.Ye=new f;this.Wf=new f;this.Wv=new b;this.Vf=new f};n.prototype.Dd=function(){return this.Ia.gg(this.Ye)};n.prototype.Po=function(a){this.oa.ja.call(this,a);this.Ye.L(a.Zc);this.Wf.L(a.$c);this.Wv.Ka();this.aq=0;this.Vf.Ka();this.Qi=0;this.Xv=a.aw;this.UD=a.cE};n.prototype.Hf=function(a){var c,d=0,f=this.Ia,g=this.Oa;c=f.g.w;var h=this.Ye.x-f.h.W.x,k=this.Ye.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.w;var n=this.Wf.x-
g.h.W.x,p=this.Wf.y-g.h.W.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;c=f.R;var d=g.R,pa=f.fa,q=g.fa,u=new b;u.j.x=c+d;u.k.x=0;u.j.y=0;u.k.y=c+d;u.j.x+=pa*k*k;u.k.x+=-pa*h*k;u.j.y+=-pa*h*k;u.k.y+=pa*h*h;u.j.x+=q*p*p;u.k.x+=-q*n*p;u.j.y+=-q*n*p;u.k.y+=q*n*n;u.Mt(this.Wv);this.aq=pa+q;0<this.aq&&(this.aq=1/this.aq);a.Kg?(this.Vf.x*=a.Kc,this.Vf.y*=a.Kc,this.Qi*=a.Kc,a=this.Vf,f.p.x-=c*a.x,f.p.y-=c*a.y,f.G-=pa*(h*a.y-k*a.x+this.Qi),g.p.x+=d*a.x,g.p.y+=d*a.y,g.G+=q*(n*a.y-p*a.x+this.Qi)):(this.Vf.Ka(),
this.Qi=0)};n.prototype.jf=function(a){var b,c=0,g=this.Ia,h=this.Oa,k=g.p,n=g.G,p=h.p,E=h.G,q=g.R,u=h.R,t=g.fa,A=h.fa;b=g.g.w;var y=this.Ye.x-g.h.W.x,C=this.Ye.y-g.h.W.y,c=b.j.x*y+b.k.x*C,C=b.j.y*y+b.k.y*C,y=c;b=h.g.w;var F=this.Wf.x-h.h.W.x,M=this.Wf.y-h.h.W.y,c=b.j.x*F+b.k.x*M,M=b.j.y*F+b.k.y*M,F=c,c=-this.aq*(E-n),O=this.Qi;b=a.Ta*this.UD;this.Qi=d.Fb(this.Qi+c,-b,b);c=this.Qi-O;n-=t*c;E+=A*c;b=d.Fd(this.Wv,new f(-(p.x-E*M-k.x+n*C),-(p.y+E*F-k.y-n*y)));c=this.Vf.Gb();this.Vf.Lg(b);b=a.Ta*this.Xv;
this.Vf.ir()>b*b&&(this.Vf.bb(),this.Vf.aa(b));b=d.yc(this.Vf,c);k.x-=q*b.x;k.y-=q*b.y;n-=t*(y*b.y-C*b.x);p.x+=u*b.x;p.y+=u*b.y;E+=A*(F*b.y-M*b.x);g.G=n;h.G=E};n.prototype.hf=function(){return!0};m.Jb(q,m.l.J.xa);q.prototype.oa=m.l.J.xa.prototype;q.Qo=function(){m.l.J.xa.xa.apply(this,arguments);this.Zc=new f;this.$c=new f};q.prototype.Qo=function(){this.oa.xa.call(this);this.type=u.Wy;this.cE=this.aw=0};q.prototype.nd=function(a,b,c){this.kb=a;this.vb=b;this.Zc.L(this.kb.ff(c));this.$c.L(this.vb.ff(c))};
m.Jb(p,m.l.J.ja);p.prototype.oa=m.l.J.ja.prototype;p.Ro=function(){m.l.J.ja.ja.apply(this,arguments);this.Si=new f;this.Ti=new f;this.qa=new f;this.ya=new f;this.sc=new A};p.prototype.Dd=function(){return this.Ia.gg(this.qa)};p.prototype.Ro=function(a){this.oa.ja.call(this,a);var b=parseInt(a.fl.ib),c=parseInt(a.gl.ib);this.on=this.xl=this.nn=this.wl=null;var d=0,f=0;this.MD=a.fl.Ia;this.Ia=a.fl.Oa;b==u.cs?(this.wl=a.fl instanceof Z?a.fl:null,this.Si.L(this.wl.qa),this.qa.L(this.wl.ya),d=this.wl.ge()):
(this.nn=a.fl instanceof V?a.fl:null,this.Si.L(this.nn.qa),this.qa.L(this.nn.ya),d=this.nn.po());this.ND=a.gl.Ia;this.Oa=a.gl.Oa;c==u.cs?(this.xl=a.gl instanceof Z?a.gl:null,this.Ti.L(this.xl.qa),this.ya.L(this.xl.ya),f=this.xl.ge()):(this.on=a.gl instanceof V?a.gl:null,this.Ti.L(this.on.qa),this.ya.L(this.on.ya),f=this.on.po());this.Ec=a.El;this.jn=d+this.Ec*f;this.t=0};p.prototype.Hf=function(a){var b=this.MD,c=this.ND,d=this.Ia,f=this.Oa,g=0,h=0,k=0,n=0,p=0,q=0;this.sc.Ka();this.wl?(this.sc.Ek=
-1,q+=d.fa):(b=b.g.w,h=this.nn.Ze,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=d.g.w,k=this.qa.x-d.h.W.x,n=this.qa.y-d.h.W.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.sc.$g.P(-g,-h),this.sc.Ek=-k,q+=d.R+d.fa*k*k);this.xl?(this.sc.Fk=-this.Ec,q+=this.Ec*this.Ec*f.fa):(b=c.g.w,h=this.on.Ze,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=f.g.w,k=this.ya.x-f.h.W.x,n=this.ya.y-f.h.W.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.sc.ah.P(-this.Ec*g,-this.Ec*h),this.sc.Fk=-this.Ec*k,q+=this.Ec*
this.Ec*(f.R+f.fa*k*k));this.Y=0<q?1/q:0;a.Kg?(d.p.x+=d.R*this.t*this.sc.$g.x,d.p.y+=d.R*this.t*this.sc.$g.y,d.G+=d.fa*this.t*this.sc.Ek,f.p.x+=f.R*this.t*this.sc.ah.x,f.p.y+=f.R*this.t*this.sc.ah.y,f.G+=f.fa*this.t*this.sc.Fk):this.t=0};p.prototype.jf=function(){var a=this.Ia,b=this.Oa,c=-this.Y*this.sc.HB(a.p,a.G,b.p,b.G);this.t+=c;a.p.x+=a.R*c*this.sc.$g.x;a.p.y+=a.R*c*this.sc.$g.y;a.G+=a.fa*c*this.sc.Ek;b.p.x+=b.R*c*this.sc.ah.x;b.p.y+=b.R*c*this.sc.ah.y;b.G+=b.fa*c*this.sc.Fk};p.prototype.hf=
function(){var b=this.Ia,c=this.Oa,d=0,f=0,d=this.wl?this.wl.ge():this.nn.po(),f=this.xl?this.xl.ge():this.on.po(),d=-this.Y*(this.jn-(d+this.Ec*f));b.h.o.x+=b.R*d*this.sc.$g.x;b.h.o.y+=b.R*d*this.sc.$g.y;b.h.Q+=b.fa*d*this.sc.Ek;c.h.o.x+=c.R*d*this.sc.ah.x;c.h.o.y+=c.R*d*this.sc.ah.y;c.h.Q+=c.fa*d*this.sc.Fk;b.zc();c.zc();return 0<a.Bb};m.Jb(t,m.l.J.xa);t.prototype.oa=m.l.J.xa.prototype;t.So=function(){m.l.J.xa.xa.apply(this,arguments)};t.prototype.So=function(){this.oa.xa.call(this);this.type=u.Xy;
this.gl=this.fl=null;this.El=1};A.yu=function(){this.$g=new f;this.ah=new f};A.prototype.Ka=function(){this.$g.Ka();this.Ek=0;this.ah.Ka();this.Fk=0};A.prototype.P=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.$g.L(a);this.Ek=b;this.ah.L(c);this.Fk=d};A.prototype.HB=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.$g.x*a.x+this.$g.y*a.y+this.Ek*b+(this.ah.x*c.x+this.ah.y*c.y)+this.Fk*d};u.ja=function(){this.Ie=new M;this.Je=new M;this.Vh=new f;this.Wh=new f};u.prototype.Hb=
function(){return this.ib};u.prototype.Dd=function(){return null};u.prototype.Gf=function(){return this.Wi};u.prototype.uo=function(a){this.Wi=a};u.prototype.xk=function(){return this.Ia.xk()&&this.Oa.xk()};u.Oe=function(a){var b=null;switch(a.type){case u.Uy:b=new h(a instanceof k?a:null);break;case u.Zy:b=new T(a instanceof C?a:null);break;case u.az:b=new V(a instanceof la?a:null);break;case u.cs:b=new Z(a instanceof Ia?a:null);break;case u.bz:b=new W(a instanceof F?a:null);break;case u.Xy:b=new p(a instanceof
t?a:null);break;case u.Yy:b=new O(a instanceof da?a:null);break;case u.cz:b=new ta(a instanceof Ja?a:null);break;case u.Wy:b=new n(a instanceof q?a:null)}return b};u.md=function(){};u.prototype.ja=function(b){a.lc(b.kb!=b.vb);this.ib=b.type;this.Ja=this.wd=null;this.Ia=b.kb;this.Oa=b.vb;this.Zz=b.Ur;this.ql=!1;this.Wi=b.tk};u.prototype.Hf=function(){};u.prototype.jf=function(){};u.prototype.Jt=function(){};u.prototype.hf=function(){return!1};m.Fc.push(function(){m.l.J.ja.TC=0;m.l.J.ja.cs=1;m.l.J.ja.az=
2;m.l.J.ja.Uy=3;m.l.J.ja.bz=4;m.l.J.ja.Zy=5;m.l.J.ja.Xy=6;m.l.J.ja.Yy=7;m.l.J.ja.cz=8;m.l.J.ja.Wy=9;m.l.J.ja.Ce=0;m.l.J.ja.Hh=1;m.l.J.ja.Od=2;m.l.J.ja.Dj=3});y.xa=function(){};y.prototype.xa=function(){this.type=u.TC;this.vb=this.kb=this.tk=null;this.Ur=!1};M.zu=function(){};m.Jb(O,m.l.J.ja);O.prototype.oa=m.l.J.ja.prototype;O.To=function(){m.l.J.ja.ja.apply(this,arguments);this.qa=new f;this.ya=new f;this.Ze=new f;this.Vi=new f;this.ea=new f;this.Da=new f;this.wa=new b;this.t=new f};O.prototype.Dd=
function(){return this.Ia.gg(this.qa)};O.prototype.po=function(){var a=this.Ia,b=this.Oa,c=a.gg(this.qa),d=b.gg(this.ya),b=d.x-c.x,c=d.y-c.y,a=a.Pt(this.Ze);return a.x*b+a.y*c};O.prototype.yh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ia.Wd(!0);this.Oa.Wd(!0);this.$e=a;this.af=b};O.prototype.To=function(a){this.oa.ja.call(this,a);this.qa.L(a.Zc);this.ya.L(a.$c);this.Ze.L(a.ol);this.Vi.x=-this.Ze.y;this.Vi.y=this.Ze.x;this.t.Ka();this.nb=this.Ke=0;this.$e=a.Nv;this.af=a.Yw;this.Yv=a.bw;
this.iq=a.mq;this.dh=a.Sm;this.Xj=a.Cp;this.Xa=u.Ce;this.ea.Ka();this.Da.Ka()};O.prototype.Hf=function(b){var c=this.Ia,f=this.Oa,g,h=0;this.Vh.L(c.h.W);this.Wh.L(f.h.W);var k=c.gf();f.gf();g=c.g.w;var n=this.qa.x-this.Vh.x,p=this.qa.y-this.Vh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.w;var E=this.ya.x-this.Wh.x,q=this.ya.y-this.Wh.y,h=g.j.x*E+g.k.x*q,q=g.j.y*E+g.k.y*q,E=h;g=f.h.o.x+E-c.h.o.x-n;h=f.h.o.y+q-c.h.o.y-p;this.Cc=c.R;this.Dc=f.R;this.qe=c.fa;this.re=f.fa;this.ea.L(d.Fd(k.w,this.Ze));
this.Db=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Eb=E*this.ea.y-q*this.ea.x;this.Ke=this.Cc+this.Dc+this.qe*this.Db*this.Db+this.re*this.Eb*this.Eb;this.Ke=this.Ke>Number.MIN_VALUE?1/this.Ke:0;this.Da.L(d.Fd(k.w,this.Vi));this.Kb=(g+n)*this.Da.y-(h+p)*this.Da.x;this.Lb=E*this.Da.y-q*this.Da.x;k=this.Cc;n=this.Dc;p=this.qe;E=this.re;this.wa.j.x=k+n+p*this.Kb*this.Kb+E*this.Lb*this.Lb;this.wa.j.y=p*this.Kb*this.Db+E*this.Lb*this.Eb;this.wa.k.x=this.wa.j.y;this.wa.k.y=k+n+p*this.Db*this.Db+E*this.Eb*this.Eb;
this.dh?(g=this.ea.x*g+this.ea.y*h,d.ld(this.af-this.$e)<2*a.Bb?this.Xa=u.Dj:g<=this.$e?this.Xa!=u.Hh&&(this.Xa=u.Hh,this.t.y=0):g>=this.af?this.Xa!=u.Od&&(this.Xa=u.Od,this.t.y=0):(this.Xa=u.Ce,this.t.y=0)):this.Xa=u.Ce;0==this.Xj&&(this.nb=0);b.Kg?(this.t.x*=b.Kc,this.t.y*=b.Kc,this.nb*=b.Kc,b=this.t.x*this.Da.x+(this.nb+this.t.y)*this.ea.x,g=this.t.x*this.Da.y+(this.nb+this.t.y)*this.ea.y,h=this.t.x*this.Kb+(this.nb+this.t.y)*this.Db,k=this.t.x*this.Lb+(this.nb+this.t.y)*this.Eb,c.p.x-=this.Cc*
b,c.p.y-=this.Cc*g,c.G-=this.qe*h,f.p.x+=this.Dc*b,f.p.y+=this.Dc*g,f.G+=this.re*k):(this.t.Ka(),this.nb=0)};O.prototype.jf=function(a){var b=this.Ia,c=this.Oa,g=b.p,h=b.G,k=c.p,n=c.G,p=0,E=0,q=0,t=0;this.Xj&&this.Xa!=u.Dj&&(t=this.Ke*(this.iq-(this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Eb*n-this.Db*h)),p=this.nb,E=a.Ta*this.Yv,this.nb=d.Fb(this.nb+t,-E,E),t=this.nb-p,p=t*this.ea.x,E=t*this.ea.y,q=t*this.Db,t*=this.Eb,g.x-=this.Cc*p,g.y-=this.Cc*E,h-=this.qe*q,k.x+=this.Dc*p,k.y+=this.Dc*E,n+=this.re*
t);E=this.Da.x*(k.x-g.x)+this.Da.y*(k.y-g.y)+this.Lb*n-this.Kb*h;this.dh&&this.Xa!=u.Ce?(q=this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Eb*n-this.Db*h,p=this.t.Gb(),a=this.wa.Ck(new f,-E,-q),this.t.Lg(a),this.Xa==u.Hh?this.t.y=d.he(this.t.y,0):this.Xa==u.Od&&(this.t.y=d.zk(this.t.y,0)),E=-E-(this.t.y-p.y)*this.wa.k.x,q=0!=this.wa.j.x?E/this.wa.j.x+p.x:p.x,this.t.x=q,a.x=this.t.x-p.x,a.y=this.t.y-p.y,p=a.x*this.Da.x+a.y*this.ea.x,E=a.x*this.Da.y+a.y*this.ea.y,q=a.x*this.Kb+a.y*this.Db,t=a.x*this.Lb+
a.y*this.Eb):(a=0!=this.wa.j.x?-E/this.wa.j.x:0,this.t.x+=a,p=a*this.Da.x,E=a*this.Da.y,q=a*this.Kb,t=a*this.Lb);g.x-=this.Cc*p;g.y-=this.Cc*E;h-=this.qe*q;k.x+=this.Dc*p;k.y+=this.Dc*E;n+=this.re*t;b.p.L(g);b.G=h;c.p.L(k);c.G=n};O.prototype.hf=function(){var c=this.Ia,g=this.Oa,h=c.h.o,k=c.h.Q,n=g.h.o,p=g.h.Q,I,q=0,E=0,u=0,t=0,A=0,y=0,E=!1,C=0,F=b.ar(k),u=b.ar(p);I=F;var y=this.qa.x-this.Vh.x,M=this.qa.y-this.Vh.y,q=I.j.x*y+I.k.x*M,M=I.j.y*y+I.k.y*M,y=q;I=u;u=this.ya.x-this.Wh.x;t=this.ya.y-this.Wh.y;
q=I.j.x*u+I.k.x*t;t=I.j.y*u+I.k.y*t;u=q;I=n.x+u-h.x-y;q=n.y+t-h.y-M;if(this.dh){this.ea=d.Fd(F,this.Ze);this.Db=(I+y)*this.ea.y-(q+M)*this.ea.x;this.Eb=u*this.ea.y-t*this.ea.x;var O=this.ea.x*I+this.ea.y*q;d.ld(this.af-this.$e)<2*a.Bb?(C=d.Fb(O,-a.nf,a.nf),A=d.ld(O),E=!0):O<=this.$e?(C=d.Fb(O-this.$e+a.Bb,-a.nf,0),A=this.$e-O,E=!0):O>=this.af&&(C=d.Fb(O-this.af+a.Bb,0,a.nf),A=O-this.af,E=!0)}this.Da=d.Fd(F,this.Vi);this.Kb=(I+y)*this.Da.y-(q+M)*this.Da.x;this.Lb=u*this.Da.y-t*this.Da.x;F=new f;M=
this.Da.x*I+this.Da.y*q;A=d.he(A,d.ld(M));y=0;E?(E=this.Cc,u=this.Dc,t=this.qe,I=this.re,this.wa.j.x=E+u+t*this.Kb*this.Kb+I*this.Lb*this.Lb,this.wa.j.y=t*this.Kb*this.Db+I*this.Lb*this.Eb,this.wa.k.x=this.wa.j.y,this.wa.k.y=E+u+t*this.Db*this.Db+I*this.Eb*this.Eb,this.wa.Ck(F,-M,-C)):(E=this.Cc,u=this.Dc,t=this.qe,I=this.re,C=E+u+t*this.Kb*this.Kb+I*this.Lb*this.Lb,F.x=0!=C?-M/C:0,F.y=0);C=F.x*this.Da.x+F.y*this.ea.x;E=F.x*this.Da.y+F.y*this.ea.y;M=F.x*this.Kb+F.y*this.Db;F=F.x*this.Lb+F.y*this.Eb;
h.x-=this.Cc*C;h.y-=this.Cc*E;k-=this.qe*M;n.x+=this.Dc*C;n.y+=this.Dc*E;p+=this.re*F;c.h.Q=k;g.h.Q=p;c.zc();g.zc();return A<=a.Bb&&y<=a.Jk};m.Jb(da,m.l.J.xa);da.prototype.oa=m.l.J.xa.prototype;da.Uo=function(){m.l.J.xa.xa.apply(this,arguments);this.Zc=new f;this.$c=new f;this.ol=new f};da.prototype.Uo=function(){this.oa.xa.call(this);this.type=u.Yy;this.ol.P(1,0);this.Sm=!1;this.Yw=this.Nv=0;this.Cp=!1;this.mq=this.bw=0};da.prototype.nd=function(a,b,c,d){this.kb=a;this.vb=b;this.Zc=this.kb.ff(c);
this.$c=this.vb.ff(c);this.ol=this.kb.Nt(d)};m.Jb(T,m.l.J.ja);T.prototype.oa=m.l.J.ja.prototype;T.Xo=function(){m.l.J.ja.ja.apply(this,arguments);this.Ed=new b;this.Ng=new b;this.Og=new b;this.mn=new f;this.pn=new f;this.t=new f;this.Y=new b;this.Gs=new f};T.prototype.Dd=function(){return this.pn};T.prototype.Xo=function(a){this.oa.ja.call(this,a);this.pn.L(a.target);var b=this.pn.x-this.Oa.g.position.x,c=this.pn.y-this.Oa.g.position.y,d=this.Oa.g.w;this.mn.x=b*d.j.x+c*d.j.y;this.mn.y=b*d.k.x+c*d.k.y;
this.Xv=a.aw;this.t.Ka();this.eq=a.ns;this.Rv=a.Wr;this.pe=this.Pv=0};T.prototype.Hf=function(a){var b=this.Oa,c=b.Y,d=2*Math.PI*this.eq,f=c*d*d;this.pe=a.Ta*(2*c*this.Rv*d+a.Ta*f);this.pe=0!=this.pe?1/this.pe:0;this.Pv=a.Ta*f*this.pe;var f=b.g.w,c=this.mn.x-b.h.W.x,d=this.mn.y-b.h.W.y,g=f.j.x*c+f.k.x*d,d=f.j.y*c+f.k.y*d,c=g,f=b.R,g=b.fa;this.Ng.j.x=f;this.Ng.k.x=0;this.Ng.j.y=0;this.Ng.k.y=f;this.Og.j.x=g*d*d;this.Og.k.x=-g*c*d;this.Og.j.y=-g*c*d;this.Og.k.y=g*c*c;this.Ed.Bk(this.Ng);this.Ed.Vq(this.Og);
this.Ed.j.x+=this.pe;this.Ed.k.y+=this.pe;this.Ed.Mt(this.Y);this.Gs.x=b.h.o.x+c-this.pn.x;this.Gs.y=b.h.o.y+d-this.pn.y;b.G*=.98;this.t.x*=a.Kc;this.t.y*=a.Kc;b.p.x+=f*this.t.x;b.p.y+=f*this.t.y;b.G+=g*(c*this.t.y-d*this.t.x)};T.prototype.jf=function(a){var b=this.Oa,c,d=0,f=0;c=b.g.w;var g=this.mn.x-b.h.W.x,h=this.mn.y-b.h.W.y,d=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=d,d=b.p.x+-b.G*h,k=b.p.y+b.G*g;c=this.Y;d=d+this.Pv*this.Gs.x+this.pe*this.t.x;f=k+this.Pv*this.Gs.y+this.pe*this.t.y;k=-(c.j.x*d+c.k.x*
f);f=-(c.j.y*d+c.k.y*f);c=this.t.x;d=this.t.y;this.t.x+=k;this.t.y+=f;a=a.Ta*this.Xv;this.t.ir()>a*a&&this.t.aa(a/this.t.hg());k=this.t.x-c;f=this.t.y-d;b.p.x+=b.R*k;b.p.y+=b.R*f;b.G+=b.fa*(g*f-h*k)};T.prototype.hf=function(){return!0};m.Jb(C,m.l.J.xa);C.prototype.oa=m.l.J.xa.prototype;C.lm=function(){m.l.J.xa.xa.apply(this,arguments);this.target=new f};C.prototype.lm=function(){this.oa.xa.call(this);this.type=u.Zy;this.aw=0;this.ns=5;this.Wr=.7};m.Jb(V,m.l.J.ja);V.prototype.oa=m.l.J.ja.prototype;
V.Zo=function(){m.l.J.ja.ja.apply(this,arguments);this.qa=new f;this.ya=new f;this.Ze=new f;this.Vi=new f;this.ea=new f;this.Da=new f;this.wa=new c;this.t=new g};V.prototype.Dd=function(){return this.Ia.gg(this.qa)};V.prototype.po=function(){var a=this.Ia,b=this.Oa,c=a.gg(this.qa),d=b.gg(this.ya),b=d.x-c.x,c=d.y-c.y,a=a.Pt(this.Ze);return a.x*b+a.y*c};V.prototype.yh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ia.Wd(!0);this.Oa.Wd(!0);this.$e=a;this.af=b};V.prototype.Zo=function(a){this.oa.ja.call(this,
a);this.qa.L(a.Zc);this.ya.L(a.$c);this.Ze.L(a.ol);this.Vi.x=-this.Ze.y;this.Vi.y=this.Ze.x;this.VD=a.hk;this.t.Ka();this.nb=this.Ke=0;this.$e=a.Nv;this.af=a.Yw;this.Yv=a.bw;this.iq=a.mq;this.dh=a.Sm;this.Xj=a.Cp;this.Xa=u.Ce;this.ea.Ka();this.Da.Ka()};V.prototype.Hf=function(b){var c=this.Ia,f=this.Oa,g,h=0;this.Vh.L(c.h.W);this.Wh.L(f.h.W);var k=c.gf();f.gf();g=c.g.w;var n=this.qa.x-this.Vh.x,p=this.qa.y-this.Vh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.w;var E=this.ya.x-this.Wh.x,q=this.ya.y-
this.Wh.y,h=g.j.x*E+g.k.x*q,q=g.j.y*E+g.k.y*q,E=h;g=f.h.o.x+E-c.h.o.x-n;h=f.h.o.y+q-c.h.o.y-p;this.Cc=c.R;this.Dc=f.R;this.qe=c.fa;this.re=f.fa;this.ea.L(d.Fd(k.w,this.Ze));this.Db=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Eb=E*this.ea.y-q*this.ea.x;this.Ke=this.Cc+this.Dc+this.qe*this.Db*this.Db+this.re*this.Eb*this.Eb;this.Ke>Number.MIN_VALUE&&(this.Ke=1/this.Ke);this.Da.L(d.Fd(k.w,this.Vi));this.Kb=(g+n)*this.Da.y-(h+p)*this.Da.x;this.Lb=E*this.Da.y-q*this.Da.x;k=this.Cc;n=this.Dc;p=this.qe;E=this.re;
this.wa.j.x=k+n+p*this.Kb*this.Kb+E*this.Lb*this.Lb;this.wa.j.y=p*this.Kb+E*this.Lb;this.wa.j.z=p*this.Kb*this.Db+E*this.Lb*this.Eb;this.wa.k.x=this.wa.j.y;this.wa.k.y=p+E;this.wa.k.z=p*this.Db+E*this.Eb;this.wa.Ga.x=this.wa.j.z;this.wa.Ga.y=this.wa.k.z;this.wa.Ga.z=k+n+p*this.Db*this.Db+E*this.Eb*this.Eb;this.dh?(g=this.ea.x*g+this.ea.y*h,d.ld(this.af-this.$e)<2*a.Bb?this.Xa=u.Dj:g<=this.$e?this.Xa!=u.Hh&&(this.Xa=u.Hh,this.t.z=0):g>=this.af?this.Xa!=u.Od&&(this.Xa=u.Od,this.t.z=0):(this.Xa=u.Ce,
this.t.z=0)):this.Xa=u.Ce;0==this.Xj&&(this.nb=0);b.Kg?(this.t.x*=b.Kc,this.t.y*=b.Kc,this.nb*=b.Kc,b=this.t.x*this.Da.x+(this.nb+this.t.z)*this.ea.x,g=this.t.x*this.Da.y+(this.nb+this.t.z)*this.ea.y,h=this.t.x*this.Kb+this.t.y+(this.nb+this.t.z)*this.Db,k=this.t.x*this.Lb+this.t.y+(this.nb+this.t.z)*this.Eb,c.p.x-=this.Cc*b,c.p.y-=this.Cc*g,c.G-=this.qe*h,f.p.x+=this.Dc*b,f.p.y+=this.Dc*g,f.G+=this.re*k):(this.t.Ka(),this.nb=0)};V.prototype.jf=function(a){var b=this.Ia,c=this.Oa,h=b.p,k=b.G,n=c.p,
p=c.G,q=0,E=0,t=0,A=0;this.Xj&&this.Xa!=u.Dj&&(A=this.Ke*(this.iq-(this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Eb*p-this.Db*k)),q=this.nb,a=a.Ta*this.Yv,this.nb=d.Fb(this.nb+A,-a,a),A=this.nb-q,q=A*this.ea.x,E=A*this.ea.y,t=A*this.Db,A*=this.Eb,h.x-=this.Cc*q,h.y-=this.Cc*E,k-=this.qe*t,n.x+=this.Dc*q,n.y+=this.Dc*E,p+=this.re*A);t=this.Da.x*(n.x-h.x)+this.Da.y*(n.y-h.y)+this.Lb*p-this.Kb*k;E=p-k;this.dh&&this.Xa!=u.Ce?(a=this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Eb*p-this.Db*k,q=this.t.Gb(),
a=this.wa.wo(new g,-t,-E,-a),this.t.Lg(a),this.Xa==u.Hh?this.t.z=d.he(this.t.z,0):this.Xa==u.Od&&(this.t.z=d.zk(this.t.z,0)),t=-t-(this.t.z-q.z)*this.wa.Ga.x,E=-E-(this.t.z-q.z)*this.wa.Ga.y,E=this.wa.$l(new f,t,E),E.x+=q.x,E.y+=q.y,this.t.x=E.x,this.t.y=E.y,a.x=this.t.x-q.x,a.y=this.t.y-q.y,a.z=this.t.z-q.z,q=a.x*this.Da.x+a.z*this.ea.x,E=a.x*this.Da.y+a.z*this.ea.y,t=a.x*this.Kb+a.y+a.z*this.Db,A=a.x*this.Lb+a.y+a.z*this.Eb):(a=this.wa.$l(new f,-t,-E),this.t.x+=a.x,this.t.y+=a.y,q=a.x*this.Da.x,
E=a.x*this.Da.y,t=a.x*this.Kb+a.y,A=a.x*this.Lb+a.y);h.x-=this.Cc*q;h.y-=this.Cc*E;k-=this.qe*t;n.x+=this.Dc*q;n.y+=this.Dc*E;p+=this.re*A;b.p.L(h);b.G=k;c.p.L(n);c.G=p};V.prototype.hf=function(){var c=this.Ia,h=this.Oa,k=c.h.o,n=c.h.Q,p=h.h.o,q=h.h.Q,I,u=0,E=0,t=0,A=0,y=0,E=!1,C=0,F=b.ar(n),M=b.ar(q);I=F;var y=this.qa.x-this.Vh.x,O=this.qa.y-this.Vh.y,u=I.j.x*y+I.k.x*O,O=I.j.y*y+I.k.y*O,y=u;I=M;M=this.ya.x-this.Wh.x;t=this.ya.y-this.Wh.y;u=I.j.x*M+I.k.x*t;t=I.j.y*M+I.k.y*t;M=u;I=p.x+M-k.x-y;u=p.y+
t-k.y-O;if(this.dh){this.ea=d.Fd(F,this.Ze);this.Db=(I+y)*this.ea.y-(u+O)*this.ea.x;this.Eb=M*this.ea.y-t*this.ea.x;var T=this.ea.x*I+this.ea.y*u;d.ld(this.af-this.$e)<2*a.Bb?(C=d.Fb(T,-a.nf,a.nf),A=d.ld(T),E=!0):T<=this.$e?(C=d.Fb(T-this.$e+a.Bb,-a.nf,0),A=this.$e-T,E=!0):T>=this.af&&(C=d.Fb(T-this.af+a.Bb,0,a.nf),A=T-this.af,E=!0)}this.Da=d.Fd(F,this.Vi);this.Kb=(I+y)*this.Da.y-(u+O)*this.Da.x;this.Lb=M*this.Da.y-t*this.Da.x;F=new g;O=this.Da.x*I+this.Da.y*u;M=q-n-this.VD;A=d.he(A,d.ld(O));y=d.ld(M);
E?(E=this.Cc,t=this.Dc,I=this.qe,u=this.re,this.wa.j.x=E+t+I*this.Kb*this.Kb+u*this.Lb*this.Lb,this.wa.j.y=I*this.Kb+u*this.Lb,this.wa.j.z=I*this.Kb*this.Db+u*this.Lb*this.Eb,this.wa.k.x=this.wa.j.y,this.wa.k.y=I+u,this.wa.k.z=I*this.Db+u*this.Eb,this.wa.Ga.x=this.wa.j.z,this.wa.Ga.y=this.wa.k.z,this.wa.Ga.z=E+t+I*this.Db*this.Db+u*this.Eb*this.Eb,this.wa.wo(F,-O,-M,-C)):(E=this.Cc,t=this.Dc,I=this.qe,u=this.re,C=I*this.Kb+u*this.Lb,T=I+u,this.wa.j.P(E+t+I*this.Kb*this.Kb+u*this.Lb*this.Lb,C,0),this.wa.k.P(C,
T,0),C=this.wa.$l(new f,-O,-M),F.x=C.x,F.y=C.y,F.z=0);C=F.x*this.Da.x+F.z*this.ea.x;E=F.x*this.Da.y+F.z*this.ea.y;O=F.x*this.Kb+F.y+F.z*this.Db;F=F.x*this.Lb+F.y+F.z*this.Eb;k.x-=this.Cc*C;k.y-=this.Cc*E;n-=this.qe*O;p.x+=this.Dc*C;p.y+=this.Dc*E;q+=this.re*F;c.h.Q=n;h.h.Q=q;c.zc();h.zc();return A<=a.Bb&&y<=a.Jk};m.Jb(la,m.l.J.xa);la.prototype.oa=m.l.J.xa.prototype;la.$o=function(){m.l.J.xa.xa.apply(this,arguments);this.Zc=new f;this.$c=new f;this.ol=new f};la.prototype.$o=function(){this.oa.xa.call(this);
this.type=u.az;this.ol.P(1,0);this.hk=0;this.Sm=!1;this.Yw=this.Nv=0;this.Cp=!1;this.mq=this.bw=0};la.prototype.nd=function(a,b,c,d){this.kb=a;this.vb=b;this.Zc=this.kb.ff(c);this.$c=this.vb.ff(c);this.ol=this.kb.Nt(d);this.hk=this.vb.ga()-this.kb.ga()};m.Jb(W,m.l.J.ja);W.prototype.oa=m.l.J.ja.prototype;W.mm=function(){m.l.J.ja.ja.apply(this,arguments);this.Si=new f;this.Ti=new f;this.qa=new f;this.ya=new f;this.Tb=new f;this.Ub=new f};W.prototype.Dd=function(){return this.Ia.gg(this.qa)};W.prototype.mm=
function(a){this.oa.ja.call(this,a);this.ug=this.Ia.xd.OD;this.Si.x=a.rs.x-this.ug.g.position.x;this.Si.y=a.rs.y-this.ug.g.position.y;this.Ti.x=a.ss.x-this.ug.g.position.x;this.Ti.y=a.ss.y-this.ug.g.position.y;this.qa.L(a.Zc);this.ya.L(a.$c);this.Ec=a.El;this.jn=a.Jv+this.Ec*a.Kv;this.hA=d.zk(a.jA,this.jn-this.Ec*W.Kr);this.iA=d.zk(a.kA,(this.jn-W.Kr)/this.Ec);this.Uh=this.Th=this.t=0};W.prototype.Hf=function(b){var c=this.Ia,d=this.Oa,f;f=c.g.w;var g=this.qa.x-c.h.W.x,h=this.qa.y-c.h.W.y,k=f.j.x*
g+f.k.x*h,h=f.j.y*g+f.k.y*h,g=k;f=d.g.w;var n=this.ya.x-d.h.W.x,p=this.ya.y-d.h.W.y,k=f.j.x*n+f.k.x*p,p=f.j.y*n+f.k.y*p,n=k;f=d.h.o.x+n;var k=d.h.o.y+p,q=this.ug.g.position.x+this.Ti.x,t=this.ug.g.position.y+this.Ti.y;this.Tb.P(c.h.o.x+g-(this.ug.g.position.x+this.Si.x),c.h.o.y+h-(this.ug.g.position.y+this.Si.y));this.Ub.P(f-q,k-t);f=this.Tb.hg();k=this.Ub.hg();f>a.Bb?this.Tb.aa(1/f):this.Tb.Ka();k>a.Bb?this.Ub.aa(1/k):this.Ub.Ka();0<this.jn-f-this.Ec*k?(this.$v=u.Ce,this.t=0):this.$v=u.Od;f<this.hA?
(this.Uv=u.Ce,this.Th=0):this.Uv=u.Od;k<this.iA?(this.Vv=u.Ce,this.Uh=0):this.Vv=u.Od;f=g*this.Tb.y-h*this.Tb.x;k=n*this.Ub.y-p*this.Ub.x;this.fq=c.R+c.fa*f*f;this.gq=d.R+d.fa*k*k;this.Hs=this.fq+this.Ec*this.Ec*this.gq;this.fq=1/this.fq;this.gq=1/this.gq;this.Hs=1/this.Hs;b.Kg?(this.t*=b.Kc,this.Th*=b.Kc,this.Uh*=b.Kc,b=(-this.t-this.Th)*this.Tb.x,f=(-this.t-this.Th)*this.Tb.y,k=(-this.Ec*this.t-this.Uh)*this.Ub.x,q=(-this.Ec*this.t-this.Uh)*this.Ub.y,c.p.x+=c.R*b,c.p.y+=c.R*f,c.G+=c.fa*(g*f-h*b),
d.p.x+=d.R*k,d.p.y+=d.R*q,d.G+=d.fa*(n*q-p*k)):this.Uh=this.Th=this.t=0};W.prototype.jf=function(){var a=this.Ia,b=this.Oa,c;c=a.g.w;var f=this.qa.x-a.h.W.x,g=this.qa.y-a.h.W.y,h=c.j.x*f+c.k.x*g,g=c.j.y*f+c.k.y*g,f=h;c=b.g.w;var k=this.ya.x-b.h.W.x,n=this.ya.y-b.h.W.y,h=c.j.x*k+c.k.x*n,n=c.j.y*k+c.k.y*n,k=h,p=0,q=0;this.$v==u.Od&&(c=a.p.x+-a.G*g,h=a.p.y+a.G*f,p=b.p.x+-b.G*n,q=b.p.y+b.G*k,c=-(this.Tb.x*c+this.Tb.y*h)-this.Ec*(this.Ub.x*p+this.Ub.y*q),q=this.Hs*-c,c=this.t,this.t=d.he(0,this.t+q),q=
this.t-c,c=-q*this.Tb.x,h=-q*this.Tb.y,p=-this.Ec*q*this.Ub.x,q=-this.Ec*q*this.Ub.y,a.p.x+=a.R*c,a.p.y+=a.R*h,a.G+=a.fa*(f*h-g*c),b.p.x+=b.R*p,b.p.y+=b.R*q,b.G+=b.fa*(k*q-n*p));this.Uv==u.Od&&(c=a.p.x+-a.G*g,h=a.p.y+a.G*f,c=-(this.Tb.x*c+this.Tb.y*h),q=-this.fq*c,c=this.Th,this.Th=d.he(0,this.Th+q),q=this.Th-c,c=-q*this.Tb.x,h=-q*this.Tb.y,a.p.x+=a.R*c,a.p.y+=a.R*h,a.G+=a.fa*(f*h-g*c));this.Vv==u.Od&&(p=b.p.x+-b.G*n,q=b.p.y+b.G*k,c=-(this.Ub.x*p+this.Ub.y*q),q=-this.gq*c,c=this.Uh,this.Uh=d.he(0,
this.Uh+q),q=this.Uh-c,p=-q*this.Ub.x,q=-q*this.Ub.y,b.p.x+=b.R*p,b.p.y+=b.R*q,b.G+=b.fa*(k*q-n*p))};W.prototype.hf=function(){var b=this.Ia,c=this.Oa,f,g=this.ug.g.position.x+this.Si.x,h=this.ug.g.position.y+this.Si.y,k=this.ug.g.position.x+this.Ti.x,n=this.ug.g.position.y+this.Ti.y,p=0,q=0,t=0,A=0,y=0,C=0,F=0,M=0;this.$v==u.Od&&(f=b.g.w,p=this.qa.x-b.h.W.x,q=this.qa.y-b.h.W.y,y=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=y,f=c.g.w,t=this.ya.x-c.h.W.x,A=this.ya.y-c.h.W.y,y=f.j.x*t+f.k.x*A,A=f.j.y*t+f.k.y*
A,t=y,f=b.h.o.x+p,y=b.h.o.y+q,C=c.h.o.x+t,F=c.h.o.y+A,this.Tb.P(f-g,y-h),this.Ub.P(C-k,F-n),f=this.Tb.hg(),y=this.Ub.hg(),f>a.Bb?this.Tb.aa(1/f):this.Tb.Ka(),y>a.Bb?this.Ub.aa(1/y):this.Ub.Ka(),f=this.jn-f-this.Ec*y,M=d.he(M,-f),f=d.Fb(f+a.Bb,-a.nf,0),F=-this.Hs*f,f=-F*this.Tb.x,y=-F*this.Tb.y,C=-this.Ec*F*this.Ub.x,F=-this.Ec*F*this.Ub.y,b.h.o.x+=b.R*f,b.h.o.y+=b.R*y,b.h.Q+=b.fa*(p*y-q*f),c.h.o.x+=c.R*C,c.h.o.y+=c.R*F,c.h.Q+=c.fa*(t*F-A*C),b.zc(),c.zc());this.Uv==u.Od&&(f=b.g.w,p=this.qa.x-b.h.W.x,
q=this.qa.y-b.h.W.y,y=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=y,f=b.h.o.x+p,y=b.h.o.y+q,this.Tb.P(f-g,y-h),f=this.Tb.hg(),f>a.Bb?(this.Tb.x*=1/f,this.Tb.y*=1/f):this.Tb.Ka(),f=this.hA-f,M=d.he(M,-f),f=d.Fb(f+a.Bb,-a.nf,0),F=-this.fq*f,f=-F*this.Tb.x,y=-F*this.Tb.y,b.h.o.x+=b.R*f,b.h.o.y+=b.R*y,b.h.Q+=b.fa*(p*y-q*f),b.zc());this.Vv==u.Od&&(f=c.g.w,t=this.ya.x-c.h.W.x,A=this.ya.y-c.h.W.y,y=f.j.x*t+f.k.x*A,A=f.j.y*t+f.k.y*A,t=y,C=c.h.o.x+t,F=c.h.o.y+A,this.Ub.P(C-k,F-n),y=this.Ub.hg(),y>a.Bb?(this.Ub.x*=
1/y,this.Ub.y*=1/y):this.Ub.Ka(),f=this.iA-y,M=d.he(M,-f),f=d.Fb(f+a.Bb,-a.nf,0),F=-this.gq*f,C=-F*this.Ub.x,F=-F*this.Ub.y,c.h.o.x+=c.R*C,c.h.o.y+=c.R*F,c.h.Q+=c.fa*(t*F-A*C),c.zc());return M<a.Bb};m.Fc.push(function(){m.l.J.mm.Kr=2});m.Jb(F,m.l.J.xa);F.prototype.oa=m.l.J.xa.prototype;F.ap=function(){m.l.J.xa.xa.apply(this,arguments);this.rs=new f;this.ss=new f;this.Zc=new f;this.$c=new f};F.prototype.ap=function(){this.oa.xa.call(this);this.type=u.bz;this.rs.P(-1,1);this.ss.P(1,1);this.Zc.P(-1,
0);this.$c.P(1,0);this.kA=this.Kv=this.jA=this.Jv=0;this.El=1;this.Ur=!0};F.prototype.nd=function(a,b,c,d,f,g,h){void 0===h&&(h=0);this.kb=a;this.vb=b;this.rs.L(c);this.ss.L(d);this.Zc=this.kb.ff(f);this.$c=this.vb.ff(g);a=f.x-c.x;c=f.y-c.y;this.Jv=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.Kv=Math.sqrt(c*c+d*d);this.El=h;h=this.Jv+this.El*this.Kv;this.jA=h-this.El*W.Kr;this.kA=(h-W.Kr)/this.El};m.Jb(Z,m.l.J.ja);Z.prototype.oa=m.l.J.ja.prototype;Z.nm=function(){m.l.J.ja.ja.apply(this,arguments);
this.Ed=new b;this.Ng=new b;this.Og=new b;this.ro=new b;this.rd=new g;this.Yg=new f;this.ii=new f;this.qa=new f;this.ya=new f;this.t=new g;this.Y=new c};Z.prototype.Dd=function(){return this.Ia.gg(this.qa)};Z.prototype.ge=function(){return this.Oa.h.Q-this.Ia.h.Q-this.lq};Z.prototype.yh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.hq=a;this.Js=b};Z.prototype.nm=function(a){this.oa.ja.call(this,a);this.qa.L(a.Zc);this.ya.L(a.$c);this.lq=a.hk;this.t.Ka();this.nb=0;this.hq=a.Wz;this.Js=a.sB;
this.TD=a.bE;this.iq=a.mq;this.dh=a.Sm;this.Xj=a.Cp;this.Xa=u.Ce};Z.prototype.Hf=function(b){var c=this.Ia,f=this.Oa,g,h=0;g=c.g.w;var k=this.qa.x-c.h.W.x,n=this.qa.y-c.h.W.y,h=g.j.x*k+g.k.x*n,n=g.j.y*k+g.k.y*n,k=h;g=f.g.w;var p=this.ya.x-f.h.W.x,q=this.ya.y-f.h.W.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=c.R;var h=f.R,t=c.fa,y=f.fa;this.Y.j.x=g+h+n*n*t+q*q*y;this.Y.k.x=-n*k*t-q*p*y;this.Y.Ga.x=-n*t-q*y;this.Y.j.y=this.Y.k.x;this.Y.k.y=g+h+k*k*t+p*p*y;this.Y.Ga.y=k*t+p*y;this.Y.j.z=this.Y.Ga.x;
this.Y.k.z=this.Y.Ga.y;this.Y.Ga.z=t+y;this.Ke=1/(t+y);0==this.Xj&&(this.nb=0);if(this.dh){var A=f.h.Q-c.h.Q-this.lq;d.ld(this.Js-this.hq)<2*a.Jk?this.Xa=u.Dj:A<=this.hq?(this.Xa!=u.Hh&&(this.t.z=0),this.Xa=u.Hh):A>=this.Js?(this.Xa!=u.Od&&(this.t.z=0),this.Xa=u.Od):(this.Xa=u.Ce,this.t.z=0)}else this.Xa=u.Ce;b.Kg?(this.t.x*=b.Kc,this.t.y*=b.Kc,this.nb*=b.Kc,b=this.t.x,A=this.t.y,c.p.x-=g*b,c.p.y-=g*A,c.G-=t*(k*A-n*b+this.nb+this.t.z),f.p.x+=h*b,f.p.y+=h*A,f.G+=y*(p*A-q*b+this.nb+this.t.z)):(this.t.Ka(),
this.nb=0)};Z.prototype.jf=function(a){var b=this.Ia,c=this.Oa,f=0,g=0,h=0,k=0,n=0,p=b.p,q=b.G,t=c.p,y=c.G,A=b.R,F=c.R,C=b.fa,M=c.fa;this.Xj&&this.Xa!=u.Dj&&(g=this.Ke*-(y-q-this.iq),h=this.nb,k=a.Ta*this.TD,this.nb=d.Fb(this.nb+g,-k,k),g=this.nb-h,q-=C*g,y+=M*g);if(this.dh&&this.Xa!=u.Ce){a=b.g.w;g=this.qa.x-b.h.W.x;h=this.qa.y-b.h.W.y;f=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=f;a=c.g.w;k=this.ya.x-c.h.W.x;n=this.ya.y-c.h.W.y;f=a.j.x*k+a.k.x*n;n=a.j.y*k+a.k.y*n;k=f;a=t.x+-y*n-p.x- -q*h;var O=t.y+y*k-
p.y-q*g;this.Y.wo(this.rd,-a,-O,-(y-q));this.Xa==u.Dj?this.t.Lg(this.rd):this.Xa==u.Hh?(f=this.t.z+this.rd.z,0>f&&(this.Y.$l(this.ii,-a,-O),this.rd.x=this.ii.x,this.rd.y=this.ii.y,this.rd.z=-this.t.z,this.t.x+=this.ii.x,this.t.y+=this.ii.y,this.t.z=0)):this.Xa==u.Od&&(f=this.t.z+this.rd.z,0<f&&(this.Y.$l(this.ii,-a,-O),this.rd.x=this.ii.x,this.rd.y=this.ii.y,this.rd.z=-this.t.z,this.t.x+=this.ii.x,this.t.y+=this.ii.y,this.t.z=0));p.x-=A*this.rd.x;p.y-=A*this.rd.y;q-=C*(g*this.rd.y-h*this.rd.x+this.rd.z);
t.x+=F*this.rd.x;t.y+=F*this.rd.y;y+=M*(k*this.rd.y-n*this.rd.x+this.rd.z)}else a=b.g.w,g=this.qa.x-b.h.W.x,h=this.qa.y-b.h.W.y,f=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=f,a=c.g.w,k=this.ya.x-c.h.W.x,n=this.ya.y-c.h.W.y,f=a.j.x*k+a.k.x*n,n=a.j.y*k+a.k.y*n,k=f,this.Y.$l(this.Yg,-(t.x+-y*n-p.x- -q*h),-(t.y+y*k-p.y-q*g)),this.t.x+=this.Yg.x,this.t.y+=this.Yg.y,p.x-=A*this.Yg.x,p.y-=A*this.Yg.y,q-=C*(g*this.Yg.y-h*this.Yg.x),t.x+=F*this.Yg.x,t.y+=F*this.Yg.y,y+=M*(k*this.Yg.y-n*this.Yg.x);b.p.L(p);b.G=q;
c.p.L(t);c.G=y};Z.prototype.hf=function(){var b=0,c,f=this.Ia,g=this.Oa,h=0,k=0,n=0,p=0;if(this.dh&&this.Xa!=u.Ce){var b=g.h.Q-f.h.Q-this.lq,q=0;this.Xa==u.Dj?(b=d.Fb(b-this.hq,-a.Jr,a.Jr),q=-this.Ke*b,h=d.ld(b)):this.Xa==u.Hh?(b-=this.hq,h=-b,b=d.Fb(b+a.Jk,-a.Jr,0),q=-this.Ke*b):this.Xa==u.Od&&(h=b-=this.Js,b=d.Fb(b-a.Jk,0,a.Jr),q=-this.Ke*b);f.h.Q-=f.fa*q;g.h.Q+=g.fa*q;f.zc();g.zc()}c=f.g.w;q=this.qa.x-f.h.W.x;b=this.qa.y-f.h.W.y;k=c.j.x*q+c.k.x*b;b=c.j.y*q+c.k.y*b;q=k;c=g.g.w;var t=this.ya.x-g.h.W.x,
y=this.ya.y-g.h.W.y,k=c.j.x*t+c.k.x*y,y=c.j.y*t+c.k.y*y,t=k,n=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+y-f.h.o.y-b,A=n*n+p*p;c=Math.sqrt(A);var k=f.R,F=g.R,C=f.fa,M=g.fa,O=10*a.Bb;A>O*O&&(A=1/(k+F),n=A*-n,p=A*-p,f.h.o.x-=.5*k*n,f.h.o.y-=.5*k*p,g.h.o.x+=.5*F*n,g.h.o.y+=.5*F*p,n=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+y-f.h.o.y-b);this.Ng.j.x=k+F;this.Ng.k.x=0;this.Ng.j.y=0;this.Ng.k.y=k+F;this.Og.j.x=C*b*b;this.Og.k.x=-C*q*b;this.Og.j.y=-C*q*b;this.Og.k.y=C*q*q;this.ro.j.x=M*y*y;this.ro.k.x=-M*t*y;this.ro.j.y=-M*t*y;this.ro.k.y=
M*t*t;this.Ed.Bk(this.Ng);this.Ed.Vq(this.Og);this.Ed.Vq(this.ro);this.Ed.Ck(Z.Pw,-n,-p);n=Z.Pw.x;p=Z.Pw.y;f.h.o.x-=f.R*n;f.h.o.y-=f.R*p;f.h.Q-=f.fa*(q*p-b*n);g.h.o.x+=g.R*n;g.h.o.y+=g.R*p;g.h.Q+=g.fa*(t*p-y*n);f.zc();g.zc();return c<=a.Bb&&h<=a.Jk};m.Fc.push(function(){m.l.J.nm.Pw=new f});m.Jb(Ia,m.l.J.xa);Ia.prototype.oa=m.l.J.xa.prototype;Ia.om=function(){m.l.J.xa.xa.apply(this,arguments);this.Zc=new f;this.$c=new f};Ia.prototype.om=function(){this.oa.xa.call(this);this.type=u.cs;this.Zc.P(0,0);
this.$c.P(0,0);this.mq=this.bE=this.sB=this.Wz=this.hk=0;this.Cp=this.Sm=!1};Ia.prototype.nd=function(a,b,c){this.kb=a;this.vb=b;this.Zc=this.kb.ff(c);this.$c=this.vb.ff(c);this.hk=this.vb.ga()-this.kb.ga()};m.Jb(ta,m.l.J.ja);ta.prototype.oa=m.l.J.ja.prototype;ta.ep=function(){m.l.J.ja.ja.apply(this,arguments);this.Ye=new f;this.Wf=new f;this.t=new g;this.Y=new c};ta.prototype.Dd=function(){return this.Ia.gg(this.Ye)};ta.prototype.ep=function(a){this.oa.ja.call(this,a);this.Ye.L(a.Zc);this.Wf.L(a.$c);
this.lq=a.hk;this.t.Ka();this.Y=new c};ta.prototype.Hf=function(a){var b,c=0,d=this.Ia,f=this.Oa;b=d.g.w;var g=this.Ye.x-d.h.W.x,h=this.Ye.y-d.h.W.y,c=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=c;b=f.g.w;var k=this.Wf.x-f.h.W.x,n=this.Wf.y-f.h.W.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=d.R;var c=f.R,p=d.fa,q=f.fa;this.Y.j.x=b+c+h*h*p+n*n*q;this.Y.k.x=-h*g*p-n*k*q;this.Y.Ga.x=-h*p-n*q;this.Y.j.y=this.Y.k.x;this.Y.k.y=b+c+g*g*p+k*k*q;this.Y.Ga.y=g*p+k*q;this.Y.j.z=this.Y.Ga.x;this.Y.k.z=this.Y.Ga.y;this.Y.Ga.z=
p+q;a.Kg?(this.t.x*=a.Kc,this.t.y*=a.Kc,this.t.z*=a.Kc,d.p.x-=b*this.t.x,d.p.y-=b*this.t.y,d.G-=p*(g*this.t.y-h*this.t.x+this.t.z),f.p.x+=c*this.t.x,f.p.y+=c*this.t.y,f.G+=q*(k*this.t.y-n*this.t.x+this.t.z)):this.t.Ka()};ta.prototype.jf=function(){var a,b=0,c=this.Ia,d=this.Oa,f=c.p,h=c.G,k=d.p,n=d.G,p=c.R,q=d.R,u=c.fa,t=d.fa;a=c.g.w;var y=this.Ye.x-c.h.W.x,A=this.Ye.y-c.h.W.y,b=a.j.x*y+a.k.x*A,A=a.j.y*y+a.k.y*A,y=b;a=d.g.w;var F=this.Wf.x-d.h.W.x,C=this.Wf.y-d.h.W.y,b=a.j.x*F+a.k.x*C,C=a.j.y*F+a.k.y*
C,F=b;a=k.x-n*C-f.x+h*A;var b=k.y+n*F-f.y-h*y,M=n-h,O=new g;this.Y.wo(O,-a,-b,-M);this.t.Lg(O);f.x-=p*O.x;f.y-=p*O.y;h-=u*(y*O.y-A*O.x+O.z);k.x+=q*O.x;k.y+=q*O.y;n+=t*(F*O.y-C*O.x+O.z);c.G=h;d.G=n};ta.prototype.hf=function(){var b,c=0,f=this.Ia,h=this.Oa;b=f.g.w;var k=this.Ye.x-f.h.W.x,n=this.Ye.y-f.h.W.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=h.g.w;var p=this.Wf.x-h.h.W.x,q=this.Wf.y-h.h.W.y,c=b.j.x*p+b.k.x*q,q=b.j.y*p+b.k.y*q,p=c;b=f.R;var c=h.R,u=f.fa,t=h.fa,y=h.h.o.x+p-f.h.o.x-k,A=h.h.o.y+
q-f.h.o.y-n,F=h.h.Q-f.h.Q-this.lq,C=10*a.Bb,M=Math.sqrt(y*y+A*A),O=d.ld(F);M>C&&(u*=1,t*=1);this.Y.j.x=b+c+n*n*u+q*q*t;this.Y.k.x=-n*k*u-q*p*t;this.Y.Ga.x=-n*u-q*t;this.Y.j.y=this.Y.k.x;this.Y.k.y=b+c+k*k*u+p*p*t;this.Y.Ga.y=k*u+p*t;this.Y.j.z=this.Y.Ga.x;this.Y.k.z=this.Y.Ga.y;this.Y.Ga.z=u+t;C=new g;this.Y.wo(C,-y,-A,-F);f.h.o.x-=b*C.x;f.h.o.y-=b*C.y;f.h.Q-=u*(k*C.y-n*C.x+C.z);h.h.o.x+=c*C.x;h.h.o.y+=c*C.y;h.h.Q+=t*(p*C.y-q*C.x+C.z);f.zc();h.zc();return M<=a.Bb&&O<=a.Jk};m.Jb(Ja,m.l.J.xa);Ja.prototype.oa=
m.l.J.xa.prototype;Ja.fp=function(){m.l.J.xa.xa.apply(this,arguments);this.Zc=new f;this.$c=new f};Ja.prototype.fp=function(){this.oa.xa.call(this);this.type=u.cz;this.hk=0};Ja.prototype.nd=function(a,b,c){this.kb=a;this.vb=b;this.Zc.L(this.kb.ff(c));this.$c.L(this.vb.ff(c));this.hk=this.vb.ga()-this.kb.ga()}})();(function(){var a=m.l.Pe;a.Pe=function(){};a.prototype.Pe=function(){}})();var r;for(r=0;r<m.Fc.length;++r)m.Fc[r]();delete m.Fc;var ca={autoplay:!1,duration:5E3,ms:[],loop:!1,placeholder:"--",Ss:"metadata",volume:80},ea={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},ga=[],ha=document.createElement("audio");
function ia(a,b){function c(a,b){var c=document.createElement("source");c.src=b;ea[b.split(".").pop()]&&(c.type=ea[b.split(".").pop()]);a.appendChild(c)}b=b||{};var d=[],f=!!ha.canPlayType;this.load=function(){if(!f)return this;this.Bd.load();return this};this.play=function(){if(!f)return this;this.Bd.play();return this};this.pause=function(){if(!f)return this;this.Bd.pause();return this};this.yD=function(){return f?this.Bd.paused:null};this.stop=function(){if(!f)return this;this.setTime(0);this.Bd.pause();
return this};this.loop=function(){if(!f)return this;this.Bd.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()});return this};this.Zi=function(){if(!f)return this;this.Bd.muted=!0;return this};this.Cg=function(a){f&&(0>a&&(a=0),100<a&&(a=100),this.volume=a,this.Bd.volume=a/100)};this.setTime=function(a){if(!f)return this;this.zB(function(){this.Bd.currentTime=a});return this};this.getTime=function(){if(!f)return null;var a=Math.round(100*this.Bd.currentTime)/100;return isNaN(a)?
ca.placeholder:a};this.set=function(a,b){if(!f)return this;this.Bd[a]=b;return this};this.get=function(a){return f?a?this.Bd[a]:this.Bd:null};this.bind=function(a,b){function c(a){b.call(g,a)}if(!f)return this;a=a.split(" ");for(var g=this,h=0;h<a.length;h++){var k=a[h],y=k,k=y.split(".")[0];d.push({OG:y,NG:c});this.Bd.addEventListener(k,c,!0)}return this};this.dD=function(a,b){function c(){setTimeout(function(){0>d&&0>h.volume?(h.Cg(h.volume+=1),c()):0<d&&0<h.volume?(h.Cg(--h.volume),c()):b instanceof
Function&&b.apply(h)},g)}if(f){a instanceof Function?(b=a,a=ca.duration):a=a||ca.duration;var d=this.volume,g=a/Math.abs(d-0),h=this;this.play();this.zB(function(){c()})}};this.hz=function(a,b){f&&this.dD(a,b)};this.zB=function(a){if(f){var b=this;0===this.Bd.readyState?this.bind("canplay.buzzwhenready",function(){a.call(b)}):a.call(b)}};if(f&&a){for(var g in ca)ca.hasOwnProperty(g)&&(b[g]=b[g]||ca[g]);this.Bd=document.createElement("audio");if(a instanceof Array)for(var h in a)a.hasOwnProperty(h)&&
c(this.Bd,a[h]);else if(b.ms.length)for(var k in b.ms)b.ms.hasOwnProperty(k)&&c(this.Bd,a+"."+b.ms[k]);else c(this.Bd,a);b.loop&&this.loop();b.autoplay&&(this.Bd.autoplay="autoplay");this.Bd.Ss=!0===b.Ss?"auto":!1===b.Ss?"none":b.Ss;this.Cg(b.volume);ga.push(this)}};var ja={Menu:"complex",Interlude:"complex","Hive 1":"kickit","Hive 2":"breakthru","Hive 3":"emergence","Hive 4":"fire",Tessellation:"driven","Final Tessellation":"wicked"},ka={driven:27.46,wicked:2.922},ma={impulse:"effects/impulse",pdeath:"effects/pdeath",ffrenzy:"effects/ffrenzy",sparks:"effects/sparks",ult:"effects/ult",pwheel:"effects/pwheel",goo:"effects/goo",sshot:"effects/sshot",deathray:"effects/deathray",b1hit:"effects/b1hit",b1shrink:"effects/b1shrink",b1grow:"effects/b1grow",b2bhole:"effects/b2bhole",
b3strike:"effects/b3strike",b3select:"effects/b3select",b4spawner:"effects/b4spawner",b4attacker:"effects/b4attacker",b4darkness:"effects/b4darkness",dark_diag:"effects/dark_diag",dark_anger:"effects/dark_anger"},na={b3tick:{file:"effects/b3tick",Yi:2},sdeath:{file:"effects/sdeath",Yi:4},tdeath:{file:"effects/tdeath",Yi:4},hfire:{file:"effects/hfire",Yi:2},hhit:{file:"effects/hhit",Yi:2},fbullet:{file:"effects/fbullet",Yi:4},fbullethit:{file:"effects/fbullethit",Yi:4},b2eat:{file:"effects/b2eat",
Yi:4},b4spawneract:{file:"effects/b4spawneract",Yi:2}},oa={"Hive 0":"bg/hive0","Title Alt1":"bg/titlebg_alt1","Title Alt2":"bg/titlebg_alt2","Title Alt3":"bg/titlebg_alt3","Title Alt4":"bg/titlebg_alt4","Hive 1":"bg/hive1","Hive 2":"bg/hive2","Hive 3":"bg/hive3","Hive 4":"bg/hive4"},qa={1:"IGNAVIAM",2:"CONSUMENDI",3:"NEGLIGENTIA",4:"ADROGANTIA"},ra={1:"HIVE OF HIDING",2:"HIVE OF EATING",3:"HIVE OF LAUGHING",4:"HIVE OF PURGING"},sa=[{Vp:4,Uc:500},{Vp:5,Uc:1E3},{Vp:6,Uc:2E3},{Vp:7,Uc:5E3},{Vp:8,Uc:7E3},
{Vp:9,Uc:1E4}],ua=[{tt:1,Uc:50},{tt:2,Uc:3E3},{tt:3,Uc:8E3}],va=[{li:11,Uc:200},{li:12,Uc:750},{li:13,Uc:1500},{li:14,Uc:4E3},{li:15,Uc:6E3},{li:16,Uc:9E3}],wa={},xa,ya,za;for(za in na)ma[za]=na[za].file;
var z={bronze:"#cc8032",silver:"#c0c0c0",impulse_target_blue:"rgba(0, 128, 255, 0.2)",impulse_blue:"rgb(0, 128, 255)",impulse_blue_dark:"#13527e",rose:"#ff66cc",gold:"#edb900","world 0":"#333","world 0 lite":"#999","world 0 bright":"#fff","world 0 dark":"#080808","world 1":"#034903","world 1 lite":"#046a04","world 1 bright":"#00ff00","world 1 dark":"#000d00","world 2":"#0020b0","world 2 lite":"#0028dd","world 2 bright":"#003DFF","world 2 dark":"#010310","world 3":"#450555","world 3 lite":"#5f0775",
"world 3 dark":"#0f0013","world 3 bright":"#C000FF","world 4":"#600","world 4 lite":"#a00","world 4 dark":"#180000","world 4 bright":"#f00",player_color:"rgb(32, 140, 231)",boss:"red","boss dark":"#900","boss 1":"#05c205","boss 2":"#002eff","boss 3":"#C000FF","boss 4":"#f00"};
function Aa(){var a=D.Cb+" "+D.qc;"left mouse"==a?wa={hr:37,mr:38,kr:39,Yq:40,oj:13,Lt:71,Ak:27,br:16,Qt:77,Ht:70,tx:39,Px:37,jr:16,Kx:39,sx:37,Lx:39,px:40,Ix:13}:"right mouse"==a?wa={hr:65,mr:87,kr:68,Yq:83,oj:81,Lt:71,Ak:27,br:32,Qt:77,Ht:70,tx:69,jr:82,Px:83,Kx:81,sx:69,Lx:82,px:68,Ix:32}:"right keyboard"==a&&(wa={hr:37,mr:38,kr:39,Yq:40,oj:81,Lt:71,Ak:27,Cx:65,Ex:87,Dx:68,Bx:83,br:32,Qt:77,Ht:70,tx:69,jr:82,Px:83,Kx:81,sx:69,Lx:82,px:68,Ix:32,mG:69})};function Ba(a,b,c,d,f,g,h){a.beginPath();a.arc(b*G,c*G,d*G*2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI*f,!0);a.lineWidth=h?h:2;a.strokeStyle=g;a.stroke()}function Ca(a,b,c,d,f){a.moveTo(b*G,c*G-d*G*2);a.arc(b*G,c*G,d*G*2,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*f,!0)}
function Da(a,b,c,d,f,g){void 0===g&&(g=1);a.save();for(var h=a.shadowBlur=0;h<c.length;h++)if(!1!==c[h].visible){var k=c[h],n=c[h].ca,q=c[h].color?c[h].color:f;a.beginPath();if("polygon"==k.type){a.moveTo(g*(k.x+k.X*n[0][0])*G,g*(k.y+k.X*n[0][1])*G);for(var p=1;p<n.length;p++)a.lineTo(g*(k.x+k.X*n[p][0])*G,g*(k.y+k.X*n[p][1])*G)}a.closePath();p=H[d].Kz;a.fillStyle=q;"normal"==b&&p&&(a.fillStyle=p);a.fillStyle="black";"lighten"!=b&&a.fill();a.strokeStyle=q;a.lineWidth=2*Math.sqrt(g);"lighten"==b&&
(a.strokeStyle="black",a.lineWidth=4*Math.sqrt(g));a.stroke()}if(b=H[d].fz){a.beginPath();for(p=0;p<b.length;p++)a.moveTo(g*b[p][0][0]*G,g*b[p][0][1]*G),a.lineTo(g*b[p][1][0]*G,g*b[p][1][1]*G);a.strokeStyle="black";a.lineWidth=3;a.globalAlpha=1;a.stroke()}b=H[d].gz;d=H[d].I;if("undefined"!==typeof b)for(c=0;c<b.length;c++)a.beginPath(),f=b[c],a.moveTo(g*d*f.x1*G,g*d*f.y1*G),a.lineTo(g*d*f.x2*G,g*d*f.y2*G),a.lineWidth=2,a.strokeStyle=q,a.stroke();a.restore()}
function Ea(a,b,c,d,f,g,h,k){"boss"!=b.slice(b.length-4)&&(a.save(),a.translate(c,d),g&&a.rotate(g),void 0===h&&(h="normal"),c=H[b].I*G*Fa.prototype.Vm,f=null==f?c:f*Math.min(H[b].I/1.5,1),Ga(a,b,f,h,k),a.restore())}
function Ga(a,b,c,d,f){void 0===f&&(f=H[b].className.prototype.bl(d),f||(f=H[b].color));var g=H[b].Zr;g||(g=H[b].bc);Da(a,d,g,b,f,c/(Fa.prototype.Vm*H[b].I*G));d=H[b].className.prototype.bl(d);d||(d=H[b].color);if("undefined"!==typeof H[b].Hj)for(f=0;f<H[b].Hj.length;f++)g=H[b].Hj[f],g.Vu?Ha(a,0,0,g,c,d):Ha(a,0,0,g,c,d,1,0,"black")}function Ka(a,b,c,d,f,g){a.save();a.translate(c,d);g&&a.rotate(g);Ga(a,b,H[b].images.normal.height*f/2,"normal");a.restore()}var La={0:1.4,1:1,2:1.4,3:1.4,4:1.6};
function Ma(a,b,c,d,f,g,h){f*=La[b];a.save();g&&(a.globalAlpha*=.5,1==b&&J(a,c,d,Math.PI/4,2*f,2*f,Na[b],Oa[b]),J(a,c,d,Math.PI/4,1.5*f,1.5*f,Na[b],Oa[b]));a.restore();a.save();a.translate(c,d);a.rotate((h?h:0)+(4!=b&&2!=b?Math.PI/4:0));J(a,0,0,0,f,f,Pa[b],Oa[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle=z["boss "+b],a.stroke());a.restore()}
function Qa(a,b,c,d,f){f*=La[b];a.save();a.translate(c,d);4!=b&&2!=b&&a.rotate(Math.PI/4);J(a,0,0,0,f,f,Ra[b],Oa[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle="gray",a.stroke());a.restore()}
function Sa(a,b,c,d,f,g){a.save();a.shadowColor=f;a.shadowBlur=0;Ta(a,b,c-d,.9*d,.9*d,.2*d,f);Ta(a,b-d,c,.9*d,.9*d,.2*d,f);Ta(a,b,c,.9*d,.9*d,.2*d,f);Ta(a,b+d,c,.9*d,.9*d,.2*d,f);a.fillStyle=f;a.font=.4*d+"px Muli";a.textAlign="center";g?(a.fillText(g[0],b,c-1*d),a.fillText(g[1],b-d,c+0*d),a.fillText(g[2],b,c+0*d),a.fillText(g[3],b+d,c+0*d),Ua(a,b,c-.8*d,.3*d,"up",f),Ua(a,b-d,c+.2*d,.3*d,"left",f),Ua(a,b,c+.2*d,.3*d,"down",f),Ua(a,b+d,c+.2*d,.3*d,"right",f)):(Ua(a,b,c-d,.5*d,"up",f),Ua(a,b-d,c,.5*
d,"left",f),Ua(a,b,c-2,.5*d,"down",f),Ua(a,b+d,c,.5*d,"right",f));a.restore()}function Va(a,b,c,d,f,g){a.save();a.fillStyle=g;Ta(a,b,c,d,f,.25*f,g);a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Wa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Ta(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b-d/2,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Xa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Ta(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Ta(a,b,c,d,f,g,h){a.save();a.shadowColor=h;a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2+g,c-f/2);a.arcTo(b+d/2,c-f/2,b+d/2,c+f/2,g);a.arcTo(b+d/2,c+f/2,b-d/2,c+f/2,g);a.arcTo(b-d/2,c+f/2,b-d/2,c-f/2,g);a.arcTo(b-d/2,c-f/2,b+d/2,c-f/2,g);a.closePath();a.strokeStyle=h;a.lineWidth=2;a.stroke();a.restore()}function Ya(a,b,c,d){a.save();a.beginPath();a.rect(b-15,c-15,30,30);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.fillStyle=d;a.font="20px Muli";a.fillText("f",b,c+7.5);a.restore()}
function Za(a,b,c,d,f,g){a.save();var h=2*Math.PI/24;a.beginPath();for(var k=0;6>k;k++)0==k?a.moveTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))):a.lineTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))),a.lineTo(b-15*Math.cos(h*(4*k+.6)),c-15*Math.sin(h*(4*k+.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+1.6)),c-11.25*Math.sin(h*(4*k+1.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+2.6)),c-11.25*Math.sin(h*(4*k+2.6)));a.closePath();a.fillStyle=d;a.fill();g&&(a.globalAlpha/=2);a.beginPath();a.arc(b,
c,7.5,0,1.998*Math.PI);a.fillStyle=f;a.fill();a.restore()}function $a(a,b,c,d){a.save();a.beginPath();a.arc(b,c-5,5,0,2*Math.PI,!0);a.moveTo(b,c+12.5);a.arc(b,c+12.5,10,0,Math.PI,!0);a.fillStyle=d;a.fill();a.restore()}function ab(a,b,c,d){a.save();a.beginPath();a.moveTo(b,c-13/3);a.lineTo(b-13,c-26/3);a.lineTo(b-13,c+26/3);a.lineTo(b,c+13);a.moveTo(b,c+13);a.lineTo(b,c-13/3);a.lineTo(b+13,c-26/3);a.lineTo(b+13,c+26/3);a.lineTo(b,c+13);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.restore()}
function bb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,2*Math.PI/5,Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.arc(b,c,9.75,7*Math.PI/5,2*Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b-2.4375,c);a.lineTo(b-15.4375,c);a.lineTo(b-8.9375,c-6.5);a.moveTo(b+2.4375,c);a.lineTo(b+15.4375,c);a.lineTo(b+8.9375,c+6.5);a.fillStyle=d;a.fill();a.restore()}
function cb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,3*Math.PI/2,3*Math.PI/4);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b,c-2.4375);a.lineTo(b,c-15.4375);a.lineTo(b-6.5,c-8.9375);a.fillStyle=d;a.fill();a.restore()}function db(a,b,c,d,f){a.save();eb(a,b,c,d/2,f);a.beginPath();a.arc(b,c,d,7*Math.PI/6,11*Math.PI/6);a.lineWidth=Math.ceil(d/6);a.strokeStyle=f;a.stroke();a.restore()}
function eb(a,b,c,d,f){a.beginPath();a.arc(b,c,d,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill();a.beginPath();a.arc(b,c,4*d/5,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle="black";a.fill();a.beginPath();a.arc(b,c,11*d/20,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill()}
function fb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.moveTo(b-12,c-12);a.lineTo(b-12,c+12);a.lineTo(b+12,c+12);a.lineTo(b+12,c-12);a.lineTo(b,c-12);a.lineTo(b,c);a.lineWidth=5;a.stroke();a.beginPath();a.moveTo(b-7,c-3);a.lineTo(b+7,c-3);a.lineTo(b,c+4);a.fill();a.restore()}
function gb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.arc(b,c,12.6,0,2*Math.PI,!0);a.lineWidth=3;a.stroke();a.beginPath();a.lineWidth=4;a.moveTo(b,c-7.2);a.lineTo(b,c+3.6);a.moveTo(b,c+18*.3);a.lineTo(b,c+7.2);a.stroke();a.restore()}
function hb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-3*d/8,c-d/4);a.lineTo(b+3*d/8,c-d/4);a.moveTo(b-d/4,c-d/4);a.lineTo(b-d/4,c+d/2);a.lineTo(b+d/4,c+d/2);a.lineTo(b+d/4,c-d/4);a.moveTo(b-d/8,c-d/8);a.lineTo(b-d/8,c+3*d/8);a.moveTo(b,c-d/8);a.lineTo(b,c+3*d/8);a.moveTo(b+d/8,c-d/8);a.lineTo(b+d/8,c+3*d/8);a.moveTo(b-d/8,c-d/4);a.lineTo(b-d/8,c-3*d/8);a.lineTo(b+d/8,c-3*d/8);a.lineTo(b+d/8,c-d/4);a.strokeStyle=f;a.lineWidth=2;a.stroke();a.restore()}
function ib(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2,c-d/2);a.lineTo(b+d/2,c+d/2);a.moveTo(b-d/2,c+d/2);a.lineTo(b+d/2,c-d/2);a.strokeStyle=f;a.lineWidth=5;a.stroke();a.restore()}function jb(a,b,c,d){a.save();a.translate(b,c);a.transform(1,-.35,0,1,0,0);a.translate(-b,-c);a.beginPath();a.moveTo(b-10,c);a.lineTo(b+10,c);a.moveTo(b-10,c+10);a.lineTo(b+10,c+10);a.lineWidth=6;a.strokeStyle=d;a.stroke();a.restore()}
function kb(a,b,c,d){a.save();a.beginPath();a.rect(b-5,c-10,10,10);a.rect(b-10,c,10,10);a.rect(b,c,10,10);a.strokeStyle=d;a.lineWidth=4;a.stroke();a.restore()}
function lb(a,b,c,d){a.save();a.translate(20/3,0);a.beginPath();a.moveTo(b-20/3,c+10);a.lineTo(b-20/3,c-20/6);a.lineTo(b+20/3,c-40/6);a.lineTo(b+20/3,c+40/6);a.lineWidth=4;a.strokeStyle=d;a.stroke();var f=b-10,g=c+10;a.save();a.translate(f,g);a.scale(1.3,1);a.translate(-f,-g);a.beginPath();a.arc(f,g,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();a.restore();b+=20/6;c+=20/3;a.save();a.translate(b,c);a.scale(1.3,1);a.translate(-b,-c);a.beginPath();a.arc(b,c,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();
a.restore();a.restore()}
function mb(a,b,c,d,f,g){a.save();a.beginPath();a.moveTo(b-.3*d-d/2*.75,c-d/2*.6);a.lineTo(b-.3*d,c-d/2*.6);a.lineTo(b-.3*d+d/2*.75,c-.6*d);a.lineTo(b-.3*d+d/2*.75,c+.6*d);a.lineTo(b-.3*d,c+d/2*.6);a.lineTo(b-.3*d-d/2*.75,c+d/2*.6);a.fillStyle=f;a.fill();g?(a.beginPath(),a.arc(b-.3*d+.75*d,c,d/2*.45,0,2*Math.PI,!0),a.moveTo(b-.3*d+.75*d-Math.cos(Math.PI/4)*d/2*.45,c-Math.cos(Math.PI/4)*d/2*.45),a.lineTo(b-.3*d+.75*d+Math.cos(Math.PI/4)*d/2*.45,c+Math.cos(Math.PI/4)*d/2*.405),a.lineWidth=2,a.strokeStyle=
f):(a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2*.6,-Math.PI/3,Math.PI/3,!1),a.lineWidth=2,a.strokeStyle=f,a.stroke(),a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2,-Math.PI/3,Math.PI/3,!1));a.stroke();a.restore()}
function Ha(a,b,c,d,f,g,h,k,n){h="undefined"!==typeof h?h:1;k="undefined"!==typeof k?k:0;a.beginPath();a.save();0!=k&&(a.translate(b,c),a.rotate(k),a.translate(-b,-c));"circle"==d.type&&a.arc(b+d.x,c+d.y,f*d.X,0,1.998*Math.PI);if("polygon"==d.type){a.moveTo(b+(d.x+d.ca[0][0]*d.X)*f,c+(d.y+d.ca[0][1]*d.X)*f);for(k=1;k<d.ca.length;k++)a.lineTo(b+(d.x+d.ca[k][0]*d.X)*f,c+(d.y+d.ca[k][1]*d.X)*f);a.closePath()}a.globalAlpha*=h;a.fillStyle=g;n&&"none"!=n?a.fillStyle=n:a.globalAlpha/=3;"none"!=n&&a.fill();
n&&"none"!=n||(a.globalAlpha*=3);a.strokeStyle=g;a.lineWidth=2;a.stroke();a.restore()}
function Ua(a,b,c,d,f,g,h){h=void 0==h?!1:h;a.save();a.translate(b,c);"left"==f?a.rotate(Math.PI):"up"==f?a.rotate(3*Math.PI/2):"down"==f&&a.rotate(Math.PI/2);a.beginPath();a.moveTo(Math.cos(0)*d/2,Math.sin(0)*d/2);a.lineTo(Math.cos(2*Math.PI/3)*d/2,Math.sin(2*Math.PI/3)*d/2);a.lineTo(Math.cos(4*Math.PI/3)*d/2,Math.sin(4*Math.PI/3)*d/2);a.closePath();a.fillStyle=g;h?(a.shadowBlur=10,a.shadowColor=g):a.shadowBlur=0;a.fill();a.restore()}
function nb(a,b,c,d){a.save();a.shadowColor=z.impulse_blue;a.shadowBlur=0;a.fillStyle="white";a.drawImage(pb,b-pb.width/2*.85,c-.6375*pb.height,.85*pb.width,.85*pb.height);d&&(a.globalAlpha/=2,"BETA"===d?(a.font="24px Muli",a.textAlign="right",a.fillText(d,b+pb.width/2*.85-20,c+40)):(a.font="20px Muli",a.textAlign="center",a.fillText(d,b,c+40)));a.restore()}function qb(a,b){a.save();a.drawImage(rb,400-rb.width/2*1,b-.75*rb.height,1*rb.width,1*rb.height);a.restore()}
function sb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.rect(c-100,d-75,200,150);a.clip();a.beginPath();a.rect(c-100,d-75,200,150);a.save();a.globalAlpha*=.3;a.fillStyle=f;a.fill();a.restore();var g=null;"easy"==L&&(g=N[b].Cf);g||(g=N[b].Aa);if(g){for(b=0;b<g.length;b++){a.beginPath();a.moveTo(c-100+g[b][0][0]/P*200,d-75+g[b][0][1]/Q*150);for(var h=1;h<g[b].length;h++)a.lineTo(c-100+g[b][h][0]/P*200,d-75+g[b][h][1]/Q*150);a.closePath();a.fillStyle="black";a.strokeStyle=f;a.lineWidth=2;a.stroke();
a.fill()}a.restore();a.save();a.beginPath();a.shadowBlur=0;a.rect(c-100,d-75,200,150);a.lineWidth=2;a.strokeStyle=f;a.stroke();a.restore()}}
function tb(){var a=document.createElement("canvas");a.width=400;a.height=400;var b=a.getContext("2d");b.globalAlpha=.2;J(b,a.width/2,a.height/2,0,.7*a.width,.7*a.height,"ultimate");b.globalAlpha=1;for(var c=0;48>c;c++){var d=c%2?.4*a.width:.42*a.width;J(b,a.width/2+d*Math.cos(c*Math.PI*2/48),a.height/2+d*Math.sin(c*Math.PI*2/48),2*Math.PI/48*c,32,18,"ultimate_shard")}return a}function ub(a){var b=new Image;b.src=a;return b}
var vb=ub("art/sprites.png"),wb={player_normal:[0,0,40,40],player_red:[40,-1,40,40],player_yellow:[80,0,41,41],player_gray:[120,0,41,41],player_green:[160,0,41,41],player_white:[200,0,40,40],spark:[0,41,40,40],multi:[0,81,40,40],white_glow:[40,40,100,100],ultimate:[148,41,150,150],lives_icon:[0,0,40,40],sparks_icon:[0,41,40,40],white_flower:[0,155,42,42],blue_flower:[43,155,42,42],ultimate_shard:[0,121,18,32],world1_starblank:[85,199,41,38],world1_starhalf:[127,199,19,38],world1_star:[127,
199,41,38],world2_starblank:[85,237,41,38],world2_starhalf:[127,237,19,38],world2_star:[127,237,41,38],world3_starblank:[0,199,41,38],world3_starhalf:[42,199,19,38],world3_star:[42,199,41,38],world4_starblank:[0,237,41,38],world4_starhalf:[42,237,19,38],world4_star:[42,237,41,38],silver_trophy:[0,277,90,78],gold_trophy:[89,277,90,78],world1_timer:[189,211,48,61],world2_timer:[241,211,48,61],world3_timer:[189,277,48,62],world4_timer:[241,277,48,62],spark_powerup:[310,6,37,36],multi_powerup:[310,58,
37,36],ult_powerup:[304,105,49,48],pink_one:[300,201,40,40],dark_one:[301,240,40,41],dark_aura:[300,299,100,101],immunitas_arm:[0,0,90,90],immunitas_arm_red:[150,135,90,90],immunitas_hand:[90,0,90,90],immunitas_hand_red:[240,135,90,90],immunitas_logo_gray:[330,135,90,90],immunitas_head:[0,90,108,108],immunitas_head_red:[450,123,108,108],immunitas_glow:[180,0,135,135],immunitas_red_glow:[315,0,135,135],immunitas_aura:[450,0,123,123],immunitas_aura_red:[573,0,123,123],immunitas_arrow:[0,200,70,70],
immunitas_lockon:[573,123,120,120],consumendi_head:[0,0,180,180],consumendi_head_red:[720,136,135,135],consumendi_aura:[181,0,269,269],consumendi_small_diamond:[94,180,30,56],consumendi_small_diamond_filled:[64,180,30,56],consumendi_small_arrow:[124,180,30,16],consumendi_glow:[720,0,135,135],consumendi_logo:[450,0,120,119],consumendi_mini:[450,119,120,120],consumendi_mini_gray:[570,0,120,120],negligentia_head:[0,0,180,180],negligentia_head_red:[0,180,180,180],negligentia_arm_striking:[180,0,244,100],
negligentia_arm_striking_red:[180,100,244,100],negligentia_wheel:[424,0,134,134],negligentia_wheel_red:[424,270,134,134],negligentia_wheel_complete:[423,135,135,135],negligentia_glow:[560,0,115,115],negligentia_glow_red:[560,115,115,115],negligentia_aura:[559,270,39,65],negligentia_aura_open:[598,270,39,65],negligentia_arm_ring:[180,200,180,180],negligentia_logo:[680,0,120,120],negligentia_logo_gray:[680,120,120,120],adrogantia_attack_bud:[0,0,80,80],adrogantia_spawner:[0,80,80,80],adrogantia_body_bud:[80,
0,80,80],adrogantia_attack_bud_firing:[80,80,80,80],adrogantia_body_bud_red:[80,160,80,80],adrogantia_head:[181,1,160,160],adrogantia_head_red:[181,161,160,160],adrogantia_glow:[340,0,135,135],adrogantia_logo:[476,0,125,125],adrogantia_logo_gray:[476,125,125,125],generated_ultimate:[0,0,400,400]},xb=ub("art/immunitas_sprite.png"),yb=ub("art/consumendi_sprite.png"),zb=ub("art/negligentia_sprite.png"),Ab=ub("art/adrogantia_sprite.png"),pb=ub("art/logo.png"),rb=ub("art/porcelain_logo.png"),Na={0:"white_glow",
1:"immunitas_glow",2:"consumendi_glow",3:"negligentia_glow",4:"adrogantia_glow"},Pa={0:"ultimate",1:"immunitas_arm",2:"consumendi_logo",3:"negligentia_logo",4:"adrogantia_logo"},Ra={0:"world_logo",1:"immunitas_logo_gray",2:"consumendi_mini_gray",3:"negligentia_logo_gray",4:"adrogantia_logo_gray"},Oa={0:vb,1:xb,2:yb,3:zb,4:Ab},Bb={},Cb;for(Cb in oa)Bb[Cb]=ub("art/"+oa[Cb]+".png");
function J(a,b,c,d,f,g,h,k){k="undefined"!==typeof k?k:vb;a.save();a.translate(b,c);a.rotate(d);a.drawImage(k,wb[h][0],wb[h][1],wb[h][2],wb[h][3],-f/2,-g/2,f,g);a.restore()}function Db(a,b,c,d,f,g,h){var k=h.width,n=h.height;a.save();a.translate(b,c);a.rotate(d);a.drawImage(h,0,0,k,n,-f/2,-g/2,f,g);a.restore()}
function Eb(a,b,c,d,f,g){var h=Bb[g],k=h.width,n=h.height;a.save();a.beginPath();a.rect(b,c,d-b,f-c);"Hive"===g.substring(0,4)&&0!==parseInt(g.substring(5,6))&&(a.fillStyle="#111",a.fill(),a.globalAlpha*=.5);a.clip();g=Math.ceil((d-b)/k);for(var q=Math.ceil((f-c)/n),p=0;p<g;p+=1)for(var t=0;t<q;t+=1)a.drawImage(h,0,0,k,n,(d+b)/2-g*k/2+p*k,(f+c)/2-q*n/2+t*n,k,n);a.restore()}
function Fb(a,b,c,d,f){"half"==f?(J(a,b-24,c,0,20,20,"world"+d+"_starblank"),J(a,b-28.8,c,0,12*.8,20,"world"+d+"_starhalf"),J(a,b,c,0,20,20,"world"+d+"_starblank"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"basic"==f?(J(a,b-24,c,0,20,20,"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_starblank"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"silver"==f?(J(a,b-24,c,0,20,20,"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_star"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"gold"==f&&(J(a,b-24,c,0,20,20,
"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_star"),J(a,b+24,c,0,20,20,"world"+d+"_star"))}function Gb(a,b,c,d,f){var g=z.gold;a.save();a.beginPath();a.translate(b-d,c-f);a.scale(d,f);a.arc(1,1,1,0,2*Math.PI,!1);a.restore();a.save();g&&(a.strokeStyle=g);a.stroke();a.restore()}
draw_enemy_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();Ea(a,f,b,c,30)};
draw_quest_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();"beat_hive"==f&&(Ma(a,1,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=z.impulse_blue,a.stroke());"final_boss"==f&&(Ma(a,4,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+
.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=z.impulse_blue,a.stroke());"first_gold"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.8*d,.8*d,"gold_trophy"));if("combo"==f){a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();J(a,b,c-d/4,0,.4*d,.4*d,"player_normal");a.beginPath();a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1);a.strokeStyle=z.impulse_blue;a.stroke();for(var g=[Math.PI/2,.36*Math.PI,.64*Math.PI,
.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++){var k=g[h];Db(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),k,10,10,H.stunner.images.normal)}}if("combo"==f)for(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=z.impulse_blue,a.stroke(),g=[Math.PI/2,.36*Math.PI,.64*Math.PI,.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++)k=g[h],Db(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),
k,10,10,H.stunner.images.normal);"high_roller"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.65*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=z.impulse_blue,a.stroke(),a.fillStyle=z.gold,a.textAlign="center",a.font="12px Muli",a.fillText("250K",b,c+d/2));"blitz_hive"==f.substring(0,10)&&(a.save(),a.globalAlpha*=.2,g=f.substring(10),"1"==g?J(a,b,c,0,1.2*d,1.2*d,"immunitas_glow",xb):"2"==g?J(a,b,c,0,
1.2*d,1.2*d,"consumendi_glow",yb):"3"==g?J(a,b,c,0,1.2*d,1.2*d,"negligentia_glow",zb):"4"==g&&J(a,b,c,0,1.2*d,1.2*d,"adrogantia_glow",Ab),a.restore(),J(a,b,c,0,.8*d,.8*d,"world"+f.substring(10)+"_timer"));if("survivor"==f)for(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.4*d,.4*d,"player_normal"),h=0;8>h;h++)k=2*Math.PI*h/4+Math.PI/4,Db(a,b+.5*d*Math.cos(k),c+.5*d*Math.sin(k),Math.PI/2+k,15,15,H.spear.images.normal);"fast_time"==f&&(a.save(),a.globalAlpha*=
.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.7*d,.7*d,"timer_icon"));"pacifist"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c+.2*d,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Gb(a,b,c-.2*d,d/6,d/12),a.restore());"beat_hard"==f&&(a.save(),a.globalAlpha*=.1,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,d,d,"white_flower"));"untouchable"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,
b,c,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Gb(a,b,c,.45*d,.45*d),Gb(a,b,c,.55*d,.55*d),a.restore())};var Hb={beat_hive:{yb:["ult"],text:["DEFEAT A HIVE"]},final_boss:{yb:["life"],text:["DEFEAT THE FINAL BOSS"]},untouchable:{yb:["spark"],text:["BEAT ANY HIVE","WITHOUT GETTING HIT"]},high_roller:{yb:["life"],cF:25E4,text:["SCORE 250000 PTS OR MORE","ON A SINGLE ENEMY"]},pacifist:{yb:["life"],text:["BEAT ANY LEVEL","WITHOUT USING IMPULSE"]},blitz_hive1:{yb:["spark"],text:["BEAT HIVE 1 IN HARD MODE","UNDER 12 MINUTES"],Nq:720},blitz_hive2:{yb:["life"],text:["BEAT HIVE 2 IN HARD MODE","UNDER 6 MINUTES"],
Nq:400},blitz_hive3:{yb:["life","spark"],text:["BEAT HIVE 3 IN HARD MODE","UNDER 7 MINUTES"],Nq:500},blitz_hive4:{yb:["life","spark","ult"],text:["BEAT HIVE 4 IN HARD MODE","UNDER 8 MINUTES"],Nq:600},beat_hard:{yb:["life","spark"],text:["DEFEAT ALL HIVES","IN HARD MODE"]}};function Ib(a,b){return a.x==b.x&&a.y==b.y}function Jb(a){var b=a%60;return Math.floor(a/60)+":"+(10>b?"0"+b:b)}function Kb(a,b,c,d){void 0===d&&(d=null);for(var f=0;f<c.length;f++)if(!(Ib(a,c[f].p1)||Ib(a,c[f].p2)||Ib(b,c[f].p1)||Ib(b,c[f].p2))&&c[f].p1.p_n!==d&&Lb(a,b,c[f].p1,c[f].p2))return!1;return!0}
function Mb(a,b){for(var c=a.length-1,d=!1,f=0;f<a.length;f++)(a[f].y<b.y&&a[c].y>=b.y||a[f].y>=b.y&&a[c].y<b.y)&&a[f].y!=a[c].y&&a[f].x+(b.y-a[f].y)/(a[c].y-a[f].y)*(a[c].x-a[f].x)<b.x&&(d=!d),c=f;return d}function R(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function Lb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};a={x:c.x-a.x,y:c.y-a.y};c=Nb(b,d);if(0==c&&0==Nb(a,d))return!1;d=Nb(a,d)/c;b=Nb(a,b)/c;return 0<=d&&1>=d&&0<=b&&1>=b}
function Ob(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};c={x:c.x-a.x,y:c.y-a.y};var f=Nb(b,d);if(0==f&&0==Nb(c,d))return null;d=Nb(c,d)/f;c=Nb(c,b)/f;return 0<=d&&1>=d&&0<=c&&1>=c?{x:a.x+b.x*d,y:a.y+b.y*d}:null}function Pb(a,b,c){return Math.abs(Nb({x:b.x-a.x,y:b.y-a.y},{x:c.x-a.x,y:c.y-a.y}))/Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Nb(a,b){return a.x*b.y-a.y*b.x}
function Qb(a){var b;a.pageX||a.pageY?(b=a.pageX,a=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);b-=offset_left;a-=offset_top;return{x:b,y:a}}function S(a,b){null!=a&&null!=b||console.log("ERROR");var c;if(a.x==b.x)return c=a.y>b.y?-Math.PI/2:Math.PI/2;c=Math.atan((a.y-b.y)/(a.x-b.x));a.x>b.x&&a.y<b.y?c+=Math.PI:a.x>b.x&&a.y>=b.y&&(c-=Math.PI);return c}
function Rb(a,b,c,d){for(var f=[],g=0;g<c.length;g++){var h=d(c[g]);R(a,h)<b&&f.push(c[g])}return f}
function Sb(a,b){for(var c=a.length-1,d=[],f=0;f<a.length;f++){var g=(f+1)%a.length,h=new b2Vec2(a[f].y-a[c].y,a[c].x-a[f].x),c=new b2Vec2(a[f].x-a[c].x,a[f].y-a[c].y),k=new b2Vec2(a[g].y-a[f].y,a[f].x-a[g].x),g=new b2Vec2(a[f].x-a[g].x,a[f].y-a[g].y);h.bb();k.bb();c.bb();g.bb();var n=S({x:0,y:0},k),q=S({x:0,y:0},h),n=n-q,n=0>n?n+2*Math.PI:n,n=n>=2*Math.PI?n-2*Math.PI:n;n>Math.PI?d.push({x:a[f].x+h.x*b-1*c.x/Math.tan(n/2-Math.PI/2)*b,y:a[f].y+h.y*b-1*c.y/Math.tan(n/2-Math.PI/2)*b}):n>5*Math.PI/6?
(d.push({x:a[f].x+h.x*b+c.x*b,y:a[f].y+h.y*b+c.y*b}),d.push({x:a[f].x+k.x*b+g.x*b,y:a[f].y+k.y*b+g.y*b})):d.push({x:a[f].x+h.x*b+c.x*Math.tan(n/2)*b,y:a[f].y+h.y*b+c.y*Math.tan(n/2)*b});c=f}return d}function Tb(a,b){var c=G,c=c?c:1;return b.x>=a&&b.y>=a&&b.x<=P/c-a&&b.y<=Q/c-a}function Ub(a,b,c){for(var d={x:Math.random()*(P/c-2*b)+b,y:Math.random()*(Q/c-2*b)+b},f=!1,g=0;g<Vb.i.Rg.length;g++)r!=g&&Mb(Vb.i.Rg[g],d)&&(f=!0);return f||null==Wb(Vb.pc,d,a).path?Ub(a,b,c):d}
function Xb(a,b,c){for(;a<c;)a+=2*Math.PI;for(;a>c;)a-=2*Math.PI;for(;b>c;)b-=2*Math.PI;for(;b<c;)b+=2*Math.PI;return b-a<=2*Math.PI}function Yb(a,b){for(;b-a>Math.PI;)b-=2*Math.PI;for(;b-a<-Math.PI;)b+=2*Math.PI;return b}function Zb(a,b){var c=a-b;c>2*Math.PI&&(c-=2*Math.PI);0>c&&(c+=2*Math.PI);c>Math.PI&&(c=2*Math.PI-c);return c}function $b(a,b,c){return 0*Math.pow(1-c,3)+3*Math.pow(1-c,2)*c*a+3*(1-c)*Math.pow(c,2)*b+1*Math.pow(c,3)}
function ac(a,b,c,d,f,g,h,k){var n=new b2BodyDef;n.type="static"==h?b2Body.pf:b2Body.Jd;n.position.x=c;n.position.y=d;n.Cs=3;a=a.ko(n);for(c=0;c<b.length;c++){d=b[c];h=null;"circle"==d.type&&(h=new b2CircleShape(d.X),h.Vx(new b2Vec2(d.x,d.y)));if("polygon"==d.type){n=[];for(h=0;h<d.ca.length;h++)n.push(new b2Vec2(d.x+d.X*d.ca[h][0],d.y+d.X*d.ca[h][1]));h=new b2PolygonShape;h.Vt(n,n.length)}d=new b2FixtureDef;d.rb=f;d.$m=0;d.Fn=.7;d.filter.rf=g;d.filter.Af=6;d.shape=h;a.Xq(d).uo({body:a,owner:k,self:null})}return a}
function bc(a){var b=a%60;10>b&&(b="0"+b);return Math.floor(a/60)+":"+b};function cc(){this.Hc={};this.Al={};this.gc=null;for(var a in na)dc(this,na[a].file,na[a].Yi);this.fk={};this.Zi=D.hw;this.Rm=D.Rm}function ec(a,b){fc.play(ma[a],b)}cc.prototype.play=function(a,b){if(!this.Rm)if(a in this.Al)for(var c=0;c<this.Al[a].length;c++){if(!this.Al[a][c]){this.Hc[a+c].play();this.Hc[a+c].Cg(D.Bp);this.Al[a][c]=!0;break}}else a in this.Hc||(this.Hc[a]=new ia("audio/"+a+".ogg")),this.Hc[a].play(),b?this.Hc[a].Cg(b):this.Hc[a].Cg(D.Bp)};
function dc(a,b,c){a.Al[b]=[];for(var d=0;d<c;d++){a.Al[b].push(!1);a.Hc[b+d]=new ia("audio/"+b+".ogg");var f=a;a.Hc[b+d].bind("ended",function(a,b){return function(){f.Al[b][a]=!1}}(d,b))}}function gc(a,b){a.gc&&a.Hc[a.gc].stop();a.gc=null;hc(a,b)}function ic(a,b){var c=fc;D.zj=a;c.gc&&!c.Zi&&c.Hc[c.gc].Cg(D.zj);b&&jc()}
function hc(a,b){null!=a.gc&&a.gc!=b?a.Hc[a.gc].yD()?gc(a,b):(a.fk[a.gc]=!1,a.fk[b]=!0,a.Hc[a.gc].hz(500,function(){gc(a,b)})):(b in a.Hc||(b in ka?(a.Hc[b]=new ia("audio/"+b+".ogg"),a.Hc[b].bind("ended",function(){this.setTime(ka[b]);this.play()})):a.Hc[b]=new ia("audio/"+b+".ogg",{loop:!0})),a.Zi?a.Hc[b].Cg(0):a.Hc[b].Cg(D.zj),a.Hc[b].play(),a.fk[b]=!0,a.gc=b)}
function kc(){var a=fc;if(a.gc){a.fk[a.gc]=!1;var b=a.gc;a.Hc[a.gc].hz(300,function(){a.gc&&!a.fk[a.gc]?(a.Hc[a.gc].stop(),a.gc=null):a.gc==b&&a.fk[a.gc]&&a.Hc[a.gc].Cg(D.zj)})}};function lc(a,b){void 0!==a&&(this.bh=mc()-1,this.Gq=0,this.sk=nc(),this.Ug=0,this.li=oc(),this.Cz=!1,this.wc=b,0<a&&(this.sh=1E3*Hb["blitz_hive"+a].Nq),this.wc||(this.bh=0,1<this.sk&&(this.sk=1)),this.vh={},this.Rz=mc(),this.rB=nc(),this.Dm=null,this.M={},this.sa=a,this.Av=0==this.sa?"TUTORIAL":ra[a],this.uy=qa[a],this.sE=0,this.qi=null)}lc.prototype.clone=function(a){var b=new lc,c;for(c in a)b[c]=a[c];return b};function pc(a){a.bh+=mc()-a.Rz;a.sk+=nc()-a.rB;a.li=oc();a.Rz=mc();a.rB=nc()}
lc.prototype.continue=function(){this.bh=mc();this.Gq=0;this.sk=nc();this.li=oc();this.Ug+=1};function qc(a,b,c,d){this.ha(a,b,c,d)}l=qc.prototype;l.Na=3.5;l.id=9999;l.Xn=1.2;l.Fz=50;l.Zg=10;l.Bv=.03125;l.sD=z.impulse_target_blue;l.Ez=z.impulse_blue;l.rb=.5625;l.oh=.66;l.I=.66;
l.ha=function(a,b,c,d){if(null!=a){"easy"==L&&(this.rb*=1.5,this.Xn*=1.5);var f=new b2FixtureDef;f.rb=this.rb;f.$m=0;f.Fn=1;f.filter.rf=2;f.filter.Af=29;var g=new b2BodyDef;g.type=b2Body.Jd;f.shape=new b2CircleShape(qc.prototype.oh);this.X=qc.prototype.oh;this.i=d.i;this.r=d;g.position.x=b;g.position.y=c;g.Cs=this.Na;this.body=a.ko(g);this.body.Xq(f).uo({owner:this,body:this.body,self:this});this.shape=f.shape;this.kh=[];for(a=0;4>a;a++)this.kh.push({X:.5,si:a*Math.PI/2});this.Pq=this.wp=this.right=
this.left=!1;this.rk=this.Nh=this.Jh=this.Lh=this.Kh=null;this.Li=0;this.Ki=!1;this.Dp=[];this.Uw=[];this.vj=!1;this.Ah={};this.ed=0;this.uj=500;this.tj=0;this.rk=!1;this.wh={};this.Zn=1E3;this.Sl=0;this.Vw=20;this.MF=250;this.mk=this.jd=this.Wu=this.Bm=0;this.lD=5;this.sz=1.7;this.gw={x:0,y:0};this.status="normal";this.$=[0,0,0,0,0,0];this.ph=.3;this.K=!1;this.cb=1E3;this.sb=0;this.color=z.player_color;this.pa=this.Xn;this.yy=5;this.Pr=!1;this.Tf=1.5;this.Iv=0;this.nq=!1;this.du=250;this.eu=!0;this.Co=
this.du}};function rc(a,b){switch(b){case wa.hr:a.left=!0;break;case wa.kr:a.right=!0;break;case wa.Yq:a.wp=!0;break;case wa.mr:a.Pq=!0;break;case wa.oj:case wa.Ak:a.Pq=!1;a.wp=!1;a.left=!1;a.right=!1;a.Kh=null;a.Lh=null;a.Nh=null;a.Jh=null;break;case wa.Cx:a.Kh=(new Date).getTime();break;case wa.Ex:a.Nh=(new Date).getTime();break;case wa.Dx:a.Lh=(new Date).getTime();break;case wa.Bx:a.Jh=(new Date).getTime()}}l.Ql=function(a){this.$[0]=Math.max(a,this.$[0]);this.$[1]=Math.max(a,this.$[1])};
l.Gc=function(a,b){b&&(this.jd=Math.max(a,this.$[1]),this.mk=Math.max(a,this.$[1]));this.$[1]=Math.max(a,this.$[1])};l.tv=function(a){this.$[2]=Math.max(a,this.$[2])};l.Wp=function(a){this.$[3]=Math.max(a,this.$[3]);this.As=this.$[3];this.Xp=1;this.ml=1/this.Tf};function sc(a,b){a.Bm=Math.max(b,a.$[4]);a.Wu=Math.max(b,a.$[4]);a.$[4]=Math.max(b,a.$[4])}l.Ge=function(){return 0<this.$[0]};l.ma=function(){return 0<this.$[1]};l.Xc=function(){return 0<this.$[2]};l.fn=function(){return 0<this.$[3]};
l.na=function(a){if(this.K)this.sb-=a;else{this.eu&&(this.Co-=a,0>this.Co&&(this.eu=!1));0<this.jd&&(this.jd-=a);0<this.Bm&&(this.Bm-=a);0<this.$[0]&&(this.$[0]-=a);0<this.$[1]&&(this.$[1]-=a);0<this.$[2]?(this.$[2]-=a,this.body.zh(this.Na*this.lD),this.kD=!0):this.kD&&this.body.zh(this.Na);if(0<this.$[3]){if(this.$[3]-=a,!this.Ki){this.Ki=!0;var b=this.body.Mc;void 0===b.length&&(b=[b]);for(var c=0;c<b.length;c++)b[c].ab.Ea/=this.Tf;this.body.ig();tc(this)}}else if(this.Ki){this.Ki=!1;b=this.body.Mc;
void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].ab.Ea*=this.Tf;this.body.ig();tc(this)}0<this.$[4]&&(this.$[4]-=a);0<this.$[5]&&(this.$[5]-=a);if(0<this.$[5]&&!this.Pr){b=this.body.Mc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].Ux(this.rb*this.yy);tc(this);this.body.ig();this.Pr=!0}else if(0>=this.$[5]&&this.Pr){this.Pr=!1;b=this.body.Mc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].Ux(this.rb);tc(this);this.body.ig()}cur_time=(new Date).getTime();this.i.Rp||("mouse"==D.qc?
(!(this.nq||100>cur_time-this.Iv)||this.vj||this.ma()||(this.vj=!0,this.r.M.Cv=!0,this.Ah=this.body.g.position.Gb(),this.ed=this.Li,this.tj=this.uj,ec("impulse"),this.r instanceof uc&&(c=this.r,1==c.da&&"first_time_tutorial"==c.mode&&0==c.Xd&&"none"==c.hb&&(c.kg=c.Km,c.Xd=!0)),this.r.Fg&&vc(this.r,"player_impulsed")),this.Li=S({x:this.body.g.position.x*G,y:this.body.g.position.y*G},this.gw)):"keyboard"!=D.qc||this.vj||this.ma()||(c=0,null!=this.Kh&&this.Kh>c&&(c=this.Kh),null!=this.Lh&&this.Lh>c&&
(c=this.Lh),null!=this.Nh&&this.Nh>c&&(c=this.Nh),null!=this.Jh&&this.Jh>c&&(c=this.Jh),0!=c&&40<(new Date).getTime()-c&&(null!=this.Kh&&null!=this.Nh?this.ed=5*Math.PI/4:null!=this.Kh&&null!=this.Jh?this.ed=3*Math.PI/4:null!=this.Lh&&null!=this.Nh?this.ed=7*Math.PI/4:null!=this.Lh&&null!=this.Jh?this.ed=1*Math.PI/4:null!=this.Kh?this.ed=Math.PI:null!=this.Lh?this.ed=0:null!=this.Nh?this.ed=3*Math.PI/2:null!=this.Jh&&(this.ed=1*Math.PI/2),0<this.$[4]&&(this.ed+=Math.PI),this.vj=!0,this.r.M.Cv=!0,
this.Ah=this.body.g.position.Gb(),this.tj=this.uj,ec("impulse"))));this.body.tb(this.Li);0<this.$[4]&&(this.Li+=Math.PI);for(c=0;c<this.i.yd.length;c++)if(Mb(this.i.yd[c],this.body.g.position)){this.Qc();break}if(this.vj)if(0>this.tj)this.vj=!1,this.Dp=[];else{for(c=0;c<this.i.s.length;c++)if(!(this.i.s[c]instanceof wc&&!this.i.s[c].ma()||this.i.s[c]instanceof xc&&this.i.s[c].VC)){if(-1==this.Dp.indexOf(this.i.s[c].id)&&!this.i.s[c].K)for(var d=this.i.s[c].Mj(),f=0;f<d.length;f++)if(yc(this,d[f])){if(zc(this,
d[f],20<this.i.s[c].body.p.hg())){b=S(this.Ah,d[f]);this.Dp.push(this.i.s[c].id);d=this.Fz;this.i.s[c]instanceof Ac&&this.i.s[c].Xc()&&(d*=2);this.i.s[c]instanceof Bc&&Cc(this.i.s[c])&&(d*=3);this.i.s[c].fn()&&(d*=2.5);this.i.s[c].Ef(this.Ah,d,b);break}this.i.s[c]instanceof Ac&&"engaged"==this.i.s[c].mb&&Dc(this.i.s[c])}if(this.i.s[c]instanceof Ac&&"inactive"!=this.i.s[c].mb){var g=this.i.s[c].Za;if(-1==this.Dp.indexOf(g.id))for(d=g.Mj(),f=0;f<d.length;f++)yc(this,d[f])&&zc(this,d[f],!0)&&(b=S(this.Ah,
d[f]),g.Ef(this.Ah,this.Fz,b),this.Dp.push(g.id))}}this.tj-=a}this.rk&&(0>this.Sl?(Ec(this,!0),this.rk=!1,this.Uw=[],this.r instanceof uc&&(a=this.r,1==a.da&&"ult_tutorial"==a.mode&&0==a.Xd&&"none"==a.hb&&(a.kg=a.Km,a.Xd=!0)),this.i.ra&&this.body.pj(this.wh)):(Ec(this,!1),this.Sl-=a));this.Ge()||(b=this.pa,c=a=0,this.left&&--a,this.right&&(a+=1),this.Pq&&--c,this.wp&&(c+=1),d=2==Math.abs(a)+Math.abs(c)?b/Math.sqrt(2):b,0<this.$[4]&&(a*=-1,c*=-1),this.Xc()&&(a*=this.sz,c*=this.sz),this.body.ia(new b2Vec2(d*
a,d*c),this.body.h.o),this.r instanceof uc&&(0!=a||0!=c)&&(b=this.r,0==b.da&&"first_time_tutorial"==b.mode&&0==b.Xd&&"none"==b.hb&&(b.kg=b.Km,b.Xd=!0)),!this.r.Fg||0==a&&0==c||vc(this.r,"player_moved"))}};function tc(a){a.pa=0<a.$[5]?a.Xn*a.yy:a.fn()?a.Xn/a.Tf/a.Tf:a.Xn}
function Ec(a,b){for(var c=0;c<a.i.s.length;c++){var d=a.i.s[c];if(!d.K){for(var f=d.Mj(),g=(b?1:.002)*a.MF,h=0;h<f.length;h++)if(Fc(a,f[h])){var k=S(a.wh,f[h]);-1==a.Uw.indexOf(d.id)?(a.Uw.push(d.id),Gc(d,!0)):Gc(d,!1);f=H[d.type];h=d.xf?.02/d.oe:1;"slingshot"==d.type&&(h*=2);d.Ef(a.wh,1*g*h*d.body.Y*f.Na,k,!0);break}d instanceof Ac&&"engaged"==d.mb&&d.Tc==a&&Dc(d)}if(d instanceof Ac&&"inactive"!=d.mb)for(d=d.Za,f=d.Mj(),h=0;h<f.length;h++)Fc(a,f[h])&&(k=S(a.wh,f[h]),d.Ef(a.wh,2*g,k))}}
function Hc(a){return a.rk?a.wh:a.body.g.position}function yc(a,b){var c=S(a.Ah,b);return a.ed<2*-Math.PI/3?c<=a.ed+Math.PI/3||c>=a.ed+5*Math.PI/3:a.ed>2*Math.PI/3?c<=a.ed-5*Math.PI/3||c>=a.ed-Math.PI/3:c>=a.ed-Math.PI/3&&c<=a.ed+Math.PI/3}function zc(a,b,c){var d=Ic(a),f=a.Ah.Gb();f.xo(b);f=f.bb();b=c?4*a.Bv:2*a.Bv;return f>=a.Zg*d*((a.uj-a.tj)/a.uj-b)&&f<=a.Zg*d*((a.uj-a.tj)/a.uj+b)}function Fc(a,b){var c=a.wh.Gb();c.xo(b);c=c.bb();return c<=a.Vw*$b(.15,.5,(a.Zn-a.Sl)/a.Zn)}
function Jc(a,b){b.save();if(a.K){var c=a.K?Math.min((a.cb-a.sb)/a.cb,1):0;b.globalAlpha*=1-c}a.rk&&0<a.Sl&&(b.save(),b.globalAlpha*=.3,c=Math.min(2-Math.abs((a.Sl-a.Zn/2)/(a.Zn/4)),1),b.globalAlpha*=c/2,b.fillStyle="white",b.fillRect(0,0,Kc,Lc),b.restore(),b.shadowBlur=10,b.shadowColor="#ccc",b.globalAlpha*=.5,c=$b(.1,.5,(a.Zn-a.Sl)/a.Zn),.4<c&&(b.globalAlpha*=0>(1-c)/.4?0:(1-c)/.4),J(b,a.wh.x*G,a.wh.y*G,0,a.Vw*c*G*2,a.Vw*c*G*2,"generated_ultimate",xa));b.restore()}
l.nh=function(a){this.K||Jc(this,a)};
l.V=function(a){if(!this.K){Jc(this,a);a.save();if(0<this.Bm){var b=Math.max((this.Wu-this.Bm)/this.Wu,0);Ba(a,this.body.g.position.x,this.body.g.position.y,this.oh,b,"#24ac40")}else 0<this.jd&&(b=Math.max((this.mk-this.jd)/this.mk,0),Ba(a,this.body.g.position.x,this.body.g.position.y,this.oh,b,"gray"));if(this.eu){var b=this.Co/this.du,c=1+8*b;a.save();a.globalAlpha*=1-b;a.beginPath();a.lineWidth=Math.ceil(4-4*b);a.strokeStyle=z.impulse_blue;a.arc(this.body.g.position.x*G,this.body.g.position.y*
G,this.shape.Ea*c*G,0,2*Math.PI,!0);a.stroke();a.restore()}else this.rk?(c=Ic(this),J(a,this.wh.x*G,this.wh.y*G,this.body.ga(),this.shape.Ea*G*2.5*c,this.shape.Ea*G*2.5*c,"player_gray")):this.Ge()?Mc(this,a,"player_red"):0<this.$[4]?Mc(this,a,"player_green"):this.ma()?Mc(this,a,"player_gray"):this.Xc()?Mc(this,a,"player_yellow"):Mc(this,a,"player_normal");c=Ic(this);this.Xc()&&(a.beginPath(),a.arc(this.body.g.position.x*G,this.body.g.position.y*G,this.oh*c*G,0,2*Math.PI,!1),a.strokeStyle="black",
a.stroke());a.beginPath();D.Sp&&!this.i.Rp&&(a.save(),b=this.Co/this.du,a.globalAlpha*=Math.max(0,1-b),this.ma()||"mouse"!=D.qc?this.ma()||"keyboard"!=D.qc||(a.beginPath(),a.arc(this.body.g.position.x*G,this.body.g.position.y*G,this.Zg*c*G,0,2*Math.PI),a.globalAlpha/=6,a.lineWidth=2,a.strokeStyle=z.impulse_blue,a.stroke()):(a.fillStyle=this.sD,a.arc(this.body.g.position.x*G,this.body.g.position.y*G,this.Zg*c*G,this.Li-Math.PI/3,this.Li+Math.PI/3),a.lineTo(this.body.g.position.x*G+Math.cos(this.Li+
Math.PI/3)*this.Zg*c*G,this.body.g.position.y*G+Math.sin(this.Li+Math.PI/3)*this.Zg*c*G),a.lineTo(this.body.g.position.x*G,this.body.g.position.y*G),a.fill()),a.restore());this.vj&&(a.beginPath(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=10,a.shadowColor=this.Ez,a.lineWidth=this.Zg*this.Bv*G*c,b=(this.uj-this.tj)/this.uj,a.save(),.5<b&&(a.globalAlpha*=0>(1-b)/.5?0:(1-b)/.5),a.arc(this.Ah.x*G,this.Ah.y*G,this.Zg*c*b*G,this.ed-Math.PI/3,this.ed+Math.PI/3),a.strokeStyle=this.Ez,a.lineWidth=5,
a.stroke(),a.restore());this.r.Am&&D.qq&&!this.r.ra&&(a.font="16px Muli",a.fillStyle=z.impulse_blue,a.textAlign="center",a.shadowBlur=0,a.fillText("x"+this.r.M.Tg,this.body.g.position.x*G,this.body.g.position.y*G+30));a.restore()}};function Mc(a,b,c){var d=Ic(a);J(b,a.body.g.position.x*G,a.body.g.position.y*G,a.body.ga(),a.shape.Ea*G*2.5*d,a.shape.Ea*G*2.5*d,c)}
function Ic(a){if(!a.fn())return 1;var b=a.$[3]/a.As;.1>b?(b=1-b/.1,lighten_factor=a.Xp*b+a.ml*(1-b)):.9<b?(b=(b-.9)/.1,lighten_factor=a.Xp*b+a.ml*(1-b)):lighten_factor=a.ml;return lighten_factor}l.Se=function(){};l.Qc=function(a){this.K=!0;this.sb=this.cb;this.i.TG=!0;"absorbed"!=a&&ec("pdeath");Nc(this.i,"player",this.body.g.position,this.body.p,!0)};
l.rv=function(a,b){for(var c=this.kh.length-1,d=null,f=null,g=0;g<this.kh.length;g++){var h=Ob({x:this.body.g.position.x+this.kh[g].X*Math.cos(this.kh[g].si+0),y:this.body.g.position.y+this.kh[g].X*Math.sin(this.kh[g].si+0)},{x:this.body.g.position.x+this.kh[c].X*Math.cos(this.kh[c].si+0),y:this.body.g.position.y+this.kh[c].X*Math.sin(this.kh[c].si+0)},a,b);if(null!=h){c=R(h,a);if(null==f||c<f)d=h,f=c;c=g}}return{vE:d,Zd:f}};function Fa(){}l=Fa.prototype;l.Vm=1.5;
l.ha=function(a,b,c,d,f){this.tE=new b2Vec2(b,c);if(this.r=f)this.i=f.i,this.q=f.q;this.sa=a;for(g in H[this.type])this[g]=H[this.type][g];this.qw=[];this.qw.push(new b2Vec2(Math.cos(0*Math.PI),Math.sin(0*Math.PI)));this.qw.push(new b2Vec2(Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)));this.qw.push(new b2Vec2(Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)));this.wE=1E3;this.tz=3;this.bv=this.rw=0;this.ck=1500;this.Fl=!0;this.Tf=1.5;this.Dv=z.impulse_blue;g=new b2BodyDef;g.type=b2Body.Jd;g.position.x=
b;g.position.y=c;g.Cs=this.Na;g.pv=this.bH?!1:!0;g.pv||(g.cy=50);a&&(this.body=a.ko(g));this.iF=[];this.Dg=[];this.Ki=!1;this.Tp=500;for(var g=0;g<this.bc.length;g++){a=this.bc[g];b=null;"circle"==a.type&&(b=new b2CircleShape(a.X),b.Vx(new b2Vec2(a.x,a.y)));if("polygon"==a.type){c=[];for(b=0;b<a.ca.length;b++)c.push(new b2Vec2(a.x+a.X*a.ca[b][0],a.y+a.X*a.ca[b][1]));b=new b2PolygonShape;b.Vt(c,c.length)}a=new b2FixtureDef;a.rb=this.rb;a.$m=0;a.Fn=.7;a.filter.rf=this.rf?this.rf:4;a.filter.Af=this.Af?
this.Af:30;a.shape=b;this.body&&this.body.Xq(a).uo({owner:this,body:this.body,self:this});this.iF.push(b);b instanceof b2PolygonShape?this.Dg.push(b.Z):this.Dg.push(null)}this.Mf=!0;Oc(this);this.path=null;this.dx=0;this.cx=!1;this.id=d;this.Fh=this.K=!1;this.cb=this.Ky=500;this.sb=0;this.$=[0,0,0,0];this.la={};this.la.open=0;this.la.impulsed=0;this.la.invincible=0;this.la.disabled=0;this.Lz=!0;this.Vc=!1;this.gB=0;this.up=!0;this.Rd=this.ue=40;this.VF=10;this.ph=.3;this.Nd=!1;this.Bj=!0;this.Fw=
this.pa/3;this.Ev=!1;this.Fv=this.Gz=2E3;this.Be=2;this.As=0;this.DF="normal impulsed stunned silenced gooed lighten ulted white world1 world2 world3 world4 black".split(" ");this.rr=[];this.tr=0;this.jC=4;this.sr=null;this.am=.5;this.Ao=!0;this.dn=!1;this.wm=0;this.rA=this.Dz=this.Xm=!1;this.Bz=4;this.en=0;this.xe=null;this.ki&&(this.Ee=!1,this.nc=this.hi=this.Ih=this.ng)};
l.Rr=function(){for(var a=0;a<this.i.yd.length;a++)if(Mb(this.i.yd[a],this.body.g.position)){if(0>=this.la.open&&this.rA){this.body.pj(this.tE);break}0>=this.la.open&&this.Fl?this.Qc("accident"):(this.r instanceof uc&&(a=this.r,3==a.da&&"first_time_tutorial"==a.mode&&0==a.Xd&&"none"==a.hb&&(a.kg=a.Km,a.Xd=!0),4==a.da&&"first_time_tutorial"==a.mode&&0==a.Xd&&"none"==a.hb&&(a.kg=a.Km,a.Xd=!0)),this.r.Fg&&vc(this.r,"enemy_killed"),this.Qc("kill"));break}};
function Oc(a){a.Dw=[];a.NC=[];if(a.q)for(var b=a.body.Mc;null!=b;){var c=b.ab,d=[];if(c instanceof b2PolygonShape){for(var c=c.Z,f=0;f<c.length;f++){var g=R({x:0,y:0},c[f]),h=S({x:0,y:0},c[f]);d.push({X:g,si:h})}a.NC.push(Sb(c,a.q.X+.1))}a.Dw.push(d);b=b.Ja}}l.AA=function(a,b){this.Fh&&("hit_player"!=this.K||this.sb<this.cb-50)&&(this.Fh=!1,this.i.rp.push(a));return this.K&&0>this.sb?(this.i.Gp.push(a),!0):this.K?(this.sb-=b,!0):!1};
l.na=function(a,b){if(!this.AA(a,b))if(0==this.zb)this.Hd(b);else if(this.Pg)this.bu(b);else{0<this.$[0]&&(this.$[0]-=b);0<this.$[1]?this.$[1]-=b:this.Ci&&(this.Ci=!1);for(status in this.la)0<this.la[status]&&(this.la[status]-=b);0<this.$[2]?(this.$[2]-=b,this.body.zh(this.Na*this.tz)):this.body.zh(this.Na);if(0<this.$[3]){if(this.$[3]-=b,!this.Ki){this.Ki=!0;var c=this.body.Mc;void 0===c.length&&(c=[c]);for(var d=0;d<c.length;d++)for(var f=this.body.Mc.ab.Z,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x/
this.Tf,f[g].y/this.Tf);this.body.ig();this.pa=H[this.type].pa/this.Tf/this.Tf}}else if(this.Ki){this.Ki=!1;c=this.body.Mc;void 0===c.length&&(c=[c]);for(d=0;d<c.length;d++)for(f=this.body.Mc.ab.Z,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x*this.Tf,f[g].y*this.Tf);this.body.ig();this.pa=H[this.type].pa}1>this.rw&&(this.rw=Math.min(this.rw+b/this.wE,1));this.gB+=b;this.Fv=this.Ev?this.Fv-b:this.Gz;this.Rr();this.tr+=1;if(!(!this.Ao||0<this.la.open&&"tank"==this.type||this.ma())){if(this.tr>this.jC){this.tr=
0;c=!1;f=this.i.Rg;d=null;for(g=0;g<f.length;g++)if(Mb(f[g],this.body.g.position)){var h;h=f[g];for(var k=this.body.g.position,n=h.length-1,q={xn:null,yn:null,Zd:null},p=0;p<h.length;p++){var t=Pb(h[p],h[n],k);if(null==q.Zd||t<q.Zd){var A=S(k,h[n]);Yb(A,S(k,h[p]))-A<Math.PI/2||(q.xn=h[n],q.yn=h[p],q.Zd=t)}n=p}h=q;if(null!=h.Zd)d=S({x:0,y:0},{x:h.yn.x-h.xn.x,y:h.yn.y-h.xn.y})-Math.PI/2,c=!0;else{f=f[g];g=this.body.g.position;h={fc:null,Zd:null};for(k=0;k<f.length;k++)if(n=R(f[k],g),null==h.Zd||n<h.Zd)h.Zd=
n,h.fc=f[k];f=h;f.Zd<N[this.i.U].Ca&&(d=S(f.fc,this.body.g.position),c=!0)}break}this.sr=c?d:null}null!=this.sr&&(c=new b2Vec2(Math.cos(this.sr),Math.sin(this.sr)),c.aa(this.pa*this.am),0<this.la.open&&"normal"==L&&this.Xm?c.aa(1.5):("goo"==this.type||"disabler"==this.type)&&0<this.la.open?c.aa(0):"harpoon"==this.type&&0<this.la.open&&c.aa(.6),this.body.ia(c,this.body.h.o))}this.ki&&(!this.Ee&&Tb(0,this.body.g.position)&&(this.Gc(this.ng),this.nc=this.hi=this.ng,this.Ee=!0),0<this.Ih&&(this.Ih-=dt),
Tb(0,this.body.g.position)||(this.Ee=!1,this.Gc(100,!0),this.nc=0),0<this.nc&&(this.nc-=dt,this.Gc(100,!0)));this.move();this.Hd(b)}};l.Hd=function(){};l.bu=function(){};l.qz=function(){return this.q.body.g.position};
l.move=function(){if(!this.q.K&&!this.Ge()){this.Rd+=1;if(0==this.Rd%4||this.Rd>=this.ue){var a=this.qz();if(!a)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a==this.q.body.g.position||this.Rd>=this.ue||this.path&&!Kb(this.body.g.position,this.path[0],this.i.se)){var b=Wb(this.r.pc,this.body.g.position,a,this.r.i.vq);this.path=null!=b.path?b.path:null;this.Rd=Math.floor(.25*Math.random()*this.ue)}}if(this.path){b=this.path[0];if(0==this.Rd%4){for(;0<this.path.length&&1>
R(b,this.body.g.position);)this.path=this.path.slice(1),b=this.path[0];if(!b||!Kb(this.body.g.position,b,this.i.se))return;a==this.q.body.g.position&&Kb(this.body.g.position,this.q.body.g.position,this.i.se)&&(this.path=[this.q.body.g.position],b=this.path[0])}if(this.Nd){if(this.dx==this.VF){a=Rb(this.body.g.position,4*this.I,this.i.s,function(a){return a.body.g.position});this.cx=!1;for(var c=0;c<a.length;c++)if(a[c].id>this.id&&"fighter_bullet"!=a[c].type){this.cx=!0;break}this.dx=0}this.dx++}this.Nd&&
this.cx||!b||this.sn(b)}}};l.sn=function(a){var b=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);b.bb();this.ai(b);this.body.ia(b,this.body.h.o);this.Mf&&Pc(this,a)};l.ai=function(a){a.aa(this.pa)};function Pc(a,b){a.Le(S(a.body.g.position,b))}l.Le=function(a){--this.en;0>=this.en&&(this.body.tb(a),this.en=this.Bz);this.xe=a};
l.Qc=function(a){if(!(0<this.la.invincible&&"hit_player"==a)){this.K=a;this.sb=this.cb="fade"==a?500:this.Ky;this.Fh=!0;if("kill"==this.K&&!this.q.K&&(this.r.M.He+=1,H[this.type].aj?H[H[this.type].aj].He+=1:H[this.type].He+=1,!this.i.ra)){var b=this.r.M.Tg*this.Oc;D.ec&&Qc(this.r,b,this.color,this.body.g.position.x,this.body.g.position.y);this.r.M.Bg+=b;Rc(this.r);Sc(this.r);b>Hb.high_roller.cF&&Tc("high_roller")}"accident"!=this.K&&"fade"!=this.K&&"absorbed"!=this.K&&("tank"==this.type?ec("tdeath"):
this.xf?(ec("tdeath"),setTimeout(function(){ec("tdeath")},150),setTimeout(function(){ec("tdeath")},300)):("troll"!=this.type||"hit_player"!=this.K||this.ma())&&ec("sdeath"));"fade"!=this.K&&(Nc(this.i,this.type,this.body.g.position,this.body.p),this.qr(a))}};l.qr=function(){};
l.Se=function(a){if(!this.K){if(0<this.la.open&&("mote"==a.type||"troll"==a.type)){var b=this.body.p,c=this.body.Y/a.body.Y;a.body.ia(new b2Vec2(.2*b.x*c,.2*b.y*c),a.body.g.position);this.body.to(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))}a===this.q?(this.r.ra&&!this.fn()&&50<this.body.p.hg()&&(b=this.body.p,c=this.body.Y/a.body.Y,a.body.ia(new b2Vec2(b.x*c*.5,b.y*c*.5),a.body.g.position),this.body.to(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))),this.up&&this.Qc("hit_player"),this.ma()&&!this.Dz||this.$f(),Cc(this)||
Uc(this.r),this.r.Fg&&vc(this.r,"enemy_touched")):a instanceof Fa&&0<a.la.open&&this.open(a.la.open)}};l.$f=function(){"easy"==L&&this.q.Ql(300);"normal"==L&&this.q.Ql(500)};
l.V=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0,d=this.body.g.position;a.save();a.translate(d.x*b,d.y*b);a.rotate(this.xe);d=H[this.type].images.normal.height;a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);var f=this.K&&"fade"!=this.K?1+this.Be*c:1,g=d;if(this.fn()){var c=this.$[3]/this.As,h=1;.1>c?(c=1-c/.1,h=this.Xp*c+this.ml*(1-c)):.9<c?(c=(c-.9)/.1,h=this.Xp*c+this.ml*(1-c)):h=this.ml;g*=h}g*=
f;a.drawImage(H[this.type].images[this.cl()],0,0,d,d,-g/2,-g/2,g,g);a.restore();this.Gd(a,b)}};l.Gd=function(){};l.nh=function(){};l.Xk=function(){};l.xm=function(){};l.um=function(){};l.vm=function(){};l.Ef=function(a,b,c,d){d||(this.open(this.ck),this.la.impulsed+=this.Tp);this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d&&!this.xf||this.we(a,b,c)};l.we=function(){};function Gc(a,b){a.Ql(2E3);a.la.open=0;a.la.ulted=2E3;b&&a.body.to(new b2Vec2(0,0))}
l.Ql=function(a){this.$[0]=Math.max(a,this.$[0]);this.$[1]=Math.max(a,this.$[1])};l.Gc=function(a,b){b&&(this.Ci=b);this.$[1]=Math.max(a,this.$[1])};l.tv=function(a){this.$[2]=Math.max(a,this.$[2])};l.Wp=function(a){this.$[3]=Math.max(a,this.$[3]);this.As=this.$[3];this.Xp=1;this.ml=1/this.Tf};l.open=function(a){this.la.open=Math.max(a,this.la.open)};l.disable=function(a){this.la.disabled=Math.max(a,this.la.disabled)};l.Ge=function(){return 0<this.$[0]};l.ma=function(){return 0<this.$[1]||0<this.la.disabled};
function Cc(a){return 0<a.la.disabled}l.Xc=function(){return 0<this.$[2]};l.fn=function(){return 0<this.$[3]};
l.rv=function(a,b){for(var c=null,d=null,f="polygon"==this.ZG?this.zG:0,g=0;g<this.Dw.length;g++)for(var h=this.Dw[g],k=h.length-1,n=0;n<h.length;n++){var q=Ob({x:this.body.g.position.x+h[n].X*Math.cos(h[n].si+f),y:this.body.g.position.y+h[n].X*Math.sin(h[n].si+f)},{x:this.body.g.position.x+h[k].X*Math.cos(h[k].si+f),y:this.body.g.position.y+h[k].X*Math.sin(h[k].si+f)},a,b);if(null!=q){k=R(q,a);if(null==d||k<d)c=q,d=k;k=n}}return{vE:c,Zd:d}};l.Mj=function(){return[this.body.g.position]};
l.cl=function(){if(!this.K){if(0<this.la.ulted)return"ulted";if(0<this.la.impulsed)return"impulsed";if(this.Ge())return"stunned";if(this.Ci)return"silenced";if(this.Xc())return"gooed";if(Cc(this))return"silenced"}return this.Np()};l.Np=function(){return"normal"};
l.bl=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a||"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Dv:"ulted"==a?z.impulse_blue:"white"==a?"white":"black"==a?"black":"world"==a.slice(0,5)?z["world "+a.slice(5,6)+" lite"]:this.Mp(a)};l.Mp=function(){};l.Nk=function(){};function Vc(){}Vc.prototype=new Fa;l=Vc.prototype;l.constructor=Vc;l.ha=function(a,b,c,d,f){this.$C(a,b,c,d,f);this.ic=1E3;this.oe=10;this.r.Qf&&this.r.i.wc&&(this.ic=6600);this.Fl=!1;this.Ky=5E3;this.kd=this.ic;this.Gk=600;this.xs=0;this.Pj=.95;"fourth boss"==this.type&&(this.Pj=.9);this.ok=[];this.Jw=10;this.lt=0;this.vF=30;this.wF=60;this.bB=1500*this.ic/6600;this.cB=250*this.ic/6600;this.mt=.6;this.r.Qf&&this.r.i.wc&&(a=this.r,b=this.ic,a.lk=b,a.ft=b)};l.$C=Fa.prototype.ha;l.xf=!0;
l.Hd=function(a){if(0<this.kd){this.kd=Math.max(this.kd-a,0);var b=1-this.kd/this.ic;this.visibility=$b(.15,.3,b);if(this.r.Qf&&this.r.wc){this.xs=b<this.Pj?$b(.7,.85,b/this.Pj):1+2*(b-this.Pj)/(1-this.Pj);this.lt-=a;for(b=0;b<this.ok.length;b++){var c=this.ok[b];c.ob+=a/this.bB}for(b=this.ok.length-1;0<=b;b--)c=this.ok[b],1<c.ob&&this.ok.splice(b,1);if(0>this.lt){a=this.body.g.position;for(b=0;b<this.Jw;b++){var c=this.Gk/G*this.xs*.5+5,d=2*Math.PI*b/this.Jw+(Math.random()-.5)*Math.PI*2/this.Jw;
this.ok.push({Rn:Math.cos(d)*c+a.x,Sn:Math.sin(d)*c+a.y,ob:0})}this.lt=this.cB}}}else 0==this.zb&&(this.zb=!0,this.visibility=1),this.lp(a)};l.lp=function(){};function Wc(a){if(a.zb)return 0;var b=1-a.kd/a.ic;return b>a.Pj?1-(b-a.Pj)/(1-a.Pj):1}
l.Xk=function(a,b){if(!this.zb&&this.r.Qf&&this.r.wc){a.save();for(var c=0;c<this.ok.length;c++){var d=this.ok[c];a.save();a.globalAlpha=.25>d.ob?4*a.globalAlpha*d.ob:(1-d.ob)/.75*a.globalAlpha;0<=this.Ic&&(a.globalAlpha*=.5);a.globalAlpha*=Wc(this);var f=1-this.kd/this.ic,f=this.vF*(1-f)+this.wF*f;J(a,(d.Rn*(1-d.ob*this.mt)+this.body.g.position.x*d.ob*this.mt)*b,(d.Sn*(1-d.ob*this.mt)+this.body.g.position.y*d.ob*this.mt)*b,0,f*Math.min(2*d.ob,1),f*Math.min(2*d.ob,1),"dark_aura");a.restore()}c=this.body.g.position;
a.globalAlpha*=Wc(this);J(a,c.x*b,c.y*b,0,this.Gk*this.xs,this.Gk*this.xs,"dark_aura");a.restore()}this.wy(a,b)};l.wy=function(){};
l.qr=function(){if(Xc){var a=this.r.i.Fm[0],b=new Yc(this.body.g.position.x*G,this.body.g.position.y*G,this.r,a.jb,a.size,!1);this.r.i.Wc.push(b);b.sn(a.x,a.y,4E3);b.opacity=.7;b.Wk=!0}a=this.r.i;a.Rg=[];a.yd=[];a.wg=[];a.se=[];a.sA=[];a=this.r;a.vs=!0;a.rD=5E3;a.ws=5E3;a.us.width=P;a.us.height=Q;a=a.us.getContext("2d");Eb(a,0,0,P,Q,"Hive 0");a=this.r;a.lk=3E3;a.ft=3E3;kc();this.zo()};l.zo=function(){};l.an=function(){return this.oe};
l.Ef=function(a,b,c){this.zb&&(this.body.ia(new b2Vec2(this.an()*b*Math.cos(c),this.an()*b*Math.sin(c)),this.body.h.o),this.we(a,b,c))};l.we=function(){this.rc=this.Up};l.Ql=function(){};l.Gc=function(){};l.tv=function(){};l.Wp=function(){};l.open=function(){};Zc.prototype=new Vc;l=Zc.prototype;l.constructor=Zc;
function Zc(a,b,c,d,f){this.type="fourth boss";this.ha(a,b,c,d,f);this.Vc=!1;this.Be=5;this.Nd=!1;this.ji=!0;this.body.tb(Math.PI/2);this.visibility=0;this.ic=1E3;this.r.Qf&&this.r.wc&&(this.ic=2300);this.kd=this.ic;this.bB=1500*this.ic/6600;this.cB=250*this.ic/6600;this.r.Qf&&this.r.i.wc&&(a=this.r,b=this.ic,a.lk=b,a.ft=b);this.zb=!1;this.mf=0;this.lC=5;this.ay=1E3;this.Bo=0;this.ee=Math.PI/2;this.sF="#000000 #110000 #660000 #990000 #cc0000 #ff0000".split(" ");this.qh=0;this.$A=250;this.aB=2E4;"easy"==
L&&(this.aB=3E4);this.tF=.2;this.yF={stunner:8,spear:5,tank:6,mote:6,goo:1,harpoon:4,orbiter:5,disabler:1,fighter:3,slingshot:4,troll:6,deathray:2};this.zF={stunner:6,spear:4,tank:4,mote:4,goo:1,harpoon:3,orbiter:3,disabler:1,fighter:2,slingshot:2,troll:4,deathray:1};this.AF={stunner:10,spear:10,tank:75,mote:10,goo:20,harpoon:20,orbiter:8,disabler:20,fighter:30,slingshot:10,troll:10,deathray:50};this.Iw="stunner spear fighter orbiter troll goo harpoon deathray slingshot mote tank disabler".split(" ");
"normal"==L&&(this.Iw="spear mote fighter orbiter troll goo harpoon deathray slingshot stunner tank disabler".split(" "));this.Hw=0;this.Hv=this.Nz=2;this.Mz=Math.PI/4;this.Bl=5;this.fd=[];this.gi=null;this.En=[];this.eB=4;"easy"==L&&(this.eB=4);this.ly=1E4;"easy"==L&&(this.ly=12E3);this.xr=!1;this.Do=this.jy=1250;this.Eo=0;this.ky=1E3;"easy"==L&&(this.ky=1500);this.Mi=!1;this.Py=!0;this.Aj=H[this.type].Aj;for(a=0;a<this.Bl;a++)b=(a+.5)/this.Bl*Math.PI*2+this.body.ga(),c=ac(this.sa,H[this.type].xy,
this.body.g.position.x+1.5*this.I*Math.cos(Math.PI/5)*Math.cos(b),this.body.g.position.y+1.5*this.I*Math.cos(Math.PI/5)*Math.sin(b),10,17,"static",this),c.tb(b),this.fd.push({type:"body",cc:a,body:c,size:this.Aj*(.8+.2*$b(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3))});this.nB=4E3;this.xF=2E3;this.Pu=0;this.bd=100;L&&(this.bd=70);this.Zu=2E4;this.Md=this.Zu-1;this.qp=this.Mk=this.Wg=1E3;this.Ue=document.createElement("canvas");this.Gm=this.Ue.getContext("2d");this.Ue.width=200;this.Ue.height=
200;this.pp=0;this.Gm.beginPath();this.Gm.moveTo(100+100*Math.cos(8*Math.PI/5),100+100*Math.sin(8*Math.PI/5));for(a=0;5>a;a++)this.Gm.lineTo(100+100*Math.cos(2*Math.PI*a/5),100+100*Math.sin(2*Math.PI*a/5));this.Gm.closePath();this.Gm.fillStyle="black";this.Gm.fill();this.$u=!1}
l.V=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ga(),2*this.I*b,2*this.I*b,"adrogantia_head",Ab);if(0<this.mf){a.save();a.beginPath();var d=this.body.ga();a.moveTo(c.x*b+this.I*b*Math.cos(d),c.y*b+this.I*b*Math.sin(d));for(var f=1;f<=this.mf;f++)a.lineTo(c.x*b+this.I*b*Math.cos(d+f*Math.PI*
2/5),c.y*b+this.I*b*Math.sin(d+f*Math.PI*2/5));5>this.mf&&a.lineTo(c.x*b,c.y*b);a.closePath();a.clip();J(a,c.x*b,c.y*b,this.body.ga(),2*this.I*b,2*this.I*b,"adrogantia_head_red",Ab);a.restore()}this.Gd(a,b);a.restore()}};
l.wy=function(a,b){a.save();a.globalAlpha=1;var c=this.body.g.position;if(0<this.Md){var d=1-this.Md/this.Zu,f=this.I*d*b;this.pp=this.body.ga();a.save();a.globalAlpha*=.5;a.translate(c.x*b,c.y*b);a.rotate(this.pp);a.drawImage(this.Ue,0,0,this.Ue.width,this.Ue.height,-f,-f,2*f,2*f);a.restore()}else this.Md>-this.Wg?(this.$u||(this.$u=!0,ec("b4darkness")),d=this.Md/-this.Wg,f=(this.I*(1-d)+60*d)*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.pp),a.drawImage(this.Ue,0,0,this.Ue.width,
this.Ue.height,-f,-f,2*f,2*f),a.restore()):this.Md>-(this.Wg+this.Mk)?(f=60*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.pp),a.drawImage(this.Ue,0,0,this.Ue.width,this.Ue.height,-f,-f,2*f,2*f),a.restore()):this.Md>-(this.Wg+this.Mk+this.qp)&&(d=1-(this.Md+this.Wg+this.Mk)/-this.qp,f=60*b,a.save(),a.globalAlpha=.5*a.globalAlpha*d,a.translate(c.x*b,c.y*b),a.rotate(this.pp),a.drawImage(this.Ue,0,0,this.Ue.width,this.Ue.height,-f,-f,2*f,2*f),a.restore());a.restore()};
l.Gd=function(a,b){$c(this);for(var c in this.fd)if("body"==this.fd[c].type){var d=this.fd[c],f=d.body.g.position,g=d.body.ga();a.save();J(a,f.x*b,f.y*b,g,d.size*b*2,d.size*b*2,d.cc<this.mf?"adrogantia_body_bud_red":"adrogantia_body_bud",Ab);a.restore()}};
l.lp=function(a){0<this.Eo&&(this.Eo-=a);0<this.mf&&(this.Bo-=a,0>this.Bo&&(this.Bo=this.ay,--this.mf));null!=this.op&&this.op instanceof ad&&!this.op.ma()?(this.qh+=a/(this.$A*Math.pow(.8,this.mf)),1<this.qh&&(this.qh=1)):0<this.qh&&(this.qh-=a/this.$A,0>this.qh&&(this.qh=0));if(this.Py){this.Mi=!0;for(var b=0;b<this.Bl;b++){var c=null,c=0==b?{type:"attack",cc:b,Jm:0,body:null,gs:null,Vk:null}:{type:"spawn",cc:b,Jm:0,body:null,gs:null,Vk:null};this.fd.push(c);bd(this,c)}this.Py=!1}for(var d in this.fd)if(b=
this.fd[d],"attack"==b.type||"spawn"==b.type){var b=this.fd[d],f=this.fd[d].cc,c=f/this.Bl*Math.PI*2+this.body.ga();if(0<b.Jm&&!this.Mi)b.Jm-=a;else if(null==b.body)b.type=null,this.En.splice(this.En.indexOf(f),1),bd(this,b);else{var f=Math.max(.1,$b(.15,.85,Math.min(1,1-b.Vk/b.gs))*H["boss four "+b.type+"er"].I),g=this.I+f,g={x:this.body.g.position.x+g*Math.cos(c),y:this.body.g.position.y+g*Math.sin(c)};b.tf.et(f);b.body.tb(c);b.body.pj(g);b.Vk-=a;0>=this.Eo&&0>b.Vk&&-1===this.En.indexOf(d)&&b!=
this.gi&&this.En.push(d)}}0<this.En.length&&!this.gi&&(d=this.En.splice(0,1)[0],this.gi=b=this.fd[d],this.iy=d/this.Bl*Math.PI*2);d=S(this.body.g.position,Hc(this.q));for(var h in this.i.s)b=this.i.s[h],b.K||b==this||"boss four attacker"==b.type||"boss four spawner"==b.type||(6>R(b.body.g.position,this.body.g.position)?b.Qc("absorbed"):8>R(b.body.g.position,this.body.g.position)&&(c=Yb(d,S(this.body.g.position,b.body.g.position)),b.body.ia(new b2Vec2(5*b.pa*Math.cos(c),5*b.pa*Math.sin(c)),b.body.h.o),
c=c<d?c+Math.PI/2:c-Math.PI/2,b.body.ia(new b2Vec2(b.pa*Math.cos(c),b.pa*Math.sin(c)),b.body.h.o)));0>this.Md&&this.Md>-this.Wg?(h=this.Md/-this.Wg,this.i.Wm=1-h):this.Md<-(this.Wg+this.Mk)&&this.Md>-(this.Wg+this.Mk+this.qp)?(h=(this.Md+this.Wg+this.Mk)/-this.qp,this.i.Wm=h):0<=this.Md&&(this.i.Wm=1);if(this.gi)if(this.xr)this.Do-=a,0>this.Do&&cd(this,this.gi);else{h=this.body.ga();if("attack"==this.gi.type)var k=Yb(h,S(this.body.g.position,Hc(this.q))-this.iy);else if("spawn"==this.gi.type)if(this.Mi)k=
Yb(h,Math.PI/2);else{if(null==this.Qw)for(k=S(this.body.g.position,this.q.body.g.position),k=[k+Math.PI,k+Math.PI/4,k-Math.PI/4],d=0;d<k.length;d++)if(b=k[d],c={x:this.body.g.position.x+15*Math.cos(b),y:this.body.g.position.y+15*Math.sin(b)},f=Math.min(775/G-c.x,c.x-25/G),g=Math.min(575/G-c.y,c.y-25/G),Kb(this.body.g.position,c,this.i.se)&&5<Math.min(f,g)){this.Qw=b;break}k=Yb(h,this.Qw-this.iy)}d=this.nB;Zb(h,k)<2*Math.PI*a/d?(this.body.tb(k),this.xr=!0,this.Mi?this.Do=0:(this.Do=this.jy,this.gi.tf.ks=
!0)):k>h?this.body.tb(this.body.ga()+2*Math.PI*a/d):this.body.tb(this.body.ga()-2*Math.PI*a/d)}$c(this);this.ee+=a/(this.aB*Math.pow(.8,this.mf))*Math.PI*2;h=k=null;d={x:this.body.g.position.x+100*Math.cos(this.ee),y:this.body.g.position.y+100*Math.sin(this.ee)};if(0>=this.Hv)for(this.Hv=this.Nz,b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b]instanceof ad&&this.i.s[b].zb&&Xb(this.ee-this.Mz,this.ee+this.Mz,S(this.body.g.position,this.i.s[b].body.g.position))&&(c=this.i.s[b].rv(this.body.g.position,
d).Zd,null==k||null!=c&&c<k)&&(k=c,h=this.i.s[b]);else k=this.Ae,h=this.op;--this.Hv;c=this.q.rv(this.body.g.position,d).Zd;if(null==k||null!=c&&c<k)k=c,h=this.q;h instanceof ad&&h.id!=this.op.id&&h.zb&&(d=h,d.ma()||(d.jt=!0,d.On=d.Gw));this.op=h;this.Ae=k;"normal"==L&&(this.Md-=a,0>this.Md&&this.Md<-(this.Wg+this.Mk+this.qp)&&(this.Md=this.Zu,this.$u=!1))};
function cd(a,b,c){if(a.Mi)for(a.Mi=!1,b=0;b<a.fd.length;b++)c=a.fd[b],"spawn"==c.type&&cd(a,c,!0);else{if("attack"==b.type)b.tf.dir={x:b.body.g.position.x-a.body.g.position.x,y:b.body.g.position.y-a.body.g.position.y},b.body=null,b.Jm=0,a.gi=null,a.xr=!1,b.tf.body.ig(),b.tf=null,ec("b4attacker");else if("spawn"==b.type){a.gi=null;a.xr=!1;b.Jm=0;b.body=null;var d=S(a.body.g.position,b.tf.body.g.position),d=new b2Vec2(Math.cos(d),Math.sin(d));d.aa(a.xF);b.tf.body.ia(d,b.tf.body.h.o);b.tf.zb=!0;b.tf.ks=
!1;1!=c&&b.tf.Gc(5E3,!0,!0);Oc(b.tf);b.tf.body.ig();b.tf=null;a.Qw=null;ec("b4spawner")}a.Eo=a.ky}}
l.zo=function(){for(var a=0;a<this.fd.length;a++){var b=this.fd[a],c=S(this.body.g.position,b.body.g.position);"body"==b.type?(b=ac(this.sa,H[this.type].xy,this.body.g.position.x+1.5*this.I*Math.cos(Math.PI/5)*Math.cos(c),this.body.g.position.y+1.5*this.I*Math.cos(Math.PI/5)*Math.sin(c),.1,17,"dynamic",this),b.tb(c),this.fd[a].body=b,c=new b2Vec2(Math.cos(c),Math.sin(c)),c.bb(),c.aa(20),b.ia(c,b.h.o)):0<b.Vk&&(c=new b2Vec2(Math.cos(c),Math.sin(c)),c.bb(),c.aa(30),this.fd[a].body.ia(c,this.fd[a].body.h.o))}};
function $c(a){if(!a.K){for(var b=.8+.2*$b(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3),c=[],d=0;5>d;d++)c.push({x:Math.cos(2*Math.PI*d/5)*b*a.Aj,y:Math.sin(2*Math.PI*d/5)*b*a.Aj});for(d in a.fd){var f=a.fd[d];if("body"==f.type){var f=a.fd[d],g=(a.fd[d].cc+.5)/a.Bl*Math.PI*2+a.body.ga();f.body.Mc.ab.Z=c;f.body.pj({x:a.body.g.position.x+(a.I+b*a.Aj)*Math.cos(Math.PI/5)*Math.cos(g),y:a.body.g.position.y+(a.I+b*a.Aj)*Math.cos(Math.PI/5)*Math.sin(g)});f.body.tb(g);f.size=b*a.Aj}}}}
function bd(a,b){null==b.type&&(a.Pu+=1,b.type=0==a.Pu%a.eB?"spawn":"attack");var c=b.cc/a.Bl*Math.PI*2+a.body.ga(),d=a.I+1.5*H["boss four "+b.type+"er"].Iz,f=a.body.g.position.x+d*Math.cos(c),d=a.body.g.position.y+d*Math.sin(c),g=null;"attack"==b.type?g=new dd(a.sa,f,d,a.i.Bc,a.r,.1):(a.Hw+=1,g=a.Iw[(a.Hw-1)%a.Iw.length],g=new ad(a.sa,f,d,a.i.Bc,a.r,g,"easy"==L?a.zF[g]:a.yF[g],a.AF[g],a,.1));b.body=g.body;b.tf=g;b.body.tb(c);a.i.mi.push(g);a.i.Bc+=1;b.gs=a.Mi&&"spawn"==b.type?1E3:a.ly;b.Vk=b.gs}
l.nh=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){a.save();var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Pk(a,b);this.zb&&(a.beginPath(),c=null!=this.Ae?this.Ae:100,a.moveTo((this.body.g.position.x+ed(this)*Math.cos(this.ee+Math.PI/2))*b,(this.body.g.position.y+ed(this)*Math.sin(this.ee+Math.PI/2))*b),a.lineTo((this.body.g.position.x+ed(this)*Math.cos(this.ee-Math.PI/2))*b,(this.body.g.position.y+
ed(this)*Math.sin(this.ee-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.ee)+ed(this)*Math.cos(this.ee-Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.ee)+ed(this)*Math.sin(this.ee-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.ee)+ed(this)*Math.cos(this.ee+Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.ee)+ed(this)*Math.sin(this.ee+Math.PI/2))*b),a.closePath(),a.globalAlpha*=.5,a.fillStyle=this.sF[this.mf],a.fill(),a.globalAlpha*=2,0<this.qh&&(a.save(),
a.globalAlpha*=this.qh,a.fillStyle="red",a.fill(),a.restore()));a.restore()}};l.Pk=function(a,b){var c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ga(),200,200,"adrogantia_glow",Ab)};l.move=function(){};l.Se=function(a){this.K||a!==this.q||(a=S(this.body.g.position,Hc(this.q)),this.q.body.ia(new b2Vec2(this.bd*Math.cos(a),this.bd*Math.sin(a)),this.q.body.h.o),Uc(this.r))};l.Mj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Gb();c.Lg(this.Dg[0][b]);a.push(c)}return a};
l.we=function(){this.rc=this.Up;this.mf<this.lC&&(this.mf+=1);this.Bo=this.ay};l.Wk=function(){};function ed(a){return a.tF*Math.pow(1.2,a.mf)}l.an=function(){return"easy"==L?2*this.oe:this.oe};dd.prototype=new Fa;l=dd.prototype;l.constructor=dd;function dd(a,b,c,d,f,g){this.type="boss four attacker";this.ha(a,b,c,d,f);this.size=g;this.Mf=!1;this.bd=100;"easy"==L&&(this.bd=70);this.fB=200;this.dir=null;this.Ao=this.ks=!1}
l.V=function(a,b){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;this.ks?J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud_firing",Ab):J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud",Ab);a.restore()};
l.Hd=function(){if(this.dir){var a=new b2Vec2(this.dir.x,this.dir.y);a.bb();a.aa(this.pa);"easy"==L&&a.aa(.5);this.body.ia(a,this.body.h.o)}};l.move=function(){};
l.Se=function(a){if(!this.K&&!this.ma())if(a===this.q){var b=S(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.bd*Math.cos(b),this.bd*Math.sin(b)),this.q.body.h.o);Uc(this.r)}else if(this.dir&&"boss four spawner"==a.type){var b=S({x:0,y:0},this.dir),c=Yb(b,S(this.body.g.position,a.body.g.position)),b=b<c?b-Math.PI/2:b+Math.PI/2;a.body.ia(new b2Vec2(this.fB*Math.cos(b),this.fB*Math.sin(b)),a.body.h.o)}else this.dir&&"fourth boss"!=a.type&&(S(this.body.g.position,a.body.g.position),
b=new b2Vec2(this.dir.x,this.dir.y),b.bb(),b.aa(100*a.pa),a.body.ia(b,a.body.h.o))};l.Ef=function(){};l.Rr=function(){if(this.dir)for(var a=0;a<this.i.yd.length;a++)if(Mb(this.i.yd[a],this.body.g.position)){0>=this.la.open&&this.Fl?this.Qc("accident"):this.Qc("kill");break}};l.et=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Mc.ab.Z=b;this.size=a;this.body.ig()};ad.prototype=new Fa;l=ad.prototype;l.constructor=ad;function ad(a,b,c,d,f,g,h,k,n,q){this.type="boss four spawner";this.ha(a,b,c,d,f);this.Fp=g;this.color="black";this.Kz=H[this.Fp].color;this.jt=!1;this.uF=h;this.BE=k;this.size=q;this.Mf=!1;this.parent=n;this.ks=this.zb=!1;this.Gw=1E3;this.On=0;this.oe=2;this.bd=100}
l.Hd=function(a){if(!this.K&&(this.zb&&(0<this.On?(this.et(H[this.type].I*(1+$b(.15,.85,.5-Math.abs(this.On/this.Gw-.5)))),this.On-=a):this.size!=H[this.type].I&&this.et(H[this.type].I)),this.jt&&this.On<this.Gw/2)){ec("b4spawneract");a=S(this.parent.body.g.position,this.body.g.position);for(var b=0,c=this.uF*(1+.2*this.parent.mf),d=Math.max(c,4),f=0;f<c;f++){if(this.i.Tk[this.Fp]+f>=this.i.Tm[this.Fp][6]){this.Gc(500);this.jt=!1;return}for(var g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;!Kb(this.body.g.position,
{x:this.body.g.position.x+10*Math.cos(g),y:this.body.g.position.y+10*Math.sin(g)},this.i.se);)b+=1,g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;var h=[this.body.g.position.x+2*this.I*Math.cos(g),this.body.g.position.y+2*this.I*Math.sin(g)],h=new H[this.Fp].className(this.sa,h[0],h[1],this.i.Bc,this.r),k=new b2Vec2(Math.cos(g),Math.sin(g));k.aa(this.BE);h.body.ia(k,h.body.h.o);h.Le(g);h.Rd=h.ue;h.Ee=!0;h.nc=0;this.i.mi.push(h);this.i.Bc+=1;b+=1}this.jt=!1;this.Gc(1E3)}};
l.et=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Mc.ab.Z=b;this.size=a;this.body.ig()};l.Gd=function(a,b){this.ma()&&this.Ci&&!this.K&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.I*b*1.5,-.5*Math.PI,-.5*Math.PI+this.$[1]/this.CD*Math.PI*1.998,!0),a.lineWidth=2,a.strokeStyle="red",a.stroke())};l.Ow=Fa.prototype.Gc;l.Gc=function(a,b){this.Ow(a,b);this.CD=a};l.Se=function(a){this.K||a===this.q&&Uc(this.r)};
l.Ef=function(a,b,c){this.zb&&(this.body.ia(new b2Vec2(this.oe*b*Math.cos(c),this.oe*b*Math.sin(c)),this.body.h.o),this.we(a,b,c))};
l.V=function(a,b){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_spawner",Ab);var d=this.Fp,c=this.body.g.position.x*b,f=this.body.g.position.y*b,g=this.size*b*.7,h=this.body.ga();a.save();h&&(a.translate(c,f),a.rotate(h),a.translate(-c,-f));h=Math.min(1/H[d].I,1)*g/2;"boss"==d.slice(d.length-4)&&(h=2/H[d].I*g/2);for(g=0;g<H[d].bc.length;g++){var k=H[d].bc[g];
Ha(a,c,f,k,h,"black")}if("undefined"!==typeof H[d].Hj)for(g=0;g<H[d].Hj.length;g++)k=H[d].Hj[g],Ha(a,c,f,k,h,"black");d=H[d].gz;if("undefined"!==typeof d)for(g=0;g<d.length;g++)a.beginPath(),k=d[g],a.moveTo(c+h*k.x1,f+h*k.y1),a.lineTo(c+h*k.x2,f+h*k.y2),a.lineWidth=2,a.strokeStyle="black",a.stroke();a.restore();a.restore();this.Gd(a,b)};l.move=function(){};fd.prototype=new Vc;l=fd.prototype;l.constructor=fd;
function fd(a,b,c,d,f){this.type="first boss";this.sa=a;this.ha(a,b,c,d,f);this.Vc=!1;this.Be=5;this.Eg=this.Pc=562.5;this.Nd=!1;this.ji=!0;this.Pc=3E3;this.QA=2;this.nl=9E3;this.ae=this.nl-1;this.Pi=3E3;this.zb=this.Yp=!1;this.Um=["stunner","spear","tank"];this.Pn={stunner:5,spear:3,tank:20};this.Mf=!1;this.body.tb(Math.PI/2);this.Hz=Math.PI/2;this.visibility=0;this.oB=500;"easy"==L&&(this.oB=750);this.oe="easy"==L?20:15;this.nB=5E3;this.body.zh(100*H[this.type].Na);this.Jf=30;"easy"==L&&(this.Jf=
20);this.BD=1;this.CA=8;this.$x=750;this.Tz=this.Ly=400;this.FA=300;this.BA=400;this.wA=300;this.HE=(this.Ly+this.BA+this.FA+this.Tz+this.wA)/2;this.LF=1500;this.Up=150;this.rc=0;this.il={left:0,right:0};this.ek={left:0,right:0};this.lf={left:this.$x,right:this.$x};this.data=H[this.type];this.state="turret";this.Ac={left:"none",right:"none"};this.eb={};this.La={};a=H[this.type].Zw[0].X;b=H[this.type].Ov[0].X;c=H[this.type].uv[0].X;d=this.I;f=this.body.g.position.x;var g=this.body.g.position.y,h=this.BD;
this.La.lu=ac(this.sa,H[this.type].Zw,f+d+a-2*h,g,.01,8,"dynamic",this);this.eb.lu=gd(this,new b2Vec2(f+d-h,g),this.body,this.La.lu);this.La.ll=ac(this.sa,H[this.type].Ov,f+d+2*a+b-4*h,g,.01,8,"dynamic",this);this.eb.ll=gd(this,new b2Vec2(f+d+2*a-3*h,g),this.La.lu,this.La.ll);this.La.lh=ac(this.sa,H[this.type].uv,f+d+2*a+2*b-4*h+.25*c,g,.01,8,"dynamic",this);this.La.lh.tb(Math.PI/4);this.eb.lh=gd(this,new b2Vec2(f+d+2*a+2*b-4*h+.25*c,g),this.La.ll,this.La.lh);this.La.ru=ac(this.sa,H[this.type].Zw,
f-(d+a-2*h),g,.01,8,"dynamic",this);this.eb.ru=gd(this,new b2Vec2(f-(d-h),g),this.body,this.La.ru);this.La.rl=ac(this.sa,H[this.type].Ov,f-(d+2*a+b-4*h),g,.01,8,"dynamic",this);this.eb.rl=gd(this,new b2Vec2(f-(d+2*a-3*h),g),this.La.ru,this.La.rl);this.La.rh=ac(this.sa,H[this.type].uv,f-(d+2*a+2*b-4*h+.25*c),g,.01,8,"dynamic",this);this.La.rh.tb(Math.PI/4);this.eb.rh=gd(this,new b2Vec2(f-(d+2*a+2*b-4*h+.25*c),g),this.La.rl,this.La.rh);this.hl={};this.Ag={};this.fi={left:"none",right:"none"};this.Oz=
{left:0,right:0};this.Ts=13;this.Bn={left:0,right:0};this.Dl=this.tw=13500;this.Dn=2E3;this.uw=200;this.DA=8;this.Cn=15;this.Us=150;this.AE=!1;this.nA=4E3;this.lA=12E3;this.mA=6E3;this.ak=this.nA;this.rn=this.lA;this.Fl=!1;this.Uz=1E3;this.Lw=this.$p=0;this.mz=!0}
l.zo=function(){var a="lu ll lh ru rl rh".split(" ");this.rc=0;this.il.left=0;for(var b=this.il.right=0;b<a.length;b++){this.sa.rx(this.eb[a[b]]);var c=S(this.body.g.position,this.La[a[b]].g.position),c=new b2Vec2(Math.cos(c),Math.sin(c));c.bb();c.aa(10);this.La[a[b]].ia(c,this.La[a[b]].h.o)}};
function hd(a,b){var c=arm;id(a,c,a.Tz);if("left"==c){var d=a;a.Ac[c]="loading";jd(a,"lu",.3*-Math.PI);jd(a,"lh",Math.PI/4);jd(a,"ll",function(){return Yb(d.eb.ll.ge(),S(d.eb.ll.Dd(),Hc(d.q))-d.eb.lu.ge()-(d.body.ga()-d.Hz))});a.Bn[c]=S(a.eb.ll.Dd(),b);a.fi[c]={x:a.eb.ll.Dd().x+Math.cos(a.Bn[c])*a.Ts,y:a.eb.ll.Dd().y+Math.sin(a.Bn[c])*a.Ts};a.$p=a.Uz}"right"==c&&(d=a,a.Ac[c]="loading",jd(a,"ru",.3*Math.PI),jd(a,"rh",-Math.PI/4),jd(a,"rl",function(){return Yb(d.eb.rl.ge(),Math.PI+S(d.eb.rl.Dd(),Hc(d.q))-
d.eb.ru.ge()-(d.body.ga()-d.Hz))}),a.Bn[c]=S(a.eb.rl.Dd(),b),a.fi[c]={x:a.eb.rl.Dd().x+Math.cos(a.Bn[c])*a.Ts,y:a.eb.rl.Dd().y+Math.sin(a.Bn[c])*a.Ts},a.$p=a.Uz)}function kd(a,b,c){id(a,b,a.Ly);"left"==b?(a.Ac[b]="default",jd(a,"lu",-Math.PI/4),jd(a,"ll",Math.PI/2),jd(a,"lh",0)):"right"==b&&(a.Ac[b]="default",c&&(a.Ac[b]="delay_default"),jd(a,"ru",Math.PI/4),jd(a,"rl",-Math.PI/2),jd(a,"rh",0))}
function ld(a,b){id(a,b,a.LF);"left"==b?(a.Ac[b]="loading_turret",jd(a,"lu",Math.PI/2),jd(a,"ll",0),jd(a,"lh",0)):"right"==b&&(a.Ac[b]="loading_turret",jd(a,"ru",-Math.PI/2),jd(a,"rl",0),jd(a,"rh",0))}function jd(a,b,c){a.hl[b]={start:a.eb[b].ge(),end:c}}function id(a,b,c){a.lf[b]=c;a.Oz[b]=c}function gd(a,b,c,d){var f=new m.l.J.om;f.nd(c,d,b);f.Sm=!0;f.Wz=-Math.PI/2;f.sB=Math.PI/2;f.Ur=!1;return a.sa.KB(f)}
l.lp=function(a){this.Lw+=a;1==this.i.s.length&&this.rn>this.mA&&(this.rn=this.mA);0<this.rc&&(this.rc-=a);0<this.$p&&(this.$p-=a);"turret"==this.state?(this.ak-=a,0>this.ak&&(this.state="punching",kd(this,"left",!0),this.ek.left=0,this.ek.right=0,kd(this,"right",!0),this.rn=this.lA)):"punching"==this.state&&(this.rn-=a,0>this.rn&&md(this));for(arm in this.Ac){this.lf[arm]-=a;0<this.il[arm]&&(this.il[arm]-=a);"none"==this.Ac[arm]&&md(this);if("turret"==this.state)var b=Yb(this.body.ga(),S(this.body.g.position,
Hc(this.q))+(Math.abs(this.Lw%2E3-1E3)-500)/500*Math.PI/8);else"punching"==this.state&&(b=Yb(this.body.ga(),S(this.body.g.position,Hc(this.q))));if("loading"==this.Ac[arm])if(this.body.tb(b),0>this.lf[arm]){Hc(this.q).Gb();var c=arm;id(this,c,this.BA);"left"==c&&"left"==c&&(this.Ag.ll=this.eb.ll.ge(),this.Ag.lu=this.eb.lu.ge(),this.Ag.lh=this.eb.lh.ge(),this.Ac[c]="punching",this.eb.ll.yh(0,Math.PI),this.eb.lu.yh(-Math.PI,Math.PI),this.eb.lh.yh(0,0));"right"==c&&(this.Ag.rl=this.eb.rl.ge(),this.Ag.ru=
this.eb.ru.ge(),this.Ag.rh=this.eb.rh.ge(),this.Ac[c]="punching",this.eb.rl.yh(-Math.PI,0),this.eb.ru.yh(-Math.PI,Math.PI),this.eb.rh.yh(0,0))}else nd(this);"default"==this.Ac[arm]&&(this.body.tb(b),0>this.lf[arm]?0<this.ek[arm]?this.ek[arm]-=a:hd(this,Hc(this.q)):nd(this));"delay_default"==this.Ac[arm]&&(this.body.tb(b),this.lf[arm]<-this.HE?0<this.ek[arm]?this.ek[arm]-=a:hd(this,Hc(this.q)):nd(this));if("punching"==this.Ac[arm])if(0>this.lf[arm]){c=arm;this.Ac[c]="paralyzed";if("right"==c)var d=
["rl","ru","rh"];"left"==c&&(d=["ll","lu","lh"]);c=void 0;for(c in d){var f=d[c];this.eb[f].yh(this.eb[f].ge(),this.eb[f].ge())}this.lf[arm]=this.wA}else{c=arm;if("left"==c){var f=S(this.La.lh.g.position,this.fi[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=R(this.La.lh.g.position,this.fi[c]);this.eb.lu.Dd();10>g&&f.aa(g/10);"punching"==this.Ac[c]&&f.aa(this.CA);this.La.lh.ia(f,this.La.lh.h.o)}"right"==c&&(f=S(this.La.rh.g.position,this.fi[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=R(this.La.rh.g.position,
this.fi[c]),this.eb.ru.Dd(),10>g&&f.aa(g/10),"punching"==this.Ac[c]&&f.aa(this.CA),this.La.rh.ia(f,this.La.rh.h.o))}"retract"==this.Ac[arm]&&(0>this.lf[arm]?kd(this,arm):nd(this));"paralyzed"==this.Ac[arm]&&0>this.lf[arm]&&(c=arm,id(this,c,this.FA),"left"==c?(this.fi.left=null,this.Ac[c]="retract",jd(this,"lu",this.Ag.lu),jd(this,"ll",this.Ag.ll),jd(this,"lh",this.Ag.lh)):"right"==c&&(this.fi.right=null,this.Ac[c]="retract",jd(this,"ru",this.Ag.ru),jd(this,"rl",this.Ag.rl),jd(this,"rh",this.Ag.rh)));
"loading_turret"==this.Ac[arm]&&(this.body.tb(b),0>this.lf[arm]?this.Ac[arm]="turret_firing":nd(this));if("turret_firing"==this.Ac[arm]&&(this.body.tb(b),0>this.lf[arm])){g=arm;c=new b2Vec2(Math.cos(this.body.ga()),Math.sin(this.body.ga()));f=this.Um[Math.floor(Math.random()*this.Um.length)];"easy"==L&&"tank"==f&&.5>Math.random()&&(f=this.Um[Math.floor(Math.random()*this.Um.length)]);c.bb();var h=null;"left"==g&&(h={x:this.La.lh.g.position.x+3*c.x,y:this.La.lh.g.position.y+3*c.y});"right"==g&&(h=
{x:this.La.rh.g.position.x+3*c.x,y:this.La.rh.g.position.y+3*c.y});c.aa(this.Pn[f]);g=new this.i.ez[f](this.sa,h.x,h.y,this.i.Bc,this.r);this.i.mi.push(g);g.body.ia(c,g.body.h.o);g.Ql(this.ak+2E3);g.la.invincible=Math.max(this.ak+2E3,g.la.invincible);"stunner"==f&&g.open(1500);g.Rd=2*g.ue;g.Le(this.body.ga());0>this.ae&&g.Wp(this.ae+this.Pi);this.i.Bc+=1;this.lf[arm]=this.oB}}if("normal"==L){if(0>this.ae&&this.ae>.9*-this.Pi&&!this.Yp)for(this.Yp=!0,ec("b1shrink"),this.Eg>this.Pc/this.QA&&(this.Eg=
this.Pc/this.QA),this.q.Wp(Math.round(this.Pi)),b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b].Wp(Math.round(this.Pi));this.ae<.9*-this.Pi&&this.Yp&&(this.Yp=!1,ec("b1grow"));this.ae<-this.Pi&&(this.ae=this.nl);this.ae-=a;if(!(this.ae>.9*this.nl)&&this.ae<.175*this.nl&&0<=this.ae)for(a=this.ae;a>.05*this.nl;)a-=.05*this.nl}};
function nd(a){var b=arm,c=[];"left"==b&&(c=["lu","ll","lh"]);"right"==b&&(c=["ru","rl","rh"]);for(index in c){var d=c[index];if("undefined"!==typeof a.hl[d].start&&"undefined"!==typeof a.hl[d].end){var f=Math.max(a.lf[b]/a.Oz[b],0),g=null,g="function"==typeof a.hl[d].end?a.hl[d].end():a.hl[d].end,f=f*a.hl[d].start+(1-f)*g;a.eb[d].yh(f,f)}}}
function od(a,b,c,d,f){var g=b.g.position;0<a.rc||0<a.il[f]?J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm_red",xb):J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm",xb)}function pd(a,b,c,d,f){var g=b.g.position;0<a.rc||0<a.il[f]?J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand_red",xb):J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand",xb)}
l.Pk=function(a,b){var c=this.body.g.position;0<this.rc?J(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_red_glow",xb):J(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_glow",xb);var d=[];for(index in d)if(c=d[index],this.La[c]){var f=this.La[c],c=f.g.position;J(a,c.x*b,c.y*b,f.ga(),190,190,"immunitas_glow",xb)}};
l.V=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);od(this,this.La.lu,a,b,"left");od(this,this.La.ru,a,b,"right");od(this,this.La.ll,a,b,"left");od(this,this.La.rl,a,b,"right");pd(this,this.La.lh,a,b,"left");pd(this,this.La.rh,a,b,"right");c=this.body.g.position;0<this.rc?J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head_red",xb):
J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head",xb);a.restore();this.Gd(a,b)}};
l.Ty=function(a,b){var c=1-Math.max(this.ae,0)/this.nl;a.beginPath();var d=b*this.body.g.position.x,f=b*this.body.g.position.y;0<c&&(a.moveTo(d,f-106),a.lineTo(d+106*Math.min(1,c/.25),f-106+106*Math.min(1,c/.25)));.25<c&&(a.moveTo(d+106,f),a.lineTo(d+106-106*Math.min(1,(c-.25)/.25),f+106*Math.min(1,(c-.25)/.25)));.5<c&&(a.moveTo(d,f+106),a.lineTo(d-106*Math.min(1,(c-.5)/.25),f+106-106*Math.min(1,(c-.5)/.25)));.75<c&&(a.moveTo(d-106,f),a.lineTo(d-106+106*Math.min(1,(c-.75)/.25),f-106*Math.min(1,(c-
.75)/.25)));a.lineWidth=15;a.strokeStyle=z["boss 1"];a.stroke()};function qd(a,b,c){for(var d=0;d<a.DA;d++){var f=d/a.DA*Math.PI*2;J(b,a.body.g.position.x*c+(a.Cn+.9)*c*Math.cos(f),a.body.g.position.y*c+(a.Cn+.9)*c*Math.sin(f),f,70,70,"immunitas_arrow",xb);b.globalAlpha*=.8;b.beginPath();b.arc(a.body.g.position.x*c,a.body.g.position.y*c,a.Cn*c,0,2*Math.PI,!1);b.strokeStyle="black";b.lineWidth=2;b.stroke();b.globalAlpha/=.8}}
l.Gd=function(a,b){this.K||(a.save(),null!=this.Dl&&(this.Dl<this.Dn?(a.beginPath(),a.globalAlpha=(this.Dn-this.Dl)/this.Dn*.7,qd(this,a,b)):this.Dl>this.tw-this.Dn/2&&this.AE&&(a.beginPath(),a.globalAlpha=(this.Dl-(this.tw-this.Dn/2))/this.Dn/2*.7,qd(this,a,b)),this.Dl<this.uw&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,(this.uw-this.Dl)/this.uw*this.Cn*b,0,2*Math.PI,!1),globalAlpha=.7,a.lineWidth=4,a.strokeStyle=this.color,a.stroke())),a.restore())};
l.nh=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){a.save();if(this.K){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;this.Pk(a,b);c=this.body.g.position;a.globalAlpha*=.6;0<this.rc?J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura_red",xb):J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura",xb);a.globalAlpha/=.6;0<=this.ae&&this.Ty(a,b);a.globalAlpha*=.8;0>this.ae&&this.ae>=-this.Pi&&(c=Math.min(5-Math.abs((-this.ae-
this.Pi/2)/(this.Pi/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Kc,Lc));a.restore()}};l.move=function(){var a=this.body.ga(),b=S(this.body.g.position,Hc(this.q));Math.min(250,Zb(a,b)/Math.PI*1E3);Xb(a-Math.PI,a,b)?this.body.tb(this.body.ga()-Math.PI/2E3):this.body.tb(this.body.ga()+Math.PI/2E3)};
l.Se=function(a,b){if(!this.K&&this.zb)if(a==this.q&&(ec("b1hit"),Uc(this.r)),b==this.body){var c=S(this.body.g.position,a.body.g.position);a.body.ia(new b2Vec2(4*this.Jf*Math.cos(c),4*this.Jf*Math.sin(c)),a.body.h.o)}else{var c=S(this.body.g.position,a.body.g.position),d=this.Jf;this.Yp&&(d*=2);d="punching"==this.state?1.5*d:b!=this.La.lh&&b!=this.La.rh?1.5*d:a==this.q?1.25*d:0;a.body.ia(new b2Vec2(d*Math.cos(c),d*Math.sin(c)),a.body.h.o)}};
l.Mj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Gb();c.Lg({x:.6*this.Dg[0][b].x,y:.6*this.Dg[0][b].y});a.push(c)}return a};l.$f=function(){var a=S(this.body.g.position,Hc(this.q));this.q.body.ia(new b2Vec2(this.Jf*Math.cos(a),this.Jf*Math.sin(a)),this.q.body.h.o)};function md(a){a.state="turret";ld(a,"left");ld(a,"right");a.ak=a.nA;a.fi.left=null;a.fi.right=null;a.mz&&(a.ak*=.75,a.mz=!1)}
l.Wk=function(){if(R(this.body.g.position,Hc(this.q))<=this.Cn){var a=S(this.body.g.position,Hc(this.q));this.q.body.ia(new b2Vec2(this.Us*Math.cos(a),this.Us*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&R(this.body.g.position,this.i.s[a].body.g.position)<=this.Cn){var b=S(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ia(new b2Vec2(this.Us*Math.cos(b),this.Us*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a]instanceof rd||this.i.s[a].open(1500)}};
l.an=function(){return"easy"==L?2*this.oe:this.oe};sd.prototype=new Vc;l=sd.prototype;l.constructor=sd;
function sd(a,b,c,d,f){this.type="third boss";this.ha(a,b,c,d,f);this.Vc=!1;this.Be=5;this.Pc=1500;this.Eg=5;this.Nd=!1;this.ji=!0;this.zb=!1;this.body.tb(7*Math.PI/16);this.rc=this.visibility=0;this.Up=150;this.Jf=200;"easy"==L&&(this.Jf=120);this.xc=16;this.kc={};this.fj=2200;"easy"==L&&(this.fj=2800);this.Mq=1500;"easy"==L&&(this.Mq=2E3);this.dg=this.Mq;this.Mw=.7;this.Mf=!1;this.th=16*this.fj*(1-this.Mw);this.wt=4E3;"easy"==L&&(this.wt=6E3);this.co=this.wt;this.SF=16;this.Td=0;this.Wb="gap";this.fg=
this.Tl=1E3;this.Sq=this.TF=2E3;this.uk=4;this.bo=4.3;this.Pz=-1;this.yB=1E3;this.ri=0;this.pk=this.Nw=4500;this.Tn=.8;this.kv=0;this.oc="extend";this.eg=this.Pl=500;this.Im=this.I+2;this.QC=18;this.oi=this.I;this.Tq=0;this.mg=td(this);this.Gg=[];this.kt=0;this.vt=!1;this.ZA={stunner:150,spear:200,tank:200,mote:200,goo:200,harpoon:200,disabler:200,fighter:200,troll:200};this.YA={stunner:14,spear:12,tank:10,mote:6,goo:1,harpoon:6,disabler:1,fighter:4,troll:10};"easy"==L&&(this.YA={stunner:6,spear:5,
tank:3,mote:5,goo:1,harpoon:3,disabler:1,fighter:2,troll:5});this.Pn={stunner:25,spear:18,tank:200,mote:10,goo:200,harpoon:400,disabler:300,fighter:400,troll:20};this.rF={stunner:500,spear:1E3,tank:2E3,mote:500,goo:0,harpoon:5E3,disabler:0,fighter:5E3,troll:2E3,frenzy:1E3};this.mk=2E4;this.Ne=this.mk-1;this.jd=7E3;this.bj=!1;this.Jl=-1;this.Gn=!1;for(a=0;a<this.xc;a++)b=ac(this.sa,H[this.type].fy,this.body.g.position.x,this.body.g.position.y,.01,16,"static",this),b.tb(this.body.ga()+Math.PI/(this.xc/
2)*a),this.kc[a]={interval:this.fj,duration:0,Xi:0,Ae:this.I,body:b,sf:this.Mw}}
function td(a){var b=["tank","fighter","troll","harpoon"],c=["stunner","spear","goo","disabler"],d="mote harpoon stunner spear goo disabler tank fighter troll".split(" ");6<a.i.s.length&&(c.push("frenzy"),d.push("frenzy"));a=[];var f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b.splice(f,1);f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b=Math.floor(Math.random()*d.length);a.push(d[b]);-1!=c.indexOf(d[b])&&c.splice(c.indexOf(d[b]),1);
a.push(c[Math.floor(Math.random()*c.length)]);return a}
l.lp=function(a){this.Gn&&(0==this.Jl%2?this.body.tb(this.body.ga()+2*Math.PI*a/this.th):1==this.Jl%2&&this.body.tb(this.body.ga()-2*Math.PI*a/this.th));if("normal"==L){if(0>this.Ne&&!this.bj&&"activate"!=this.Wb&&"fadeout"!=this.Wb&&"gap"!=this.Wb){this.Ne=0;this.bj=!0;this.q.Gc(Math.round(this.jd));for(var b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b].Gc(Math.round(this.jd),!0,!0);"fadein"==this.Wb?(this.fg=this.Tl-this.fg,this.Wb="fadeout",this.Td=null):"spinning"==this.Wb||"activate"==
this.Wb?(this.fg=this.Tl,this.Wb="fadeout","spinning"==this.Wb&&(this.Td=null)):"gap"==this.Wb&&(this.Sq=this.Ne+this.jd);"retract"==this.oc?(this.eg=this.Pl-this.eg,this.oc="extend"):"gap"==this.oc?(this.eg=this.Pl,this.oc="extend"):"striking"==this.oc?(ud(this),this.oc="frenzy",this.Gn=!1,this.pk=this.Ne+this.jd):"frenzy"==this.oc&&(this.pk=this.Ne+this.jd);this.Gg=[]}this.bj&&this.Ne<-this.jd&&(this.bj=!1,this.Ne=this.mk);this.Ne-=a}"extend"==this.oc?(this.eg-=a,b=Math.min(1-this.eg/this.Pl,1),
this.oi=this.I+b*(this.Im-this.I),vd(this,this.oi),0>this.eg&&(this.bj?(this.oc="frenzy",this.pk=this.Ne+this.jd):(this.oc="striking",this.Gn=!0,this.Jl+=1),this.dg=0)):"striking"==this.oc?(wd(this),15>=R(this.body.g.position,Hc(this.q))?(this.dg-=a,0>=this.dg&&!(0<this.ri&&"frenzy"==this.mg[this.Td])&&(this.dg=this.Mq,xd(this))):this.dg-=a):"retract"==this.oc?(this.eg-=a,b=Math.max(this.eg/this.Pl,0),this.oi=this.I+b*(this.Im-this.I),vd(this,this.oi),wd(this),0>this.eg&&(this.oc="gap")):"gap"==this.oc?
wd(this):"frenzy"==this.oc&&(wd(this),this.dg-=a,this.pk-=a,0>=this.dg&&this.pk>this.Tn*this.fj&&(this.dg=this.Mq*this.Tn,xd(this)),0>this.pk&&(this.oc="striking",this.Gn=!0,this.Jl+=1,this.dg=this.Mq));if("fadein"==this.Wb)this.Td=0,this.fg-=a,this.Tq=Math.min(1-this.fg/this.Tl,1),0>=this.fg&&(this.Wb="spinning",this.Tq=1,this.co=this.wt);else if("spinning"==this.Wb)this.co-=a,b=Math.pow(Math.min(1-this.co/this.wt,1),1),this.Td=Math.floor(b*this.SF)%this.uk,this.Pz!=this.Td&&(this.Pz=this.Td,ec("b3tick")),
0>=this.co&&yd(this);else if("fadeout"==this.Wb)this.fg-=a,this.Tq=Math.max(this.fg/this.Tl,0),0>=this.fg&&(this.Wb="gap",this.Tq=0,this.Sq=this.bj?this.Ne+this.jd:this.rF[this.mg[this.Td]]+this.kv,this.kv=0,this.Td=null);else if("activate"==this.Wb){if("striking"==this.oc&&"frenzy"!=this.mg[this.Td]&&(this.oc="retract",this.Gn=!1,this.eg=this.Pl,ud(this)),this.ri!=this.yB||"frenzy"!=this.mg[this.Td]||this.vt||ud(this),this.ri-=a,0>this.ri)if(this.vt)this.Wb="fadeout",this.fg=this.Tl,"gap"==this.oc&&
"frenzy"!=this.mg[this.Td]&&(this.oc="extend",this.eg=this.Pl);else{b=this.mg[this.Td];if("frenzy"!=b)for(var c=0;c<this.YA[b];c++)this.Gg.push(b),this.ri+=this.ZA[b];else this.oc="frenzy",this.Gn=!1,this.pk=this.Nw,this.ri+=this.Nw,this.dg=0;this.vt=!0}}else"gap"==this.Wb&&(this.Sq-=a,0>=this.Sq&&(this.Wb="fadein",this.fg=this.Tl,this.mg=td(this)));0<this.Gg.length&&(this.kt-=a,0>this.kt&&(this.pt(this.Gg[0]),this.Gg.splice(0,1),this.kt=this.ZA[this.mg[this.Td]]));0<this.rc&&(this.rc-=a);if(!this.K)for(var d in this.kc)a=
this.kc[d],a.body.tb(this.body.ga()+Math.PI/(this.xc/2)*d),a.body.pj(this.body.g.position),a.body.Mc.ab.Z[1]={x:Math.cos(0)*a.Ae,y:Math.sin(0)*a.Ae},a.body.Mc.ab.Z[2]={x:Math.cos(Math.PI/8)*a.Ae,y:Math.sin(Math.PI/8)*a.Ae}};
function wd(a){for(var b in a.kc){var c=a.kc[b];0<c.duration&&(c.duration-=dt);if(0>=c.duration)c.Ae=c.Lq;else{var d=1-c.duration/c.interval,f=0;null==c.Xi&&(c.Xi=R(a.body.g.position,Hc(a.q))+5,20>c.Xi&&(c.Xi+=10));var f=c.sf,g=c.sf+.3*(1-c.sf),h=c.sf+.7*(1-c.sf);d<f?(f=d/f,c.Ae=c.Lq*(1-f)+c.By*f):d>=f&&d<g?(f=(d-f)/(g-f),f=$b(.15,.85,f),c.Ae=c.Xi*f+c.By*(1-f),c.WA||(c.WA=!0,ec("b3strike"))):d>=g&&d<h?c.Ae=c.Xi:d>=h&&1>d&&(f=(d-h)/(1-h),f=$b(.15,.85,f),c.Ae=0<f?c.Xi*(1-f)+c.Lq*f:c.Lq)}}}
function vd(a,b){for(var c in a.kc){var d=a.kc[c];d.Lq=b;0>=d.duration&&(d.Ae=b)}}function ud(a){for(var b in a.kc){var c=a.kc[b];if(0<c.duration){var d=1-c.duration/c.interval;d<c.sf?c.duration=0:d>c.sf&&d<.5*c.sf+.5&&(c.duration=2*c.interval*(.5-.5*c.sf)-c.duration)}}}
function xd(a){if("striking"==a.oc){for(var b=S(a.body.g.position,Hc(a.q)),b=Math.floor((b-a.body.ga())/(Math.PI/8));0>b;)b+=a.xc;for(var c=a.QC,d=0==a.Jl%2?[b-1,b-3,b-2]:[b+3,b+1,b+2],f=d.length-1;0<=f;f--)d[f]>=a.xc&&(d[f]-=a.xc),0>d[f]&&(d[f]+=a.xc),0<a.kc[d[f]].duration&&d.splice(f,1);f=Math.floor(Math.random()*d.length);zd(a,d[f],c,a.fj)}else if("frenzy"==a.oc){b=S(a.body.g.position,Hc(a.q));for(b=Math.floor((b-a.body.ga())/(Math.PI/8));0>b;)b+=a.xc;for(var c=null,d=[b-3,b-2,b-1,b,b+1,b+2,b+
3,b+4],g=!1,f=d.length-1;0<=f;f--)0<a.kc[Ad(a,d[f])].duration&&(d.splice(f,1),2<=f&&4>=f&&(g=!0));g||d.splice(d.indexOf(b+Math.floor(3*Math.random()-1)),1);f=Math.floor(Math.random()*d.length);zd(a,d[f],c,a.fj*a.Tn);d.splice(f,1);f=Math.floor(Math.random()*d.length);zd(a,d[f],c,a.fj*a.Tn);d.splice(f,1);-1!==d.indexOf(b)&&.5>Math.random()?zd(a,b,c,a.fj*a.Tn):zd(a,d[Math.floor(Math.random()*d.length)],c,a.fj*a.Tn)}}function Ad(a,b){b>=a.xc&&(b-=a.xc);0>b&&(b+=a.xc);return b}
function zd(a,b,c,d){a.EF||(a.EF=b);b=Ad(a,b);0>=a.kc[b].duration&&(a.kc[b].duration=d,a.kc[b].interval=d,a.kc[b].Xi=c,a.kc[b].Lq=a.Im,a.kc[b].By=.8*a.Im,a.kc[b].sf=a.Mw,a.kc[b].WA=!1)}l.zo=function(){for(var a=0;a<this.xc;a++){var b=ac(this.sa,H[this.type].fy,this.body.g.position.x,this.body.g.position.y,1,16,"dynamic",this),c=this.body.ga()+Math.PI/(this.xc/2)*a;b.tb(c);this.kc[a].body=b;c=new b2Vec2(Math.cos(c),Math.sin(c));c.bb();c.aa(10);b.ia(c,b.h.o)}};
l.Mj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Gb();c.Lg({x:this.Dg[0][b].x,y:this.Dg[0][b].y});a.push(c)}return a};
l.V=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);var d=this.body.g.position,c=[];if(this.zb)for(var f in this.kc)if(0<this.kc[f].duration||this.K){var d=this.kc[f].body.g.position,g=this.kc[f].body.ga();a.save();a.translate(d.x*b,d.y*b);a.rotate(g+Math.PI/16);d=this.kc[f].Ae*Math.cos(Math.PI/16);J(a,d/2*b,0,0,d*b,this.kc[f].Ae*Math.sin(Math.PI/
16)*2*b,0<this.rc?"negligentia_arm_striking_red":"negligentia_arm_striking",zb);a.restore();c.push(f)}a.save();a.beginPath();d=this.body.g.position;f=this.oi*b;-1!==c.indexOf("0")&&(f=this.oi*b*.8);g=this.body.ga();a.moveTo(d.x*b+f*Math.cos(g),d.y*b+f*Math.sin(g));for(var h=0;h<this.xc;h++){var k=(h+1)%this.xc;a.lineTo(d.x*b+f*Math.cos(2*k*Math.PI/this.xc+g),d.y*b+f*Math.sin(2*k*Math.PI/this.xc+g));var n=this.oi*b;-1!==c.indexOf(""+k)&&(n=this.oi*b*.8);n!=f&&(a.lineTo(d.x*b+n*Math.cos(2*k*Math.PI/
this.xc+g),d.y*b+n*Math.sin(2*k*Math.PI/this.xc+g)),f=n)}a.closePath();a.clip();if(this.zb)if("extend"==this.oc||"retract"==this.oc)d=this.body.g.position,J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.oi*b*2,this.oi*b*2,"negligentia_arm_ring",zb);else if("striking"==this.oc||"frenzy"==this.oc)d=this.body.g.position,J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.Im*b*2,this.Im*b*2,"negligentia_arm_ring",zb);a.restore();0<this.rc?J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.I*b,2*this.I*b,"negligentia_head_red",
zb):J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.I*b,2*this.I*b,"negligentia_head",zb);this.Gd(a,b);a.restore()}};l.Pk=function(a,b){var c=this.body.g.position;0<this.rc?J(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow_red",zb):J(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow",zb)};
l.nh=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){a.save();var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.bj&&0>this.Ne&&this.Ne>=-this.jd&&(a.save(),c=Math.min(5-Math.abs((-this.Ne-this.jd/2)/(this.jd/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Kc,Lc),a.restore());this.Pk(a,b);this.bj||(a.globalAlpha*=.4);for(c=0;16>c;c++){var d=this.body.g.position,f=2*Math.PI*
(c/16+.03125-.25);1-this.Ne/this.mk>1-c/16&&(0!=c||this.bj)?(a.globalAlpha*=2,J(a,(d.x+Math.cos(f)*this.I*1.8)*b,(d.y+Math.sin(f)*this.I*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura",zb),a.globalAlpha/=2):J(a,(d.x+Math.cos(f)*this.I*1.8)*b,(d.y+Math.sin(f)*this.I*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura_open",zb)}a.restore()}};
l.Gd=function(a,b){a.save();a.globalAlpha*=this.Tq;if("fadein"==this.Wb||"spinning"==this.Wb||"fadeout"==this.Wb||"activate"==this.Wb){var c=0<this.rc?"negligentia_wheel_red":"negligentia_wheel";if("fadeout"==this.Wb||"activate"==this.Wb)c="negligentia_wheel_complete";var d=this.body.ga()+Math.PI/16+Math.PI/4,f=Math.PI/(this.uk/2)*(this.Td+.5)+d;J(a,this.body.g.position.x*b,this.body.g.position.y*b,d+Math.PI/2*((this.Td+1)%4),2*this.bo*Math.cos(Math.PI/4)*b,2*this.bo*Math.cos(Math.PI/4)*b,c,zb);if("fadein"==
this.Wb||"spinning"==this.Wb)for(c=0;c<this.uk;c++)f=Math.PI/(this.uk/2)*(c+.5)+d,"frenzy"!=this.mg[c]?Ea(a,this.mg[c],this.body.g.position.x*b+Math.cos(f+Math.PI/(this.uk/2)/2)*this.bo*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.uk/2)/2)*this.bo*.4*b,15,f+1*Math.PI/4):Ma(a,3,this.body.g.position.x*b+Math.cos(f+Math.PI/(this.uk/2)/2)*this.bo*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.uk/2)/2)*this.bo*.4*b,20,!0,f);else("fadeout"==this.Wb||"activate"==this.Wb)&&null!=this.Td&&
("frenzy"!=this.mg[this.Td]?Ea(a,this.mg[this.Td],this.body.g.position.x*b,this.body.g.position.y*b,20,f+1*Math.PI/4):Ma(a,3,this.body.g.position.x*b,this.body.g.position.y*b,50,!0,f))}a.restore()};l.Ty=function(a,b){a.beginPath();var c=Math.min(1-this.Ne/this.mk,1);a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.I*b*1.5,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c*.999);a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
l.pt=function(a){var b=S(this.body.g.position,Hc(this.q)),c=0;"stunner"==a&&.7>Math.random()&&(c=Math.PI/4);"spear"==a&&.7>Math.random()&&(c=Math.PI/8);"tank"==a&&.9>Math.random()&&(c=Math.PI);"mote"==a&&.7>Math.random()&&(c=Math.PI);"troll"==a&&.7>Math.random()&&(c=Math.PI);"harpoon"==a&&(c=.5*Math.PI);"fighter"==a&&.5>Math.random()&&(c=.5*Math.PI);0!=c&&(b+=Math.random()*c-c/2);var c=new this.i.ez[a](this.sa,(this.body.g.position.x+Math.cos(b)*this.I*1.35)*G/G,(this.body.g.position.y+Math.sin(b)*
this.I*1.35)*G/G,this.i.Bc,this.r),d=new b2Vec2(Math.cos(b),Math.sin(b));d.aa(this.Pn[a]);c.body.ia(d,c.body.h.o);c.Le(b);this.i.mi.push(c);this.i.Bc+=1;c.Ee=!0;c.nc=0;c.Rd=2*c.ue;c.ng=0;c.Ih=0;"harpoon"==a&&c.Gc(500,!0)};
l.Se=function(a,b){if(!this.K&&this.zb)if(a===this.q&&Uc(this.r),b!==this.body)for(var c in this.kc){var d=this.kc[c],f=1-d.duration/d.interval;if(d.body==b&&(f>d.sf&&f<d.sf+.3*(1-d.sf)||1<=f||f<d.sf))if(d=S(this.body.g.position,a.body.g.position),a===this.q)a.body.ia(new b2Vec2(this.Jf*Math.cos(d),this.Jf*Math.sin(d)),a.body.h.o),Uc(this.r);else if("harpoonhead"==a.type)a.body.ia(new b2Vec2(this.Pn.harpoon*Math.cos(d),this.Pn.harpoon*Math.sin(d)),a.body.h.o);else{if(void 0!=this.Pn[a.type])var g=
H[a.type];g&&(f=a.body.Y*Math.sqrt(g.Na)*this.Jf,a.body.ia(new b2Vec2(f*Math.cos(d),f*Math.sin(d)),a.body.h.o))}}else d=S(this.body.g.position,a.body.g.position),c=1,a===this.q&&"easy"==L&&(c=.5),a.body.ia(new b2Vec2(this.Jf*c*Math.cos(d),this.Jf*c*Math.sin(d)),a.body.h.o)};function yd(a){a.Wb="activate";a.ri=a.yB;a.vt=!1;ec("b3select")}l.we=function(){this.rc=this.Up;"spinning"==this.Wb&&(yd(this),this.kv=this.co)};l.an=function(){return"easy"==L?1.5*this.oe:this.oe};Bd.prototype=new Vc;l=Bd.prototype;l.constructor=Bd;
function Bd(a,b,c,d,f){this.type="second boss";this.ha(a,b,c,d,f);this.Vc=!1;this.Be=5;this.Nd=!1;this.$d=[];this.vf=this.$k=1E3;this.Kp=2E3;this.ps=8;this.ji=!0;this.ti=3*Math.PI/4;this.wr=3*Math.PI/16;"easy"==L&&(this.wr=5*Math.PI/32);this.oC=1*Math.PI/2;this.ui=this.wr;this.hy=1*Math.PI/8;this.vr=50;this.gy=.9;this.xc=4;this.yo=[];this.ey=15E3;this.zb=!1;this.body.tb(this.ti);this.Mf=!1;this.th=this.ey;this.visibility=0;this.ip=13500;this.Ic=this.ip-1;this.Kk=2E3;this.Mr=0;this.GC=10;this.HC=1;
this.jp=1E3;this.hp=.9;this.Ku=!1;this.Up=150;this.Cl=this.rc=0;this.Qp=2.5;this.yf=4;this.Mu=.9;this.Ou=.3;this.Lu=1.2;"easy"==L&&(this.Mu*=1.5,this.Ou*=1.5,this.Lu*=1.5);this.dB=!1;this.Ol=[];this.ac=this.rg=1;this.mB=.2;this.vz=.125;this.jF=.025;this.hv=12E3;"easy"==L&&(this.hv=12E3);this.Ep=2E3;this.ot=[["stunner","tank"],["harpoon","spear"],["mote","goo"]];"normal"==L&&(this.ot=[["stunner","stunner","tank","goo"],["harpoon","spear","spear","tank"],["mote","goo","tank","harpoon"]]);this.ZC={stunner:.4,
spear:.4,tank:2,mote:.2,goo:2.5,harpoon:2};this.fs=[];this.Qn=0}
l.lp=function(a){if(!this.dB){this.dB=!0;var b=[[P-80,Q-80],[80,80]];"normal"==L&&(b=[[80,80],[P-80,80],[P-80,Q-80],[80,Q-80]]);for(var c=0;c<b.length;c++){var d=new Cd(b[c][0],b[c][1],this,this.r);d.kd=c/b.length*d.ic;this.Ol.push(d)}}if(0<this.kd)this.kd=Math.max(this.kd-a,0),this.visibility=1-this.kd/this.ic;else{0==this.zb&&(this.zb=!0,this.visibility=1,this.body.zh(H[this.type].Na));this.body.tb(this.ti);0<this.rc&&(this.rc-=a);this.Ep-=a;if(0>this.Ep){this.Ep=this.hv;for(c=0;c<this.Ol.length;c++){var b=
this.Ol[c],d=this.ot[this.Qn][c],f=b.Um[d];"easy"==L&&(f=b.YC[d]);var g=0;if(b.i.Tk[d]+1<=b.i.Tm[d][6])for(var h=0;h<f;h++){for(var k=b.x/G,n=b.y/G,q=S({x:k,y:n},b.pd.body.g.position),p=q+2*Math.PI*(g+1/((g-g%6)/6+1))/6;!Kb({x:k,y:n},{x:k+10*Math.cos(p),y:n+10*Math.sin(p)},b.i.se);)g+=1,p=q+2*Math.PI*(g+1/((g-g%6)/6+1))/6;k=[(b.x+b.size/2*Math.cos(p))/G,(b.y+b.size/2*Math.sin(p))/G];k=new H[d].className(b.sa,k[0],k[1],b.i.Bc,b.r);k.Le(p);"harpoon"==k.type&&(k.SC=!0);b.i.mi.push(k);b.i.Bc+=1;g+=1}}this.Qn+=
1;this.Qn%=this.ot.length}1<this.rg&&(this.rg=Math.max(1,this.rg-a/1E3*this.jF));if(this.ac!=this.rg){this.ac=this.ac<this.rg?Math.min(this.ac+this.mB*a/1E3,this.rg):Math.max(this.ac-this.mB*a/1E3,this.rg);c=this.body.Mc;void 0===c.length&&(c=[c]);for(b=0;b<c.length;b++)for(d=this.body.Mc.ab.Z,f=this.bc[b],g=0;g<d.length;g++)d[g]=new b2Vec2(f.x+f.X*f.ca[g][0]*this.ac,f.y+f.X*f.ca[g][1]*this.ac);this.body.ig()}this.An(a);c=this.wr+Math.min(1,(this.rg-1)/2)*(this.oC-this.wr);this.ui!=c&&(this.ui=this.ui<
c?Math.min(this.ui+this.hy*a/1E3,c):Math.max(this.ui-this.hy*a/1E3,c));for(var t in this.Ol)this.Ol[t].na(a);this.oF&&(0>this.VA?this.oF=!1:this.VA-=a);this.ti+=2*Math.PI*a/(this.ey/this.ac);for(c=0;c<this.i.s.length;c++)this.i.s[c].id!=this.id&&(t=S(this.i.s[c].body.g.position,this.body.g.position),b=this.ZC[this.i.s[c].type]*this.Op(this.i.s[c].body.g.position,!0),0<b&&this.i.s[c].body.ia(new b2Vec2(b*Math.cos(t),b*Math.sin(t)),this.i.s[c].body.h.o));this.Cl=0;t=S(Hc(this.q),this.body.g.position);
b=this.Op(Hc(this.q));0<b&&(this.Cl+=b,this.q.body.ia(new b2Vec2(b*Math.cos(t),b*Math.sin(t)),this.q.body.h.o));"normal"==L&&(0>this.Ic&&(this.Ku||(this.Ku=!0,ec("b2bhole")),t=-this.Ic/this.Kk,this.Mr=t<this.hp?t/this.hp*this.I*this.yf*this.ac:this.I*this.ac*this.yf*(1-(t-this.hp)/(1-this.hp))),this.Ic<-this.Kk&&(this.Ic=this.ip,this.Mr=0,this.fs=[],this.Ku=!1),this.Ic-=a)}};
l.Op=function(a,b){if(0>this.Ic){var c;c=5;-this.Ic/this.Kk<this.hp&&(c=.12);R(this.body.g.position,a)<=this.I*this.yf?(black_hole_force=this.GC*c,b||(black_hole_force*=this.HC)):black_hole_force=-1;c=black_hole_force;if(-1!==c)return c}c=R(a,this.body.g.position);for(var d=Dd(this),f=0,g=0;g<d.length;g++)if(Mb(d[g],a)){f+=this.Lu;break}c<=this.I*this.ac*this.Qp?f+=this.Mu:c<=this.I*this.ac*this.yf&&(f+=this.Ou);b&&(f*=.3);return f};
l.nh=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){a.save();if(this.K){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;0>this.Ic&&this.Ic>=-this.Kk&&(a.globalAlpha*=.5,c=Math.min(5-Math.abs((-this.Ic-this.Kk/2)/(this.Kk/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Kc,Lc),a.globalAlpha*=2);0>this.Ic&&this.Ic>=-this.Kk&&(c=this.body.g.position,J(a,c.x*b,c.y*b,0,this.Mr*b*2,this.Mr*b*2,"consumendi_aura",
yb));var d=1;this.Ic>=this.ip-this.jp?d=1-(this.Ic-this.ip+this.jp)/this.jp:this.Ic<=this.jp&&0<this.Ic&&(d=this.Ic/this.jp);c=this.body.g.position;0<this.Ic&&(a.save(),a.globalAlpha*=.7,J(a,c.x*b,c.y*b,0,90*d*this.ac*this.Qp,90*d*this.ac*this.Qp,"consumendi_aura",yb),a.restore());a.save();a.globalAlpha*=.7;for(d=0;16>d;d++){var f=2*Math.PI*(d/16+.03125-.25);this.zb&&1-this.Ic/this.ip>1-d/16?J(a,(c.x+Math.cos(f)*this.I*this.ac*this.yf)*b,(c.y+Math.sin(f)*this.I*this.ac*this.yf)*b,f,30,56,"consumendi_small_diamond_filled",
yb):J(a,(c.x+Math.cos(f)*this.I*this.ac*this.yf)*b,(c.y+Math.sin(f)*this.I*this.ac*this.yf)*b,f,30,56,"consumendi_small_diamond",yb)}a.restore();this.Pk(a,b);this.Om(a,b);a.restore()}};
l.V=function(a,b){if(!(0==this.zb&&this.kd>.9*this.ic)){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha=this.K?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;0<this.rc?J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.ac,90*this.ac,"consumendi_head_red",yb):J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.ac,90*this.ac,"consumendi_head",yb);this.Gd(a,b);a.restore()}};
l.zo=function(){if(0!=this.yo.length)for(var a=0;10>a;a++){var b=this.yo[Math.floor(this.yo.length/10*a)],c=S(this.body.g.position,this.q.body.g.position)+2*(Math.random()-.5)*Math.PI,c=new b2Vec2(Math.cos(c),Math.sin(c));c.bb();c.aa(100);Nc(this.i,b,this.body.g.position,c)}};l.Pk=function(a,b){var c=this.body.g.position;0<this.rc?J(a,c.x*b,c.y*b,this.body.ga(),200*this.ac,200*this.ac,"immunitas_red_glow",xb):J(a,c.x*b,c.y*b,this.body.ga(),200*this.ac,200*this.ac,"consumendi_glow",yb)};
l.Gd=function(a,b){for(var c in this.Ol)this.Ol[c].V(a,b,Math.max(this.Ep,0)/this.hv,this.ot[this.Qn][c]);c=Dd(this);a.save();a.beginPath();a.rect(0,0,P,Q);a.clip();for(var d=0;d<c.length;d++){a.beginPath();a.moveTo(c[d][0].x*b,c[d][0].y*b);for(var f=1;f<c[d].length;f++)a.lineTo(c[d][f].x*b,c[d][f].y*b);a.closePath();a.save();a.globalAlpha*=this.visibility/4;a.fillStyle=this.color;a.fill();var f=this.body.g.position,g=2*Math.PI*d/this.xc+this.ti;J(a,(f.x+Math.cos(g)*this.I*this.ac*this.yf*1.5)*b,
(f.y+Math.sin(g)*this.I*this.ac*this.yf*1.5)*b,g+Math.PI/2,50,80,"consumendi_small_arrow",yb);a.restore()}a.restore();f=Hc(this.q);c=S(f,this.body.g.position);this.q.K||(.3<=this.Cl&&J(a,(f.x+2*Math.cos(c))*b,(f.y+2*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",yb),.75<=this.Cl&&J(a,(f.x+2.75*Math.cos(c))*b,(f.y+2.75*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",yb),1.2<=this.Cl&&J(a,(f.x+3.5*Math.cos(c))*b,(f.y+3.5*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",
yb),2<=this.Cl&&J(a,(f.x+4.25*Math.cos(c))*b,(f.y+4.25*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",yb))};
function Dd(a){for(var b=[],c=0;c<a.xc;c++){var d=[];d.push({x:a.body.g.position.x,y:a.body.g.position.y});d.push({x:a.body.g.position.x+a.vr*a.gy*Math.cos(2*Math.PI*c/a.xc+a.ti-a.ui/2),y:a.body.g.position.y+a.vr*a.gy*Math.sin(2*Math.PI*c/a.xc+a.ti-a.ui/2)});d.push({x:a.body.g.position.x+a.vr*Math.cos(2*Math.PI*c/a.xc+a.ti+a.ui/2),y:a.body.g.position.y+a.vr*Math.sin(2*Math.PI*c/a.xc+a.ti+a.ui/2)});b.push(d)}return b}l.move=function(){};
l.Se=function(a){this.K||!this.zb||a.K||(a===this.q?(ec("b2eat"),S(this.body.g.position,a.body.g.position),a.Qc("absorbed"),Uc(this.r)):a!==this.q&&(ec("b2eat"),"harpoonhead"!=a.type?(a.Qc("absorbed"),this.rg+=this.vz,this.fs.push(a),this.yo.push(a.type)):(this.yo.push("harpoon"),a.Ji.Qc("absorbed"),this.rg+=this.vz,this.fs.push(a),this.fs.push(a.Ji))))};l.Mj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Gb();c.Lg(this.Dg[0][b]);a.push(c)}return a};
l.An=function(a){for(var b=0;b<this.$d.length;b++){var c=this.$d[b];c.ob+=a/this.Kp;0>this.Ic&&(c.ob+=a/this.Kp)}for(b=this.$d.length-1;0<=b;b--)c=this.$d[b],1<c.ob&&this.$d.splice(b,1);this.vf-=a;0>this.Ic&&(this.vf-=a);0>this.vf&&(this.vf+=this.$k,this.Lp(this.body.g.position.x,this.body.g.position.y,this.ps))};
l.Lp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.$d.push({Rn:Math.cos(f)*this.I*this.ac*this.yf+a,Sn:Math.sin(f)*this.I*this.ac*this.yf+b,ob:0})}};
l.Om=function(a,b){for(var c=H[this.type].sp[0],d=0;d<this.$d.length;d++){var f=this.$d[d];a.save();a.globalAlpha=.25>f.ob?4*a.globalAlpha*f.ob:(1-f.ob)/.75*a.globalAlpha;0<=this.Ic&&(a.globalAlpha*=.5);var g=S({x:f.Rn,y:f.Sn},{x:this.body.g.position.x,y:this.body.g.position.y});Ha(a,b*(f.Rn*(1-f.ob)+this.body.g.position.x*f.ob),b*(f.Sn*(1-f.ob)+this.body.g.position.y*f.ob),c,2,z["world "+this.r.n+" bright"],1,g);a.restore()}};l.an=function(){return"easy"==L?1.5*this.oe:this.oe};function Cd(a,b,c,d){this.x=a;this.y=b;this.pd=c;this.color=this.pd.color;this.sa=this.pd.sa;this.r=d;this.i=this.r.i;this.q=this.r.q;this.size=60;this.visibility=0;this.Um={stunner:1,spear:1,tank:2,mote:1,goo:1,harpoon:1};this.YC={stunner:3,spear:3,tank:2,mote:2,goo:1,harpoon:1};this.Qp=.75;this.yf=1.5;this.qD=.8;this.ED=.2}
Cd.prototype.V=function(a,b,c,d){a.save();a.globalAlpha*=.5;J(a,this.x,this.y,Math.PI/4,2*this.size,2*this.size,"consumendi_glow",yb);J(a,this.x,this.y,Math.PI/4,this.size,this.size,"consumendi_mini",yb);0<c&&(a.beginPath(),a.arc(this.x,this.y,.75*this.size,-.5*Math.PI,-.5*Math.PI-2*Math.PI*(1-c),!0),a.lineWidth=4,a.strokeStyle=H[d].color,a.stroke());a.restore()};
Cd.prototype.na=function(){for(var a=0;a<this.i.s.length;a++)if(this.i.s[a].id!=this.id){var b=S(this.i.s[a].body.g.position,{x:this.x/G,y:this.y/G})+Math.PI,c=this.Op(this.i.s[a].body.g.position);0<c&&this.i.s[a].body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.i.s[a].body.h.o)}b=S(this.q.body.g.position,{x:this.x/G,y:this.y/G})+Math.PI;c=this.Op(this.q.body.g.position);0<c&&this.q.body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.q.body.h.o)};
Cd.prototype.Op=function(a){a=R(a,{x:this.x/G,y:this.y/G});return a<=this.size/G*this.Qp?this.qD:a<=this.size/G*this.yf?this.ED:0};function Yc(a,b,c,d,f,g){this.jb=d;this.cc={x:a/G,y:b/G};this.r=c;this.Gk=f;this.vp=!1;this.Pf=1;this.kz=1E3;this.jv=this.Ip=this.Rq=!1;if(this.hs=g)this.Pf=0;this.iw=null;this.bk=!1;this.oq=this.pA=0;this.opacity=1;this.Wk=!1}l=Yc.prototype;l.V=function(){};l.sn=function(a,b,c){this.bk=!0;this.oq=this.pA=c;this.tA={x:this.cc.x,y:this.cc.y};this.iw={x:a/G,y:b/G}};
l.Xk=function(a){if(!(this.Ip&&0>this.Pf||this.jv)){a.save();var b=this.Ip||this.hs?$b(.15,.85,this.Pf):1;a.globalAlpha*=this.opacity;J(a,this.cc.x*G,this.cc.y*G,0,this.Gk*b,this.Gk*b,"dark_aura");a.restore();this.vp&&(a.save(),a.globalAlpha*=.8,a.rect(0,0,P,Q),a.fillStyle="#000",a.fill(),"four"==this.jb&&4==this.r.i.Eh&&(a.globalAlpha*=.1,a.rect(0,0,P,Q),a.fillStyle="#f00",a.fill()),a.restore(),a.save(),a.globalAlpha*=.3,J(a,400,300,0,400,200,"white_glow"),a.restore(),a.save(),a.font="20px Muli",
a.textAlign="center",a.fillStyle="black","one"==this.jb&&(a.fillText("I've told you a thousand times.",400,285),a.fillText("I don't need to be saved.",400,315)),"three"==this.jb&&1==this.r.i.Eh&&(a.fillText("It's nice and numb here.",400,285),a.fillText("And everything is perfect.",400,315)),"three"==this.jb&&2==this.r.i.Eh&&(a.fillText("Get out. Don't bother me",400,285),a.fillText("with those naive Impulses.",400,315)),"four"==this.jb&&1==this.r.i.Eh&&a.fillText("I don't need to be saved.",400,
300),"four"==this.jb&&2==this.r.i.Eh&&a.fillText("I don't need to be saved.",400,300),"four"==this.jb&&3==this.r.i.Eh&&a.fillText("I don't need to be saved.",400,300),"four"==this.jb&&4==this.r.i.Eh&&(a.fillStyle="red",a.fillText("I will crush you into the Void.",400,300)),"hive_one_open"==this.jb&&(a.fillText("I'm not scared, I swear.",400,285),a.fillText("I'm fine with how things are.",400,315)),"hive_one_close"==this.jb&&(a.save(),a.globalAlpha*=.3,a.fillText("Are you who I could have been?",400,
300),a.restore()),"hive_two_open"==this.jb&&(a.fillText("A little more can't hurt, right?",400,285),a.fillText("It will bring me joy.",400,315)),"hive_two_close"==this.jb&&(a.save(),a.globalAlpha*=.3,a.fillText("Where has all my time gone?",400,300),a.restore()),"hive_three_open"==this.jb&&(a.fillText("Oh, I'm aware.",400,285),a.fillText("I just don't care enough.",400,315)),"hive_three_close"==this.jb&&(a.save(),a.globalAlpha*=.3,a.fillText("Why do I feel so hollow?",400,300),a.restore()),"hive_four_open"==
this.jb&&(a.fillText("I'm not wrong. You're wrong.",400,285),a.fillText("And I will make you vanish.",400,315)),"hive_four_close"==this.jb&&(a.save(),a.globalAlpha*=.3,a.fillText("???",400,300),a.restore()),a.restore())}};
l.na=function(a){if(!(this.Ip&&0>this.Pf||this.jv)){if(!this.bk&&R(this.r.q.body.g.position,this.cc)<this.Gk/G*this.Pf*.4){if(Ed=this.vp=!0,!this.Rq){this.Rq=!0;this.r.i.Eh+=1;var b;"close"===this.jb.substring(this.jb.length-5,this.jb.length)&&(b=50);"four"==this.jb&&4==this.r.i.Eh?ec("dark_anger",b):ec("dark_diag",b);this.Ju=D.zj;ic(.1*this.Ju,!1)}}else 1==this.vp&&(this.Wk?(this.jv=!0,Nc(this.r.i,"dark_one",this.cc,{x:0,y:0})):this.Ip=!0,Ed=this.vp=!1,ic(this.Ju,!1));this.Ip&&0<this.Pf&&(this.Pf-=
a/this.kz);this.hs&&1>this.Pf&&(this.Pf+=a/this.kz,1<=this.Pf&&(this.Pf=1,this.hs=!1));this.bk&&(this.oq-=a,a=$b(.15,.3,Math.max(0,this.oq/this.pA)),this.cc={x:this.tA.x*a+this.iw.x*(1-a),y:this.tA.y*a+this.iw.y*(1-a)},0>this.oq&&(this.bk=!1))}};l.Nk=function(){1==this.vp&&ic(this.Ju,!1)};Fd.prototype=new Fa;l=Fd.prototype;l.constructor=Fd;
function Fd(a,b,c,d,f){void 0!==a&&(this.type="deathray",this.ha(a,b,c,d,f),null!==a&&(this.Nd=!1,this.dt=10,this.Aw=2,this.wD=5,this.ji=!0,this.bx=!1,this.Pc=1200,"easy"==L&&(this.Pc=1400),this.Xm=!1,this.am=.5,this.Eg=this.Pc,this.ur=.56,this.Hi=this.Yk=200,this.og=5,this.zd=null,this.Ys=.8,this.Ws=-.5,this.Xs=400,this.gj=2E3,"easy"==L&&(this.gj=2E3),this.nv=this.Dk=!1,this.Nj=null,this.Zs=100,this.$s=Math.PI/48,this.Mf=!1,this.oe=3,this.bd=100,this.up=!1))}
l.Hd=function(a){this.Dk?this.Le(this.zd):this.Le(S(this.body.g.position,this.q.body.g.position));this.ji!=R(this.q.body.g.position,this.body.g.position)>this.dt&&(this.ji=!this.ji);0<this.bv&&(this.bv-=a);this.bx=Tb(this.wD,this.body.g.position);0<this.nc&&(this.nc-=a);if(this.ma())Gd(this);else if(0>=this.Eg)if(0>=this.Hi)Gd(this),this.Ql(this.gj),this.hi=this.nc=this.gj;else{if(this.Hi=Math.max(this.Hi-a,0),ec("deathray"),this.Hi<=this.Yk/2&&!this.nv){a=Hd(this);this.nv=!0;if(Mb(a,this.q.body.g.position)){var b=
1;0<this.q.$[5]&&!this.q.rk&&(b*=10);0<this.q.Xc()&&(b*=.25);this.q.body.ia(new b2Vec2(b*this.Xs*Math.cos(this.zd),b*this.Xs*Math.sin(this.zd)),this.q.body.h.o);Uc(this.r)}for(b=0;b<this.i.s.length;b++)if(this.i.s[b]!=this&&Mb(a,this.i.s[b].body.g.position)){if("orbiter"==this.i.s[b].type){var c=this.i.s[b];c.ao=c.ax}this.i.s[b].body.ia(new b2Vec2(this.Xs*Math.cos(this.zd),this.Xs*Math.sin(this.zd)),this.i.s[b].body.h.o);this.i.s[b].open(2500)}}}else if(this.Dk||!this.Dk&&this.bx&&!this.bk)this.Eg=
Math.max(this.Eg-a,0),this.Eg<=this.Pc*this.ur&&!this.Dk&&(this.zd=S(this.body.g.position,this.q.body.g.position),this.Eg=this.Pc*this.ur,this.Dk=!0)};l.Gd=function(a){0<this.nc&&!this.K&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.I,1-this.nc/this.hi,"#444444",4)};function Gd(a){a.Eg=a.Pc;a.Hi=a.Yk;a.Dk=!1;a.nv=!1;a.zd=null}
function Hd(a){var b=[];b.push({x:a.body.g.position.x+a.Ws*Math.cos(a.zd)+a.Ys*Math.cos(a.zd+Math.PI/2),y:a.body.g.position.y+a.Ws*Math.sin(a.zd)+a.Ys*Math.sin(a.zd+Math.PI/2)});b.push({x:a.body.g.position.x+a.Ws*Math.cos(a.zd)+a.Ys*Math.cos(a.zd-Math.PI/2),y:a.body.g.position.y+a.Ws*Math.sin(a.zd)+a.Ys*Math.sin(a.zd-Math.PI/2)});b.push({x:b[1].x+a.Zs*Math.cos(a.zd-a.$s),y:b[1].y+a.Zs*Math.sin(a.zd-a.$s)});b.push({x:b[0].x+a.Zs*Math.cos(a.zd+a.$s),y:b[0].y+a.Zs*Math.sin(a.zd+a.$s)});return b}
l.Ef=function(a,b,c,d){d||(this.open(this.ck),this.la.impulsed+=this.Tp);this.body.ia(new b2Vec2(this.oe*b*Math.cos(c),this.oe*b*Math.sin(c)),this.body.h.o);d&&!this.xf||this.we(a,b,c)};l.qz=function(){if(this.ji)return null==this.Nj&&(this.Nj={x:this.i.ej.x/G,y:this.i.ej.y/G}),this.Nj;this.Nj=null;for(var a=N[this.r.U].ta,b=null,c=1E3,d=0;d<a.length;d++){var f=R({x:a[d][0]/G,y:a[d][1]/G},this.body.g.position);f<c&&(c=f,b=a[d])}return{x:b[0]/G,y:b[1]/G}};l.Fj=Fa.prototype.move;
l.move=function(){this.Dk||(this.ji?this.bx?(this.Nj=this.path=null,this.bk=!1):R(this.q.body.g.position,this.body.g.position)>this.dt+this.Aw?(null==this.path&&(this.Rd=2*this.ue),this.Fj(),this.bk=!0):this.Nj=null:(null==this.path&&(this.Rd=2*this.ue),this.Nj=null,this.Fj(),this.bk=!0))};
l.nh=function(a,b){if(!this.ma()){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;var d=Hd(this);if(this.Eg<=this.Pc*this.ur&&null!=this.zd){c=1-this.Eg/(this.Pc*this.ur);a.save();a.beginPath();a.globalAlpha*=Math.max(c,.2);a.moveTo(d[1].x*b,d[1].y*b);a.lineTo(d[2].x*b,d[2].y*b);a.moveTo(d[3].x*b,d[3].y*b);a.lineTo(d[0].x*b,d[0].y*b);a.lineWidth=1;a.strokeStyle=this.color;a.stroke();if(this.Hi<this.Yk){c=this.Hi>this.Yk/2?this.Yk-this.Hi:this.Hi;c/=this.Yk/2;a.globalAlpha*=
c;a.beginPath();a.moveTo(d[0].x*b,d[0].y*b);for(c=1;c<d.length;c++)a.lineTo(d[c].x*b,d[c].y*b);a.closePath();a.fillStyle=this.color;a.fill()}a.restore()}a.restore()}};l.bl=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a?"#444444":"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Dv:"ulted"==a?z.impulse_blue:"white"==a?"white":"world"==a.slice(0,5)?z["world "+a.slice(5,6)+" lite"]:this.Mp(a)};
l.ai=function(a){Tb(-3,this.body.g.position)||a.aa(this.og);for(var b=!1,c=0;c<this.i.yd.length;c++)Mb(this.i.yd[c],this.body.g.position)&&(b=!0);b?a.aa(this.Fw):(this.ma()&&a.aa(.5),this.Xc()&&a.aa(this.ph),a.aa(this.pa))};l.$f=function(){};Id.prototype=new Fa;Id.prototype.constructor=Id;function Id(a,b,c,d,f){this.type="dumb_stunner";this.ki=!1;this.ha(a,b,c,d,f)};Bc.prototype=new Fa;l=Bc.prototype;l.constructor=Bc;
function Bc(a,b,c,d,f){void 0!==a&&(this.type="fighter",this.ha(a,b,c,d,f),this.rr=["frenzy"],null!==a&&(this.Be=5,this.Pc=2E3,this.Jj=750,this.Me=[this.Pc,2*this.Pc],this.NA=.15,this.gt=[!1,!1],this.Ew=400,this.Ml=0,this.MA=2.5*this.I,this.Dv=this.color,this.Nd=!1,this.dt=10,this.Aw=2,this.og=5,this.Az=!1,this.ji=!0,this.OA=this.I,this.PA=2*this.I,this.me=0,this.oz=2500,"easy"==L&&(this.oz=3500),this.Ij=5,this.Fe="normal",this.Bh=3,this.Pg=!1,this.bd=100,"easy"==L&&(this.bd=80),this.Bj=!1,this.uE=
200,this.wq=0,this.up=!1))}function Jd(a,b){var c=a.xe+Math.PI/2*(b%2*2-1);return{x:a.body.g.position.x+a.PA*Math.cos(c)+a.OA*Math.cos(a.xe),y:a.body.g.position.y+a.PA*Math.sin(c)+a.OA*Math.sin(a.xe)}}l.Mp=function(a){if("frenzy"==a)return"red"};l.cl=function(){if(!this.K){if(this.Ge())return"stunned";if("frenzy"==this.Fe)return"frenzy";if(this.Ci)return"silenced";if(this.Xc())return"gooed";if(Cc(this))return"silenced";if(0<this.la.impulsed)return"impulsed"}return this.Np()};
l.Hd=function(a){"normal"==this.Fe&&this.me>=this.Ij&&(ec("ffrenzy"),window.console.log("PLAYIN FRENZY"),this.Fe="frenzy",this.Me=[this.Jj,this.Jj],this.color="red",this.body.zh(5*H[this.type].Na));if(!this.ma()&&0>=this.wq&&R(this.body.g.position,this.q.body.g.position)<this.MA){var b=S(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.bd*Math.cos(b),this.bd*Math.sin(b)),this.q.body.h.o);Uc(this.r);this.Ml=this.Ew;this.wq=this.uE}0<this.wq&&(this.wq-=a);"frenzy"==this.Fe&&
0>=this.me&&(this.Fe="normal",this.Me=[this.Pc,2*this.Pc],this.color=H[this.type].color,this.body.zh(H[this.type].Na));for(b=0;b<this.Me.length;b++){if(0>=this.Me[b]&&!this.gt[b]&&!this.ma()&&Tb(0,this.body.g.position)){var c=Jd(this,b);this.Az=Kb(c,this.q.body.g.position,this.i.se);var d=S(c,this.q.body.g.position);this.Az?(this.Me[b]="normal"==this.Fe?2*this.Pc:this.Jj,ec("fbullet"),"frenzy"==this.Fe?(this.me-=.5,c=new Kd(this.sa,c.x,c.y,this.i.Bc,this.r,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),
d.aa(2)):(c=new Ld(this.sa,c.x,c.y,this.i.Bc,this.r,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),d.aa(.5)),c.body.ia(d,c.body.h.o),this.i.mi.push(c),this.i.Bc+=1):this.gt[b]=!0}this.gt[b]&&this.Me[b]<-this.NA*("normal"==this.Fe?this.Pc:this.Jj)&&(this.Me[b]="normal"==this.Fe?2*this.Pc+this.Me[b]:this.Jj,this.gt[b]=!1);Tb(0,this.body.g.position)&&(this.Me[b]-=a)}"normal"==this.Fe&&!this.ma()&&this.me<this.Ij&&Tb(0,this.body.g.position)&&(this.me+=a/this.oz);0<this.Ml&&(this.Ml-=a)};l.$f=function(){};
l.Gd=function(a,b){if(!this.K){a.save();a.globalAlpha*=.7;if(0<this.me){for(var c=0;c<Math.floor(this.me);c++)a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.I*b,-Math.PI/2+2*Math.PI*(c+1)/this.Ij-Math.PI/24,-Math.PI/2+2*Math.PI*c/this.Ij+Math.PI/24,!0),a.strokeStyle="red",a.lineWidth=5,a.stroke();if(!this.ma()&&this.me<this.Ij){var c=Math.floor(this.me),d=this.me-c;a.beginPath();a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.I*b,-Math.PI/2+2*Math.PI*c/
this.Ij+Math.PI/24+(2*Math.PI/this.Ij-Math.PI/12)*d,-Math.PI/2+2*Math.PI*c/this.Ij+Math.PI/24,!0);a.lineWidth=5;a.strokeStyle="red";a.stroke()}}a.restore();for(c=0;c<this.Me.length;c++){var d=Jd(this,c),f="normal"==this.Fe?this.Pc:this.Jj,f=Math.max((f-this.Me[c])/f,0);if(0<f&&1>f){a.save();a.globalAlpha*=f;var g="frenzy"==this.Fe?"piercing_fighter_bullet":"fighter_bullet";this.xe?Ea(a,g,d.x*b,d.y*b,null,this.xe):Ea(a,g,d.x*b,d.y*b,null,this.body.ga());0<this.Me[c]&&0<f&&(a.beginPath(),a.arc(d.x*
b,d.y*b,this.I*b*1,-.5*Math.PI,-.5*Math.PI+2*Math.PI*f*.999),a.lineWidth=2,a.strokeStyle=this.color,a.stroke());a.restore()}else 0>this.Me[c]&&(f=1-Math.min((f-1)/this.NA,1),a.save(),a.globalAlpha*=f,g="frenzy"==this.Fe?"piercing_fighter_bullet":"fighter_bullet",this.xe?Ea(a,g,d.x*b,d.y*b,null,this.xe):Ea(a,g,d.x*b,d.y*b,null,this.body.ga()),a.beginPath(),a.arc(d.x*b,d.y*b,this.I*b*1,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=2,a.strokeStyle=this.color,a.stroke(),a.restore())}0<this.Ml&&(c=
1-Math.abs(1-2*this.Ml/this.Ew),a.save(),a.globalAlpha*=$b(.15,.85,c),a.beginPath(),a.strokeStyle=this.color,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.MA*b,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=3,a.stroke(),a.fillStyle=this.color,a.globalAlpha/=4,a.fill(),a.restore())}};l.bu=function(){};l.Ow=Fa.prototype.Gc;l.Gc=function(a,b){this.Ow(a,b);this.Me[0]="normal"==this.Fe?this.Pc:this.Jj;this.Me[1]="normal"==this.Fe?2*this.Pc:this.Jj};
l.ai=function(a){Tb(-3,this.body.g.position)||a.aa(this.og);for(var b=!1,c=0;c<this.i.yd.length;c++)Mb(this.i.yd[c],this.body.g.position)&&(b=!0);b?a.aa(this.Fw):("frenzy"!=this.Fe||this.ma()||a.aa(this.og),this.ma()&&a.aa(.5),this.Xc()&&a.aa(this.ph),a.aa(this.pa))};
l.Wk=function(){if(R(this.body.g.position,this.q.body.g.position)<=this.I*this.Bh){var a=S(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.bd*Math.cos(a),this.bd*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&R(this.body.g.position,this.i.s[a].body.g.position)<=this.I*this.Bh){var b=S(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ia(new b2Vec2(this.bd*Math.cos(b),this.bd*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.Ef=function(a,b,c,d){d||this.open(this.ck);var f=1.5;this.ma()||d||(f=.6);this.body.ia(new b2Vec2(f*b*Math.cos(c),f*b*Math.sin(c)),this.body.h.o);this.la.impulsed+=this.Tp;this.we(a,b,c)};l.we=function(){0<this.me&&(--this.me,0>this.me&&(this.me=0));this.ma()||(this.Ml=this.Ew)};Ld.prototype=new Fa;l=Ld.prototype;l.constructor=Ld;function Ld(a,b,c,d,f,g,h){void 0!==a&&(this.type="fighter_bullet",this.ha(a,b,c,d,f),null!==a&&(this.Vc=!1,this.Be=5,this.fc=new b2Vec2(Math.cos(g),Math.sin(g)),this.fc.bb(),this.fc.aa(this.pa),"easy"==L&&this.fc.aa(.5),this.Nd=!1,this.np=100,"easy"==L&&(this.np=50),this.Ao=!1,this.Ru=150,"easy"==L&&(this.Ru=75),this.nw=h,this.vw=!1,this.body.Sx(),this.Nd=!1,this.Su=.33))}l.Qc=function(a){this.K=a;this.sb=this.cb;this.Fh=!0};
l.Se=function(a){if(!this.K)if(a===this.q){if(this.Qc("hit_player"),!this.ma()){ec("fbullethit");var b=this.body.p.Gb();b.bb();0<this.q.Xc()?b.aa(this.np*this.Su):b.aa(this.np);this.q.body.ia(b,this.q.body.h.o);Uc(this.r)}}else if(!(!a.Lz||a instanceof Ld||(this.Qc("hit_enemy"),a.id==this.nw&&!this.vw||this.ma()))){ec("fbullethit");a instanceof Bc&&(a.me=0);b=this.body.p.Gb();b.bb();var c=1;a.id==this.nw?(c*=1.5,a.Xc()&&(c*=2)):a instanceof Bc?c*=.7:a instanceof Md&&(a.ao=a.ax);b.aa(this.Ru*a.pa*
c);a.open(1500);a.body.ia(b,a.body.h.o)}};l.move=function(){this.Xc()?this.body.ia(new b2Vec2(.7*this.fc.x,.7*this.fc.y),this.body.h.o):this.body.ia(this.fc,this.body.h.o);this.Le(S({x:0,y:0},this.fc))};l.Ef=function(a,b){var c=new b2Vec2(this.body.g.position.x-a.x,this.body.g.position.y-a.y);c.bb();c.aa(b);this.fc.Lg(c);this.vw=!0;this.open(this.ck)};
l.Rr=function(){for(var a=0;a<this.i.yd.length;a++)if(Mb(this.i.yd[a],this.body.g.position)){this.Qc("kill");return}(-5>=this.body.g.position.x||this.body.g.position.x>=Kc/G+5||-5>=this.body.g.position.y||this.body.g.position.y>=Kc/G+5)&&this.Qc("kill")};l.$f=function(){};Nd.prototype=new Fa;l=Nd.prototype;l.constructor=Nd;function Nd(a,b,c,d,f){void 0!==a&&(this.type="goo",this.ki=!1,this.ha(a,b,c,d,f),this.Be=2,this.Nd=!1,this.cn=3,this.bn=11,"easy"==L&&(this.bn=10),this.qg=this.cn,this.Oj=500,this.dl=2500,"easy"==L&&(this.dl=3500),this.wf="small",this.ne=0,this.ph=.2,this.Mf=!1,this.th=6E3)}
l.Hd=function(a){this.body.tb(this.body.ga()+2*Math.PI*a/this.th);0<this.ne&&(this.ne-=a);"expanding"==this.wf?0>=this.ne?(this.wf="big",this.qg=this.bn,this.ne=this.dl):(a=(this.Oj-this.ne)/this.Oj,a=$b(.15,.85,a),this.qg=this.cn*(1-a)+a*this.bn):"big"==this.wf&&0>=this.ne?(this.wf="shrinking",ec("goo"),this.ne=this.Oj):"shrinking"==this.wf&&(0>=this.ne?(this.wf="small",this.qg=this.cn,this.ne=this.dl):(a=(this.Oj-this.ne)/this.Oj,a=$b(.15,.85,a),this.qg=this.cn*a+(1-a)*this.bn));this.ma()?(this.body.zh(.3*
H[this.type].Na),this.pa=.3*H[this.type].pa):(this.body.zh(H[this.type].Na),this.pa=H[this.type].pa);this.Dy()};l.Dy=function(){!this.ma()&&R(this.body.g.position,this.q.body.g.position)<this.qg&&this.bm(this.q);for(var a=0;a<this.i.s.length;a++)!this.ma()&&R(this.body.g.position,this.i.s[a].body.g.position)<this.qg&&this.i.s[a].className!=this.className&&this.bm(this.i.s[a])};l.$f=function(){};l.bm=function(a){a.tv(100)};
l.Xk=function(a,b){this.ma()||(this.K||(a.beginPath(),a.strokeStyle=this.color,a.fillStyle=this.color,a.lineWidth=2,a.save(),a.globalAlpha*=.3,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.qg*b,0,1.998*Math.PI),a.stroke(),a.fill(),a.restore()),"big"==this.wf&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.I,1-this.ne/this.dl))};
l.we=function(){this.ma()||("shrinking"==this.wf?(this.ne=this.Oj-this.ne,this.wf="expanding"):"big"==this.wf?this.ne=this.dl:"small"==this.wf&&(this.ne=this.Oj,this.wf="expanding",ec("goo")))};l.ai=function(a){"small"==this.wf||this.ma()||a.aa(this.ph);a.aa(this.pa)};Od.prototype=new Fa;l=Od.prototype;l.constructor=Od;function Od(a,b,c,d,f,g){if(void 0!==a){if(this.Ji=g)this.$=this.Ji.$;this.type="harpoonhead";this.ha(a,b,c,d,f);this.up=this.Fl=!1}}l.Hd=function(){};l.we=function(){this.Ji.Gc(this.Ji.Cq)};l.Le=function(a){this.xe=a};l.$f=function(){};l.open=function(){};wc.prototype=new Fa;wc.prototype.constructor=wc;function wc(a,b,c,d,f){this.type="mote";this.ki=!1;this.ha(a,b,c,d,f);this.Vc=!1;this.Be=5;this.Mf=!1;this.th=2E3;this.Bj=!0;this.Xm=!1;this.am=1;this.jd=3E3;"easy"==L&&(this.jd=2E3)}wc.prototype.$f=function(){this.ma()||this.q.Gc(this.jd,!0)};wc.prototype.Hd=function(a){this.body.tb(this.body.ga()+2*Math.PI*a/this.th)};wc.prototype.Ef=function(a,b,c,d){this.ma()&&(this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o),d||this.open(this.ck))};Md.prototype=new Fa;l=Md.prototype;l.constructor=Md;function Md(a,b,c,d,f){this.type="orbiter";this.ki=!0;this.ng=500;this.ha(a,b,c,d,f);f&&(this.Vc=!1,this.Be=5,this.Aq=1.25*this.q.Zg,this.Ns=1,this.ue=18,this.dn=!0,this.wm=1,this.ow=18,this.pw=9,this.Bj=!0,this.og=2,this.Fo=!1,this.Qs=50,this.qB=!0,this.jD=3,this.vA=[-1,1,-4,4,-8,8,-12,12,-16,16],this.dw=4,this.ao=0,this.ax=250,this.mw=H[this.type].Na,this.Xm=!1,this.am=.5,this.LC=200,this.Tr=100,this.uA=1.2*this.q.Zg,this.rA=!1,this.tz=2)}
l.Gd=function(){};
l.Hd=function(a){this.ue=R(this.body.g.position,this.q.body.g.position)<1.5*this.Aq?this.pw:this.ow;this.Tr-=a;if(0>this.Tr){for(var b=!1,c=0;c<this.i.Rg.length;c++)Mb(this.i.Rg[c],this.body.g.position)&&(b=!0);this.Ev=b;this.Tr=this.LC}0<this.ao?(this.ao-=a,this.Na=3):this.Na=this.mw;Pc(this,this.q.body.g.position);!this.Ee&&Tb(0,this.body.g.position)&&(this.Gc(this.ng,!0),this.Ee=!0);0<this.Ih&&(this.Ih-=a);Tb(0,this.body.g.position)||(this.Ee=!1,this.Gc(100,!0));this.Cy=(this.Fo=this.q.vj&&!yc(this.q,
this.body.g.position)||this.q.Ge()||this.q.ma()||0<this.q.$[4])&&!this.K&&this.path&&1==this.path.length&&this.path[0]==this.q.body.g.position&&!this.ma()&&this.Ee;this.Bj=!this.Cy};
l.sv=function(){if(this.Fo)return Wb(this.r.pc,this.body.g.position,this.q.body.g.position,this.r.i.vq);var a=S(this.q.body.g.position,this.body.g.position),b=this.vA,c=0;this.qB&&(this.Ns*=-1);for(var d=!1,f=null,g=0;!d&&c<b.length;){for(var h=a+2*Math.PI/64*b[c]*this.Ns,d=!0,h=new b2Vec2(this.q.body.g.position.x+Math.cos(h)*this.Aq,this.q.body.g.position.y+Math.sin(h)*this.Aq),k=0;k<this.i.Rg.length;k++)if(Mb(this.i.Rg[k],h)){d=!1;break}if(d)if(f=Wb(this.r.pc,this.body.g.position,h,this.r.i.vq),
f.path){a:{h=f.path;for(k=0;k<h.length-1;k++)if(Pb(h[k],h[k+1],this.q.body.g.position)<this.uA){h=!1;break a}h=!0}if(!h&&(d=!1,g+=1,g>=this.dw))break}else if(d=!1,g+=1,g>=this.dw)break;if(d)return f;c+=1}if(this.r.ra)a={path:null,Zd:null};else if(R(this.body.g.position,this.q.body.g.position)<this.uA){a=this.r.pc;b=this.body.g.position;c=N[this.r.U].ta;d=null;f=0;g=S(this.body.g.position,this.q.body.g.position);for(h=0;h<c.length;h++)k=Yb(g,S(this.body.g.position,{x:c[h][0]/G,y:c[h][1]/G})),k=Math.abs(k-
g),k>f&&(f=k,d=c[h]);a=Wb(a,b,{x:d[0]/G,y:d[1]/G})}else a=Wb(this.r.pc,this.body.g.position,this.q.body.g.position,this.r.i.vq);return a};
l.move=function(){if(!this.q.K&&!this.Ge()){this.Rd+=1;if(null==this.path||this.Rd>=this.ue){var a=this.sv();if(!a.path)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a.path[a.length-1]==this.q.body.g.position||this.Rd>=this.ue||this.path&&!Kb(this.body.g.position,this.path[0],this.i.se))null!=a.path&&(this.path=a.path,this.IF=this.path[this.path.length-1]),this.Rd=Math.floor(.1*Math.random()*this.ue)}if(this.path){a=this.path[0];if(0==this.Rd%4){for(;0<this.path.length&&
1>R(a,this.body.g.position);)this.path=this.path.slice(1),a=this.path[0];if(!a||!Kb(this.body.g.position,a,this.i.se))return;Kb(this.body.g.position,this.q.body.g.position,this.i.se)&&this.IF==this.q.body.g.position&&(this.path=[this.q.body.g.position],a=this.path[0])}a&&this.sn(a)}}};l.ai=function(a){this.Cy?(a.aa(this.og),a.aa(this.pa)):this.Ev&&this.Bj&&0<this.Fv||this.Xc()?a.aa(this.Fw):(this.Xc()&&a.aa(this.jD),a.aa(this.pa))};
l.sn=function(a){a=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);a.bb();this.ai(a);this.body.ia(a,this.body.h.o)};l.$f=function(){var a=S(this.body.g.position,this.q.body.g.position);new b2Vec2(this.Qs*Math.cos(a),this.Qs*Math.sin(a));this.q.body.ia(new b2Vec2(this.Qs*Math.cos(a),this.Qs*Math.sin(a)),this.q.body.h.o)};l.we=function(){this.ao=this.ax};l.xm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.um=function(a,b,c){this.K||1==c&&0<this.nc&&!this.K&&!this.Ge()&&Ca(a,this.body.g.position.x,this.body.g.position.y,this.I,1-this.nc/this.hi)};l.vm=function(a){a.stroke();a.restore()};Kd.prototype=new Ld;Kd.prototype.constructor=Kd;function Kd(a,b,c,d,f,g,h){this.type="piercing_fighter_bullet";this.ha(a,b,c,d,f);null!==a&&(this.Vc=!1,this.Be=5,this.nw=h,this.fc=new b2Vec2(Math.cos(g),Math.sin(g)),this.fc.bb(),this.fc.aa(this.pa),"easy"==L&&this.fc.aa(.5),this.Nd=!1,this.np=100,"easy"==L&&(this.np=50),this.vw=!1,this.body.Sx(),this.Ao=!1,this.Su=.33,this.Ru=150,this.Su=.33)}Kd.prototype.Ef=function(){};Kd.prototype.Se=Ld.prototype.Se;xc.prototype=new Fa;l=xc.prototype;l.constructor=xc;function xc(a,b,c,d,f){this.type="slingshot";this.ha(a,b,c,d,f);this.Vc=!1;"easy"==L&&(this.pa*=.8);this.kF=50;this.ov=!1;this.Be=5;this.ph=.5;this.Nd=!1;this.DE=this.color;this.Fq=!1;this.cj=null;this.Eq=0;this.lF=100;this.nF=1;this.Ei=0;this.XC=750;this.WC=100;this.Bj=!1;this.rr=["empowered"];this.mw=H[this.type].Na;this.mF=6}l.Fj=Fa.prototype.move;
l.move=function(){if(this.Fq){if(!this.Ge()){var a=new b2Vec2(this.cj.x-this.body.g.position.x,this.cj.y-this.body.g.position.y);a.aa(this.nF);this.Xc()&&a.aa(this.ph);this.body.ia(a,this.body.h.o);a=S(this.body.g.position,this.cj);this.body.tb(a)}}else this.Fj()};l.ai=function(a){this.Xc()&&a.aa(this.ph);this.ov||a.aa(this.ph);a.aa(this.pa)};
l.Hd=function(a){if(this.Fq&&0>=this.Eq&&1>R(this.cj,this.body.g.position)||this.ma())this.Fq=!1,this.Na=this.mw;!this.ov&&Tb(1,this.body.g.position)&&(this.ov=!0);this.Vc=0<this.Ei;this.color=0<this.Ei?"red":this.DE;this.VC=0<this.Ei&&!this.ma();0<this.Eq&&(this.Eq-=a);0<this.Ei&&(this.Ei-=a)};l.$f=function(){var a=S(this.body.g.position,this.q.body.g.position),a=new b2Vec2(Math.cos(a),Math.sin(a));0<this.Ei?a.aa(this.WC):a.aa(this.kF);this.q.body.ia(a,this.q.body.h.o)};
l.we=function(){this.ma()||(this.cj=this.body.g.position.Gb(),this.Fq=!0,this.Eq=this.lF,this.Ei=this.XC,this.Na=this.mF,ec("sshot"))};l.cl=function(){if(!this.K){if(this.Ge())return"stunned";if(this.Ci)return"silenced";if(this.Xc())return"gooed";if(Cc(this))return"silenced"}return this.Np()};l.Mp=function(a){if("empowered"==a)return"red"};l.Np=function(){return!this.K&&0<this.Ei?"empowered":"normal"};
function Pd(a,b){var c=a.body.ga()+2*Math.PI/3*b;return{x:a.body.g.position.x+Math.cos(c)*a.I*3/4,y:a.body.g.position.y+Math.sin(c)*a.I*3/4}}l.Gd=function(a,b){if(this.Fq&&!this.K){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.moveTo(this.cj.x*b,this.cj.y*b);var c=Pd(this,1);a.lineTo(c.x*b,c.y*b);c=Pd(this,2);a.moveTo(this.cj.x*b,this.cj.y*b);a.lineTo(c.x*b,c.y*b);a.stroke()}};Qd.prototype=new Fa;l=Qd.prototype;l.constructor=Qd;function Qd(a,b,c,d,f){this.type="spear";this.ki=!0;this.ng=500;this.ha(a,b,c,d,f);this.og=5;this.Jq=30;"easy"==L&&(this.Jq=40);this.Be=5;this.gj=3E3;this.dn=!0;this.wm=1;this.Nd=!1;this.Dz=this.Fl=!0}l.Fj=Fa.prototype.move;l.move=function(){this.q.K||this.Ge()||(Kb(this.body.g.position,this.q.body.g.position,this.i.se)?(this.path=[this.q.body.g.position],this.sn(this.q.body.g.position)):this.Fj())};
l.ai=function(a){this.Vc&&a.aa(this.og);this.Xc()&&a.aa(this.ph);a.aa(this.pa)};l.Hd=function(){this.Vc=!this.K&&this.path&&1==this.path.length&&!this.ma()&&this.Ee};l.$f=function(){if(!this.ma()){var a=S(this.body.g.position,this.q.body.g.position);new b2Vec2(this.Jq*Math.cos(a),this.Jq*Math.sin(a));this.q.body.ia(new b2Vec2(this.Jq*Math.cos(a),this.Jq*Math.sin(a)),this.q.body.h.o)}};l.we=function(){this.Gc(this.gj);this.gj>this.nc&&(this.nc=this.hi=this.gj)};l.Gd=function(){};
l.xm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};l.um=function(a,b,c){this.K||1==c&&0<this.nc&&!this.K&&!this.Ge()&&Ca(a,this.body.g.position.x,this.body.g.position.y,this.I,1-this.nc/this.hi)};l.vm=function(a){a.stroke();a.restore()};Rd.prototype=new Fa;Rd.prototype.constructor=Rd;function Rd(a,b,c,d,f){this.type="stunner";this.ki=!1;this.ha(a,b,c,d,f);f&&(this.Nd=!1,"normal"==L&&(this.pa*=1.3))};rd.prototype=new Fa;l=rd.prototype;l.constructor=rd;function rd(a,b,c,d,f){this.type="tank";this.ki=!1;this.ha(a,b,c,d,f);this.Vc=!1;this.bd=100;"easy"==L&&(this.bd=80);this.Be=5;this.RC=this.Mm=200;this.Bh=6;"easy"==L&&(this.Bh=5);this.HF=75;this.Pg=!1;this.ym=null;this.Mf=this.Nd=!1;this.th=4E3;this.Fl=!0;this.ck=500;this.rr=["volatile"];this.la["volatile"]=0;this.dn=!0;this.wm=1;this.RF=1500}
l.Hd=function(a){this.Vc=!this.ma();0<this.rt&&(this.rt-=a);0<this.la["volatile"]&&(this.la["volatile"]-=a)};l.qr=function(){this.color="red"};l.bu=function(a){this.Pg&&(this.color="red",0>=this.Mm&&!this.K&&(this.Qc(this.ym),this.Wk()),0<this.Mm&&(this.Mm-=a))};l.Rr=function(){for(var a=0;a<this.i.yd.length;a++)if(Mb(this.i.yd[a],this.body.g.position)){!this.ma()&&0<this.la["volatile"]?(this.Pg=!0,this.ym="kill"):0<this.la.open?this.Qc("kill"):this.Qc("accident");break}};
l.Ef=function(a,b,c,d){this.la.impulsed+=this.Tp;this.we(a,b,c);d||this.open(this.ck);this.Xc()?this.body.ia(new b2Vec2(1.3*b*Math.cos(c),1.3*b*Math.sin(c)),this.body.h.o):"easy"==L?this.body.ia(new b2Vec2(1.25*b*Math.cos(c),1.25*b*Math.sin(c)),this.body.h.o):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);0<this.rt&&!this.K&&!this.Pg&&!this.ma()&&(this.Pg=!0,this.ym="kill")};l.we=function(){this.la["volatile"]=this.RF};
l.Se=function(a){a instanceof rd&&(0<this.la["volatile"]&&!this.K&&!this.Pg&&!this.ma()?(this.Pg=!0,this.ym="kill"):this.rt=this.HF);this.K||this.Pg||(a===this.q?this.ma()?this.Qc("hit_player"):(this.Pg=!0,this.ym="hit_player",Uc(this.r)):a instanceof Fa&&0<a.la.open&&this.open(a.la.open))};
l.Wk=function(){if(R(this.body.g.position,this.q.body.g.position)<=this.I*this.Bh){var a=S(this.body.g.position,this.q.body.g.position),b=this.bd;this.q.body.ia(new b2Vec2(b*Math.cos(a),b*Math.sin(a)),this.q.body.h.o);"hit_player"!=this.ym&&Uc(this.r)}for(a=0;a<this.i.s.length;a++)this.i.s[a]!==this&&R(this.body.g.position,this.i.s[a].body.g.position)<=this.I*this.Bh&&(b=S(this.body.g.position,this.i.s[a].body.g.position),this.i.s[a].body.ia(new b2Vec2(this.bd*Math.cos(b),this.bd*Math.sin(b)),this.i.s[a].body.h.o),
this.i.s[a].open(1500))};
l.Gd=function(a,b){var c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0;a.save();a.globalAlpha*=1-c;this.Pg&&0<this.Mm?(a.beginPath(),a.strokeStyle="red",a.lineWidth=5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.I*this.Bh*(1-this.Mm/this.RC)*b,0,1.998*Math.PI),a.stroke()):!this.ma()&&0<this.la["volatile"]&&(a.beginPath(),a.strokeStyle="red",a.lineWidth=2,a.globalAlpha*=.5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.I*this.Bh*b,0,1.998*Math.PI),a.stroke());a.restore()};
l.xm=function(a){a.save();a.beginPath();a.lineWidth=2;a.globalAlpha*=.5;a.strokeStyle=H[this.type].color};l.um=function(a,b){!this.K&&0>=this.la["volatile"]&&!this.ma()&&(a.moveTo(this.body.g.position.x*b+this.I*this.Bh*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.I*this.Bh*b,0,1.998*Math.PI))};l.vm=function(a){a.stroke();a.restore()};l.Mp=function(a){if("volatile"==a)return"red"};
l.cl=function(){if(this.K)return"volatile";if(!this.K){if(this.Ge())return"stunned";if(this.Ci)return"silenced";if(0<this.la["volatile"])return"volatile";if(this.Xc())return"gooed";if(Cc(this))return"silenced";if(0<this.la.impulsed)return"impulsed"}return this.Np()};Sd.prototype=new Fa;l=Sd.prototype;l.constructor=Sd;function Sd(a,b,c,d,f){this.type="troll";this.ki=!0;this.ng=1E3;this.ha(a,b,c,d,f);this.Nd=!1;this.og=3;this.pi=400;this.Wn=4;"easy"==L&&(this.pi=600,this.Wn=3);this.Mf=this.Bj=!1;this.th=1E3;this.Dh=[];this.Hy=250;this.dn=!0;this.wm=2;this.RA=1E3;"easy"==L&&(this.RA=750);this.Xm=!0;this.Vz=5E3;"easy"==L&&(this.Vz=2500)}
l.Hd=function(a){var b=(new Date).getTime();this.ma()||this.Le(this.xe+2*Math.PI*a/this.th);b%(this.Wn*this.pi)<this.pi&&this.Gc(this.pi-b%(this.Wn*this.pi),!0);for(b=this.Dh.length-1;0<=b;b--)this.Dh[b].uh-=a,0>=this.Dh[b].uh&&this.Dh.splice(b,1);!this.Ee&&Tb(0,this.body.g.position)&&(this.Gc(this.ng,!0),this.Ee=!0);0<this.Ih&&(this.Ih-=a);Tb(0,this.body.g.position)||(this.Ee=!1)};
l.Gd=function(a,b){if(!this.K&&!this.ma()){a.save();for(var c in this.Dh){a.beginPath();var d=this.Dh[c].uh/this.Hy;a.globalAlpha*=Math.max(0,(1-2*Math.abs(d-.5))/.5);a.moveTo(this.Dh[c].object.body.g.position.x*b,this.Dh[c].object.body.g.position.y*b);a.lineTo(this.body.g.position.x*b,this.body.g.position.y*b);a.lineWidth=3;a.strokeStyle=this.color;a.stroke();a.globalAlpha/=Math.max(0,(1-2*Math.abs(d-.5))/.5)}a.restore()}};
l.Ef=function(a,b,c,d){!this.ma()&&this.Ee?(this.body.ia(new b2Vec2(.3*b*Math.cos(c),.3*b*Math.sin(c)),this.body.h.o),sc(this.q,this.RA),ec("pwheel"),this.Dh.push({object:this.q,uh:this.Hy}),Uc(this.r)):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d||this.open(this.ck);this.la.impulsed+=this.Tp};l.$f=function(){this.ma()||(sc(this.q,this.Vz),ec("pwheel"))};
l.xm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray");2==c&&(a.lineWidth=2,a.strokeStyle=this.color)};l.um=function(a,b,c){this.K||(1==c&&0<this.nc&&!this.K&&!this.Ge()&&Ca(a,this.body.g.position.x,this.body.g.position.y,this.I,1-this.nc/this.hi),2==c&&(b=(new Date).getTime(),!this.ma()&&b%(this.Wn*this.pi)>this.pi&&Ca(a,this.body.g.position.x,this.body.g.position.y,this.I,(b%(this.Wn*this.pi)-this.pi)/((this.Wn-1)*this.pi))))};
l.vm=function(a){a.stroke();a.restore()};l.ai=function(a){Tb(-3,this.body.g.position)||a.aa(this.og);a.aa(this.pa)};Td.prototype=new Nd;Td.prototype.constructor=Td;function Td(a,b,c,d,f){this.type="disabler";this.ha(a,b,c,d,f);this.Be=2;this.Nd=!1;this.cn=3;this.bn=8;"easy"==L&&(this.bn=8);this.qg=this.cn;this.Oj=500;this.dl=2500;"easy"==L&&(this.dl=3500);this.wf="small";this.ne=0;this.Mf=!1;this.th=6E3;this.ph=0}
Td.prototype.Dy=function(){!this.ma()&&R(this.body.g.position,this.q.body.g.position)<this.qg&&this.bm(this.q);for(var a=0;a<this.i.s.length;a++)!this.ma()&&R(this.body.g.position,this.i.s[a].body.g.position)<this.qg?this.i.s[a].className!=this.className&&this.bm(this.i.s[a]):"harpoon"==this.i.s[a].type&&(R(this.i.s[a].Za.body.g.position,this.body.g.position)<this.qg||"engaged"==this.i.s[a].mb&&R(this.i.s[a].Tc.body.g.position,this.body.g.position)<this.qg)&&this.bm(this.i.s[a])};
Td.prototype.bm=function(a){"harpoonhead"==a.type?a.Ji.disable(100):a===this.q?(a.$[5]=Math.max(100,a.$[5]),a.Gc(100)):a.disable(100)};Ac.prototype=new Fa;l=Ac.prototype;l.constructor=Ac;
function Ac(a,b,c,d,f){if(void 0!==a){this.type="harpoon";var g=[];g.push(new b2Vec2(.3*Math.cos(0*Math.PI),.3*Math.sin(0*Math.PI)));g.push(new b2Vec2(.3*Math.cos(5*Math.PI/6),.3*Math.sin(5*Math.PI/6)));g.push(new b2Vec2(.3*Math.cos(7*Math.PI/6),.3*Math.sin(7*Math.PI/6)));this.ki=!0;this.ng=1E3;this.ha(a,b,c,d,f);null!=a&&(this.Be=2,this.og=3,this.Pp=17,"easy"==L&&(this.Pp=13),this.Nj=null,this.mb="inactive",this.yz=6,"easy"==L&&(this.yz=4.5),this.pD=.33,this.yv=400,"easy"==L&&(this.yv=50),this.zv=
1.2,"easy"==L&&(this.zv=.6),this.dt=this.q.Zg,this.Aw=2,this.Aq=.8*this.Pp,this.ow=40,this.pw=20,this.ue=40,this.Ns=.5>Math.random()?1:-1,this.Cq=500,this.qB=this.Nd=!1,this.Sr=this.Ey=5,this.state="seek",this.Uu=this.Fy=8,this.Mf=!1,this.dw=4,this.xv=Math.sqrt(2)/2+Math.sqrt(6)/6-.4,a=Ud(this),this.Za=new Od(this.sa,a.x,a.y,this.id+1E4,this.r,this),this.oD=3,this.wv=null,this.Xr=1E3,this.Tc=null,this.SC=this.Bj=!1,this.Fo=!0,this.Xm=!1,this.am=1,"normal"==L&&(this.am=.8),this.vA=[0,-1,1,-2,2,-4,
4,-8,8,-12,12,-16,16,-20,20],this.dn=!0,this.wm=3,this.up=!1)}}l.sv=Md.prototype.sv;l.Fj=Md.prototype.move;l.$f=function(){};
l.move=function(){if("inactive"==this.mb||"engaged"==this.mb)if("engaged"==this.mb){var a=new b2Vec2(this.body.g.position.x-this.Tc.body.g.position.x,this.body.g.position.y-this.Tc.body.g.position.y);a.bb();a.aa(this.yz);this.Tc==this.q&&this.Xc()&&a.aa(this.pD);this.Tc.body.ia(a,this.body.h.o);this.Tc!=this.q&&(this.Tc.open(1500),"tank"==this.Tc.type&&(this.Tc.la["volatile"]=1500))}else null==this.path&&(this.Rd=this.ue),this.Fj()};
function Ud(a){return new b2Vec2(a.body.g.position.x+a.xv*H[a.type].I*Math.cos(a.xe),a.body.g.position.y+a.xv*H[a.type].I*Math.sin(a.xe))}l.Le=function(a){--this.en;0>=this.en&&(this.body.tb(a),this.en=this.Bz,this.Za.body.tb(this.Za.xe));this.xe=a};
l.Hd=function(a){"inactive"==this.mb?Pc(this,this.q.body.g.position):"engaged"==this.mb?Pc(this,this.Tc.body.g.position):Pc(this,this.Za.body.g.position);this.Ao="inactive"==this.mb;this.ue=R(this.body.g.position,this.q.body.g.position)<1.5*this.Aq?this.pw:this.ow;if("inactive"==this.mb)this.Za.body.pj(Ud(this)),this.Za.Le(this.xe);else if("fire"==this.mb){var b=S(this.body.g.position,this.Za.body.g.position);this.Za.Le(b);1>this.Za.body.p.hg()&&(this.mb="retract")}else if("retract"==this.mb)this.ma()&&
Tb(0,this.body.g.position)||(b=S(this.Za.body.g.position,this.body.g.position),this.Za.body.ia(new b2Vec2(this.zv*Math.cos(b),this.zv*Math.sin(b)),this.Za.body.h.o),this.Za.Le(Math.PI+b),R(this.Za.body.g.position,this.body.g.position)<1.1*this.xv&&(this.mb="inactive",this.Gc(this.Xr,!0),this.Xr>this.nc&&(this.nc=this.hi=this.Xr),this.wv=null));else if("engaged"==this.mb)this.Za.body.pj(new b2Vec2(-100,-100));else if("retract_ready"==this.mb){b=new b2Vec2(this.q.body.g.position.x-this.body.g.position.x,
this.q.body.g.position.y-this.body.g.position.y);b.bb();b.aa(2*this.q.oh);var c=this.Tc.body.g.position.Gb();c.xo(b);this.Za.body.pj(c);b=S(this.body.g.position,this.Za.body.g.position);this.Za.Le(b);this.mb="retract";this.Tc=null}0>=this.Uu&&(this.Fo=!1,this.Uu=this.Fy);--this.Uu;0<this.Sr&&--this.Sr;0>=this.Sr&&((!Kb(this.body.g.position,this.q.body.g.position,this.i.se)||this.r.ra)&&!this.ma()&&this.Ee&&!this.K&&"inactive"==this.mb&&Tb(0,this.body.g.position)&&R(this.body.g.position,this.q.body.g.position)<=
this.Pp&&(ec("hfire"),this.mb="fire",this.vv=S(this.Za.body.g.position,this.q.body.g.position.Gb()),this.Za.body.ia(new b2Vec2(this.yv*Math.cos(this.vv),this.yv*Math.sin(this.vv)),this.Za.body.h.o),this.Za.Le(this.vv)),this.ma()&&"inactive"!=this.mb&&Dc(this),"engaged"==this.mb&&(!Tb(1,this.Tc.body.g.position)||this.Tc.K||R(this.Tc.body.g.position,this.body.g.position)<this.oD)?Dc(this):"engaged"==this.mb&&this.q.K&&Dc(this),this.Sr=this.Ey);0<this.Za.la.open&&(this.Za.la.open-=a)};
l.AA=function(a,b){this.Fh&&("hit_player"!=this.K||this.sb<this.cb-50)&&(this.Fh=!1,this.i.rp.push(a));return this.K&&0>this.sb?(this.i.Gp.push(a),!0):this.K?(this.sb-=b,this.Za.sb-=b,!0):!1};l.ai=function(a){Tb(-3,this.body.g.position)||a.aa(this.og);a.aa(this.pa)};
l.Qc=function(a){Dc(this);this.K=a;this.sb=this.cb;this.Fh=!0;if("kill"==this.K&&!this.q.K&&(this.r.M.He+=1,H[this.type].aj?H[H[this.type].aj].He+=1:H[this.type].He+=1,!this.i.ra)){var b=this.r.M.Tg*this.Oc;D.ec&&Qc(this.r,b,this.color,this.body.g.position.x,this.body.g.position.y);this.r.M.Bg+=b;Rc(this.r);Sc(this.r)}"fade"!=this.K&&(Nc(this.i,this.type,this.body.g.position,this.body.p),this.qr(a),ec("sdeath"));this.Za.Qc("fade"==this.K?"fade":"accident")};
l.nh=function(a,b){var c=this.bl(this.cl());if(c!=this.color||this.K)a.save(),a.strokeStyle=c,a.lineWidth=3,a.globalAlpha*=.5,c=this.K?Math.min((this.cb-this.sb)/this.cb,1):0,this.K&&(a.globalAlpha*=1-c),a.beginPath(),"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Za.body.g.position.x*b,this.Za.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Tc.body.g.position.x*b,this.Tc.body.g.position.y*
b)),a.stroke(),a.restore()};l.Gd=function(a,b){"engaged"!=this.mb&&"retract_ready"!=this.mb&&(this.Za.color=this.bl(this.cl()),this.Za.Ci=this.Ci,this.Za.la=this.la,this.Za.V(a,b))};l.xm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.globalAlpha*=.2);2==c&&(a.lineWidth=3,a.globalAlpha*=.5);3==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.um=function(a,b,c){if(!this.K){1==c&&!this.ma()&&this.Ee&&"inactive"==this.mb&&(a.moveTo(this.body.g.position.x*b+this.Pp*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.Pp*b,0,1.998*Math.PI));if(2==c){if(this.bl(this.cl())!=this.color||this.K)return;"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Za.body.g.position.x*b,this.Za.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,
this.body.g.position.y*b),a.lineTo(this.Tc.body.g.position.x*b,this.Tc.body.g.position.y*b))}3==c&&0<this.nc&&!this.K&&!this.Ge()&&Ca(a,this.body.g.position.x,this.body.g.position.y,this.I,1-this.nc/this.hi)}};l.vm=function(a){a.stroke();a.restore()};l.we=function(){this.Gc(this.Cq,!0);this.Cq>this.nc&&(this.nc=this.hi=this.Cq)};function Dc(a){"engaged"==a.mb&&(a.mb="retract_ready",a.wv=a.Tc.id)};var H={};
H.dumb_stunner={color:"#00ffff",rb:2.2,Na:6,I:.5,pa:0,Oc:100,Yd:1,ye:!0,Ig:"stunner",bc:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],Zr:[{type:"polygon",x:-.1,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],le:"YES",De:["On collision, stuns you for a short period"],cg:"stuns on collision",
className:Id};
H.stunner={color:"#00ffff",rb:1.5,Na:4,I:.5,pa:.42,Oc:100,Yd:1,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],Zr:[{type:"polygon",x:-.1,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],le:"YES",De:["On collision, stuns you for a short period"],Ig:"shocker",cg:"stuns on collision",
className:Rd};H.spear={color:"#f86003",rb:.7,Na:4,I:.7,pa:.24,Oc:500,Yd:7,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.7,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)],[Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)]]}],le:"YES",De:["Will dive at you if it has line of sight"],cg:"charges on sight",Hg:"Charges you on sight. Hurls you backward on impact.",yg:"Silenced for two seconds on entering or re-entering stage. When Impulsed, silenced for five seconds.",className:Qd};
H.tank={color:"#6f27cf",rb:2.5,Na:3,I:1,pa:1.5,Oc:1E3,Yd:8,ye:!0,bc:[{type:"polygon",x:0,y:0,X:1,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],gz:[{x1:.5,y1:.5,x2:-.5,y2:-.5},{x1:.5,y1:-.5,x2:-.5,y2:.5}],le:"YES",De:["Explodes on death or collision with player","Will explode on collision with another Tank if recently Impulsed","The explosion radius is outlined around the tank"],
cg:"explodes on death",className:rd};H.mote={color:"#ee42ae",rb:.5,Na:3,I:.5,pa:.15,Oc:1E3,Yd:.5,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],le:"YES",De:["Cannot be Impulsed # # On collision, disarms you for a few moments","Other enemies can be impulsed into the mote"],cg:"unaffected by impulse",className:wc};
H.goo={color:"#e6c43c",rb:7,Na:9,I:.5,pa:3.5,Oc:3E3,Yd:.25,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],Hj:[{type:"circle",x:0,y:0,X:1.3,Vu:!0}],le:"YES",De:["All units within its radius are slowed","When Impulsed, expands its radius for a few moments"],cg:"slows all nearby units",
className:Nd};
H.harpoon={color:"#00aa00",rb:5,Na:6,I:.7,pa:4.5,Oc:3E3,Yd:6,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.7,ca:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],Hj:[{type:"polygon",x:-.1,y:0,X:.7,Vu:!1,ca:[[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)],[((Math.sqrt(2)+Math.sqrt(6))/2-.4)*Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4)-.4,Math.sin(1*
Math.PI/4)]]},{type:"polygon",x:-.1,y:0,X:.7,ca:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],Zr:[],le:"NO",De:["Fires its hook at you and # attempts to yank you in # # Can only fire through the void","The hook range is outlined # around the Harpoon","If you are hooked, # impulse the harpoon to get free","While the hook is detached from the Harpoon, it cannot move",
"During boss battles, will fire at any time"],cg:"hooks through walls",className:Ac};
H.harpoonhead={color:"#00dd00",rb:1.2,Na:6,I:H.harpoon.I*Math.sqrt(6)/3,pa:1.5,Oc:1E3,Yd:6,ye:!0,bc:[{type:"polygon",x:0,y:0,X:H.harpoon.I*Math.sqrt(6)/3,ca:[[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)]]}],le:"NO",Hg:"Shoots a harpoon which can latch onto you. Once you are latched, the Harpoon will attempt to drag you to your death.",yg:"In normal levels, harpoons can only fire through obstacles and are harmless up close. In boss levels, harpoons can fire at any time. Impulsing a harpoon silences it for 1 second. Harpoons will flee from you.",
description:"Shoots a harpoon that can latch onto you. Once you are latched, it will attempt to drag you to your death.",className:Od};
H.fighter={color:"#0000ff",rb:3,Na:6,I:.75,pa:2.5,Oc:4E3,Yd:9,Ig:"hunter",ye:!0,bc:[{type:"polygon",x:0,y:0,X:.75,ca:[[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:.75,ca:[[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,Math.sqrt(2)]]},
{type:"polygon",x:0,y:0,X:.75,ca:[[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,-Math.sqrt(2)]]}],De:["Fires projectiles at you on sight # # Is weak to its own projectiles","When its rage meter is full, # the hunter moves faster and its bullets cannot be impulsed","Impulse the hunter to lower its rage meter"],cg:"weak to projectiles",le:"NO",Hg:"Fires bullets at you upon sight. Bullets fling you backwards on impact. For every 2 seconds that the Fighter is idle, it loads up a piercing bullet, which cannot be Impulsed.",
yg:"Normal bullets can be reflected to hit other enemies and even the Fighter itself.",className:Bc};H.fighter_bullet={color:"#0000ec",rb:1,Na:3,I:.3,pa:.5,Oc:0,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Ld};
H.piercing_fighter_bullet={color:"#ff0000",rb:1,Na:3,I:.3,pa:1,Oc:0,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Kd};
H.disabler={color:"#cccccc",rb:8,Na:9,I:.5,pa:5,Oc:5E3,Yd:.25,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/3),Math.sin(1*Math.PI/3)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(3*Math.PI/3),Math.sin(3*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)]]}],Hj:[{type:"circle",x:0,y:0,X:1.3,Vu:!0}],le:"YES",De:["Disables all units within its radius. # # Touching disabled units will not reset your multiplier.",
"When Impulsed, expands its radius for a few moments"],Ig:"equalizer",cg:"disables all nearby units",Hg:"Leaves behind a trail of crippling poison. Everything that passes through the poison is silenced.",yg:"Passing through goo will instantly slow you down, which may help you survive blasts from other enemies. Goos are not affected by each other.",className:Td};
H.troll={color:"#159d31",rb:1.3,Na:3,I:.7,pa:.38,Oc:4E3,Yd:2,Ig:"pinwheel",ye:!0,bc:[{type:"polygon",x:0,y:0,X:1,ca:[[0,0],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408),Math.sqrt(52)/8*Math.sin(-.408)],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ca:[[0,0],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3)],[.25*Math.cos(3*Math.PI/
3),.25*Math.sin(3*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ca:[[0,0],[.25*Math.cos(3*Math.PI/3),.25*Math.sin(3*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3)],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)]]}],Zr:[{type:"polygon",x:-.2,y:0,X:1,ca:[[0,0],[.25*Math.cos(5*Math.PI/3+.36),.25*Math.sin(5*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+.36),Math.sqrt(52)/8*Math.sin(-.408+.36)],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/
3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ca:[[0,0],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3+.36)],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ca:[[0,0],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3+.36)],[.25*Math.cos(5*Math.PI/3+.22),
.25*Math.sin(5*Math.PI/3+.22)]]}],De:["On collision or if impulsed while spinning, # reverses your controls"],cg:"reverses your controls",le:"YES",Hg:"When active, impulsing the Troll will pull it towards you. Upon impact, reverses your movement and impulse controls.",yg:"The troll alternates between active and inactive every second.",className:Sd};
H.slingshot={color:"#a0522d",rb:.2,Na:7,I:1,pa:.65,Oc:5E3,Yd:10,ye:!0,bc:[{type:"polygon",x:-.25,y:0,X:1,ca:[[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(2*Math.PI/3)/2,1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3)/2,1*Math.sin(4*Math.PI/3)/2]]},{type:"polygon",x:-.25,y:0,X:1,ca:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4]]},
{type:"polygon",x:-.25,y:0,X:1,ca:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)]]}],fz:[[[1*Math.cos(0*Math.PI)/4-.25,1*Math.sin(0*Math.PI)/4],[.75*Math.cos(0*Math.PI)-.25,3*Math.sin(0*Math.PI)/4]]],le:"YES",Ig:"boomerang",Hg:"When Impulsed, it will hook onto the ground and slingshot back towards you, flinging you away if it hits you.",yg:"If the boomerang hits you while not slingshoting, it will still push you back a fair way.",
className:xc,De:["When Impulsed, latches onto its current position # and slingshots back at you","cannot be impulsed while latched"],cg:"slingshots when impulsed"};
H.orbiter={color:"red",rb:.3,Na:15,I:.5,pa:.96,Oc:5E3,Yd:10,ye:!0,bc:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3)+.4,Math.sin(2*Math.PI/3)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(4*Math.PI/3)+.4,Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ca:[[.4,0],[-.6,.3],[-1.6,0],[-.6,-.3]]}],fz:[[[.5,0],[.2,0]]],De:["Intelligently avoids your Impulse # # Will charge at you opportunistically"],
cg:"intelligent and dangerous",le:"YES",Hg:"Locks onto you. Actively avoids your Impulse. Charges you if you've shot your Impulse the other way.",yg:"Intelligent and dangerous.",className:Md};
H.deathray={color:"#dddddd",Kz:"black",rb:6,Na:6,I:1,pa:7.2,Oc:1E4,Yd:10,ye:!0,bc:[{type:"polygon",x:0,y:0,X:1.5,ca:[[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*Math.PI/4)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:1.5,ca:[[.6*Math.cos(1*Math.PI/3)+.2,.6*Math.sin(1*Math.PI/3)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*
Math.PI/4)],[.8*Math.cos(1*Math.PI/3)+.2,.3*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1.5,ca:[[.8*Math.cos(5*Math.PI/3)+.2,.3*Math.sin(5*Math.PI/3)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.6*Math.cos(5*Math.PI/3)+.2,.6*Math.sin(5*Math.PI/3)]]}],De:["After firing, must recharge for a short period # # During this time, the deathray cannot move"],cg:"giant death ray",le:"NO",Hg:"While in turret mode, sends a devastating ray across the level every 2 seconds.",
yg:"Death rays will only enter turret mode after they are a certain distance away from the walls. Death rays take 1 seconds to enter or leave turret mode.",className:Fd};
H["first boss"]={color:z["boss 1"],rb:4.5,Na:8,I:3,pa:0,Oc:[1E6,5E6,15E6],Yd:10,xf:!0,rf:8,Af:6,bc:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],sp:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/
2),Math.sin(3*Math.PI/2)]]}],Zw:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Ov:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],uv:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*
Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],le:"NO",Hg:"Shoots stunners, spears, and tanks at you. Can cast a global lighten, which causes everything to lighter and much easier to push.",yg:"The color of the boss's guns reflect what it is shooting. During the global lighten, the boss will shoot faster. Use this time to clear the field of enemies.",className:fd};
H["second boss"]={color:z["boss 2"],rb:4.5,Na:8,I:3,pa:0,Oc:[1E6,5E6,15E6],Yd:10,xf:!0,bc:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(2*Math.PI/4),Math.sin(2*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(6*Math.PI/4),Math.sin(6*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],sp:[{type:"polygon",
x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[.5*Math.cos(2*Math.PI/4),.5*Math.sin(2*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[.5*Math.cos(6*Math.PI/4),.5*Math.sin(6*Math.PI/4)]]}],le:"NO",Hg:"Exerts a gravity on the field, pulling everything towards it. The closer to the boss, the stronger the pull. The boss has four gravity arms, inside which the gravity is doubled. The boss can also send a massive shockwave through the field.",yg:"Enemies that collide with the boss will be absorbed, increasing the boss's shockwave range. If you touch the boss, you will be flung away.",
className:Bd};
H["third boss"]={color:"#C000FF",rb:2,Na:8,I:4.5,pa:0,Yd:10,Oc:[1E6,5E6,15E6],xf:!0,rf:16,Af:6,bc:[{type:"polygon",x:0,y:0,X:4.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)],[Math.cos(2*Math.PI/8),Math.sin(2*Math.PI/8)],[Math.cos(3*Math.PI/8),Math.sin(3*Math.PI/8)],[Math.cos(4*Math.PI/8),Math.sin(4*Math.PI/8)],[Math.cos(5*Math.PI/8),Math.sin(5*Math.PI/8)],[Math.cos(6*Math.PI/8),Math.sin(6*Math.PI/8)],[Math.cos(7*Math.PI/8),Math.sin(7*Math.PI/8)],[Math.cos(8*
Math.PI/8),Math.sin(8*Math.PI/8)],[Math.cos(9*Math.PI/8),Math.sin(9*Math.PI/8)],[Math.cos(10*Math.PI/8),Math.sin(10*Math.PI/8)],[Math.cos(11*Math.PI/8),Math.sin(11*Math.PI/8)],[Math.cos(12*Math.PI/8),Math.sin(12*Math.PI/8)],[Math.cos(13*Math.PI/8),Math.sin(13*Math.PI/8)],[Math.cos(14*Math.PI/8),Math.sin(14*Math.PI/8)],[Math.cos(15*Math.PI/8),Math.sin(15*Math.PI/8)]]}],sp:[{type:"polygon",x:0,y:0,X:4.5,ca:[[.8*Math.cos(1*Math.PI/3),.8*Math.sin(1*Math.PI/3)],[.6*Math.cos(2*Math.PI/3),.6*Math.sin(2*
Math.PI/3)],[.6*Math.cos(4*Math.PI/3),.6*Math.sin(4*Math.PI/3)],[.8*Math.cos(5*Math.PI/3),.8*Math.sin(5*Math.PI/3)]]}],fy:[{type:"polygon",x:0,y:0,X:2,ca:[[0,0],[Math.cos(0*Math.PI/8),Math.sin(0*Math.PI/8)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)]]}],le:"NO",Hg:"Has six turrets which fire bullets. Can cast a global silence and enter berserk mode, during which its attack speed is doubled.",yg:"Turrets which enter an obstacle cannot attack. Bullets can be reflected by Impulse to hit other enemies, including the boss.",
className:sd};
H["fourth boss"]={color:"#ff0000",rb:3,Na:10,I:4,pa:0,Yd:10,Oc:[1E6,5E6,15E6],xf:!0,rf:17,Af:6,bc:[{type:"polygon",x:0,y:0,X:4,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],Aj:2,xy:[{type:"polygon",x:0,y:0,X:2,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*
Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],sp:[{type:"polygon",x:0,y:0,X:2,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],le:"NO",Hg:"Periodically spawns capsules. Has a thin laser which sweeps around the field. When the sweep laser hits a capsule, the capsule spawns a large number of enemies. The boss has two additional lasers, one which paralyzes and one which exerts massive force.",
yg:"The sweep laser can be blocked, preventing capsules from spawning enemies.",className:Zc};H["boss four attacker"]={color:"white",rb:1.5,Na:1,Iz:.1,I:2.2,pa:360,Yd:10,Oc:[1E6,5E6,15E6],bc:[{type:"polygon",x:0,y:0,X:.1,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:dd};
H["boss four spawner"]={color:"rgb(0, 255, 0)",rb:4,Na:12,Iz:.1,I:1,pa:0,Oc:5E3,bc:[{type:"polygon",x:0,y:0,X:.1,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:ad};var Vd={stunner:500,spear:250,tank:150,mote:150,goo:50,harpoon:50,disabler:50,fighter:50,slingshot:50,troll:50,deathray:25,orbiter:50};
function Wd(){for(var a in H)if(H[a].ye){var b=new H[a].className(null,0,0,0,null),c=H[a],d={},f=b.bc,g=b.DF.concat(b.rr);for(index in g){var h=g[index],k=document.createElement("canvas");k.width=2*H[b.type].I*b.Vm*G;k.height=2*H[b.type].I*b.Vm*G;var n=k.getContext("2d"),q=b.bl(h);q||(q=b.color);var p=H[b.type].I*Fa.prototype.Vm,t=H[b.type].I*Fa.prototype.Vm;n.translate(p*G,t*G);Da(n,h,f,b.type,q);n.translate(-p*G,-t*G);d[h]=k}c.images=d}};function Xd(a,b,c){this.ha(a,b,c)}Xd.prototype.ha=function(a,b,c){this.hj=a;this.color=b;this.PC=c};Xd.prototype.na=function(){};Xd.prototype.V=function(a,b){a.save();a.beginPath();a.moveTo(this.hj[0].x*b,this.hj[0].y*b);for(var c=1;c<this.hj.length;c++)a.lineTo(this.hj[c].x*b,this.hj[c].y*b);a.closePath();a.clip();a.fillStyle=this.PC;a.strokeStyle=this.color;a.lineWidth=6;a.fill();a.stroke();a.restore();a.save();a.beginPath();a.clip();a.restore()};function Yd(a,b,c,d,f,g,h){this.ha(a,b,c,d,f,g,h)}Yd.prototype.ha=function(a,b,c,d,f,g,h){this.i=a;this.Qu=a.Rg;this.yd=a.yd;b&&(this.yA=b,this.ca=c,this.ht=g,this.xB=h);this.jl=(new Date).getTime()};function Zd(a,b,c,d){var f;if(f=Kb(b,c,a.yA,d)){if(!(d=c.p_n!=d))a:{a=a.yd[c.p_n];d=a.length-1;for(f=0;f<a.length;f++){if(Lb(b,c,a[f],a[d])){d=!1;break a}d=f}d=!0}f=d}return f}
function Wb(a,b,c,d){if(Kb(b,c,a.yA)&&Kb(b,c,a.i.se))return{path:[c],Zd:R(b,c)};for(var f=null,g=null,h=0;h<a.Qu.length;h++)Mb(a.Qu[h],b)&&(f=h),Mb(a.Qu[h],c)&&(g=h);var k=null,n=null,q=a.xB[50*Math.floor(b.x*G/50)+" "+50*Math.floor(b.y*G/50)],p=a.xB[50*Math.floor(c.x*G/50)+" "+50*Math.floor(c.y*G/50)];if(q){for(var t=[],h=0;h<q.length;h++)Zd(a,b,a.ca[q[h]],f)&&t.push(q[h]);q=t}if(!q||0==q.length)for(q=[],h=0;h<a.ca.length;h++)Zd(a,b,a.ca[h],f)&&q.push(h);if(p){f=[];for(h=0;h<p.length;h++)Zd(a,c,
a.ca[p[h]],g)&&f.push(p[h]);p=f}if(!p||0==p.length)for(p=[],h=0;h<a.ca.length;h++)Zd(a,c,a.ca[h],g)&&p.push(h);for(h=0;h<q.length;h++)for(g=0;g<p.length;g++)if(f=q[h]==p[g]?0:a.ht[q[h]][p[g]].b,null!=f&&(f=R(b,a.ca[q[h]])+f+R(a.ca[p[g]],c),!k||f<k))k=f,n=q[h]==p[g]?[q[h]]:a.ht[q[h]][p[g]].a;if(!n)return{path:null,Zd:null};d&&(d=Math.floor(Math.random()*q.length*p.length),h=Math.floor(d/p.length),g=d%p.length,R(b,5>a.ca[n[0]])&&(h=q.indexOf(n[0])),0!=q.length*p.length&&(f=q[h]==p[g]?0:a.ht[q[h]][p[g]].b,
null!=f&&(f=R(b,a.ca[q[h]])+f+R(a.ca[p[g]],c),d=S(b,a.ca[n[0]]),t=S(b,a.ca[q[h]]),f<1.2*k&&Zb(d,t)<3*Math.PI/8&&!Kb(a.ca[n[0]],a.ca[q[h]])&&(k=f,n=q[h]==p[g]?[q[h]]:a.ht[q[h]][p[g]].a))));q=[];for(h=0;h<n.length;h++)q.push(a.ca[n[h]]);q.push(c);return 2==q.length&&Kb(b,c,a.i.se)?{path:[c],Zd:R(b,c)}:{path:q,Zd:k}};var Kc=0,Lc=0,X=0,P=0,Q=0,$d=null,Le=null,Me=null,Ne=null,Oe=null,G=15,Pe=0,Vb=null,Qe=null,Re="impulse_save_data",D,L,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,fc=null,af=null,Ed=!1,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf=!1,nf=!1,Xc=!1,of=!1;"localhost"===window.location.host&&-1!==window.location.search.indexOf("dev=1")&&(nf=!0);-1!==window.location.pathname.indexOf("beta")&&(of=!0);
window.impulse_main=function(){b2Vec2=m.ba.Math.lg;b2AABB=m.v.Go;b2BodyDef=m.l.cm;b2Body=m.l.ke;b2FixtureDef=m.l.im;b2Fixture=m.l.hm;b2World=m.l.Re;b2MassData=m.v.Sa.Wo;b2PolygonShape=m.v.Sa.xi;b2CircleShape=m.v.Sa.wj;b2DebugDraw=m.l.Pe;b2MouseJointDef=m.l.J.lm;b2ContactListener=m.l.Jo;Kc=1200;Lc=600;X=200;P=Kc-2*X;Q=Lc;Le=document.getElementById("canvas");var a=document.getElementById("canvas_container");Le.width=Kc;Le.height=Lc;a.style.width=Kc+"px";a.style.height=Lc+"px";Me=document.getElementById("bg_canvas");
a=document.getElementById("bg_canvas_container");Me.width=Kc;Me.height=Lc;a.style.width=Kc+"px";a.style.height=Lc+"px";$d=Le.getContext("2d");Ne=Me.getContext("2d");window.addEventListener("keydown",pf,!1);window.addEventListener("keyup",qf,!1);window.addEventListener("click",rf,!1);window.addEventListener("mousedown",sf,!1);window.addEventListener("mouseup",Tf,!1);window.addEventListener("mousemove",Uf,!1);window.addEventListener("resize",Vf,!1);window.oncontextmenu=function(){return!1};Vf();Wf();
Wd();xa=tb();Xf();ya=[];Aa();fc=new cc;Vb=new Yf;Pe=(new Date).getTime();Zf()};
function Vf(){var a,b;a=800;b=600;document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth,b=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight);Kc<a?(offset_left=(a-Kc)/2,canvas_container.style.left=Math.round(offset_left)+"px",bg_canvas_container.style.left=
Math.round(offset_left)+"px"):offset_left=0;Lc<b?(offset_top=(b-Lc)/2,canvas_container.style.top=Math.round(offset_top)+"px",bg_canvas_container.style.top=Math.round(offset_top)+"px"):offset_top=0;message.style.display=""}function Xf(){var a=document.createElement("canvas");a.width=P;a.height=Q;bf=a;a=document.createElement("canvas");a.width=P;a.height=Q;cf=a;a=document.createElement("canvas");a.width=P;a.height=Q;df=a}
function $f(a,b,c){ef!=a&&(ff=af=b,b=cf.getContext("2d"),"#"==a.substring(0,1)?(b.fillStyle=a,b.fillRect(0,0,P,Q)):Eb(b,0,0,P,Q,a),gf=c,hf=a)}function ag(a,b){var c=bf.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,P,Q)):Eb(c,0,0,P,Q,a);jf=b;ef=a;Ne.clearRect(0,0,canvas.width,canvas.height);Ne.fillStyle="#000";Ne.fillRect(0,0,canvas.width,canvas.height);Ne.globalAlpha=jf;Ne.drawImage(bf,0,0,P,Q,X,0,P,Q);Ne.globalAlpha=1}
function bg(a){if(0<ff){var b=ff/af;Ne.clearRect(0,0,canvas.width,canvas.height);Ne.fillStyle="#000";Ne.fillRect(0,0,canvas.width,canvas.height);Ne.globalAlpha=b*jf;Ne.drawImage(bf,0,0,P,Q,X,0,P,Q);Ne.globalAlpha=(1-b)*gf;Ne.drawImage(cf,0,0,P,Q,X,0,P,Q);Ne.globalAlpha=1;ff-=a}else null!=af&&(af=null,ag(hf,gf))}
function Zf(){var a=(new Date).getTime();$d.globalAlpha=1;dt=a-Pe;Vb.na(dt);null!=Qe&&Qe.na(dt);null!=Oe&&(lf-=dt,0>lf&&(Oe=null));Vb instanceof cg?Vb instanceof cg&&Vb.ready&&(1!=Vb.zoom?($d.fillStyle=Vb.Di,$d.fillRect(X,0,P,Q)):$d.clearRect(X,0,P,Q)):$d.clearRect(0,0,canvas.width,canvas.height);if(Vb instanceof cg){Vb.V($d,Ne);$d.save();dg(Vb,$d);for(var b=0;b<ya.length;b++)ya[b].V($d);$d.restore()}else $d.fillStyle="black",$d.fillRect(0,0,X,Lc),$d.fillRect(Kc-X,0,X,Lc),$d.translate(X,0),Vb.V($d,
Ne),$d.translate(-X,0);null!=Qe&&($d.globalAlpha=1,Qe.V($d));if(null!=Oe){b=$d;b.save();var c=lf/kf;b.globalAlpha=.2>c?5*b.globalAlpha*c:.9<c?10*b.globalAlpha*(1-c):1;Oe.V(b);b.restore()}Pe=a;setTimeout(Zf,Math.max(33-((new Date).getTime()-a),1))}function eg(a,b,c,d){Oe=new fg(a,c?c:"white",d?d:0);gg(Oe,Kc/2,Lc-10-Oe.m);Oe.visible=!0;lf=kf=b}function Uf(a){a=Qb(a);Qe&&Qe.Fa(a.x,a.y);if(Vb instanceof cg){Vb.Fa(a.x,a.y);for(var b=0;b<ya.length;b++)ya[b].Fa(a.x,a.y)}else Vb.Fa(a.x-X,a.y)}
function sf(a){a.preventDefault();var b=Qb(a);0==a.button&&(Qe?Qe.xg(b.x,b.y):Vb instanceof cg?Vb.xg(b.x,b.y):Vb.xg(b.x-X,b.y))}function Tf(a){a.preventDefault();var b=Qb(a);0==a.button&&(Qe?Qe.gh(b.x,b.y):Vb instanceof cg?Vb.gh(b.x,b.y):Vb.gh(b.x-X,b.y))}
function rf(a){a.preventDefault();var b=Qb(a);if(0==a.button)if(Qe){if(Qe.Ma(b.x,b.y),Vb instanceof cg)for(a=0;a<ya.length;a++)ya[a].Ma(b.x,b.y)}else if(Vb instanceof cg){for(a=0;a<ya.length;a++)ya[a].Ma(b.x,b.y);Vb.Ma(b.x,b.y)}else Vb.Ma(b.x-X,b.y)}function hg(){return document.gD&&null!==document.gD||document.mozFullScreen||document.webkitIsFullScreen}
function ig(){var a=hg(),b=document.documentElement;a?document.exitFullscreen?document.exitFullscreen():document.hE?document.hE():document.webkitExitFullscreen&&document.webkitExitFullscreen():b.requestFullscreen?b.requestFullscreen():b.iE?b.iE():b.webkitRequestFullscreen&&b.webkitRequestFullscreen();Qe&&Qe instanceof jg&&(Qe.os.Sg.checked=!a)}
function kg(){if(fc.Zi){var a=fc;a.Zi=!1;D.hw=!1;jc();a.gc&&(a.Hc[a.gc].Cg(D.zj),a.fk[a.gc]=!0);fc.Rm=!1;D.Rm=!1}else a=fc,a.Zi=!0,D.hw=!0,jc(),a.gc&&(a.Hc[a.gc].Cg(0),a.fk[a.gc]=!1),fc.Rm=!0,D.Rm=!0;jc();if(Qe&&Qe instanceof jg){var a=Qe,b=fc.Zi;a.es.Vc=b;a.Ks.Vc=b}}function pf(a){a=null==a?window.event.keyCode:a.keyCode;a==wa.Lt&&0==mf&&(Xc=mf=!0,eg("god_mode_alert",2500,"white",0),Vb instanceof lg&&mg(Vb));a==wa.Qt&&kg();a==wa.Ht&&ig();Qe?Qe.te(a):Vb.te(a)}
function qf(a){a=null==a?window.event.keyCode:a.keyCode;Qe&&Qe.uq(a);Vb.uq(a)}function ng(a){Vb.Nk();Vb=a}
function Wf(){var a={};void 0===localStorage[Re]||null===localStorage[Re]?(Te=!0,og("STARTED GAME",{}),a.difficulty_mode="easy"):(a=JSON.parse(localStorage[Re]),Te=0==a.first_time?!1:!0);void 0!==a.hard_mode_unlocked?(Ue=a.hard_mode_unlocked)||(L="easy"):(Ue=!1,Se&&Se.easy&&void 0!==Se.easy["world 4"]&&(Ue=!0));a.levels||(a.levels={});a.enemies_seen||(a.enemies_seen={});a.enemies_killed||(a.enemies_killed={});a.world_rankings||(a.world_rankings={easy:{},normal:{}});var b={effects_volume:100,bg_music_volume:100,
explosions:!0,score_labels:!0,progress_circle:!1,multiplier_display:!1,impulse_shadow:!0,speed_run_countdown:!1,control_hand:"right",control_scheme:"mouse"};a.options||(a.options={});a.quests||(a.quests=[]);for(var c in b)a.options.hasOwnProperty(c)||(a.options[c]=b[c]);for(c in a.options)if(b.hasOwnProperty(c)){var d=a.options[c];(-1!==["bg_music_volume","effects_volume"].indexOf(c)?"number"===typeof d:-1!=="explosions score_labels progress_circle multiplier_display impulse_shadow speed_run_countdown".split(" ").indexOf(c)?
"boolean"===typeof d:"control_hand"===c?-1!==["right","left"].indexOf(d):"control_scheme"===c&&-1!==["mouse","keyboard"].indexOf(d))||(a.options[c]=b[c])}else delete b[c];a.save_data||(a.save_data={easy:{},normal:{}});Ve=a.save_data;L=a.difficulty_mode?a.difficulty_mode:"normal";We=a.total_kills?a.total_kills:0;Xe=a.tutorial_shown?a.tutorial_shown:[];D={Bp:a.options.effects_volume,zj:a.options.bg_music_volume,Hp:a.options.explosions,ec:a.options.score_labels,zE:a.options.progress_circle,qq:a.options.multiplier_display,
Sp:a.options.impulse_shadow,sh:a.options.speed_run_countdown,Cb:a.options.control_hand,qc:a.options.control_scheme};Ye=a.quests;pg("easy",a);pg("normal",a);Se=a.world_rankings;for(difficulty in Se)for(world in Se[difficulty])b=Se[difficulty][world],"string"===typeof b&&(c=qg(b),rg(c)),b.rank&&(c=qg(b.rank),rg(c));for(r in H)H[r].bg=a.enemies_seen[r]?a.enemies_seen[r]:0,H[r].He=a.enemies_killed[r]?a.enemies_killed[r]:0;sg("easy");sg("normal")}
function pg(a,b){for(r in N)if("HOW TO PLAY"!=r.slice(0,11))if("undefined"===typeof N[r].Ua&&(N[r].Ua={}),N[r].Ua[a]={},b.levels.hasOwnProperty(r)&&b.levels[r].save_state&&b.levels[r].save_state[a])if(N[r].Ua[a].qd=b.levels[r].save_state[a].high_score,N[r].Ua[a].bg=b.levels[r].save_state[a].seen,N[r].Ua[a].ub=b.levels[r].save_state[a].best_time,"HIVE"==r.slice(0,4)){for(var c=0;N[r].Ua[a].qd>=N[r].ua[a][c];)c+=1;N[r].Ua[a].jc=c}else N[r].Ua[a].jc=1E3>N[r].Ua[a].ub?3:0;else N[r].Ua[a].qd=0,N[r].Ua[a].jc=
0,N[r].Ua[a].bg=!1,N[r].Ua[a].ub=1E3}
function jc(){var a={levels:{}};tg("easy",a);tg("normal",a);a.enemies_seen={};a.enemies_killed={};for(r in H)a.enemies_seen[r]=H[r].bg,a.enemies_killed[r]=H[r].He;a.total_kills=We;a.difficulty_mode=L;a.world_rankings=Se;a.save_data=Ve;a.options={effects_volume:D.Bp,bg_music_volume:D.zj,explosions:D.Hp,score_labels:D.ec,progress_circle:D.zE,multiplier_display:D.qq,impulse_shadow:D.Sp,speed_run_countdown:D.sh,control_hand:D.Cb,control_scheme:D.qc};a.first_time=Te;a.hard_mode_unlocked=Ue;a.tutorial_shown=
Xe;a.quests=Ye;localStorage[Re]=JSON.stringify(a)}function tg(a,b){for(r in N)"HOW TO PLAY"!=r.slice(0,11)&&(b.levels.hasOwnProperty(r)||(b.levels[r]={},b.levels[r].save_state={}),b.levels[r].save_state[a]={},b.levels[r].save_state[a].high_score=N[r].Ua[a].qd,b.levels[r].save_state[a].best_time=N[r].Ua[a].ub,b.levels[r].save_state[a].seen=N[r].Ua[a].bg)}
function sg(a){var b=0;for(r in N)"HOW TO PLAY"!=r.slice(0,11)&&N[r].Ua[a]&&(b+=N[r].Ua[a].jc);Ze=0;for(r in Vd)H[r].He>=Vd[r]&&(Ze+=1);"undefined"===typeof $e&&($e={});$e[a]=b+Ze}function ug(a){Ve[L]=a;jc()}function mc(){for(var a=3,b=0;b<Ye.length;b++){var c=Ye[b];Hb[c]&&-1!=Hb[c].yb.indexOf("life")&&(a+=1)}return a}function nc(){for(var a=0,b=0;b<Ye.length;b++){var c=Ye[b];Hb[c]&&-1!=Hb[c].yb.indexOf("ult")&&(a+=1)}return a}
function oc(){for(var a=10,b=0;b<Ye.length;b++){var c=Ye[b];Hb[c]&&-1!=Hb[c].yb.indexOf("spark")&&(a+=1)}return a}function vg(){for(var a=null,b=0;b<sa.length;b++)0<sa[b].Uc&&(sa[b].Uc<a||null==a)&&(a=sa[b].Uc);for(b=0;b<ua.length;b++)0<ua[b].Uc&&(ua[b].Uc<a||null==a)&&(a=ua[b].Uc);for(b=0;b<va.length;b++)0<va[b].Uc&&(va[b].Uc<a||null==a)&&(a=va[b].Uc)}function Tc(a){-1==Ye.indexOf(a)&&(Ye.push(a),jc(),eg("quest_"+a,2500,"white",0))}function wg(a){return[.6,.3,.8,.4,.3][a]}
function xg(a){return[.6,.2,.35,.3,.25][a]}function og(a,b){"localhost"===window.location.host?(window.console.log("LOGGING"),window.console.log(a),window.console.log(b)):window.Raven.captureMessage(a,b)};function yg(a,b,c,d,f,g,h,k){this.type=a;this.Zk=b;this.Iq=c;this.Hq=d;this.nt=f;this.pE=g;this.oE=h;this.eE=k;this.Nl=0==this.Zk?1E3*this.Iq:1}yg.prototype.na=function(a,b){b>this.Zk&&(this.Nl-=a)};function zg(a,b){this.ha(a,b)}l=zg.prototype;
l.ha=function(a,b){this.n=b.n;this.Tj=b;this.r=null;this.dj=a.dj;this.Rp=a.Rp;this.Hl=!1;this.ww=500;"easy"==L&&(this.Tm=a.lb);this.Tm?this.OF=!0:this.Tm=a.s;"easy"==L&&(this.Ha=a.$b);this.Ha?this.PF=!0:this.Ha=a.Ha;this.Tk={};this.U=a.U;if(this.ud=0===parseInt(this.U.substring(7,8)))this.n=0;this.Fm=a.Wc;this.Wc=[];this.Yu=!1;this.Eh=0;this.Vg=a.Vg;"easy"==L&&(this.Ba=a.XA);this.Ba||(this.Ba=a.Ba);this.vq=a.vq;this.ej=a.Ra;"easy"==L&&a.xA&&(this.ej=a.xA);this.Ra=this.ej;this.ta=a.ta;Ag(this);this.Ms=
a.Ms;"easy"==L&&(this.Aa=a.Cf);this.Aa||(this.Aa=a.Aa);this.qs=a.qs;this.color=z["world "+b.n];this.Di=z["world "+b.n+" dark"];this.Yc=z["world "+b.n+" lite"];this.H=z["world "+b.n+" bright"];this.ra="BOSS"==this.U.slice(0,4);this.ra||(this.Qz=parseInt(this.U.slice(this.U.length-1,this.U.length)),this.ua=a.ua[L]);this.mp=!1;this.Ca=a.Ca;this.Rg=[];this.yd=[];this.wg=[];this.se=[];this.sA=[];this.Ve=[];this.Oq=0;this.fE=20;this.Kj=!1;this.ez={stunner:Rd,spear:Qd,tank:rd,mote:wc,goo:Nd,disabler:Td,
troll:Sd,fighter:Bc,harpoon:Ac,orbiter:Md,slingshot:xc,deathray:Fd,"first boss":fd,"second boss":Bd,"third boss":sd,"fourth boss":Zc,"boss four spawner":ad};this.Zb=a.Zb?{x:a.Zb.x/G,y:a.Zb.y/G}:{x:this.ej.x/G,y:this.ej.y/G};this.al=4;this.hD=300;this.pz=1E3;this.Lj=null;this.$d=[];this.vf=this.$k=1E3;this.Kp=2E3;this.ps=5;this.reset();this.Or={};this.fD=null;this.nz=0};
l.reset=function(){this.wc=this.r&&this.r.wc?!0:!1;this.Hl=!1;this.s=[];this.Ve=[];this.Bc=0;this.qt=this.ic=200;this.Wm=1;this.Kj=!1;this.tq=0;this.JC=3;this.pd=null;this.mp=this.vy=!1;this.Fi={};for(r in this.Tm){var a=this.Tm[r];this.Fi[r]=new yg(r,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);this.Tk[r]=0}this.rp=[];this.Gp=[];this.mi=[];this.Gg=[];this.Jz=!1;this.pF=this.nk=null;this.qF=1E4;this.pq=this.Bf=null;this.qA=1E4};
function Bg(a){var b=Math.floor(Math.random()*a.Ba.length);a.Bf={x:a.Ba[b][0],y:a.Ba[b][1]};for(var c={x:a.r.q.body.g.position.x*G,y:a.r.q.body.g.position.y*G};125>R(c,a.Bf)||a.nk&&a.Bf.x==a.nk.x&&a.Bf.y==a.nk.y;)b+=1,b%=a.Ba.length,a.Bf={x:a.Ba[b][0],y:a.Ba[b][1]};a.pq=a.qA}
l.na=function(a){!this.ra&&0<this.Ba.length&&this.r.Am&&(this.pq-=a,null==this.Bf||0>this.pq?Bg(this):25>R({x:this.r.q.body.g.position.x*G,y:this.r.q.body.g.position.y*G},this.Bf)&&(ec("sparks"),this.r.M.zi+=5,this.r.M.Tg=this.r.M.zi+Math.floor(this.r.M.ag/10),Qc(this.r,"x"+this.r.M.Tg,"white",this.Bf.x/G,this.Bf.y/G,2E3),Bg(this)));null!=this.Lj&&(0<this.Lj?this.Lj-=a:(Ne.translate(X,0),this.Nf(Ne),Ne.translate(-X,0),this.Lj=null));this.Hl&&(this.at-=a);this.Kj&&this.An(a);0>=this.tq&&1>this.sq?
this.sq=Math.min(1,this.sq+a/1E3):0<this.tq&&0<this.sq&&(this.sq=Math.max(0,this.sq-a/1E3));0<this.tq&&(this.tq-=a);for(var b=0;b<this.Wc.length;b++)this.Wc[b].na(a);this.rp=[];this.mi=[];this.Gp=[];for(b=0;b<this.s.length;b++)this.s[b].na(b,a);for(;0<this.rp.length;)b=this.rp.pop(),this.r.sa.qx(this.s[b].body),this.s[b]instanceof Ac&&this.r.sa.qx(this.s[b].Za.body),this.s[b]==this.pd&&(this.mp=!0);for(b=this.Ve.length-1;0<=b;b--)this.Ve[b].na(a),0>=this.Ve[b].Bs&&(this.Ve.splice(b,1),this.Oq-=4);
for(;0<this.Gp.length;){b=this.Gp.pop();--this.Tk[this.s[b].type];if("goo"==this.s[b].type||"disabler"==this.s[b].type){var c=this.Fi[this.s[b].type];c.Nl=1E3*Math.max(c.Iq-(this.r.M.ag-c.Zk)/60*c.Hq,c.nt)}this.s.splice(b,1)}for(;0<this.mi.length;)b=this.mi.pop(),Cg(this,b);if(!this.Jz)this.Mi(),this.Jz=!0;else if("HIVE 0-3"!=this.U||!this.r.Ii){if(!this.ra){var b=[],d;for(d in this.Fi){c=this.Fi[d];c.na(a,this.r.M.ag);var f=this.r.M.ag;if(0>=c.Nl){c.Nl+=1E3*Math.max(c.Iq-(f-c.Zk)/60*c.Hq,c.nt);var g=
0;0<c.Hq&&(g=2*Math.max(0,(c.nt-(c.Iq-(f-c.Zk)/60*c.Hq))/c.Hq)*c.nt/c.Iq);c=c.pE+(f-c.Zk)/60*c.oE+g}else c=void 0;if(0<c)for("easy"!=L||this.OF||(c=Math.max(1,.5*c)),this.r instanceof uc&&this.Qy&&(c*=2),this.r instanceof uc&&this.tn&&(c=0),f=1;f<=c;f++)b.push(d)}Dg(this,b);if(0==this.s.length&&0==this.Gg.length){d=1E3;for(var h in this.Fi)b=this.Fi[h],this.r.M.ag>b.Zk&&(d=Math.min(d,b.Nl));for(h in this.Fi)b=this.Fi[h],b.na(d,this.r.M.ag)}}0<=this.qt?this.qt-=a:0<this.Gg.length&&(a=this.Gg[0].type,
h=this.Gg[0].$G,this.Gg=this.Gg.slice(1),this.pt(a,h),this.qt=this.ic)}if(this.mp)for(b=0;b<this.s.length;b++)this.s[b].K||this.s[b].Qc("kill")};function Ag(a){a.ta.sort(function(a,c){var d=S({x:400,y:300},{x:a[0],y:a[1]}),f=S({x:400,y:300},{x:c[0],y:c[1]});return d-f})}
l.Mi=function(){if(this.Ha){var a=[],b;for(b in this.Ha){var c=this.Ha[b];this.ra||"easy"!=L||this.PF||(c=Math.max(1,.5*c));for(var d=0;d<c;d++)a.push(b);"separate_by_type"==this.dj&&(Dg(this,a),a=[])}"separate_by_type"!=this.dj&&Dg(this,a)}if(this.Fm&&!this.Yu&&Xc&&!this.Vg&&!this.ra){for(d=0;d<this.Fm.length;d++)Eg(this,this.Fm[d]);this.Yu=!0}};function Eg(a,b){a.Hl||a.Wc.push(new Yc(b.x,b.y,a.r,b.jb,b.size,a.Vg))}
function Dg(a,b){var c;if("spread"==a.dj){c=0;for(var d=Math.floor(Math.random()*a.ta.length),f=0;f<a.ta.length;f++){for(var g={x:a.ta[f][0]/G,y:a.ta[f][1]/G},h=-1,k=0;k<a.s.length;k++){var n=R(a.s[k].body.g.position,g);if(-1==h||n<h)h=n}h>c&&(c=h,d=f)}c=d}else c=Math.floor(Math.random()*a.ta.length);d=b.slice(0);for(f=0;f<b.length;f++)g=Math.floor(Math.random()*d.length),a.pt(d[g],c+Math.floor(f/b.length*a.ta.length)),d.splice(g,1)}
function Nc(a,b,c,d,f){if("player"==b||"shadow"==b||"spark"==b||"multi"==b||"boss"==b.slice(b.length-4,b.length)||a.Oq<a.fE&&D.Hp)a.Ve.push(new Fg(b,c,d,f)),a.Oq+=4}
l.pt=function(a,b){if(!this.Hl){var c=H[a].className;if(!(c.prototype.xf&&this.vy||this.Tk[a]>=this.Fi[a].eE)){if(c.prototype.xf)this.pd=c=new c(this.r.sa,P/G/2,Q/G/2,this.Bc,this.r),this.vy=!0;else if(this.ta)var d=this.ta[b%this.ta.length],c=new c(this.r.sa,d[0]/G,d[1]/G,this.Bc,this.r);else{var f;.5>Math.random()?(d=.5>Math.random()?-7:P/G+5,f=Math.random()*(Q/G+12)-7):(f=.5>Math.random()?-7:Q/G+5,d=Math.random()*(P/G+12)-7);d={x:d+2*Math.random(),y:f+2*Math.random()};c=new c(this.r.sa,d.x,d.y,
this.Bc,this.r)}Cg(this,c)}}};function Cg(a,b){a.s.push(b);a.Bc+=1;a.Tk[b.type]+=1;b.xf&&(a.pd=b);b.dn&&!a.Or.hasOwnProperty(b.type)&&(a.Or[b.type]=b.wm)}
function Gg(a){null==a.Ms&&a.Aa.length&&(a.Ms=a.Aa.length);for(var b=0;b<a.Ms;b++){var c=a.qs(b);a.ud?a.wg.push(new Xd(c,z["world "+a.n+" lite"],z["world "+a.n+" dark"])):a.wg.push(new Xd(c,z["world "+a.Tj.n+" lite"],z["world "+a.Tj.n+" dark"]));a.yd.push(c);for(var d=0;d<c.length;d++)a.sA.push(c[d]);a.Rg.push(Sb(c,a.Ca))}for(b=0;b<a.wg.length;b++)for(var c=a.wg[b],d=c.hj.length-1,f=0;f<c.hj.length;f++)a.se.push({p1:c.hj[d],p2:c.hj[f]}),d=f}
l.nh=function(a,b){if(this.Zb&&(!this.ra||this.r.Nr)){var c=this.Tj.n;this.ra&&this.pd&&(this.pd.K||this.pd.Fh)&&(c=0);a.save();if(null!=this.Lj&&4>=this.n){var d=Math.max(this.Lj/this.pz,0);a.globalAlpha*=.3+.2*(1-d);a.strokeStyle=z["world "+c+" bright"];"HIVE 0-1"==this.U||"HIVE 0-2"==this.U||this.ud||(a.save(),a.globalAlpha=.5<d?.3+(1-d):Math.max(0,0+1.6*d),a.beginPath(),a.arc(this.Zb.x*b,this.Zb.y*b,this.hD*(1-d),0,2*Math.PI),a.lineWidth=2+8*d,a.stroke(),a.restore())}else a.globalAlpha=this.r&&
this.Kj&&4>=this.n?.7*a.globalAlpha:.3*a.globalAlpha;Ma(a,c,this.Zb.x*b,this.Zb.y*b,this.al*b,this.Kj,0);this.Kj&&this.Om(a,b);a.restore()}};
l.V=function(a,b){a.save();if(0<this.nz){a.save();a.globalAlpha=this.nz;for(var c=0;c<this.wg.length;c++){var d=this.wg[c].color;this.wg[c].color=this.fD;this.wg[c].V(a,G);this.wg[c].color=d}a.restore()}if(this.nk){var f=this.pF/this.qF;a.save();a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7);this.Hl&&(a.globalAlpha*=Math.max(0,this.at/this.ww));J(a,this.nk.x,this.nk.y,0,36,36,"spark_powerup");a.restore()}this.Bf&&(f=this.pq/this.qA,a.save(),a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7),this.Hl&&
(a.globalAlpha*=Math.max(0,this.at/this.ww)),c=this.Bf.x,d=this.Bf.y,J(a,c+1,d,0,20,20,"multi_powerup"),a.strokeStyle="white",a.lineWidth=2,a.save(),a.globalAlpha*=.5,a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+.001,!0),a.stroke(),a.restore(),a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*(1-f),!0),a.stroke(),a.restore());this.EE&&(Ne.translate(X,0),this.Nf(Ne,!0),Ne.translate(-X,0),this.EE=!1);1!=this.Wm&&(a.save(),a.globalAlpha*=this.Wm);for(c=0;c<this.Ve.length;c++)this.Ve[c].V(a,
b);for(c=0;c<this.s.length;c++)this.s[c].nh(a,b);for(var g in this.Or)for(d=this.Or[g],f=1;f<=d;f++){for(var h=null,c=0;c<this.s.length;c++)this.s[c].type==g&&(null==h&&(h=this.s[c],h.xm(a,b,f)),this.s[c].um(a,b,f));null!=h&&h.vm(a,b,f)}for(c=0;c<this.s.length;c++)this.s[c].V(a,b);for(c=0;c<this.s.length;c++)this.s[c].Xk(a,b);for(c=0;c<this.Wc.length;c++)this.Wc[c].V(a);1!=this.Wm&&a.restore();0<=this.IC&&(a.beginPath(),a.arc(P/b/2*b,Q/b/2*b,2*this.JC*b,-.5*Math.PI,-.5*Math.PI+this.IC/this.wG*Math.PI*
2,!0),a.lineWidth=2,a.strokeStyle="gray",a.stroke(),a.globalAlpha=1);a.restore()};l.Xk=function(a){for(var b=0;b<this.Wc.length;b++)this.Wc[b].Xk(a)};function Hg(a){a.Lj=a.pz;a.Kj=!0;if(Xc&&a.Vg&&!a.ra){for(var b=0;b<a.Fm.length;b++)Eg(a,a.Fm[b]);a.Yu=!0}}
l.Nf=function(a){a.save();a.beginPath();a.rect(0,0,P,Q);a.fillStyle=this.Di;a.fill();a.clip();null!=this.n&&this.ra&&this.pd&&(this.pd.K||this.pd.Fh)?(a.save(),Eb(a,0,0,P,Q,"Hive 0"),a.restore()):null==this.n||this.ud?null!=this.n&&this.ud?(a.save(),Eb(a,0,0,P,Q,"Hive 0"),a.restore()):(a.fillStyle=z["world 0 bright"],a.fillRect(0,0,P,Q)):(a.save(),Eb(a,0,0,P,Q,"Hive "+this.n),a.restore());if(this.ud){a.save();var b=this.Zb.x*G,c=this.Zb.y*G;Eb(a,b-.15*P,c-.15*Q,b+.15*P,c+.15*Q,"Hive "+this.Tj.n);
a.restore();a.beginPath();a.rect(b-.15*P,c-.15*Q,.3*P,.3*Q);a.lineWidth=2;a.strokeStyle=z["world "+this.Tj.n+" dark"];a.stroke()}for(b=0;b<this.wg.length;b++)this.wg[b].V(a,G);(this.ra||this.ud)&&0<this.yd.length?(a.fillStyle=z["world "+this.n+" dark"],a.fillRect(375,0,50,22),a.fillRect(375,578,50,22),a.fillRect(0,275,22,50),a.fillRect(778,275,22,50)):"HIVE 0-3"==this.U?(a.fillStyle=z["world "+this.n+" dark"],a.fillRect(0,0,47,600),a.fillRect(753,0,47,600)):"HIVE 0-4"==this.U&&(a.fillStyle=z["world "+
this.n+" dark"],a.fillRect(0,0,800,47),a.fillRect(0,553,800,47));this.ud&&(a.fillStyle=z["world "+this.Tj.n+" bright"],a.textAlign="center",a.font="32px Muli",a.fillText(ra[this.Tj.n],400,150),a.font="16px Muli",a.fillText("8 LEVELS",400,170));a.restore()};l.An=function(a){for(var b=0;b<this.$d.length;b++){var c=this.$d[b];c.ob+=a/this.Kp}for(b=this.$d.length-1;0<=b;b--)c=this.$d[b],1<c.ob&&this.$d.splice(b,1);this.vf-=a;0>this.vf&&(this.vf+=this.$k,this.Lp(this.Zb.x,this.Zb.y,this.ps))};
l.Lp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.$d.push({Rn:1.5*Math.cos(f)*this.al+a,Sn:1.4*Math.sin(f)*this.al+b,ob:0})}};
l.Om=function(a,b){for(var c=0;c<this.$d.length;c++){var d=this.$d[c];a.save();a.globalAlpha=.25>d.ob?4*a.globalAlpha*d.ob:(1-d.ob)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.Rn*(1-d.ob)+this.Zb.x*d.ob)-3,b*(d.Sn*(1-d.ob)+this.Zb.y*d.ob)-3,6,6);a.fillStyle=this.ra&&this.pd&&(this.pd.K||this.pd.Fh)?z["world 0 bright"]:this.ud?z["world "+this.Tj.n+" bright"]:z["world "+this.n+" bright"];a.fill();a.restore()}};l.Nk=function(){for(var a=0;a<this.Wc.length;a++)this.Wc[a].Nk()};var N={"HOW TO PLAY":{s:{stunner:[0,4,0,4,1,0,5]},Wa:"stunner",Aa:[[[838,84],[-38,84],[-38,-45],[838,-45]],[[-38,175],[42,175],[42,258],[756,258],[756,175],[838,175],[838,645],[-38,645]]],Ba:[[72,225],[728,225],[21,127],[779,127]],ta:[[-100,127],[900,127]],Ca:1,ua:{normal:[2500,1E4,2E4],easy:[2500,1E4,2E4]},Ra:{x:400,y:170},Ca:1},"HIVE 0-1":{lb:{},s:{},$b:{},Ha:{},Wa:"stunner",Aa:[],Ba:[],ta:[],Ca:1,fh:50,ua:{normal:[0,3E5,12E5]},Ra:{x:200,y:300},Zb:{x:600,y:300},Wc:[{x:400,y:300,size:250,jb:"one"}],
Vg:!1,Rp:!0},"HIVE 0-2":{lb:{dumb_stunner:[0,1,0,1,0,0,2]},s:{dumb_stunner:[0,1,0,1,0,0,2]},$b:{dumb_stunner:2},Ha:{dumb_stunner:2},Wa:"stunner",Aa:[[[-50,260],[370,260],[370,360],[-50,360]],[[50,460],[751,460],[750,520],[50,520]],[[850,360],[430,360],[430,260],[850,260]]],Ba:[],ta:[[25,490],[775,490]],Ca:1,fh:50,ua:{normal:[0,3E5,12E5]},Ra:{x:400,y:560},Zb:{x:400,y:200},Rp:!0},"HIVE 0-3":{lb:{dumb_stunner:[0,1,0,1,1,0,1]},s:{dumb_stunner:[0,1,0,1,1,0,1]},$b:{dumb_stunner:1},Ha:{dumb_stunner:1},Wa:"dumb_stunner",
Aa:[[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]],[[847,200],[516,200],[516,30],[285,30],[285,200],[-53,200],[-53,-50],[847,-51]],[[-47,400],[284,400],[284,570],[516,570],[516,400],[853,400],[853,650],[-47,651]]],Ba:[],ta:[[200,300]],Ca:1,fh:50,ua:{easy:[200,3E5,12E5],normal:[200,3E5,12E5]},Ra:{x:100,y:300},Zb:{x:600,y:300},SA:!0,Wc:[{x:400,y:115,size:125,jb:"three"},{x:400,y:485,size:125,jb:"three"}],Vg:!0},"HIVE 0-4":{lb:{dumb_stunner:[0,1,0,1,1,0,4]},s:{dumb_stunner:[0,
1,0,1,1,0,4]},$b:{dumb_stunner:4},Ha:{dumb_stunner:4},Wa:"dumb_stunner",Aa:[[[-50,-51],[850,-51],[850,52],[522,50],[522,129],[278,129],[278,50],[-50,50]],[[-50,550],[278,550],[278,471],[522,471],[522,550],[850,548],[850,651],[-50,651]],[[50,651],[-50,649],[-50,-50],[50,-50],[50,219],[122,219],[122,380],[50,380]],[[750,-51],[850,-49],[850,650],[750,650],[750,381],[678,381],[678,220],[750,220]]],Ba:[[300,200],[300,400],[500,200],[500,400]],ta:[[300,300],[500,300],[400,200],[400,400]],Ca:1,fh:50,ua:{easy:[2E3,
1E4,2E4],normal:[2E3,1E4,2E4]},Ra:{x:400,y:300},dj:"spread",Kn:!0,Wc:[{x:165,y:130,size:125,jb:"four"},{x:165,y:470,size:125,jb:"four"},{x:635,y:470,size:125,jb:"four"},{x:635,y:130,size:125,jb:"four"}],Vg:!0},"HIVE 1-0":{lb:{},s:{},$b:{},Ha:{},Wa:"stunner",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],
Ba:[],ta:[],Ca:1,fh:50,ua:{normal:[0,3E5,12E5]},Ra:{x:400,y:500},Zb:{x:400,y:350},Wc:[{x:400,y:150,size:200,jb:"hive_one_open"}],Vg:!1},"HIVE 1-1":{lb:{stunner:[0,4,1,1,2,0,50]},s:{stunner:[0,1.5,.5,1,4,2,50]},$b:{stunner:2},Ha:{stunner:4},Wa:"stunner",Aa:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[144,367],[656,367],[656,626],[144,626]],[[144,-26],[656,-26],[656,233],[144,233]]],Cf:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,
-26]],[[174,400],[626,400],[626,626],[174,626]],[[174,-26],[626,-26],[626,200],[174,200]]],Ba:[[81,75],[81,525],[719,75],[719,525]],XA:[[250,250],[250,350],[550,250],[550,350]],ta:[[50,-100],[750,-100],[50,700],[750,700]],Ca:1,fh:50,ua:{easy:[600,5E4,3E5],normal:[5E5,4E5,8E5]},Ra:{x:400,y:300}},"HIVE 1-2":{s:{stunner:[3,3,0,3,3,2,25],spear:[0,3,0,3,2,2,25]},lb:{stunner:[2,3,1,1,1,0,25],spear:[0,4,1,1,1,0,25]},Ha:{spear:4},$b:{spear:1},Wa:"spear",Aa:[[[112,-6],[688,-6],[688,26],[112,26]],[[-9,96],
[30,96],[30,505],[-9,505]],[[809,504],[770,504],[770,95],[809,95]],[[688,606],[112,606],[112,574],[688,574]],[[135,126],[330,126],[135,259]],[[135,341],[330,474],[135,474]],[[665,259],[470,126],[665,126]],[[665,474],[470,474],[665,341]]],Ba:[[135,300],[665,300],[400,125],[400,475],[709,78],[91,78],[709,522],[91,522]],ta:[[-50,-50],[850,650],[850,-50],[-50,650]],Ca:1,ua:{easy:[2500,8E4,4E5],normal:[5E5,4E5,1E6]},Ra:{x:400,y:300}},"HIVE 1-3":{lb:{stunner:[0,2.5,.5,1,2,0,40],spear:[15,6,1.5,1.5,1,0,
15]},s:{stunner:[0,3,1,1,4,0,50],spear:[4,4,0,4,1,1,15]},$b:{stunner:4},Ha:{stunner:12},Wa:"stunner",Aa:[[[466,300],[400,348],[335,300],[400,251]],[[-11,-10],[305,-10],[305,12],[10,236],[-11,236]],[[-11,364],[10,364],[305,588],[305,610],[-11,610]],[[811,236],[791,236],[495,12],[495,-10],[811,-10]],[[811,610],[495,610],[495,588],[791,364],[811,364]]],ta:[[-100,300],[400,-100],[900,300],[400,700]],Ba:[[400,50],[50,300],[400,550],[750,300]],Ca:1,ua:{easy:[2500,12E4,6E5],normal:[5E5,3E5,12E5]},Ra:{x:400,
y:400}},"HIVE 1-4":{lb:{spear:[0,5,2,1,2,0,40]},s:{spear:[0,4,1,2,3,4,40]},Ha:{spear:4},$b:{spear:2},Wa:"spear",Aa:[[[-15,73],[265,253],[-15,269]],[[336,426],[362,610],[-15,610]],[[464,175],[438,-10],[815,-10]],[[-15,331],[265,348],[-15,527]],[[815,269],[535,253],[815,73]],[[-15,-10],[362,-10],[336,175]],[[815,610],[438,610],[464,426]],[[815,527],[535,348],[815,331]]],ta:[[-100,14],[900,14],[900,586],[-100,586],[-100,300],[400,-100],[900,300],[400,700]],Ba:[[400,125],[400,475],[125,300],[675,300],
[177,145],[623,145],[177,455],[623,455]],Ca:1,ua:{easy:[4E3,2E5,75E4],normal:[75E4,4E5,15E5]},Ra:{x:400,y:300}},"HIVE 1-6":{s:{spear:[0,7,0,7,2,1.5,15],tank:[1,5,0,5,3,2,25]},lb:{spear:[6,6,2,2,1.5,0,15],tank:[0,5,2,1,1,0,25]},Wa:"tank",Ha:{spear:8},$b:{tank:6},Aa:[[[103,1],[688,1],[688,27],[103,27]],[[799,483],[770,483],[770,116],[799,116]],[[103,573],[688,573],[688,599],[103,599]],[[1,116],[30,116],[30,483],[1,483]]],ta:[[-100,-100],[900,-100],[900,700],[-100,700]],Ba:[[66,528],[66,72],[734,528],
[66,528]],Ca:1,ua:{easy:[7500,2E5,6E5],normal:[1E6,4E5,125E4]},Ra:{x:400,y:300}},"HIVE 1-5":{s:{stunner:[2,6,0,6,3,2,25],tank:[0,8,0,8,2,3,25]},lb:{stunner:[0,6,2,2,1,0,25],tank:[0,6,2,2,1,0,25]},Ha:{tank:4},$b:{tank:3,stunner:1},Wa:"tank",Aa:[[[828,322],[518,8],[554,-32],[823,-32]],[[-28,278],[282,592],[246,632],[-23,632]],[[398,125],[575,300],[399,476],[223,300]],[[107,185],[-25,53],[-25,-34],[325,-34]],[[693,415],[825,547],[825,634],[475,634]]],ta:[[400,-100],[400,700],[-100,150],[900,450]],Ba:[[50,
240],[400,15],[400,585],[750,360]],Ca:1,ua:{easy:[4E3,2E5,8E5],normal:[1E6,5E5,15E5]},Ra:{x:250,y:150}},"HIVE 1-7":{lb:{stunner:[0,5,1,2,1,0,30],spear:[0,6,1.2,2.4,1,0,15],tank:[0,10,2.5,5,1,0,15]},s:{stunner:[0,5,0,5,2,1,30],spear:[0,5,0,5,2,1,15],tank:[0,10,0,10,2,1,15]},Ha:{stunner:4,spear:2,tank:4},$b:{stunner:2,spear:1,tank:1},Wa:"tank",Aa:[[[243,110],[332,144],[243,179],[153,144]],[[310,-3],[400,-38],[489,-3],[400,31]],[[310,300],[400,265],[489,300],[400,334]],[[88,-38],[177,-3],[88,31],[-2,
-3]],[[-2,300],[88,265],[177,300],[88,334]],[[-21,125],[25,143],[-21,163]],[[-2,603],[88,569],[177,603],[88,638]],[[802,-3],[712,31],[623,-3],[712,-38]],[[-21,437],[25,457],[-21,475]],[[821,163],[775,143],[821,125]],[[153,456],[243,421],[332,456],[243,490]],[[647,144],[557,179],[468,144],[557,110]],[[712,334],[623,300],[712,265],[802,300]],[[557,490],[468,456],[557,421],[647,456]],[[712,638],[623,603],[712,569],[802,603]],[[400,569],[489,603],[400,638],[310,603]],[[821,475],[775,457],[821,437]]],
ta:[[-100,50],[-100,300],[-100,550],[900,50],[900,300],[900,550],[240,-100],[560,-100],[240,700],[560,700]],Ba:[[75,145],[235,34],[565,34],[725,145],[725,455],[565,566],[235,566],[75,455]],Ca:1,ua:{easy:[5E3,15E4,75E4],normal:[1E6,4E5,15E5]},Ra:{x:400,y:450}},"BOSS 1":{s:{"first boss":[0,1,0,1,0,0,1]},Ha:{"first boss":1},Wa:"first boss",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,
-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ta:[[60,62],[60,539],[740,62],[740,539]],Ca:1,Ra:{x:400,y:500},av:40,Wc:[{x:400,y:200,size:125,jb:"hive_one_close"}]},"HIVE 2-0":{lb:{},s:{},$b:{},Ha:{},Wa:"stunner",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Ba:[],ta:[],
Ca:1,fh:50,ua:{normal:[0,3E5,12E5]},Ra:{x:400,y:500},Zb:{x:400,y:350},Wc:[{x:400,y:150,size:200,jb:"hive_two_open"}],Vg:!1},"HIVE 2-1":{lb:{stunner:[0,5,1.5,2,1,0,15],tank:[15,12,3,3,1,0,15],mote:[0,10,2,4,1,0,25]},s:{stunner:[1,4,0,4,1,1,15],tank:[0,8,0,8,1,1,15],mote:[5,7,0,7,2,1.5,25]},Ha:{mote:4,tank:1},$b:{mote:2,stunner:2},Wa:"mote",Aa:[[[-12,-8],[815,-8],[815,609],[748,609],[748,50],[51,50],[51,609],[-12,609]],[[176,609],[176,175],[288,174],[286,286],[228,286],[228,540],[566,540],[566,287],
[510,286],[510,175],[626,175],[626,609]],[[324,363],[469,363],[469,466],[324,466]]],Ba:[[400,500],[687,450],[113,450]],ta:[[100,700],[700,700]],Ca:1,ua:{easy:[5E3,2E5,75E4],normal:[125E4,45E4,175E4]},dj:"separate_by_type",Ra:{x:400,y:235}},"HIVE 2-2":{s:{stunner:[3,4,0,4,2,0,30],spear:[1,10,2,4,4,0,20],mote:[0,8,1,6,2,0,20]},lb:{stunner:[5,5,1,2,1,0,30],spear:[0,12,0,12,2,1,20],mote:[0,9,2,3,1,0,20]},Ha:{mote:2},Wa:"mote",Aa:[[[-25,253],[143,253],[143,347],[-25,347]],[[825,347],[656,347],[656,253],
[825,253]],[[556,347],[454,347],[454,253],[557,253]],[[244,253],[346,253],[346,347],[243,347]],[[-25,-36],[825,-36],[825,148],[758,148],[758,23],[656,23],[658,148],[555,148],[557,23],[454,23],[455,148],[346,148],[346,23],[243,23],[244,148],[143,148],[143,23],[42,23],[42,148],[-25,148]],[[-25,452],[42,452],[42,577],[143,577],[143,452],[244,452],[243,577],[346,577],[346,452],[455,452],[454,577],[557,577],[555,452],[658,452],[656,577],[758,577],[758,452],[825,452],[825,636],[-25,636]]],ta:[[-100,175],
[900,175],[900,425],[-100,425]],Ba:[[95,85],[295,85],[505,85],[705,85],[95,515],[295,515],[505,515],[705,515]],Ca:1,ua:{easy:[5E3,2E5,75E4],normal:[125E4,3E5,15E5]},Ra:{x:400,y:300}},"HIVE 2-3":{lb:{spear:[0,6,2,2,2,0,30],tank:[0,8,1,5,3,0,30],goo:[0,10,0,10,1,0,1]},s:{spear:[0,3,1,1,1,0,30],tank:[0,8,2,2,3,0,30],goo:[0,10,0,10,1,0,1]},Wa:"goo",Aa:[[[94,-22],[709,-21],[589,92],[212,92]],[[212,508],[589,508],[709,621],[94,622]],[[-24,117],[104,223],[104,378],[-24,483]],[[824,483],[696,377],[696,222],
[824,117]]],ta:[[-100,-100],[900,-100],[900,700],[-100,700]],Ba:[[66,528],[66,72],[734,528],[66,528]],Ca:1,Ha:{tank:4,spear:8,goo:1},$b:{tank:6,spear:4,goo:1},dj:"separate_by_type",ua:{easy:[1E4,3E5,1E6],normal:[1E6,6E5,2E6]},Ra:{x:400,y:300}},"HIVE 2-4":{s:{stunner:[6,6,0,6,2,2,10],spear:[0,2,.3,1,2,0,20],mote:[0,8,2,2,2,0,15],goo:[0,10,0,10,1,0,1]},lb:{stunner:[8,8,0,8,2,1,10],spear:[0,12,3,2,2,0,20],mote:[0,8,1.5,2,1,0,15],goo:[0,10,0,10,1,0,1]},Wa:"goo",Ha:{spear:3,goo:1,mote:2,stunner:2},$b:{spear:2,
goo:1,mote:1,stunner:2},Aa:[[[-33,-54],[342,-54],[343,201],[191,384],[-33,536]],[[833,536],[609,384],[457,201],[458,-54],[833,-54]],[[526,478],[725,602],[725,641],[75,641],[75,602],[274,478]]],ta:[[400,-100],[-125,700],[925,700]],Ba:[[400,120],[180,460],[620,460]],Ca:1,ua:{easy:[7500,2E5,8E5],normal:[1E6,5E5,2E6]},dj:"separate_by_type",Ra:{x:400,y:330}},"HIVE 2-5":{lb:{stunner:[6,6,2,2,1,0,15],mote:[8,8,2,4,1,0,15],harpoon:[0,15,3,6,1,0,15]},s:{stunner:[1,6,0,6,2,1,15],mote:[1,8,1,4,1,0,15],harpoon:[0,
20,4,8,2,0,15]},Wa:"harpoon",Ha:{harpoon:2},$b:{harpoon:1},Aa:[[[-32,-31],[49,-31],[49,631],[-32,631]],[[832,631],[751,631],[751,-31],[832,-31]],[[656,366],[629,366],[629,236],[656,236]],[[144,235],[171,235],[171,364],[144,364]],[[387,235],[414,235],[414,365],[387,365]],[[265,368],[292,368],[292,498],[265,498]],[[535,232],[508,232],[508,102],[535,102]],[[265,102],[292,102],[292,232],[265,232]],[[535,498],[508,498],[508,368],[535,368]],[[659,102],[628,102],[629,18],[414,18],[414,102],[387,102],[387,
18],[172,18],[172,102],[143,102],[145,-34],[659,-33]],[[141,498],[172,498],[171,582],[386,582],[386,498],[414,498],[413,582],[628,582],[628,498],[658,498],[655,634],[141,633]]],Ca:1,ta:[[100,-50],[700,-50],[100,650],[700,650]],Ba:[[100,50],[100,300],[100,550],[700,50],[700,300],[700,550]],ua:{easy:[7500,3E5,1E6],normal:[1E6,6E5,2E6]},Ra:{x:400,y:425}},"HIVE 2-6":{s:{spear:[1,10,2,2,2,0,10],tank:[2,15,3,6,2,0,12],goo:[0,20,0,20,1,0,1],harpoon:[0,20,3,8,2,0,12]},lb:{spear:[0,8,2,4,1,0,10],tank:[2,12,
4,3,1,0,12],goo:[0,20,0,20,1,0,1],harpoon:[0,15,4,6,1,0,12]},Wa:"harpoon",Aa:[[[325,276],[374,276],[374,231],[427,231],[427,276],[475,276],[475,324],[426,324],[426,371],[373,371],[373,324],[325,324]],[[832,27],[-31,27],[-31,-18],[832,-18]],[[-32,573],[831,573],[831,618],[-32,618]],[[192,369],[246,369],[246,450],[325,450],[325,502],[192,502]],[[192,98],[325,98],[325,150],[246,150],[246,231],[192,231]],[[-25,98],[111,98],[111,502],[-25,502]],[[825,502],[689,502],[689,98],[825,98]],[[608,231],[554,231],
[554,150],[475,150],[475,98],[608,98]],[[608,502],[475,502],[475,450],[554,450],[554,369],[608,369]]],ta:[[-100,50],[900,50],[-100,550],[900,550]],Ba:[[90,63],[710,63],[90,537],[710,537]],Ha:{harpoon:2,goo:1},Ca:1,ua:{easy:[7500,25E4,6E5],normal:[125E4,5E5,125E4]},Ra:{x:400,y:450}},"HIVE 2-7":{lb:{stunner:[0,30,5,15,2,0,16],spear:[2,30,5,15,2,0,16],tank:[12,30,5,15,2,0,16],mote:[6,30,5,15,2,0,16],goo:[18,30,5,15,1,0,1],harpoon:[20,30,5,15,2,0,16]},s:{stunner:[2,30,3,15,4,0,16],spear:[10,30,3,15,4,
0,16],tank:[22,30,3,15,4,0,16],mote:[6,30,3,15,3,0,16],goo:[16,30,3,15,1,0,1],harpoon:[0,30,3,15,3,0,16]},Wa:"harpoon",Aa:[[[830,52],[-29,52],[-29,-27],[830,-27]],[[-30,548],[829,548],[829,627],[-30,627]],[[-30,133],[307,133],[307,186],[54,186],[54,415],[307,415],[307,467],[-30,466]],[[830,466],[493,467],[493,415],[746,415],[746,186],[493,186],[493,133],[830,133]],[[229,275],[571,275],[571,325],[229,325]]],ta:[[-100,100],[900,100],[-100,500],[900,500]],Ba:[[200,93],[600,93],[200,507],[600,507]],Ca:1,
ua:{easy:[7500,3E5,1E6],normal:[15E5,75E4,225E4]},$b:{stunner:2},Ha:{harpoon:3},Ra:{x:400,y:400}},"BOSS 2":{s:{"second boss":[0,1,0,1,0,0,1],stunner:[0,10,0,10,0,0,12],spear:[0,10,0,10,0,0,8],tank:[0,10,0,10,0,0,8],mote:[0,10,0,10,0,0,8],goo:[0,10,0,10,0,0,1],harpoon:[0,10,0,10,0,0,8]},Ha:{"second boss":1},Wa:"second boss",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,
-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ta:[[60,62],[60,539],[740,62],[740,539]],Ca:1,Ra:{x:400,y:500},av:60,Wc:[{x:400,y:200,size:125,jb:"hive_two_close"}]},"HIVE 3-0":{lb:{},s:{},$b:{},Ha:{},Wa:"stunner",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Ba:[],ta:[],Ca:1,fh:50,
ua:{normal:[0,3E5,12E5]},Ra:{x:400,y:500},Zb:{x:400,y:350},Wc:[{x:400,y:150,size:200,jb:"hive_three_open"}],Vg:!1},"HIVE 3-1":{lb:{stunner:[7,12,2,6,2,0,20],tank:[8,12,3,3,1,0,10],mote:[6,12,2,4,1,0,15],fighter:[0,24,4,8,1,0,12]},s:{stunner:[0,10,1.5,4,4,0,20],tank:[0,12,2.4,4.8,1,0,10],mote:[0,12,2.4,4.8,1,0,15],fighter:[0,14,3,5,1,0,12]},Wa:"fighter",Aa:[[[304,274],[426,204],[496,326],[374,396]],[[72,212],[193,142],[263,263],[142,333]],[[242,507],[363,437],[433,558],[312,628]],[[558,93],[437,163],
[367,42],[488,-28]],[[728,388],[607,458],[537,337],[658,267]],[[326,31],[204,101],[134,-20],[256,-90]],[[474,569],[596,499],[666,620],[544,690]],[[10,444],[131,374],[201,496],[80,566]],[[790,156],[669,226],[599,104],[720,34]],[[-160,150],[-39,80],[31,201],[-90,271]],[[960,450],[839,520],[769,399],[890,329]]],Cf:[[[314,277],[423,214],[486,323],[377,386]],[[82,215],[190,152],[253,260],[145,323]],[[252,510],[360,447],[423,555],[315,618]],[[548,90],[440,153],[377,45],[485,-18]],[[718,385],[610,448],[547,
340],[655,277]],[[316,28],[207,91],[144,-17],[253,-80]],[[484,572],[593,509],[656,617],[547,680]],[[20,447],[128,384],[191,493],[83,556]],[[780,153],[672,216],[609,107],[717,44]],[[-150,153],[-42,90],[21,198],[-87,261]],[[950,447],[842,510],[779,402],[887,339]]],ta:[[-100,360],[-100,-100],[900,200],[900,700],[200,700],[400,700],[360,-100],[600,-100]],Ba:[[586,50],[83,88],[205,548],[715,515],[728,260],[83,330]],Ca:.8,ua:{easy:[1E4,4E5,1E6],normal:[15E5,75E4,225E4]},Ha:{fighter:2,tank:1,mote:1,stunner:4},
$b:{fighter:1,stunner:2},Ch:!0,Ra:{x:250,y:380}},"HIVE 3-2":{s:{spear:[0,8,0,8,2,1,20],goo:[1,15,0,15,1,0,1],fighter:[0,20,4,12,2,0,12],harpoon:[0,16,3,7,1,0,12]},lb:{spear:[10,10,1.5,3,1,0,20],goo:[0,15,0,15,1,0,1],fighter:[0,24,4,8,2,0,12],harpoon:[0,20,3,9,1,0,12]},Wa:"fighter",Aa:[[[438,472],[393,455],[380,425],[413,411]],[[488,230],[474,198],[505,185],[548,205]],[[572,262],[555,307],[525,320],[512,287]],[[228,338],[245,293],[275,280],[288,313]],[[312,370],[326,402],[295,415],[252,395]],[[470,
388],[502,374],[515,405],[495,448]],[[330,212],[298,226],[285,195],[305,152]],[[362,128],[407,145],[420,175],[387,189]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,
27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],Cf:[[[433,467],[395,453],[384,427],[412,416]],[[490,226],[479,199],[505,188],[541,205]],[[567,267],[553,305],[527,316],[516,288]],[[233,333],[247,295],[273,284],[284,312]],[[310,374],[321,401],[295,412],[259,395]],[[474,390],[501,379],[512,405],[495,441]],[[326,210],[299,221],[288,195],[305,159]],[[367,133],[405,147],[416,173],[388,184]],[[739,714],[628,449],[692,422],[665,357],[855,279],
[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],ta:[[-156,410],[-78,605],[110,-102],[317,-187],[886,-23],
[972,193],[706,742],[482,820]],Ba:[[190,84],[613,89],[610,521],[186,503]],Ca:1,ua:{easy:[12500,3E5,1E6],normal:[15E5,8E5,2E6]},Ha:{fighter:2,spear:2,harpoon:2},$b:{fighter:2,harpoon:1,goo:1},Ch:!0,Ra:{x:370,y:380}},"HIVE 3-3":{s:{tank:[6,18,3,9,2,0,20],harpoon:[0,20,3,11,2,0,15],mote:[1,14,3,5,2,0,10],disabler:[1,10,1,1,1,0,1]},lb:{tank:[6,12,3,3,1,0,20],harpoon:[8,16,3,6,1,0,15],mote:[0,10,2,4,1,0,10],disabler:[0,5,0,5,1,0,1]},Wa:"disabler",Aa:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,
459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],Cf:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],ta:[[-100,166],[900,166]],Ba:[[100,402],[700,402],
[250,196],[550,193]],Ca:1.3,ua:{easy:[12500,3E5,9E5],normal:[15E5,6E5,175E4]},Ha:{harpoon:2},$b:{disabler:1,mote:2},Ch:!0,Ra:{x:400,y:400}},"HIVE 3-4":{s:{spear:[0,8,1,4,2,0,15],fighter:[0,20,4,8,2,0,10],mote:[0,14,2,8,1,0,20],disabler:[0,10,0,10,1,0,1]},lb:{spear:[0,6,1,3,2,0,15],fighter:[0,20,3,6,2,0,10],mote:[0,10,0,10,2,1,20],disabler:[0,5,0,5,1,0,1]},Wa:"disabler",Aa:[[[424,337],[540,368],[555,310],[613,326],[582,441],[640,457],[624,515],[509,484],[493,541],[436,526],[467,410],[409,395]],[[420,
584],[536,615],[551,558],[609,573],[578,689],[405,642]],[[428,90],[544,121],[559,63],[617,78],[586,194],[644,209],[629,267],[513,236],[498,294],[440,279],[471,163],[413,147]],[[177,333],[292,364],[308,306],[366,322],[335,437],[393,453],[377,510],[262,479],[246,537],[188,522],[219,406],[161,391]],[[173,580],[288,611],[304,553],[362,569],[331,685],[157,638]],[[181,86],[297,117],[312,59],[370,74],[339,190],[397,205],[381,263],[266,232],[250,290],[192,274],[223,159],[166,143]],[[401,-42],[385,16],[270,
-15],[254,43],[197,27],[228,-89]],[[648,-38],[633,20],[517,-11],[502,47],[444,31],[475,-84]],[[671,341],[787,372],[802,314],[860,330],[829,445],[887,461],[871,519],[756,488],[740,545],[683,530],[714,414],[656,399]],[[895,-34],[880,24],[764,-7],[749,51],[691,35],[722,-80]],[[154,-46],[138,12],[23,-19],[7,39],[-50,23],[-19,-93]],[[667,588],[783,619],[798,562],[856,577],[825,693],[652,646]],[[-66,82],[50,113],[65,55],[123,70],[92,186],[150,201],[134,259],[19,228],[3,286],[-55,270],[-24,155],[-81,139]],
[[-74,576],[41,607],[57,549],[115,565],[84,681],[-90,634]],[[-70,329],[45,360],[61,302],[119,318],[88,433],[146,449],[130,506],[15,475],[-1,533],[-59,518],[-28,402],[-86,387]],[[675,94],[791,125],[806,67],[864,82],[833,198],[891,213],[876,271],[760,240],[745,298],[687,283],[718,167],[660,151]]],Cf:[[[434,346],[538,374],[552,322],[604,336],[576,439],[628,454],[614,506],[511,478],[496,529],[445,516],[473,412],[421,398]],[[430,587],[534,615],[548,563],[600,577],[572,681],[416,639]],[[438,99],[542,127],
[556,75],[608,88],[580,192],[632,206],[619,258],[515,230],[501,282],[449,269],[477,165],[425,150]],[[187,342],[291,370],[305,318],[357,332],[329,435],[381,450],[367,501],[264,473],[249,525],[197,512],[225,408],[173,394]],[[183,583],[286,611],[301,558],[353,573],[325,677],[168,635]],[[191,95],[295,123],[309,71],[361,84],[333,188],[385,202],[371,254],[268,226],[253,278],[201,264],[229,161],[178,146]],[[390,-39],[375,13],[272,-14],[258,38],[206,23],[234,-81]],[[637,-35],[623,17],[519,-10],[505,42],[453,
27],[481,-76]],[[681,350],[785,378],[799,326],[851,340],[823,443],[875,458],[861,510],[758,482],[743,533],[692,520],[720,416],[668,402]],[[884,-31],[870,21],[766,-6],[752,46],[700,31],[728,-72]],[[143,-43],[128,9],[25,-18],[11,34],[-41,19],[-13,-85]],[[677,591],[781,619],[795,567],[847,581],[819,685],[663,643]],[[-56,91],[48,119],[62,67],[114,80],[86,184],[138,198],[124,250],[21,222],[6,274],[-46,260],[-18,157],[-69,142]],[[-64,579],[39,607],[54,554],[106,569],[78,673],[-79,631]],[[-60,338],[44,366],
[58,314],[110,328],[82,431],[134,446],[120,497],[17,469],[2,521],[-50,508],[-22,404],[-74,390]],[[685,103],[789,131],[803,79],[855,92],[827,196],[879,210],[866,262],[762,234],[748,286],[696,273],[724,169],[672,154]]],ta:[[-692,162],[958,574],[-114,43],[958,327],[-139,277],[941,70],[-125,530],[105,743],[-125,530],[344,745],[456,-148],[597,738],[203,-140]],Ba:[[159,48],[646,551],[151,544],[653,58]],Ca:.8,ua:{easy:[15E3,6E5,2E6],normal:[15E5,6E5,2E6]},Ra:{x:400,y:300},Ha:{spear:3,fighter:2,mote:2,disabler:1},
$b:{fighter:2,spear:2,disabler:1}},"HIVE 3-6":{s:{spear:[0,14,2,6,2,0,8],tank:[0,20,4,8,2,0,8],harpoon:[0,18,3,6,1,0,8],troll:[0,13,2,6,2,0,10]},lb:{spear:[12,12,2,4,2,0,8],tank:[15,15,2.5,4,1,0,8],harpoon:[24,24,4,8,1,0,8],troll:[0,14,2,4,2,0,10]},Wa:"troll",Aa:[[[350,123],[400,90],[450,123],[400,156]],[[256,300],[223,350],[190,300],[223,250]],[[400,444],[450,477],[400,510],[350,477]],[[577,250],[610,300],[577,350],[544,300]],[[400,350],[250,450],[350,300],[250,150],[400,250],[550,150],[450,300],
[550,450]],[[350,-54],[450,-54],[550,96],[400,-4],[250,96]],[[-4,123],[46,90],[96,123],[46,156]],[[46,444],[96,477],[46,510],[-4,477]],[[754,156],[704,123],[754,90],[804,123]],[[804,477],[754,510],[704,477],[754,444]],[[46,-4],[-41,55],[-4,-54],[96,-54],[196,96]],[[250,504],[400,604],[550,504],[450,654],[350,654]],[[196,150],[96,300],[196,450],[46,350],[-47,412],[-4,300],[-44,190],[46,250]],[[604,450],[704,300],[604,150],[754,250],[847,188],[804,300],[844,410],[754,350]],[[196,504],[96,654],[-4,654],
[-41,545],[46,604]],[[604,96],[704,-54],[804,-54],[841,55],[754,-4]],[[754,604],[841,545],[804,654],[704,654],[604,504]]],Cf:[[[355,123],[400,93],[445,123],[400,153]],[[253,300],[223,345],[193,300],[223,255]],[[400,447],[445,477],[400,507],[355,477]],[[577,255],[607,300],[577,345],[547,300]],[[400,345],[265,435],[355,300],[265,165],[400,255],[535,165],[445,300],[535,435]],[[355,-47],[445,-47],[535,88],[400,-2],[265,88]],[[1,123],[46,93],[91,123],[46,153]],[[46,447],[91,477],[46,507],[1,477]],[[754,
153],[709,123],[754,93],[799,123]],[[799,477],[754,507],[709,477],[754,447]],[[47,-3],[-31,50],[2,-48],[92,-48],[182,87]],[[265,512],[400,602],[535,512],[445,647],[355,647]],[[182,165],[92,300],[182,435],[47,345],[-36,401],[2,300],[-34,201],[47,255]],[[618,435],[708,300],[618,165],[753,255],[836,199],[798,300],[834,399],[753,345]],[[182,513],[92,648],[2,648],[-31,550],[47,603]],[[618,87],[708,-48],[798,-48],[831,50],[753,-3]],[[753,603],[831,550],[798,648],[708,648],[618,513]]],ta:[[222,652],[-120,
123],[-120,477],[920,123],[920,477],[222,-52],[578,652],[578,-52]],Ba:[[223,58],[223,543],[577,58],[577,543]],Ca:1,ua:{easy:[25E3,4E5,9E5],normal:[15E5,6E5,175E4]},Ra:{x:400,y:400},Ha:{tank:2,spear:2,harpoon:1,troll:2},$b:{troll:2,tank:1,harpoon:1}},"HIVE 3-5":{s:{stunner:[0,12,2,6,2,0,15],mote:[0,20,2,14,1,0,15],fighter:[2,24,3,15,2,0,10],troll:[0,13,2,6,2,0,10]},lb:{stunner:[5,10,0,10,1,1,15],mote:[0,15,2.5,6,1,0,15],fighter:[10,20,3,8,1,0,10],troll:[0,15,2.5,6,2,0,10]},Wa:"troll",Ba:[[100,100]],
Aa:[[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[531,313],[525,325],[479,305],[498,259],[359,202],[340,248],[294,229],[300,216],[411,170],[486,201]],[[269,287],[275,275],[321,295],[302,341],[441,398],[460,352],[506,371],[500,384],[389,430],[314,399]],[[828,
504],[826,846],[-76,645],[-33,148],[136,218],[118,264],[163,284],[145,329],[99,310],[41,449],[178,506],[198,460],[245,479],[226,525],[364,582],[383,536],[430,556],[410,601],[606,520],[560,501],[579,455],[625,475],[645,428]],[[-28,96],[-26,-246],[876,-45],[833,452],[664,382],[682,336],[637,316],[655,271],[701,290],[759,151],[622,94],[602,140],[555,121],[574,75],[436,18],[417,64],[370,44],[390,-1],[194,80],[240,99],[221,145],[175,125],[155,172]]],Cf:[[[513,482],[468,464],[449,509],[402,491],[408,478],
[519,431],[533,436]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[269,287],[316,307],[302,341],[441,398],[454,365],[500,384],[389,430],[314,399]],[[531,313],[484,293],[498,259],[359,202],[345,235],[300,216],[411,170],[486,201]],[[-26,81],[-26,-246],[876,-45],[839,439],[669,369],[682,336],[659,327],[678,281],[701,290],[759,151],
[622,94],[612,119],[565,99],[574,75],[436,18],[426,42],[380,23],[390,-1],[194,80],[217,88],[198,135],[175,125],[162,159]],[[826,519],[826,846],[-76,645],[-40,160],[132,231],[118,264],[141,273],[122,319],[99,310],[41,449],[178,506],[188,481],[235,501],[226,525],[364,582],[374,558],[420,577],[410,601],[606,520],[583,512],[602,465],[625,475],[638,441]]],ta:[[-103,88],[923,515]],Ba:[[318,106],[482,495],[214,222],[586,379],[202,383],[598,218]],Ca:1,ua:{easy:[2E4,4E5,8E5],normal:[15E5,75E4,15E5]},Ha:{troll:2,
stunner:2,mote:1},dj:"separate_by_type",$b:{troll:2},Ra:{x:400,y:300}},"HIVE 3-7":{s:{stunner:[4,40,5,15,2,0,10],spear:[22,40,5,15,4,0,10],tank:[8,40,5,15,2,0,8],mote:[24,40,5,15,2,0,10],goo:[10,40,5,15,1,0,1],harpoon:[2,40,5,15,4,0,6],fighter:[20,40,5,15,2,0,6],disabler:[28,40,5,15,1,0,2],troll:[0,40,5,15,4,0,10]},lb:{stunner:[4,30,5,15,1,0,10],spear:[18,30,5,15,2,0,10],tank:[8,30,5,15,1,0,8],mote:[16,30,5,15,1,0,10],goo:[10,30,0,30,1,0,1],harpoon:[2,30,5,15,2,0,6],fighter:[12,30,5,15,1,0,6],disabler:[20,
30,0,30,1,0,1],troll:[0,30,5,15,2,0,10]},Wa:"troll",Aa:[[[373,606],[439,691],[-20,688],[-20,-44],[211,-23],[206,-2],[17,459]],[[427,-6],[361,-91],[820,-88],[820,644],[589,623],[594,602],[783,141]],[[309,78],[200,340],[144,363],[285,22],[626,163],[569,187]],[[600,260],[656,237],[515,578],[175,436],[230,413],[492,521]],[[468,364],[448,318],[467,272],[422,254],[402,207],[513,253]],[[332,236],[352,282],[333,328],[378,346],[398,393],[287,347]]],ta:[[163,-99],[284,-112],[516,712],[638,699]],Ba:[[104,420],
[696,181],[339,151],[461,450]],Ca:1.5,ua:{easy:[25E3,5E5,1E6],normal:[2E6,8E5,2E6]},Ha:{troll:4},Ch:!0,Ra:{x:400,y:300}},"BOSS 3":{s:{"third boss":[0,1,0,1,1,0,1],stunner:[0,6,0,6,0,0,15],spear:[0,10,0,10,0,0,10],tank:[0,12,0,12,0,0,10],troll:[0,8,0,8,0,0,10],goo:[0,12,0,12,0,0,2],mote:[0,8,0,8,0,0,10],disabler:[0,10,0,10,0,0,2],harpoon:[0,15,0,15,0,0,10]},Wa:"third boss",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,
300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ta:[[60,62],[60,539],[740,62],[740,539]],Ca:1,Ra:{x:400,y:500},av:60,Ha:{"third boss":1},Wc:[{x:400,y:200,size:125,jb:"hive_three_close"}]},"HIVE 4-0":{lb:{},s:{},$b:{},Ha:{},Wa:"stunner",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,
625],[400,575],[775,575],[775,300],[825,300]]],Ba:[],ta:[],Ca:1,fh:50,ua:{normal:[0,3E5,12E5]},Ra:{x:400,y:500},Zb:{x:400,y:350},Wc:[{x:400,y:150,size:200,jb:"hive_four_open"}],Vg:!1},"HIVE 4-1":{s:{spear:[19,24,4,8,2,0,10],troll:[7,24,4,8,2,0,10],tank:[13,24,4,8,2,0,10],harpoon:[1,24,4,8,2,0,10],slingshot:[0,8,1,5,2,0,20]},lb:{spear:[6,28,0,28,2,1,10],troll:[13,28,0,28,2,1,10],tank:[20,28,0,28,2,1,10],harpoon:[27,28,0,28,2,1,10],slingshot:[0,8,1,4,1,0,20]},Wa:"slingshot",Aa:[[[-7,472],[61,471],[96,
527],[61,581],[-7,581],[-41,526]],[[93,299],[59,354],[-9,354],[-44,300],[-9,244],[59,245]],[[329,74],[363,19],[431,19],[466,73],[431,129],[363,128]],[[621,466],[553,467],[518,411],[553,357],[621,357],[655,412]],[[841,526],[807,581],[739,581],[704,527],[739,471],[807,472]],[[179,135],[247,134],[282,190],[247,244],[179,244],[145,189]],[[145,412],[179,357],[247,357],[282,411],[247,467],[179,466]],[[741,245],[809,244],[844,300],[809,354],[741,354],[707,299]],[[744,20],[812,19],[847,75],[812,129],[744,
129],[710,74]],[[330,303],[364,248],[432,248],[467,302],[432,358],[364,357]],[[363,473],[431,472],[466,528],[431,582],[363,582],[329,527]],[[655,189],[621,244],[553,244],[518,190],[553,134],[621,135]],[[90,74],[56,129],[-12,129],[-47,75],[-12,19],[56,20]]],Ca:.5,ua:{easy:[25E3,6E5,15E5],normal:[2E6,125E4,3E6]},Ha:{slingshot:2},$b:{slingshot:1},Ra:{x:400,y:415},Ba:[[210,75],[590,75],[210,525],[590,525]],ta:[[-75,180],[-75,420],[215,650],[585,650],[215,-50],[585,-50],[875,180],[875,420]],Ch:!0},"HIVE 4-2":{lb:{stunner:[8,
8,1.2,2.4,1,0,15],mote:[7,14,2,4,1,0,10],fighter:[0,25,4,9,1,0,8],slingshot:[0,18,3,6,2,0,15],goo:[1,15,0,15,1,0,1]},s:{stunner:[0,6,0,6,2,1,15],mote:[0,8,1.5,3,1,0,10],fighter:[0,15,3,6,1,0,8],slingshot:[0,6,1,3,1,0,15],goo:[1,15,0,15,1,0,1]},Wa:"slingshot",Aa:[[[282,254],[311,254],[311,280],[338,280],[338,319],[312,319],[312,347],[282,347]],[[354,418],[354,389],[380,389],[380,362],[419,362],[419,388],[447,388],[447,418]],[[447,182],[447,212],[419,212],[419,238],[380,238],[380,211],[354,211],[354,
182]],[[820,619],[605,619],[605,542],[642,542],[642,505],[820,505]],[[282,619],[282,542],[354,542],[354,505],[447,505],[446,542],[518,542],[518,619]],[[820,418],[642,418],[642,346],[605,346],[605,253],[642,254],[642,182],[820,182]],[[-20,505],[158,505],[158,542],[195,542],[195,619],[-20,619]],[[-20,-19],[195,-19],[195,58],[158,58],[158,95],[-20,95]],[[820,95],[642,95],[642,58],[605,58],[605,-19],[820,-19]],[[518,347],[488,347],[488,319],[462,319],[462,280],[489,280],[489,254],[518,254]],[[-20,182],
[158,182],[158,254],[195,253],[195,346],[158,346],[158,418],[-20,418]],[[518,-19],[518,58],[446,58],[447,95],[354,95],[354,58],[282,58],[282,-19]]],Cf:[[[345,447],[345,412],[376,412],[376,379],[423,379],[423,411],[456,411],[456,447]],[[-94,536],[120,536],[120,580],[164,580],[164,673],[-94,673]],[[547,356],[511,356],[511,323],[479,323],[479,276],[512,276],[512,245],[547,245]],[[456,153],[456,189],[423,189],[423,221],[376,221],[376,188],[345,188],[345,153]],[[253,245],[288,245],[288,276],[321,276],
[321,323],[289,323],[289,356],[253,356]],[[-94,-73],[164,-73],[164,20],[120,20],[120,64],[-94,64]],[[894,673],[636,673],[636,580],[680,580],[680,536],[894,536]],[[894,64],[680,64],[680,20],[636,20],[636,-73],[894,-73]],[[904,447],[680,447],[680,355],[636,355],[636,244],[680,245],[680,153],[904,153]],[[-104,153],[120,153],[120,245],[164,245],[164,356],[120,355],[120,447],[-104,447]],[[253,673],[253,580],[345,580],[344,536],[455,536],[455,580],[547,580],[547,673]],[[547,-73],[547,20],[455,20],[455,
64],[344,64],[345,20],[253,20],[253,-73]]],ta:[[-100,450],[-100,150],[900,450],[900,150],[240,-100],[560,-100],[240,700],[560,700]],Ba:[[114,150],[114,451],[686,150],[686,451],[561,41],[561,560],[239,41],[239,560]],XA:[[61,107],[61,493],[739,107],[739,493]],Ca:1,ua:{normal:[25E3,15E5,3E6]},Ha:{stunner:2,mote:2,slingshot:2,fighter:1},$b:{slingshot:2,fighter:1},Ch:!0,Ra:{x:400,y:300}},"HIVE 4-3":{lb:{spear:[20,20,4,8,1,0,10],tank:[17,20,4,8,1,0,15],mote:[14,20,4,8,1,0,10],harpoon:[17,30,5,10,1,0,10],
orbiter:[0,12,1.5,6,1,0,15]},s:{spear:[6,12,2.4,4.8,1,0,10],tank:[4,12,2.4,4.8,1,0,15],mote:[4,12,2.4,4.8,1,0,10],harpoon:[1,18,3,6,1,0,10],orbiter:[0,12,1.5,7.5,2,0,15]},Wa:"orbiter",Ba:[[159,301],[641,301],[208,94],[208,507],[592,94],[592,507]],Aa:[[[309,161],[492,161],[492,249],[456,249],[456,199],[343,199],[343,249],[309,249]],[[309,351],[343,351],[343,401],[456,401],[456,351],[492,351],[492,440],[309,440]],[[230,209],[230,392],[141,392],[141,356],[191,356],[191,243],[141,243],[141,209]],[[571,
391],[571,208],[659,208],[659,244],[609,244],[609,357],[659,357],[659,391]],[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,119],[191,119],[191,158],[37,158],[37,442],[191,442],[191,480],[-40,480]],[[840,481],[609,481],[609,442],[763,442],[763,158],[609,158],[609,120],[840,120]]],Cf:[[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,
532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,120],[141,119],[141,158],[37,158],[37,442],[141,442],[141,481],[-40,481]],[[840,480],[659,481],[659,442],[763,442],[763,158],[659,158],[659,119],[840,119]],[[481,269],[447,269],[447,219],[354,219],[354,269],[318,269],[318,180],[481,180]],[[481,420],[318,420],[318,331],[354,331],[354,381],[447,381],[447,331],[481,331]],[[568,381],[568,218],[657,218],[657,254],[607,254],[607,347],[656,347],[657,381]],[[232,219],[232,382],[143,382],[143,346],
[193,346],[193,253],[144,253],[143,219]]],ta:[[-100,-100],[-100,700],[900,700],[900,-100]],Ca:1.3,ua:{normal:[25E3,12E5,25E5]},Ha:{orbiter:2},$b:{orbiter:1},Ch:!0,Ra:{x:400,y:300}},"HIVE 4-4":{lb:{goo:[1,10,0,10,1,0,1],troll:[4,20,3,6,1,0,5],fighter:[2,30,4,9,1,0,5],slingshot:[1,20,3,6,1,0,5],orbiter:[0,12,2,6,1,0,10]},s:{goo:[2,20,0,20,1,0,1],troll:[0,25,4,8,2,0,5],fighter:[12,24,4,8,1,0,5],slingshot:[10,18,3,6,1,0,5],orbiter:[1,18,3,6,2,0,10]},Wa:"orbiter",Aa:[[[51,190],[76,190],[76,215],[51,215]],
[[126,190],[151,190],[151,215],[126,215]],[[351,190],[376,190],[376,215],[351,215]],[[426,190],[451,190],[451,215],[426,215]],[[676,215],[651,215],[651,190],[676,190]],[[751,215],[726,215],[726,190],[751,190]],[[237,115],[262,115],[262,140],[237,140]],[[488,140],[313,140],[313,115],[488,115]],[[563,140],[538,140],[538,115],[563,115]],[[-27,-30],[830,-30],[830,54],[-27,54]],[[-27,546],[830,546],[830,630],[-27,630]],[[237,460],[262,460],[262,485],[237,485]],[[488,485],[313,485],[313,460],[488,460]],
[[563,485],[538,485],[538,460],[563,460]],[[751,410],[726,410],[726,385],[751,385]],[[676,410],[651,410],[651,385],[676,385]],[[426,385],[451,385],[451,410],[426,410]],[[351,385],[376,385],[376,410],[351,410]],[[126,385],[151,385],[151,410],[126,410]],[[51,385],[76,385],[76,410],[51,410]],[[51,460],[188,460],[188,485],[51,485]],[[749,140],[612,140],[612,115],[749,115]],[[749,485],[612,485],[612,460],[749,460]],[[51,115],[188,115],[188,140],[51,140]],[[201,385],[301,385],[301,410],[201,410]],[[599,
216],[499,216],[499,190],[599,191]],[[599,410],[499,410],[499,385],[599,385]],[[201,191],[301,190],[301,216],[201,216]]],Cf:[[[327,190],[364,190],[364,215],[327,215]],[[439,190],[477,190],[477,215],[439,215]],[[156,115],[193,115],[193,140],[156,140]],[[532,140],[270,140],[270,115],[532,115]],[[645,140],[607,140],[607,115],[645,115]],[[-51,-30],[847,-30],[847,54],[-51,54]],[[156,460],[193,460],[193,485],[156,485]],[[532,485],[270,485],[270,460],[532,460]],[[645,485],[607,485],[607,460],[645,460]],
[[439,385],[477,385],[477,410],[439,410]],[[327,385],[364,385],[364,410],[327,410]],[[102,385],[252,385],[252,410],[102,410]],[[699,216],[549,216],[549,190],[699,191]],[[699,410],[549,410],[549,385],[699,385]],[[102,191],[252,190],[252,216],[102,216]],[[-51,546],[847,546],[847,630],[-51,630]]],ta:[[-100,350],[900,350],[-100,250],[900,250]],Ba:[[99,164],[99,437],[701,164],[701,437],[400,165],[400,436]],Ca:1,ua:{normal:[25E3,1E6,2E6]},Ha:{troll:2},$b:{orbiter:1},Ch:!0,Ra:{x:400,y:300}},"HIVE 4-6":{s:{tank:[9,
18,3,9,2,0,15],mote:[4,15,3,6,1,0,10],harpoon:[1,20,3,11,2,0,10],fighter:[10,20,3,11,1,0,6],disabler:[0,20,0,20,1,0,2],deathray:[30,30,4,18,1,0,3]},lb:{tank:[2,15,3,6,1,0,15],mote:[4,12,2.5,4,1,0,15],harpoon:[6,18,3,6,1,0,10],fighter:[8,24,4,8,1,0,6],disabler:[0,16,0,16,1,0,1],deathray:[40,40,8,24,1,0,3]},Wa:"deathray",Cf:[[[187,104],[237,104],[237,142],[187,142]],[[613,497],[563,497],[563,459],[613,459]],[[437,104],[487,104],[487,142],[437,142]],[[313,459],[363,459],[363,497],[313,497]],[[850,650],
[-50,650],[-50,550],[187,550],[187,200],[237,200],[237,550],[437,550],[437,200],[487,200],[487,550],[687,550],[687,200],[850,200]],[[113,459],[113,497],[-50,497],[-50,459]],[[687,142],[687,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[613,50],[613,400],[563,400],[563,50],[363,50],[363,400],[313,400],[313,50],[113,50],[113,400],[-50,400]]],Aa:[[[187,104],[237,104],[237,142],[187,142]],[[613,497],[563,497],[563,459],[613,459]],[[437,104],[487,104],[487,142],[437,142]],[[313,459],[363,459],
[363,497],[313,497]],[[850,650],[-50,650],[-50,550],[187,550],[187,200],[237,200],[237,550],[437,550],[437,200],[487,200],[487,550],[687,550],[687,200],[850,200]],[[113,459],[113,497],[-50,497],[-50,459]],[[687,142],[687,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[613,50],[613,400],[563,400],[563,50],[363,50],[363,400],[313,400],[313,50],[113,50],[113,400],[-50,400]]],ta:[[-50,430],[850,80],[-50,520],[850,170]],Ba:[[337,429],[461,171],[461,76],[338,524]],Ca:1,ua:{easy:[3E4,1E6,25E5],
normal:[2E6,1E6,25E5]},Ha:{deathray:1,disabler:1},Ch:!0,Ra:{x:400,y:300}},"HIVE 4-5":{lb:{stunner:[6,8,2,3,1,0,40],spear:[13,10,2,4,1,0,20],troll:[9,20,4,8,1,0,10],slingshot:[11,20,4,8,1,0,10],orbiter:[15,15,3,6,1,0,10],deathray:[30,30,5,10,1,1,3]},s:{stunner:[2,8,1,5,2,0,40],spear:[1,10,2,4,1,1,20],troll:[9,16,2,10,1,1,10],slingshot:[7,15,3,6,1,1,10],orbiter:[1,16,2,10,1,1,10],deathray:[30,30,6,12,1,1,3]},Wa:"deathray",Ba:[[163,471],[163,130],[637,471],[637,130]],Aa:[[[521,180],[484,216],[316,216],
[279,180]],[[279,420],[316,384],[484,384],[521,420]],[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Cf:[[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,
72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],ta:[[-100,-100],[900,-100],[900,700],[-100,700]],Ca:.8,ua:{normal:[3E4,12E5,25E5]},Ha:{deathray:1},Ch:!0,Ra:{x:400,y:300}},"HIVE 4-7":{lb:{stunner:[1,30,6,12,2,0,6],spear:[5,30,6,12,2,0,6],tank:[3,30,5,10,1,0,5],mote:[10,30,5,10,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[18,30,8,16,1,0,6],fighter:[12,
30,8,16,1,0,4],disabler:[14,15,3,6,1,0,1],troll:[16,30,6,12,1,0,4],slingshot:[28,30,8,16,1,0,4],orbiter:[30,30,6,12,1,0,5],deathray:[2,35,9,18,1,0,3]},s:{stunner:[1,20,2,14,2,0,6],spear:[3,20,2,14,2,0,6],tank:[4,25,3,16,2,0,5],mote:[5,20,2,14,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[10,25,3,16,1,0,6],fighter:[6,25,3,16,1,0,4],disabler:[9,15,0,15,1,0,1],troll:[8,25,3,16,1,0,4],slingshot:[2,25,3,16,1,0,4],orbiter:[30,30,3,21,1,0,5],deathray:[1,30,3,21,1,0,3]},Wa:"deathray",Aa:[[[-34,-17],[833,-17],[833,
18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[277,208],[335,208],[335,243],[277,243]],[[277,358],[335,358],[335,393],[277,393]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[523,243],[466,243],[466,208],[523,208]],[[523,393],[466,393],[466,358],[523,
358]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[370,433],[430,433],[430,468],[370,468]],[[430,168],[370,168],[370,133],[430,133]],[[185,283],[245,283],[245,318],[185,316]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[615,316],[555,318],[555,283],[615,283]],[[430,318],[370,318],[370,283],[430,
283]]],Cf:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],
[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[430,243],[369,243],[369,208],[430,208]],[[466,283],[527,283],[527,318],[466,318]],[[334,318],[273,318],[273,283],[334,283]],[[430,392],[369,392],[369,357],[430,357]]],ta:[[869,37],[869,563],[-69,37],[-69,563],[-69,112],[-69,489],[869,112],[869,489],[869,190],[869,411],[-69,190],[-69,411],[-69,336],[-69,264],[869,336],[869,264]],Ba:[[307,
152],[307,449],[493,152],[493,449],[212,224],[212,377],[588,224],[588,377]],Ca:1,ua:{easy:[4E4,6E5,125E4],normal:[25E5,125E4,25E5]},Ha:{orbiter:2},Ch:!0,Ra:{x:400,y:370},xA:{x:400,y:300}},"BOSS 4":{s:{"fourth boss":[0,1,0,0,1,0,1],stunner:[0,0,0,0,0,0,15],spear:[0,0,0,0,0,0,15],tank:[0,0,0,0,0,0,10],mote:[0,0,0,0,0,0,15],goo:[0,0,0,0,0,0,2],disabler:[0,0,0,0,0,0,1],troll:[0,0,0,0,0,0,12],orbiter:[0,0,0,0,0,0,10],fighter:[0,0,0,0,0,0,8],harpoon:[0,0,0,0,0,0,12],slingshot:[0,0,0,0,0,0,12],deathray:[0,
0,0,0,0,0,4]},Wa:"fourth boss",Aa:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ta:[[60,62],[60,539],[740,62],[740,539]],Ca:1,Ra:{x:400,y:500},av:90,Ha:{"fourth boss":1},Wc:[{x:400,y:200,size:125,jb:"hive_four_close"}]}};
for(r in N)N[r].U=r,N[r].ua&&"undefined"===typeof N[r].ua.easy&&(N[r].ua.easy=N[r].ua.normal.map(function(a){return a/2})),"undefined"===typeof N[r].fh&&("BOSS"==r.slice(0,4)?N[r].fh=100*parseInt(r.slice(5,6)):"HIVE"==r.slice(0,4)&&(N[r].fh=100*parseInt(r.slice(5,6)))),"undefined"===typeof N.qs&&(N[r].qs=function(a){a=this.Aa[a];for(var b=[],c=0;c<a.length;c++)b.push(new b2Vec2(a[c][0]/G,a[c][1]/G));return b});function Ig(){}l=Ig.prototype;l.na=function(){};l.V=function(){};l.Fa=function(){};l.Ma=function(){};l.xg=function(){};l.gh=function(){};l.te=function(){};l.uq=function(){};l.Nk=function(){};function Jg(){}Jg.prototype=new Ig;Jg.prototype.constructor=Jg;Jg.prototype.Zp=function(a){var b=new zg(a,this);Gg(b);a=new Worker("js/lib/worker.js");a.postMessage({a:b.Rg,b:b.se,c:G,d:P,e:Q});this.Es=0;a.onmessage=function(a){return function(d){d.data.z?a.Es=d.data.z:d.data.a&&(a.pc=new Yd(b,d.data.a,d.data.b,d.data.c,d.data.d,d.data.e,d.data.f),a.Es=1,a.Ds())}}(this);return b};Jg.prototype.Ds=function(){};Kg.prototype=new Ig;l=Kg.prototype;l.constructor=Kg;
function Kg(a,b,c){this.cu=a;this.$D=b;this.ZD=c;this.Qb=!1;this.buttons=[];var d=this;this.buttons.push(new Y("KEVIN MACLEOD",16,P/2-250,Q/2+50,150,70,"white",z.impulse_blue,function(){window.open("http://incompetech.com")},"note"));this.buttons.push(new Y("MATT MCFARLAND",16,P/2,Q/2+50,150,70,"white",z.impulse_blue,function(){window.open("http://www.mattmcfarland.com")},"note"));this.buttons.push(new Y("SUBTLE PATTERNS",16,P/2+250,Q/2+50,150,70,"white",z.impulse_blue,function(){window.open("http://www.subtlepatterns.com")},
"texture"));this.buttons.push(new Y("JAY SALVAT",16,P/2-150,Q/2+180,150,70,"white",z.impulse_blue,function(){window.open("http://buzz.jaysalvat.com/")},"audio"));this.buttons.push(new Y("ERIN CATTO",16,P/2+150,Q/2+180,150,70,"white",z.impulse_blue,function(){window.open("http://box2d.org/")},"physics_engine"));this.buttons[0].uf="MAIN MENU MUSIC";this.buttons[1].uf="ALL OTHER MUSIC";this.buttons[2].uf="TEXTURES";this.buttons[3].uf="AUDIO API";this.buttons[4].uf="PHYSICS ENGINE";this.cu||this.buttons.push(new Y("BACK",
16,P/2,Q/2+260,60,65,"white",z.impulse_blue,function(){Lg(d.N,"fade_out",function(){ng(new Mg)})},"back"));this.N=new Ng({fade_in:250,fade_out:250});Lg(this.N,"fade_in")}l.na=function(a){this.N.na(a)};
l.V=function(a){this.Qb||(bg_canvas.setAttribute("style",""),ag("Hive 0",.6),this.Qb=!0);a.save();"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));qb(a,180);a.font="16px Muli";a.fillStyle=z.impulse_blue;a.textAlign="center";a.shadowColor=a.fillStyle;a.fillText("CREATED BY",P/2,60);a.fillText("WITH CREDIT TO",P/2,260);this.cu&&(a.save(),a.globalAlpha*=.5,a.font="16px Muli",a.fillStyle=z.impulse_blue,a.fillText("PRESS ANY KEY TO CONTINUE",P/2,Q-30),
a.restore());for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a);a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};l.te=function(){if(this.cu){var a=this;Lg(this.N,"fade_out",function(){ng(new Pg(a.$D,!0,a.ZD))})}};function Ng(a){this.dy=a;this.Ob=null;this.uh=0}function Lg(a,b,c){null==a.Ob&&(a.Ob=b,a.uh=a.dy[b],a.zy=c)}Ng.prototype.na=function(a){null!=this.Ob&&0<this.uh&&(this.uh-=a);null!=this.Ob&&0>=this.uh&&(this.zy&&this.zy(),this.Ob=null)};function Og(a){return a.Ob?Math.min(1-a.uh/a.dy[a.Ob],1):0};Qg.prototype=new Ig;l=Qg.prototype;l.constructor=Qg;
function Qg(a,b,c,d,f){this.i=b;this.U=this.i.U;this.buttons=[];this.n=c;this.pc=d;this.Qb=!1;this.Nb=f.Nb;this.color=z["world "+this.n+" bright"];this.Gl=new Y("RETRY",16,P-70,Q-40,60,65,this.color,"white",function(a){return function(){var b=new lc(a.n,!1);Lg(a.N,"fade_out",function(){ng(new cg(a.n,a.i,a.pc,b,!1))})}}(this),"start");this.buttons.push(this.Gl);this.Gl.keyCode=wa.jr;this.Gl.uf="right"==D.Cb?"R KEY":"SHIFT KEY";this.buttons.push(new Y("MENU",16,70,Q/2+260,60,65,this.color,"white",function(a){return function(){a.n?
Lg(a.N,"fade_out",function(){ng(new lg(a.n,!0));"normal"==L?ag("Title Alt"+a.n,xg(a.n)):ag("Hive 0",.6)}):Lg(a.N,"fade_out",function(){ng(new Mg);ag("Hive 0",.6)})}}(this),"back"));this.M=a;this.i.ra?(this.ub=f.ub?f.ub:0,this.jc=f.jc?f.jc:0):(this.qd=f.qd,this.jc=f.jc?f.jc:0,this.ub=f.ub?f.ub:0);We+=this.M.He;jc();sg(L);this.Kq=["world "+this.n+" bright","silver","gold"];kc();this.N=new Ng({fade_in:500,fade_out:250});Lg(this.N,"fade_in")}l.na=function(a){this.N.na(a)};
l.V=function(a,b){if(!this.Qb){this.i.r=null;bg_canvas.setAttribute("style","display:none");b.translate(X,0);this.i.Nf(b);var c=df.getContext("2d");Eb(c,0,0,P,Q,"Hive "+this.n);this.Qb=!0;b.translate(-X,0);this.Qb=!0}a.save();a.fillStyle=z["world "+this.n+" dark"];a.fillRect(0,0,P,Q);a.globalAlpha*=wg(this.n);a.drawImage(df,0,0,P,Q,0,0,P,Q);a.restore();a.save();"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));if(this.i.ra)a.globalAlpha/=3,Ma(a,this.n,
P/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==L&&(a.textAlign="center",a.fillText("HARD MODE",P/2,180)),a.restore(),a.beginPath(),a.fillStyle=this.color,a.textAlign="center",a.font="32px Muli",a.fillText(qa[this.n],P/2,240),a.fill(),a.font="48px Muli",this.i.mp?(a.fillStyle="white",a.fillText("VICTORY",P/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",P/2,300)),d=420,a.fillStyle=this.color,a.font="20px Muli",a.fillText("GAME TIME ",P/
2,380),a.font="42px Muli",a.fillText(this.M.jl,P/2,d),c=440,this.ub||(a.beginPath(),a.moveTo(350,c),a.lineTo(450,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke()),c=445,d=500,f=470,this.ub?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",P/2,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",P/2,f),a.font="28px Muli",1E3>N[this.U].Ua[L].ub?(a.font="28px Muli",a.fillText(bc(N[this.U].Ua[L].ub),P/2,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",
P/2,d)),a.restore());else{a.globalAlpha/=3;Ma(a,this.n,P/2,230,80,!0);a.globalAlpha*=3;a.save();a.globalAlpha*=.5;a.fillStyle="white";a.font="20px Muli";"normal"==L&&(a.textAlign="center",a.fillText("HARD MODE",P/2,180));a.restore();a.beginPath();a.fillStyle=this.color;a.font="42px Muli";a.textAlign="center";a.fillText(this.U,P/2,240);a.fill();a.font="36px Muli";this.Nb?(a.fillStyle="white",a.fillText("VICTORY",P/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",P/2,300));var c=380,d=420;a.fillStyle=
this.color;a.font="20px Muli";a.fillText("GAME TIME ",P/2+100,c);a.font="42px Muli";a.fillText(this.M.jl,P/2+100,d);a.fillStyle=0<this.jc?z[this.Kq[this.jc-1]]:this.color;a.font="20px Muli";a.fillText("SCORE",P/2-100,c);a.font="42px Muli";a.fillText(this.M.Bg,P/2-100,d);c=440;this.qd||(a.beginPath(),a.moveTo(250,c),a.lineTo(350,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());this.ub||(a.beginPath(),a.moveTo(450,c),a.lineTo(550,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());var c=445,
d=500,f=470;this.qd?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",P/2-100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("HIGH SCORE",P/2-100,f),a.font="28px Muli",a.fillText(N[this.U].Ua[L].qd,P/2-100,d),a.restore());this.ub?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",P/2+100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",P/2+100,f),a.font="28px Muli",1E3>N[this.U].Ua[L].ub?
(a.font="28px Muli",a.fillText(bc(N[this.U].Ua[L].ub),P/2+100,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",P/2+100,d)),a.restore())}for(c=0;c<this.buttons.length;c++)this.buttons[c].V(a);a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};l.te=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].te(a)};cg.prototype=new Ig;l=cg.prototype;l.constructor=cg;function cg(a,b,c,d,f){null!=a&&void 0!=a&&this.ha(a,b,c,d,f)}
l.ha=function(a,b,c,d,f){this.T=d;if(this.wc=f)this.T.Gq=Math.floor(this.T.Gq),this.T.bh=Math.floor(this.T.bh);this.pause=!0;this.ready=!1;this.buttons=[];this.Zm=null;this.ec=[];this.LA=1E3;this.Bw=30;this.Ca=1;this.Qb=!1;this.Rf=1<=nc();this.Nr=this.Nu=!1;this.Am="normal"==L;this.jc=0;this.n=a;this.Kq=["world "+this.n+" lite","silver","gold"];this.gk=0;this.yE=3E3;a=new b2Vec2(0,0);this.sa=new b2World(a,!1);this.vs=!1;b&&(this.i=b,this.i.r=this,this.i.reset(),this.U=this.i.U,this.ud=0===parseInt(this.U.substring(7,
8)),this.ra="BOSS"==this.U.slice(0,4),this.Rj=0==this.n,Rg(this),"BOSS 4"==this.U?hc(fc,ja["Final Tessellation"]):"BOSS"==this.U.slice(0,4)?hc(fc,ja.Tessellation):this.Rj||this.ud?hc(fc,ja.Menu):hc(fc,ja["Hive "+this.n]));this.T.M.hasOwnProperty(this.i.U)||(this.T.M[this.i.U]={},this.T.M[this.i.U].Rq=!0,this.T.M[this.i.U].Hm=0);this.M=this.T.M[this.i.U];Sg(this);void 0===this.T.vh[this.U]&&(this.T.vh[this.U]=0);this.pc=c;this.color=this.ra?z["boss "+this.n]:z["world "+this.n+" lite"];this.Di=z["world "+
this.n+" dark"];this.Yc=z["world "+this.n+" lite"];this.H=z["world "+this.n+" bright"];this.kp=6E3;this.Ai=0;this.sw=!1;Tg(this);c=new b2ContactListener;c.Bt=this.wz;c.Tt=this.lz;c.Gt=this.nD;this.sa.Tx(c);this.pause=!1;this.AB=this.ready=!0;this.fo=1;this.Cw=!1;this.ft=this.lk=0;this.hF=2;this.Kf={x:P/2,y:Q/2};this.UA=1500;this.vk=0;this.ef="none";this.xt={x:P,y:Q};this.Uq={x:P,y:Q};this.ex=.1;this.yt=1;this.zoom=.1;this.Qf=this.ho=!0;c=this.UA;a={x:P/2,y:Q/2};this.ef="in";this.vk=this.zt=c;this.Uq=
a;this.yt=1;this.xt={x:this.Kf.x,y:this.Kf.y};this.ex=this.zoom;this.ho=!1;this.js="in";this.Ii=this.Nb=!1;this.Yr=this.Sy=100;this.Lv=!1;this.fw=document.createElement("canvas");this.fw.width=120;this.fw.height=160;this.fw.getContext("2d");this.us=document.createElement("canvas");!b||this instanceof uc||Ug(this);for(b=0;b<ya.length;b++)ya[b].color=this.color,ya[b].$a=this.H;this.Fg=this.Rj||Xe.length<Vg.prototype.Ps.length;this.ra&&1==this.n&&"easy"==L&&3>N[this.U].Ua[L].jc&&(this.Fg=!0);this.Fg&&
(this.Tw=new Vg(this),this.Ff={},this.Yn={},this.pB=500);!this.ra&&this.i&&Sc(this);0==this.n&&this.T&&(this.T.bh=99)};
l.reset=function(){Sg(this);this.Qf=this.sw=!1;var a=new b2Vec2(0,0);this.sa=new b2World(a,!1);Tg(this);a=new b2ContactListener;a.Bt=this.wz;a.Tt=this.lz;this.sa.Tx(a);this.jc=0;this.Nb=this.Ii=!1;this.i.reset();!this.i||this instanceof uc||Ug(this);Ne.translate(X,0);this.i.Nf(Ne);Ne.translate(-X,0);this.gk=0;this.Nu=!1;this.ra&&this.Fg&&(this.Tw=new Vg(this),this.Ff={},this.Yn={},this.pB=500);!this.ra&&this.i&&Sc(this);this.Nr=!1};
function Sg(a){a.M.Bg=0;a.M.Tg=1;a.M.zi=1;a.M.ag=0;a.M.He=0;a.M.qv=0;a.M.jl=null;a.M.Cv=!1}function Ug(a){if(!a.Rj)for(var b in N[a.U].s)H[b].bg+=1,jc(),H[b].xf||1!=H[b].bg||eg("enemy_"+b,5E3,a.H,a.n)}function Rg(a){if(a.i.ej)a.q=new qc(a.sa,a.i.ej.x/G,a.i.ej.y/G,a);else{var b=Ub({x:-10,y:-10},a.Ca,G);a.q=new qc(a.sa,b.x,b.y,a)}}
l.na=function(a){if(this.ready){null==this.Zm?this.Zm=0:100==this.Zm&&(this.Zm=0);this.Zm+=1;for(var b in this.Yn)this.Yn[b]-=a,0>this.Yn[b]&&(this.Ff[b]="timeout");if(!this.pause){0<this.lk&&(this.Cw=!0,this.lk-=a);0<this.ws?this.ws-=a:this.vs&&(this.vs=!1,Eb(Ne,X,0,P+X,Q,"Hive 0"));this.Fg&&(this.Tw.na(a),this.Ii&&R(this.i.Zb,this.q.body.g.position)<this.i.al&&vc(this,"moved_to_gateway"));document.webkitHidden&&(this.pause=!0,Qe=new Wg(this.i,this.n,this.M,this,this.pc));this.Yr-=a;this.fx?this.Kf=
{x:this.q.body.g.position.x*G,y:this.q.body.g.position.y*G}:"none"!=this.ef&&(0>=this.vk?(this.ef="none",this.zoom=this.yt,this.Kf=this.Uq,this.ho=!1):(b=this.vk/this.zt,this.zoom=1/(1/this.ex*b+1/this.yt*(1-b)),this.Kf.x=this.xt.x*b+this.Uq.x*(1-b),this.Kf.y=this.xt.y*b+this.Uq.y*(1-b),this.vk-=a));"none"==this.ef&&1==this.zoom&&this.ra&&!this.Nu&&(this.Ai=this.kp,4==this.n&&(this.Ai/=2,this.kp/=2),this.Nu=!0);0<this.Ai&&(this.Ai-=a);if(this.q.K&&0<this.q.sb&&!this.sw){this.sw=!0;b=this.i;b.Hl=!0;
b.at=b.ww;for(var c=0;c<b.s.length;c++)b.s[c].Qc("fade");this.M.Bg=0;this.M.Tg=1;this.jc=0;this.wc&&0<this.n&&(this.T.M[this.i.U].Hm+=1,ug(this.T))}if(this.q.K&&0>this.q.sb)this.reset(),Rg(this);else if(this.i.pd&&this.i.pd.K&&0>this.i.pd.sb&&"fade"!=this.i.pd.K&&!this.q.K&&!this.Nr&&(this.Nr=!0,Hg(this.i),this.Ii=!0),this.Nb)"none"==this.ef&&1==this.zoom?(a={x:this.q.body.g.position.x*G,y:this.q.body.g.position.y*G},b=this.UA,this.ef="out",this.vk=this.zt=b,this.Uq=a,this.yt=10,this.xt={x:this.Kf.x,
y:this.Kf.y},this.ex=this.zoom,this.ho=!1,this.js="out"):"none"==this.ef&&(this.ready=!1,this.wc?ng(new Xg(this.n,this.i,this.pc,this.T,!1)):ng(new Pg(this.T,this.wc,{M:this.M,i:this.i,n:this.n,pc:this.pc,Nb:this.Nb})));else{this.ra||(b=Math.min(this.M.Bg/this.i.ua[0],1),c=this.yE,this.q.K&&(c/=3),this.gk>b?this.gk=Math.max(this.gk-a/c,b):this.gk<b&&(this.gk=Math.min(this.gk+a/c,b)));this.AB&&1>this.fo?this.fo=Math.min(1,this.fo+a/1E3):!this.AB&&0<this.fo&&(this.fo=Math.max(0,this.fo-a/1E3));this.q.na(a);
this.Am&&(this.M.Tg=this.M.zi+Math.floor(this.M.ag/10));this.M.jl=Jb(this.M.ag);this.M.qv+=a;0<this.n&&!this.ud&&(this.T.sh-=a);this.T.vh[this.i.U]+=a;this.M.ag=Math.floor(this.M.qv/1E3);this.M.vh+=a;this.i.na(a);for(b=this.ec.length-1;0<=b;b--)this.ec[b].duration-=a,0>=this.ec[b].duration&&this.ec.splice(b,1);this.sa.qj(1/60,1,10);this.Hd(a)}}}};l.Hd=function(){};
function dg(a,b){if("in"==a.js){var c=$b(.1,.5,a.vk/a.zt);b.globalAlpha=Math.min(1-c,1)}else"out"==a.js&&(c=$b(.1,.5,a.vk/a.zt),b.globalAlpha=Math.max(c,0))}
l.V=function(a,b){if(this.ready&&!this.pause){this.je(a,b);a.save();a.translate(X,0);"none"!=this.ef&&(a.rect(0,0,P,Q),a.clip());a.fillStyle=this.Di;a.scale(this.zoom,this.zoom);a.translate((P/2-this.Kf.x*this.zoom)/this.zoom,(Q/2-this.Kf.y*this.zoom)/this.zoom);if(0<this.lk){var c=Math.max(0,this.lk/this.ft),d=this.hF*c,c=Math.ceil(2*d*Math.random()-d),d=Math.ceil(2*d*Math.random()-d);a.translate(c,d);bg_canvas.style.left=c+"px";bg_canvas.style.top=d+"px"}else this.Cw&&(this.Cw=!1,bg_canvas.style.left=
"0px",bg_canvas.style.top="0px");a.beginPath();"none"!=this.ef&&(a.rect(2,2,P-4,Q-4),a.clip());dg(this,a);"none"!=this.ef&&a.drawImage(bg_canvas,X,0,P,Q,0,0,P,Q);this.vs&&(a.save(),a.globalAlpha*=1-this.ws/this.rD,a.drawImage(this.us,0,0,P,Q,0,0,P,Q),a.restore());this.i.nh(a,G);this.q.nh(a);0<this.Ai&&this.Ai<this.kp&&this.wc&&1==this.zoom&&4>=this.n&&this.Qf&&(a.save(),a.globalAlpha=Math.min(1,(1-2*Math.abs(this.Ai/this.kp-.5))/.5),a.beginPath(),a.fillStyle=z["boss "+this.n],a.textAlign="right",
a.font="24px Muli",a.fillText(this.T.uy,P-50,Q-50),a.fill(),a.restore());this.i.V(a,G);1!=this.zoom&&this.Nb?(a.save(),a.translate(this.q.body.g.position.x*G,this.q.body.g.position.y*G),a.scale(1/this.zoom,1/this.zoom),a.translate(-this.q.body.g.position.x*G,-this.q.body.g.position.y*G),this.q.V(a),a.restore()):this.q.V(a);this.i.Xk(a,G);this.Lv&&(Hg(this.i),this.Lv=!1);a.beginPath();"none"==this.ef&&(a.rect(2,2,P-4,Q-4),a.clip());if(!this.ra)for(c=0;c<this.ec.length;c++)a.save(),a.beginPath(),a.font=
this.ec[c].size+"px Muli",d=this.ec[c].duration/this.ec[c].dE,a.globalAlpha*=d,a.fillStyle=this.ec[c].color,this.ec[c].AD?(a.textAlign="left",J(a,this.ec[c].x*G+20,this.ec[c].y*G-(1-d)*this.Bw-7,0,.8*this.ec[c].size,.8*this.ec[c].size,"spark"),a.fillText(this.ec[c].text,this.ec[c].x*G-25,this.ec[c].y*G-(1-d)*this.Bw)):(a.textAlign="center",a.fillText(this.ec[c].text,this.ec[c].x*G,this.ec[c].y*G-(1-d)*this.Bw)),a.restore();a.restore();a.clearRect(0,0,X,Lc);a.clearRect(Kc-X,0,X,Lc);1==this.zoom&&"none"==
this.ef?0>this.Yr&&(Yg(this,b),this.Yr=this.Sy):Yg(this,a);if((!this.Rj||N[this.U].Kn||N[this.U].SA)&&!this.ud){a.save();dg(this,a);if(!this.ra){var c=this.gk,d=this.color,f=Kc-X/2,g=Lc/2,h=3*Lc/4-50;a.save();a.shadowBlur=0;a.beginPath();a.rect(f-20,g-.5*h,40,h);a.fillStyle="black";a.fill();a.restore();a.save();a.beginPath();a.rect(f-20,g-.5*h,40,h);a.strokeStyle=d;a.fillStyle=d;a.lineWidth=4;a.save();a.globalAlpha/=10;a.fill();a.restore();a.stroke();a.beginPath();a.rect(f-20,g+.5*h-c*h,40,h*c);a.fillStyle=
d;a.fill();a.restore();a.textAlign="center";a.font="72px Muli";a.fillStyle="white";this.Am&&(0!=this.n||N[this.U].Kn)&&a.fillText("x"+this.M.Tg,Kc-X/2,Lc/2)}a.restore()}a.save();dg(this,a);for(c=0;c<this.buttons.length;c++)this.buttons[c].V(a);a.restore();a.save();a.translate(X,0);dg(this,a);this.Fg&&!Ed&&this.Tw.V(a);a.restore();this.ho||(1==this.zoom&&"none"==this.ef?bg_canvas.setAttribute("style",""):bg_canvas.setAttribute("style","display: none"),this.ho=!0)}};l.je=function(){};
function Yg(a,b){if(!a.ud){b.save();b.globalAlpha=1;b.beginPath();b.fillStyle="black";b.clearRect(0,0,X,Lc);b.clearRect(Kc-X,0,X,Lc);dg(a,b);b.fillStyle=a.color;b.textAlign="center";var c=!a.ra&&(0!=a.n||N[a.U].Kn),d=!a.ra&&(0!=a.n||N[a.U].Kn),f=0!=a.n||N[a.U].Kn,g=!a.ra&&(!a.Rj||N[a.U].Kn||N[a.U].SA);0==a.n||"normal"!=L||a.ra||(b.font="20px Muli",b.save(),b.globalAlpha*=1,b.fillText("HARD MODE",X/2,170),b.restore());c&&(a.Rj?(b.font="40px Muli",b.fillText("TUTORIAL",X/2,70)):(b.font="64px Muli",
type=a.U.split(" ")[0],b.fillText(type,X/2,70),b.font="80px Muli","BOSS"==type?b.fillText(a.n,X/2,140):"HOW"==type?(b.font="60px Muli",b.fillText("PLAY",X/2,130)):b.fillText(a.U.slice(5,a.U.length),X/2,140)));c=Lc-15;d&&(b.fillStyle=a.H,b.font="18px Muli",b.save(),b.globalAlpha*=.4,"right"==D.Cb?b.fillText("Q FOR MENU",X/2,c):b.fillText("ENTER FOR MENU",X/2,c),b.restore());d=Lc/2-20;f&&("normal"==L&&0<a.n&&a.wc&&D.sh?(b.fillStyle="white",b.font="16px Muli",b.fillText("SPEED RUN",X/2,d-30),b.fillText("TIME LEFT",
X/2,d-10),b.font="32px Muli",f=Jb(Math.max(0,Math.ceil(a.T.sh/1E3))),b.fillText(f,X/2,d+22)):a.ra||(b.fillStyle=a.color,b.font="16px Muli",b.fillText("LEVEL TIME",X/2,d-10),b.font="32px Muli",b.fillText(a.M.jl,X/2,d+22)));g&&(b.font="21px Muli",b.fillText("SCORE",Kc-X/2,Lc-10),b.font="40px Muli",b.fillText(a.M.Bg,Kc-X/2,Lc-35),a.Ii?(b.fillStyle=a.H,b.font="21px Muli",b.fillText("GATEWAY",Kc-X/2,45),b.font="42px Muli",b.fillText("OPEN",Kc-X/2,85)):(b.fillStyle=a.Yc,b.font="21px Muli",b.fillText("GOAL",
Kc-X/2,45),b.font="42px Muli",b.fillText(a.i.ua[0],Kc-X/2,85)));b.restore()}}function Zg(a,b){return{x:(b.x-(P/2-a.Kf.x*a.zoom))/a.zoom,y:(b.y-(Q/2-a.Kf.y*a.zoom))/a.zoom}}l.Fa=function(a,b){if(this.ready){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b);this.pause||(this.q.gw=Zg(this,{x:a-X,y:b}))}};l.xg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b);this.pause||(c=this.q,c.Iv=(new Date).getTime(),c.nq=!0)};l.gh=function(){this.pause||(this.q.nq=!1)};
function $g(a){a.pause=!a.pause;a.pause?(rc(a.q,wa.oj),a.q.nq=!1,Qe=new Wg(a.i,a.n,a.M,a,a.pc)):Qe=null}l.te=function(a){this.ready&&(90==a&&nf&&(this.Nb=!0,this.ra||(this.M.Bg=this.i.ua[2]),ah(this)),a==wa.oj||a==wa.Ak?this.ra&&this.Nb||this.UG||$g(this):a==wa.br&&this.Ii&&R(this.i.Zb,this.q.body.g.position)<this.i.al?ah(this):69==a&&nf?(this.fx=!this.fx)?(this.zoom=1.7,this.ef="player"):(this.zoom=1,this.Kf={x:P/2,y:Q/2},this.js=this.ef="none",this.ho=!1):rc(this.q,a))};
l.uq=function(a){if(this.ready){var b=this.q;switch(a){case wa.hr:b.left=!1;break;case wa.kr:b.right=!1;break;case wa.Yq:b.wp=!1;break;case wa.mr:b.Pq=!1;break;case wa.Cx:b.Kh=null;break;case wa.Ex:b.Nh=null;break;case wa.Dx:b.Lh=null;break;case wa.Bx:b.Jh=null;break;case wa.oj:case wa.Ak:b.Pq=!1,b.wp=!1,b.left=!1,b.right=!1,b.Kh=null,b.Lh=null,b.Nh=null,b.Jh=null}}};
function Tg(a){var b,c;b=[{x:P/G/2,y:2},{x:P/G/2,y:2},{x:2,y:Q/G/2},{x:2,y:Q/G/2}];c=[{x:P/G/2,y:-2},{x:P/G/2,y:Q/G+2},{x:-2,y:Q/G/2},{x:P/G+2,y:Q/G/2}];for(var d=0;4>d;d++){var f=new b2FixtureDef;f.filter.rf=1;f.filter.Af=2;var g=new b2BodyDef;g.type=b2Body.pf;f.shape=new b2PolygonShape;f.shape.Qx(b[d].x,b[d].y);g.position.P(c[d].x,c[d].y);a.sa.ko(g).Xq(f)}}l.wz=function(a){var b=a.tc.Gf();a=a.uc.Gf();b&&a&&(b.owner.Se(a.owner,b.body,a.body),a.owner.Se(b.owner,a.body,b.body))};
l.nD=function(a){var b=a.tc.Gf();a=a.uc.Gf();b&&a&&"tank"==b.owner.type&&"tank"==a.owner.type&&(b.owner.Se(a.owner,b.body,a.body),a.owner.Se(b.owner,a.body,b.body))};
l.lz=function(a){var b=a.tc.Gf(),c=a.uc.Gf();if(null!=b&&null!=c){var d=b.self,f=c.self;if(null!=d&&null!=f){var b=[d,f],g=[f,d],h;for(h in b)if(d=b[h],"harpoonhead"==d.type&&"inactive"!=d.Ji.mb){f=g[h];if(f!=d.Ji&&"harpoonhead"!=f.type&&!f.xf&&!c.owner.xf){if(("boss four spawner"==f.type||"boss four attacker"==f.type)&&!f.zb)continue;R(d.body.g.position,f.body.g.position)<d.I+f.I&&(f.Lz&&f.open(3E3),d=d.Ji,"engaged"==d.mb||d.K||d.ma()||f.id===d.wv||(ec("hhit"),d.mb="engaged",d.Tc=f,d.Tc==d.q&&Uc(d.r)))}a.$B()}}}};
function Qc(a,b,c,d,f,g){a.ec.push({text:b,color:c,x:d,y:f,duration:g?g:a.LA,dE:g?g:a.LA,size:20,AD:void 0})}function Sc(a){a.M.Bg>=a.i.ua[0]&&0==a.jc&&(a.jc=1,a.Ii=!0,a.Lv=!0,a instanceof uc&&a.Kj(),a.Fg&&vc(a,"gateway_opened"))}function Rc(a){a.Am&&(a.M.zi+=1,a.M.Tg=a.M.zi+Math.floor(a.M.ag/10))}function Uc(a){a.q.rk||(a.T.Cz=!0,a.Am&&(a.Fg&&!a.i.ra&&vc(a,"multiplier_reset"),a.M.zi=1,a.M.Tg=a.M.zi+Math.floor(a.M.ag/10)))}
function ah(a){if(!a.Rj&&!a.ud){if(a.ra){var b=N[a.i.U].Ua[L],c=a.M.ag;c<b.ub?(a.M.ub=!0,b.ub=c):a.M.ub=!1}else{var b=N[a.i.U].Ua[L],c=a.M.Bg,d=a.M.ag;c>b.qd?(a.M.qd=!0,b.qd=c):a.M.qd=!1;d<b.ub?(a.M.ub=!0,b.ub=d):a.M.ub=!1}jc()}a.Nb=!0;a.ra&&(a.i.mp=!0);a.wc&&(a.ra||0==a.n&&"HIVE 0-3"===a.i.U?ug({}):(b=a.i,c=a.n,a.T.Dm=b?7>b.Qz?"HIVE "+c+"-"+(b.Qz+1):"BOSS "+c:0==c?"HIVE 0-1":"HIVE "+c+"-1",a.Rj||(ug(a.T),eg("saved_alert",1E3,"white",a.n))))}function vc(a,b){a.Fg&&(a.Ff[b]="fresh",a.Yn[b]=a.pB)}
l.Nk=function(){this.i.Nk()};Yf.prototype=new Ig;Yf.prototype.constructor=Yf;function Yf(){hc(fc,ja.Menu);this.Qb=!1;this.N=new Ng({fade_in:1E3,pause:500,fade_out:1E3});this.mv=["fade_in","pause","fade_out"];this.Jp=0;Lg(this.N,this.mv[this.Jp])}Yf.prototype.na=function(a){this.N.na(a);null===this.N.Ob&&(this.Jp+=1,this.Jp>=this.mv.length&&ng(new Mg),Lg(this.N,this.mv[this.Jp]))};
Yf.prototype.V=function(a){this.Qb||(Me.setAttribute("style",""),ag("Hive 0",.6),this.Qb=!0);a.save();"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));a.font="16px Muli";a.fillStyle=z.impulse_blue;a.textAlign="center";a.shadowColor=a.fillStyle;a.fillText("CREATED BY",P/2,200);qb(a,300);a.restore()};bh.prototype=new Jg;l=bh.prototype;l.constructor=bh;
function bh(a,b){this.U=a;this.buttons=[];this.n=b;this.Qb=!1;this.color=z["world "+this.n+" lite"];this.H=z["world "+this.n+" bright"];this.ra="BOSS"==this.U.slice(0,4);this.buttons.push(new Y("BACK",16,70,Q/2+260,60,65,this.H,"white",function(a){return function(){Ne.fillStyle=z["world "+a.n+" dark"];Ne.translate(X,0);Ne.fillRect(0,0,P,Q);Ne.globalAlpha*=wg(0);Eb(Ne,0,0,P,Q,"Hive "+a.n);Ne.translate(-X,0);Me.setAttribute("style","");Lg(a.N,"fade_out_to_main",function(){a.n?ng(new lg(a.n,!0)):ng(new Mg);
ef=null;"normal"==L?ag("Title Alt"+a.n,xg(a.n)):ag("Hive 0",.6)})}}(this),"back"));this.Kq=["bronze","silver","gold"];this.jc=N[this.U].Ua[L].qd.jc;this.Qk=null;if(this.ra)this.Qk={};else{this.Qk=N[this.U].s;this.cf=0;for(var c in N[this.U].s)this.cf+=1}this.Of=40;this.i=this.Zp(N[this.U]);var d=0;for(c in this.Qk){for(var f=0,g=0;f<d+1&&f<this.cf;)f+=12;g=f<=this.cf?12:this.cf-(f-12);this.buttons.push(new ch(c,this.Of,P/2+(this.Of+10)*(d-(f-12)-(g-1)/2),400+this.Of*(Math.floor(d/12)-(Math.ceil(this.cf/
12)-1)/2),this.Of,this.Of,z["world "+this.n+" lite"],function(a,b){return function(){Lg(b.N,"fade_out",function(){Qe=new dh(a,b)})}}(c,this)));d+=1}this.N=new Ng({fade_in:500,fade_out:250,fade_out_to_main:250});Lg(this.N,"fade_in")}l.na=function(a){this.N.na(a);bg(a)};
l.V=function(a,b){if(!this.Qb){var c=df.getContext("2d");c.clearRect(0,0,P,Q);Eb(c,0,0,P,Q,"Hive "+this.n);b.translate(X,0);this.i.Nf(b);this.Qb=!0;b.translate(-X,0);bg_canvas.setAttribute("style","display:none")}"fade_out_to_main"!=this.N.Ob?(a.save(),a.fillStyle=z["world "+this.n+" dark"],a.fillRect(0,0,P,Q),a.globalAlpha*=wg(this.n)):(a.save(),a.globalAlpha*=Og(this.N),a.fillStyle="black",a.fillRect(0,0,P,Q),a.globalAlpha*=wg(0));a.drawImage(df,0,0,P,Q,0,0,P,Q);a.restore();a.save();if("fade_in"==
this.N.Ob)a.globalAlpha*=Og(this.N);else if("fade_out"==this.N.Ob||"fade_out_to_main"==this.N.Ob)a.globalAlpha*=1-Og(this.N);if(this.ra)for(a.fillStyle=z["world "+this.n+" bright"],a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.save(),a.globalAlpha*=.3,Ma(a,this.n,P/2,Q/2-50,100),a.restore(),a.font="16px Muli",a.fillText(this.i.U,P/2,Q/2-60),a.font="40px Muli",a.fillText(qa[this.n],P/2,Q/2-20),a.font="24px Muli",3==N[this.U].Ua[L].jc?(a.font="12px Muli",a.fillText("BEST TIME",P/2,390),a.font=
"28px Muli",a.fillText(bc(N[this.U].Ua[L].ub),P/2,415)):(a.fillStyle=z["boss "+this.n],a.fillText("UNDEFEATED",P/2,400)),c=0;c<this.buttons.length;c++)this.buttons[c].V(a);else{a.globalAlpha/=3;Ma(a,this.n,P/2,130,40,!0);a.globalAlpha*=3;a.fillStyle="white";a.font="18px Muli";"normal"==L&&a.fillText("HARD MODE",P/2,100);a.beginPath();a.fillStyle=z["world "+this.n+" bright"];a.font="30px Muli";a.textAlign="center";a.fillText(this.U,P/2,140);a.fill();for(c=0;c<this.buttons.length;c++)this.buttons[c].V(a);
sb(a,this.U,P/2,255,z["world "+this.n+" lite"]);a.beginPath();a.rect(P/2-100,100,250,150);a.strokeStyle="rgba(0, 0, 0, .3)";a.stroke();if(1>this.Es){a.textAlign="center";var c=this.Es,d=P-70,f=Q-53;a.save();eb(a,d,f,10,"gray");a.beginPath();a.arc(d,f,15,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI*c);a.lineWidth=2;a.strokeStyle="gray";a.stroke();a.restore();a.font="16px Muli";a.fillStyle="gray";a.fillText("LOADING",P-70,Q-19)}if("HOW TO PLAY"!=this.U.slice(0,11)){a.fillStyle=this.H;a.font="12px Muli";a.fillText("ENEMIES",
P/2,370);for(score_color=0;N[this.U].Ua[L].qd>N[this.U].ua[L][score_color];)score_color+=1;a.fillStyle=this.H;a.textAlign="center";a.font="12px Muli";a.fillText("HIGH SCORE",P/2-100,480);a.font="28px Muli";a.fillText(N[this.U].Ua[L].qd,P/2-100,505);a.fillStyle=this.H;a.font="12px Muli";a.fillText("BEST TIME",P/2+100,480);1E3>N[this.U].Ua[L].ub?(a.font="28px Muli",a.fillText(bc(N[this.U].Ua[L].ub),P/2+100,505)):(a.font="24px Muli",a.fillText("UNDEFEATED",P/2+100,505))}}a.restore()};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};l.Ds=function(){var a=new lc(this.n,!1);this.buttons.push(new Y("START",16,P-70,Q/2+260,100,65,this.H,"white",function(b){return function(){Lg(b.N,"fade_out",function(){ng(new cg(b.n,b.i,b.pc,a,!1))})}}(this),"start"))};eh.prototype=new Ig;l=eh.prototype;l.constructor=eh;l.CE={F:0,D:10,"D+":11,"C-":13,C:14,"C+":15,"B-":16,B:17,"B+":18,"A-":20,A:21,"A+":22,S:24,"S+":25};l.$w=["half","basic","silver","gold"];
function eh(a,b,c,d,f,g,h){this.Oh=h;this.kk=g;this.buttons=[];this.Qb=!1;this.T=c;this.i=d;this.pc=f;this.n=a;this.Nb=b;this.Rf=1<=nc();g&&(this.T=lc.prototype.clone(Ve[L]),pc(this.T),jc(),this.n=this.T.sa,this.Nb=null);this.Va=this.Sd=250;this.hb="in";this.buttons=[];this.qi="half";this.color=z["world "+this.n];this.Yc=z["world "+this.n+" lite"];this.H=z["world "+this.n+" bright"];this.Di=z["world "+this.n+" dark"];0<this.n&&(this.vh=Math.ceil((1E3*Hb["blitz_hive"+this.n].Nq-this.T.sh)/1E3),this.Vn=
0);for(a=0;8>a;a++)f=7==a?"BOSS "+this.n:"HIVE "+this.n+"-"+(a+1),this.T.M[f]&&(this.Vn+=this.T.M[f].Hm);if(b){fh(this);0!==this.n&&og("BEAT WORLD "+this.n,{LG:void 0===Se[L]["world "+this.n],AG:L,T:this.T});this.QF=ra[this.n]+" DEFEATED";b=3;for(d in c.M)c.M[d].jc<b&&(b=c.M[d].jc);c.Ug||(this.qi=this.$w[b],this.T.qi=this.qi);(d=Se[L]["world "+this.n])&&d.rank&&rg(qg(d.rank));if(!d||this.$w.indexOf(this.qi)>this.$w.indexOf(d.victory_type)||this.qi==d.victory_type&&("half"==this.qi&&c.Ug<d.continues||
"gold"==this.qi&&this.Vn<d.deaths))Se[L]["world "+this.n]={victory_type:this.qi,continues:c.Ug,deaths:this.Vn,first_victory:void 0===d},jc()}this.kk&&!this.Oh&&(this.Il=new Y("RESUME",16,730,Q/2+260,100,65,this.H,this.H,function(a){return function(){Ve[L]={};jc();a.T.sE=0;ng(new Xg(a.n,null,null,a.T,!0))}}(this),"start"),this.Il.Ll=!1,this.buttons.push(this.Il),this.Lm=new Y("DELETE",16,P/2,Q/2+260,100,65,this.H,this.H,function(a){return function(){Ve[L]={};jc();ng(new lg(a.n))}}(this),"delete_small"),
this.buttons.push(this.Lm),this.Lm.Ll=!1,this.GE=new Y("EXIT",16,70,Q/2+260,60,65,this.H,this.H,function(){return function(){ng(new Mg)}}(this),"back"),this.buttons.push(this.GE));0!=this.n&&kc();this.Kq=["bronze","silver","gold"];!this.kk&&this.Nb&&gh(this)}function qg(a){a=eh.prototype.CE[a];var b="half";0<a&&(b="basic");16<=a&&(b="silver");24<=a&&(b="gold");return b}function rg(a){Se[difficulty][world]={victory_type:a,continues:"half"==a?1:0,deaths:9,first_victory:!0};jc()}
function fh(a){for(var b=0,c=0;8>c;c++){var d=7==c?"BOSS "+a.n:"HIVE "+a.n+"-"+(c+1);a.T.M[d]&&(b+=a.T.M[d].Hm)}a.Vn=b}
l.V=function(a){if(0!=this.n||this.kk){this.Qb||(bg_canvas.setAttribute("style","display:none"),this.Qb=!0,Eb(df.getContext("2d"),0,0,P,Q,"Hive "+this.n));a.save();this.Va-=dt;0>this.Va&&("in"==this.hb&&(this.hb="none"),"out"==this.hb&&hh(this));a.fillStyle=this.Di;a.fillRect(0,0,P,Q);if("in"==this.hb){var b=this.Va/this.Sd;a.globalAlpha=1-b}else"out"==this.hb&&(b=this.Va/this.Sd,a.globalAlpha=Math.max(0,b));a.save();a.globalAlpha*=wg(this.n);a.drawImage(df,0,0,P,Q,0,0,P,Q);a.restore();for(b=0;b<
this.buttons.length;b++)this.buttons[b].V(a);a.shadowBlur=0;a.textAlign="center";a.font="20px Muli";this.Nb?(a.globalAlpha*=.3,Ma(a,this.n,P/2,100,80),a.globalAlpha/=.3,a.fillStyle=this.H,a.font="40px Muli",a.fillText(this.QF,P/2,130)):this.kk?(a.globalAlpha*=.3,Ma(a,this.n,P/2,220,80),a.globalAlpha/=.3,a.fillStyle="white",a.fillText("GAME SAVED",P/2,210),a.fillStyle=this.H,a.font="40px Muli",a.fillText(this.T.Av,P/2,250),a.font="24px Muli",a.fillText(this.T.Dm,P/2,280),a.textAlign="center",a.fillStyle=
this.H,a.font="20px Muli",a.fillText("TOTAL TIME ",P/2-100,380),a.font="42px Muli",a.fillText(Jb(this.vh),P/2-100,420),a.fillStyle=this.H,a.font="20px Muli",a.fillText("DEATHS",P/2+100,380),a.font="42px Muli",a.fillText(this.Vn,P/2+100,420)):(a.globalAlpha*=.3,Ma(a,this.n,P/2,100,80),a.globalAlpha/=.3,a.fillStyle="red",a.fillText("GAME OVER",P/2,80),a.fillStyle=this.H,0<this.T.Ug&&(a.font="18px Muli",a.fillText("CONTINUES: "+this.T.Ug,P/2,175)),a.font="40px Muli",a.fillText(this.T.Av,P/2,130));this.Nb&&
this.T.Ug&&(a.fillStyle=this.H,a.font="18px Muli",a.fillText("CONTINUES: "+this.T.Ug,P/2,250));this.Nb&&(a.fillStyle=this.H,a.font="14px Muli",a.fillText("TOTAL TIME",P/2,167),a.font="24px Muli",a.fillText(Jb(this.vh),P/2,190));if(!this.kk)for(a.shadowBlur=0,a.font="18px Muli",a.textAlign="center",a.fillStyle=this.H,a.fillText("LEVEL",260,250),a.fillText("TIME",400,250),a.fillText("DEATHS",540,250),b=0;8>b;b++){var c=7==b?"BOSS "+this.n:"HIVE "+this.n+"-"+(b+1),d=c;7==b&&(d=this.T.uy);var f;f=this.T.M[c]?
this.T.M[c]:{};a.fillStyle=f.Rq?this.H:"#666";var g=280+27*b;a.fillText(d,260,g);a.fillStyle=f.Rq?this.H:"#666";void 0!=this.T.vh[c]?a.fillText(Jb(Math.floor(this.T.vh[c]/1E3)),400,g):a.fillText("---",400,g);void 0!=f.Hm?a.fillText(f.Hm,540,g):a.fillText("---",540,g)}a.font="16px Muli";a.fillStyle=this.Yc;this.kk?this.Oh&&a.fillText("PRESS ANY KEY FOR MAIN MENU",P/2,Q-30):a.fillText("PRESS ANY KEY FOR MAIN MENU",P/2,Q-30);for(b=0;b<this.buttons.length;b++)this.buttons[b].V(a);for(b=0;b<this.buttons.length;b++)ih(this.buttons[b],
a);a.restore()}};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};l.te=function(){"none"!=this.hb||this.kk&&!this.Oh||(this.hb="out",this.Va=this.Sd)};l.uq=function(){};l.na=function(){0!=this.n||this.kk||hh(this)};
function gh(a){if(!(0>=a.n)){if("normal"==L)for(var b=3,c=["half","basic","silver","gold"],d=1;4>=d;d++)if(Se.normal["world "+d]){var f=Se.normal["world "+d].qi;c.indexOf(f)<b&&(b=c.indexOf(f))}else b=-1;"normal"==L&&0<a.T.sh&&Tc("blitz_hive"+a.n);a.T.Cz||Tc("untouchable");Se[L]["world "+a.T.sa]&&Se[L]["world "+a.T.sa].first_victory&&(4>a.T.sa&&Tc("beat_hive"),4==a.T.sa&&Tc("final_boss"))}}
function hh(a){a.Nb?4===a.n&&Se[L]["world 4"]&&Se[L]["world 4"].first_victory?ng(new Kg(!0,a.T,{Nb:!0,ys:0==a.n,ls:Te,Dq:!1,Oh:a.Oh})):ng(new Pg(a.T,!0,{Nb:!0,ys:0==a.n,ls:Te,Dq:!1,Oh:a.Oh})):ng(new Pg(a.T,!0,{Nb:!1,ys:0==a.n,ls:Te,Dq:!1,Oh:a.Oh}))};Xg.prototype=new Jg;l=Xg.prototype;l.constructor=Xg;
function Xg(a,b,c,d,f){(this.T=d)&&b&&(this.M=this.T.M[b.U]);this.zz=!1;this.Ph=2200;this.Sj=4E3;this.Sf=null;this.kl=!0;this.n=a;this.color=z["world "+a];this.Yc=z["world "+a+" lite"];this.H=z["world "+a+" bright"];this.Di=z["world "+a+" dark"];this.pc=c;this.buttons=[];this.rz=this.Qf=this.Qb=!1;b&&!this.ud(b.U)?(this.Sf=b,this.zs=b.U,this.state="last_level_summary",this.Va=this.Sj,a=this.Sf.U,b=this.T.M[this.Sf.U],0==parseInt(a.substring(5,6))||this.ud(a)||0!=b.Cv||Tc("pacifist")):(b&&this.ud(b.U)?
this.state="level_intro":(this.state="level_intro",f?this.T=d:(this.T=new lc(a,!0),this.T.Dm=0==a?"HIVE 0-1":"HIVE "+a+"-1")),this.Va=this.Ph);if(!this.Sf||!this.Sf.ra)if(0!=this.n||!this.Sf||"HIVE 0-3"!=this.Sf.U){this.kl=!1;this.i=this.Zp(N[this.T.Dm]);if(this.Qf=!N[this.i.U].Ua[L].bg)N[this.i.U].Ua[L].bg=!0,jc();this.i.ra&&(this.Ph=1E3);0==this.n||this.Sf&&this.Sf.ra||f&&this.T.Dm&&"BOSS"==this.T.Dm.substring(0,4)||(this.ud(this.i.U)?hc(fc,ja.Menu):hc(fc,ja["Hive "+this.n]))}}
function jh(a){return 0==a.n&&a.Sf&&"HIVE 0-3"==a.Sf.U?(ng(new eh(a.n,!0,a.T)),!0):0==a.n||a.rz?(a.kl&&ng(new cg(a.n,a.i,a.pc,a.T,!0)),!0):a.Sf&&a.Sf.ra?(ng(new eh(a.n,!0,a.T)),!0):!1}
l.na=function(a){if(!jh(this)){this.zz=!0;if(this.kl||"last_level_summary"==this.state&&this.Va>=this.Sj/2||"level_intro"==this.state&&this.Va>=this.Ph/2)this.Va-=a;0>this.Va&&("last_level_summary"==this.state&&this.kl?(this.i.ra&&kc(),this.state="level_intro",this.Va=this.Ph):"level_intro"==this.state&&ng(new cg(this.n,this.i,this.pc,this.T,!0)))}};
l.V=function(a){!this.Qb&&this.i&&(this.Qb=!0,bg_canvas.setAttribute("style","display:none"),Eb(df.getContext("2d"),0,0,P,Q,"Hive "+this.n));a.fillStyle=z["world "+this.n+" dark"];a.fillRect(0,0,P,Q);if(0!=this.n&&!this.rz){a.save();a.globalAlpha*=wg(this.n);if("level_intro"==this.state){var b=this.Va/this.Ph;.5>b&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(b-.5))/.5))}else"last_level_summary"==this.state&&(b=this.Va/this.Sj,.5<b&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(b-.5))/.5)));a.drawImage(df,
0,0,P,Q,0,0,P,Q);a.restore();this.zz&&("level_intro"==this.state?this.i.ra||(a.save(),b=this.Va/this.Ph,a.globalAlpha=Math.min(1,(1-2*Math.abs(b-.5))/.5),a.fillStyle=this.H,a.textAlign="center",a.shadowBlur=0,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ma(a,this.n,P/2,300,100),a.restore(),a.font="24px Muli",a.save(),a.globalAlpha*=.5,a.fillText(this.T.Av,P/2,250),a.restore(),a.font="56px Muli",a.fillText(this.i.U,P/2,320),a.shadowBlur=0,a.fillStyle=this.Yc,a.shadowColor=a.fillStyle,a.font="12px Muli",
a.fillText("PRESS ANY KEY TO SKIP",P/2,Q/2+270),a.restore()):"last_level_summary"==this.state&&(a.save(),b=this.Va/this.Sj,a.globalAlpha=Math.min(1,(1-2*Math.abs(b-.5))/.5),a.globalAlpha/=3,Ma(a,this.n,P/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==L&&a.fillText("HARD MODE",P/2,180),a.restore(),a.beginPath(),a.fillStyle=this.H,a.font="42px Muli",a.textAlign="center",a.fillText(this.zs,P/2,240),a.fill(),a.font="36px Muli",a.fillStyle="white",
a.fillText("VICTORY",P/2,300),a.fillStyle=this.H,a.font="20px Muli",a.fillText("GAME TIME ",P/2+100,380),a.font="42px Muli",a.fillText(this.M.jl,P/2+100,420),a.fillStyle=this.H,a.font="20px Muli",a.fillText("SCORE",P/2-100,380),a.font="42px Muli",a.fillText(this.M.Bg,P/2-100,420),this.M.qd||(a.beginPath(),a.moveTo(250,440),a.lineTo(350,440),a.lineWidth=3,a.strokeStyle=this.H,a.stroke()),this.M.ub||(a.beginPath(),a.moveTo(450,440),a.lineTo(550,440),a.lineWidth=3,a.strokeStyle=this.H,a.stroke()),this.M.qd?
(a.fillStyle=this.H,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",P/2-100,445)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.H,a.font="12px Muli",a.fillText("HIGH SCORE",P/2-100,470),a.font="28px Muli",a.fillText(N[this.zs].Ua[L].qd,P/2-100,500),a.restore()),this.M.ub?(a.fillStyle=this.H,a.font="16px Muli",a.fillText("NEW BEST TIME!",P/2+100,445)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.H,a.font="12px Muli",a.fillText("BEST TIME",P/2+100,470),a.font="28px Muli",1E3>N[this.zs].Ua[L].ub?(a.font=
"28px Muli",a.fillText(bc(N[this.zs].Ua[L].ub),P/2+100,500)):(a.font="24px Muli",a.fillText("UNDEFEATED",P/2+100,500)),a.restore(),a.shadowBlur=0,a.fillStyle=this.Yc,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",P/2,Q/2+270)),a.restore()))}};l.te=function(){this.kl&&(this.Ph/=4,this.Sj/=4,this.Va/=4)};l.Ma=function(){this.kl&&(this.Ph/=4,this.Sj/=4,this.Va/=4)};l.Ds=function(){this.kl=!0;bg_canvas.setAttribute("style","display:none");Ne.translate(X,0);this.i.Nf(Ne);Ne.translate(-X,0)};
l.ud=function(a){return 0===parseInt(a.substring(7,8))};kh.prototype=new Ig;l=kh.prototype;l.constructor=kh;
function kh(){this.Rf=1<=nc();this.N=new Ng({fade_in:500,fade_out:250});Lg(this.N,"fade_in");this.buttons=[];this.buttons.push(new Y("BACK",16,P/2,Q/2+260,60,65,"white",z.impulse_blue,function(a){return function(){Lg(a.N,"fade_out",function(){ng(new Mg)})}}(this),"back"));this.buttons.push(new lh("beat_hive",P/2-300,200,50));this.buttons.push(new lh("final_boss",P/2-150,200,50));this.buttons.push(new lh("high_roller",P/2+0,200,50));this.buttons.push(new lh("pacifist",P/2+150,200,50));this.buttons.push(new lh("untouchable",
P/2+300,200,50));this.buttons.push(new lh("beat_hard",P/2-300,350,50));this.buttons.push(new lh("blitz_hive1",P/2-150,350,50));this.buttons.push(new lh("blitz_hive2",P/2-0,350,50));this.buttons.push(new lh("blitz_hive3",P/2+150,350,50));this.buttons.push(new lh("blitz_hive4",P/2+300,350,50))}l.na=function(a){this.N.na(a)};
l.V=function(a){this.Qb||(Me.setAttribute("style",""),ag("Hive 0",.6),this.Qb=!0);"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));a.textAlign="center";a.font="24px Muli";a.fillStyle="white";a.fillText("ACHIEVEMENTS",P/2,50);a.font="12px Muli";a.fillText("MOUSE OVER TO VIEW",P/2,75);for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a);for(b=0;b<this.buttons.length;b++)ih(this.buttons[b],a)};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};Pg.prototype=new Ig;l=Pg.prototype;l.constructor=Pg;
function Pg(a,b,c){this.T=a;this.wc=b;this.Qg=c;this.yb=[];this.Ld=-1;this.Va=this.Sd=250;this.hb="in";this.Qf=Te;this.Nb=c.Nb;this.xz=this.Qb=!1;this.jc=0;var d=this;this.Qj=L;this.vn=new Y("NORMAL MODE",20,P/2-150,300,250,125,"white",z.impulse_blue,function(){d.zm("easy")},"easy_mode");this.Tu=new Y("CHALLENGE MODE",20,P/2+150,300,250,125,"white",z.impulse_blue,function(){d.zm("normal")},"normal_mode");this.debug();if(this.Qg.ys){if("first_time_tutorial"==this.Qg.cH||this.Qg.ls)og("COMPLETED TUTORIAL",
{Dq:this.Qg.Dq}),this.yb.push({type:"first_time_tutorial"}),Te=!1,jc()}else this.wc&&Se[this.Qj]["world "+this.T.sa]&&Se[this.Qj]["world "+this.T.sa].first_victory&&(4==this.T.sa&&(this.yb.push({type:"final_victory"}),"easy"==this.Qj&&(this.xz=Ue=!0,L="normal",jc())),Se[this.Qj]["world "+this.T.sa].first_victory=!1,jc());this.Ld+=1;0<this.yb.length&&kc();this.pC=3E3;this.yr=0}l.zm=function(a){"none"==this.hb&&(L=a,jc(),this.oG(),this.hb="out",this.Va=4*this.Sd)};
l.V=function(a){if(0!=this.yb.length){var b=this.yb[this.Ld];if(!this.Qb){bg_canvas.setAttribute("style","display:none");var c=df.getContext("2d");"world_victory"==b.type?Eb(c,0,0,P,Q,"Hive "+(b.data+1)):"final_victory"==b.type?Eb(c,0,0,P,Q,"Title Alt4"):Eb(c,0,0,P,Q,"Hive 0");this.Qb=!0}a.save();a.globalAlpha="world_victory"==b.type?a.globalAlpha*wg(b.data+1):"final_victory"==b.type?wg(0)/2*a.globalAlpha:a.globalAlpha*wg(0);a.drawImage(df,0,0,P,Q,0,0,P,Q);a.restore();a.save();"in"==this.hb?(c=this.Va/
this.Sd,a.globalAlpha=1-c):"out"==this.hb&&(c=this.Va/this.Sd,a.globalAlpha=Math.max(0,c));if("quest"!=b.type&&"ult_tutorial"!=b.type&&"select_difficulty"!=b.type&&"share"!=b.type){var d="world_victory"==b.type?b.data+1:0;a.save();a.globalAlpha*=.2;Ma(a,d,P/2,250,100);a.restore()}var f=c="",g=32;"world_victory"==b.type&&(a.fillStyle=z["world "+(b.data+1)+" bright"],g=24,c="NEW HIVE UNLOCKED",f="easy"==this.Qj?"STANDARD MODE":"CHALLENGE MODE",a.textAlign="center",a.font="48px Muli",a.fillText(ra[b.data+
1],P/2,270));"final_victory"==b.type&&(final_message="easy"==this.Qj?"HARD MODE UNLOCKED FOR ALL HIVES":"HARD MODE COMPLETED",final_message_teaser="easy"==this.Qj?"THE REAL GAME BEGINS":"",a.textAlign="center",a.fillStyle="white",a.font="24px Muli",a.fillText(final_message,P/2,240),a.font="20px Muli",a.fillStyle="red",a.fillText(final_message_teaser,P/2,280),a.font="16px Muli",a.fillStyle="white","easy"!=this.Qj&&a.fillText("THANKS FOR PLAYING IMPULSE",P/2,320));"rating"==b.type&&(c="YOUR SKILL RATING WENT UP",
f="CONGRATULATIONS!",g=32,a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Nm,P/2,270),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW SKILL RATING",P/2,405),a.font="48px Muli",a.fillText(b.data.SG,P/2,455));"lives"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA LIFE",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Nm,P/2-25,270),J(a,P/2+35,250,0,40,40,"lives_icon"),a.font="72px Muli",a.font="12px Muli",
a.fillStyle="white",d=50,a.fillText("LIVES",P/2-d,400),J(a,P/2-d,422,0,30,30,"lives_icon"),a.fillText("LIVES",P/2+d,400),J(a,P/2+d,422,0,30,30,"lives_icon"),a.font="36px Muli",a.fillText(b.data.jE-b.data.Nm,P/2-d,470),Ua(a,P/2,430,20,"right","white",!1),a.fillText(b.data.jE,P/2+d,470));"ult"==b.type&&(a.textAlign="center",f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA ULTIMATE",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Nm,P/2-25,270),J(a,P/2+35,250,0,40,40,"white_flower"),a.font="72px Muli",
a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("ULT",P/2-d,400),J(a,P/2-d,422,0,30,30,"white_flower"),a.fillText("ULT",P/2+d,400),J(a,P/2+d,422,0,30,30,"white_flower"),a.font="36px Muli",a.fillText(b.data.lE-b.data.Nm,P/2-d,470),Ua(a,P/2,430,20,"right","white",!1),a.fillText(b.data.lE,P/2+d,470));if("quest"==b.type)for(d=0,a.save(),Ma(a,d,P/2,250,150),a.restore(),a.textAlign="center",a.fillStyle=z.impulse_blue,a.font="32px Muli",a.fillText("CHALLENGE COMPLETE!",P/2,120),draw_quest_button(a,
P/2,250,60,b.data.type),a.font="24px Muli",a.fillStyle="white",d=0;d<Hb[b.data.type].text.length;d++)a.fillText(Hb[b.data.type].text[d],P/2,400+36*d);"spark_val"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="SPARK VALUE INCREASED",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Nm,P/2-25,270),J(a,P/2+35,250,0,40,40,"sparks_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillStyle="white",a.fillText("SPARK",P/2-d,390),a.fillText("VALUE",P/2-
d,405),J(a,P/2-d,424,0,22,22,"sparks_icon"),a.fillText("SPARK",P/2+d,390),a.fillText("VALUE",P/2+d,405),J(a,P/2+d,424,0,22,22,"sparks_icon"),a.font="36px Muli",a.fillText(b.data.kE-b.data.Nm,P/2-d,470),Ua(a,P/2,430,20,"right","white",!1),a.fillText(b.data.kE,P/2+d,470));"first_time_tutorial"==b.type&&(a.font="30px Muli",a.textAlign="center",a.fillStyle="white",a.fillText("INTRO TUTORIAL COMPLETE",P/2,250),a.fillStyle="white",a.font="16px Muli",a.fillText("INITIALIZING MAIN GAME...",P/2,550));"select_difficulty"==
b.type&&(f="LET'S DO THIS",g=36,c="SELECT DIFFICULTY",this.vn.V(a),this.Tu.V(a));c&&(a.fillStyle="white",a.textAlign="center",a.font="16px Muli",a.fillText(f,P/2,70),a.font=g+"px Muli",a.fillStyle="world_victory"==b.type?z["world "+(b.data+1)+" bright"]:z.impulse_blue,a.fillText(c,P/2,120));"select_difficulty"!=b.type?(a.textAlign="center",a.fillStyle="world_victory"==b.type?z["world "+(b.data+1)+" bright"]:"white",a.font="16px Muli","first_time_tutorial"!=b.type&&("ult"!=b.type?a.fillText("PRESS ANY KEY TO CONTINUE",
P/2,Q-30):a.fillText("PRESS ANY KEY FOR ULT TUTORIAL",P/2,Q-30))):(a.font="16px Muli",a.textAlign="center",a.fillStyle=z.impulse_blue,a.fillText("YOU CAN SWITCH DIFFICULTY ON THE TITLE SCREEN OPTIONS MENU",P/2,Q-75));a.restore()}};l.debug=function(){};
l.na=function(a){0==this.yb.length&&mh(this);this.Ld<this.yb.length&&0<=this.Ld&&"first_time_tutorial"==this.yb[this.Ld].type&&(this.yr-=a,0>=this.yr&&"none"==this.hb&&(this.hb="out",this.Va=this.Sd));this.Va-=a;0>this.Va&&("in"==this.hb&&(this.hb="none",this.yr=this.pC),"out"==this.hb&&(this.Ld+=1,this.Ld>=this.yb.length?mh(this):(this.hb="in",this.Va=this.Sd,this.Qb=!1)))};function nh(a,b){var c=a.xz?1:a.T.sa;"normal"!=L||Te||0===c?ag("Hive 0",.6):ag("Title Alt"+c,xg(c));ng(new lg(c,b))}
function mh(a){a.aH?ng(new uc("ult_tutorial")):a.wc?a.Nb&&1<=a.T.sa&&3>=a.T.sa?ng(new Xg(a.T.sa+1,null,null,null,!1)):a.Nb&&0==a.T.sa&&a.Qf?ng(new Xg(a.T.sa+1,null,null,null,!1)):a.Nb&&4==a.T.sa?nh(a,!1):a.Qg.Oh?ng(new Mg):nh(a,!1):a.Nb?ng(new Qg(a.Qg.M,a.Qg.i,a.Qg.n,a.Qg.pc,{ub:a.Qg.M.ub,qd:a.Qg.M.qd,jc:a.jc,Nb:a.Nb})):nh(a,!0)}l.te=function(){0!=this.yb.length&&"none"==this.hb&&"select_difficulty"!=this.yb[this.Ld].type&&"first_time_tutorial"!=this.yb[this.Ld].type&&(this.hb="out",this.Va=this.Sd)};
l.Ma=function(a,b){0==this.yb.length||0<=this.Ld&&this.Ld<this.yb.length&&"share"==this.yb[this.Ld].type||"first_time_tutorial"==this.yb[this.Ld].type||this.Ld>=this.yb.length||("select_difficulty"==this.yb[this.Ld].type&&(this.vn.Ma(a,b),this.Tu.Ma(a,b)),"none"==this.hb&&"select_difficulty"!=this.yb[this.Ld].type&&(this.hb="out",this.Va=this.Sd))};l.Fa=function(a,b){0!=this.yb.length&&"select_difficulty"==this.yb[this.Ld].type&&(this.vn.Fa(a,b),this.Tu.Fa(a,b))};Mg.prototype=new Ig;l=Mg.prototype;l.constructor=Mg;function Mg(){this.buttons={menu:[],enter:[],options:[]};this.Qb=!1;this.visibility=0;this.state="menu";oh(this);hc(fc,ja.Menu);this.N=new Ng({fade_in:500,fade_out:250});Lg(this.N,"fade_in");of&&(this.eD=new ph("HELP US IMPROVE THE BETA",20,400,570,200,50,z.impulse_blue_dark,z.impulse_blue,function(){window.open("http://goo.gl/forms/dmZlmtpJd0")}),this.buttons.menu.push(this.eD))}l.na=function(a){this.N.na(a);bg(a)};
l.V=function(a){this.Qb||(Me.setAttribute("style",""),ag("Hive 0",.6),this.Qb=!0);a.save();"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));a.shadowColor=z.impulse_blue;a.shadowBlur=0;of?nb(a,P/2,200,"BETA"):nb(a,P/2,200,"");for(var b=0;b<this.buttons[this.state].length;b++)this.buttons[this.state][b].V(a);for(b=0;b<this.buttons[this.state].length;b++)ih(this.buttons[this.state][b],a);a.restore()};
l.Fa=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Ma(a,b)};
function oh(a){c=a;a.buttons.menu=[];var b=Q/2+50,c=a;a.buttons.menu.push(new Y("START GAME",20,Te?P/2:P/2-130,b,210,100,"white",z.impulse_blue,function(){if(Ve[L]&&Ve[L].M)Lg(c.N,"fade_out",function(){ng(new eh(null,null,null,null,null,!0))});else{for(var a=1;4>a&&Se[L]["world "+a];)a+=1;null!=c.N.Ob||"normal"!=L||Te?Te&&$f(z["world 0 dark"],150,1):$f("Title Alt"+a,250,xg(a));Lg(c.N,"fade_out",function(){ng(new lg(a,!1))})}},"player"));Te||a.buttons.menu.push(new Y("PRACTICE",20,P/2+130,b,210,100,
"white",z.impulse_blue,function(){for(var a=1;4>a&&Se[L]["world "+a];)a+=1;null==c.N.Ob&&"normal"==L&&$f("Title Alt"+a,250,xg(a));Lg(c.N,"fade_out",function(){ng(new lg(a,!0))})},"normal_mode"));a.buttons.menu.push(new Y("OPTIONS",16,P/2-240,b+130,100,70,"white",z.impulse_blue,function(){Lg(c.N,"fade_out",function(){Qe=new jg(c)})},"gear"));a.buttons.menu.push(new Y("ACHIEVEMENTS",16,P/2,b+130,100,70,"white",z.impulse_blue,function(){Lg(c.N,"fade_out",function(){ng(new kh)})},"quest"));a.buttons.menu.push(new Y("CREDITS",
16,P/2+240,b+130,100,70,"white",z.impulse_blue,function(){Lg(c.N,"fade_out",function(){ng(new Kg)})},"credit"));a.buttons.enter.push(new ph("CLICK TO BEGIN",20,P/2,Q/2+150,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},20)}));a.dz=new ph("NORMAL MODE",20,P/2-100,Q/2+120,200,50,"white","blue",function(){c.zm("easy")});a.buttons.options.push(a.dz);a.vn=new ph("CHALLENGE MODE",20,P/2+100,Q/2+120,200,50,"white","blue",function(){c.zm("normal")});a.buttons.options.push(a.vn);qh(a);
a.MC=new ph("CLEAR DATA",20,P/2,Q/2+170,200,50,"white","blue",function(){rh()});a.buttons.options.push(a.MC);a.buttons.options.push(new ph("BACK",20,P/2,Q/2+220,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},50)}));b=new Y("",20,P-20,20,30,30,"white",z.impulse_blue,function(){ig()},"fullscreen_in_game");sh(b,new fg("fullscreen_msg",z["world 0 bright"],0));a.buttons.menu.push(b);b=new Y("",20,P-50,20,30,30,"white",z.impulse_blue,function(){kg()},"mute_in_game");sh(b,new fg("mute_msg",
z["world 0 bright"],0));a.buttons.menu.push(b)}l.zm=function(a){L=a;jc();qh(this);sg(L)};function qh(a){a.dz.Ww="easy"==L;a.vn.Ww="normal"==L};lg.prototype=new Ig;l=lg.prototype;l.constructor=lg;
function lg(a,b){this.Mh=b;this.Qb=!1;this.color="white";this.Rf=1<=nc();this.n=a;this.jw=null;this.Cm=L;this.Sw=this.Ls=null;this.buttons=[];var c=this;this.buttons.push(new Y("BACK",16,70,Q/2+260,60,65,this.color,z.impulse_blue,function(){Lg(c.N,"fade_out",function(){ng(new Mg)});$f("Hive 0",250,.6)},"back"));this.Gh=["easy","normal"];this.fF=new th(16,730,Q/2+260,100,65,this.color,z.impulse_blue,this);this.buttons.push(this.fF);this.nE=5;this.Ul=Q/2;mg(this);hc(fc,ja.Menu);this.iz=500;this.jz=
250;this.Gi=this.Ym=null;vg();this.N=new Ng({fade_in:250,fade_across:250,fade_out:250});Lg(this.N,"fade_in");this.$d=[];this.vf=this.$k=1E3;this.Kp=2E3;this.Zb={x:P/2/G,y:this.Ul/G};this.al=5;this.ps=8;Te&&setTimeout(function(){ng(new Xg(0,null,null,null,!1))})}
function mg(a){a.eo={};for(var b=0;b<a.Gh.length;b++){var c=a.Gh[b];a.eo[c]={0:!0,1:!0,2:Se[c]["world 1"]||nf||mf,3:Se[c]["world 2"]||nf||mf,4:Se[c]["world 3"]||nf||mf}}a.jj={};a.$h={};a.mh={};for(b=0;b<a.Gh.length;b++)if(a.jj[a.Gh[b]]={},a.$h[a.Gh[b]]=[],a.mh[a.Gh[b]]={},uh(a,a.Gh[b]),a.Mh)vh(a,a.Gh[b]),wh(a,0,a.Ul,!0,a.Gh[b]);else for(var c=a,d=a.Gh[b],f=0;4>=f;f++)wh(c,f,c.Ul,c.eo[d][f],d)}
function uh(a,b){for(var c=["T","1","2","3","4"],d=2,f=2;f<a.nE&&(!(1<f)||a.eo[b][f]);f++)d+=1;for(var g=P/2-37.5*(d-1),f=0;f<d;f++){var h=a;a.$h[b].push(new Y(c[f],16,g+75*f,Q/2+250,60,60,z["world "+f+" bright"],z.impulse_blue,function(a){return function(){h.n!=a&&(Lg(h.N,"fade_across",function(){h.n=a}),xh(h,a,h.Cm),h.jw=a,h.Ls=h.Cm)}}(f),"world"+f))}}
function yh(a){var b=L;if(a.Cm!=b){for(var c=a.n;1<c&&!a.eo[b][c];)--c;Lg(a.N,"fade_across",function(){a.Cm=a.Ls;a.n=c});xh(a,c,b);a.jw=c;a.Ls=b}}function xh(a,b,c){void 0==b&&(b=a.n);0!=b&&"normal"==c?$f("Title Alt"+b,250,xg(b)):$f("Hive 0",250,.6)}
function vh(a,b){for(var c=1;4>=c;c++){a.mh[b][c]=[];for(var d=0;8>d;d++){var f="HIVE "+c+"-"+(d+1);7==d&&(f="BOSS "+c);var g=a,h=z["world "+c+" bright"],h=new Y(d+1,30,P/2+150*(-1.5+d%4),4<=d?Q/2+100:Q/2,75,75,h,h,function(a,b){return function(){g.Ym=g.jz;g.Gi=g.Ym;g.lv=z["world "+b+" dark"];g.Sw=b;var c=df.getContext("2d");Eb(c,0,0,P,Q,"Hive "+g.n);setTimeout(function(){ng(new bh(a,b))},g.jz)}}(f,c),"practice"+c);h.Xw=!1;h.U=f;a.mh[b][c].push(h);h.dd=N[f].Ua[b].bg||0==d&&a.eo[b][c]||nf||mf;h.dd||
(h.color="gray")}}}function wh(a,b,c,d,f){a.jj[f][b]=new Y(d?"START":"LOCKED",50,P/2,c,150,150,z["world "+b+" bright"],z["world "+b+" bright"],function(){a.Ym=a.iz;a.Gi=a.Ym;a.lv=z["world "+b+" dark"];a.Sw=b;var c=df.getContext("2d");Eb(c,0,0,P,Q,"Hive "+a.n);setTimeout(function(){ng(new Xg(b,null,null,null,!1))},a.iz)},"world"+b);a.jj[f][b].dd=d}
l.V=function(a){if(!Te){this.lv&&(a.save(),a.globalAlpha=1-this.Gi/this.Ym,a.fillStyle=this.lv,a.fillRect(0,0,P,Q),a.globalAlpha*=wg(this.n),"easy"==L&&N["HIVE "+this.Sw+"-1"].Ua[L].bg||a.drawImage(df,0,0,P,Q,0,0,P,Q),a.restore());a.save();null!=this.Gi&&(a.globalAlpha*=Math.max(this.Gi/this.Ym,0));"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));this.Qb||(bg_canvas.setAttribute("style",""),this.Qb=!0);for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a);
!this.Mh&&this.eo[L][this.n]&&this.Om(a,G);a.font="13px Muli";a.fillStyle="white";a.fillText("SELECT HIVE",P/2,Q/2+215);"fade_across"==this.N.Ob?(a.save(),a.globalAlpha*=1-Og(this.N),zh(this,a,this.n,this.Cm),a.restore(),a.save(),a.globalAlpha*=Og(this.N),zh(this,a,this.jw,this.Ls),a.restore()):zh(this,a,this.n,this.Cm)}};
function zh(a,b,c,d){a.Mh&&0!=c||a.jj[d][c].V(b);if(0<c&&a.Mh&&0!=c)for(var f=0;f<a.mh[d][c].length;f++)a.mh[d][c][f].V(b);0!=c&&(a.Mh?(b.fillStyle="white",b.font="20px Muli",b.fillText("PRACTICE MODE",P/2,a.Ul-170)):"normal"==L&&(b.fillStyle="white",b.font="24px Muli",b.fillText("HARD MODE",P/2,a.Ul-170)));b.fillStyle=z["world "+c+" bright"];b.font="42px Muli";b.textAlign="center";0<c?b.fillText(ra[c],P/2,a.Ul-125):b.fillText("TUTORIAL",P/2,a.Ul-125);for(f=0;f<a.$h[d].length;f++)a.$h[d][f].V(b),
a.$h[d][f].bi&&(b.textAlign="center",b.font="15px Muli",0==f?(b.fillStyle=z["world "+f+" bright"],b.fillText("TUTORIAL",P/2,Q-8)):a.$h[d][f].dd&&(b.fillStyle=z["world "+f+" bright"],b.fillText(ra[f],P/2,Q-8)));a.Mh&&0!=c||ih(a.jj[d][c],b);if(0<c&&a.Mh)for(f=0;f<a.mh[d][c].length;f++)ih(a.mh[d][c][f],b)}l.na=function(a){Te||(null!=this.Gi&&(this.Gi-=a),this.Mh||this.An(a),this.N.na(a),bg(a))};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b);var d=L;if(this.Mh)if(0!=this.n)for(c=0;c<this.mh[d][this.n].length;c++)this.mh[d][this.n][c].Fa(a,b);else this.jj[d][this.n].Fa(a,b);else this.jj[d][this.n].Fa(a,b);for(c=0;c<this.$h[d].length;c++)this.$h[d][c].Fa(a,b)};
l.Ma=function(a,b){if(null==this.Gi){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b);var d=L;if(this.Mh)if(0!=this.n)for(c=0;c<this.mh[d][this.n].length;c++)this.mh[d][this.n][c].Ma(a,b);else this.jj[d][this.n].Ma(a,b);else this.jj[d][this.n].Ma(a,b);for(c=0;c<this.$h[d].length;c++)this.$h[d][c].Ma(a,b)}};l.An=zg.prototype.An;l.Lp=zg.prototype.Lp;l.Om=zg.prototype.Om;uc.prototype=new cg;l=uc.prototype;l.constructor=uc;function uc(a){this.U="HOW TO PLAY";this.ha(0,null,null,!0,this.T,!1);this.mode=a;this.ready=!1;this.i=this.Zp(N["HOW TO PLAY"]);this.i.tn=!0;this.T=new lc(0,!1);this.Xd=!1;this.kg=0;this.Km=100;this.jB=3E3;this.Va=this.Sd=500;this.hb="in"}l.Zp=Jg.prototype.Zp;
l.Ds=function(){this.ready=!0;this.i.r=this;this.i.reset();this.U=this.i.U;this.ra=!1;Rg(this);Me.setAttribute("style","display:none");Ne.translate(X,0);this.i.Nf(Ne);Ne.translate(-X,0);hc(fc,ja.Interlude);this.color=this.ra?z["boss "+this.n]:z["world "+this.n+" lite"];this.Di=z["world "+this.n+" dark"];this.Yc=z["world "+this.n+" lite"];this.H=z["world "+this.n+" bright"];this.Qd=12;"normal_tutorial"==this.mode?this.da=0:"first_time_tutorial"==this.mode?(this.da=-1,this.kg=this.jB,this.Xd=!0):"ult_tutorial"==
this.mode&&(this.da=0,this.kg=.5*this.jB,this.Xd=!0);this.Un=null;this.zq=document.createElement("canvas");this.zq.width=150;this.zq.height=150;this.Vb=this.zq.getContext("2d");this.Bq=document.createElement("canvas");this.Bq.width=150;this.Bq.height=150;this.Ad=this.Bq.getContext("2d");this.bF=["white","silver","gold"];this.dF=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];this.eF=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"];this.Kq=["white","silver","gold"];var a=this;this.Uk=new Y("EXIT TUTORIAL",
20,400,440,125,85,this.Yc,"white",function(){a.KG=!0},"quit");this.Rl=(this.Rf=1<=nc())?2:0;this.Qd+=this.Rl;this.Rf&&(this.T.sk=99)};l.zm=function(a){L=a;jc()};
l.Hd=function(a){if(!this.pause&&1==this.zoom){var b=this.q;b.$[5]=Math.max(1E3,b.$[5]);this.Xd&&(0>=this.kg?(this.Xd=!1,this.hb="out",this.Va=this.Sd):this.kg-=a);this.Va-=a;0>this.Va&&"none"!=this.hb&&1==this.zoom&&("in"==this.hb?this.hb="none":"out"==this.hb&&(Ah(this,this.da+1),2==this.da&&"ult_tutorial"==this.mode&&(this.Uk.y=550),this.hb="in",this.Va=this.Sd))}};
l.je=function(a){if(1==this.zoom){a.save();a.translate(X,0);if("in"==this.hb){var b=this.Va/this.Sd;a.globalAlpha=1-b}else"out"==this.hb&&(b=this.Va/this.Sd,a.globalAlpha=Math.max(0,b));if("first_time_tutorial"==this.mode)if(a.font="24px Muli",a.textAlign="center",a.fillStyle="white",-1==this.da&&(nb(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("INTRO TUTORIAL",400,500),a.font="18px Muli",a.fillStyle=z.impulse_blue,a.fillText("PRESS Q TO PAUSE AND QUIT",400,535)),0==this.da&&("right"==D.Cb&&
Sa(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Cb&&"mouse"==D.qc&&Sa(a,400,430,60,"white"),a.fillText("MOVE",400,500)),1==this.da&&("mouse"==D.qc?Wa(a,400,400,83,125,"white"):Sa(a,400,430,60,"white"),a.fillText("IMPULSE",400,500),a.save(),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",400,550),a.restore()),2==this.da&&Bh(this,a),3==this.da&&Ch(this,a),4==this.da&&Dh(a),5==this.da&&Eh(a),6==this.da&&Fh(a),7==this.da&&Gh(this,a),8==this.da&&Dh(a),9==this.da&&
Hh(this,a),-1!=[2,5,6,7].indexOf(this.da))a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Ih()),a.font="16px Muli",a.fillText("PRESS SPACEBAR TO CONTINUE",400,580),a.restore();else if(0==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Ih()),a.font="16px Muli",a.fillText("TRY MOVING NOW",400,580),a.restore();else if(1==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Ih()),a.font="16px Muli",a.fillText("TRY IMPULSING NOW",400,580),
a.restore();else if(3==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Ih()),a.font="16px Muli",a.fillText("TRY KILLING AN ENEMY NOW",400,580),a.restore();else if(4==this.da||8==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Ih()),a.font="16px Muli",a.fillText("GET THE GATEWAY SCORE",400,580),a.restore();if("normal_tutorial"==this.mode){a.font="20px Muli";a.textAlign="center";a.fillStyle="white";0==this.da&&(nb(a,400,380,"MARK ZHANG"),a.font="24px Muli",
a.fillStyle="white",a.fillText("TUTORIAL",400,500));1==this.da&&("right"==D.Cb&&Sa(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Cb&&"mouse"==D.qc&&Sa(a,400,430,60,"white"),a.fillText("MOVE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillStyle="white",a.fillText("ALTERNATE CONTROLS AVAILABLE IN PAUSE MENU",400,550));2==this.da&&(a.font="20px Muli","mouse"==D.qc?Wa(a,400,400,83,125,"white"):Sa(a,400,430,60,"white"),a.fillText("USE IMPULSE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",
400,550));3==this.da&&Bh(this,a);4==this.da&&Ch(this,a);if(5==this.da){for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=z[this.bF[b]],a.shadowColor=a.fillStyle,a.font="25px Muli",a.fillText(N["HOW TO PLAY"].ua[L][b],600,40*b+337),a.textAlign="left",a.font="20px Muli",a.fillText(this.dF[b],200,330+40*b),a.font="12px Muli",a.fillText(this.eF[b],200,40*b+345);a.beginPath();a.rect(190,308,420,45);a.strokeStyle="red";a.lineWidth=8;a.stroke();a.beginPath();a.rect(825,515,150,80);a.strokeStyle=
"red";a.lineWidth=6;a.stroke();a.font="20px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE...",400,500);a.shadowColor="red";a.fillStyle="red"}6==this.da&&Hh(this,a);this.da==7+this.Rl&&Eh(a);this.da==8+this.Rl&&Fh(a);this.da==9+this.Rl&&Gh(this,a);this.Rf&&(a.fillStyle="white",a.textAlign="center",7==this.da&&Jh(a),8==this.da&&Kh(this,a));this.da==10+this.Rl&&(a.font="20px Muli",a.fillStyle="white","right"==D.Cb?(Ta(a,250,406,55,55,10,"white"),a.fillText("Q",250,
412)):"left"==D.Cb&&(Ta(a,250,406,125,55,10,"white"),a.fillText("ENTER",250,412)),Ta(a,400,406,55,55,10,"white"),a.fillText("X",400,412),Ta(a,550,406,55,55,10,"white"),a.fillText("C",550,412),a.font="16px Muli",a.fillText("PAUSE",250,462),a.fillText("MUTE MUSIC",400,462),a.fillText("FULLSCREEN",550,462),a.font="12px Muli",a.fillText("ENEMY INFO AND GAME OPTIONS IN THE PAUSE MENU",400,530));this.da==11+this.Rl&&(this.Uk.V(a),a.fillStyle=z.impulse_blue,a.font="16px Muli",a.fillText("THANKS FOR PLAYING IMPULSE!",
400,335),a.font="12px Muli",a.fillText("- MARK -",400,360));a.globalAlpha=1;0<this.da&&(Ua(a,100,420,20,"left","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("BACK",98,450));this.da<this.Qd-1&&(Ua(a,700,420,20,"right","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("NEXT",702,450));for(b=0;b<this.Qd;b++){var c=(this.Qd-1)/2-b;a.beginPath();a.arc(400-25*c,580,4,0,2*Math.PI,!0);a.fillStyle="white";this.da==b?(a.fillStyle="white",a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=
5,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=5)}}"ult_tutorial"==this.mode&&(a.fillStyle="white",a.textAlign="center",0==this.da&&(nb(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("ULT TUTORIAL",400,500)),1==this.da&&Jh(a),2==this.da&&Kh(this,a));a.restore()}};
function Dh(a){a.beginPath();a.rect(825,515,150,80);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.font="24px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE TO BEAT THE LEVEL",400,420);a.save();a.globalAlpha*=Ih();Lh(a,735,555,50,"red");a.restore()}
function Lh(a,b,c,d,f,g){a.save();g&&(a.translate(b,c),"left"==g&&a.rotate(Math.PI),"up"==g&&a.rotate(3*Math.PI/2),"down"==g&&a.rotate(Math.PI/2),a.translate(-b,-c));a.beginPath();a.moveTo(b-d/2,c);a.lineTo(b+.355*d,c);a.lineWidth=d/5;a.strokeStyle=f;a.stroke();Ua(a,b+d/2,c,.6*d,"right",f,!1);a.restore()}
function Eh(a){a.font="24px Muli";a.fillStyle="white";a.fillText("YOUR MULTIPLIER INCREASES THE POINTS",400,340);a.fillText("YOU GET FROM KILLING ENEMIES",400,375);a.fillStyle=z.impulse_blue;a.font="48px Muli";a.fillText("100",250,450);a.fillStyle="white";a.font="12px Muli";a.fillText("BASE POINT VALUE",250,480);a.fillText("OF ENEMY",250,500);Lh(a,325,435,30,"white");a.fillStyle=z.impulse_blue;a.font="48px Muli";a.textAlign="center";a.fillText("x5",400,450);a.fillStyle="white";a.font="12px Muli";
a.fillText("YOUR CURRENT",400,480);a.fillText("MULTIPLIER",400,500);Lh(a,475,435,30,"white");a.fillStyle=z.impulse_blue;a.font="48px Muli";a.fillText("+500",565,450);a.fillStyle="white";a.font="12px Muli";a.fillText("TOTAL POINTS",565,480);a.fillText("GAINED",565,500);a.beginPath();a.rect(825,225,150,100);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.save();a.globalAlpha*=Ih();Lh(a,735,280,50,"red");a.restore()}
function Fh(a){a.fillStyle="white";a.font="16px Muli";a.fillText("KILLING ENEMIES",250,360);a.fillStyle=z.impulse_blue;a.font="36px Muli";a.fillText("INCREASES",250,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",250,430);a.fillText("TOUCHING ENEMIES",550,360);a.fillStyle="red";a.font="36px Muli";a.fillText("RESETS",550,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",550,430);a.fillStyle="white";a.save();a.globalAlpha*=.5;a.font="12px Muli";a.fillText("MULTIPLIER PERMANENTLY +1 EVERY 10 SECONDS",
400,500);a.restore()}
function Gh(a,b){b.beginPath();b.arc(a.i.nk.x,a.i.nk.y,25,0,2*Math.PI);b.lineWidth=4;b.strokeStyle="red";b.stroke();b.beginPath();b.arc(a.i.Bf.x,a.i.Bf.y,25,0,2*Math.PI);b.stroke();J(b,300,440,void 0,25,25,"spark");b.font="16px Muli";b.fillStyle=z.impulse_blue;b.fillText("+10 SPARKS",300,475);J(b,500,440,void 0,25,25,"multi");b.font="16px Muli";b.fillStyle="white";b.fillText("+5 MULTIPLIER",500,475);b.font="24px Muli";b.fillText("POWERUPS",400,350);b.font="12px Muli";b.fillStyle=z.impulse_blue;b.fillText("100 SPARKS = EXTRA LIFE",
300,495);b.beginPath();b.rect(-160,Lc-140,120,80);b.strokeStyle="red";b.lineWidth=4;b.stroke()}function Jh(a){"mouse"==D.qc?(Xa(a,400,400,83,125,"white"),a.font="20px Muli",a.fillText("USE ULTIMATE",400,500)):(Ta(a,400,400,55,55,10,"white"),a.font="20px Muli",a.fillText("E",400,406),a.fillText("USE ULTIMATE",400,470))}
function Kh(a,b){J(b,400,330,0,60,60,"ultimate");b.font="16px Muli";b.textAlign="center";b.fillStyle="white";b.shadowBlur=0;b.fillText("YOU GET NO POINTS FOR KILLING ENEMIES WITH YOUR ULTIMATE",400,430);b.fillText("WHILE USING YOUR ULTIMATE, YOU ARE INVINCIBLE",400,480);"ult_tutorial"==a.mode&&a.Uk.V(b)}function Ih(){return Math.abs(((new Date).getTime()%2E3-1E3)/1E3)}
function Ch(a,b){b.drawImage(a.zq,0,0,150,150,225,300,150,150);b.drawImage(a.Bq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.restore();b.shadowBlur=0;b.beginPath();b.moveTo(385,375);b.lineTo(400,375);b.lineWidth=8;b.strokeStyle="white";b.stroke();Ua(b,408,375,20,"right","white",!1);b.font="20px Muli";b.fillStyle="white";b.textAlign="center";b.fillText("IMPULSE ENEMIES INTO THE VOID TO KILL THEM",
400,500);0<a.i.s.length&&(b.save(),b.globalAlpha*=Ih(),b.beginPath(),b.arc(a.i.s[0].body.g.position.x*G,a.i.s[0].body.g.position.y*G,25,0,2*Math.PI),b.lineWidth=6,b.strokeStyle=z.impulse_blue,b.stroke(),b.beginPath(),b.moveTo(a.i.s[0].body.g.position.x*G,a.i.s[0].body.g.position.y*G-25),b.lineTo(a.i.s[0].body.g.position.x*G,66),b.lineWidth=6,b.stroke(),Ua(b,a.i.s[0].body.g.position.x*G,60,25,"up",z.impulse_blue,!1),b.restore())}
function Bh(a,b){b.drawImage(a.zq,0,0,150,150,225,300,150,150);b.drawImage(a.Bq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.shadowBlur=0;Lh(b,400,375,25,"white");b.shadowBlur=0;b.font="20px Muli";b.fillText("TOUCHING THE BLACK VOID WILL KILL YOU",400,500);for(var c=0;6>c;c++)Lh(b,150+100*c,220,35,"red","down"),Lh(b,150+100*c,120,35,"red","up");b.restore()}
function Hh(a,b){Ua(b,355,170,25,"right","red",!1);Ua(b,445,170,25,"left","red",!1);Ua(b,400,125,25,"down","red",!1);Ua(b,400,215,25,"up","red",!1);b.beginPath();b.arc(400,170,50,0,2*Math.PI);b.lineWidth=8;b.shadowBlur=0;b.strokeStyle="red";b.stroke();"first_time_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",
400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");"normal_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("...THEN MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");b.fillStyle="white";"right"==D.Cb&&(Ta(b,400,445,300,50,10,"white"),b.fillText("SPACEBAR",400,451));"left"==D.Cb&&
(Ta(b,400,445,120,50,10,"white"),b.fillText("SHIFT",400,451))}function Mh(a,b){b.save();b.beginPath();b.rect(0,0,150,75);b.fillStyle=a.Di;b.fill();Eb(b,0,75,150,150,"Hive 0");b.beginPath();b.moveTo(0,75);b.lineTo(150,75);b.lineWidth=6;b.strokeStyle=z["world 0 lite"];b.stroke();b.restore()}
l.Fa=function(a,b){!this.pause&&this.ready&&1==this.zoom&&("normal_tutorial"==this.mode&&this.da==this.Qd-1&&this.Uk.Fa(a-X,b),this.q.gw=Zg(this,{x:a-X,y:b}),"ult_tutorial"==this.mode&&2==this.da&&this.Uk.Fa(a-X,b))};
l.te=function(a){this.ready&&1==this.zoom&&(a==wa.oj||a==wa.Ak?(this.pause=!this.pause)&&(Qe=new Wg(this.i,this.n,this.M,this,this.pc)):a==wa.br&&this.T&&this.Ii&&R(this.i.Zb,this.q.body.g.position)<this.i.al?"first_time_tutorial"==this.mode&&9>this.da||(this.Nb=!0):rc(this.q,a),32==a&&-1!=[2,5,6,7].indexOf(this.da)&&"first_time_tutorial"==this.mode&&0==this.Xd&&"none"==this.hb&&(this.kg=0,this.Xd=!0))};
function Ah(a,b){if("normal_tutorial"==a.mode&&4<=b||"first_time_tutorial"==a.mode&&3==b)a.i.tn=!1;"first_time_tutorial"==a.mode&&4==b&&(a.i.tn=!1);"ult_tutorial"==a.mode&&1==b&&(a.i.tn=!1,a.i.Qy=!0);"first_time_tutorial"==a.mode&&5==b&&(a.i.tn=!0);if("first_time_tutorial"==a.mode&&8==b&&(a.i.tn=!1,a.i.Qy=!0,a.Ii)){Ah(a,b+1);return}if("normal_tutorial"==a.mode&&3==b&&3!=a.da||"first_time_tutorial"==a.mode&&2==b)a.Un=new Fg("player",{x:75/G,y:73/G},{x:0,y:0},!1),a.Un.na(300);if("normal_tutorial"==
a.mode&&4==b&&4!=a.da||"first_time_tutorial"==a.mode&&3==b)a.Un=new Fg("stunner",{x:75/G,y:60/G},{x:0,y:-5},!1),a.Un.na(100);a.da=b;if("normal_tutorial"==a.mode&&3==a.da||"first_time_tutorial"==a.mode&&2==a.da)a.Vb.clearRect(0,0,150,150),a.Ad.clearRect(0,0,150,150),Mh(a,a.Vb),Mh(a,a.Ad),Lh(a.Vb,30,110,35,"red","up"),Lh(a.Vb,120,110,35,"red","up"),Lh(a.Ad,30,110,35,"red","up"),Lh(a.Ad,120,110,35,"red","up"),J(a.Vb,75,75,0,30,30,"player_normal"),a.Vb.beginPath(),a.Vb.moveTo(75,55),a.Vb.lineTo(75,40),
a.Vb.lineWidth=4,a.Vb.strokeStyle=z.impulse_blue,a.Vb.stroke(),Ua(a.Vb,75,40,13,"up",z.impulse_blue,!1),a.Un.V(a.Ad);if("normal_tutorial"==a.mode&&4==a.da||"first_time_tutorial"==a.mode&&3==a.da)a.Vb.clearRect(0,0,150,150),a.Ad.clearRect(0,0,150,150),Mh(a,a.Vb),Mh(a,a.Ad),J(a.Vb,75,120,0,30,30,"player_normal"),a.Vb.beginPath(),a.Vb.shadowOffsetX=0,a.Vb.shadowOffsetY=0,a.Vb.lineWidth=5,a.Vb.strokeStyle=z.impulse_blue,a.Vb.arc(75,120,40,7*Math.PI/6,11*Math.PI/6),a.Vb.shadowBlur=0,a.Vb.stroke(),Ka(a.Vb,
"stunner",75,77,1,Math.PI/2),a.Vb.beginPath(),a.Vb.moveTo(75,58),a.Vb.lineTo(75,43),a.Vb.lineWidth=4,a.Vb.strokeStyle="cyan",a.Vb.stroke(),Ua(a.Vb,75,40,13,"up","cyan",!1),J(a.Ad,75,120,0,30,30,"player_normal"),a.Ad.globalAlpha=.5,a.Ad.globalAlpha=1,a.Ad.beginPath(),a.Ad.shadowOffsetX=0,a.Ad.shadowOffsetY=0,a.Ad.lineWidth=5,a.Ad.strokeStyle=a.Ad.shadowColor,a.Ad.arc(75,120,50,7*Math.PI/6,11*Math.PI/6),a.Ad.shadowBlur=0,a.Ad.stroke(),a.Un.V(a.Ad)}
l.xg=function(a,b){if(!(null!=this.RG&&120>Math.abs(a-X/2)&&160>Math.abs(b-(Lc/2+60)))){if(!this.pause&&this.ready&&1==this.zoom)if("normal_tutorial"==this.mode&&a>X&&(a<Kc-X&&400<b||this.da==10+this.Rl&&350<b)){if(this.da==this.Qd-1&&this.Uk.Ma(a-X,b),400>a&&0<this.da&&Ah(this,this.da-1),800<a&&this.da<this.Qd-1&&Ah(this,this.da+1),565<b&&595>b){var c=Math.round((this.Qd-1)/2-(600-a)/25);0<=c&&c<this.Qd&&Ah(this,c)}}else c=this.q,c.Iv=(new Date).getTime(),c.nq=!0;"ult_tutorial"==this.mode&&2==this.da&&
this.Uk.Ma(a-X,b)}};l.Kj=function(){8==this.da&&"first_time_tutorial"==this.mode&&0==this.Xd&&"none"==this.hb&&(this.kg=this.Km,this.Xd=!0)};function Nh(a,b,c,d,f,g,h){f&&this.ha(a,b,c,d,f,g,h)}l=Nh.prototype;l.ha=function(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.action=f;this.dd=!0;this.border=g;this.color=h;this.va=!1;this.$a=null;this.Ib};l.V=function(a){a.save();this.border&&(a.beginPath(),a.strokeStyle=this.dd?this.va&&this.$a?this.$a:this.color:"gray",a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=4,a.stroke());this.je(a);a.restore()};function ih(a,b){a.Ib&&a.Ib.V(b)}l.je=function(){};
l.Fa=function(a,b){a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.dd&&(this.va=!0),this.bi=!0):this.bi=this.va=!1;this.Ib&&(this.Ib.visible=this.bi,gg(this.Ib,a,b))};l.Ma=function(a,b){return this.dd&&a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.action(),!0):!1};l.te=function(a){(this.dd&&this.keyCode&&this.keyCode==a||this.GA&&this.GA==a)&&this.action()};function sh(a,b){a.Ib=b}l.xg=function(){};l.gh=function(){};Oh.prototype=new Nh;Oh.prototype.constructor=Oh;function Oh(a,b,c,d,f,g,h,k,n){this.text=a;this.ha(b,c,d,f,null,!1,g);this.ts=h;this.Sg=new Ph(this.x+this.u/2-20,this.y,20,20,this.color);this.Sg.checked=n();this.Ay=!0;this.action=function(){k(this.Sg.checked);this.Ay&&(this.Sg.checked=!this.Sg.checked)}}
Oh.prototype.je=function(a){a.save();this.bi||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.bi?this.ts:this.color;a.fillText(this.text,this.x-this.u/2+10,this.y+7);this.Sg.color=this.bi?this.ts:this.color;this.Sg.V(a);a.restore()};function Qh(){}l=Qh.prototype;l.ha=function(a,b){this.u=a;this.m=b;this.x=Kc/2;this.y=Lc/2;this.buttons=[];this.Nn=!0;this.N=new Ng({fade_in:500,fade_out:250})};l.na=function(a){this.N.na(a)};
l.V=function(a){a.save();a.fillStyle=z["world "+this.n+" dark"];a.fillRect(X,0,P,Q);a.globalAlpha*=wg(this.n?this.n:0);a.drawImage(df,0,0,P,Q,X,0,P,Q);a.restore();a.save();"fade_in"==this.N.Ob?a.globalAlpha*=Og(this.N):"fade_out"==this.N.Ob&&(a.globalAlpha*=1-Og(this.N));this.Nn&&(a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fillStyle="white",a.fill(),a.lineWidth=2,a.strokeStyle="black",a.stroke());this.je(a);a.restore()};l.Nf=function(){};l.je=function(){};l.Fa=function(){};
l.xg=function(){};l.gh=function(){};l.Ma=function(){};l.te=function(){};l.uq=function(){};Wg.prototype=new Qh;l=Wg.prototype;l.constructor=Wg;
function Wg(a,b,c,d,f){this.i=a;this.M=c;this.wb=d;this.n=b;this.U=this.i.U;this.ra="BOSS"==this.U.slice(0,4);this.pc=f;this.ha(800,600);this.Nn=!1;this.qf="black";this.H=z["world "+this.n+" bright"];this.color=z["world "+this.n];this.Yc=this.wb.Yc;this.Qk=null;if(this.ra)this.Qk={},this.cf=0;else{this.Qk=N[this.U].s;this.cf=0;for(var g in N[this.U].s)this.cf+=1}this.Of=40;Rh(this)}l.Nf=function(){};
function Rh(a){a.buttons=[];var b="white";if(0==a.n||void 0==a.n)b=z.impulse_blue;"HOW TO PLAY"!=a.U.slice(0,11)&&0!=a.n?(a.i.wc?(a.aF=new Y("SAVE & QUIT",16,a.x+170,a.y-a.m/2+500,120,65,a.H,b,function(a){return function(){ug(a.wb.T);ng(new eh(a.wb.n,!1,a.wb.T,null,null,!0,!0));Qe=null}}(a),"save"),a.buttons.push(a.aF),a.Vs=new Y("QUIT",16,a.x-170,a.y-a.m/2+500,60,65,a.H,b,function(a){return function(){ug({});ng(new eh(a.wb.n,!1,a.wb.T,null,null));Qe=null}}(a),"quit")):(a.Gl=new Y("RETRY",16,a.x-
173,a.y-a.m/2+500,60,65,a.H,b,function(a){return function(){Ne.translate(X,0);a.i.r=null;a.i.Nf(Ne);Ne.translate(-X,0);var b=new lc(a.wb.n,!1);ng(new cg(a.wb.n,a.i,a.pc,b,!1));Qe=null}}(a),"retry"),a.buttons.push(a.Gl),a.Gl.keyCode=wa.jr,a.Gl.uf="right"==D.Cb?"R KEY":"SHIFT KEY",a.Vs=new Y("QUIT",16,a.x+180,a.y-a.m/2+500,60,65,a.H,b,function(a){return function(){ng(new Pg(a.wb.T,a.wb.wc,{M:a.wb.M,i:a.wb.i,n:a.wb.n,pc:a.wb.pc,Nb:!1}));Qe=null}}(a),"quit")),a.buttons.push(a.Vs),a.lw=new Y("OPTIONS",
16,a.x,a.y-a.m/2+500,100,65,a.H,b,function(a){return function(){Lg(a.N,"fade_out",function(){Qe=new jg(a)})}}(a),"options")):(a.Vs=new Y(0==a.n&&Te?"SKIP TUTORIAL":"QUIT",16,a.x+100,a.y-a.m/2+500,60,65,a.H,b,function(a){return function(){ng(new Pg(a.wb.T,a.wb.wc,{M:a.wb.M,i:a.wb.i,n:a.wb.n,pc:a.wb.pc,ys:!0,ls:Te,Nb:!0,Dq:!0}));Qe=null}}(a),"quit"),a.buttons.push(a.Vs),a.lw=new Y("OPTIONS",16,a.x-100,a.y-a.m/2+500,100,65,a.H,b,function(a){return function(){Lg(a.N,"fade_out",function(){Qe=new jg(a)})}}(a),
"options"));a.lw.qf=a.qf;a.buttons.push(a.lw);a.Il=new Y("RESUME",24,a.x,a.y-a.m/2+350,150,100,a.H,b,function(a){return function(){$g(a.wb)}}(a),"resume");a.Il.keyCode=wa.oj;a.Il.GA=wa.Ak;a.Il.uf="right"==D.Cb?"Q KEY":"ENTER KEY";a.buttons.push(a.Il);var c=0,d;for(d in a.Qk){for(var f=0,g=0;f<c+1&&f<a.cf;)f+=12;g=f<=a.cf?12:a.cf-(f-12);f=new ch(d,a.Of,a.x+(a.Of+10)*(c-(f-12)-(g-1)/2),a.y-a.m/2+200+a.Of*(Math.floor(c/12)-(Math.ceil(a.cf/12)-1)/2),a.Of,a.Of,a.i.Yc,function(a,b){return function(){Lg(b.N,
"fade_out",function(){Qe=new dh(a,b)})}}(d,a));f.ty=a.H;a.buttons.push(f);c+=1}c=new Y("",20,a.x+a.u/2-20,a.y-a.m/2+20,30,30,a.H,b,function(){ig()},"fullscreen_in_game");a.buttons.push(c);b=new Y("",20,a.x+a.u/2-50,a.y-a.m/2+20,30,30,a.H,b,function(){kg()},"mute_in_game");a.buttons.push(b)}
l.je=function(a){a.save();a.beginPath();a.textAlign="center";this.i.wc&&0<this.wb.T.Ug&&(a.font="14px Muli",a.fillStyle="red",a.shadowBlur=10,a.shadowColor=a.fillStyle,a.fillText("CONTINUES: "+this.wb.T.Ug,this.x,this.y-this.m/2+70));a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.H;a.fillStyle=this.H;a.fillText("MENU",this.x,this.y-this.m/2+100);a.font="16px Muli";0<this.cf&&a.fillText("DETAILED ENEMY INFO",this.x,this.y-this.m/2+165);a.textAlign="center";for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);
a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};l.te=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].te(a)};jg.prototype=new Qh;l=jg.prototype;l.constructor=jg;
function jg(a){this.ha(800,600);this.wb=a.wb;this.Nn=!1;this.n=a.n;this.ci=133;var b="white";if(0==this.n||void 0==this.n)b=z.impulse_blue;this.dc=a;this.dc instanceof Wg?(this.qf=this.dc.qf,this.color=this.dc.color,this.Yc=this.dc.Yc,this.H=this.dc.H):(this.qf=z["world 0 dark"],this.color=z["world 0"],this.Yc=z["world 0 lite"],this.H=z["world 0 bright"],this.Nf());this.yi=new Y("BACK",16,this.x,this.y-this.m/2+560,60,65,this.H,b,function(a){return function(){Lg(a.N,"fade_out",function(){a.dc instanceof
Wg?(Rh(a.dc),Qe=a.dc,Lg(a.dc.N,"fade_in")):(a.dc instanceof Mg&&Lg(a.dc.N,"fade_in"),Qe=null)})}}(this),"back");a=this.x;this.dc instanceof Mg&&(this.Lm=new Y("DELETE GAME DATA",20,this.x+150,this.y+120,200,100,this.H,"red",function(a){return function(){Lg(a.N,"fade_out",function(){Qe=new Sh(a)})}}(this),"delete"),this.buttons.push(this.Lm),a=this.x-150);this.buttons.push(this.yi);this.OC=new Y("CHANGE CONTROLS",20,a,this.y+120,200,100,this.H,b,function(a){return function(){Lg(a.N,"fade_out",function(){Qe=
new Th(a)})}}(this),"controls");this.buttons.push(this.OC);this.Xu="";this.Ks=new Uh("GAME MUSIC",this.x,this.y-this.m/2+this.ci,300,30,this.H,"white",function(a){ic(Math.ceil(100*Math.pow(a,2)),!0)},Math.pow(D.zj/100,.5));this.Ks.Vc=fc.Zi;sh(this.Ks,new fg("option_game_music","white",this.n));this.buttons.push(this.Ks);this.es=new Uh("SOUND EFFECTS",this.x,this.y-this.m/2+this.ci+30,300,30,this.H,"white",function(a){D.Bp=Math.ceil(100*Math.pow(a,3));jc()},Math.pow(D.Bp/100,.333));this.es.Vc=fc.Zi;
sh(this.es,new fg("option_sound_effects","white",this.n));this.buttons.push(this.es);this.os=new Oh("FULLSCREEN",this.x,this.y-this.m/2+this.ci+60,300,30,this.H,"white",function(){ig()},function(){return hg()});sh(this.os,new fg("option_fullscreen","white",this.n));this.os.Ay=!1;this.buttons.push(this.os);button=new Oh("PARTICLE EFFECTS",this.x,this.y-this.m/2+this.ci+90,300,30,this.H,"white",function(){D.Hp=!D.Hp;jc()},function(){return D.Hp});sh(button,new fg("option_particle_effects","white",this.n));
this.buttons.push(button);button=new Oh("SCORE LABELS",this.x,this.y-this.m/2+this.ci+120,300,30,this.H,"white",function(){D.ec=!D.ec;jc()},function(){return D.ec});sh(button,new fg("option_score_labels","white",this.n));this.buttons.push(button);button=new Oh("MULTIPLIER DISPLAY",this.x,this.y-this.m/2+this.ci+150,300,30,this.H,"white",function(){D.qq=!D.qq;jc()},function(){return D.qq});sh(button,new fg("option_multiplier_display","white",this.n));this.buttons.push(button);button=new Oh("IMPULSE SHADOW",
this.x,this.y-this.m/2+this.ci+180,300,30,this.H,"white",function(){D.Sp=!D.Sp;jc()},function(){return D.Sp});sh(button,new fg("option_impulse_shadow","white",this.n));this.buttons.push(button);this.wb instanceof cg&&this.wb.i.wc&&0<this.n&&"normal"==L&&(button=new Oh("SPEED RUN COUNTDOWN",this.x,this.y-this.m/2+this.ci+210,300,30,this.H,"white",function(){D.sh=!D.sh;jc()},function(){return D.sh}),sh(button,new fg("option_speed_run","white",this.n)),this.buttons.push(button));Lg(this.N,"fade_in")}
l.Nf=function(){var a=df.getContext("2d");Eb(a,0,0,P,Q,"Hive 0")};
l.je=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.H;a.fillStyle=this.H;a.fillText("OPTIONS",this.x,this.y-this.m/2+100);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);for(b=0;b<this.buttons.length;b++)ih(this.buttons[b],a);a.textAlign="center";this.Xu&&(a.font="14px Muli",this.wb instanceof cg&&this.wb.i.wc?a.fillText(this.Xu,this.x,this.y-this.m/2+this.ci+180):a.fillText(this.Xu,this.x,this.y-this.m/2+this.ci+150));a.restore()};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};l.te=function(){};l.xg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].xg(a,b)};l.gh=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].gh(a,b)};Th.prototype=new Qh;l=Th.prototype;l.constructor=Th;
function Th(a){this.ha(800,600);this.wb=a.wb;this.Nn=!1;this.dc=a;this.qf=this.dc.qf;this.Yc=this.dc.Yc;this.H=this.dc.H;this.color=this.dc.color;this.n=a.n;a="white";if(0==this.n||void 0==this.n)a=z.impulse_blue;this.yi=new Y("BACK",16,this.x,this.y-this.m/2+560,60,65,this.H,a,function(a){return function(){Lg(a.N,"fade_out",function(){Qe=a.dc;Lg(a.dc.N,"fade_in")})}}(this),"back");this.Te={};this.Te["left mouse"]=new Y("LEFT-HAND MOUSE",16,this.x-200,this.y-this.m/2+135,200,100,this.H,a,function(){return function(){D.Cb=
"left";D.qc="mouse";jc();Aa()}}(this),"left_mouse");this.Te["right keyboard"]=new Y("KEYBOARD-ONLY",16,this.x,this.y-this.m/2+135,200,100,this.H,a,function(){return function(){D.Cb="right";D.qc="keyboard";jc();Aa()}}(this),"keyboard");this.Te["right mouse"]=new Y("RIGHT-HAND MOUSE",16,this.x+200,this.y-this.m/2+135,200,100,this.H,a,function(){return function(){D.Cb="right";D.qc="mouse";jc();Aa()}}(this),"right_mouse");this.buttons.push(this.Te["left mouse"]);this.buttons.push(this.Te["right mouse"]);
this.buttons.push(this.Te["right keyboard"]);this.Rf=1<=nc();this.buttons.push(this.yi);Vh(this);Lg(this.N,"fade_in")}l.Fa=function(a,b){this.Vr=null;for(var c in this.Te)this.Te[c].Fa(a,b),this.Te[c].bi&&(this.Vr=c);this.yi.Fa(a,b);Vh(this)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};function Vh(a){for(var b in a.Te)a.Te[b].color=a.H,a.Te[b].border=!1;a.Vr?a.Te[a.Vr].color=a.H:a.Te[D.Cb+" "+D.qc].color=a.H;a.Te[D.Cb+" "+D.qc].border=!0}
l.je=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowColor=this.H;a.fillStyle=this.H;a.fillText("CONTROLS",this.x,this.y-this.m/2+50);a.font="18px Muli";a.fillText("SELECT SCHEME",this.x,this.y-this.m/2+75);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);b=this.Vr;null==b&&("right"==D.Cb&&"mouse"==D.qc&&(b="right mouse"),"left"==D.Cb&&"mouse"==D.qc&&(b="left mouse"),"right"==D.Cb&&"keyboard"==D.qc&&(b="right keyboard"));a.globalAlpha*=.6;"right mouse"==
b&&(Sa(a,this.x-200,this.y-this.m/2+300,50,this.H,["W","A","S","D"]),a.fillText("MOVE",this.x-200,this.y-this.m/2+360),this.Rf?(Wa(a,this.x,this.y-this.m/2+270,75,100,this.H),a.fillText("IMPULSE",this.x,this.y-this.m/2+360),Xa(a,this.x+200,this.y-this.m/2+270,75,100,this.H),a.fillText("ULTIMATE",this.x+200,this.y-this.m/2+360)):(Wa(a,this.x+200,this.y-this.m/2+270,75,100,this.H),a.fillText("IMPULSE",this.x+200,this.y-this.m/2+360)),Ta(a,this.x,this.y-this.m/2+430,300,40,10,this.H),a.fillText("SPACEBAR",
this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"left mouse"==b&&(this.Rf?(Wa(a,this.x-200,this.y-this.m/2+270,75,100,this.H),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),Xa(a,this.x,this.y-this.m/2+270,75,100,this.H),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)):(Wa(a,this.x-200,this.y-this.m/2+270,75,100,this.H),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360)),Sa(a,this.x+200,this.y-this.m/2+300,50,this.H),a.fillText("MOVE",this.x+
200,this.y-this.m/2+360),Ta(a,this.x,this.y-this.m/2+430,120,40,10,this.H),a.fillText("SHIFT",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"right keyboard"==b&&(Sa(a,this.x-200,this.y-this.m/2+300,50,this.H,["W","A","S","D"]),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),this.Rf&&(Ta(a,this.x,this.y-this.m/2+280,45,45,10,this.H),a.font="18px Muli",a.fillText("F",this.x,this.y-this.m/2+286),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)),
Sa(a,this.x+200,this.y-this.m/2+300,50,this.H),a.fillText("MOVE",this.x+200,this.y-this.m/2+360),Ta(a,this.x,this.y-this.m/2+430,300,40,10,this.H),a.fillText("SPACEBAR",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));a.restore()};l.te=function(){};dh.prototype=new Qh;l=dh.prototype;l.constructor=dh;
function dh(a,b){this.ha(800,600);this.Nn=!1;b instanceof Qh?(this.wb=b.wb,this.qf=b.qf,this.color=b.color,this.Yc=b.Yc,this.H=b.H,this.n=this.wb.n):b instanceof Ig&&(this.qf="black",this.Yc=z["world "+b.n+" lite"],this.H=z["world "+b.n+" bright"],this.color=z["world "+b.n],this.n=b.n);var c="white";if(0==this.n||void 0==this.n)c=z.impulse_blue;this.dc=b;this.Ig=this.Gj=a;H[this.Gj].Ig&&(this.Ig=H[this.Gj].Ig);this.yg=this.Hg=null;this.bg=H[this.Gj].bg;this.u=600;this.yi=new Y("BACK",16,this.x,this.y-
this.m/2+560,60,65,this.H,c,function(a){return function(){Lg(a.N,"fade_out",function(){a.dc instanceof Qh?(Qe=a.dc,Lg(a.dc.N,"fade_in")):a.dc instanceof Ig&&(Qe=null,Lg(a.dc.N,"fade_in"))})}}(this),"back");this.buttons.push(this.yi);this.color=z["world "+this.n];this.Rw=500;this.De=H[this.Gj].De;this.Em=null;this.Qd=this.De.length;this.da=0;Lg(this.N,"fade_in")}
l.je=function(a){a.save();if(null==this.Em){var b;b=this.Rw;var c=this.De[this.da].toUpperCase().split(" "),d=[],f=c[0],g=0;if(1==c.length)b=c;else{a.font="20px Muli";for(var h=1;h<c.length;h++){var k=c[h],g=a.measureText(f+k).width;g<b&&"#"!=k?f+=" "+k:(d.push(f),f="#"!=k?k:"");if(h===c.length-1){d.push(f);break}}b=d}this.Em=b}a.beginPath();a.textAlign="center";a.fillStyle=this.H;a.font="16px Muli";a.fillText("ENEMY INFO",this.x,this.y-this.m/2+70);a.font="30px Muli";a.fillText(this.Ig.toUpperCase(),
this.x,this.y-this.m/2+120);a.globalAlpha/=3;Ma(a,this.n,this.x,this.y-this.m/2+215,80);a.globalAlpha*=3;Ka(a,this.Gj,this.x,this.y-this.m/2+215,1.5);a.font="12px Muli";a.fillText("BASE POINTS",this.x,this.y-this.m/2+310);a.font="24px Muli";a.fillText(H[this.Gj].Oc,this.x,this.y-this.m/2+335);a.font="20px Muli";for(b=0;b<this.Em.length;b++)c=b-(this.Em.length-1)/2,a.fillText(this.Em[b],this.x,this.y-this.m/2+427+25*c);if(1<this.Qd)for(Ua(a,this.x-300,this.y-this.m/2+420,20,"left",this.H,!1),a.font=
"10px Muli",a.fillStyle=this.H,a.fillText("NEXT",this.x+302,this.y-this.m/2+450),a.fillText("PREV",this.x-302,this.y-this.m/2+450),Ua(a,this.x+300,this.y-this.m/2+420,20,"right",this.H,!1),b=0;b<this.Qd;b++)c=(this.Qd-1)/2-b,a.beginPath(),a.shadowBlur=5,a.arc(this.x-25*c,this.y-this.m/2+515,4,0,2*Math.PI,!0),this.da==b?(a.fillStyle=this.H,a.shadowColor=a.fillStyle,a.fill()):(a.save(),a.globalAlpha*=.5,a.fillStyle=this.color,a.shadowColor=a.fillStyle,a.fill(),a.restore());for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);
a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b);a<this.x-this.Rw/2?Wh(this,this.da-1):a>this.x+this.Rw/2&&Wh(this,this.da+1);500<b&&530>b&&(c=Math.round((this.Qd-1)/2-(this.x-a)/25),0<=c&&c<this.Qd&&Wh(this,c))};function Wh(a,b){a.da=b;0>a.da&&(a.da+=a.Qd);a.da>=a.Qd&&(a.da-=a.Qd);a.Em=null}l.te=function(){};Sh.prototype=new Qh;Sh.prototype.constructor=Sh;
function Sh(a){this.ha(800,600);this.dc=a;this.Nn=!1;this.Yc=a.Yc;this.H=a.H;this.My=!1;this.buttons=[];this.Lm=new Y("DELETE GAME DATA",20,this.x,this.y+90,200,100,"white","red",function(a){return function(){rh();a.My=!0}}(this),"delete");this.buttons.push(this.Lm);this.yi=new Y("BACK",16,this.x,this.y-this.m/2+560,60,65,"white","white",function(a){return function(){Lg(a.N,"fade_out",function(){Qe=a.dc;a.dc.Nf();Lg(a.dc.N,"fade_in")})}}(this),"back");this.buttons.push(this.yi);Lg(this.N,"fade_in")}
Sh.prototype.je=function(a){if(this.My)a.fillStyle="red",a.textAlign="center",a.font="24px Muli",a.fillText("ALL GAME DATA HAS BEEN DELETED",this.x,210),this.yi.V(a);else{a.fillStyle="red";a.textAlign="center";a.font="24px Muli";a.fillText("ARE YOU SURE",this.x,200);a.font="24px Muli";a.fillText(" YOU WANT TO DELETE ALL YOUR GAME DATA?",this.x,230);a.font="16px Muli";a.fillText("THIS ACTION CANNOT BE UNDONE.",this.x,290);for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a)}};
Sh.prototype.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};Sh.prototype.Ma=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ma(a,b)};function rh(){localStorage.removeItem(Re);var a=D,b=Xe;Wf();D=a;Xe=b;Te=!1;jc()};new Nh;function Fg(a,b,c,d){this.ha(a,b,c,d)}
Fg.prototype.ha=function(a,b,c,d){this.gF=d?!0:!1;this.Ve=[];if("spark"==a||"multi"==a)c={x:0,y:0};this.ij=1;d=Math.min(1,10/Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y+.01)));c={x:c.x*d,y:c.y*d};this.Mv=1E3;this.color="black";"boss"==a.slice(a.length-4,a.length)?(this.shape=H[a].sp[0],this.color=H[a].color,this.hh=.5,this.wn=50,this.Lk=10,"boss_two"==a&&(this.Lk=20),this.ij=5,this.Mv=5E3):"player"==a?(this.shape={type:"circle",x:0,y:0,X:qc.prototype.oh},this.color=z.player_color,this.hh=.5,this.wn=12,this.ij=
this.Lk=2):"harpoon"==a||"harpoonhead"==a?(this.shape=H[a].bc[0],this.color=H[a].color,this.hh=.3,this.wn=4,this.Lk=2):"spark"==a||"multi"==a?(this.wn=6,this.Lk=20,this.hh=1,this.shape=a):"dark_one"==a?(this.wn=50,this.Lk=10,this.hh=1,this.shape="dark_one_shadow",this.ij=5):(this.shape=H[a].bc[0],this.color=H[a].color,"tanker"==a&&(this.color="red"),this.hh=.3,this.wn=4,this.Lk=2);this.Bs=this.Mv;this.Qr=this.Lk*Math.max(3,Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y)));this.vB=.5;this.ze={x:b.x,y:b.y};this.Cj=
{x:this.hh*c.x,y:this.hh*c.y};for(d=0;d<this.ij;d++){for(var f=this.wn/this.ij,g=0;g<f;g++)dir=2*Math.PI*g/f+2*(Math.random()-.5)*Math.PI/f,new_v={x:this.hh*c.x+Math.cos(dir)*(d+1)/this.ij*this.Qr,y:this.hh*c.y+Math.sin(dir)*(d+1)/this.ij*this.Qr},this.Ve.push(new Xh(this.shape,G/3,{x:b.x*G,y:b.y*G},{x:new_v.x*G,y:new_v.y*G},this.color));if("boss"==a.slice(a.length-4,a.length))for(g=0;g<f;g++)dir=2*Math.PI*g/f+2*(Math.random()-.5)*Math.PI/f,new_v={x:this.hh*c.x+Math.cos(dir)*(d+1)/this.ij*this.Qr,
y:this.hh*c.y+Math.sin(dir)*(d+1)/this.ij*this.Qr},this.Ve.push(new Xh("shadow",G/3,{x:b.x*G,y:b.y*G},{x:new_v.x*G,y:new_v.y*G},this.color))}};Fg.prototype.na=function(a){this.Bs-=a;this.ze.x+=this.Cj.x*a/1E3;this.ze.y+=this.Cj.y*a/1E3;this.Cj.x-=this.vB*this.Cj.x*a/1E3;this.Cj.y-=this.vB*this.Cj.y*a/1E3;for(var b=0;b<this.Ve.length;b++)this.Ve[b].na(a)};
Fg.prototype.V=function(a){this.gF&&(a.shadowColor=this.color,a.shadowBlur=15);for(var b=0;b<this.Ve.length;b++)this.Ve[b].V(a,this.Bs/this.Mv);a.shadowBlur=0};function Xh(a,b,c,d,f){this.ha(a,b,c,d,f)}Xh.prototype.ha=function(a,b,c,d,f){this.cc=c;this.shape=a;this.size=b;this.xh=d;this.color=f;this.wB=500};Xh.prototype.na=function(a){this.cc.x+=this.xh.x*a/1E3;this.cc.y+=this.xh.y*a/1E3;this.xh.x*=Math.pow(.5,a/this.wB);this.xh.y*=Math.pow(.5,a/this.wB)};
Xh.prototype.V=function(a,b){if("spark"==this.shape||"multi"==this.shape){a.save();a.globalAlpha*=b;var c=S({x:0,y:0},this.xh);"spark"==this.shape?J(a,this.cc.x/G,this.cc.y/G,c,12,12,"spark"):"multi"==this.shape&&J(a,this.cc.x/G,this.cc.y/G,c,12,12,"multi")}else"shadow"==this.shape?(a.save(),a.globalAlpha*=b,J(a,this.cc.x,this.cc.y,0,150*b,150*b,"dark_aura")):"dark_one_shadow"==this.shape?(a.save(),a.globalAlpha*=b,J(a,this.cc.x,this.cc.y,0,75*b,75*b,"dark_aura")):(a.save(),c=S({x:0,y:0},this.xh),
Ha(a,this.cc.x,this.cc.y,this.shape,this.size,this.color,b,c));a.restore()};Y.prototype=new Nh;Y.prototype.constructor=Y;function Y(a,b,c,d,f,g,h,k,n,q){this.text=a;this.size=b;this.ha(c,d,f,g,n,!1,h);this.$a=k;this.Ll=!1;this.icon=q;this.dd=!0;this.qf=null;this.Xw=!0;"world"==this.icon.slice(0,5)&&(this.Xw=!1)}
Y.prototype.je=function(a){a.save();if(this.icon){a.save();a.shadowBlur=0;if("player"==this.icon)this.va?J(a,this.x,this.y-this.m/8,0,40,40,"player_normal"):J(a,this.x,this.y-this.m/8,0,40,40,"player_white");else if("gear"==this.icon)this.va?Za(a,this.x,this.y-this.m/8,z.impulse_blue,"#080808",!1):Za(a,this.x,this.y-this.m/8,"white","#080808",!1);else if("credit"==this.icon)this.va?$a(a,this.x,this.y-this.m/8,z.impulse_blue):$a(a,this.x,this.y-this.m/8,"white");else if("tutorial"==this.icon)this.va?
ab(a,this.x,this.y-this.m/8,z.impulse_blue):ab(a,this.x,this.y-this.m/8,"white");else if("note"==this.icon)this.va?lb(a,this.x,this.y-this.m/6,z.impulse_blue):lb(a,this.x,this.y-this.m/6,"white");else if("texture"==this.icon)this.va?jb(a,this.x,this.y-this.m/4,z.impulse_blue):jb(a,this.x,this.y-this.m/4,"white");else if("physics_engine"==this.icon)this.va?kb(a,this.x,this.y-this.m/6,z.impulse_blue):kb(a,this.x,this.y-this.m/6,"white");else if("audio"==this.icon)this.va?mb(a,this.x,this.y-this.m/6,
20,z.impulse_blue,!1):mb(a,this.x,this.y-this.m/6,20,"white",!1);else if("back"==this.icon)this.va?cb(a,this.x,this.y-this.m/8,this.$a):cb(a,this.x,this.y-this.m/8,this.color);else if("start"==this.icon)this.va?db(a,this.x,this.y-this.m/8,20,this.$a):db(a,this.x,this.y-this.m/8,20,this.color);else if("resume"==this.icon)this.va?db(a,this.x,this.y-this.m/8,30,this.$a):db(a,this.x,this.y-this.m/8,30,this.color);else if("retry"==this.icon)this.va?bb(a,this.x,this.y-this.m/8,this.$a):bb(a,this.x,this.y-
this.m/8,this.color);else if("options"==this.icon)this.va?Za(a,this.x,this.y-this.m/8,this.$a,this.qf):Za(a,this.x,this.y-this.m/8,this.color,this.qf);else if("fb"==this.icon)this.va?Ya(a,this.x,this.y-this.m/8,this.$a):Ya(a,this.x,this.y-this.m/8,this.color);else if("save"==this.icon)this.va?fb(a,this.x,this.y-this.m/8,this.$a):fb(a,this.x,this.y-this.m/8,this.color);else if("quest"==this.icon)this.va?gb(a,this.x,this.y-this.m/8,this.$a):gb(a,this.x,this.y-this.m/8,this.color);else if("quit"==this.icon)this.va?
ib(a,this.x,this.y-this.m/6,24,this.$a):ib(a,this.x,this.y-this.m/6,24,this.color);else if("delete"==this.icon)this.va?hb(a,this.x,this.y-this.m/8,36,this.$a):hb(a,this.x,this.y-this.m/8,36,this.color);else if("delete_small"==this.icon)this.va?hb(a,this.x,this.y-this.m/5,30,this.$a):hb(a,this.x,this.y-this.m/5,30,this.color);else if("close_dialog"==this.icon)this.va?ib(a,this.x,this.y-this.m/6,36,this.$a):ib(a,this.x,this.y-this.m/6,36,this.color);else if("mute_in_game"==this.icon)mb(a,this.x,this.y,
15,this.va?this.$a:this.color,D.hw);else if("pause_in_game"==this.icon){var b=this.x,c=this.y,d=this.va?this.$a:this.color;a.save();a.clearRect(b-15,c-15,45,45);a.beginPath();a.rect(b-5.625,c-7.5,3.75,15);a.rect(b+1.875,c-7.5,3.75,15);a.fillStyle=d;a.fill();a.font="10px Muli";a.textAlign="center";"left"==D.Cb?a.fillText("ENTER",b+15,c+15):a.fillText("Q",b+15,c+15);a.restore()}else"fullscreen_in_game"==this.icon?(b=this.x,c=this.y,d=this.va?this.$a:this.color,a.save(),a.beginPath(),a.globalAlpha/=
2,a.rect(b-11.25,c-11.25,22.5,22.5),a.strokeStyle=d,a.fillStyle=d,a.lineWidth=2,a.stroke(),a.globalAlpha*=2,a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b-0,c-7.5),a.lineTo(b-7.5,c-0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b+7.5,c+7.5),a.lineTo(b+0,c+7.5),a.lineTo(b+7.5,c+0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b+7.5,c+7.5),a.stroke(),a.restore()):"easy_mode"==this.icon?Ea(a,"goo",this.x,this.y-this.m/8,30,Math.PI/2,this.va?"ulted":"white",this.va?z.impulse_blue:
"white"):"normal_mode"==this.icon?J(a,this.x,this.y-this.m/8,0,40,40,this.va?"blue_flower":"white_flower"):"left_mouse"==this.icon?(Va(a,this.x-.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.va?this.$a:this.color),Sa(a,this.x+.17*this.u,this.y,.2*this.m,this.va?this.$a:this.color)):"keyboard"==this.icon?(Sa(a,this.x-.23*this.u,this.y,.2*this.m,this.va?this.$a:this.color),Sa(a,this.x+.23*this.u,this.y,.2*this.m,this.va?this.$a:this.color)):"right_mouse"==this.icon?(Sa(a,this.x-.17*this.u,
this.y,.2*this.m,this.va?this.$a:this.color),Va(a,this.x+.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.va?this.$a:this.color)):"help_icon"==this.icon?(a.beginPath(),a.arc(this.x,this.y,this.u/2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI,!1),a.strokeStyle=this.va?this.$a:this.color,a.lineWidth=2,a.fillStyle="black",a.stroke(),a.fill(),a.beginPath(),a.arc(this.x,this.y-this.u/8,this.u/8,-Math.PI,0,!1),a.lineTo(this.x,this.y+this.u/8),a.stroke(),a.beginPath(),a.arc(this.x,this.y+this.u/2-4,1,0,2*
Math.PI),a.fillStyle=this.va?this.$a:this.color,a.fill()):"controls"==this.icon?(a.shadowBlur=0,"right"==D.Cb&&"mouse"==D.qc&&(Sa(a,this.x-.15*this.u,this.y,.2*this.m,this.va?this.$a:this.color),Va(a,this.x+.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.va?this.$a:this.color)),"left"==D.Cb&&"mouse"==D.qc&&(Va(a,this.x-.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.va?this.$a:this.color),Sa(a,this.x+.15*this.u,this.y,.2*this.m,this.va?this.$a:this.color)),"right"==D.Cb&&"keyboard"==D.qc&&
(Sa(a,this.x-.2*this.u,this.y,.2*this.m,this.va?this.$a:this.color),Sa(a,this.x+.2*this.u,this.y,.2*this.m,this.va?this.$a:this.color))):"world"==this.icon.slice(0,5)?(b=parseInt(this.icon.slice(5)),a.save(),a.globalAlpha=this.va&&this.dd?.5*a.globalAlpha:this.dd?.3*a.globalAlpha:.15*a.globalAlpha,this.dd?Ma(a,b,this.x,this.y,2*this.size,this.va):Qa(a,b,this.x,this.y,2*this.size),a.restore(),a.save(),this.dd||(a.globalAlpha*=.3),a.textAlign="center",a.font="32px Muli",a.fillStyle=this.dd?this.color:
"gray",a.fillText(this.text,this.x,this.y+10),a.restore()):"practice"==this.icon.slice(0,8)&&(b=parseInt(this.icon.slice(8)),this.dd?(a.globalAlpha=this.va?3==b?.6*a.globalAlpha:.7*a.globalAlpha:.3*a.globalAlpha,Ma(a,b,this.x,this.y,1.4*this.size)):(a.globalAlpha*=.3,Qa(a,b,this.x,this.y,1.4*this.size)));a.restore()}a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";this.va&&this.Xw&&(a.beginPath(),b=a.measureText(this.text).width,a.moveTo(this.x-b/2,this.y+.4*this.m),a.lineTo(this.x+b/
2,this.y+.4*this.m),a.strokeStyle=this.$a?this.$a:this.color,a.lineWidth=2,a.stroke());this.dd||"practice"!=this.icon.slice(0,8)||(a.globalAlpha*=.4);a.fillStyle=this.va?this.$a:this.color;this.Ll?(a.shadowBlur=5,a.shadowColor=a.fillStyle):a.shadowBlur=0;"practice"==this.icon.slice(0,8)?a.fillText(this.text,this.x-1,this.y+this.m/6):"world"!=this.icon.slice(0,5)&&a.fillText(this.text,this.x,this.y+this.m/3);this.uf&&(a.font=this.cD?this.cD:.7*this.size+"px Muli",a.fillText(this.uf,this.x,this.y+this.m/
3+1*this.size));a.fill();a.restore()};new Nh;function fg(a,b,c,d){b&&this.ha(a,b,c,d)}
fg.prototype.ha=function(a,b,c){this.type=a;this.color=b;this.y=this.x=0;this.oA=this.visible=!1;this.it=!0;"rank_explanation"==this.type?(this.u=360,this.m=105):"rank_explanation_normal"==this.type?(this.u=360,this.m=140):"fullscreen_msg"==this.type?(this.u=230,this.m=40):"mute_msg"==this.type?(this.u=130,this.m=40):"final_boss"==this.type?(this.u=220,this.m=50):"blitz_hive"==this.type.substring(0,10)?(this.u=250,this.m=75):"beat_hive"==this.type.substring(0,9)?(this.u=150,this.m=50):"high_roller"==
this.type?(this.u=250,this.m=75):"untouchable"==this.type?(this.u=200,this.m=75):"combo"==this.type||"pacifist"==this.type||"survivor"==this.type?(this.u=250,this.m=75):"fast_time"==this.type?(this.u=220,this.m=150):"0star"==this.type?(this.u=250,this.m=75):"beat_hard"==this.type?(this.u=180,this.m=75):"option_game_music"==this.type?(this.u=300,this.m=40):"option_sound_effects"==this.type?(this.u=250,this.m=40):"option_fullscreen"==this.type?(this.u=150,this.m=40):"option_particle_effects"==this.type?
(this.u=250,this.m=40):"option_score_labels"==this.type?(this.u=350,this.m=40):"option_multiplier_display"==this.type?(this.u=300,this.m=40):"option_impulse_shadow"==this.type?(this.u=350,this.m=40):"option_speed_run"==this.type?(this.u=500,this.m=40):"tutorial_move"==this.type?(this.u=200,this.m=150):"tutorial_impulse"==this.type?(this.u=180,this.m=150):"tutorial_pause"==this.type?(this.u=220,this.m=40):"tutorial_gateway_move"==this.type?(this.u=220,this.m=80):"tutorial_score_points"==this.type?
(this.u=450,this.m=40):"tutorial_enemy_incr"==this.type?(this.u=420,this.m=40):"tutorial_enemy_touch"==this.type?(this.u=350,this.m=40):"tutorial_enter_gateway"==this.type?(this.u=200,this.m=120):"tutorial_void"==this.type?(this.u=350,this.m=40):"tutorial_kill_enemy"==this.type?(this.u=300,this.m=40):"tutorial_incr_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_reset_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_one_up"==this.type?(this.u=250,this.m=40):"tutorial_kill_boss"==this.type?
(this.u=300,this.m=40):"lives_and_sparks"==this.type?(this.u=150,this.m=110,this.Rf=1<=nc(),this.bh=mc(),this.sk=nc(),this.li=oc()):"god_mode_alert"==this.type?(this.u=250,this.m=40,this.message="ALL LEVELS UNLOCKED",this.oA=!0):"saved_alert"==this.type?(this.u=250,this.m=75,this.it=!1):"level_preview_"==this.type.substring(0,14)?(this.u=200,this.m=150):"quest_"==this.type.substring(0,6)?(this.u=420,this.m=90,this.it=!1):"enemy_"==this.type.substring(0,6)&&(this.u=420,this.m=90,this.it=!1);this.opacity=
0;this.n=c};
fg.prototype.V=function(a){if(this.visible){a.save();this.it&&(a.beginPath(),a.strokeStyle=this.color,a.fillStyle="tutorial"==this.type.substring(0,8)?"#111":"black",a.shadowBlur=0,a.lineWidth=2,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.stroke());"option_game_music"==this.type&&(this.dk="BACKGROUND MUSIC VOLUME");"option_sound_effects"==this.type&&(this.dk="SOUND EFFECTS VOLUME");"option_fullscreen"==this.type&&(this.dk="GO FULLSCREEN");"option_particle_effects"==this.type&&
(this.dk="SHOW PARTICLE EFFECTS");"option_score_labels"==this.type&&(this.dk="SHOW SCORE VALUE WHEN ENEMIES DIE");"option_multiplier_display"==this.type&&(this.dk="SHOW MULTIPLIER BELOW PLAYER");"option_impulse_shadow"==this.type&&(this.dk="SHOW AIMING SHADOW FOR IMPULSE");"option_speed_run"==this.type&&(this.dk="SHOW COUNTDOWN FOR BEATING SPEED RUN CHALLENGE");"tutorial_move"==this.type&&("right"==D.Cb&&"mouse"==D.qc&&Sa(a,this.x,this.y,40,"white",["W","A","S","D"]),"right"==D.Cb&&"keyboard"==D.qc&&
Sa(a,this.x,this.y,40,"white"),"left"==D.Cb&&"mouse"==D.qc&&Sa(a,this.x,this.y,40,"white"),this.df="MOVE");"tutorial_impulse"==this.type&&("mouse"==D.qc?Wa(a,this.x,this.y-20,56,82,"white"):Sa(a,this.x,this.y,40,"white",["W","A","S","D"]),this.df="IMPULSE");"tutorial_pause"==this.type&&("right"==D.Cb?this.df="ESC TO PAUSE":"left"==D.Cb&&(this.df="ENTER TO PAUSE"));"tutorial_score_points"==this.type&&(this.df="GET THE GOAL SCORE TO OPEN THE GATEWAY");"tutorial_incr_multiplier"==this.type&&(this.df=
"KILLING ENEMIES INCREASES YOUR MULTIPLIER");"tutorial_reset_multiplier"==this.type&&(this.df="TOUCHING ENEMIES RESETS YOUR MULTIPLIER");"tutorial_enemy_incr"==this.type&&(this.df="ENEMIES SPAWN FASTER OVER TIME");"tutorial_enemy_touch"==this.type&&(this.df="TOUCHING THIS ENEMY WILL STUN YOU");"tutorial_one_up"==this.type&&(this.df="100 SPARKS = 1UP");"tutorial_kill_boss"==this.type&&(this.df="PUSH THE BOSS INTO THE VOID");"tutorial_void"==this.type&&(this.df="TOUCHING THE VOID WILL KILL YOU");"tutorial_kill_enemy"==
this.type&&(this.df="IMPULSE THE ENEMY INTO THE VOID");"tutorial_enter_gateway"==this.type&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,"right"==D.Cb&&(Ta(a,this.x,this.y-10,160,34,7,"white"),a.fillText("SPACEBAR",this.x,this.y-4)),"left"==D.Cb&&(Ta(a,this.x,this.y-10,80,34,7,"white"),a.fillText("SHIFT",this.x,this.y-4)),this.df="ENTER GATEWAY");if("tutorial_gateway_move"==this.type){a.textAlign="center";a.font="16px Muli";a.fillStyle=this.color;a.fillText("MOVE TO THE GATEWAY",
this.x,this.y-this.m/2+25);var b=this.x,c=this.y+12;a.save();a.translate(b,c);a.scale(1,1);a.beginPath();a.moveTo(-8,-12);a.lineTo(8,-12);a.lineTo(8,-2);a.lineTo(16,-2);a.lineTo(0,13);a.lineTo(-16,-2);a.lineTo(-8,-2);a.closePath();a.fillStyle="white";a.fill();a.restore()}if("fullscreen_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("TOGGLE FULLSCREEN (F)",this.x,this.y-this.m/2+25);else if("mute_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=
this.color,a.fillText("MUTE (M)",this.x,this.y-this.m/2+25);else if("tutorial"==this.type.substring(0,8))this.df&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.df,this.x,this.y+this.m/2-15));else if("rank_explanation_normal"==this.type){var b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7;Fb(a,this.x-this.u/2+h,b-k+d,this.n,"half");Fb(a,this.x-this.u/2+h,b-k+d+c,this.n,"basic");Fb(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"silver");Fb(a,this.x-this.u/2+h,b-
k+d+3*c,this.n,"gold");a.textAlign="right";a.font="16px Muli";a.fillStyle="white";a.fillText("ONE OR MORE CONTINUES",f-g,b+d);a.fillText("NO CONTINUES USED",f-g,b+d+c);a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+2*c);a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+3*c)}else if("rank_explanation"==this.type)b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7,Fb(a,this.x-this.u/2+h,b-k+d,this.n,"basic"),Fb(a,this.x-this.u/2+h,b-k+d+1*c,this.n,"silver"),Fb(a,this.x-this.u/2+h,b-k+d+2*c,this.n,
"gold"),a.textAlign="right",a.font="16px Muli",a.fillStyle="white",a.fillText("DEFEAT HIVE",f-g,b+d),a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+1*c),a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+2*c);else if("option"==this.type.substring(0,6))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.dk,this.x,this.y-this.m/2+25);else if("lives_and_sparks"==this.type){a.textAlign="center";a.font="12px Muli";a.fillStyle="white";a.fillText("STARTING VALUES",this.x,this.y-
this.m/2+20);b=this.bh;c=this.li;d=this.sk;f=this.x;g=this.y+5;h={labels:!0,CF:!0,tt:this.Rf,Gq:!0,bh:!0};k=[];h.bh&&k.push("lives");h.Gq&&k.push("sparks");h.tt&&k.push("ult");a.save();for(var n=0;n<k.length;n++){var q=k[n],p=f-(k.length-1)/2*36+36*n;a.font="20px Muli";a.fillStyle="ult"==q?"white":z.impulse_blue;a.shadowBlur=0;a.textAlign="center";h.Ll&&(a.shadowBlur=10,a.shadowColor=a.fillStyle);"lives"==q&&(J(a,p,g,0,26,26,"lives_icon"),a.fillText(b,p,g+32));"sparks"==q&&(J(a,p+1,g+1,0,16,16,"spark"),
a.fillText(c,p,g+32));"ult"==q&&(J(a,p,g,0,24,24,"white_flower"),a.fillText(d,p,g+32));a.font=Math.max(8,20/3)+"px Muli";"lives"==q&&a.fillText("LIVES",p,g-16);"sparks"==q&&(h.CF?(a.fillText("SPARK",p,g-26),a.fillText("VALUE",p,g-16)):a.fillText("SPARKS",p,g-16));"ult"==q&&a.fillText("ULT",p,g-16)}a.restore()}else if(this.oA)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.message,this.x,this.y-this.m/2+25);else if("saved_alert"==this.type)a.globalAlpha*=.5,a.textAlign=
"center",a.font="16px Muli",a.fillStyle=this.color,a.save(),a.globalAlpha*=.5,fb(a,this.x,this.y-this.m/2+10,this.color),a.restore(),a.fillText("GAME SAVED",this.x,this.y+this.m/2-33);else if("level_preview_"==this.type.substring(0,14))sb(a,this.type.substring(14),this.x,this.y,z["world "+this.n+" lite"]),a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=6,a.strokeStyle=z["world "+this.n+" lite"],a.stroke();else if("quest_"==this.type.substring(0,6)){a.beginPath();a.fillStyle=
"black";a.shadowBlur=0;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.fill();a.beginPath();b=this.x-this.u/2+75;a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(this.x+this.u/2,this.y+this.m/2);a.lineTo(b,this.y+this.m/2);a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(b,this.y-this.m/2);a.strokeStyle="white";a.lineWidth=2;a.stroke();b=50;c=this.type.substring(6);a.textAlign="center";a.font="16px Muli";a.fillStyle="white";a.fillText("NEW ACHIEVEMENT",this.x+b,this.y-this.m/2+30);a.font=
"12px Muli";d="";if(Hb[c])for(f=0;f<Hb[c].text.length;f++)d+=Hb[c].text[f]+" ";a.fillText(d,this.x+b,this.y+this.m/2-20);draw_quest_button(a,this.x-this.u/2+40,this.y,60,c)}else if("enemy_"==this.type.substring(0,6))a.beginPath(),a.fillStyle="black",a.shadowBlur=0,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.beginPath(),b=this.x-this.u/2+75,a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.lineTo(b,this.y+this.m/2),a.moveTo(this.x+this.u/2,this.y-
this.m/2),a.lineTo(b,this.y-this.m/2),a.strokeStyle="white",a.lineWidth=2,a.stroke(),b=50,d=c=this.type.substring(6),H[c].Ig&&(d=H[c].Ig),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW ENEMY",this.x+b,this.y-this.m/2+20),a.fillStyle=H[c].color,a.font="24px Muli",a.fillText(d.toUpperCase(),this.x+b,this.y-this.m/2+45),a.fillStyle="white",a.font="16px Muli",a.fillText(H[c].cg.toUpperCase(),this.x+b,this.y+this.m/2-15),draw_enemy_button(a,this.x-this.u/2+40,this.y,60,c);
else for(a.textAlign="center",a.font="16px Muli",a.fillStyle="white",f=0;f<Hb[this.type].text.length;f++)a.fillText(Hb[this.type].text[f],this.x,this.y-this.m/2+30+24*f);a.restore()}};function gg(a,b,c){a.x=b;a.y=c+a.m/2;"option"==a.type.substring(0,6)&&(a.y+=20);"tutorial"==a.type.substring(0,8)&&(a.x=b,a.y=c-a.m/2-50)};lh.prototype=new Nh;lh.prototype.constructor=lh;
function lh(a,b,c,d){this.type=a;this.x=b;this.y=c;this.X=d;this.u=2*d;this.m=2*d;this.rq=document.createElement("canvas");this.rq.width=this.u;this.rq.height=this.m;b=this.rq.getContext("2d");draw_quest_button(b,this.X,this.X,this.X,this.type);b=this.rq;b=b.getContext("2d").getImageData(0,0,b.width,b.height);for(c=0;c<b.height;c++)for(d=0;d<b.width;d++){var f=4*c*b.width+4*d,g=(b.data[f]+b.data[f+1]+b.data[f+2])/3;b.data[f]=g;b.data[f+1]=g;b.data[f+2]=g;b.data[f+3]=b.data[f+3]?255:0}c=document.createElement("canvas");
c.width=b.width;c.height=b.height;c.getContext("2d").putImageData(b,0,0,0,0,b.width,b.height);this.mD=c;this.EA=-1!=Ye.indexOf(a);this.Ib=new fg(this.type,"white",0,this.EA)}
lh.prototype.V=function(a){this.EA?a.drawImage(this.rq,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m):(a.save(),a.globalAlpha*=.4,a.drawImage(this.mD,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m),a.restore());this.bi&&(a.save(),a.globalAlpha*=.2,a.beginPath(),a.arc(this.x,this.y,this.X,0,2*Math.PI,!1),a.fillStyle="#fff",a.fill(),a.beginPath(),a.restore())};lh.prototype.na=function(){};th.prototype=new Nh;th.prototype.constructor=th;function th(a,b,c,d,f,g,h,k){this.size=a;this.ha(b,c,d,f,this.qE,!1,g);this.$a=h;this.Ll=!1;this.dd=!0;this.qf=null;this.Sg=new Ph(this.x,this.y-this.m/8,20,20,this.color);this.UF=k;this.Sg.checked="normal"==L}th.prototype.qE=function(){L="easy"==L?"normal":"easy";jc();yh(this.UF);this.Sg.checked="normal"==L};
th.prototype.je=function(a){this.Sg.V(a);a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText("HARD MODE",this.x,this.y+this.m/3)};function Yh(a,b,c,d,f){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.dd=!0;this.value=0;this.qk=20}l=Yh.prototype;l.V=function(a){a.beginPath();a.strokeStyle=this.color;a.fillStyle=this.color;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.lineWidth=1;a.save();a.globalAlpha*=.75;a.fill();a.restore();a.stroke();a.beginPath();a.rect(this.x-this.u/2+this.u*this.value-this.qk/2,this.y-this.qk/2,this.qk,this.qk);a.fill()};
l.xg=function(a,b){a>this.x-this.u/2-this.qk/2&&a<this.x+this.u/2+this.qk/2&&b>this.y-this.m/2-this.qk/2&&b<this.y+this.m/2+this.qk/2&&(Zh(this,(a-(this.x-this.u/2))/this.u),this.Ry=!0)};function Zh(a,b){a.value=b;0>a.value&&(a.value=0);1<a.value&&(a.value=1)}l.gh=function(){this.onselect(this.value);this.Ry=!1};l.onselect=function(){};l.Fa=function(a){this.Ry&&Zh(this,(a-(this.x-this.u/2))/this.u)};
function Ph(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.dd=!0;this.checked=h?h:!1;this.JF=g}Ph.prototype.V=function(a){a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);this.checked&&(a.moveTo(this.x-this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.moveTo(this.x-this.u/2,this.y+this.m/2),a.lineTo(this.x+this.u/2,this.y-this.m/2));a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
Ph.prototype.Ma=function(a,b){a>this.x-this.u/2&&a<this.x+this.u/2&&b>this.y-this.m/2&&b<this.y+this.m/2&&(this.checked=!this.checked,this.JF(this.checked))};Uh.prototype=new Nh;l=Uh.prototype;l.constructor=Uh;function Uh(a,b,c,d,f,g,h,k,n){this.text=a;this.ha(b,c,d+90,f,function(){},!1,g);this.TA=this.x+this.u/2-65;this.Mn=new Yh(this.TA,this.y,100,5,this.color);this.Mn.value=n;this.Mn.onselect=k;this.ts=h;this.Vc=!1;this.BF="MUTED (M)"}
l.je=function(a){a.save();this.bi||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.bi?this.ts:this.color;a.fillText(this.text,this.x-this.u/2+55,this.y+7);this.Vc?(a.textAlign="center",a.fillText(this.BF,this.TA,this.y+7)):this.Mn.V(a);a.restore()};l.xg=function(a,b){this.Vc||this.Mn.xg(a,b)};l.gh=function(a,b){this.Vc||this.Mn.gh(a,b)};l.rE=Nh.prototype.Fa;l.Fa=function(a,b){this.rE(a,b);this.Vc||this.Mn.Fa(a,b)};ph.prototype=new Nh;ph.prototype.constructor=ph;function ph(a,b,c,d,f,g,h,k,n){this.text=a;this.size=b;this.ha(c,d,f,g,n,!1,h);this.$a=k;this.Ww=!1;this.ut=null;this.uf="";this.Ll=!1;this.shadowColor=this.color;this.Oy=!1}
ph.prototype.je=function(a){a.save();a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.va?this.$a:this.color;this.Ll?(a.shadowBlur=5,a.shadowColor=this.shadowColor):a.shadowBlur=0;a.fillText(this.text,this.x,this.y);a.fill();if(!this.va&&!this.Ww)if(null!=this.ut&&this.ut<this.text.length){a.globalAlpha*=.5;a.beginPath();var b=a.measureText(this.text.slice(0,this.ut)).width,c=a.measureText(this.text.slice(0,this.ut+1)).width,d=a.measureText(this.text).width;a.moveTo(this.x-
d/2+b,this.y+this.size/4);a.lineTo(this.x-d/2+c,this.y+this.size/4);a.strokeStyle=this.color;a.lineWidth=1;a.stroke();a.globalAlpha/=.5;""!=this.uf&&(a.globalAlpha*=.5,this.Oy&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.uf,this.x-d/2+(b+c)/2,this.y+3*this.size/4))}else""!=this.uf&&(a.globalAlpha*=.5,this.Oy&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.uf,this.x,this.y+3*this.size/4));a.restore();a.shadowBlur=0};ch.prototype=new Nh;ch.prototype.constructor=ch;function ch(a,b,c,d,f,g,h,k){this.state=null;this.Gj=a;this.size=b;this.ha(c,d,f,g,k,!0,h);this.Of=30}ch.prototype.je=function(a){a.save();a.save();a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.globalAlpha*=this.va?1:.5;a.fillStyle=this.color;a.fill();a.restore();this.ty&&(a.strokeStyle=this.ty,a.lineWidth=2,a.stroke());Ea(a,this.Gj,this.x,this.y,this.Of);a.restore()};function Vg(a){this.xb=[];this.r=a;this.Gv=2E3;"HIVE 0"==a.U.substring(0,6)&&(this.st=parseInt(a.U.substring(7)));this.r.ra&&1==this.r.n&&"easy"==L&&3>N[this.r.U].Ua[L].jc&&this.xb.push(new $h(this.r));if(1==this.st)this.xb.push(new ai(this.r)),this.xb.push(new bi(this.r)),this.xb.push(new ci(this.r));else if(2==this.st)this.xb.push(new di(this.r)),this.xb.push(new ei(this.r)),this.xb.push(new bi(this.r)),this.xb.push(new ci(this.r));else if(3==this.st)this.xb.push(new fi(this.r)),this.xb.push(new gi(this.r)),
this.xb.push(new hi(this.r)),this.xb.push(new ii(this.r)),this.xb.push(new bi(this.r)),this.xb.push(new ci(this.r));else if(4==this.st)this.xb.push(new ji(this.r)),this.xb.push(new ki(this.r)),this.xb.push(new li(this.r)),this.xb.push(new mi(this.r));else for(a=0;a<this.Ps.length;a++)-1==Xe.indexOf(this.Ps[a].type)&&this.xb.push(new this.Ps[a].Gy(this.r))}Vg.prototype.Ps=[{type:"reset_multiplier",Gy:li},{type:"one_up",Gy:mi}];
Vg.prototype.V=function(a){if(0!=this.xb.length){var b=this.xb[0];a.save();"fade_in"==b.N.Ob?a.globalAlpha*=Og(b.N):"fade_out"==b.N.Ob?a.globalAlpha*=1-Og(b.N):b.Ln||(a.globalAlpha=0);a.globalAlpha*=.8;b.Ib&&b.Ib.V(a);b.V(a);a.restore()}};
Vg.prototype.na=function(a){if(0<this.Gv)this.Gv-=a;else if(0!=this.xb.length){ni(this.xb[0],a);if(!this.xb[0].Ni())for(a=1;a<this.xb.length;a++)if(this.xb[a].Os&&this.xb[a].Ni()){var b=this.xb.splice(a,1)[0];this.xb.unshift(b)}if(this.xb[0].iv)for(this.xb.shift();0<this.xb.length&&oi(this.xb[0]);)this.xb.shift()}};function pi(){}l=pi.prototype;l.ha=function(a){this.r=a;this.N=new Ng({fade_in:500,fade_out:500});this.iv=!1;this.duration=null;this.Ln=!1;this.tp=0;this.Os=!1};l.Ni=function(){return!0};
l.V=function(){};function ni(a,b){if(a.Ni()){if(!a.Ln)if(oi(a))a.iv=!0;else{if(0<a.tp){a.tp-=b;return}a.Ln=!0;Lg(a.N,"fade_in");a.Ib&&(a.Ib.visible=!0)}0<a.duration&&(a.duration-=b);if(a.Ib){var c=a.r.q.body.g.position.x*G,d=a.r.q.body.g.position.y*G;c<a.Ib.u/2+5?c=a.Ib.u/2+5:c>P-a.Ib.u/2-5&&(c=P-a.Ib.u/2-5);d<a.Ib.m+55&&(d+=a.Ib.m+100);gg(a.Ib,c,d)}a.N.na(b);a.na(b);oi(a)&&Lg(a.N,"fade_out",function(){a.iv=!0;a.kw()})}}l.kw=function(){};l.Jn=function(){return!1};
function oi(a){return a.Jn()||null!=a.duration&&0>=a.duration}l.na=function(){};ai.prototype=new pi;ai.prototype.constructor=ai;function ai(a){this.ha(a);this.Ib=new fg("tutorial_move",a.H,a.n)}ai.prototype.V=function(){};ai.prototype.na=function(){};ai.prototype.Jn=function(){return this.r.Ff.player_moved};di.prototype=new pi;di.prototype.constructor=di;function di(a){this.ha(a);this.Ib=new fg("tutorial_void",a.H,a.n);this.duration=3E3}di.prototype.V=function(){};di.prototype.na=function(){};
ei.prototype=new pi;ei.prototype.constructor=ei;function ei(a){this.ha(a);this.Ib=new fg("tutorial_enemy_touch",a.H,a.n);this.duration=3E3}ei.prototype.V=function(){};ei.prototype.na=function(){};ei.prototype.Ni=function(){return"fresh"==this.r.Ff.enemy_touched||this.Ln};fi.prototype=new pi;fi.prototype.constructor=fi;function fi(a){this.ha(a);this.Ib=new fg("tutorial_impulse",a.H,a.n)}fi.prototype.V=function(){};fi.prototype.na=function(){};fi.prototype.Jn=function(){return this.r.Ff.player_impulsed};
gi.prototype=new pi;gi.prototype.constructor=gi;function gi(a){this.ha(a);this.Ib=new fg("tutorial_kill_enemy",a.H,a.n);this.tp=4E3}gi.prototype.V=function(){};gi.prototype.na=function(){};gi.prototype.Jn=function(){return this.r.Ff.enemy_killed};hi.prototype=new pi;hi.prototype.constructor=hi;function hi(a){this.ha(a);this.duration=5E3;this.Ib=new fg("tutorial_score_points",a.H,a.n)}hi.prototype.Ni=function(){return this.r.Ff.enemy_killed};
hi.prototype.V=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(P+X/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",P+X/2,45);a.font="42px Muli";a.fillText(this.r.i.ua[this.r.jc],P+X/2,85)};ii.prototype=new pi;ii.prototype.constructor=ii;function ii(a){this.ha(a);this.Ib=new fg("tutorial_score_points",a.H,a.n);this.tp=5E3}
ii.prototype.V=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(P+X/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",P+X/2,45);a.font="42px Muli";a.fillText(this.r.i.ua[this.r.jc],P+X/2,85)};ii.prototype.Jn=function(){return this.r.Ff.gateway_opened};ji.prototype=new pi;ji.prototype.constructor=ji;function ji(a){this.ha(a);this.Os=!0;this.duration=3E3;this.Ib=new fg("tutorial_enemy_incr",a.H,a.n)}
ji.prototype.V=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(-X/2-60,Lc/2-20-35,120,70);a.stroke();a.font="16px Muli";a.fillText("LEVEL TIME",-X/2,Lc/2-30);a.font="32px Muli";a.fillText(this.r.M.jl,-X/2,Lc/2+2)};ji.prototype.na=function(){};ki.prototype=new pi;ki.prototype.constructor=ki;function ki(a){this.ha(a);this.duration=3E3;this.Ib=new fg("tutorial_incr_multiplier",a.H,a.n)}
ki.prototype.Ni=function(){return"fresh"==this.r.Ff.enemy_killed||this.Ln};ki.prototype.V=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(P+X/2-50,Lc/2-50-20,100,100);a.stroke();a.font="72px Muli";a.fillText("x"+this.r.M.Tg,P+X/2,Lc/2)};ki.prototype.na=function(){};li.prototype=new pi;l=li.prototype;l.constructor=li;function li(a){this.ha(a);this.duration=3E3;this.Os=!0;this.Ib=new fg("tutorial_reset_multiplier",a.H,a.n)}
l.Ni=function(){return"fresh"==this.r.Ff.multiplier_reset||this.Ln};l.V=function(){};l.na=function(){};l.kw=function(){-1==Xe.indexOf("reset_multiplier")&&(Xe.push("reset_multiplier"),jc())};mi.prototype=new pi;l=mi.prototype;l.constructor=mi;function mi(a){this.ha(a);this.duration=3E3;this.Os=!0;this.Ib=new fg("tutorial_one_up",a.H,a.n)}l.Ni=function(){return this.r.Ff.got_spark};l.V=function(){};l.na=function(){};l.kw=function(){-1==Xe.indexOf("one_up")&&(Xe.push("one_up"),jc())};bi.prototype=new pi;
l=bi.prototype;l.constructor=bi;function bi(a){this.ha(a);this.Zb={x:this.r.i.Zb.x*G,y:this.r.i.Zb.y*G};this.ew=new fg("tutorial_gateway_move",a.H,a.n);gg(this.ew,this.Zb.x,this.Zb.y-30);this.ew.visible=!0}l.V=function(a){this.ew.V(a)};l.na=function(){};l.Ni=function(){return this.r.Ff.gateway_opened};l.Jn=function(){return this.r.Ff.moved_to_gateway};ci.prototype=new pi;ci.prototype.constructor=ci;function ci(a){this.ha(a);this.duration=3E3;this.Ib=new fg("tutorial_enter_gateway",a.H,a.n)}
ci.prototype.V=function(){};ci.prototype.na=function(){};$h.prototype=new pi;$h.prototype.constructor=$h;function $h(a){this.ha(a);this.duration=3E3;this.Ib=new fg("tutorial_kill_boss",a.H,a.n)}$h.prototype.V=function(){};$h.prototype.na=function(){};new Nh;

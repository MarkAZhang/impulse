var l,m={};
(function(a,b){function c(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});a.Ib=function(a,b){c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.TC=function(a,b){return function(){b.apply(a,arguments)}};a.GB=function(a){a===
b&&(a=0);for(var c=Array(a||0),g=0;g<a;++g)c[g]=0;return c};a.is=function(a,c){return null===a?!1:c instanceof Function&&a instanceof c||a.constructor.Ht!=b&&a.constructor.Ht[c]?!0:!1};a.zg=function(a){return Math.abs(parseInt(a))}})(m);var aa=Array,ba=m.GB;"undefined"===typeof m&&(m={});"undefined"===typeof m.v&&(m.v={});"undefined"===typeof m.v.Ua&&(m.v.Ua={});"undefined"===typeof m.ba&&(m.ba={});"undefined"===typeof m.ba.Math&&(m.ba.Math={});"undefined"===typeof m.l&&(m.l={});
"undefined"===typeof m.l.ka&&(m.l.ka={});"undefined"===typeof m.l.Vb&&(m.l.Vb={});"undefined"===typeof m.l.L&&(m.l.L={});
(function(){function a(){a.xo.apply(this,arguments)}function b(){b.Qt.apply(this,arguments)}function c(){c.yo.apply(this,arguments);this.constructor===c&&this.yo.apply(this,arguments)}function d(){d.Ed.apply(this,arguments)}function f(){f.dm.apply(this,arguments);this.constructor===f&&this.dm.apply(this,arguments)}function g(){g.lr.apply(this,arguments)}function h(){h.Bk.apply(this,arguments)}function k(){k.mr.apply(this,arguments)}function n(){n.nr.apply(this,arguments)}function q(){q.or.apply(this,
arguments)}function p(){p.Do.apply(this,arguments);this.constructor===p&&this.Do.apply(this,arguments)}function t(){t.pr.apply(this,arguments)}function y(){y.bu.apply(this,arguments)}function u(){u.cu.apply(this,arguments)}function w(){w.si.apply(this,arguments);this.constructor===w&&this.si.apply(this,arguments)}function L(){L.Mo.apply(this,arguments);this.constructor===L&&this.Mo.apply(this,arguments)}function M(){M.iu.apply(this,arguments)}function ca(){ca.To.apply(this,arguments);this.constructor===
ca&&this.To.apply(this,arguments)}function T(){T.nu.apply(this,arguments)}function A(){A.ou.apply(this,arguments)}function V(){V.nm.apply(this,arguments)}function ia(){ia.Uo.apply(this,arguments);this.constructor===ia&&this.Uo.apply(this,arguments)}function W(){W.qr.apply(this,arguments)}function C(){C.pu.apply(this,arguments)}function Z(){Z.Pe.apply(this,arguments)}function Ea(){Ea.rr.apply(this,arguments)}function pa(){pa.pm.apply(this,arguments);this.constructor===pa&&this.pm.apply(this,arguments)}
function Fa(){Fa.nt.apply(this,arguments)}function v(){v.st.apply(this,arguments)}function r(){r.qj.apply(this,arguments);this.constructor===r&&this.qj.apply(this,arguments)}function F(){F.Eo.apply(this,arguments);this.constructor===F&&this.Eo.apply(this,arguments)}function z(){z.Fo.apply(this,arguments);this.constructor===z&&this.Fo.apply(this,arguments)}function I(){I.No.apply(this,arguments)}function U(){U.ui.apply(this,arguments);this.constructor===U&&this.ui.apply(this,arguments)}function H(){H.Wb.apply(this,
arguments);this.constructor===H&&this.Wb.apply(this,arguments)}function da(){da.bm.apply(this,arguments);this.constructor===da&&this.bm.apply(this,arguments)}function B(){B.Nb.apply(this,arguments)}function la(){la.ti.apply(this,arguments);this.constructor===la&&this.ti.apply(this,arguments)}function Wd(){Wd.im.apply(this,arguments);this.constructor===Wd&&this.im.apply(this,arguments)}function lf(){lf.Nf.apply(this,arguments)}function mf(){mf.Vo.apply(this,arguments)}function Xd(){Xd.sj.apply(this,
arguments);this.constructor===Xd&&this.sj.apply(this,arguments)}function Yd(){Yd.mg.apply(this,arguments);this.constructor===Yd&&this.mg.apply(this,arguments)}function kb(){kb.om.apply(this,arguments);this.constructor===kb&&this.om.apply(this,arguments)}function Zd(){Zd.ke.apply(this,arguments);this.constructor===Zd&&this.ke.apply(this,arguments)}function $d(){$d.am.apply(this,arguments);this.constructor===$d&&this.am.apply(this,arguments)}function nf(){nf.kr.apply(this,arguments)}function of(){of.Xt.apply(this,
arguments)}function pf(){pf.Ao.apply(this,arguments)}function ae(){ae.em.apply(this,arguments);this.constructor===ae&&this.em.apply(this,arguments)}function be(){be.Oe.apply(this,arguments);this.constructor===be&&this.Oe.apply(this,arguments)}function qf(){qf.au.apply(this,arguments)}function rf(){rf.eu.apply(this,arguments)}function ce(){ce.fm.apply(this,arguments);this.constructor===ce&&this.fm.apply(this,arguments)}function de(){de.gm.apply(this,arguments);this.constructor===de&&this.gm.apply(this,
arguments)}function ee(){ee.hm.apply(this,arguments);this.constructor===ee&&this.hm.apply(this,arguments)}function sf(){sf.sr.apply(this,arguments)}function fe(){fe.Qe.apply(this,arguments);this.constructor===fe&&this.Qe.apply(this,arguments)}function tf(){tf.St.apply(this,arguments)}function ge(){ge.Ya.apply(this,arguments);this.constructor===ge&&this.Ya.apply(this,arguments)}function he(){he.zo.apply(this,arguments);this.constructor===he&&this.zo.apply(this,arguments)}function uf(){uf.Vt.apply(this,
arguments)}function vf(){vf.Wt.apply(this,arguments)}function ie(){ie.cm.apply(this,arguments);this.constructor===ie&&this.cm.apply(this,arguments)}function wf(){wf.Yt.apply(this,arguments)}function xf(){xf.Zt.apply(this,arguments)}function je(){je.rj.apply(this,arguments);this.constructor===je&&this.rj.apply(this,arguments)}function yf(){yf.du.apply(this,arguments)}function ke(){ke.Po.apply(this,arguments);this.constructor===ke&&this.Po.apply(this,arguments)}function zf(){zf.ju.apply(this,arguments)}
function Af(){Af.ku.apply(this,arguments)}function Bf(){Bf.mu.apply(this,arguments)}function le(){le.Ck.apply(this,arguments);this.constructor===le&&this.Ck.apply(this,arguments)}function Cf(){Cf.Rt.apply(this,arguments)}function Df(){Df.Tt.apply(this,arguments)}function Ef(){Ef.Ut.apply(this,arguments)}function Ff(){Ff.Oc.apply(this,arguments)}function Gf(){Gf.$t.apply(this,arguments)}function Hf(){Hf.fu.apply(this,arguments)}function If(){If.qu.apply(this,arguments)}function me(){me.Bo.apply(this,
arguments);this.constructor===me&&this.Bo.apply(this,arguments)}function ne(){ne.Co.apply(this,arguments);this.constructor===ne&&this.Co.apply(this,arguments)}function oe(){oe.Go.apply(this,arguments);this.constructor===oe&&this.Go.apply(this,arguments)}function pe(){pe.Ho.apply(this,arguments);this.constructor===pe&&this.Ho.apply(this,arguments)}function qe(){qe.Io.apply(this,arguments);this.constructor===qe&&this.Io.apply(this,arguments)}function re(){re.Jo.apply(this,arguments);this.constructor===
re&&this.Jo.apply(this,arguments)}function Jf(){Jf.gu.apply(this,arguments)}function se(){se.ja.apply(this,arguments);this.constructor===se&&this.ja.apply(this,arguments)}function te(){te.wa.apply(this,arguments);this.constructor===te&&this.wa.apply(this,arguments)}function Kf(){Kf.hu.apply(this,arguments)}function ue(){ue.Ko.apply(this,arguments);this.constructor===ue&&this.Ko.apply(this,arguments)}function ve(){ve.Lo.apply(this,arguments);this.constructor===ve&&this.Lo.apply(this,arguments)}function we(){we.Oo.apply(this,
arguments);this.constructor===we&&this.Oo.apply(this,arguments)}function xe(){xe.jm.apply(this,arguments);this.constructor===xe&&this.jm.apply(this,arguments)}function ye(){ye.Qo.apply(this,arguments);this.constructor===ye&&this.Qo.apply(this,arguments)}function ze(){ze.Ro.apply(this,arguments);this.constructor===ze&&this.Ro.apply(this,arguments)}function Ae(){Ae.km.apply(this,arguments);this.constructor===Ae&&this.km.apply(this,arguments)}function Be(){Be.So.apply(this,arguments);this.constructor===
Be&&this.So.apply(this,arguments)}function Ce(){Ce.lm.apply(this,arguments);this.constructor===Ce&&this.lm.apply(this,arguments)}function De(){De.mm.apply(this,arguments);this.constructor===De&&this.mm.apply(this,arguments)}function Ee(){Ee.Wo.apply(this,arguments);this.constructor===Ee&&this.Wo.apply(this,arguments)}function Fe(){Fe.Xo.apply(this,arguments);this.constructor===Fe&&this.Xo.apply(this,arguments)}m.v.BB="Box2D.Collision.IBroadPhase";m.v.xo=a;m.v.Qt=b;m.v.yo=c;m.v.Ed=d;m.v.dm=f;m.v.lr=
g;m.v.Bk=h;m.v.mr=k;m.v.nr=n;m.v.or=q;m.v.Do=p;m.v.pr=t;m.v.bu=y;m.v.cu=u;m.v.si=w;m.v.Mo=L;m.v.iu=M;m.v.To=ca;m.v.nu=T;m.v.ou=A;m.v.nm=V;m.v.Uo=ia;m.v.qr=W;m.v.pu=C;m.v.Pe=Z;m.v.rr=Ea;m.v.pm=pa;m.v.nt=Fa;m.v.st=v;m.v.Ua.qj=r;m.v.Ua.Eo=F;m.v.Ua.Fo=z;m.v.Ua.No=I;m.v.Ua.ui=U;m.v.Ua.Wb=H;m.ba.bG="Box2D.Common.b2internal";m.ba.bm=da;m.ba.Nb=B;m.ba.Math.ti=la;m.ba.Math.im=Wd;m.ba.Math.Nf=lf;m.ba.Math.Vo=mf;m.ba.Math.sj=Xd;m.ba.Math.mg=Yd;m.ba.Math.om=kb;m.l.ke=Zd;m.l.am=$d;m.l.kr=nf;m.l.Xt=of;m.l.Ao=pf;
m.l.em=ae;m.l.Oe=be;m.l.au=qf;m.l.eu=rf;m.l.fm=ce;m.l.gm=de;m.l.hm=ee;m.l.sr=sf;m.l.Qe=fe;m.l.ka.St=tf;m.l.ka.Ya=ge;m.l.ka.zo=he;m.l.ka.Vt=uf;m.l.ka.Wt=vf;m.l.ka.cm=ie;m.l.ka.Yt=wf;m.l.ka.Zt=xf;m.l.ka.rj=je;m.l.ka.du=yf;m.l.ka.Po=ke;m.l.ka.ju=zf;m.l.ka.ku=Af;m.l.ka.mu=Bf;m.l.ka.Ck=le;m.l.Vb.Rt=Cf;m.l.Vb.Tt=Df;m.l.Vb.Ut=Ef;m.l.Vb.Oc=Ff;m.l.Vb.$t=Gf;m.l.Vb.fu=Hf;m.l.Vb.qu=If;m.l.L.Bo=me;m.l.L.Co=ne;m.l.L.Go=oe;m.l.L.Ho=pe;m.l.L.Io=qe;m.l.L.Jo=re;m.l.L.gu=Jf;m.l.L.ja=se;m.l.L.wa=te;m.l.L.hu=Kf;m.l.L.Ko=
ue;m.l.L.Lo=ve;m.l.L.Oo=we;m.l.L.jm=xe;m.l.L.Qo=ye;m.l.L.Ro=ze;m.l.L.km=Ae;m.l.L.So=Be;m.l.L.lm=Ce;m.l.L.mm=De;m.l.L.Wo=Ee;m.l.L.Xo=Fe})();m.Bc=[];
(function(){var a=m.v.Ua.qj,b=m.v.Ua.ui,c=m.v.Ua.Wb,d=m.ba.Nb,f=m.ba.Math.Nf,g=m.ba.Math.Vo,h=m.ba.Math.sj,k=m.ba.Math.mg,n=m.v.xo,q=m.v.Qt,p=m.v.yo,t=m.v.Ed,y=m.v.dm,u=m.v.lr,w=m.v.Bk,L=m.v.mr,M=m.v.nr,ca=m.v.or,T=m.v.Do,A=m.v.pr,V=m.v.bu,ia=m.v.cu,W=m.v.si,C=m.v.Mo,Z=m.v.iu,Ea=m.v.To,pa=m.v.nu,Fa=m.v.ou,v=m.v.nm,r=m.v.Uo,F=m.v.qr,z=m.v.pu,I=m.v.Pe,U=m.v.rr,H=m.v.pm,da=m.v.nt,B=m.v.st,la=m.v.BB;n.xo=function(){this.lowerBound=new k;this.upperBound=new k};n.prototype.Xl=function(){var a=this.upperBound.y-
this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=a&&this.lowerBound.Xl()&&this.upperBound.Xl()};n.prototype.xB=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};n.prototype.ot=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};n.prototype.lj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;
return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};n.Tl=function(a,b){var c=new n;c.Tl(a,b);return c};n.prototype.Tl=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};q.Qt=function(){};q.prototype.OB=function(a){var b=this.value,c=this.Wi,d=this.ww;this.value=
a.value;this.Wi=a.Wi;this.ww=a.ww;a.value=b;a.Wi=c;a.ww=d};p.yo=function(){};p.prototype.yo=function(){this.Mz=new ba;this.Mz[0]=0;this.Mz[1]=0;this.dB=new ba;this.dB[0]=0;this.dB[1]=0};t.Ed=function(){};t.Zw=function(a,b,c,d){void 0===d&&(d=0);var f,v=0;f=b[0];var F=f.ac;f=b[1];var r=f.ac,g=c.x*F.x+c.y*F.y-d;f=c.x*r.x+c.y*r.y-d;0>=g&&a[v++].P(b[0]);0>=f&&a[v++].P(b[1]);0>g*f&&(c=g/(g-f),f=a[v],f=f.ac,f.x=F.x+c*(r.x-F.x),f.y=F.y+c*(r.y-F.y),f=a[v],f.id=(0<g?b[0]:b[1]).id,++v);return v};t.Lq=function(a,
b,c,d,f){void 0===c&&(c=0);parseInt(a.Lb);var v=a.Z;a=a.rc;var F=parseInt(d.Lb),r=d.Z,g,z;g=b.w;z=a[c];a=g.j.x*z.x+g.k.x*z.y;d=g.j.y*z.x+g.k.y*z.y;g=f.w;var k=g.j.x*a+g.j.y*d;g=g.k.x*a+g.k.y*d;for(var I=0,h=Number.MAX_VALUE,H=0;H<F;++H)z=r[H],z=z.x*k+z.y*g,z<h&&(h=z,I=H);z=v[c];g=b.w;c=b.position.x+(g.j.x*z.x+g.k.x*z.y);b=b.position.y+(g.j.y*z.x+g.k.y*z.y);z=r[I];g=f.w;v=f.position.x+(g.j.x*z.x+g.k.x*z.y);f=f.position.y+(g.j.y*z.x+g.k.y*z.y);return(v-c)*a+(f-b)*d};t.fx=function(a,b,c,d,f){var v=parseInt(b.Lb),
F=b.rc,g,r;r=f.w;g=d.Mi;var z=f.position.x+(r.j.x*g.x+r.k.x*g.y),k=f.position.y+(r.j.y*g.x+r.k.y*g.y);r=c.w;g=b.Mi;z-=c.position.x+(r.j.x*g.x+r.k.x*g.y);k-=c.position.y+(r.j.y*g.x+r.k.y*g.y);r=z*c.w.j.x+k*c.w.j.y;for(var k=z*c.w.k.x+k*c.w.k.y,z=0,I=-Number.MAX_VALUE,h=0;h<v;++h)g=F[h],g=g.x*r+g.y*k,g>I&&(I=g,z=h);F=t.Lq(b,c,z,d,f);g=parseInt(0<=z-1?z-1:v-1);r=t.Lq(b,c,g,d,f);var k=parseInt(z+1<v?z+1:0),I=t.Lq(b,c,k,d,f),H=0,U=0;if(r>F&&r>I)U=-1,h=g,H=r;else if(I>F)U=1,h=k,H=I;else return a[0]=z,F;
for(;;)if(z=-1==U?0<=h-1?h-1:v-1:h+1<v?h+1:0,F=t.Lq(b,c,z,d,f),F>H)h=z,H=F;else break;a[0]=h;return H};t.wB=function(a,b,c,d,f,v){void 0===d&&(d=0);parseInt(b.Lb);var F=b.rc,g=parseInt(f.Lb);b=f.Z;f=f.rc;var r;r=c.w;c=F[d];var F=r.j.x*c.x+r.k.x*c.y,z=r.j.y*c.x+r.k.y*c.y;r=v.w;c=r.j.x*F+r.j.y*z;z=r.k.x*F+r.k.y*z;F=c;r=0;for(var k=Number.MAX_VALUE,I=0;I<g;++I)c=f[I],c=F*c.x+z*c.y,c<k&&(k=c,r=I);f=parseInt(r);F=parseInt(f+1<g?f+1:0);g=a[0];c=b[f];r=v.w;g.ac.x=v.position.x+(r.j.x*c.x+r.k.x*c.y);g.ac.y=
v.position.y+(r.j.y*c.x+r.k.y*c.y);g.id.qg.mE=d;g.id.qg.cD=f;g.id.qg.dD=0;g=a[1];c=b[F];r=v.w;g.ac.x=v.position.x+(r.j.x*c.x+r.k.x*c.y);g.ac.y=v.position.y+(r.j.y*c.x+r.k.y*c.y);g.id.qg.mE=d;g.id.qg.cD=F;g.id.qg.dD=1};t.Bt=function(){var a=new aa(2);a[0]=new da;a[1]=new da;return a};t.qB=function(a,b,c,f,v){var r;a.Jc=0;var g=b.Ea+f.Ea;t.jw[0]=0;var F=t.fx(t.jw,b,c,f,v);r=t.jw[0];if(!(F>g)){var z;t.kw[0]=0;var k=t.fx(t.kw,f,v,b,c);z=t.kw[0];if(!(k>g)){var I=0,h=0;k>.98*F+.001?(F=f,f=b,b=v,I=z,a.kb=
W.Ok,h=1):(F=b,b=c,c=v,I=r,a.kb=W.Tg,h=0);r=t.rE;t.wB(r,F,b,I,f,c);z=parseInt(F.Lb);v=F.Z;var F=v[I],H;H=I+1<z?v[parseInt(I+1)]:v[0];I=t.tE;I.P(H.x-F.x,H.y-F.y);I.cb();v=t.sE;v.x=I.y;v.y=-I.x;f=t.vE;f.P(.5*(F.x+H.x),.5*(F.y+H.y));k=t.BE;z=b.w;k.x=z.j.x*I.x+z.k.x*I.y;k.y=z.j.y*I.x+z.k.y*I.y;var U=t.CE;U.x=-k.x;U.y=-k.y;I=t.uE;I.x=k.y;I.y=-k.x;var n=t.FE,da=t.GE;n.x=b.position.x+(z.j.x*F.x+z.k.x*F.y);n.y=b.position.y+(z.j.y*F.x+z.k.y*F.y);da.x=b.position.x+(z.j.x*H.x+z.k.x*H.y);da.y=b.position.y+(z.j.y*
H.x+z.k.y*H.y);b=I.x*n.x+I.y*n.y;z=k.x*da.x+k.y*da.y+g;H=t.pE;F=t.qE;da=t.Zw(H,r,U,-k.x*n.x-k.y*n.y+g);if(!(2>da||(da=t.Zw(F,H,k,z),2>da))){a.Md.M(v);a.gb.M(f);for(f=v=0;f<d.pf;++f)r=F[f],I.x*r.ac.x+I.y*r.ac.y-b<=g&&(k=a.hb[v],z=c.w,U=r.ac.x-c.position.x,n=r.ac.y-c.position.y,k.gb.x=U*z.j.x+n*z.j.y,k.gb.y=U*z.k.x+n*z.k.y,k.Pi.P(r.id),k.Pi.qg.pG=h,++v);a.Jc=v}}}};t.oB=function(a,b,c,d,f){a.Jc=0;var v,F;v=c.w;F=b.td;var r=c.position.x+(v.j.x*F.x+v.k.x*F.y);c=c.position.y+(v.j.y*F.x+v.k.y*F.y);v=f.w;
F=d.td;r=f.position.x+(v.j.x*F.x+v.k.x*F.y)-r;f=f.position.y+(v.j.y*F.x+v.k.y*F.y)-c;v=b.Ea+d.Ea;r*r+f*f>v*v||(a.kb=W.Ou,a.gb.M(b.td),a.Md.Ma(),a.Jc=1,a.hb[0].gb.M(d.td),a.hb[0].Pi.key=0)};t.pB=function(a,b,c,d,f){var v=a.Jc=0,F=0,r,g;g=f.w;r=d.td;var z=f.position.y+(g.j.y*r.x+g.k.y*r.y),v=f.position.x+(g.j.x*r.x+g.k.x*r.y)-c.position.x,F=z-c.position.y;g=c.w;c=v*g.j.x+F*g.j.y;g=v*g.k.x+F*g.k.y;var k=0,z=-Number.MAX_VALUE;f=b.Ea+d.Ea;var I=parseInt(b.Lb),h=b.Z;b=b.rc;for(var H=0;H<I;++H){r=h[H];v=
c-r.x;F=g-r.y;r=b[H];v=r.x*v+r.y*F;if(v>f)return;v>z&&(z=v,k=H)}v=parseInt(k);F=parseInt(v+1<I?v+1:0);r=h[v];h=h[F];if(z<Number.MIN_VALUE)a.Jc=1,a.kb=W.Tg,a.Md.M(b[k]),a.gb.x=.5*(r.x+h.x),a.gb.y=.5*(r.y+h.y);else if(z=(c-h.x)*(r.x-h.x)+(g-h.y)*(r.y-h.y),0>=(c-r.x)*(h.x-r.x)+(g-r.y)*(h.y-r.y)){if((c-r.x)*(c-r.x)+(g-r.y)*(g-r.y)>f*f)return;a.Jc=1;a.kb=W.Tg;a.Md.x=c-r.x;a.Md.y=g-r.y;a.Md.cb();a.gb.M(r)}else if(0>=z){if((c-h.x)*(c-h.x)+(g-h.y)*(g-h.y)>f*f)return;a.Jc=1;a.kb=W.Tg;a.Md.x=c-h.x;a.Md.y=g-
h.y;a.Md.cb();a.gb.M(h)}else{k=.5*(r.x+h.x);r=.5*(r.y+h.y);z=(c-k)*b[v].x+(g-r)*b[v].y;if(z>f)return;a.Jc=1;a.kb=W.Tg;a.Md.x=b[v].x;a.Md.y=b[v].y;a.Md.cb();a.gb.P(k,r)}a.hb[0].gb.M(d.td);a.hb[0].Pi.key=0};t.lj=function(a,b){var c=b.lowerBound,d=a.upperBound,f=c.x-d.x,v=c.y-d.y,c=a.lowerBound,d=b.upperBound,r=c.y-d.y;return 0<f||0<v||0<c.x-d.x||0<r?!1:!0};m.Bc.push(function(){m.v.Ed.rE=t.Bt();m.v.Ed.pE=t.Bt();m.v.Ed.qE=t.Bt();m.v.Ed.jw=new ba(1);m.v.Ed.kw=new ba(1);m.v.Ed.tE=new k;m.v.Ed.sE=new k;
m.v.Ed.vE=new k;m.v.Ed.uE=new k;m.v.Ed.BE=new k;m.v.Ed.CE=new k;m.v.Ed.FE=new k;m.v.Ed.GE=new k;m.v.Ed.WF=new k;m.v.Ed.$F=255});y.dm=function(){this.qg=new B};y.prototype.dm=function(){this.qg.mj=this};y.prototype.P=function(a){this.key=a.lf};y.prototype.Eb=function(){var a=new y;a.key=this.key;return a};Object.defineProperty(y.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.lf}});Object.defineProperty(y.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===
a&&(a=0);this.lf=a;this.qg.Lt=this.lf&255;this.qg.Jt=(this.lf&65280)>>8&255;this.qg.Kt=(this.lf&16711680)>>16&255;this.qg.It=(this.lf&4278190080)>>24&255}});u.lr=function(){this.position=new k;this.sh=new k;this.Yf=new k;this.id=new y};w.Bk=function(){};w.pt=function(a,b,c){++w.YF;var v=c.$h,r=c.ai,F=c.UA,g=c.VA,z=w.zE;z.HB(b,v,F,r,g);var I=z.Z,h=w.xE,H=w.yE,U=0;z.ix();for(var n=0,da,B=0;20>B;){U=z.Qb;for(n=0;n<U;n++)h[n]=I[n].rd,H[n]=I[n].sd;switch(z.Qb){case 1:break;case 2:z.MB();break;case 3:z.NB();
break;default:d.gc(!1)}if(3==z.Qb)break;z.ix();n=z.zB();if(n.Vq()<Number.MIN_VALUE*Number.MIN_VALUE)break;da=I[z.Qb];da.rd=v.yt(f.hj(F.w,n.gj()));da.fe=f.dd(F,v.Td(da.rd));da.sd=r.yt(f.hj(g.w,n));da.Hg=f.dd(g,r.Td(da.sd));da.u=f.tc(da.Hg,da.fe);++B;++w.ZF;for(var p=!1,n=0;n<U;n++)if(da.rd==h[n]&&da.sd==H[n]){p=!0;break}if(p)break;++z.Qb}w.hC=f.he(w.hC,B);z.AB(a.bh,a.dh);a.Kk=f.tc(a.bh,a.dh).hg();a.sG=B;z.TB(b);c.eB&&(b=v.Ea,r=r.Ea,a.Kk>b+r&&a.Kk>Number.MIN_VALUE?(a.Kk-=b+r,c=f.tc(a.dh,a.bh),c.cb(),
a.bh.x+=b*c.x,a.bh.y+=b*c.y,a.dh.x-=r*c.x,a.dh.y-=r*c.y):(da=new k,da.x=.5*(a.bh.x+a.dh.x),da.y=.5*(a.bh.y+a.dh.y),a.bh.x=a.dh.x=da.x,a.bh.y=a.dh.y=da.y,a.Kk=0))};m.Bc.push(function(){m.v.Bk.zE=new r;m.v.Bk.xE=new ba(3);m.v.Bk.yE=new ba(3)});L.mr=function(){};M.nr=function(){this.bh=new k;this.dh=new k};ca.or=function(){};ca.prototype.P=function(f){switch(f.Fb()){case c.Nk:f=f instanceof a?f:null;this.Z=new aa(1,!0);this.Z[0]=f.td;this.Qb=1;this.Ea=f.Ea;break;case c.xj:f=f instanceof b?f:null;this.Z=
f.Z;this.Qb=f.Lb;this.Ea=f.Ea;break;default:d.gc(!1)}};ca.prototype.yt=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Qb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return b};ca.prototype.io=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Qb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return this.Z[b]};ca.prototype.Td=function(a){void 0===a&&(a=0);d.gc(0<=a&&a<this.Qb);return this.Z[a]};T.Do=function(){};T.prototype.Do=function(){this.Qp=
this.Th=null};T.prototype.bo=function(a,b){var c=this.Xw(),f=d.tr,v=d.tr;c.yb.lowerBound.x=a.lowerBound.x-f;c.yb.lowerBound.y=a.lowerBound.y-v;c.yb.upperBound.x=a.upperBound.x+f;c.yb.upperBound.y=a.upperBound.y+v;c.nk=b;this.qx(c);return c};T.prototype.co=function(a){this.yx(a);this.ut(a)};T.prototype.Ct=function(a,b,c){d.gc(a.Rq());if(a.yb.ot(b))return!1;this.yx(a);var f=d.tr+d.Yx*(0<c.x?c.x:-c.x);c=d.tr+d.Yx*(0<c.y?c.y:-c.y);a.yb.lowerBound.x=b.lowerBound.x-f;a.yb.lowerBound.y=b.lowerBound.y-c;
a.yb.upperBound.x=b.upperBound.x+f;a.yb.upperBound.y=b.upperBound.y+c;this.qx(a);return!0};T.prototype.fo=function(a){return a.yb};T.prototype.Lf=function(a){return a.nk};T.prototype.Et=function(a,b){if(null!=this.Th){var c=new aa,d=0;for(c[d++]=this.Th;0<d;){var f=c[--d];if(f.yb.lj(b))if(f.Rq()){if(!a(f))break}else c[d++]=f.Qf,c[d++]=f.xi}}};T.prototype.Xw=function(){if(this.Qp){var a=this.Qp;this.Qp=a.parent;a.parent=null;a.Qf=null;a.xi=null;return a}return new V};T.prototype.ut=function(a){a.parent=
this.Qp;this.Qp=a};T.prototype.qx=function(a){if(null==this.Th)this.Th=a,this.Th.parent=null;else{var b=a.yb.xB(),c=this.Th;if(0==c.Rq()){do var d=c.Qf,c=c.xi,c=Math.abs((d.yb.lowerBound.x+d.yb.upperBound.x)/2-b.x)+Math.abs((d.yb.lowerBound.y+d.yb.upperBound.y)/2-b.y)<Math.abs((c.yb.lowerBound.x+c.yb.upperBound.x)/2-b.x)+Math.abs((c.yb.lowerBound.y+c.yb.upperBound.y)/2-b.y)?d:c;while(0==c.Rq())}b=c.parent;d=this.Xw();d.parent=b;d.nk=null;d.yb.Tl(a.yb,c.yb);if(b){c.parent.Qf==c?b.Qf=d:b.xi=d;d.Qf=
c;d.xi=a;c.parent=d;a.parent=d;do{if(b.yb.ot(d.yb))break;b.yb.Tl(b.Qf.yb,b.xi.yb);d=b;b=b.parent}while(b)}else d.Qf=c,d.xi=a,c.parent=d,this.Th=a.parent=d}};T.prototype.yx=function(a){if(a==this.Th)this.Th=null;else{var b=a.parent,c=b.parent;a=b.Qf==a?b.xi:b.Qf;if(c)for(c.Qf==b?c.Qf=a:c.xi=a,a.parent=c,this.ut(b);c;){b=c.yb;c.yb=n.Tl(c.Qf.yb,c.xi.yb);if(b.ot(c.yb))break;c=c.parent}else this.Th=a,a.parent=null,this.ut(b)}};A.pr=function(){this.wg=new T;this.kl=new aa;this.Xp=new aa;this.nl=0};A.prototype.bo=
function(a,b){var c=this.wg.bo(a,b);this.Yw(c);return c};A.prototype.co=function(a){this.RB(a);this.wg.co(a)};A.prototype.Ct=function(a,b,c){this.wg.Ct(a,b,c)&&this.Yw(a)};A.prototype.lj=function(a,b){return this.wg.fo(a).lj(this.wg.fo(b))};A.prototype.Lf=function(a){return this.wg.Lf(a)};A.prototype.fo=function(a){return this.wg.fo(a)};A.prototype.SB=function(a){for(var b=this,c=b.nl=0,d,c=0;c<b.kl.length;++c){d=b.kl[c];var f=b.wg.fo(d);b.wg.Et(function(a){if(a==d)return!0;b.nl==b.Xp.length&&(b.Xp[b.nl]=
new ia);var c=b.Xp[b.nl];c.$h=a<d?a:d;c.ai=a>=d?a:d;++b.nl;return!0},f)}for(c=b.kl.length=0;c<b.nl;){var f=b.Xp[c],v=b.wg.Lf(f.$h);a(v,b.wg.Lf(f.ai));for(++c;c<b.nl;){v=b.Xp[c];if(v.$h!=f.$h||v.ai!=f.ai)break;++c}}};A.prototype.Et=function(a,b){this.wg.Et(a,b)};A.prototype.Yw=function(a){this.kl[this.kl.length]=a};A.prototype.RB=function(a){this.kl.splice(parseInt(this.kl.indexOf(a)),1)};A.Ht={};A.Ht[la]=!0;V.bu=function(){this.yb=new n};V.prototype.Rq=function(){return null==this.Qf};ia.cu=function(){};
W.si=function(){this.Jc=0};W.prototype.si=function(){this.hb=new aa(d.pf);for(var a=0;a<d.pf;a++)this.hb[a]=new C;this.Md=new k;this.gb=new k};W.prototype.ie=function(){for(var a=0;a<d.pf;a++)(this.hb[a]instanceof C?this.hb[a]:null).ie();this.Md.Ma();this.gb.Ma();this.Jc=this.kb=0};W.prototype.P=function(a){this.Jc=a.Jc;for(var b=0;b<d.pf;b++)(this.hb[b]instanceof C?this.hb[b]:null).P(a.hb[b]);this.Md.M(a.Md);this.gb.M(a.gb);this.kb=a.kb};W.prototype.Eb=function(){var a=new W;a.P(this);return a};
m.Bc.push(function(){m.v.si.Ou=1;m.v.si.Tg=2;m.v.si.Ok=4});C.Mo=function(){this.gb=new k;this.Pi=new y};C.prototype.Mo=function(){this.ie()};C.prototype.ie=function(){this.gb.Ma();this.tl=this.ml=0;this.Pi.key=0};C.prototype.P=function(a){this.gb.M(a.gb);this.ml=a.ml;this.tl=a.tl;this.Pi.P(a.Pi)};Z.iu=function(){new k};Ea.To=function(){this.sn=new k;this.tn=new k};Ea.prototype.To=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&this.sn.M(a);b&&this.tn.M(b)};pa.nu=function(){this.Yf=new k};
Fa.ou=function(){this.sn=new k;this.tn=new k};v.nm=function(){this.gb=new k;this.ea=new k};v.prototype.od=function(a,b,c,r,F){this.Tj=b;this.Uj=r;var g=parseInt(a.count);d.gc(0<g&&3>g);var z,I,h,H,U=0,n=0;1==g?(this.kb=v.Ny,z=this.Tj.Td(a.rd[0]),I=this.Uj.Td(a.sd[0]),g=z,a=c.w,b=c.position.x+(a.j.x*g.x+a.k.x*g.y),r=c.position.y+(a.j.y*g.x+a.k.y*g.y),g=I,a=F.w,h=F.position.x+(a.j.x*g.x+a.k.x*g.y),H=F.position.y+(a.j.y*g.x+a.k.y*g.y),this.ea.x=h-b,this.ea.y=H-r,this.ea.cb()):(a.sd[0]==a.sd[1]?(this.kb=
v.Tg,b=this.Tj.Td(a.rd[0]),r=this.Tj.Td(a.rd[1]),I=this.Uj.Td(a.sd[0]),this.gb.x=.5*(b.x+r.x),this.gb.y=.5*(b.y+r.y),this.ea=f.fj(f.tc(r,b),1),this.ea.cb(),g=this.ea,a=c.w,U=a.j.x*g.x+a.k.x*g.y,n=a.j.y*g.x+a.k.y*g.y,g=this.gb,a=c.w,b=c.position.x+(a.j.x*g.x+a.k.x*g.y),r=c.position.y+(a.j.y*g.x+a.k.y*g.y),g=I,a=F.w,h=F.position.x+(a.j.x*g.x+a.k.x*g.y),H=F.position.y+(a.j.y*g.x+a.k.y*g.y),U=(h-b)*U+(H-r)*n):a.rd[0]==a.rd[0]?(this.kb=v.Ok,h=this.Uj.Td(a.sd[0]),H=this.Uj.Td(a.sd[1]),z=this.Tj.Td(a.rd[0]),
this.gb.x=.5*(h.x+H.x),this.gb.y=.5*(h.y+H.y),this.ea=f.fj(f.tc(H,h),1),this.ea.cb(),g=this.ea,a=F.w,U=a.j.x*g.x+a.k.x*g.y,n=a.j.y*g.x+a.k.y*g.y,g=this.gb,a=F.w,h=F.position.x+(a.j.x*g.x+a.k.x*g.y),H=F.position.y+(a.j.y*g.x+a.k.y*g.y),g=z,a=c.w,b=c.position.x+(a.j.x*g.x+a.k.x*g.y),r=c.position.y+(a.j.y*g.x+a.k.y*g.y),U=(b-h)*U+(r-H)*n):(b=this.Tj.Td(a.rd[0]),r=this.Tj.Td(a.rd[1]),h=this.Uj.Td(a.sd[0]),H=this.Uj.Td(a.sd[1]),f.dd(c,z),z=f.Cd(c.w,f.tc(r,b)),f.dd(F,I),U=f.Cd(F.w,f.tc(H,h)),F=z.x*z.x+
z.y*z.y,I=U.x*U.x+U.y*U.y,a=f.tc(U,z),c=z.x*a.x+z.y*a.y,a=U.x*a.x+U.y*a.y,z=z.x*U.x+z.y*U.y,n=F*I-z*z,U=0,0!=n&&(U=f.Db((z*a-c*I)/n,0,1)),0>(z*U+a)/I&&(U=f.Db((z-c)/F,0,1)),z=new k,z.x=b.x+U*(r.x-b.x),z.y=b.y+U*(r.y-b.y),I=new k,I.x=h.x+U*(H.x-h.x),I.y=h.y+U*(H.y-h.y),0==U||1==U?(this.kb=v.Ok,this.ea=f.fj(f.tc(H,h),1),this.ea.cb(),this.gb=I):(this.kb=v.Tg,this.ea=f.fj(f.tc(r,b),1),this.gb=z)),0>U&&this.ea.ux())};v.prototype.Kg=function(a,b){var c,r,g=0;switch(this.kb){case v.Ny:return c=f.hj(a.w,
this.ea),r=f.hj(b.w,this.ea.gj()),c=this.Tj.io(c),r=this.Uj.io(r),c=f.dd(a,c),r=f.dd(b,r),(r.x-c.x)*this.ea.x+(r.y-c.y)*this.ea.y;case v.Tg:return g=f.Cd(a.w,this.ea),c=f.dd(a,this.gb),r=f.hj(b.w,g.gj()),r=this.Uj.io(r),r=f.dd(b,r),(r.x-c.x)*g.x+(r.y-c.y)*g.y;case v.Ok:return g=f.Cd(b.w,this.ea),r=f.dd(b,this.gb),c=f.hj(a.w,g.gj()),c=this.Tj.io(c),c=f.dd(a,c),(c.x-r.x)*g.x+(c.y-r.y)*g.y;default:return d.gc(!1),0}};m.Bc.push(function(){m.v.nm.Ny=1;m.v.nm.Tg=2;m.v.nm.Ok=4});r.Uo=function(){this.Aa=
new z;this.Ta=new z;this.Ef=new z;this.Z=new aa(3)};r.prototype.Uo=function(){this.Z[0]=this.Aa;this.Z[1]=this.Ta;this.Z[2]=this.Ef};r.prototype.HB=function(a,b,c,v,r){d.gc(0<=a.count&&3>=a.count);var g,F;this.Qb=a.count;for(var z=this.Z,k=0;k<this.Qb;k++){var I=z[k];I.rd=a.rd[k];I.sd=a.sd[k];g=b.Td(I.rd);F=v.Td(I.sd);I.fe=f.dd(c,g);I.Hg=f.dd(r,F);I.u=f.tc(I.Hg,I.fe);I.Q=0}1<this.Qb&&(a=a.OD,g=this.lx(),g<.5*a||2*a<g||g<Number.MIN_VALUE)&&(this.Qb=0);0==this.Qb&&(I=z[0],I.rd=0,I.sd=0,g=b.Td(0),F=
v.Td(0),I.fe=f.dd(c,g),I.Hg=f.dd(r,F),I.u=f.tc(I.Hg,I.fe),this.Qb=1)};r.prototype.TB=function(a){a.OD=this.lx();a.count=m.zg(this.Qb);for(var b=this.Z,c=0;c<this.Qb;c++)a.rd[c]=m.zg(b[c].rd),a.sd[c]=m.zg(b[c].sd)};r.prototype.zB=function(){switch(this.Qb){case 1:return this.Aa.u.gj();case 2:var a=f.tc(this.Ta.u,this.Aa.u);return 0<f.Vl(a,this.Aa.u.gj())?f.$w(1,a):f.fj(a,1);default:return d.gc(!1),new k}};r.prototype.ix=function(){switch(this.Qb){case 0:d.gc(!1);new k;break;case 1:break;case 2:new k(this.Aa.Q*
this.Aa.u.x+this.Ta.Q*this.Ta.u.x,this.Aa.Q*this.Aa.u.y+this.Ta.Q*this.Ta.u.y);break;default:d.gc(!1),new k}};r.prototype.AB=function(a,b){switch(this.Qb){case 0:d.gc(!1);break;case 1:a.M(this.Aa.fe);b.M(this.Aa.Hg);break;case 2:a.x=this.Aa.Q*this.Aa.fe.x+this.Ta.Q*this.Ta.fe.x;a.y=this.Aa.Q*this.Aa.fe.y+this.Ta.Q*this.Ta.fe.y;b.x=this.Aa.Q*this.Aa.Hg.x+this.Ta.Q*this.Ta.Hg.x;b.y=this.Aa.Q*this.Aa.Hg.y+this.Ta.Q*this.Ta.Hg.y;break;case 3:b.x=a.x=this.Aa.Q*this.Aa.fe.x+this.Ta.Q*this.Ta.fe.x+this.Ef.Q*
this.Ef.fe.x;b.y=a.y=this.Aa.Q*this.Aa.fe.y+this.Ta.Q*this.Ta.fe.y+this.Ef.Q*this.Ef.fe.y;break;default:d.gc(!1)}};r.prototype.lx=function(){switch(this.Qb){case 0:return d.gc(!1),0;case 1:return 0;case 2:return f.tc(this.Aa.u,this.Ta.u).hg();case 3:return f.Vl(f.tc(this.Ta.u,this.Aa.u),f.tc(this.Ef.u,this.Aa.u));default:return d.gc(!1),0}};r.prototype.MB=function(){var a=this.Aa.u,b=this.Ta.u,c=f.tc(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Qb=this.Aa.Q=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Qb=this.Ta.Q=1,this.Aa.P(this.Ta)):
(c=1/(b+a),this.Aa.Q=b*c,this.Ta.Q=a*c,this.Qb=2))};r.prototype.NB=function(){var a=this.Aa.u,b=this.Ta.u,c=this.Ef.u,d=f.tc(b,a),v=f.Sd(a,d),r=f.Sd(b,d),v=-v,g=f.tc(c,a),F=f.Sd(a,g),z=f.Sd(c,g),F=-F,k=f.tc(c,b),I=f.Sd(b,k),k=f.Sd(c,k),I=-I,g=f.Vl(d,g),d=g*f.Vl(b,c),c=g*f.Vl(c,a),a=g*f.Vl(a,b);0>=v&&0>=F?this.Qb=this.Aa.Q=1:0<r&&0<v&&0>=a?(z=1/(r+v),this.Aa.Q=r*z,this.Ta.Q=v*z,this.Qb=2):0<z&&0<F&&0>=c?(r=1/(z+F),this.Aa.Q=z*r,this.Ef.Q=F*r,this.Qb=2,this.Ta.P(this.Ef)):0>=r&&0>=I?(this.Qb=this.Ta.Q=
1,this.Aa.P(this.Ta)):0>=z&&0>=k?(this.Qb=this.Ef.Q=1,this.Aa.P(this.Ef)):0<k&&0<I&&0>=d?(r=1/(k+I),this.Ta.Q=k*r,this.Ef.Q=I*r,this.Qb=2,this.Aa.P(this.Ef)):(r=1/(d+c+a),this.Aa.Q=d*r,this.Ta.Q=c*r,this.Ef.Q=a*r,this.Qb=3)};F.qr=function(){this.rd=new ba(3);this.sd=new ba(3)};z.pu=function(){};z.prototype.P=function(a){this.fe.M(a.fe);this.Hg.M(a.Hg);this.u.M(a.u);this.Q=a.Q;this.rd=a.rd;this.sd=a.sd};I.Pe=function(){};I.QB=function(a){++I.mC;var b=a.$h,c=a.ai,v=a.QA,r=a.RA;d.gc(v.zd==r.zd);d.gc(1-
v.zd>Number.MIN_VALUE);var g=b.Ea+c.Ea;a=a.qF;var F=0,z=0,k=0;I.iw.count=0;for(I.Cn.eB=!1;;){v.gf(I.dk,F);r.gf(I.ek,F);I.Cn.$h=b;I.Cn.ai=c;I.Cn.UA=I.dk;I.Cn.VA=I.ek;w.pt(I.vA,I.iw,I.Cn);if(0>=I.vA.Kk){F=1;break}I.Ms.od(I.iw,b,I.dk,c,I.ek);var h=I.Ms.Kg(I.dk,I.ek);if(0>=h){F=1;break}0==z&&(k=h>g?f.he(g-a,.75*g):f.he(h-a,.02*g));if(h-k<.5*a){if(0==z){F=1;break}break}var H=F,U=F,n=1;v.gf(I.dk,n);r.gf(I.ek,n);var da=I.Ms.Kg(I.dk,I.ek);if(da>=k){F=1;break}for(var B=0;;){var p=0,p=B&1?U+(k-h)*(n-U)/(da-
h):.5*(U+n);v.gf(I.dk,p);r.gf(I.ek,p);var la=I.Ms.Kg(I.dk,I.ek);if(f.md(la-k)<.025*a){H=p;break}la>k?(U=p,h=la):(n=p,da=la);++B;++I.oC;if(50==B)break}I.dy=f.he(I.dy,B);if(H<(1+100*Number.MIN_VALUE)*F)break;F=H;z++;++I.nC;if(1E3==z)break}I.cy=f.he(I.cy,z);return F};m.Bc.push(function(){m.v.Pe.mC=0;m.v.Pe.nC=0;m.v.Pe.cy=0;m.v.Pe.oC=0;m.v.Pe.dy=0;m.v.Pe.iw=new F;m.v.Pe.Cn=new L;m.v.Pe.dk=new h;m.v.Pe.ek=new h;m.v.Pe.Ms=new v;m.v.Pe.vA=new M});U.rr=function(){this.$h=new ca;this.ai=new ca;this.QA=new g;
this.RA=new g};H.pm=function(){this.Sa=new k};H.prototype.pm=function(){this.hb=new aa(d.pf);for(var a=0;a<d.pf;a++)this.hb[a]=new k};H.prototype.od=function(a,b,c,d,f){void 0===c&&(c=0);void 0===f&&(f=0);if(0!=a.Jc){var v=0,r,g,F=0,z=0,k=0,I=0,h=0;switch(a.kb){case W.Ou:g=b.w;r=a.gb;v=b.position.x+g.j.x*r.x+g.k.x*r.y;b=b.position.y+g.j.y*r.x+g.k.y*r.y;g=d.w;r=a.hb[0].gb;a=d.position.x+g.j.x*r.x+g.k.x*r.y;d=d.position.y+g.j.y*r.x+g.k.y*r.y;r=a-v;g=d-b;F=r*r+g*g;F>Number.MIN_VALUE*Number.MIN_VALUE?
(F=Math.sqrt(F),this.Sa.x=r/F,this.Sa.y=g/F):(this.Sa.x=1,this.Sa.y=0);r=b+c*this.Sa.y;d-=f*this.Sa.y;this.hb[0].x=.5*(v+c*this.Sa.x+(a-f*this.Sa.x));this.hb[0].y=.5*(r+d);break;case W.Tg:g=b.w;r=a.Md;F=g.j.x*r.x+g.k.x*r.y;z=g.j.y*r.x+g.k.y*r.y;g=b.w;r=a.gb;k=b.position.x+g.j.x*r.x+g.k.x*r.y;I=b.position.y+g.j.y*r.x+g.k.y*r.y;this.Sa.x=F;this.Sa.y=z;for(v=0;v<a.Jc;v++)g=d.w,r=a.hb[v].gb,h=d.position.x+g.j.x*r.x+g.k.x*r.y,r=d.position.y+g.j.y*r.x+g.k.y*r.y,this.hb[v].x=h+.5*(c-(h-k)*F-(r-I)*z-f)*F,
this.hb[v].y=r+.5*(c-(h-k)*F-(r-I)*z-f)*z;break;case W.Ok:for(g=d.w,r=a.Md,F=g.j.x*r.x+g.k.x*r.y,z=g.j.y*r.x+g.k.y*r.y,g=d.w,r=a.gb,k=d.position.x+g.j.x*r.x+g.k.x*r.y,I=d.position.y+g.j.y*r.x+g.k.y*r.y,this.Sa.x=-F,this.Sa.y=-z,v=0;v<a.Jc;v++)g=b.w,r=a.hb[v].gb,h=b.position.x+g.j.x*r.x+g.k.x*r.y,r=b.position.y+g.j.y*r.x+g.k.y*r.y,this.hb[v].x=h+.5*(f-(h-k)*F-(r-I)*z-c)*F,this.hb[v].y=r+.5*(f-(h-k)*F-(r-I)*z-c)*z}}};da.nt=function(){this.ac=new k;this.id=new y};da.prototype.P=function(a){this.ac.M(a.ac);
this.id.P(a.id)};B.st=function(){};Object.defineProperty(B.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.Lt}});Object.defineProperty(B.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Lt=a;this.mj.lf=this.mj.lf&4294967040|this.Lt&255}});Object.defineProperty(B.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.Jt}});Object.defineProperty(B.prototype,"incidentEdge",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.Jt=a;this.mj.lf=this.mj.lf&4294902015|this.Jt<<8&65280}});Object.defineProperty(B.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.Kt}});Object.defineProperty(B.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Kt=a;this.mj.lf=this.mj.lf&4278255615|this.Kt<<16&16711680}});Object.defineProperty(B.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.It}});Object.defineProperty(B.prototype,
"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.It=a;this.mj.lf=this.mj.lf&16777215|this.It<<24&4278190080}})})();
(function(){var a=m.ba.Nb,b=m.v.Ua.qj,c=m.v.Ua.Eo,d=m.v.Ua.Fo,f=m.v.Ua.No,g=m.v.Ua.ui,h=m.v.Ua.Wb,k=m.ba.Math.ti,n=m.ba.Math.Nf,q=m.ba.Math.sj,p=m.ba.Math.mg,t=m.v.Bk,y=m.v.mr,u=m.v.nr,w=m.v.or,L=m.v.qr;m.Ib(b,m.v.Ua.Wb);b.prototype.na=m.v.Ua.Wb.prototype;b.qj=function(){m.v.Ua.Wb.Wb.apply(this,arguments);this.td=new p};b.prototype.Eb=function(){var a=new b;a.P(this);return a};b.prototype.P=function(a){this.na.P.call(this,a);m.is(a,b)&&this.td.M((a instanceof b?a:null).td)};b.prototype.Ul=function(a,
b){var c=b.w,d=b.position.x+(c.j.x*this.td.x+c.k.x*this.td.y),c=b.position.y+(c.j.y*this.td.x+c.k.y*this.td.y);a.lowerBound.P(d-this.Ea,c-this.Ea);a.upperBound.P(d+this.Ea,c+this.Ea)};b.prototype.$n=function(b,c){void 0===c&&(c=0);b.Uh=c*a.Yo*this.Ea*this.Ea;b.ye.M(this.td);b.Wl=b.Uh*(.5*this.Ea*this.Ea+(this.td.x*this.td.x+this.td.y*this.td.y))};b.prototype.Iq=function(a,b,c,d){void 0===b&&(b=0);c=n.dd(c,this.td);var f=-(n.Sd(a,c)-b);if(f<-this.Ea+Number.MIN_VALUE)return 0;if(f>this.Ea)return d.M(c),
Math.PI*this.Ea*this.Ea;b=this.Ea*this.Ea;var g=f*f,f=b*(Math.asin(f/this.Ea)+Math.PI/2)+f*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/f;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return f};b.prototype.Gx=function(a){this.td.M(a)};b.prototype.qj=function(a){void 0===a&&(a=0);this.na.Wb.call(this);this.kb=h.Nk;this.Ea=a};c.Eo=function(){};c.prototype.Eo=function(){this.ca=[]};m.Ib(d,m.v.Ua.Wb);d.prototype.na=m.v.Ua.Wb.prototype;d.Fo=function(){m.v.Ua.Wb.Wb.apply(this,arguments);new p;this.Aa=new p;this.Ta=new p;this.sD=
new p;this.tD=new p;this.Sa=new p;this.Qj=new p;new p;this.uD=new p};d.prototype.Ul=function(a,b){var c=b.w,d=b.position.x+(c.j.x*this.Aa.x+c.k.x*this.Aa.y),f=b.position.y+(c.j.y*this.Aa.x+c.k.y*this.Aa.y),g=b.position.x+(c.j.x*this.Ta.x+c.k.x*this.Ta.y),c=b.position.y+(c.j.y*this.Ta.x+c.k.y*this.Ta.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);f<c?(a.lowerBound.y=f,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=f)};d.prototype.$n=function(a){a.Uh=0;a.ye.M(this.Aa);
a.Wl=0};d.prototype.Iq=function(a,b,c,d){void 0===b&&(b=0);var f=new p(a.x*b,a.y*b),g=n.dd(c,this.Aa);c=n.dd(c,this.Ta);var k=n.Sd(a,g)-b;a=n.Sd(a,c)-b;if(0<k){if(0<a)return 0;g.x=-a/(k-a)*g.x+k/(k-a)*c.x;g.y=-a/(k-a)*g.y+k/(k-a)*c.y}else 0<a&&(c.x=-a/(k-a)*g.x+k/(k-a)*c.x,c.y=-a/(k-a)*g.y+k/(k-a)*c.y);d.x=(f.x+g.x+c.x)/3;d.y=(f.y+g.y+c.y)/3;return.5*((g.x-f.x)*(c.y-f.y)-(g.y-f.y)*(c.x-f.x))};d.prototype.Fo=function(b,c){this.na.Wb.call(this);this.kb=h.Mr;this.Aa=b;this.Ta=c;this.Qj.P(this.Ta.x-this.Aa.x,
this.Ta.y-this.Aa.y);this.Dv=this.Qj.cb();this.Sa.P(this.Qj.y,-this.Qj.x);this.sD.P(-a.wr*(this.Sa.x-this.Qj.x)+this.Aa.x,-a.wr*(this.Sa.y-this.Qj.y)+this.Aa.y);this.tD.P(-a.wr*(this.Sa.x+this.Qj.x)+this.Ta.x,-a.wr*(this.Sa.y+this.Qj.y)+this.Ta.y);this.uD.P(-this.Sa.x,-this.Sa.y)};f.No=function(){this.Uh=0;this.ye=new p(0,0);this.Wl=0};m.Ib(g,m.v.Ua.Wb);g.prototype.na=m.v.Ua.Wb.prototype;g.ui=function(){m.v.Ua.Wb.Wb.apply(this,arguments)};g.prototype.Eb=function(){var a=new g;a.P(this);return a};
g.prototype.P=function(a){this.na.P.call(this,a);if(m.is(a,g)){a=a instanceof g?a:null;this.Mi.M(a.Mi);this.Lb=a.Lb;this.ko(this.Lb);for(var b=0;b<this.Lb;b++)this.Z[b].M(a.Z[b]),this.rc[b].M(a.rc[b])}};g.prototype.Ft=function(a,b){void 0===b&&(b=0);for(var c=new aa,d=0,f,d=0;d<a.length;++d)f=a[d],c.push(f);this.Cx(c,b)};g.EF=function(a,b){void 0===b&&(b=0);var c=new g;c.Ft(a,b);return c};g.prototype.Cx=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);a.gc(2<=c);this.Lb=c;this.ko(c);for(var d=0,
d=0;d<this.Lb;d++)this.Z[d].M(b[d]);for(d=0;d<this.Lb;++d){var f=parseInt(d),f=n.tc(this.Z[parseInt(d+1<this.Lb?d+1:0)],this.Z[f]);a.gc(f.Vq()>Number.MIN_VALUE);this.rc[d].M(n.fj(f,1));this.rc[d].cb()}this.Mi=g.sB(this.Z,this.Lb)};g.IF=function(a,b){void 0===b&&(b=0);var c=new g;c.Cx(a,b);return c};g.prototype.Bx=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Lb=4;this.ko(4);this.Z[0].P(-a,-b);this.Z[1].P(a,-b);this.Z[2].P(a,b);this.Z[3].P(-a,b);this.rc[0].P(0,-1);this.rc[1].P(1,0);this.rc[2].P(0,
1);this.rc[3].P(-1,0);this.Mi.Ma()};g.FF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new g;c.Bx(a,b);return c};g.prototype.JB=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.Lb=4;this.ko(4);this.Z[0].P(-a,-b);this.Z[1].P(a,-b);this.Z[2].P(a,b);this.Z[3].P(-a,b);this.rc[0].P(0,-1);this.rc[1].P(1,0);this.rc[2].P(0,1);this.rc[3].P(-1,0);this.Mi=c;a=new q;a.position=c;a.w.P(d);for(c=0;c<this.Lb;++c)this.Z[c]=n.dd(a,this.Z[c]),this.rc[c]=n.Cd(a.w,
this.rc[c])};g.HF=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var f=new g;f.JB(a,b,c,d);return f};g.prototype.IB=function(a,b){this.Lb=2;this.ko(2);this.Z[0].M(a);this.Z[1].M(b);this.Mi.x=.5*(a.x+b.x);this.Mi.y=.5*(a.y+b.y);this.rc[0]=n.fj(n.tc(b,a),1);this.rc[0].cb();this.rc[1].x=-this.rc[0].x;this.rc[1].y=-this.rc[0].y};g.GF=function(a,b){var c=new g;c.IB(a,b);return c};g.prototype.Ul=function(a,b){for(var c=b.w,d=this.Z[0],f=b.position.x+(c.j.x*
d.x+c.k.x*d.y),g=b.position.y+(c.j.y*d.x+c.k.y*d.y),k=f,h=g,n=1;n<this.Lb;++n)var d=this.Z[n],p=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),f=f<p?f:p,g=g<d?g:d,k=k>p?k:p,h=h>d?h:d;a.lowerBound.x=f-this.Ea;a.lowerBound.y=g-this.Ea;a.upperBound.x=k+this.Ea;a.upperBound.y=h+this.Ea};g.prototype.$n=function(a,b){void 0===b&&(b=0);if(2==this.Lb)a.ye.x=.5*(this.Z[0].x+this.Z[1].x),a.ye.y=.5*(this.Z[0].y+this.Z[1].y),a.Uh=0,a.Wl=0;else{for(var c=0,d=0,f=0,g=0,k=1/3,h=0;h<this.Lb;++h)var n=
this.Z[h],p=h+1<this.Lb?this.Z[parseInt(h+1)]:this.Z[0],t=n.x-0,q=n.y-0,v=p.x-0,r=p.y-0,F=t*r-q*v,z=.5*F,f=f+z,c=c+z*k*(0+n.x+p.x),d=d+z*k*(0+n.y+p.y),n=t,g=g+F*(k*(.25*(n*n+v*n+v*v)+(0*n+0*v))+0+(k*(.25*(q*q+r*q+r*r)+(0*q+0*r))+0));a.Uh=b*f;a.ye.P(1/f*c,1/f*d);a.Wl=b*g}};g.prototype.Iq=function(a,b,c,d){void 0===b&&(b=0);var g=n.hj(c.w,a),k=b-n.Sd(a,c.position),h=new ba,q=0,t=-1;b=-1;var u=!1;for(a=a=0;a<this.Lb;++a){h[a]=n.Sd(g,this.Z[a])-k;var y=h[a]<-Number.MIN_VALUE;0<a&&(y?u||(t=a-1,q++):u&&
(b=a-1,q++));u=y}switch(q){case 0:return u?(a=new f,this.$n(a,1),d.M(n.dd(c,a.ye)),a.Uh):0;case 1:-1==t?t=this.Lb-1:b=this.Lb-1}a=parseInt((t+1)%this.Lb);g=parseInt((b+1)%this.Lb);k=(0-h[t])/(h[a]-h[t]);h=(0-h[b])/(h[g]-h[b]);t=new p(this.Z[t].x*(1-k)+this.Z[a].x*k,this.Z[t].y*(1-k)+this.Z[a].y*k);b=new p(this.Z[b].x*(1-h)+this.Z[g].x*h,this.Z[b].y*(1-h)+this.Z[g].y*h);h=0;k=new p;for(q=this.Z[a];a!=g;)a=(a+1)%this.Lb,u=a==g?b:this.Z[a],y=.5*((q.x-t.x)*(u.y-t.y)-(q.y-t.y)*(u.x-t.x)),h+=y,k.x+=y*(t.x+
q.x+u.x)/3,k.y+=y*(t.y+q.y+u.y)/3,q=u;k.aa(1/h);d.M(n.dd(c,k));return h};g.prototype.yt=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Lb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return b};g.prototype.io=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Lb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return this.Z[b]};g.prototype.ui=function(){this.na.Wb.call(this);this.kb=h.xj;this.Mi=new p;this.Z=new aa;this.rc=new aa};g.prototype.ko=
function(a){void 0===a&&(a=0);for(var b=parseInt(this.Z.length);b<a;b++)this.Z[b]=new p,this.rc[b]=new p};g.sB=function(a,b){void 0===b&&(b=0);for(var c=new p,d=0,f=1/3,g=0;g<b;++g){var k=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],n=.5*((k.x-0)*(h.y-0)-(k.y-0)*(h.x-0)),d=d+n;c.x+=n*f*(0+k.x+h.x);c.y+=n*f*(0+k.y+h.y)}c.x*=1/d;c.y*=1/d;return c};g.KF=function(a,b,c){void 0===c&&(c=0);for(var d=0,f=new aa(c+1),d=0;d<c;++d)f[d]=b[d];f[c]=f[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=f[parseInt(d-1)],k=
f[d].x-g.x,h=f[d].y-g.y,n=Math.sqrt(k*k+h*h),k=k/n,h=h/n,p=-h,t=k,q=n=Number.MAX_VALUE,v=-Number.MAX_VALUE,r=-Number.MAX_VALUE,F=0;F<c;++F){var z=f[F].x-g.x,I=f[F].y-g.y,U=k*z+h*I,z=p*z+t*I;U<n&&(n=U);z<q&&(q=z);U>v&&(v=U);z>r&&(r=z)}F=(v-n)*(r-q);F<.95*b&&(b=F,a.w.j.x=k,a.w.j.y=h,a.w.k.x=p,a.w.k.y=t,k=.5*(n+v),h=.5*(q+r),p=a.w,a.ye.x=g.x+(p.j.x*k+p.k.x*h),a.ye.y=g.y+(p.j.y*k+p.k.y*h),a.MC.x=.5*(v-n),a.MC.y=.5*(r-q))}};m.Bc.push(function(){m.v.Ua.ui.zG=new k});h.Wb=function(){};h.prototype.Eb=function(){return null};
h.prototype.P=function(a){this.Ea=a.Ea};h.prototype.Fb=function(){return this.kb};h.prototype.Ul=function(){};h.prototype.$n=function(){};h.prototype.Iq=function(){return 0};h.lj=function(a,b,c,d){var f=new y;f.$h=new w;f.$h.P(a);f.ai=new w;f.ai.P(c);f.UA=b;f.VA=d;f.eB=!0;a=new L;a.count=0;b=new u;t.pt(b,a,f);return b.Kk<10*Number.MIN_VALUE};h.prototype.Wb=function(){this.kb=h.EC;this.Ea=a.zb};m.Bc.push(function(){m.v.Ua.Wb.EC=-1;m.v.Ua.Wb.Nk=0;m.v.Ua.Wb.xj=1;m.v.Ua.Wb.Mr=2;m.v.Ua.Wb.Or=3;m.v.Ua.Wb.jG=
1;m.v.Ua.Wb.lG=0;m.v.Ua.Wb.oG=-1})})();
(function(){var a=m.ba.bm,b=m.ba.Nb,c=m.ba.Math.Nf;a.bm=function(){this.$q=this.ar=this.br=0};a.prototype.bm=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.br=m.zg(255*c.Db(a,0,1));this.ar=m.zg(255*c.Db(b,0,1));this.$q=m.zg(255*c.Db(g,0,1))};a.prototype.P=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.br=m.zg(255*c.Db(a,0,1));this.ar=m.zg(255*c.Db(b,0,1));this.$q=m.zg(255*c.Db(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.br=m.zg(255*c.Db(a,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.ar=m.zg(255*c.Db(a,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.$q=m.zg(255*c.Db(a,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.br<<16|this.ar<<8|this.$q}});b.Nb=function(){};b.cC=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};b.dC=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};b.gc=function(a){if(!a)throw"Assertion Failed";};m.Bc.push(function(){m.ba.Nb.VERSION="2.1alpha";m.ba.Nb.UF=65535;m.ba.Nb.Yo=Math.PI;m.ba.Nb.pf=2;m.ba.Nb.tr=.1;m.ba.Nb.Yx=2;m.ba.Nb.aG=2*b.zb;m.ba.Nb.zb=.005;m.ba.Nb.Dk=2/180*b.Yo;m.ba.Nb.wr=8*b.zb;m.ba.Nb.jC=32;m.ba.Nb.kC=32;m.ba.Nb.pC=1;m.ba.Nb.of=.2;m.ba.Nb.ur=8/180*b.Yo;m.ba.Nb.rm=2;m.ba.Nb.by=b.rm*b.rm;m.ba.Nb.qm=
.5*b.Yo;m.ba.Nb.ay=b.qm*b.qm;m.ba.Nb.su=.2;m.ba.Nb.lC=.5;m.ba.Nb.$x=.01;m.ba.Nb.Zx=2/180*b.Yo})})();
(function(){var a=m.ba.Math.ti,b=m.ba.Math.im,c=m.ba.Math.Nf,d=m.ba.Math.Vo,f=m.ba.Math.sj,g=m.ba.Math.mg,h=m.ba.Math.om;a.ti=function(){this.j=new g;this.k=new g};a.prototype.ti=function(){this.Yq()};a.Nq=function(b){void 0===b&&(b=0);var c=new a;c.P(b);return c};a.eo=function(b,c){var d=new a;d.LB(b,c);return d};a.prototype.P=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};a.prototype.LB=function(a,b){this.j.M(a);this.k.M(b)};a.prototype.Eb=
function(){var b=new a;b.vk(this);return b};a.prototype.vk=function(a){this.j.M(a.j);this.k.M(a.k)};a.prototype.Hq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};a.prototype.Yq=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};a.prototype.Ma=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};a.prototype.ga=function(){return Math.atan2(this.j.y,this.j.x)};a.prototype.wt=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,f=this.k.y,g=b*f-c*d;0!=g&&(g=1/g);a.j.x=
g*f;a.k.x=-g*c;a.j.y=-g*d;a.k.y=g*b};a.prototype.wk=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,w=d*h-f*g;0!=w&&(w=1/w);a.x=w*(h*b-f*c);a.y=w*(d*c-g*b);return a};a.prototype.md=function(){this.j.md();this.k.md()};b.im=function(){this.j=new h;this.k=new h;this.Ga=new h};b.prototype.im=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.j.M(a),this.k.M(b),this.Ga.M(c)):(this.j.Ma(),this.k.Ma(),this.Ga.Ma())};
b.prototype.Eb=function(){return new b(this.j,this.k,this.Ga)};b.prototype.vk=function(a){this.j.M(a.j);this.k.M(a.k);this.Ga.M(a.Ga)};b.prototype.Hq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.Ga.x+=a.Ga.x;this.Ga.y+=a.Ga.y;this.Ga.z+=a.Ga.z};b.prototype.Yq=function(){this.j.x=1;this.k.x=0;this.Ga.x=0;this.j.y=0;this.k.y=1;this.Ga.y=0;this.j.z=0;this.k.z=0;this.Ga.z=1};b.prototype.Ma=function(){this.j.x=0;this.k.x=0;this.Ga.x=0;
this.j.y=0;this.k.y=0;this.Ga.y=0;this.j.z=0;this.k.z=0;this.Ga.z=0};b.prototype.Yl=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,w=d*h-f*g;0!=w&&(w=1/w);a.x=w*(h*b-f*c);a.y=w*(d*c-g*b);return a};b.prototype.oo=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.j.x,g=this.j.y,h=this.j.z,w=this.k.x,L=this.k.y,M=this.k.z,ca=this.Ga.x,T=this.Ga.y,A=this.Ga.z,V=f*(L*A-M*T)+g*(M*ca-w*A)+h*(w*T-L*ca);0!=V&&(V=1/V);a.x=
V*(b*(L*A-M*T)+c*(M*ca-w*A)+d*(w*T-L*ca));a.y=V*(f*(c*A-d*T)+g*(d*ca-b*A)+h*(b*T-c*ca));a.z=V*(f*(L*d-M*c)+g*(M*b-w*d)+h*(w*c-L*b));return a};c.Nf=function(){};c.Xl=function(a){void 0===a&&(a=0);return isFinite(a)};c.Sd=function(a,b){return a.x*b.x+a.y*b.y};c.Vl=function(a,b){return a.x*b.y-a.y*b.x};c.fj=function(a,b){void 0===b&&(b=0);return new g(b*a.y,-b*a.x)};c.$w=function(a,b){void 0===a&&(a=0);return new g(-a*b.y,a*b.x)};c.Cd=function(a,b){return new g(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};
c.hj=function(a,b){return new g(c.Sd(b,a.j),c.Sd(b,a.k))};c.dd=function(a,b){var d=c.Cd(a.w,b);d.x+=a.position.x;d.y+=a.position.y;return d};c.FB=function(a,b){var d=c.tc(b,a.position),f=d.x*a.w.j.x+d.y*a.w.j.y;d.y=d.x*a.w.k.x+d.y*a.w.k.y;d.x=f;return d};c.Ww=function(a,b){return new g(a.x+b.x,a.y+b.y)};c.tc=function(a,b){return new g(a.x-b.x,a.y-b.y)};c.pt=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};c.LF=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};c.NF=function(a,b){void 0===
a&&(a=0);return new g(a*b.x,a*b.y)};c.DF=function(b,d){return a.eo(c.Ww(b.j,d.j),c.Ww(b.k,d.k))};c.OF=function(b,d){return a.eo(c.Cd(b,d.j),c.Cd(b,d.k))};c.PF=function(b,d){var f=new g(c.Sd(b.j,d.j),c.Sd(b.k,d.j)),h=new g(c.Sd(b.j,d.k),c.Sd(b.k,d.k));return a.eo(f,h)};c.md=function(a){void 0===a&&(a=0);return 0<a?a:-a};c.Tw=function(a){return new g(c.md(a.x),c.md(a.y))};c.CF=function(b){return a.eo(c.Tw(b.j),c.Tw(b.k))};c.tk=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};c.sx=function(a,
b){return new g(c.tk(a.x,b.x),c.tk(a.y,b.y))};c.he=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};c.rx=function(a,b){return new g(c.he(a.x,b.x),c.he(a.y,b.y))};c.Db=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};c.JF=function(a,b,d){return c.rx(b,c.sx(a,d))};c.OB=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};c.RF=function(){return 2*Math.random()-1};c.SF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return(b-a)*Math.random()+a};c.QF=
function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};c.MF=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};m.Bc.push(function(){m.ba.Math.Nf.eC=new g(0,0);m.ba.Math.Nf.bC=a.eo(new g(1,0),new g(0,1));m.ba.Math.Nf.XF=new f(c.eC,c.bC)});d.Vo=function(){this.W=new g;this.Gd=new g;this.o=new g};d.prototype.P=function(a){this.W.M(a.W);this.Gd.M(a.Gd);this.o.M(a.o);this.jg=a.jg;this.Q=a.Q;this.zd=a.zd};d.prototype.Eb=function(){var a=
new d;a.W.M(this.W);a.Gd.M(this.Gd);a.o.M(this.o);a.jg=this.jg;a.Q=this.Q;a.zd=this.zd;return a};d.prototype.gf=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Gd.x+b*this.o.x;a.position.y=(1-b)*this.Gd.y+b*this.o.y;a.w.P((1-b)*this.jg+b*this.Q);var c=a.w;a.position.x-=c.j.x*this.W.x+c.k.x*this.W.y;a.position.y-=c.j.y*this.W.x+c.k.y*this.W.y};d.prototype.ej=function(a){void 0===a&&(a=0);if(this.zd<a&&1-this.zd>Number.MIN_VALUE){var b=(a-this.zd)/(1-this.zd);this.Gd.x=(1-b)*this.Gd.x+b*this.o.x;
this.Gd.y=(1-b)*this.Gd.y+b*this.o.y;this.jg=(1-b)*this.jg+b*this.Q;this.zd=a}};f.sj=function(){this.position=new g;this.w=new a};f.prototype.sj=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.M(a),this.w.vk(b))};f.prototype.od=function(a,b){this.position.M(a);this.w.vk(b)};f.prototype.Yq=function(){this.position.Ma();this.w.Yq()};f.prototype.P=function(a){this.position.M(a.position);this.w.vk(a.w)};f.prototype.ga=function(){return Math.atan2(this.w.j.y,this.w.j.x)};g.mg=
function(){};g.prototype.mg=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.Ma=function(){this.y=this.x=0};g.prototype.P=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.M=function(a){this.x=a.x;this.y=a.y};g.prototype.gj=function(){return new g(-this.x,-this.y)};g.prototype.ux=function(){this.x=-this.x;this.y=-this.y};g.EB=function(){var a=0,b=0;void 0===a&&(a=0);void 0===b&&(b=0);return new g(a,b)};g.prototype.Eb=function(){return new g(this.x,
this.y)};g.prototype.Jg=function(a){this.x+=a.x;this.y+=a.y};g.prototype.po=function(a){this.x-=a.x;this.y-=a.y};g.prototype.aa=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};g.prototype.fj=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};g.prototype.$w=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};g.prototype.sx=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};g.prototype.rx=function(a){this.x=this.x>a.x?this.x:a.x;this.y=
this.y>a.y?this.y:a.y};g.prototype.md=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.hg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.Vq=function(){return this.x*this.x+this.y*this.y};g.prototype.cb=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};g.prototype.Xl=function(){return c.Xl(this.x)&&c.Xl(this.y)};h.om=function(){};h.prototype.om=function(a,b,c){void 0===a&&
(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.Ma=function(){this.x=this.y=this.z=0};h.prototype.P=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.M=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.gj=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.ux=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.Eb=function(){return new h(this.x,this.y,this.z)};h.prototype.Jg=
function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};h.prototype.po=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};h.prototype.aa=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var a=m.ba.Math.Nf,b=m.ba.Math.Vo,c=m.ba.Math.sj,d=m.ba.Math.mg,f=m.ba.bm,g=m.ba.Nb,h=m.v.xo,k=m.v.lr,n=m.v.pr,q=m.v.Ua.No,p=m.l.ke,t=m.l.am,y=m.l.kr,u=m.l.Xt,w=m.l.Ao,L=m.l.em,M=m.l.Oe,ca=m.l.au,T=m.l.eu,A=m.l.fm,V=m.l.gm,ia=m.l.hm,W=m.l.sr,C=m.l.Qe,Z=m.l.ka.Ya,Ea=m.l.ka.cm,pa=m.l.ka.rj,Fa=m.l.L.ja;p.ke=function(){this.g=new c;this.h=new b;this.p=new d;this.Sj=new d};p.prototype.Jq=function(a){if(1==this.vd.Sq())return null;var b=new A;b.Ne(this,this.g,a);this.O&p.Kr&&b.bo(this.vd.We.en,
this.g);b.Ia=this.Ic;this.Ic=b;++this.Sz;b.dc=this;0<b.Pp&&this.ig();this.vd.O|=C.Ru;return b};p.prototype.Hx=function(a,b){void 0===b&&(b=0);var c;if(1!=this.vd.Sq()){this.g.w.P(b);this.g.position.M(a);c=this.g.w;var d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Gd.M(this.h.o);this.h.jg=this.h.Q=b;d=this.vd.We.en;for(c=this.Ic;c;c=c.Ia)c.Ix(d,this.g,this.g);this.vd.We.Mq()}};p.prototype.gf=function(){return this.g};
p.prototype.jj=function(a){this.Hx(a,this.ga())};p.prototype.ga=function(){return this.h.Q};p.prototype.ub=function(a){void 0===a&&(a=0);this.Hx(this.g.position,a)};p.prototype.lo=function(a){this.kb!=p.qf&&this.p.M(a)};p.prototype.qk=function(a,b){this.kb==p.Fd&&(0==this.pd()&&this.Ud(!0),this.Sj.x+=a.x,this.Sj.y+=a.y,this.nn+=(b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x)};p.prototype.mB=function(a){void 0===a&&(a=0);this.kb==p.Fd&&(0==this.pd()&&this.Ud(!0),this.nn+=a)};p.prototype.ia=function(a,b){this.kb==
p.Fd&&(0==this.pd()&&this.Ud(!0),this.p.x+=this.R*a.x,this.p.y+=this.R*a.y,this.H+=this.fa*((b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x))};p.prototype.kx=function(a){a.Uh=this.Y;a.Wl=this.Uf;a.ye.M(this.h.W)};p.prototype.ig=function(){this.fa=this.Uf=this.R=this.Y=0;this.h.W.Ma();if(this.kb!=p.qf&&this.kb!=p.iC){for(var b=d.EB(),c=this.Ic;c;c=c.Ia)if(0!=c.Pp){var f=c.kx();this.Y+=f.Uh;b.x+=f.ye.x*f.Uh;b.y+=f.ye.y*f.Uh;this.Uf+=f.Wl}0<this.Y?(this.R=1/this.Y,b.x*=this.R,b.y*=this.R):this.R=this.Y=1;
0<this.Uf&&0==(this.O&p.Iy)?(this.Uf-=this.Y*(b.x*b.x+b.y*b.y),this.Uf*=this.yD,g.gc(0<this.Uf),this.fa=1/this.Uf):this.fa=this.Uf=0;c=this.h.o.Eb();this.h.W.M(b);this.h.Gd.M(a.dd(this.g,this.h.W));this.h.o.M(this.h.Gd);this.p.x+=this.H*-(this.h.o.y-c.y);this.p.y+=this.H*+(this.h.o.x-c.x)}};p.prototype.gg=function(a){var b=this.g.w;a=new d(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.g.position.x;a.y+=this.g.position.y;return a};p.prototype.zt=function(b){return a.Cd(this.g.w,b)};p.prototype.ff=
function(b){return a.FB(this.g,b)};p.prototype.xt=function(b){return a.hj(this.g.w,b)};p.prototype.yB=function(a){return new d(this.p.x-this.H*(a.y-this.h.o.y),this.p.y+this.H*(a.x-this.h.o.x))};p.prototype.hf=function(a){void 0===a&&(a=0);this.Wz=a};p.prototype.Fb=function(){return this.kb};p.prototype.Dx=function(){this.O|=p.Lr};p.prototype.Pq=function(){return(this.O&p.Lr)==p.Lr};p.prototype.Ud=function(a){a?(this.O|=p.mp,this.sl=0):(this.O&=~p.mp,this.sl=0,this.p.Ma(),this.H=0,this.Sj.Ma(),this.nn=
0)};p.prototype.pd=function(){return(this.O&p.mp)==p.mp};p.prototype.rk=function(){return(this.O&p.Kr)==p.Kr};p.prototype.Lf=function(){return this.Ri};p.prototype.mo=function(a){this.Ri=a};p.prototype.ke=function(a,b){this.O=0;a.uC&&(this.O|=p.Lr);a.$u&&(this.O|=p.Iy);a.VB&&(this.O|=p.Nu);a.aC&&(this.O|=p.mp);a.ed&&(this.O|=p.Kr);this.vd=b;this.g.position.M(a.position);this.g.w.P(a.Nx);this.h.W.Ma();this.h.zd=1;this.h.jg=this.h.Q=a.Nx;var c=this.g.w,d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=
c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Gd.M(this.h.o);this.Pb=this.Pj=this.bd=null;this.Av=0;this.Ia=this.ud=null;this.p.M(a.Hz);this.H=a.YB;this.Wz=a.ks;this.pD=a.Ox;this.Sj.P(0,0);this.sl=this.nn=0;this.kb=a.type;this.R=this.kb==p.Fd?this.Y=1:this.Y=0;this.fa=this.Uf=0;this.yD=a.eD;this.Ri=a.nk;this.Ic=null;this.Sz=0};p.prototype.Jx=function(){var a=p.HE;a.w.P(this.h.jg);var b=a.w,c=this.h.W;a.position.x=this.h.Gd.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=
this.h.Gd.y-(b.j.y*c.x+b.k.y*c.y);c=this.vd.We.en;for(b=this.Ic;b;b=b.Ia)b.Ix(c,a,this.g)};p.prototype.uc=function(){this.g.w.P(this.h.Q);var a=this.g.w,b=this.h.W;this.g.position.x=this.h.o.x-(a.j.x*b.x+a.k.x*b.y);this.g.position.y=this.h.o.y-(a.j.y*b.x+a.k.y*b.y)};p.prototype.no=function(a){if(this.kb!=p.Fd&&a.kb!=p.Fd)return!1;for(var b=this.bd;b;b=b.next)if(b.Zf==a&&0==b.Ii.Oz)return!1;return!0};p.prototype.ej=function(a){void 0===a&&(a=0);this.h.ej(a);this.h.o.M(this.h.Gd);this.h.Q=this.h.jg;
this.uc()};m.Bc.push(function(){m.l.ke.HE=new c;m.l.ke.Qc=1;m.l.ke.mp=2;m.l.ke.Nu=4;m.l.ke.Lr=8;m.l.ke.Iy=16;m.l.ke.Kr=32;m.l.ke.qf=0;m.l.ke.iC=1;m.l.ke.Fd=2});t.am=function(){this.position=new d;this.Hz=new d};t.prototype.am=function(){this.nk=null;this.position.P(0,0);this.Nx=0;this.Hz.P(0,0);this.Ox=this.ks=this.YB=0;this.aC=this.VB=!0;this.uC=this.$u=!1;this.type=p.qf;this.ed=!0;this.eD=1};y.kr=function(){};y.prototype.no=function(a,b){var c=a.jx(),d=b.jx();return c.al==d.al&&0!=c.al?0<c.al:0!=
(c.Ff&d.sf)&&0!=(c.sf&d.Ff)};m.Bc.push(function(){m.l.kr.fC=new y});u.Xt=function(){this.UD=new ba(g.pf);this.lF=new ba(g.pf)};w.Ao=function(){};w.prototype.lt=function(){};w.prototype.qt=function(){};w.prototype.Dt=function(){};m.Bc.push(function(){m.l.Ao.gC=new w});L.em=function(){};L.prototype.em=function(){this.vd=null;this.ug=0;this.Qz=y.fC;this.gn=w.gC;this.Pz=new Ea(this.Oj);this.en=new n};L.prototype.lB=function(a,b){var c=a instanceof A?a:null,d=b instanceof A?b:null,f=c.dc,g=d.dc;if(f!=
g){for(var h=g.Pb;h;){if(h.Zf==f){var k=h.Dc.pc,B=h.Dc.qc;if(k==c&&B==d||k==d&&B==c)return}h=h.next}0!=g.no(f)&&0!=this.Qz.no(c,d)&&(h=this.Pz.Ne(c,d),c=h.pc,d=h.qc,f=c.dc,g=d.dc,h.ud=null,h.Ia=this.vd.Pb,null!=this.vd.Pb&&(this.vd.Pb.ud=h),this.vd.Pb=h,h.ae.Dc=h,h.ae.Zf=g,h.ae.ic=null,h.ae.next=f.Pb,null!=f.Pb&&(f.Pb.ic=h.ae),f.Pb=h.ae,h.be.Dc=h,h.be.Zf=f,h.be.ic=null,h.be.next=g.Pb,null!=g.Pb&&(g.Pb.ic=h.be),g.Pb=h.be,++this.vd.ug)}};L.prototype.Mq=function(){this.en.SB(m.TC(this,this.lB))};L.prototype.nd=
function(a){var b=a.pc,c=a.qc,b=b.dc,c=c.dc;a.Tq()&&this.gn.qt(a);a.ud&&(a.ud.Ia=a.Ia);a.Ia&&(a.Ia.ud=a.ud);a==this.vd.Pb&&(this.vd.Pb=a.Ia);a.ae.ic&&(a.ae.ic.next=a.ae.next);a.ae.next&&(a.ae.next.ic=a.ae.ic);a.ae==b.Pb&&(b.Pb=a.ae.next);a.be.ic&&(a.be.ic.next=a.be.next);a.be.next&&(a.be.next.ic=a.be.ic);a.be==c.Pb&&(c.Pb=a.be.next);this.Pz.nd(a);--this.ug};L.prototype.nB=function(){for(var a=this.vd.Pb;a;){var b=a.pc,c=a.qc,d=b.dc,f=c.dc;if(0==d.pd()&&0==f.pd())a=a.Ia;else{if(a.O&Z.Pu){if(0==f.no(d)){b=
a;a=b.Ia;this.nd(b);continue}if(0==this.Qz.no(b,c)){b=a;a=b.Ia;this.nd(b);continue}a.O&=~Z.Pu}0==this.en.lj(b.ol,c.ol)?(b=a,a=b.Ia,this.nd(b)):(a.Kx(this.gn),a=a.Ia)}}};m.Bc.push(function(){m.l.em.xG=new k});M.Oe=function(){};M.prototype.Oe=function(){};m.Bc.push(function(){m.l.Oe.nG=1;m.l.Oe.kG=2;m.l.Oe.gG=4;m.l.Oe.mG=8;m.l.Oe.hG=16;m.l.Oe.iG=32});ca.au=function(){};T.eu=function(){this.sf=1;this.Ff=65535;this.al=0};T.prototype.Eb=function(){var a=new T;a.sf=this.sf;a.Ff=this.Ff;a.al=this.al;return a};
A.fm=function(){this.Rz=new T};A.prototype.Fb=function(){return this.ab.Fb()};A.prototype.sk=function(){return this.zD};A.prototype.jx=function(){return this.Rz.Eb()};A.prototype.Lf=function(){return this.Ri};A.prototype.mo=function(a){this.Ri=a};A.prototype.kx=function(a){void 0===a&&(a=null);null==a&&(a=new q);this.ab.$n(a,this.Pp);return a};A.prototype.Fx=function(a){void 0===a&&(a=0);this.Pp=a};A.prototype.fm=function(){this.dn=new h;this.ab=this.Ia=this.dc=this.Ri=null;this.Jv=this.Cv=this.Pp=
0};A.prototype.Ne=function(a,b,c){this.Ri=c.nk;this.Cv=c.Wm;this.Jv=c.An;this.dc=a;this.Ia=null;this.Rz=c.filter.Eb();this.zD=c.iD;this.ab=c.shape.Eb();this.Pp=c.sb};A.prototype.nd=function(){this.ab=null};A.prototype.bo=function(a,b){this.ab.Ul(this.dn,b);this.ol=a.bo(this.dn,this)};A.prototype.co=function(a){null!=this.ol&&(a.co(this.ol),this.ol=null)};A.prototype.Ix=function(b,c,d){if(this.ol){var f=new h,g=new h;this.ab.Ul(f,c);this.ab.Ul(g,d);this.dn.Tl(f,g);c=a.tc(d.position,c.position);b.Ct(this.ol,
this.dn,c)}};V.gm=function(){this.filter=new T};V.prototype.gm=function(){this.nk=this.shape=null;this.Wm=.2;this.sb=this.An=0;this.filter.sf=1;this.filter.Ff=65535;this.filter.al=0;this.iD=!1};ia.hm=function(){};ia.prototype.hm=function(){this.Mh=new aa;this.hn=new aa;this.$g=new aa};ia.prototype.od=function(a,b,c,d,f,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var h=0;this.qD=b;this.AD=c;this.Xe=this.ug=this.$d=0;this.Oj=d;this.BD=f;this.il=g;for(h=this.Mh.length;h<a;h++)this.Mh[h]=
null;for(h=this.hn.length;h<b;h++)this.hn[h]=null;for(h=this.$g.length;h<c;h++)this.$g[h]=null};ia.prototype.mt=function(){this.Xe=this.ug=this.$d=0};ia.prototype.wk=function(b,c,d){for(var f=0,h=0,U,f=0;f<this.$d;++f)h=this.Mh[f],h.Fb()==p.Fd&&(h.p.x+=b.Va*(c.x+h.R*h.Sj.x),h.p.y+=b.Va*(c.y+h.R*h.Sj.y),h.H+=b.Va*h.fa*h.nn,h.p.aa(a.Db(1-b.Va*h.Wz,0,1)),h.H*=a.Db(1-b.Va*h.pD,0,1));this.il.od(b,this.hn,this.ug,this.Oj);c=this.il;c.Mf(b);for(f=0;f<this.Xe;++f)U=this.$g[f],U.Mf(b);for(f=0;f<b.Sn;++f){for(h=
0;h<this.Xe;++h)U=this.$g[h],U.kf(b);c.kf()}for(f=0;f<this.Xe;++f)U=this.$g[f],U.tt();c.tt();for(f=0;f<this.$d;++f)if(h=this.Mh[f],h.Fb()!=p.qf){var H=b.Va*h.p.x,k=b.Va*h.p.y;H*H+k*k>g.by&&(h.p.cb(),h.p.x=h.p.x*g.rm*b.tg,h.p.y=h.p.y*g.rm*b.tg);H=b.Va*h.H;H*H>g.ay&&(h.H=0>h.H?-g.qm*b.tg:g.qm*b.tg);h.h.Gd.M(h.h.o);h.h.jg=h.h.Q;h.h.o.x+=b.Va*h.p.x;h.h.o.y+=b.Va*h.p.y;h.h.Q+=b.Va*h.H;h.uc()}for(f=0;f<b.un;++f){H=c.jf(g.su);k=!0;for(h=0;h<this.Xe;++h)U=this.$g[h],U=U.jf(g.su),k=k&&U;if(H&&k)break}this.zx(c.Nh);
if(d){d=Number.MAX_VALUE;c=g.$x*g.$x;H=g.Zx*g.Zx;for(f=0;f<this.$d;++f)h=this.Mh[f],h.Fb()!=p.qf&&(0==(h.O&p.Nu)&&(d=h.sl=0),0==(h.O&p.Nu)||h.H*h.H>H||a.Sd(h.p,h.p)>c?d=h.sl=0:(h.sl+=b.Va,d=a.tk(d,h.sl)));if(d>=g.lC)for(f=0;f<this.$d;++f)h=this.Mh[f],h.Ud(!1)}};ia.prototype.Gt=function(a){var b=0,c=0;this.il.od(a,this.hn,this.ug,this.Oj);for(var d=this.il,b=0;b<this.Xe;++b)this.$g[b].Mf(a);for(b=0;b<a.Sn;++b)for(d.kf(),c=0;c<this.Xe;++c)this.$g[c].kf(a);for(b=0;b<this.$d;++b)if(c=this.Mh[b],c.Fb()!=
p.qf){var f=a.Va*c.p.x,h=a.Va*c.p.y;f*f+h*h>g.by&&(c.p.cb(),c.p.x=c.p.x*g.rm*a.tg,c.p.y=c.p.y*g.rm*a.tg);f=a.Va*c.H;f*f>g.ay&&(c.H=0>c.H?-g.qm*a.tg:g.qm*a.tg);c.h.Gd.M(c.h.o);c.h.jg=c.h.Q;c.h.o.x+=a.Va*c.p.x;c.h.o.y+=a.Va*c.p.y;c.h.Q+=a.Va*c.H;c.uc()}for(b=0;b<a.un;++b){f=d.jf(.75);h=!0;for(c=0;c<this.Xe;++c)var H=this.$g[c].jf(g.su),h=h&&H;if(f&&h)break}this.zx(d.Nh)};ia.prototype.zx=function(a){if(null!=this.BD)for(var b=0;b<this.ug;++b)for(var c=a[b],d=0;d<c.If;++d)ia.wA.UD[d]=c.ue[d].jd,ia.wA.lF[d]=
c.ue[d].ki};ia.prototype.kt=function(a){a.tG=this.$d;this.Mh[this.$d++]=a};ia.prototype.Uw=function(a){this.hn[this.ug++]=a};ia.prototype.Vw=function(a){this.$g[this.Xe++]=a};m.Bc.push(function(){m.l.hm.wA=new u});W.sr=function(){};W.prototype.P=function(a){this.Va=a.Va;this.tg=a.tg;this.un=a.un;this.Sn=a.Sn;this.Ig=a.Ig};C.Qe=function(){this.AE=new aa;this.We=new L;this.il=new pa;this.Vz=new ia};C.prototype.Qe=function(a,b){this.Pj=this.bd=this.Pb=this.Hc=null;this.Av=this.Xe=this.ug=this.$d=0;C.HD=
!0;C.rD=!0;this.oD=b;this.Tz=a;this.Uz=0;this.We.vd=this;this.xD=this.ao(new t)};C.prototype.Ex=function(a){this.We.gn=a};C.prototype.ao=function(a){if(1==this.Sq())return null;a=new p(a,this);a.ud=null;if(a.Ia=this.Hc)this.Hc.ud=a;this.Hc=a;++this.$d;return a};C.prototype.bx=function(a){if(1!=this.Sq()){for(var b=a.bd;b;){var c=b,b=b.next;this.cx(c.Ii)}for(b=a.Pj;b;)c=b,b=b.Vi,c.vy.xx(a);for(b=a.Pb;b;)c=b,b=b.next,this.We.nd(c.Dc);a.Pb=null;for(b=a.Ic;b;)c=b,b=b.Ia,c.co(this.We.en),c.nd();a.Ic=null;
a.Sz=0;a.ud&&(a.ud.Ia=a.Ia);a.Ia&&(a.Ia.ud=a.ud);a==this.Hc&&(this.Hc=a.Ia);--this.$d}};C.prototype.uB=function(a){var b=Fa.Ne(a,null);b.ud=null;if(b.Ia=this.bd)this.bd.ud=b;this.bd=b;++this.Xe;b.Ge.Ii=b;b.Ge.Zf=b.Ra;b.Ge.ic=null;if(b.Ge.next=b.Ha.bd)b.Ha.bd.ic=b.Ge;b.Ha.bd=b.Ge;b.He.Ii=b;b.He.Zf=b.Ha;b.He.ic=null;if(b.He.next=b.Ra.bd)b.Ra.bd.ic=b.He;b.Ra.bd=b.He;var c=a.lb,d=a.vb;if(0==a.Dr)for(a=d.Pb;a;)a.Zf==c&&a.Dc.gx(),a=a.next;return b};C.prototype.cx=function(a){var b=a.Oz;a.ud&&(a.ud.Ia=a.Ia);
a.Ia&&(a.Ia.ud=a.ud);a==this.bd&&(this.bd=a.Ia);var c=a.Ha,d=a.Ra;c.Ud(!0);d.Ud(!0);a.Ge.ic&&(a.Ge.ic.next=a.Ge.next);a.Ge.next&&(a.Ge.next.ic=a.Ge.ic);a.Ge==c.bd&&(c.bd=a.Ge.next);a.Ge.ic=null;a.Ge.next=null;a.He.ic&&(a.He.ic.next=a.He.next);a.He.next&&(a.He.next.ic=a.He.ic);a.He==d.bd&&(d.bd=a.He.next);a.He.ic=null;a.He.next=null;Fa.nd(a,null);--this.Xe;if(0==b)for(a=d.Pb;a;)a.Zf==c&&a.Dc.gx(),a=a.next};C.prototype.kj=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.O&
C.Ru&&(this.We.Mq(),this.O&=~C.Ru);this.O|=C.Qu;var d=C.EE;d.Va=a;d.Sn=b;d.un=c;d.tg=0<a?1/a:0;d.Ec=this.Uz*a;d.Ig=C.HD;this.We.nB();0<d.Va&&this.wk(d);C.rD&&0<d.Va&&this.Gt(d);0<d.Va&&(this.Uz=d.tg);this.O&=~C.Qu};C.prototype.Sq=function(){return 0<(this.O&C.Qu)};C.prototype.wk=function(a){for(var b,c=this.Pj;c;c=c.Ia)c.kj(a);c=this.Vz;c.od(this.$d,this.ug,this.Xe,null,this.We.gn,this.il);for(b=this.Hc;b;b=b.Ia)b.O&=~p.Qc;for(var d=this.Pb;d;d=d.Ia)d.O&=~Z.Qc;for(d=this.bd;d;d=d.Ia)d.jl=!1;parseInt(this.$d);
for(var d=this.AE,f=this.Hc;f;f=f.Ia)if(!(f.O&p.Qc)&&0!=f.pd()&&0!=f.rk()&&f.Fb()!=p.qf){c.mt();var g=0;d[g++]=f;for(f.O|=p.Qc;0<g;)if(b=d[--g],c.kt(b),0==b.pd()&&b.Ud(!0),b.Fb()!=p.qf){for(var h,k=b.Pb;k;k=k.next)k.Dc.O&Z.Qc||1==k.Dc.sk()||0==k.Dc.Qq()||0==k.Dc.Tq()||(c.Uw(k.Dc),k.Dc.O|=Z.Qc,h=k.Zf,h.O&p.Qc||(d[g++]=h,h.O|=p.Qc));for(b=b.bd;b;b=b.next)1!=b.Ii.jl&&(h=b.Zf,0!=h.rk()&&(c.Vw(b.Ii),b.Ii.jl=!0,h.O&p.Qc||(d[g++]=h,h.O|=p.Qc)))}c.wk(a,this.Tz,this.oD);for(g=0;g<c.$d;++g)b=c.Mh[g],b.Fb()==
p.qf&&(b.O&=~p.Qc)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(b=this.Hc;b;b=b.Ia)0==b.pd()||0==b.rk()||b.Fb()!=p.qf&&b.Jx();this.We.Mq()};C.prototype.Gt=function(a){var b,c,d,f=this.Vz;f.od(this.$d,g.jC,g.kC,null,this.We.gn,this.il);var h=C.wE;for(b=this.Hc;b;b=b.Ia)b.O&=~p.Qc,b.h.zd=0;for(d=this.Pb;d;d=d.Ia)d.O&=~(Z.Lm|Z.Qc);for(d=this.bd;d;d=d.Ia)d.jl=!1;for(;;){var H=null,k=1;for(d=this.Pb;d;d=d.Ia)if(1!=d.sk()&&0!=d.Qq()&&0!=d.DB()){if(d.O&Z.Lm)b=d.GD;else{b=d.pc;c=d.qc;b=b.dc;c=c.dc;if(!(b.Fb()==
p.Fd&&0!=b.pd()||c.Fb()==p.Fd&&0!=c.pd()))continue;var B=b.h.zd;b.h.zd<c.h.zd?(B=c.h.zd,b.h.ej(B)):c.h.zd<b.h.zd&&(B=b.h.zd,c.h.ej(B));b=d.tB(b.h,c.h);g.gc(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*B+b,1<b&&(b=1));d.GD=b;d.O|=Z.Lm}Number.MIN_VALUE<b&&b<k&&(H=d,k=b)}if(null==H||1-100*Number.MIN_VALUE<k)break;b=H.pc;c=H.qc;b=b.dc;c=c.dc;C.tA.P(b.h);C.uA.P(c.h);b.ej(k);c.ej(k);H.Kx(this.We.gn);H.O&=~Z.Lm;if(1==H.sk()||0==H.Qq())b.h.P(C.tA),c.h.P(C.uA),b.uc(),c.uc();else if(0!=H.Tq()){b.Fb()!=p.Fd&&(b=c);f.mt();
H=d=0;h[d+H++]=b;for(b.O|=p.Qc;0<H;)if(b=h[d++],--H,f.kt(b),0==b.pd()&&b.Ud(!0),b.Fb()==p.Fd){for(c=b.Pb;c&&f.ug!=f.qD;c=c.next)c.Dc.O&Z.Qc||1==c.Dc.sk()||0==c.Dc.Qq()||0==c.Dc.Tq()||(f.Uw(c.Dc),c.Dc.O|=Z.Qc,B=c.Zf,B.O&p.Qc||(B.Fb()!=p.qf&&(B.ej(k),B.Ud(!0)),h[d+H]=B,++H,B.O|=p.Qc));for(b=b.bd;b;b=b.next)f.Xe!=f.AD&&1!=b.Ii.jl&&(B=b.Zf,0!=B.rk()&&(f.Vw(b.Ii),b.Ii.jl=!0,B.O&p.Qc||(B.Fb()!=p.qf&&(B.ej(k),B.Ud(!0)),h[d+H]=B,++H,B.O|=p.Qc)))}d=C.DE;d.Ig=!1;d.Va=(1-k)*a.Va;d.tg=1/d.Va;d.Ec=0;d.Sn=a.Sn;
d.un=a.un;f.Gt(d);for(k=k=0;k<f.$d;++k)if(b=f.Mh[k],b.O&=~p.Qc,0!=b.pd()&&b.Fb()==p.Fd)for(b.Jx(),c=b.Pb;c;c=c.next)c.Dc.O&=~Z.Lm;for(k=0;k<f.ug;++k)d=f.hn[k],d.O&=~(Z.Lm|Z.Qc);for(k=0;k<f.Xe;++k)d=f.$g[k],d.jl=!1;this.We.Mq()}}};m.Bc.push(function(){m.l.Qe.EE=new W;m.l.Qe.AG=new c;m.l.Qe.tA=new b;m.l.Qe.uA=new b;m.l.Qe.DE=new W;m.l.Qe.wE=new aa;m.l.Qe.yG=new f(.5,.8,.8);m.l.Qe.Ru=1;m.l.Qe.Qu=2})})();
(function(){var a=m.v.Ua.qj,b=m.v.Ua.ui,c=m.v.Ua.Wb,d=m.l.ka.St,f=m.l.ka.Ya,g=m.l.ka.zo,h=m.l.ka.Vt,k=m.l.ka.Wt,n=m.l.ka.cm,q=m.l.ka.Yt,p=m.l.ka.Zt,t=m.l.ka.rj,y=m.l.ka.du,u=m.l.ka.Po,w=m.l.ka.ju,L=m.l.ka.ku,M=m.l.ka.mu,ca=m.l.ka.Ck,T=m.l.ke,A=m.l.sr,V=m.ba.Nb,ia=m.ba.Math.ti,W=m.ba.Math.Nf,C=m.ba.Math.mg,Z=m.v.Ed,Ea=m.v.dm,pa=m.v.si,Fa=m.v.Pe,v=m.v.rr,r=m.v.pm;m.Ib(d,m.l.ka.Ya);d.prototype.na=m.l.ka.Ya.prototype;d.St=function(){m.l.ka.Ya.Ya.apply(this,arguments)};d.Ne=function(){return new d};d.nd=
function(){};d.prototype.ie=function(a,b){this.na.ie.call(this,a,b)};d.prototype.Kg=function(){Z.oB(this.Xf,this.pc.ab instanceof a?this.pc.ab:null,this.pc.dc.g,this.qc.ab instanceof a?this.qc.ab:null,this.qc.dc.g)};f.Ya=function(){this.ae=new k;this.be=new k;this.Xf=new pa;this.Wp=new pa};f.prototype.Tq=function(){return(this.O&f.Mm)==f.Mm};f.prototype.DB=function(){return(this.O&f.np)==f.np};f.prototype.sk=function(){return(this.O&f.pp)==f.pp};f.prototype.KB=function(){this.O&=~f.op};f.prototype.Qq=
function(){return(this.O&f.op)==f.op};f.prototype.gx=function(){this.O|=f.Pu};f.prototype.Ya=function(){};f.prototype.ie=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.O=f.op;if(a&&b){if(a.sk()||b.sk())this.O|=f.pp;var c=a.dc,d=b.dc;if(c.Fb()!=T.Fd||c.Pq()||d.Fb()!=T.Fd||d.Pq())this.O|=f.np;this.pc=a;this.qc=b;this.Xf.Jc=0;this.Ia=this.ud=null;this.ae.Dc=null;this.ae.ic=null;this.ae.next=null;this.ae.Zf=null;this.be.Dc=null;this.be.ic=null;this.be.next=null;this.be.Zf=null}else this.qc=
this.pc=null};f.prototype.Kx=function(a){var b=this.Wp;this.Wp=this.Xf;this.Xf=b;this.O|=f.op;var d=!1,b=(this.O&f.Mm)==f.Mm,g=this.pc.dc,h=this.qc.dc,r=this.pc.dn.lj(this.qc.dn);if(this.O&f.pp)r&&(d=this.pc.ab,r=this.qc.ab,g=g.gf(),h=h.gf(),d=c.lj(d,g,r,h)),this.Xf.Jc=0;else{this.O=g.Fb()!=T.Fd||g.Pq()||h.Fb()!=T.Fd||h.Pq()?this.O|f.np:this.O&~f.np;if(r)for(this.Kg(),d=0<this.Xf.Jc,r=0;r<this.Xf.Jc;++r){var v=this.Xf.hb[r];v.ml=0;v.tl=0;for(var k=v.Pi,p=0;p<this.Wp.Jc;++p){var n=this.Wp.hb[p];if(n.Pi.key==
k.key){v.ml=n.ml;v.tl=n.tl;break}}}else this.Xf.Jc=0;d!=b&&(g.Ud(!0),h.Ud(!0))}this.O=d?this.O|f.Mm:this.O&~f.Mm;0==b&&1==d&&a.lt(this);1==b&&0==d&&a.qt(this);0==(this.O&f.pp)&&a.Dt(this,this.Wp)};f.prototype.Kg=function(){};f.prototype.tB=function(a,b){f.Dn.$h.P(this.pc.ab);f.Dn.ai.P(this.qc.ab);f.Dn.QA=a;f.Dn.RA=b;f.Dn.qF=V.zb;return Fa.QB(f.Dn)};m.Bc.push(function(){m.l.ka.Ya.pp=1;m.l.ka.Ya.np=2;m.l.ka.Ya.Qc=4;m.l.ka.Ya.Lm=8;m.l.ka.Ya.Mm=16;m.l.ka.Ya.op=32;m.l.ka.Ya.Pu=64;m.l.ka.Ya.Dn=new v});
g.zo=function(){this.ns=new C;this.Lh=new C;this.Yf=new C;this.qn=new ia;this.Bd=new ia};g.prototype.zo=function(){this.ue=new aa(V.pf);for(var a=0;a<V.pf;a++)this.ue[a]=new h};h.Vt=function(){this.Lh=new C;this.pb=new C;this.qb=new C};k.Wt=function(){};n.cm=function(){};n.prototype.cm=function(a){this.Oj=a;this.CB()};n.prototype.Zn=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Sh[c][d].wy=a;this.Sh[c][d].Ay=b;this.Sh[c][d].lA=!0;c!=d&&(this.Sh[d][c].wy=a,this.Sh[d][c].Ay=b,this.Sh[d][c].lA=
!1)};n.prototype.CB=function(){this.Sh=new aa(c.Or);for(var a=0;a<c.Or;a++){this.Sh[a]=new aa(c.Or);for(var b=0;b<c.Or;b++)this.Sh[a][b]=new q}this.Zn(d.Ne,d.nd,c.Nk,c.Nk);this.Zn(w.Ne,w.nd,c.xj,c.Nk);this.Zn(M.Ne,M.nd,c.xj,c.xj);this.Zn(y.Ne,y.nd,c.Mr,c.Nk);this.Zn(L.Ne,L.nd,c.xj,c.Mr)};n.prototype.Ne=function(a,b){var c=parseInt(a.Fb()),d=parseInt(b.Fb()),c=this.Sh[c][d];if(c.Bs)return d=c.Bs,c.Bs=d.Ia,c.fE--,d.ie(a,b),d;d=c.wy;return null!=d?(c.lA?(d=d(this.Oj),d.ie(a,b)):(d=d(this.Oj),d.ie(b,
a)),d):null};n.prototype.nd=function(a){0<a.Xf.Jc&&(a.pc.dc.Ud(!0),a.qc.dc.Ud(!0));var b=parseInt(a.pc.Fb()),b=this.Sh[b][parseInt(a.qc.Fb())];b.fE++;a.Ia=b.Bs;b.Bs=a;b=b.Ay;b(a,this.Oj)};q.Yt=function(){};p.Zt=function(){this.position=new C;this.Yf=new C;this.id=new Ea};t.rj=function(){this.FD=new A;this.Nh=new aa};t.prototype.rj=function(){};t.prototype.od=function(a,b,c,d){void 0===c&&(c=0);var f;this.FD.P(a);this.Oj=d;for(this.Op=c;this.Nh.length<this.Op;)this.Nh[this.Nh.length]=new g;for(a=0;a<
c;++a){f=b[a];d=f.pc;var h=f.qc,r=d.ab.Ea,v=h.ab.Ea,k=d.dc,p=h.dc,n=f.Xf,u=V.cC(d.Cv,h.Cv),q=V.dC(d.Jv,h.Jv),kb=k.p.x,y=k.p.y,w=p.p.x,A=p.p.y,T=k.H,L=p.H;V.gc(0<n.Jc);t.Gl.od(n,k.g,r,p.g,v);h=t.Gl.Sa.x;f=t.Gl.Sa.y;d=this.Nh[a];d.lb=k;d.vb=p;d.ID=n;d.Yf.x=h;d.Yf.y=f;d.If=n.Jc;d.Wm=u;d.An=q;d.ns.x=n.Md.x;d.ns.y=n.Md.y;d.Lh.x=n.gb.x;d.Lh.y=n.gb.y;d.hh=r+v;d.type=n.kb;for(r=0;r<d.If;++r){u=n.hb[r];v=d.ue[r];v.jd=u.ml;v.ki=u.tl;v.Lh.M(u.gb);var u=v.pb.x=t.Gl.hb[r].x-k.h.o.x,q=v.pb.y=t.Gl.hb[r].y-k.h.o.y,
C=v.qb.x=t.Gl.hb[r].x-p.h.o.x,ca=v.qb.y=t.Gl.hb[r].y-p.h.o.y,M=u*f-q*h,W=C*f-ca*h,M=M*M,W=W*W;v.qn=1/(k.R+p.R+k.fa*M+p.fa*W);var Z=k.Y*k.R+p.Y*p.R,Z=Z+(k.Y*k.fa*M+p.Y*p.fa*W);v.LC=1/Z;W=f;Z=-h;M=u*Z-q*W;W=C*Z-ca*W;M*=M;W*=W;v.mF=1/(k.R+p.R+k.fa*M+p.fa*W);v.Bq=0;u=d.Yf.x*(w+-L*ca-kb- -T*q)+d.Yf.y*(A+L*C-y-T*u);u<-V.pC&&(v.Bq+=-d.An*u)}2==d.If&&(A=d.ue[0],w=d.ue[1],n=k.R,k=k.fa,kb=p.R,p=p.fa,y=A.pb.x*f-A.pb.y*h,A=A.qb.x*f-A.qb.y*h,T=w.pb.x*f-w.pb.y*h,w=w.qb.x*f-w.qb.y*h,h=n+kb+k*y*y+p*A*A,f=n+kb+k*
T*T+p*w*w,p=n+kb+k*y*T+p*A*w,h*h<100*(h*f-p*p)?(d.Bd.j.P(h,p),d.Bd.k.P(p,f),d.Bd.wt(d.qn)):d.If=1)}};t.prototype.Mf=function(a){for(var b=0;b<this.Op;++b){var c=this.Nh[b],d=c.lb,f=c.vb,g=d.R,h=d.fa,r=f.R,v=f.fa,k=c.Yf.x,p=c.Yf.y,n=p,t=-k,u=0,q=0;if(a.Ig)for(q=c.If,u=0;u<q;++u){var y=c.ue[u];y.jd*=a.Ec;y.ki*=a.Ec;var w=y.jd*k+y.ki*n,A=y.jd*p+y.ki*t;d.H-=h*(y.pb.x*A-y.pb.y*w);d.p.x-=g*w;d.p.y-=g*A;f.H+=v*(y.qb.x*A-y.qb.y*w);f.p.x+=r*w;f.p.y+=r*A}else for(q=c.If,u=0;u<q;++u)d=c.ue[u],d.jd=0,d.ki=0}};
t.prototype.kf=function(){for(var a=0,b,c=0,d=0,f=0,g=0,h=0,r=0,v=0,k,p=0;p<this.Op;++p){var f=this.Nh[p],n=f.lb,t=f.vb,u=n.H,q=t.H,y=n.p,w=t.p,A=n.R,T=n.fa,M=t.R,C=t.fa,r=f.Yf.x,L=v=f.Yf.y;k=-r;h=f.Wm;for(a=0;a<f.If;a++)b=f.ue[a],c=w.x-q*b.qb.y-y.x+u*b.pb.y,d=w.y+q*b.qb.x-y.y-u*b.pb.x,c=c*L+d*k,c=b.mF*-c,d=h*b.jd,d=W.Db(b.ki+c,-d,d),c=d-b.ki,g=c*L,c*=k,y.x-=A*g,y.y-=A*c,u-=T*(b.pb.x*c-b.pb.y*g),w.x+=M*g,w.y+=M*c,q+=C*(b.qb.x*c-b.qb.y*g),b.ki=d;parseInt(f.If);if(1==f.If)b=f.ue[0],c=w.x+-q*b.qb.y-
y.x- -u*b.pb.y,d=w.y+q*b.qb.x-y.y-u*b.pb.x,f=c*r+d*v,c=-b.qn*(f-b.Bq),d=b.jd+c,d=0<d?d:0,c=d-b.jd,g=c*r,c*=v,y.x-=A*g,y.y-=A*c,u-=T*(b.pb.x*c-b.pb.y*g),w.x+=M*g,w.y+=M*c,q+=C*(b.qb.x*c-b.qb.y*g),b.jd=d;else{b=f.ue[0];var a=f.ue[1],c=b.jd,h=a.jd,ca=(w.x-q*b.qb.y-y.x+u*b.pb.y)*r+(w.y+q*b.qb.x-y.y-u*b.pb.x)*v,V=(w.x-q*a.qb.y-y.x+u*a.pb.y)*r+(w.y+q*a.qb.x-y.y-u*a.pb.x)*v,d=ca-b.Bq,g=V-a.Bq;k=f.Bd;d-=k.j.x*c+k.k.x*h;for(g-=k.j.y*c+k.k.y*h;;){k=f.qn;L=-(k.j.x*d+k.k.x*g);k=-(k.j.y*d+k.k.y*g);if(0<=L&&0<=
k){c=L-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;y.x-=A*(f+r);y.y-=A*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=C*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*r);b.jd=L;a.jd=k;break}L=-b.qn*d;k=0;V=f.Bd.j.y*L+g;if(0<=L&&0<=V){c=L-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;y.x-=A*(f+r);y.y-=A*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=C*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*r);b.jd=L;a.jd=k;break}L=0;k=-a.qn*g;ca=f.Bd.k.x*k+d;if(0<=k&&0<=ca){c=L-c;h=k-h;f=c*r;c*=v;r*=
h;v*=h;y.x-=A*(f+r);y.y-=A*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=C*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*r);b.jd=L;a.jd=k;break}k=L=0;ca=d;V=g;if(0<=ca&&0<=V){c=L-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;y.x-=A*(f+r);y.y-=A*(c+v);u-=T*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=C*(b.qb.x*c-b.qb.y*f+a.qb.x*v-a.qb.y*r);b.jd=L;a.jd=k;break}break}}n.H=u;t.H=q}};t.prototype.tt=function(){for(var a=0;a<this.Op;++a)for(var b=this.Nh[a],c=b.ID,d=0;d<b.If;++d){var f=
c.hb[d],g=b.ue[d];f.ml=g.jd;f.tl=g.ki}};t.prototype.jf=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.Op;c++){var d=this.Nh[c],f=d.lb,g=d.vb,h=f.Y*f.R,r=f.Y*f.fa,v=g.Y*g.R,k=g.Y*g.fa;t.Ns.od(d);for(var p=t.Ns.Sa,n=0;n<d.If;n++){var u=d.ue[n],q=t.Ns.hb[n],y=t.Ns.qs[n],w=q.x-f.h.o.x,A=q.y-f.h.o.y,L=q.x-g.h.o.x,q=q.y-g.h.o.y,b=b<y?b:y,y=W.Db(a*(y+V.zb),-V.of,0),y=-u.LC*y,u=y*p.x,y=y*p.y;f.h.o.x-=h*u;f.h.o.y-=h*y;f.h.Q-=r*(w*y-A*u);f.uc();g.h.o.x+=v*u;g.h.o.y+=v*y;g.h.Q+=k*(L*y-q*u);g.uc()}}return b>
-1.5*V.zb};m.Bc.push(function(){m.l.ka.rj.Gl=new r;m.l.ka.rj.Ns=new ca});m.Ib(y,m.l.ka.Ya);y.prototype.na=m.l.ka.Ya.prototype;y.du=function(){m.l.ka.Ya.Ya.apply(this,arguments)};y.Ne=function(){return new y};y.nd=function(){};y.prototype.ie=function(a,b){this.na.ie.call(this,a,b)};y.prototype.Kg=function(){};m.Ib(u,m.l.ka.Ya);u.prototype.na=m.l.ka.Ya.prototype;u.Po=function(){m.l.ka.Ya.Ya.apply(this,arguments)};u.prototype.Po=function(){this.na.Ya.call(this)};u.prototype.Kg=function(){};m.Ib(w,m.l.ka.Ya);
w.prototype.na=m.l.ka.Ya.prototype;w.ju=function(){m.l.ka.Ya.Ya.apply(this,arguments)};w.Ne=function(){return new w};w.nd=function(){};w.prototype.ie=function(a,b){this.na.ie.call(this,a,b);V.gc(a.Fb()==c.xj);V.gc(b.Fb()==c.Nk)};w.prototype.Kg=function(){Z.pB(this.Xf,this.pc.ab instanceof b?this.pc.ab:null,this.pc.dc.g,this.qc.ab instanceof a?this.qc.ab:null,this.qc.dc.g)};m.Ib(L,m.l.ka.Ya);L.prototype.na=m.l.ka.Ya.prototype;L.ku=function(){m.l.ka.Ya.Ya.apply(this,arguments)};L.Ne=function(){return new L};
L.nd=function(){};L.prototype.ie=function(a,b){this.na.ie.call(this,a,b);V.gc(a.Fb()==c.xj);V.gc(b.Fb()==c.Mr)};L.prototype.Kg=function(){};m.Ib(M,m.l.ka.Ya);M.prototype.na=m.l.ka.Ya.prototype;M.mu=function(){m.l.ka.Ya.Ya.apply(this,arguments)};M.Ne=function(){return new M};M.nd=function(){};M.prototype.ie=function(a,b){this.na.ie.call(this,a,b)};M.prototype.Kg=function(){Z.qB(this.Xf,this.pc.ab instanceof b?this.pc.ab:null,this.pc.dc.g,this.qc.ab instanceof b?this.qc.ab:null,this.qc.dc.g)};ca.Ck=
function(){};ca.prototype.Ck=function(){this.Sa=new C;this.qs=new ba(V.pf);this.hb=new aa(V.pf);for(var a=0;a<V.pf;a++)this.hb[a]=new C};ca.prototype.od=function(a){V.gc(0<a.If);var b=0,c=0,d=0,f,g=0,h=0;switch(a.type){case pa.Ou:f=a.lb.g.w;d=a.Lh;b=a.lb.g.position.x+(f.j.x*d.x+f.k.x*d.y);c=a.lb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.vb.g.w;d=a.ue[0].Lh;g=a.vb.g.position.x+(f.j.x*d.x+f.k.x*d.y);f=a.vb.g.position.y+(f.j.y*d.x+f.k.y*d.y);var d=g-b,h=f-c,r=d*d+h*h;r>Number.MIN_VALUE*Number.MIN_VALUE?
(r=Math.sqrt(r),this.Sa.x=d/r,this.Sa.y=h/r):(this.Sa.x=1,this.Sa.y=0);this.hb[0].x=.5*(b+g);this.hb[0].y=.5*(c+f);this.qs[0]=d*this.Sa.x+h*this.Sa.y-a.hh;break;case pa.Tg:f=a.lb.g.w;d=a.ns;this.Sa.x=f.j.x*d.x+f.k.x*d.y;this.Sa.y=f.j.y*d.x+f.k.y*d.y;f=a.lb.g.w;d=a.Lh;g=a.lb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.lb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.vb.g.w;for(b=0;b<a.If;++b)d=a.ue[b].Lh,c=a.vb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.vb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.qs[b]=(c-g)*this.Sa.x+
(d-h)*this.Sa.y-a.hh,this.hb[b].x=c,this.hb[b].y=d;break;case pa.Ok:f=a.vb.g.w;d=a.ns;this.Sa.x=f.j.x*d.x+f.k.x*d.y;this.Sa.y=f.j.y*d.x+f.k.y*d.y;f=a.vb.g.w;d=a.Lh;g=a.vb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.vb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.lb.g.w;for(b=0;b<a.If;++b)d=a.ue[b].Lh,c=a.lb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.lb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.qs[b]=(c-g)*this.Sa.x+(d-h)*this.Sa.y-a.hh,this.hb[b].P(c,d);this.Sa.x*=-1;this.Sa.y*=-1}};m.Bc.push(function(){m.l.ka.Ck.dG=
new C;m.l.ka.Ck.eG=new C})})();
(function(){var a=m.ba.Math.ti,b=m.ba.Math.Nf,c=m.ba.Math.mg,d=m.l.Vb.Rt,f=m.l.Vb.Tt,g=m.l.Vb.Ut,h=m.l.Vb.Oc,k=m.l.Vb.$t,n=m.l.Vb.fu,q=m.l.Vb.qu;m.Ib(d,m.l.Vb.Oc);d.prototype.na=m.l.Vb.Oc.prototype;d.Rt=function(){m.l.Vb.Oc.Oc.apply(this,arguments);this.Yf=new c(0,-1);this.sb=this.offset=0;this.sh=new c(0,0);this.mD=2;this.XB=1;this.tF=!0;this.iz=null};d.prototype.kj=function(){if(this.Hc){this.tF&&(this.iz=this.vd.Tz.Eb());for(var a=this.Hc;a;a=a.bf){var b=a.body;if(0!=b.pd()){for(var d=new c,f=
new c,g=0,h=0,k=b.Ic;k;k=k.Ia){var n=new c,q=k.ab.Iq(this.Yf,this.offset,b.gf(),n),g=g+q;d.x+=q*n.x;d.y+=q*n.y;var A=0,A=1,h=h+q*A;f.x+=q*n.x*A;f.y+=q*n.y*A}d.x/=g;d.y/=g;f.x/=h;f.y/=h;g<Number.MIN_VALUE||(h=this.iz.gj(),h.aa(this.sb*g),b.qk(h,f),f=b.yB(d),f.po(this.sh),f.aa(-this.mD*g),b.qk(f,d),b.mB(-b.Uf/b.Y*g*b.H*this.XB))}}}};m.Ib(f,m.l.Vb.Oc);f.prototype.na=m.l.Vb.Oc.prototype;f.Tt=function(){m.l.Vb.Oc.Oc.apply(this,arguments);this.Sw=new c(0,0)};f.prototype.kj=function(a){a=new c(this.Sw.x*
a.Va,this.Sw.y*a.Va);for(var b=this.Hc;b;b=b.bf){var d=b.body;d.pd()&&d.lo(new c(d.p.x+a.x,d.p.y+a.y))}};m.Ib(g,m.l.Vb.Oc);g.prototype.na=m.l.Vb.Oc.prototype;g.Ut=function(){m.l.Vb.Oc.Oc.apply(this,arguments);this.vB=new c(0,0)};g.prototype.kj=function(){for(var a=this.Hc;a;a=a.bf){var b=a.body;b.pd()&&b.qk(this.vB,b.h.o)}};h.Oc=function(){};h.prototype.kj=function(){};h.prototype.kt=function(a){var b=new k;b.vy=this;b.body=a;b.bf=this.Hc;b.jq=null;this.Hc=b;b.bf&&(b.bf.jq=b);this.$d++;b.Vi=a.Pj;
b.kq=null;a.Pj=b;b.Vi&&(b.Vi.kq=b);a.Av++};h.prototype.xx=function(a){for(var b=a.Pj;b&&b.vy!=this;)b=b.Vi;b.jq&&(b.jq.bf=b.bf);b.bf&&(b.bf.jq=b.jq);b.Vi&&(b.Vi.kq=b.kq);b.kq&&(b.kq.Vi=b.Vi);this.Hc==b&&(this.Hc=b.bf);a.Pj==b&&(a.Pj=b.Vi);a.Av--;this.$d--};h.prototype.mt=function(){for(;this.Hc;)this.xx(this.Hc.body)};k.$t=function(){};m.Ib(n,m.l.Vb.Oc);n.prototype.na=m.l.Vb.Oc.prototype;n.fu=function(){m.l.Vb.Oc.Oc.apply(this,arguments);this.hx=1;this.gD=!0};n.prototype.kj=function(){var a=null,
b=null,d=null,f=0,g=null,h=null,k=null,n=0,q=0,A=0;if(this.gD)for(a=this.Hc;a;a=a.bf)for(b=a.body,d=b.h.o,f=b.Y,g=this.Hc;g!=a;g=g.bf)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,A=n*n+q*q,A<Number.MIN_VALUE||(n=new c(n,q),n.aa(this.hx/A/Math.sqrt(A)*f*h.Y),b.pd()&&b.qk(n,d),n.aa(-1),h.pd()&&h.qk(n,k));else for(a=this.Hc;a;a=a.bf)for(b=a.body,d=b.h.o,f=b.Y,g=this.Hc;g!=a;g=g.bf)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,A=n*n+q*q,A<Number.MIN_VALUE||(n=new c(n,q),n.aa(this.hx/A*f*h.Y),b.pd()&&b.qk(n,d),n.aa(-1),
h.pd()&&h.qk(n,k))};m.Ib(q,m.l.Vb.Oc);q.prototype.na=m.l.Vb.Oc.prototype;q.qu=function(){m.l.Vb.Oc.Oc.apply(this,arguments);this.PB=new a;this.Nv=0};q.prototype.kj=function(a){a=a.Va;if(!(a<=Number.MIN_VALUE)){a>this.Nv&&0<this.Nv&&(a=this.Nv);for(var d=this.Hc;d;d=d.bf){var f=d.body;if(f.pd()){var g=f.zt(b.Cd(this.PB,f.xt(f.p)));f.lo(new c(f.p.x+g.x*a,f.p.y+g.y*a))}}}}})();
(function(){var a=m.ba.Nb,b=m.ba.Math.ti,c=m.ba.Math.im,d=m.ba.Math.Nf,f=m.ba.Math.mg,g=m.ba.Math.om,h=m.l.L.Bo,k=m.l.L.Co,n=m.l.L.Go,q=m.l.L.Ho,p=m.l.L.Io,t=m.l.L.Jo,y=m.l.L.gu,u=m.l.L.ja,w=m.l.L.wa,L=m.l.L.hu,M=m.l.L.Ko,ca=m.l.L.Lo,T=m.l.L.Oo,A=m.l.L.jm,V=m.l.L.Qo,ia=m.l.L.Ro,W=m.l.L.km,C=m.l.L.So,Z=m.l.L.lm,Ea=m.l.L.mm,pa=m.l.L.Wo,Fa=m.l.L.Xo;m.Ib(h,m.l.L.ja);h.prototype.na=m.l.L.ja.prototype;h.Bo=function(){m.l.L.ja.ja.apply(this,arguments);this.qa=new f;this.xa=new f;this.hd=new f};h.prototype.Ad=
function(){return this.Ha.gg(this.qa)};h.prototype.Bo=function(a){this.na.ja.call(this,a);this.qa.M(a.$c);this.xa.M(a.ad);this.Dv=a.length;this.Rp=a.Yr;this.Bv=a.Fr;this.Nz=this.pe=this.s=0};h.prototype.Mf=function(b){var c,d=0,f=this.Ha,g=this.Ra;c=f.g.w;var h=this.qa.x-f.h.W.x,k=this.qa.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.w;var n=this.xa.x-g.h.W.x,p=this.xa.y-g.h.W.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;this.hd.x=g.h.o.x+n-f.h.o.x-h;this.hd.y=g.h.o.y+p-f.h.o.y-k;d=Math.sqrt(this.hd.x*
this.hd.x+this.hd.y*this.hd.y);d>a.zb?this.hd.aa(1/d):this.hd.Ma();c=h*this.hd.y-k*this.hd.x;var la=n*this.hd.y-p*this.hd.x;c=f.R+f.fa*c*c+g.R+g.fa*la*la;this.Y=0!=c?1/c:0;if(0<this.Rp){var d=d-this.Dv,la=2*Math.PI*this.Rp,q=this.Y*la*la;this.pe=b.Va*(2*this.Y*this.Bv*la+b.Va*q);this.pe=0!=this.pe?1/this.pe:0;this.Nz=d*b.Va*q*this.pe;this.Y=c+this.pe;this.Y=0!=this.Y?1/this.Y:0}b.Ig?(this.s*=b.Ec,b=this.s*this.hd.x,c=this.s*this.hd.y,f.p.x-=f.R*b,f.p.y-=f.R*c,f.H-=f.fa*(h*c-k*b),g.p.x+=g.R*b,g.p.y+=
g.R*c,g.H+=g.fa*(n*c-p*b)):this.s=0};h.prototype.kf=function(){var a,b=this.Ha,c=this.Ra;a=b.g.w;var d=this.qa.x-b.h.W.x,f=this.qa.y-b.h.W.y,g=a.j.x*d+a.k.x*f,f=a.j.y*d+a.k.y*f,d=g;a=c.g.w;var h=this.xa.x-c.h.W.x,k=this.xa.y-c.h.W.y,g=a.j.x*h+a.k.x*k,k=a.j.y*h+a.k.y*k,h=g,g=-this.Y*(this.hd.x*(c.p.x+-c.H*k-(b.p.x+-b.H*f))+this.hd.y*(c.p.y+c.H*h-(b.p.y+b.H*d))+this.Nz+this.pe*this.s);this.s+=g;a=g*this.hd.x;g*=this.hd.y;b.p.x-=b.R*a;b.p.y-=b.R*g;b.H-=b.fa*(d*g-f*a);c.p.x+=c.R*a;c.p.y+=c.R*g;c.H+=c.fa*
(h*g-k*a)};h.prototype.jf=function(){var b;if(0<this.Rp)return!0;var c=this.Ha,f=this.Ra;b=c.g.w;var g=this.qa.x-c.h.W.x,h=this.qa.y-c.h.W.y,k=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=k;b=f.g.w;var n=this.xa.x-f.h.W.x,p=this.xa.y-f.h.W.y,k=b.j.x*n+b.k.x*p,p=b.j.y*n+b.k.y*p,n=k,k=f.h.o.x+n-c.h.o.x-g,B=f.h.o.y+p-c.h.o.y-h;b=Math.sqrt(k*k+B*B);k/=b;B/=b;b-=this.Dv;b=d.Db(b,-a.of,a.of);var la=-this.Y*b;this.hd.P(k,B);k=la*this.hd.x;B=la*this.hd.y;c.h.o.x-=c.R*k;c.h.o.y-=c.R*B;c.h.Q-=c.fa*(g*B-h*k);f.h.o.x+=
f.R*k;f.h.o.y+=f.R*B;f.h.Q+=f.fa*(n*B-p*k);c.uc();f.uc();return d.md(b)<a.zb};m.Ib(k,m.l.L.wa);k.prototype.na=m.l.L.wa.prototype;k.Co=function(){m.l.L.wa.wa.apply(this,arguments);this.$c=new f;this.ad=new f};k.prototype.Co=function(){this.na.wa.call(this);this.type=u.Hy;this.length=1;this.Fr=this.Yr=0};k.prototype.od=function(a,b,c,d){this.lb=a;this.vb=b;this.$c.M(this.lb.ff(c));this.ad.M(this.vb.ff(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Fr=this.Yr=0};m.Ib(n,m.l.L.ja);n.prototype.na=
m.l.L.ja.prototype;n.Go=function(){m.l.L.ja.ja.apply(this,arguments);this.Ye=new f;this.Wf=new f;this.Gv=new b;this.Vf=new f};n.prototype.Ad=function(){return this.Ha.gg(this.Ye)};n.prototype.Go=function(a){this.na.ja.call(this,a);this.Ye.M(a.$c);this.Wf.M(a.ad);this.Gv.Ma();this.Np=0;this.Vf.Ma();this.Li=0;this.Hv=a.Lv;this.DD=a.KD};n.prototype.Mf=function(a){var c,d=0,f=this.Ha,g=this.Ra;c=f.g.w;var h=this.Ye.x-f.h.W.x,k=this.Ye.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.w;var n=this.Wf.x-
g.h.W.x,p=this.Wf.y-g.h.W.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;c=f.R;var d=g.R,la=f.fa,q=g.fa,u=new b;u.j.x=c+d;u.k.x=0;u.j.y=0;u.k.y=c+d;u.j.x+=la*k*k;u.k.x+=-la*h*k;u.j.y+=-la*h*k;u.k.y+=la*h*h;u.j.x+=q*p*p;u.k.x+=-q*n*p;u.j.y+=-q*n*p;u.k.y+=q*n*n;u.wt(this.Gv);this.Np=la+q;0<this.Np&&(this.Np=1/this.Np);a.Ig?(this.Vf.x*=a.Ec,this.Vf.y*=a.Ec,this.Li*=a.Ec,a=this.Vf,f.p.x-=c*a.x,f.p.y-=c*a.y,f.H-=la*(h*a.y-k*a.x+this.Li),g.p.x+=d*a.x,g.p.y+=d*a.y,g.H+=q*(n*a.y-p*a.x+this.Li)):(this.Vf.Ma(),
this.Li=0)};n.prototype.kf=function(a){var b,c=0,g=this.Ha,h=this.Ra,k=g.p,n=g.H,p=h.p,B=h.H,q=g.R,u=h.R,t=g.fa,y=h.fa;b=g.g.w;var w=this.Ye.x-g.h.W.x,A=this.Ye.y-g.h.W.y,c=b.j.x*w+b.k.x*A,A=b.j.y*w+b.k.y*A,w=c;b=h.g.w;var C=this.Wf.x-h.h.W.x,L=this.Wf.y-h.h.W.y,c=b.j.x*C+b.k.x*L,L=b.j.y*C+b.k.y*L,C=c,c=-this.Np*(B-n),M=this.Li;b=a.Va*this.DD;this.Li=d.Db(this.Li+c,-b,b);c=this.Li-M;n-=t*c;B+=y*c;b=d.Cd(this.Gv,new f(-(p.x-B*L-k.x+n*A),-(p.y+B*C-k.y-n*w)));c=this.Vf.Eb();this.Vf.Jg(b);b=a.Va*this.Hv;
this.Vf.Vq()>b*b&&(this.Vf.cb(),this.Vf.aa(b));b=d.tc(this.Vf,c);k.x-=q*b.x;k.y-=q*b.y;n-=t*(w*b.y-A*b.x);p.x+=u*b.x;p.y+=u*b.y;B+=y*(C*b.y-L*b.x);g.H=n;h.H=B};n.prototype.jf=function(){return!0};m.Ib(q,m.l.L.wa);q.prototype.na=m.l.L.wa.prototype;q.Ho=function(){m.l.L.wa.wa.apply(this,arguments);this.$c=new f;this.ad=new f};q.prototype.Ho=function(){this.na.wa.call(this);this.type=u.Jy;this.KD=this.Lv=0};q.prototype.od=function(a,b,c){this.lb=a;this.vb=b;this.$c.M(this.lb.ff(c));this.ad.M(this.vb.ff(c))};
m.Ib(p,m.l.L.ja);p.prototype.na=m.l.L.ja.prototype;p.Io=function(){m.l.L.ja.ja.apply(this,arguments);this.Ni=new f;this.Oi=new f;this.qa=new f;this.xa=new f;this.oc=new y};p.prototype.Ad=function(){return this.Ha.gg(this.qa)};p.prototype.Io=function(a){this.na.ja.call(this,a);var b=parseInt(a.bl.kb),c=parseInt(a.cl.kb);this.ln=this.ql=this.kn=this.pl=null;var d=0,f=0;this.vD=a.bl.Ha;this.Ha=a.bl.Ra;b==u.Nr?(this.pl=a.bl instanceof Z?a.bl:null,this.Ni.M(this.pl.qa),this.qa.M(this.pl.xa),d=this.pl.ge()):
(this.kn=a.bl instanceof V?a.bl:null,this.Ni.M(this.kn.qa),this.qa.M(this.kn.xa),d=this.kn.ho());this.wD=a.cl.Ha;this.Ra=a.cl.Ra;c==u.Nr?(this.ql=a.cl instanceof Z?a.cl:null,this.Oi.M(this.ql.qa),this.xa.M(this.ql.xa),f=this.ql.ge()):(this.ln=a.cl instanceof V?a.cl:null,this.Oi.M(this.ln.qa),this.xa.M(this.ln.xa),f=this.ln.ho());this.Ac=a.Al;this.fn=d+this.Ac*f;this.s=0};p.prototype.Mf=function(a){var b=this.vD,c=this.wD,d=this.Ha,f=this.Ra,g=0,h=0,k=0,n=0,p=0,q=0;this.oc.Ma();this.pl?(this.oc.zk=
-1,q+=d.fa):(b=b.g.w,h=this.kn.Ze,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=d.g.w,k=this.qa.x-d.h.W.x,n=this.qa.y-d.h.W.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.oc.Xg.P(-g,-h),this.oc.zk=-k,q+=d.R+d.fa*k*k);this.ql?(this.oc.Ak=-this.Ac,q+=this.Ac*this.Ac*f.fa):(b=c.g.w,h=this.ln.Ze,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=f.g.w,k=this.xa.x-f.h.W.x,n=this.xa.y-f.h.W.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.oc.Yg.P(-this.Ac*g,-this.Ac*h),this.oc.Ak=-this.Ac*k,q+=this.Ac*
this.Ac*(f.R+f.fa*k*k));this.Y=0<q?1/q:0;a.Ig?(d.p.x+=d.R*this.s*this.oc.Xg.x,d.p.y+=d.R*this.s*this.oc.Xg.y,d.H+=d.fa*this.s*this.oc.zk,f.p.x+=f.R*this.s*this.oc.Yg.x,f.p.y+=f.R*this.s*this.oc.Yg.y,f.H+=f.fa*this.s*this.oc.Ak):this.s=0};p.prototype.kf=function(){var a=this.Ha,b=this.Ra,c=-this.Y*this.oc.rB(a.p,a.H,b.p,b.H);this.s+=c;a.p.x+=a.R*c*this.oc.Xg.x;a.p.y+=a.R*c*this.oc.Xg.y;a.H+=a.fa*c*this.oc.zk;b.p.x+=b.R*c*this.oc.Yg.x;b.p.y+=b.R*c*this.oc.Yg.y;b.H+=b.fa*c*this.oc.Ak};p.prototype.jf=
function(){var b=this.Ha,c=this.Ra,d=0,f=0,d=this.pl?this.pl.ge():this.kn.ho(),f=this.ql?this.ql.ge():this.ln.ho(),d=-this.Y*(this.fn-(d+this.Ac*f));b.h.o.x+=b.R*d*this.oc.Xg.x;b.h.o.y+=b.R*d*this.oc.Xg.y;b.h.Q+=b.fa*d*this.oc.zk;c.h.o.x+=c.R*d*this.oc.Yg.x;c.h.o.y+=c.R*d*this.oc.Yg.y;c.h.Q+=c.fa*d*this.oc.Ak;b.uc();c.uc();return 0<a.zb};m.Ib(t,m.l.L.wa);t.prototype.na=m.l.L.wa.prototype;t.Jo=function(){m.l.L.wa.wa.apply(this,arguments)};t.prototype.Jo=function(){this.na.wa.call(this);this.type=u.Ky;
this.cl=this.bl=null;this.Al=1};y.gu=function(){this.Xg=new f;this.Yg=new f};y.prototype.Ma=function(){this.Xg.Ma();this.zk=0;this.Yg.Ma();this.Ak=0};y.prototype.P=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.Xg.M(a);this.zk=b;this.Yg.M(c);this.Ak=d};y.prototype.rB=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.Xg.x*a.x+this.Xg.y*a.y+this.zk*b+(this.Yg.x*c.x+this.Yg.y*c.y)+this.Ak*d};u.ja=function(){this.Ge=new L;this.He=new L;this.Qh=new f;this.Rh=new f};u.prototype.Fb=
function(){return this.kb};u.prototype.Ad=function(){return null};u.prototype.Lf=function(){return this.Ri};u.prototype.mo=function(a){this.Ri=a};u.prototype.rk=function(){return this.Ha.rk()&&this.Ra.rk()};u.Ne=function(a){var b=null;switch(a.type){case u.Hy:b=new h(a instanceof k?a:null);break;case u.My:b=new T(a instanceof A?a:null);break;case u.Oy:b=new V(a instanceof ia?a:null);break;case u.Nr:b=new Z(a instanceof Ea?a:null);break;case u.Py:b=new W(a instanceof C?a:null);break;case u.Ky:b=new p(a instanceof
t?a:null);break;case u.Ly:b=new M(a instanceof ca?a:null);break;case u.Qy:b=new pa(a instanceof Fa?a:null);break;case u.Jy:b=new n(a instanceof q?a:null)}return b};u.nd=function(){};u.prototype.ja=function(b){a.gc(b.lb!=b.vb);this.kb=b.type;this.Ia=this.ud=null;this.Ha=b.lb;this.Ra=b.vb;this.Oz=b.Dr;this.jl=!1;this.Ri=b.nk};u.prototype.Mf=function(){};u.prototype.kf=function(){};u.prototype.tt=function(){};u.prototype.jf=function(){return!1};m.Bc.push(function(){m.l.L.ja.DC=0;m.l.L.ja.Nr=1;m.l.L.ja.Oy=
2;m.l.L.ja.Hy=3;m.l.L.ja.Py=4;m.l.L.ja.My=5;m.l.L.ja.Ky=6;m.l.L.ja.Ly=7;m.l.L.ja.Qy=8;m.l.L.ja.Jy=9;m.l.L.ja.Be=0;m.l.L.ja.Dh=1;m.l.L.ja.Kd=2;m.l.L.ja.wj=3});w.wa=function(){};w.prototype.wa=function(){this.type=u.DC;this.vb=this.lb=this.nk=null;this.Dr=!1};L.hu=function(){};m.Ib(M,m.l.L.ja);M.prototype.na=m.l.L.ja.prototype;M.Ko=function(){m.l.L.ja.ja.apply(this,arguments);this.qa=new f;this.xa=new f;this.Ze=new f;this.Qi=new f;this.ea=new f;this.Da=new f;this.va=new b;this.s=new f};M.prototype.Ad=
function(){return this.Ha.gg(this.qa)};M.prototype.ho=function(){var a=this.Ha,b=this.Ra,c=a.gg(this.qa),d=b.gg(this.xa),b=d.x-c.x,c=d.y-c.y,a=a.zt(this.Ze);return a.x*b+a.y*c};M.prototype.th=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ha.Ud(!0);this.Ra.Ud(!0);this.$e=a;this.af=b};M.prototype.Ko=function(a){this.na.ja.call(this,a);this.qa.M(a.$c);this.xa.M(a.ad);this.Ze.M(a.hl);this.Qi.x=-this.Ze.y;this.Qi.y=this.Ze.x;this.s.Ma();this.ob=this.Ie=0;this.$e=a.xv;this.af=a.Kw;this.Iv=a.Mv;
this.Vp=a.$p;this.Zg=a.Om;this.Rj=a.qp;this.Xa=u.Be;this.ea.Ma();this.Da.Ma()};M.prototype.Mf=function(b){var c=this.Ha,f=this.Ra,g,h=0;this.Qh.M(c.h.W);this.Rh.M(f.h.W);var k=c.gf();f.gf();g=c.g.w;var n=this.qa.x-this.Qh.x,p=this.qa.y-this.Qh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.w;var B=this.xa.x-this.Rh.x,q=this.xa.y-this.Rh.y,h=g.j.x*B+g.k.x*q,q=g.j.y*B+g.k.y*q,B=h;g=f.h.o.x+B-c.h.o.x-n;h=f.h.o.y+q-c.h.o.y-p;this.yc=c.R;this.zc=f.R;this.qe=c.fa;this.re=f.fa;this.ea.M(d.Cd(k.w,this.Ze));
this.Ab=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Bb=B*this.ea.y-q*this.ea.x;this.Ie=this.yc+this.zc+this.qe*this.Ab*this.Ab+this.re*this.Bb*this.Bb;this.Ie=this.Ie>Number.MIN_VALUE?1/this.Ie:0;this.Da.M(d.Cd(k.w,this.Qi));this.Jb=(g+n)*this.Da.y-(h+p)*this.Da.x;this.Kb=B*this.Da.y-q*this.Da.x;k=this.yc;n=this.zc;p=this.qe;B=this.re;this.va.j.x=k+n+p*this.Jb*this.Jb+B*this.Kb*this.Kb;this.va.j.y=p*this.Jb*this.Ab+B*this.Kb*this.Bb;this.va.k.x=this.va.j.y;this.va.k.y=k+n+p*this.Ab*this.Ab+B*this.Bb*this.Bb;
this.Zg?(g=this.ea.x*g+this.ea.y*h,d.md(this.af-this.$e)<2*a.zb?this.Xa=u.wj:g<=this.$e?this.Xa!=u.Dh&&(this.Xa=u.Dh,this.s.y=0):g>=this.af?this.Xa!=u.Kd&&(this.Xa=u.Kd,this.s.y=0):(this.Xa=u.Be,this.s.y=0)):this.Xa=u.Be;0==this.Rj&&(this.ob=0);b.Ig?(this.s.x*=b.Ec,this.s.y*=b.Ec,this.ob*=b.Ec,b=this.s.x*this.Da.x+(this.ob+this.s.y)*this.ea.x,g=this.s.x*this.Da.y+(this.ob+this.s.y)*this.ea.y,h=this.s.x*this.Jb+(this.ob+this.s.y)*this.Ab,k=this.s.x*this.Kb+(this.ob+this.s.y)*this.Bb,c.p.x-=this.yc*
b,c.p.y-=this.yc*g,c.H-=this.qe*h,f.p.x+=this.zc*b,f.p.y+=this.zc*g,f.H+=this.re*k):(this.s.Ma(),this.ob=0)};M.prototype.kf=function(a){var b=this.Ha,c=this.Ra,g=b.p,h=b.H,k=c.p,n=c.H,p=0,B=0,q=0,t=0;this.Rj&&this.Xa!=u.wj&&(t=this.Ie*(this.Vp-(this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Bb*n-this.Ab*h)),p=this.ob,B=a.Va*this.Iv,this.ob=d.Db(this.ob+t,-B,B),t=this.ob-p,p=t*this.ea.x,B=t*this.ea.y,q=t*this.Ab,t*=this.Bb,g.x-=this.yc*p,g.y-=this.yc*B,h-=this.qe*q,k.x+=this.zc*p,k.y+=this.zc*B,n+=this.re*
t);B=this.Da.x*(k.x-g.x)+this.Da.y*(k.y-g.y)+this.Kb*n-this.Jb*h;this.Zg&&this.Xa!=u.Be?(q=this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Bb*n-this.Ab*h,p=this.s.Eb(),a=this.va.wk(new f,-B,-q),this.s.Jg(a),this.Xa==u.Dh?this.s.y=d.he(this.s.y,0):this.Xa==u.Kd&&(this.s.y=d.tk(this.s.y,0)),B=-B-(this.s.y-p.y)*this.va.k.x,q=0!=this.va.j.x?B/this.va.j.x+p.x:p.x,this.s.x=q,a.x=this.s.x-p.x,a.y=this.s.y-p.y,p=a.x*this.Da.x+a.y*this.ea.x,B=a.x*this.Da.y+a.y*this.ea.y,q=a.x*this.Jb+a.y*this.Ab,t=a.x*this.Kb+
a.y*this.Bb):(a=0!=this.va.j.x?-B/this.va.j.x:0,this.s.x+=a,p=a*this.Da.x,B=a*this.Da.y,q=a*this.Jb,t=a*this.Kb);g.x-=this.yc*p;g.y-=this.yc*B;h-=this.qe*q;k.x+=this.zc*p;k.y+=this.zc*B;n+=this.re*t;b.p.M(g);b.H=h;c.p.M(k);c.H=n};M.prototype.jf=function(){var c=this.Ha,g=this.Ra,h=c.h.o,k=c.h.Q,n=g.h.o,p=g.h.Q,H,q=0,B=0,u=0,t=0,y=0,w=0,B=!1,A=0,C=b.Nq(k),u=b.Nq(p);H=C;var w=this.qa.x-this.Qh.x,L=this.qa.y-this.Qh.y,q=H.j.x*w+H.k.x*L,L=H.j.y*w+H.k.y*L,w=q;H=u;u=this.xa.x-this.Rh.x;t=this.xa.y-this.Rh.y;
q=H.j.x*u+H.k.x*t;t=H.j.y*u+H.k.y*t;u=q;H=n.x+u-h.x-w;q=n.y+t-h.y-L;if(this.Zg){this.ea=d.Cd(C,this.Ze);this.Ab=(H+w)*this.ea.y-(q+L)*this.ea.x;this.Bb=u*this.ea.y-t*this.ea.x;var M=this.ea.x*H+this.ea.y*q;d.md(this.af-this.$e)<2*a.zb?(A=d.Db(M,-a.of,a.of),y=d.md(M),B=!0):M<=this.$e?(A=d.Db(M-this.$e+a.zb,-a.of,0),y=this.$e-M,B=!0):M>=this.af&&(A=d.Db(M-this.af+a.zb,0,a.of),y=M-this.af,B=!0)}this.Da=d.Cd(C,this.Qi);this.Jb=(H+w)*this.Da.y-(q+L)*this.Da.x;this.Kb=u*this.Da.y-t*this.Da.x;C=new f;L=
this.Da.x*H+this.Da.y*q;y=d.he(y,d.md(L));w=0;B?(B=this.yc,u=this.zc,t=this.qe,H=this.re,this.va.j.x=B+u+t*this.Jb*this.Jb+H*this.Kb*this.Kb,this.va.j.y=t*this.Jb*this.Ab+H*this.Kb*this.Bb,this.va.k.x=this.va.j.y,this.va.k.y=B+u+t*this.Ab*this.Ab+H*this.Bb*this.Bb,this.va.wk(C,-L,-A)):(B=this.yc,u=this.zc,t=this.qe,H=this.re,A=B+u+t*this.Jb*this.Jb+H*this.Kb*this.Kb,C.x=0!=A?-L/A:0,C.y=0);A=C.x*this.Da.x+C.y*this.ea.x;B=C.x*this.Da.y+C.y*this.ea.y;L=C.x*this.Jb+C.y*this.Ab;C=C.x*this.Kb+C.y*this.Bb;
h.x-=this.yc*A;h.y-=this.yc*B;k-=this.qe*L;n.x+=this.zc*A;n.y+=this.zc*B;p+=this.re*C;c.h.Q=k;g.h.Q=p;c.uc();g.uc();return y<=a.zb&&w<=a.Dk};m.Ib(ca,m.l.L.wa);ca.prototype.na=m.l.L.wa.prototype;ca.Lo=function(){m.l.L.wa.wa.apply(this,arguments);this.$c=new f;this.ad=new f;this.hl=new f};ca.prototype.Lo=function(){this.na.wa.call(this);this.type=u.Ly;this.hl.P(1,0);this.Om=!1;this.Kw=this.xv=0;this.qp=!1;this.$p=this.Mv=0};ca.prototype.od=function(a,b,c,d){this.lb=a;this.vb=b;this.$c=this.lb.ff(c);
this.ad=this.vb.ff(c);this.hl=this.lb.xt(d)};m.Ib(T,m.l.L.ja);T.prototype.na=m.l.L.ja.prototype;T.Oo=function(){m.l.L.ja.ja.apply(this,arguments);this.Bd=new b;this.Lg=new b;this.Mg=new b;this.jn=new f;this.mn=new f;this.s=new f;this.Y=new b;this.os=new f};T.prototype.Ad=function(){return this.mn};T.prototype.Oo=function(a){this.na.ja.call(this,a);this.mn.M(a.target);var b=this.mn.x-this.Ra.g.position.x,c=this.mn.y-this.Ra.g.position.y,d=this.Ra.g.w;this.jn.x=b*d.j.x+c*d.j.y;this.jn.y=b*d.k.x+c*d.k.y;
this.Hv=a.Lv;this.s.Ma();this.Rp=a.Yr;this.Bv=a.Fr;this.pe=this.zv=0};T.prototype.Mf=function(a){var b=this.Ra,c=b.Y,d=2*Math.PI*this.Rp,f=c*d*d;this.pe=a.Va*(2*c*this.Bv*d+a.Va*f);this.pe=0!=this.pe?1/this.pe:0;this.zv=a.Va*f*this.pe;var f=b.g.w,c=this.jn.x-b.h.W.x,d=this.jn.y-b.h.W.y,g=f.j.x*c+f.k.x*d,d=f.j.y*c+f.k.y*d,c=g,f=b.R,g=b.fa;this.Lg.j.x=f;this.Lg.k.x=0;this.Lg.j.y=0;this.Lg.k.y=f;this.Mg.j.x=g*d*d;this.Mg.k.x=-g*c*d;this.Mg.j.y=-g*c*d;this.Mg.k.y=g*c*c;this.Bd.vk(this.Lg);this.Bd.Hq(this.Mg);
this.Bd.j.x+=this.pe;this.Bd.k.y+=this.pe;this.Bd.wt(this.Y);this.os.x=b.h.o.x+c-this.mn.x;this.os.y=b.h.o.y+d-this.mn.y;b.H*=.98;this.s.x*=a.Ec;this.s.y*=a.Ec;b.p.x+=f*this.s.x;b.p.y+=f*this.s.y;b.H+=g*(c*this.s.y-d*this.s.x)};T.prototype.kf=function(a){var b=this.Ra,c,d=0,f=0;c=b.g.w;var g=this.jn.x-b.h.W.x,h=this.jn.y-b.h.W.y,d=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=d,d=b.p.x+-b.H*h,k=b.p.y+b.H*g;c=this.Y;d=d+this.zv*this.os.x+this.pe*this.s.x;f=k+this.zv*this.os.y+this.pe*this.s.y;k=-(c.j.x*d+c.k.x*
f);f=-(c.j.y*d+c.k.y*f);c=this.s.x;d=this.s.y;this.s.x+=k;this.s.y+=f;a=a.Va*this.Hv;this.s.Vq()>a*a&&this.s.aa(a/this.s.hg());k=this.s.x-c;f=this.s.y-d;b.p.x+=b.R*k;b.p.y+=b.R*f;b.H+=b.fa*(g*f-h*k)};T.prototype.jf=function(){return!0};m.Ib(A,m.l.L.wa);A.prototype.na=m.l.L.wa.prototype;A.jm=function(){m.l.L.wa.wa.apply(this,arguments);this.target=new f};A.prototype.jm=function(){this.na.wa.call(this);this.type=u.My;this.Lv=0;this.Yr=5;this.Fr=.7};m.Ib(V,m.l.L.ja);V.prototype.na=m.l.L.ja.prototype;
V.Qo=function(){m.l.L.ja.ja.apply(this,arguments);this.qa=new f;this.xa=new f;this.Ze=new f;this.Qi=new f;this.ea=new f;this.Da=new f;this.va=new c;this.s=new g};V.prototype.Ad=function(){return this.Ha.gg(this.qa)};V.prototype.ho=function(){var a=this.Ha,b=this.Ra,c=a.gg(this.qa),d=b.gg(this.xa),b=d.x-c.x,c=d.y-c.y,a=a.zt(this.Ze);return a.x*b+a.y*c};V.prototype.th=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ha.Ud(!0);this.Ra.Ud(!0);this.$e=a;this.af=b};V.prototype.Qo=function(a){this.na.ja.call(this,
a);this.qa.M(a.$c);this.xa.M(a.ad);this.Ze.M(a.hl);this.Qi.x=-this.Ze.y;this.Qi.y=this.Ze.x;this.ED=a.ck;this.s.Ma();this.ob=this.Ie=0;this.$e=a.xv;this.af=a.Kw;this.Iv=a.Mv;this.Vp=a.$p;this.Zg=a.Om;this.Rj=a.qp;this.Xa=u.Be;this.ea.Ma();this.Da.Ma()};V.prototype.Mf=function(b){var c=this.Ha,f=this.Ra,g,h=0;this.Qh.M(c.h.W);this.Rh.M(f.h.W);var k=c.gf();f.gf();g=c.g.w;var n=this.qa.x-this.Qh.x,p=this.qa.y-this.Qh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.w;var B=this.xa.x-this.Rh.x,q=this.xa.y-
this.Rh.y,h=g.j.x*B+g.k.x*q,q=g.j.y*B+g.k.y*q,B=h;g=f.h.o.x+B-c.h.o.x-n;h=f.h.o.y+q-c.h.o.y-p;this.yc=c.R;this.zc=f.R;this.qe=c.fa;this.re=f.fa;this.ea.M(d.Cd(k.w,this.Ze));this.Ab=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Bb=B*this.ea.y-q*this.ea.x;this.Ie=this.yc+this.zc+this.qe*this.Ab*this.Ab+this.re*this.Bb*this.Bb;this.Ie>Number.MIN_VALUE&&(this.Ie=1/this.Ie);this.Da.M(d.Cd(k.w,this.Qi));this.Jb=(g+n)*this.Da.y-(h+p)*this.Da.x;this.Kb=B*this.Da.y-q*this.Da.x;k=this.yc;n=this.zc;p=this.qe;B=this.re;
this.va.j.x=k+n+p*this.Jb*this.Jb+B*this.Kb*this.Kb;this.va.j.y=p*this.Jb+B*this.Kb;this.va.j.z=p*this.Jb*this.Ab+B*this.Kb*this.Bb;this.va.k.x=this.va.j.y;this.va.k.y=p+B;this.va.k.z=p*this.Ab+B*this.Bb;this.va.Ga.x=this.va.j.z;this.va.Ga.y=this.va.k.z;this.va.Ga.z=k+n+p*this.Ab*this.Ab+B*this.Bb*this.Bb;this.Zg?(g=this.ea.x*g+this.ea.y*h,d.md(this.af-this.$e)<2*a.zb?this.Xa=u.wj:g<=this.$e?this.Xa!=u.Dh&&(this.Xa=u.Dh,this.s.z=0):g>=this.af?this.Xa!=u.Kd&&(this.Xa=u.Kd,this.s.z=0):(this.Xa=u.Be,
this.s.z=0)):this.Xa=u.Be;0==this.Rj&&(this.ob=0);b.Ig?(this.s.x*=b.Ec,this.s.y*=b.Ec,this.ob*=b.Ec,b=this.s.x*this.Da.x+(this.ob+this.s.z)*this.ea.x,g=this.s.x*this.Da.y+(this.ob+this.s.z)*this.ea.y,h=this.s.x*this.Jb+this.s.y+(this.ob+this.s.z)*this.Ab,k=this.s.x*this.Kb+this.s.y+(this.ob+this.s.z)*this.Bb,c.p.x-=this.yc*b,c.p.y-=this.yc*g,c.H-=this.qe*h,f.p.x+=this.zc*b,f.p.y+=this.zc*g,f.H+=this.re*k):(this.s.Ma(),this.ob=0)};V.prototype.kf=function(a){var b=this.Ha,c=this.Ra,h=b.p,k=b.H,n=c.p,
p=c.H,q=0,B=0,t=0,y=0;this.Rj&&this.Xa!=u.wj&&(y=this.Ie*(this.Vp-(this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Bb*p-this.Ab*k)),q=this.ob,a=a.Va*this.Iv,this.ob=d.Db(this.ob+y,-a,a),y=this.ob-q,q=y*this.ea.x,B=y*this.ea.y,t=y*this.Ab,y*=this.Bb,h.x-=this.yc*q,h.y-=this.yc*B,k-=this.qe*t,n.x+=this.zc*q,n.y+=this.zc*B,p+=this.re*y);t=this.Da.x*(n.x-h.x)+this.Da.y*(n.y-h.y)+this.Kb*p-this.Jb*k;B=p-k;this.Zg&&this.Xa!=u.Be?(a=this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Bb*p-this.Ab*k,q=this.s.Eb(),
a=this.va.oo(new g,-t,-B,-a),this.s.Jg(a),this.Xa==u.Dh?this.s.z=d.he(this.s.z,0):this.Xa==u.Kd&&(this.s.z=d.tk(this.s.z,0)),t=-t-(this.s.z-q.z)*this.va.Ga.x,B=-B-(this.s.z-q.z)*this.va.Ga.y,B=this.va.Yl(new f,t,B),B.x+=q.x,B.y+=q.y,this.s.x=B.x,this.s.y=B.y,a.x=this.s.x-q.x,a.y=this.s.y-q.y,a.z=this.s.z-q.z,q=a.x*this.Da.x+a.z*this.ea.x,B=a.x*this.Da.y+a.z*this.ea.y,t=a.x*this.Jb+a.y+a.z*this.Ab,y=a.x*this.Kb+a.y+a.z*this.Bb):(a=this.va.Yl(new f,-t,-B),this.s.x+=a.x,this.s.y+=a.y,q=a.x*this.Da.x,
B=a.x*this.Da.y,t=a.x*this.Jb+a.y,y=a.x*this.Kb+a.y);h.x-=this.yc*q;h.y-=this.yc*B;k-=this.qe*t;n.x+=this.zc*q;n.y+=this.zc*B;p+=this.re*y;b.p.M(h);b.H=k;c.p.M(n);c.H=p};V.prototype.jf=function(){var c=this.Ha,h=this.Ra,k=c.h.o,n=c.h.Q,p=h.h.o,q=h.h.Q,H,u=0,B=0,t=0,y=0,w=0,B=!1,A=0,C=b.Nq(n),L=b.Nq(q);H=C;var w=this.qa.x-this.Qh.x,M=this.qa.y-this.Qh.y,u=H.j.x*w+H.k.x*M,M=H.j.y*w+H.k.y*M,w=u;H=L;L=this.xa.x-this.Rh.x;t=this.xa.y-this.Rh.y;u=H.j.x*L+H.k.x*t;t=H.j.y*L+H.k.y*t;L=u;H=p.x+L-k.x-w;u=p.y+
t-k.y-M;if(this.Zg){this.ea=d.Cd(C,this.Ze);this.Ab=(H+w)*this.ea.y-(u+M)*this.ea.x;this.Bb=L*this.ea.y-t*this.ea.x;var T=this.ea.x*H+this.ea.y*u;d.md(this.af-this.$e)<2*a.zb?(A=d.Db(T,-a.of,a.of),y=d.md(T),B=!0):T<=this.$e?(A=d.Db(T-this.$e+a.zb,-a.of,0),y=this.$e-T,B=!0):T>=this.af&&(A=d.Db(T-this.af+a.zb,0,a.of),y=T-this.af,B=!0)}this.Da=d.Cd(C,this.Qi);this.Jb=(H+w)*this.Da.y-(u+M)*this.Da.x;this.Kb=L*this.Da.y-t*this.Da.x;C=new g;M=this.Da.x*H+this.Da.y*u;L=q-n-this.ED;y=d.he(y,d.md(M));w=d.md(L);
B?(B=this.yc,t=this.zc,H=this.qe,u=this.re,this.va.j.x=B+t+H*this.Jb*this.Jb+u*this.Kb*this.Kb,this.va.j.y=H*this.Jb+u*this.Kb,this.va.j.z=H*this.Jb*this.Ab+u*this.Kb*this.Bb,this.va.k.x=this.va.j.y,this.va.k.y=H+u,this.va.k.z=H*this.Ab+u*this.Bb,this.va.Ga.x=this.va.j.z,this.va.Ga.y=this.va.k.z,this.va.Ga.z=B+t+H*this.Ab*this.Ab+u*this.Bb*this.Bb,this.va.oo(C,-M,-L,-A)):(B=this.yc,t=this.zc,H=this.qe,u=this.re,A=H*this.Jb+u*this.Kb,T=H+u,this.va.j.P(B+t+H*this.Jb*this.Jb+u*this.Kb*this.Kb,A,0),this.va.k.P(A,
T,0),A=this.va.Yl(new f,-M,-L),C.x=A.x,C.y=A.y,C.z=0);A=C.x*this.Da.x+C.z*this.ea.x;B=C.x*this.Da.y+C.z*this.ea.y;M=C.x*this.Jb+C.y+C.z*this.Ab;C=C.x*this.Kb+C.y+C.z*this.Bb;k.x-=this.yc*A;k.y-=this.yc*B;n-=this.qe*M;p.x+=this.zc*A;p.y+=this.zc*B;q+=this.re*C;c.h.Q=n;h.h.Q=q;c.uc();h.uc();return y<=a.zb&&w<=a.Dk};m.Ib(ia,m.l.L.wa);ia.prototype.na=m.l.L.wa.prototype;ia.Ro=function(){m.l.L.wa.wa.apply(this,arguments);this.$c=new f;this.ad=new f;this.hl=new f};ia.prototype.Ro=function(){this.na.wa.call(this);
this.type=u.Oy;this.hl.P(1,0);this.ck=0;this.Om=!1;this.Kw=this.xv=0;this.qp=!1;this.$p=this.Mv=0};ia.prototype.od=function(a,b,c,d){this.lb=a;this.vb=b;this.$c=this.lb.ff(c);this.ad=this.vb.ff(c);this.hl=this.lb.xt(d);this.ck=this.vb.ga()-this.lb.ga()};m.Ib(W,m.l.L.ja);W.prototype.na=m.l.L.ja.prototype;W.km=function(){m.l.L.ja.ja.apply(this,arguments);this.Ni=new f;this.Oi=new f;this.qa=new f;this.xa=new f;this.Rb=new f;this.Sb=new f};W.prototype.Ad=function(){return this.Ha.gg(this.qa)};W.prototype.km=
function(a){this.na.ja.call(this,a);this.vg=this.Ha.vd.xD;this.Ni.x=a.cs.x-this.vg.g.position.x;this.Ni.y=a.cs.y-this.vg.g.position.y;this.Oi.x=a.ds.x-this.vg.g.position.x;this.Oi.y=a.ds.y-this.vg.g.position.y;this.qa.M(a.$c);this.xa.M(a.ad);this.Ac=a.Al;this.fn=a.tv+this.Ac*a.uv;this.Xz=d.tk(a.Zz,this.fn-this.Ac*W.vr);this.Yz=d.tk(a.$z,(this.fn-W.vr)/this.Ac);this.Ph=this.Oh=this.s=0};W.prototype.Mf=function(b){var c=this.Ha,d=this.Ra,f;f=c.g.w;var g=this.qa.x-c.h.W.x,h=this.qa.y-c.h.W.y,k=f.j.x*
g+f.k.x*h,h=f.j.y*g+f.k.y*h,g=k;f=d.g.w;var n=this.xa.x-d.h.W.x,p=this.xa.y-d.h.W.y,k=f.j.x*n+f.k.x*p,p=f.j.y*n+f.k.y*p,n=k;f=d.h.o.x+n;var k=d.h.o.y+p,q=this.vg.g.position.x+this.Oi.x,t=this.vg.g.position.y+this.Oi.y;this.Rb.P(c.h.o.x+g-(this.vg.g.position.x+this.Ni.x),c.h.o.y+h-(this.vg.g.position.y+this.Ni.y));this.Sb.P(f-q,k-t);f=this.Rb.hg();k=this.Sb.hg();f>a.zb?this.Rb.aa(1/f):this.Rb.Ma();k>a.zb?this.Sb.aa(1/k):this.Sb.Ma();0<this.fn-f-this.Ac*k?(this.Kv=u.Be,this.s=0):this.Kv=u.Kd;f<this.Xz?
(this.Ev=u.Be,this.Oh=0):this.Ev=u.Kd;k<this.Yz?(this.Fv=u.Be,this.Ph=0):this.Fv=u.Kd;f=g*this.Rb.y-h*this.Rb.x;k=n*this.Sb.y-p*this.Sb.x;this.Sp=c.R+c.fa*f*f;this.Tp=d.R+d.fa*k*k;this.ps=this.Sp+this.Ac*this.Ac*this.Tp;this.Sp=1/this.Sp;this.Tp=1/this.Tp;this.ps=1/this.ps;b.Ig?(this.s*=b.Ec,this.Oh*=b.Ec,this.Ph*=b.Ec,b=(-this.s-this.Oh)*this.Rb.x,f=(-this.s-this.Oh)*this.Rb.y,k=(-this.Ac*this.s-this.Ph)*this.Sb.x,q=(-this.Ac*this.s-this.Ph)*this.Sb.y,c.p.x+=c.R*b,c.p.y+=c.R*f,c.H+=c.fa*(g*f-h*b),
d.p.x+=d.R*k,d.p.y+=d.R*q,d.H+=d.fa*(n*q-p*k)):this.Ph=this.Oh=this.s=0};W.prototype.kf=function(){var a=this.Ha,b=this.Ra,c;c=a.g.w;var f=this.qa.x-a.h.W.x,g=this.qa.y-a.h.W.y,h=c.j.x*f+c.k.x*g,g=c.j.y*f+c.k.y*g,f=h;c=b.g.w;var k=this.xa.x-b.h.W.x,n=this.xa.y-b.h.W.y,h=c.j.x*k+c.k.x*n,n=c.j.y*k+c.k.y*n,k=h,p=0,q=0;this.Kv==u.Kd&&(c=a.p.x+-a.H*g,h=a.p.y+a.H*f,p=b.p.x+-b.H*n,q=b.p.y+b.H*k,c=-(this.Rb.x*c+this.Rb.y*h)-this.Ac*(this.Sb.x*p+this.Sb.y*q),q=this.ps*-c,c=this.s,this.s=d.he(0,this.s+q),q=
this.s-c,c=-q*this.Rb.x,h=-q*this.Rb.y,p=-this.Ac*q*this.Sb.x,q=-this.Ac*q*this.Sb.y,a.p.x+=a.R*c,a.p.y+=a.R*h,a.H+=a.fa*(f*h-g*c),b.p.x+=b.R*p,b.p.y+=b.R*q,b.H+=b.fa*(k*q-n*p));this.Ev==u.Kd&&(c=a.p.x+-a.H*g,h=a.p.y+a.H*f,c=-(this.Rb.x*c+this.Rb.y*h),q=-this.Sp*c,c=this.Oh,this.Oh=d.he(0,this.Oh+q),q=this.Oh-c,c=-q*this.Rb.x,h=-q*this.Rb.y,a.p.x+=a.R*c,a.p.y+=a.R*h,a.H+=a.fa*(f*h-g*c));this.Fv==u.Kd&&(p=b.p.x+-b.H*n,q=b.p.y+b.H*k,c=-(this.Sb.x*p+this.Sb.y*q),q=-this.Tp*c,c=this.Ph,this.Ph=d.he(0,
this.Ph+q),q=this.Ph-c,p=-q*this.Sb.x,q=-q*this.Sb.y,b.p.x+=b.R*p,b.p.y+=b.R*q,b.H+=b.fa*(k*q-n*p))};W.prototype.jf=function(){var b=this.Ha,c=this.Ra,f,g=this.vg.g.position.x+this.Ni.x,h=this.vg.g.position.y+this.Ni.y,k=this.vg.g.position.x+this.Oi.x,n=this.vg.g.position.y+this.Oi.y,p=0,q=0,t=0,y=0,w=0,A=0,C=0,L=0;this.Kv==u.Kd&&(f=b.g.w,p=this.qa.x-b.h.W.x,q=this.qa.y-b.h.W.y,w=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=w,f=c.g.w,t=this.xa.x-c.h.W.x,y=this.xa.y-c.h.W.y,w=f.j.x*t+f.k.x*y,y=f.j.y*t+f.k.y*
y,t=w,f=b.h.o.x+p,w=b.h.o.y+q,A=c.h.o.x+t,C=c.h.o.y+y,this.Rb.P(f-g,w-h),this.Sb.P(A-k,C-n),f=this.Rb.hg(),w=this.Sb.hg(),f>a.zb?this.Rb.aa(1/f):this.Rb.Ma(),w>a.zb?this.Sb.aa(1/w):this.Sb.Ma(),f=this.fn-f-this.Ac*w,L=d.he(L,-f),f=d.Db(f+a.zb,-a.of,0),C=-this.ps*f,f=-C*this.Rb.x,w=-C*this.Rb.y,A=-this.Ac*C*this.Sb.x,C=-this.Ac*C*this.Sb.y,b.h.o.x+=b.R*f,b.h.o.y+=b.R*w,b.h.Q+=b.fa*(p*w-q*f),c.h.o.x+=c.R*A,c.h.o.y+=c.R*C,c.h.Q+=c.fa*(t*C-y*A),b.uc(),c.uc());this.Ev==u.Kd&&(f=b.g.w,p=this.qa.x-b.h.W.x,
q=this.qa.y-b.h.W.y,w=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=w,f=b.h.o.x+p,w=b.h.o.y+q,this.Rb.P(f-g,w-h),f=this.Rb.hg(),f>a.zb?(this.Rb.x*=1/f,this.Rb.y*=1/f):this.Rb.Ma(),f=this.Xz-f,L=d.he(L,-f),f=d.Db(f+a.zb,-a.of,0),C=-this.Sp*f,f=-C*this.Rb.x,w=-C*this.Rb.y,b.h.o.x+=b.R*f,b.h.o.y+=b.R*w,b.h.Q+=b.fa*(p*w-q*f),b.uc());this.Fv==u.Kd&&(f=c.g.w,t=this.xa.x-c.h.W.x,y=this.xa.y-c.h.W.y,w=f.j.x*t+f.k.x*y,y=f.j.y*t+f.k.y*y,t=w,A=c.h.o.x+t,C=c.h.o.y+y,this.Sb.P(A-k,C-n),w=this.Sb.hg(),w>a.zb?(this.Sb.x*=
1/w,this.Sb.y*=1/w):this.Sb.Ma(),f=this.Yz-w,L=d.he(L,-f),f=d.Db(f+a.zb,-a.of,0),C=-this.Tp*f,A=-C*this.Sb.x,C=-C*this.Sb.y,c.h.o.x+=c.R*A,c.h.o.y+=c.R*C,c.h.Q+=c.fa*(t*C-y*A),c.uc());return L<a.zb};m.Bc.push(function(){m.l.L.km.vr=2});m.Ib(C,m.l.L.wa);C.prototype.na=m.l.L.wa.prototype;C.So=function(){m.l.L.wa.wa.apply(this,arguments);this.cs=new f;this.ds=new f;this.$c=new f;this.ad=new f};C.prototype.So=function(){this.na.wa.call(this);this.type=u.Py;this.cs.P(-1,1);this.ds.P(1,1);this.$c.P(-1,
0);this.ad.P(1,0);this.$z=this.uv=this.Zz=this.tv=0;this.Al=1;this.Dr=!0};C.prototype.od=function(a,b,c,d,f,g,h){void 0===h&&(h=0);this.lb=a;this.vb=b;this.cs.M(c);this.ds.M(d);this.$c=this.lb.ff(f);this.ad=this.vb.ff(g);a=f.x-c.x;c=f.y-c.y;this.tv=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.uv=Math.sqrt(c*c+d*d);this.Al=h;h=this.tv+this.Al*this.uv;this.Zz=h-this.Al*W.vr;this.$z=(h-W.vr)/this.Al};m.Ib(Z,m.l.L.ja);Z.prototype.na=m.l.L.ja.prototype;Z.lm=function(){m.l.L.ja.ja.apply(this,arguments);
this.Bd=new b;this.Lg=new b;this.Mg=new b;this.jo=new b;this.qd=new g;this.Ug=new f;this.ei=new f;this.qa=new f;this.xa=new f;this.s=new g;this.Y=new c};Z.prototype.Ad=function(){return this.Ha.gg(this.qa)};Z.prototype.ge=function(){return this.Ra.h.Q-this.Ha.h.Q-this.Yp};Z.prototype.th=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Up=a;this.rs=b};Z.prototype.lm=function(a){this.na.ja.call(this,a);this.qa.M(a.$c);this.xa.M(a.ad);this.Yp=a.ck;this.s.Ma();this.ob=0;this.Up=a.Lz;this.rs=a.cB;
this.CD=a.JD;this.Vp=a.$p;this.Zg=a.Om;this.Rj=a.qp;this.Xa=u.Be};Z.prototype.Mf=function(b){var c=this.Ha,f=this.Ra,g,h=0;g=c.g.w;var k=this.qa.x-c.h.W.x,n=this.qa.y-c.h.W.y,h=g.j.x*k+g.k.x*n,n=g.j.y*k+g.k.y*n,k=h;g=f.g.w;var p=this.xa.x-f.h.W.x,q=this.xa.y-f.h.W.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=c.R;var h=f.R,t=c.fa,w=f.fa;this.Y.j.x=g+h+n*n*t+q*q*w;this.Y.k.x=-n*k*t-q*p*w;this.Y.Ga.x=-n*t-q*w;this.Y.j.y=this.Y.k.x;this.Y.k.y=g+h+k*k*t+p*p*w;this.Y.Ga.y=k*t+p*w;this.Y.j.z=this.Y.Ga.x;
this.Y.k.z=this.Y.Ga.y;this.Y.Ga.z=t+w;this.Ie=1/(t+w);0==this.Rj&&(this.ob=0);if(this.Zg){var y=f.h.Q-c.h.Q-this.Yp;d.md(this.rs-this.Up)<2*a.Dk?this.Xa=u.wj:y<=this.Up?(this.Xa!=u.Dh&&(this.s.z=0),this.Xa=u.Dh):y>=this.rs?(this.Xa!=u.Kd&&(this.s.z=0),this.Xa=u.Kd):(this.Xa=u.Be,this.s.z=0)}else this.Xa=u.Be;b.Ig?(this.s.x*=b.Ec,this.s.y*=b.Ec,this.ob*=b.Ec,b=this.s.x,y=this.s.y,c.p.x-=g*b,c.p.y-=g*y,c.H-=t*(k*y-n*b+this.ob+this.s.z),f.p.x+=h*b,f.p.y+=h*y,f.H+=w*(p*y-q*b+this.ob+this.s.z)):(this.s.Ma(),
this.ob=0)};Z.prototype.kf=function(a){var b=this.Ha,c=this.Ra,f=0,g=0,h=0,k=0,n=0,p=b.p,q=b.H,t=c.p,w=c.H,y=b.R,C=c.R,A=b.fa,L=c.fa;this.Rj&&this.Xa!=u.wj&&(g=this.Ie*-(w-q-this.Vp),h=this.ob,k=a.Va*this.CD,this.ob=d.Db(this.ob+g,-k,k),g=this.ob-h,q-=A*g,w+=L*g);if(this.Zg&&this.Xa!=u.Be){a=b.g.w;g=this.qa.x-b.h.W.x;h=this.qa.y-b.h.W.y;f=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=f;a=c.g.w;k=this.xa.x-c.h.W.x;n=this.xa.y-c.h.W.y;f=a.j.x*k+a.k.x*n;n=a.j.y*k+a.k.y*n;k=f;a=t.x+-w*n-p.x- -q*h;var M=t.y+w*k-
p.y-q*g;this.Y.oo(this.qd,-a,-M,-(w-q));this.Xa==u.wj?this.s.Jg(this.qd):this.Xa==u.Dh?(f=this.s.z+this.qd.z,0>f&&(this.Y.Yl(this.ei,-a,-M),this.qd.x=this.ei.x,this.qd.y=this.ei.y,this.qd.z=-this.s.z,this.s.x+=this.ei.x,this.s.y+=this.ei.y,this.s.z=0)):this.Xa==u.Kd&&(f=this.s.z+this.qd.z,0<f&&(this.Y.Yl(this.ei,-a,-M),this.qd.x=this.ei.x,this.qd.y=this.ei.y,this.qd.z=-this.s.z,this.s.x+=this.ei.x,this.s.y+=this.ei.y,this.s.z=0));p.x-=y*this.qd.x;p.y-=y*this.qd.y;q-=A*(g*this.qd.y-h*this.qd.x+this.qd.z);
t.x+=C*this.qd.x;t.y+=C*this.qd.y;w+=L*(k*this.qd.y-n*this.qd.x+this.qd.z)}else a=b.g.w,g=this.qa.x-b.h.W.x,h=this.qa.y-b.h.W.y,f=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=f,a=c.g.w,k=this.xa.x-c.h.W.x,n=this.xa.y-c.h.W.y,f=a.j.x*k+a.k.x*n,n=a.j.y*k+a.k.y*n,k=f,this.Y.Yl(this.Ug,-(t.x+-w*n-p.x- -q*h),-(t.y+w*k-p.y-q*g)),this.s.x+=this.Ug.x,this.s.y+=this.Ug.y,p.x-=y*this.Ug.x,p.y-=y*this.Ug.y,q-=A*(g*this.Ug.y-h*this.Ug.x),t.x+=C*this.Ug.x,t.y+=C*this.Ug.y,w+=L*(k*this.Ug.y-n*this.Ug.x);b.p.M(p);b.H=q;
c.p.M(t);c.H=w};Z.prototype.jf=function(){var b=0,c,f=this.Ha,g=this.Ra,h=0,k=0,n=0,p=0;if(this.Zg&&this.Xa!=u.Be){var b=g.h.Q-f.h.Q-this.Yp,q=0;this.Xa==u.wj?(b=d.Db(b-this.Up,-a.ur,a.ur),q=-this.Ie*b,h=d.md(b)):this.Xa==u.Dh?(b-=this.Up,h=-b,b=d.Db(b+a.Dk,-a.ur,0),q=-this.Ie*b):this.Xa==u.Kd&&(h=b-=this.rs,b=d.Db(b-a.Dk,0,a.ur),q=-this.Ie*b);f.h.Q-=f.fa*q;g.h.Q+=g.fa*q;f.uc();g.uc()}c=f.g.w;q=this.qa.x-f.h.W.x;b=this.qa.y-f.h.W.y;k=c.j.x*q+c.k.x*b;b=c.j.y*q+c.k.y*b;q=k;c=g.g.w;var t=this.xa.x-g.h.W.x,
w=this.xa.y-g.h.W.y,k=c.j.x*t+c.k.x*w,w=c.j.y*t+c.k.y*w,t=k,n=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+w-f.h.o.y-b,y=n*n+p*p;c=Math.sqrt(y);var k=f.R,C=g.R,A=f.fa,L=g.fa,M=10*a.zb;y>M*M&&(y=1/(k+C),n=y*-n,p=y*-p,f.h.o.x-=.5*k*n,f.h.o.y-=.5*k*p,g.h.o.x+=.5*C*n,g.h.o.y+=.5*C*p,n=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+w-f.h.o.y-b);this.Lg.j.x=k+C;this.Lg.k.x=0;this.Lg.j.y=0;this.Lg.k.y=k+C;this.Mg.j.x=A*b*b;this.Mg.k.x=-A*q*b;this.Mg.j.y=-A*q*b;this.Mg.k.y=A*q*q;this.jo.j.x=L*w*w;this.jo.k.x=-L*t*w;this.jo.j.y=-L*t*w;this.jo.k.y=
L*t*t;this.Bd.vk(this.Lg);this.Bd.Hq(this.Mg);this.Bd.Hq(this.jo);this.Bd.wk(Z.Bw,-n,-p);n=Z.Bw.x;p=Z.Bw.y;f.h.o.x-=f.R*n;f.h.o.y-=f.R*p;f.h.Q-=f.fa*(q*p-b*n);g.h.o.x+=g.R*n;g.h.o.y+=g.R*p;g.h.Q+=g.fa*(t*p-w*n);f.uc();g.uc();return c<=a.zb&&h<=a.Dk};m.Bc.push(function(){m.l.L.lm.Bw=new f});m.Ib(Ea,m.l.L.wa);Ea.prototype.na=m.l.L.wa.prototype;Ea.mm=function(){m.l.L.wa.wa.apply(this,arguments);this.$c=new f;this.ad=new f};Ea.prototype.mm=function(){this.na.wa.call(this);this.type=u.Nr;this.$c.P(0,0);
this.ad.P(0,0);this.$p=this.JD=this.cB=this.Lz=this.ck=0;this.qp=this.Om=!1};Ea.prototype.od=function(a,b,c){this.lb=a;this.vb=b;this.$c=this.lb.ff(c);this.ad=this.vb.ff(c);this.ck=this.vb.ga()-this.lb.ga()};m.Ib(pa,m.l.L.ja);pa.prototype.na=m.l.L.ja.prototype;pa.Wo=function(){m.l.L.ja.ja.apply(this,arguments);this.Ye=new f;this.Wf=new f;this.s=new g;this.Y=new c};pa.prototype.Ad=function(){return this.Ha.gg(this.Ye)};pa.prototype.Wo=function(a){this.na.ja.call(this,a);this.Ye.M(a.$c);this.Wf.M(a.ad);
this.Yp=a.ck;this.s.Ma();this.Y=new c};pa.prototype.Mf=function(a){var b,c=0,d=this.Ha,f=this.Ra;b=d.g.w;var g=this.Ye.x-d.h.W.x,h=this.Ye.y-d.h.W.y,c=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=c;b=f.g.w;var k=this.Wf.x-f.h.W.x,n=this.Wf.y-f.h.W.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=d.R;var c=f.R,p=d.fa,q=f.fa;this.Y.j.x=b+c+h*h*p+n*n*q;this.Y.k.x=-h*g*p-n*k*q;this.Y.Ga.x=-h*p-n*q;this.Y.j.y=this.Y.k.x;this.Y.k.y=b+c+g*g*p+k*k*q;this.Y.Ga.y=g*p+k*q;this.Y.j.z=this.Y.Ga.x;this.Y.k.z=this.Y.Ga.y;this.Y.Ga.z=
p+q;a.Ig?(this.s.x*=a.Ec,this.s.y*=a.Ec,this.s.z*=a.Ec,d.p.x-=b*this.s.x,d.p.y-=b*this.s.y,d.H-=p*(g*this.s.y-h*this.s.x+this.s.z),f.p.x+=c*this.s.x,f.p.y+=c*this.s.y,f.H+=q*(k*this.s.y-n*this.s.x+this.s.z)):this.s.Ma()};pa.prototype.kf=function(){var a,b=0,c=this.Ha,d=this.Ra,f=c.p,h=c.H,k=d.p,n=d.H,p=c.R,q=d.R,u=c.fa,t=d.fa;a=c.g.w;var w=this.Ye.x-c.h.W.x,y=this.Ye.y-c.h.W.y,b=a.j.x*w+a.k.x*y,y=a.j.y*w+a.k.y*y,w=b;a=d.g.w;var C=this.Wf.x-d.h.W.x,A=this.Wf.y-d.h.W.y,b=a.j.x*C+a.k.x*A,A=a.j.y*C+a.k.y*
A,C=b;a=k.x-n*A-f.x+h*y;var b=k.y+n*C-f.y-h*w,L=n-h,M=new g;this.Y.oo(M,-a,-b,-L);this.s.Jg(M);f.x-=p*M.x;f.y-=p*M.y;h-=u*(w*M.y-y*M.x+M.z);k.x+=q*M.x;k.y+=q*M.y;n+=t*(C*M.y-A*M.x+M.z);c.H=h;d.H=n};pa.prototype.jf=function(){var b,c=0,f=this.Ha,h=this.Ra;b=f.g.w;var k=this.Ye.x-f.h.W.x,n=this.Ye.y-f.h.W.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=h.g.w;var p=this.Wf.x-h.h.W.x,q=this.Wf.y-h.h.W.y,c=b.j.x*p+b.k.x*q,q=b.j.y*p+b.k.y*q,p=c;b=f.R;var c=h.R,u=f.fa,t=h.fa,w=h.h.o.x+p-f.h.o.x-k,y=h.h.o.y+
q-f.h.o.y-n,C=h.h.Q-f.h.Q-this.Yp,A=10*a.zb,L=Math.sqrt(w*w+y*y),M=d.md(C);L>A&&(u*=1,t*=1);this.Y.j.x=b+c+n*n*u+q*q*t;this.Y.k.x=-n*k*u-q*p*t;this.Y.Ga.x=-n*u-q*t;this.Y.j.y=this.Y.k.x;this.Y.k.y=b+c+k*k*u+p*p*t;this.Y.Ga.y=k*u+p*t;this.Y.j.z=this.Y.Ga.x;this.Y.k.z=this.Y.Ga.y;this.Y.Ga.z=u+t;A=new g;this.Y.oo(A,-w,-y,-C);f.h.o.x-=b*A.x;f.h.o.y-=b*A.y;f.h.Q-=u*(k*A.y-n*A.x+A.z);h.h.o.x+=c*A.x;h.h.o.y+=c*A.y;h.h.Q+=t*(p*A.y-q*A.x+A.z);f.uc();h.uc();return L<=a.zb&&M<=a.Dk};m.Ib(Fa,m.l.L.wa);Fa.prototype.na=
m.l.L.wa.prototype;Fa.Xo=function(){m.l.L.wa.wa.apply(this,arguments);this.$c=new f;this.ad=new f};Fa.prototype.Xo=function(){this.na.wa.call(this);this.type=u.Qy;this.ck=0};Fa.prototype.od=function(a,b,c){this.lb=a;this.vb=b;this.$c.M(this.lb.ff(c));this.ad.M(this.vb.ff(c));this.ck=this.vb.ga()-this.lb.ga()}})();(function(){var a=m.l.Oe;a.Oe=function(){};a.prototype.Oe=function(){}})();var s;for(s=0;s<m.Bc.length;++s)m.Bc[s]();delete m.Bc;var ea={autoplay:!1,duration:5E3,Xr:[],loop:!1,placeholder:"--",Cs:"metadata",volume:80},fa={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},ga=[],ha=document.createElement("audio");
function ja(a,b){function c(a,b){var c=document.createElement("source");c.src=b;fa[b.split(".").pop()]&&(c.type=fa[b.split(".").pop()]);a.appendChild(c)}b=b||{};var d=[],f=!!ha.canPlayType;this.load=function(){if(!f)return this;this.yd.load();return this};this.play=function(){if(!f)return this;this.yd.play();return this};this.pause=function(){if(!f)return this;this.yd.pause();return this};this.hD=function(){return f?this.yd.paused:null};this.stop=function(){if(!f)return this;this.setTime(0);this.yd.pause();
return this};this.loop=function(){if(!f)return this;this.yd.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()});return this};this.Ui=function(){if(!f)return this;this.yd.muted=!0;return this};this.ih=function(a){f&&(0>a&&(a=0),100<a&&(a=100),this.volume=a,this.yd.volume=a/100)};this.setTime=function(a){if(!f)return this;this.jB(function(){this.yd.currentTime=a});return this};this.getTime=function(){if(!f)return null;var a=Math.round(100*this.yd.currentTime)/100;return isNaN(a)?
ea.placeholder:a};this.set=function(a,b){if(!f)return this;this.yd[a]=b;return this};this.get=function(a){return f?a?this.yd[a]:this.yd:null};this.bind=function(a,b){function c(a){b.call(g,a)}if(!f)return this;a=a.split(" ");for(var g=this,h=0;h<a.length;h++){var k=a[h],w=k,k=w.split(".")[0];d.push({rG:w,qG:c});this.yd.addEventListener(k,c,!0)}return this};this.OC=function(a,b){function c(){setTimeout(function(){0>d&&0>h.volume?(h.ih(h.volume+=1),c()):0<d&&0<h.volume?(h.ih(--h.volume),c()):b instanceof
Function&&b.apply(h)},g)}if(f){a instanceof Function?(b=a,a=ea.duration):a=a||ea.duration;var d=this.volume,g=a/Math.abs(d-0),h=this;this.play();this.jB(function(){c()})}};this.Vy=function(a,b){f&&this.OC(a,b)};this.jB=function(a){if(f){var b=this;0===this.yd.readyState?this.bind("canplay.buzzwhenready",function(){a.call(b)}):a.call(b)}};if(f&&a){for(var g in ea)ea.hasOwnProperty(g)&&(b[g]=b[g]||ea[g]);this.yd=document.createElement("audio");if(a instanceof Array)for(var h in a)a.hasOwnProperty(h)&&
c(this.yd,a[h]);else if(b.Xr.length)for(var k in b.Xr)b.Xr.hasOwnProperty(k)&&c(this.yd,a+"."+b.Xr[k]);else c(this.yd,a);b.loop&&this.loop();b.autoplay&&(this.yd.autoplay="autoplay");this.yd.Cs=!0===b.Cs?"auto":!1===b.Cs?"none":b.Cs;this.ih(b.volume);ga.push(this)}};var ka={Menu:"complex",Interlude:"complex","Hive 1":"kickit","Hive 2":"breakthru","Hive 3":"emergence","Hive 4":"fire",Tessellation:"driven","Final Tessellation":"wicked"},ma={driven:27.46,wicked:2.922},na={impulse:"effects/impulse",pdeath:"effects/pdeath",ffrenzy:"effects/ffrenzy",sparks:"effects/sparks",ult:"effects/ult",pwheel:"effects/pwheel",goo:"effects/goo",sshot:"effects/sshot",deathray:"effects/deathray",b1hit:"effects/b1hit",b1shrink:"effects/b1shrink",b1grow:"effects/b1grow",b2bhole:"effects/b2bhole",
b3strike:"effects/b3strike",b3select:"effects/b3select",b4spawner:"effects/b4spawner",b4attacker:"effects/b4attacker",b4darkness:"effects/b4darkness",dark_diag:"effects/dark_diag",dark_anger:"effects/dark_anger"},oa={b3tick:{file:"effects/b3tick",Ti:2},sdeath:{file:"effects/sdeath",Ti:4},tdeath:{file:"effects/tdeath",Ti:4},hfire:{file:"effects/hfire",Ti:2},hhit:{file:"effects/hhit",Ti:2},fbullet:{file:"effects/fbullet",Ti:4},fbullethit:{file:"effects/fbullethit",Ti:4},b2eat:{file:"effects/b2eat",
Ti:4},b4spawneract:{file:"effects/b4spawneract",Ti:2}},qa={"Hive 0":"bg/hive0","Title Alt1":"bg/titlebg_alt1","Title Alt2":"bg/titlebg_alt2","Title Alt3":"bg/titlebg_alt3","Title Alt4":"bg/titlebg_alt4","Hive 1":"bg/hive1","Hive 2":"bg/hive2","Hive 3":"bg/hive3","Hive 4":"bg/hive4"},ra={1:"IGNAVIAM",2:"CONSUMENDI",3:"NEGLIGENTIA",4:"ADROGANTIA"},sa=[{Ip:4,Vc:500},{Ip:5,Vc:1E3},{Ip:6,Vc:2E3},{Ip:7,Vc:5E3},{Ip:8,Vc:7E3},{Ip:9,Vc:1E4}],ta=[{dt:1,Vc:50},{dt:2,Vc:3E3},{dt:3,Vc:8E3}],ua=[{hi:11,Vc:200},
{hi:12,Vc:750},{hi:13,Vc:1500},{hi:14,Vc:4E3},{hi:15,Vc:6E3},{hi:16,Vc:9E3}],va={},wa,xa,ya;for(ya in oa)na[ya]=oa[ya].file;
var x={bronze:"#cc8032",silver:"#c0c0c0",impulse_target_blue:"rgba(0, 128, 255, 0.2)",impulse_blue:"rgb(0, 128, 255)",impulse_blue_dark:"#13527e",rose:"#ff66cc",gold:"#edb900","world 0":"#333","world 0 lite":"#999","world 0 bright":"#fff","world 0 dark":"#080808","world 1":"#034903","world 1 lite":"#046a04","world 1 bright":"#00ff00","world 1 dark":"#000d00","world 2":"#0020b0","world 2 lite":"#0028dd","world 2 bright":"#003DFF","world 2 dark":"#010310","world 3":"#450555","world 3 lite":"#5f0775",
"world 3 dark":"#0f0013","world 3 bright":"#C000FF","world 4":"#600","world 4 lite":"#a00","world 4 dark":"#180000","world 4 bright":"#f00",player_color:"rgb(32, 140, 231)",boss:"red","boss dark":"#900","boss 1":"#05c205","boss 2":"#002eff","boss 3":"#C000FF","boss 4":"#f00"};
function za(){var a=D.Gb+" "+D.wc;"left mouse"==a?va={Uq:37,Zq:38,Xq:39,Kq:40,ij:13,vt:71,uk:27,Oq:16,At:77,rt:70,ex:39,Ax:37,Wq:16,vx:39,dx:37,wx:39,ax:40,tx:13}:"right mouse"==a?va={Uq:65,Zq:87,Xq:68,Kq:83,ij:81,vt:71,uk:27,Oq:32,At:77,rt:70,ex:69,Wq:82,Ax:83,vx:81,dx:69,wx:82,ax:68,tx:32}:"right keyboard"==a&&(va={Uq:37,Zq:38,Xq:39,Kq:40,ij:81,vt:71,uk:27,nx:65,px:87,ox:68,mx:83,Oq:32,At:77,rt:70,ex:69,Wq:82,Ax:83,vx:81,dx:69,wx:82,ax:68,tx:32,TF:69})};function Aa(a,b,c,d,f,g,h){a.beginPath();a.arc(b*E,c*E,d*E*2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI*f,!0);a.lineWidth=h?h:2;a.strokeStyle=g;a.stroke()}function Ba(a,b,c,d,f){a.moveTo(b*E,c*E-d*E*2);a.arc(b*E,c*E,d*E*2,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*f,!0)}
function Ca(a,b,c,d,f,g){void 0===g&&(g=1);a.save();for(var h=a.shadowBlur=0;h<c.length;h++)if(!1!==c[h].visible){var k=c[h],n=c[h].ca,q=c[h].color?c[h].color:f;a.beginPath();if("polygon"==k.type){a.moveTo(g*(k.x+k.X*n[0][0])*E,g*(k.y+k.X*n[0][1])*E);for(var p=1;p<n.length;p++)a.lineTo(g*(k.x+k.X*n[p][0])*E,g*(k.y+k.X*n[p][1])*E)}a.closePath();p=G[d].xz;a.fillStyle=q;"normal"==b&&p&&(a.fillStyle=p);a.fillStyle="black";"lighten"!=b&&a.fill();a.strokeStyle=q;a.lineWidth=2*Math.sqrt(g);"lighten"==b&&
(a.strokeStyle="black",a.lineWidth=4*Math.sqrt(g));a.stroke()}if(b=G[d].Ty){a.beginPath();for(p=0;p<b.length;p++)a.moveTo(g*b[p][0][0]*E,g*b[p][0][1]*E),a.lineTo(g*b[p][1][0]*E,g*b[p][1][1]*E);a.strokeStyle="black";a.lineWidth=3;a.globalAlpha=1;a.stroke()}b=G[d].Uy;d=G[d].K;if("undefined"!==typeof b)for(c=0;c<b.length;c++)a.beginPath(),f=b[c],a.moveTo(g*d*f.x1*E,g*d*f.y1*E),a.lineTo(g*d*f.x2*E,g*d*f.y2*E),a.lineWidth=2,a.strokeStyle=q,a.stroke();a.restore()}
function Da(a,b,c,d,f,g,h,k){"boss"!=b.slice(b.length-4)&&(a.save(),a.translate(c,d),g&&a.rotate(g),void 0===h&&(h="normal"),c=G[b].K*E*Ga.prototype.Rm,f=null==f?c:f*Math.min(G[b].K/1.5,1),Ha(a,b,f,h,k),a.restore())}
function Ha(a,b,c,d,f){void 0===f&&(f=G[b].className.prototype.Yk(d),f||(f=G[b].color));var g=G[b].Jr;g||(g=G[b].Yb);Ca(a,d,g,b,f,c/(Ga.prototype.Rm*G[b].K*E));d=G[b].className.prototype.Yk(d);d||(d=G[b].color);if("undefined"!==typeof G[b].Aj)for(f=0;f<G[b].Aj.length;f++)g=G[b].Aj[f],g.Fu?Ia(a,0,0,g,c,d):Ia(a,0,0,g,c,d,1,0,"black")}function Ja(a,b,c,d,f,g){a.save();a.translate(c,d);g&&a.rotate(g);Ha(a,b,G[b].images.normal.height*f/2,"normal");a.restore()}var Ka={0:1.4,1:1,2:1.4,3:1.4,4:1.6};
function La(a,b,c,d,f,g,h){f*=Ka[b];a.save();g&&(a.globalAlpha*=.5,1==b&&J(a,c,d,Math.PI/4,2*f,2*f,Ma[b],Na[b]),J(a,c,d,Math.PI/4,1.5*f,1.5*f,Ma[b],Na[b]));a.restore();a.save();a.translate(c,d);a.rotate((h?h:0)+(4!=b&&2!=b?Math.PI/4:0));J(a,0,0,0,f,f,Oa[b],Na[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle=x["boss "+b],a.stroke());a.restore()}
function Pa(a,b,c,d,f){f*=Ka[b];a.save();a.translate(c,d);4!=b&&2!=b&&a.rotate(Math.PI/4);J(a,0,0,0,f,f,Qa[b],Na[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle="gray",a.stroke());a.restore()}
function Ra(a,b,c,d,f,g){a.save();a.shadowColor=f;a.shadowBlur=0;Sa(a,b,c-d,.9*d,.9*d,.2*d,f);Sa(a,b-d,c,.9*d,.9*d,.2*d,f);Sa(a,b,c,.9*d,.9*d,.2*d,f);Sa(a,b+d,c,.9*d,.9*d,.2*d,f);a.fillStyle=f;a.font=.4*d+"px Muli";a.textAlign="center";g?(a.fillText(g[0],b,c-1*d),a.fillText(g[1],b-d,c+0*d),a.fillText(g[2],b,c+0*d),a.fillText(g[3],b+d,c+0*d),Ta(a,b,c-.8*d,.3*d,"up",f),Ta(a,b-d,c+.2*d,.3*d,"left",f),Ta(a,b,c+.2*d,.3*d,"down",f),Ta(a,b+d,c+.2*d,.3*d,"right",f)):(Ta(a,b,c-d,.5*d,"up",f),Ta(a,b-d,c,.5*
d,"left",f),Ta(a,b,c-2,.5*d,"down",f),Ta(a,b+d,c,.5*d,"right",f));a.restore()}function Ua(a,b,c,d,f,g){a.save();a.fillStyle=g;Sa(a,b,c,d,f,.25*f,g);a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Va(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Sa(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b-d/2,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Wa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Sa(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Sa(a,b,c,d,f,g,h){a.save();a.shadowColor=h;a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2+g,c-f/2);a.arcTo(b+d/2,c-f/2,b+d/2,c+f/2,g);a.arcTo(b+d/2,c+f/2,b-d/2,c+f/2,g);a.arcTo(b-d/2,c+f/2,b-d/2,c-f/2,g);a.arcTo(b-d/2,c-f/2,b+d/2,c-f/2,g);a.closePath();a.strokeStyle=h;a.lineWidth=2;a.stroke();a.restore()}function Xa(a,b,c,d){a.save();a.beginPath();a.rect(b-15,c-15,30,30);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.fillStyle=d;a.font="20px Muli";a.fillText("f",b,c+7.5);a.restore()}
function Ya(a,b,c,d,f,g){a.save();var h=2*Math.PI/24;a.beginPath();for(var k=0;6>k;k++)0==k?a.moveTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))):a.lineTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))),a.lineTo(b-15*Math.cos(h*(4*k+.6)),c-15*Math.sin(h*(4*k+.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+1.6)),c-11.25*Math.sin(h*(4*k+1.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+2.6)),c-11.25*Math.sin(h*(4*k+2.6)));a.closePath();a.fillStyle=d;a.fill();g&&(a.globalAlpha/=2);a.beginPath();a.arc(b,
c,7.5,0,1.998*Math.PI);a.fillStyle=f;a.fill();a.restore()}function Za(a,b,c,d){a.save();a.beginPath();a.arc(b,c-5,5,0,2*Math.PI,!0);a.moveTo(b,c+12.5);a.arc(b,c+12.5,10,0,Math.PI,!0);a.fillStyle=d;a.fill();a.restore()}function $a(a,b,c,d){a.save();a.beginPath();a.moveTo(b,c-13/3);a.lineTo(b-13,c-26/3);a.lineTo(b-13,c+26/3);a.lineTo(b,c+13);a.moveTo(b,c+13);a.lineTo(b,c-13/3);a.lineTo(b+13,c-26/3);a.lineTo(b+13,c+26/3);a.lineTo(b,c+13);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.restore()}
function ab(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,2*Math.PI/5,Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.arc(b,c,9.75,7*Math.PI/5,2*Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b-2.4375,c);a.lineTo(b-15.4375,c);a.lineTo(b-8.9375,c-6.5);a.moveTo(b+2.4375,c);a.lineTo(b+15.4375,c);a.lineTo(b+8.9375,c+6.5);a.fillStyle=d;a.fill();a.restore()}
function bb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,3*Math.PI/2,3*Math.PI/4);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b,c-2.4375);a.lineTo(b,c-15.4375);a.lineTo(b-6.5,c-8.9375);a.fillStyle=d;a.fill();a.restore()}function cb(a,b,c,d,f){a.save();db(a,b,c,d/2,f);a.beginPath();a.arc(b,c,d,7*Math.PI/6,11*Math.PI/6);a.lineWidth=Math.ceil(d/6);a.strokeStyle=f;a.stroke();a.restore()}
function db(a,b,c,d,f){a.beginPath();a.arc(b,c,d,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill();a.beginPath();a.arc(b,c,4*d/5,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle="black";a.fill();a.beginPath();a.arc(b,c,11*d/20,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill()}
function eb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.moveTo(b-12,c-12);a.lineTo(b-12,c+12);a.lineTo(b+12,c+12);a.lineTo(b+12,c-12);a.lineTo(b,c-12);a.lineTo(b,c);a.lineWidth=5;a.stroke();a.beginPath();a.moveTo(b-7,c-3);a.lineTo(b+7,c-3);a.lineTo(b,c+4);a.fill();a.restore()}
function fb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.arc(b,c,12.6,0,2*Math.PI,!0);a.lineWidth=3;a.stroke();a.beginPath();a.lineWidth=4;a.moveTo(b,c-7.2);a.lineTo(b,c+3.6);a.moveTo(b,c+18*.3);a.lineTo(b,c+7.2);a.stroke();a.restore()}
function gb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-3*d/8,c-d/4);a.lineTo(b+3*d/8,c-d/4);a.moveTo(b-d/4,c-d/4);a.lineTo(b-d/4,c+d/2);a.lineTo(b+d/4,c+d/2);a.lineTo(b+d/4,c-d/4);a.moveTo(b-d/8,c-d/8);a.lineTo(b-d/8,c+3*d/8);a.moveTo(b,c-d/8);a.lineTo(b,c+3*d/8);a.moveTo(b+d/8,c-d/8);a.lineTo(b+d/8,c+3*d/8);a.moveTo(b-d/8,c-d/4);a.lineTo(b-d/8,c-3*d/8);a.lineTo(b+d/8,c-3*d/8);a.lineTo(b+d/8,c-d/4);a.strokeStyle=f;a.lineWidth=2;a.stroke();a.restore()}
function hb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2,c-d/2);a.lineTo(b+d/2,c+d/2);a.moveTo(b-d/2,c+d/2);a.lineTo(b+d/2,c-d/2);a.strokeStyle=f;a.lineWidth=5;a.stroke();a.restore()}function ib(a,b,c,d){a.save();a.translate(b,c);a.transform(1,-.35,0,1,0,0);a.translate(-b,-c);a.beginPath();a.moveTo(b-10,c);a.lineTo(b+10,c);a.moveTo(b-10,c+10);a.lineTo(b+10,c+10);a.lineWidth=6;a.strokeStyle=d;a.stroke();a.restore()}
function jb(a,b,c,d){a.save();a.beginPath();a.rect(b-5,c-10,10,10);a.rect(b-10,c,10,10);a.rect(b,c,10,10);a.strokeStyle=d;a.lineWidth=4;a.stroke();a.restore()}
function lb(a,b,c,d){a.save();a.translate(20/3,0);a.beginPath();a.moveTo(b-20/3,c+10);a.lineTo(b-20/3,c-20/6);a.lineTo(b+20/3,c-40/6);a.lineTo(b+20/3,c+40/6);a.lineWidth=4;a.strokeStyle=d;a.stroke();var f=b-10,g=c+10;a.save();a.translate(f,g);a.scale(1.3,1);a.translate(-f,-g);a.beginPath();a.arc(f,g,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();a.restore();b+=20/6;c+=20/3;a.save();a.translate(b,c);a.scale(1.3,1);a.translate(-b,-c);a.beginPath();a.arc(b,c,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();
a.restore();a.restore()}
function mb(a,b,c,d,f,g){a.save();a.beginPath();a.moveTo(b-.3*d-d/2*.75,c-d/2*.6);a.lineTo(b-.3*d,c-d/2*.6);a.lineTo(b-.3*d+d/2*.75,c-.6*d);a.lineTo(b-.3*d+d/2*.75,c+.6*d);a.lineTo(b-.3*d,c+d/2*.6);a.lineTo(b-.3*d-d/2*.75,c+d/2*.6);a.fillStyle=f;a.fill();g?(a.beginPath(),a.arc(b-.3*d+.75*d,c,d/2*.45,0,2*Math.PI,!0),a.moveTo(b-.3*d+.75*d-Math.cos(Math.PI/4)*d/2*.45,c-Math.cos(Math.PI/4)*d/2*.45),a.lineTo(b-.3*d+.75*d+Math.cos(Math.PI/4)*d/2*.45,c+Math.cos(Math.PI/4)*d/2*.405),a.lineWidth=2,a.strokeStyle=
f):(a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2*.6,-Math.PI/3,Math.PI/3,!1),a.lineWidth=2,a.strokeStyle=f,a.stroke(),a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2,-Math.PI/3,Math.PI/3,!1));a.stroke();a.restore()}
function Ia(a,b,c,d,f,g,h,k,n){h="undefined"!==typeof h?h:1;k="undefined"!==typeof k?k:0;a.beginPath();a.save();0!=k&&(a.translate(b,c),a.rotate(k),a.translate(-b,-c));"circle"==d.type&&a.arc(b+d.x,c+d.y,f*d.X,0,1.998*Math.PI);if("polygon"==d.type){a.moveTo(b+(d.x+d.ca[0][0]*d.X)*f,c+(d.y+d.ca[0][1]*d.X)*f);for(k=1;k<d.ca.length;k++)a.lineTo(b+(d.x+d.ca[k][0]*d.X)*f,c+(d.y+d.ca[k][1]*d.X)*f);a.closePath()}a.globalAlpha*=h;a.fillStyle=g;n&&"none"!=n?a.fillStyle=n:a.globalAlpha/=3;"none"!=n&&a.fill();
n&&"none"!=n||(a.globalAlpha*=3);a.strokeStyle=g;a.lineWidth=2;a.stroke();a.restore()}
function Ta(a,b,c,d,f,g,h){h=void 0==h?!1:h;a.save();a.translate(b,c);"left"==f?a.rotate(Math.PI):"up"==f?a.rotate(3*Math.PI/2):"down"==f&&a.rotate(Math.PI/2);a.beginPath();a.moveTo(Math.cos(0)*d/2,Math.sin(0)*d/2);a.lineTo(Math.cos(2*Math.PI/3)*d/2,Math.sin(2*Math.PI/3)*d/2);a.lineTo(Math.cos(4*Math.PI/3)*d/2,Math.sin(4*Math.PI/3)*d/2);a.closePath();a.fillStyle=g;h?(a.shadowBlur=10,a.shadowColor=g):a.shadowBlur=0;a.fill();a.restore()}
function nb(a,b,c,d){a.save();a.textAlign="center";a.shadowColor=x.impulse_blue;a.shadowBlur=0;a.fillStyle="white";a.drawImage(ob,b-ob.width/2*.85,c-.6375*ob.height,.85*ob.width,.85*ob.height);d&&(a.font="16px Muli",a.fillText(d,b,c+40));a.restore()}
function pb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.rect(c-100,d-75,200,150);a.clip();a.beginPath();a.rect(c-100,d-75,200,150);a.save();a.globalAlpha*=.3;a.fillStyle=f;a.fill();a.restore();var g=null;"easy"==K&&(g=N[b].Hf);g||(g=N[b].Ka);if(g){for(b=0;b<g.length;b++){a.beginPath();a.moveTo(c-100+g[b][0][0]/O*200,d-75+g[b][0][1]/P*150);for(var h=1;h<g[b].length;h++)a.lineTo(c-100+g[b][h][0]/O*200,d-75+g[b][h][1]/P*150);a.closePath();a.fillStyle="black";a.strokeStyle=f;a.lineWidth=2;a.stroke();
a.fill()}a.restore();a.save();a.beginPath();a.shadowBlur=0;a.rect(c-100,d-75,200,150);a.lineWidth=2;a.strokeStyle=f;a.stroke();a.restore()}}
function qb(){var a=document.createElement("canvas");a.width=400;a.height=400;var b=a.getContext("2d");b.globalAlpha=.2;J(b,a.width/2,a.height/2,0,.7*a.width,.7*a.height,"ultimate");b.globalAlpha=1;for(var c=0;48>c;c++){var d=c%2?.4*a.width:.42*a.width;J(b,a.width/2+d*Math.cos(c*Math.PI*2/48),a.height/2+d*Math.sin(c*Math.PI*2/48),2*Math.PI/48*c,32,18,"ultimate_shard")}return a}function rb(a){var b=new Image;b.src=a;return b}
var sb=rb("art/sprites.png"),tb={player_normal:[0,0,40,40],player_red:[40,-1,40,40],player_yellow:[80,0,41,41],player_gray:[120,0,41,41],player_green:[160,0,41,41],player_white:[200,0,40,40],spark:[0,41,40,40],multi:[0,81,40,40],white_glow:[40,40,100,100],ultimate:[148,41,150,150],lives_icon:[0,0,40,40],sparks_icon:[0,41,40,40],ultimate_icon:[0,155,42,42],ultimate_icon_blue:[43,155,42,42],ultimate_shard:[0,121,18,32],world1_starblank:[85,199,41,38],world1_starhalf:[127,199,19,38],world1_star:[127,
199,41,38],world2_starblank:[85,237,41,38],world2_starhalf:[127,237,19,38],world2_star:[127,237,41,38],world3_starblank:[0,199,41,38],world3_starhalf:[42,199,19,38],world3_star:[42,199,41,38],world4_starblank:[0,237,41,38],world4_starhalf:[42,237,19,38],world4_star:[42,237,41,38],silver_trophy:[0,277,90,78],gold_trophy:[89,277,90,78],world1_timer:[189,211,48,61],world2_timer:[241,211,48,61],world3_timer:[189,277,48,62],world4_timer:[241,277,48,62],spark_powerup:[310,6,37,36],multi_powerup:[310,58,
37,36],ult_powerup:[304,105,49,48],pink_one:[300,201,40,40],dark_one:[301,240,40,41],dark_aura:[300,299,100,101],immunitas_arm:[0,0,90,90],immunitas_arm_red:[150,135,90,90],immunitas_hand:[90,0,90,90],immunitas_hand_red:[240,135,90,90],immunitas_logo_gray:[330,135,90,90],immunitas_head:[0,90,108,108],immunitas_head_red:[450,123,108,108],immunitas_glow:[180,0,135,135],immunitas_red_glow:[315,0,135,135],immunitas_aura:[450,0,123,123],immunitas_aura_red:[573,0,123,123],immunitas_arrow:[0,200,70,70],
immunitas_lockon:[573,123,120,120],consumendi_head:[0,0,180,180],consumendi_head_red:[720,136,135,135],consumendi_aura:[181,0,269,269],consumendi_small_diamond:[94,180,30,56],consumendi_small_diamond_filled:[64,180,30,56],consumendi_small_arrow:[124,180,30,16],consumendi_glow:[720,0,135,135],consumendi_logo:[450,0,120,119],consumendi_mini:[450,119,120,120],consumendi_mini_gray:[570,0,120,120],negligentia_head:[0,0,180,180],negligentia_head_red:[0,180,180,180],negligentia_arm_striking:[180,0,244,100],
negligentia_arm_striking_red:[180,100,244,100],negligentia_wheel:[424,0,134,134],negligentia_wheel_red:[424,270,134,134],negligentia_wheel_complete:[423,135,135,135],negligentia_glow:[560,0,115,115],negligentia_glow_red:[560,115,115,115],negligentia_aura:[559,270,39,65],negligentia_aura_open:[598,270,39,65],negligentia_arm_ring:[180,200,180,180],negligentia_logo:[680,0,120,120],negligentia_logo_gray:[680,120,120,120],adrogantia_attack_bud:[0,0,80,80],adrogantia_spawner:[0,80,80,80],adrogantia_body_bud:[80,
0,80,80],adrogantia_attack_bud_firing:[80,80,80,80],adrogantia_body_bud_red:[80,160,80,80],adrogantia_head:[181,1,160,160],adrogantia_head_red:[181,161,160,160],adrogantia_glow:[340,0,135,135],adrogantia_logo:[476,0,125,125],adrogantia_logo_gray:[476,125,125,125],generated_ultimate:[0,0,400,400]},ub=rb("art/immunitas_sprite.png"),vb=rb("art/consumendi_sprite.png"),wb=rb("art/negligentia_sprite.png"),xb=rb("art/adrogantia_sprite.png"),ob=rb("art/logo.png"),Ma={0:"white_glow",1:"immunitas_glow",2:"consumendi_glow",
3:"negligentia_glow",4:"adrogantia_glow"},Oa={0:"ultimate",1:"immunitas_arm",2:"consumendi_logo",3:"negligentia_logo",4:"adrogantia_logo"},Qa={0:"world_logo",1:"immunitas_logo_gray",2:"consumendi_mini_gray",3:"negligentia_logo_gray",4:"adrogantia_logo_gray"},Na={0:sb,1:ub,2:vb,3:wb,4:xb},yb={},zb;for(zb in qa)yb[zb]=rb("art/"+qa[zb]+".png");
function J(a,b,c,d,f,g,h,k){k="undefined"!==typeof k?k:sb;a.save();a.translate(b,c);a.rotate(d);a.drawImage(k,tb[h][0],tb[h][1],tb[h][2],tb[h][3],-f/2,-g/2,f,g);a.restore()}function Ab(a,b,c,d,f,g,h){var k=h.width,n=h.height;a.save();a.translate(b,c);a.rotate(d);a.drawImage(h,0,0,k,n,-f/2,-g/2,f,g);a.restore()}function Bb(a,b,c,d,f){f=yb[f];var g=f.width,h=f.height;a.save();a.rect(0,b,c-0,d-b);a.clip();for(var k=0;k<c;k+=g)for(var n=b;n<d;n+=h)a.drawImage(f,0,0,g,h,k,n,g,h);a.restore()}
function Cb(a,b,c,d,f){"half"==f?(J(a,b-24,c,0,20,20,"world"+d+"_starblank"),J(a,b-28.8,c,0,12*.8,20,"world"+d+"_starhalf"),J(a,b,c,0,20,20,"world"+d+"_starblank"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"basic"==f?(J(a,b-24,c,0,20,20,"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_starblank"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"silver"==f?(J(a,b-24,c,0,20,20,"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_star"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"gold"==f&&(J(a,b-24,c,0,20,20,
"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_star"),J(a,b+24,c,0,20,20,"world"+d+"_star"))}function Db(a,b,c,d,f){var g=x.gold;a.save();a.beginPath();a.translate(b-d,c-f);a.scale(d,f);a.arc(1,1,1,0,2*Math.PI,!1);a.restore();a.save();g&&(a.strokeStyle=g);a.stroke();a.restore()}
draw_enemy_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();Da(a,f,b,c,30)};
draw_quest_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();"beat_hive"==f&&(La(a,1,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=x.impulse_blue,a.stroke());"final_boss"==f&&(La(a,4,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+
.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=x.impulse_blue,a.stroke());"first_gold"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.8*d,.8*d,"gold_trophy"));if("combo"==f){a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();J(a,b,c-d/4,0,.4*d,.4*d,"player_normal");a.beginPath();a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1);a.strokeStyle=x.impulse_blue;a.stroke();for(var g=[Math.PI/2,.36*Math.PI,.64*Math.PI,
.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++){var k=g[h];Ab(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),k,10,10,G.stunner.images.normal)}}if("combo"==f)for(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=x.impulse_blue,a.stroke(),g=[Math.PI/2,.36*Math.PI,.64*Math.PI,.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++)k=g[h],Ab(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),
k,10,10,G.stunner.images.normal);"high_roller"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.65*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=x.impulse_blue,a.stroke(),a.fillStyle=x.gold,a.textAlign="center",a.font="12px Muli",a.fillText("250K",b,c+d/2));"blitz_hive"==f.substring(0,10)&&(a.save(),a.globalAlpha*=.2,g=f.substring(10),"1"==g?J(a,b,c,0,1.2*d,1.2*d,"immunitas_glow",ub):"2"==g?J(a,b,c,0,
1.2*d,1.2*d,"consumendi_glow",vb):"3"==g?J(a,b,c,0,1.2*d,1.2*d,"negligentia_glow",wb):"4"==g&&J(a,b,c,0,1.2*d,1.2*d,"adrogantia_glow",xb),a.restore(),J(a,b,c,0,.8*d,.8*d,"world"+f.substring(10)+"_timer"));if("survivor"==f)for(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.4*d,.4*d,"player_normal"),h=0;8>h;h++)k=2*Math.PI*h/4+Math.PI/4,Ab(a,b+.5*d*Math.cos(k),c+.5*d*Math.sin(k),Math.PI/2+k,15,15,G.spear.images.normal);"fast_time"==f&&(a.save(),a.globalAlpha*=
.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.7*d,.7*d,"timer_icon"));"pacifist"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c+.2*d,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Db(a,b,c-.2*d,d/6,d/12),a.restore());"beat_hard"==f&&(a.save(),a.globalAlpha*=.1,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,d,d,"ultimate_icon"));"untouchable"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,
b,c,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Db(a,b,c,.45*d,.45*d),Db(a,b,c,.55*d,.55*d),a.restore())};var Eb={beat_hive:{xb:["ult"],text:["DEFEAT A HIVE"]},final_boss:{xb:["life"],text:["DEFEAT THE FINAL BOSS"]},untouchable:{xb:["spark"],text:["BEAT ANY HIVE","WITHOUT GETTING HIT"]},high_roller:{xb:["life"],KE:25E4,text:["SCORE 250000 PTS OR MORE","ON A SINGLE ENEMY"]},pacifist:{xb:["life"],text:["BEAT ANY LEVEL","WITHOUT USING IMPULSE"]},blitz_hive1:{xb:["spark"],text:["BEAT HIVE 1 IN HARD MODE","UNDER 12 MINUTES"],yq:720},blitz_hive2:{xb:["life"],text:["BEAT HIVE 2 IN HARD MODE","UNDER 6 MINUTES"],
yq:400},blitz_hive3:{xb:["life","spark"],text:["BEAT HIVE 3 IN HARD MODE","UNDER 7 MINUTES"],yq:500},blitz_hive4:{xb:["life","spark","ult"],text:["BEAT HIVE 4 IN HARD MODE","UNDER 8 MINUTES"],yq:600},beat_hard:{xb:["life","spark"],text:["DEFEAT ALL HIVES","IN HARD MODE"]}};function Fb(a,b){return a.x==b.x&&a.y==b.y}function Gb(a){var b=a%60;return Math.floor(a/60)+":"+(10>b?"0"+b:b)}function Hb(a,b,c,d){void 0===d&&(d=null);for(var f=0;f<c.length;f++)if(!(Fb(a,c[f].p1)||Fb(a,c[f].p2)||Fb(b,c[f].p1)||Fb(b,c[f].p2))&&c[f].p1.p_n!==d&&Ib(a,b,c[f].p1,c[f].p2))return!1;return!0}
function Jb(a,b){for(var c=a.length-1,d=!1,f=0;f<a.length;f++)(a[f].y<b.y&&a[c].y>=b.y||a[f].y>=b.y&&a[c].y<b.y)&&a[f].y!=a[c].y&&a[f].x+(b.y-a[f].y)/(a[c].y-a[f].y)*(a[c].x-a[f].x)<b.x&&(d=!d),c=f;return d}function Q(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function Ib(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};a={x:c.x-a.x,y:c.y-a.y};c=Kb(b,d);if(0==c&&0==Kb(a,d))return!1;d=Kb(a,d)/c;b=Kb(a,b)/c;return 0<=d&&1>=d&&0<=b&&1>=b}
function Lb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};c={x:c.x-a.x,y:c.y-a.y};var f=Kb(b,d);if(0==f&&0==Kb(c,d))return null;d=Kb(c,d)/f;c=Kb(c,b)/f;return 0<=d&&1>=d&&0<=c&&1>=c?{x:a.x+b.x*d,y:a.y+b.y*d}:null}function Mb(a,b,c){return Math.abs(Kb({x:b.x-a.x,y:b.y-a.y},{x:c.x-a.x,y:c.y-a.y}))/Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Kb(a,b){return a.x*b.y-a.y*b.x}
function Nb(a){var b;a.pageX||a.pageY?(b=a.pageX,a=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);b-=offset_left;a-=offset_top;return{x:b,y:a}}function R(a,b){null!=a&&null!=b||console.log("ERROR");var c;if(a.x==b.x)return c=a.y>b.y?-Math.PI/2:Math.PI/2;c=Math.atan((a.y-b.y)/(a.x-b.x));a.x>b.x&&a.y<b.y?c+=Math.PI:a.x>b.x&&a.y>=b.y&&(c-=Math.PI);return c}
function Ob(a,b,c,d){for(var f=[],g=0;g<c.length;g++){var h=d(c[g]);Q(a,h)<b&&f.push(c[g])}return f}
function Pb(a,b){for(var c=a.length-1,d=[],f=0;f<a.length;f++){var g=(f+1)%a.length,h=new b2Vec2(a[f].y-a[c].y,a[c].x-a[f].x),c=new b2Vec2(a[f].x-a[c].x,a[f].y-a[c].y),k=new b2Vec2(a[g].y-a[f].y,a[f].x-a[g].x),g=new b2Vec2(a[f].x-a[g].x,a[f].y-a[g].y);h.cb();k.cb();c.cb();g.cb();var n=R({x:0,y:0},k),q=R({x:0,y:0},h),n=n-q,n=0>n?n+2*Math.PI:n,n=n>=2*Math.PI?n-2*Math.PI:n;n>Math.PI?d.push({x:a[f].x+h.x*b-1*c.x/Math.tan(n/2-Math.PI/2)*b,y:a[f].y+h.y*b-1*c.y/Math.tan(n/2-Math.PI/2)*b}):n>5*Math.PI/6?
(d.push({x:a[f].x+h.x*b+c.x*b,y:a[f].y+h.y*b+c.y*b}),d.push({x:a[f].x+k.x*b+g.x*b,y:a[f].y+k.y*b+g.y*b})):d.push({x:a[f].x+h.x*b+c.x*Math.tan(n/2)*b,y:a[f].y+h.y*b+c.y*Math.tan(n/2)*b});c=f}return d}function Qb(a,b){var c=E,c=c?c:1;return b.x>=a&&b.y>=a&&b.x<=O/c-a&&b.y<=P/c-a}function Rb(a,b,c){for(var d={x:Math.random()*(O/c-2*b)+b,y:Math.random()*(P/c-2*b)+b},f=!1,g=0;g<S.i.yh.length;g++)s!=g&&Jb(S.i.yh[g],d)&&(f=!0);return f||null==Sb(S.Mb,d,a).path?Rb(a,b,c):d}
function Tb(a,b,c){for(;a<c;)a+=2*Math.PI;for(;a>c;)a-=2*Math.PI;for(;b>c;)b-=2*Math.PI;for(;b<c;)b+=2*Math.PI;return b-a<=2*Math.PI}function Ub(a,b){for(;b-a>Math.PI;)b-=2*Math.PI;for(;b-a<-Math.PI;)b+=2*Math.PI;return b}function Vb(a,b){var c=a-b;c>2*Math.PI&&(c-=2*Math.PI);0>c&&(c+=2*Math.PI);c>Math.PI&&(c=2*Math.PI-c);return c}function Wb(a,b,c){return 0*Math.pow(1-c,3)+3*Math.pow(1-c,2)*c*a+3*(1-c)*Math.pow(c,2)*b+1*Math.pow(c,3)}
function Xb(a,b,c,d,f,g,h,k){var n=new b2BodyDef;n.type="static"==h?b2Body.qf:b2Body.Fd;n.position.x=c;n.position.y=d;n.ks=3;a=a.ao(n);for(c=0;c<b.length;c++){d=b[c];h=null;"circle"==d.type&&(h=new b2CircleShape(d.X),h.Gx(new b2Vec2(d.x,d.y)));if("polygon"==d.type){n=[];for(h=0;h<d.ca.length;h++)n.push(new b2Vec2(d.x+d.X*d.ca[h][0],d.y+d.X*d.ca[h][1]));h=new b2PolygonShape;h.Ft(n,n.length)}d=new b2FixtureDef;d.sb=f;d.Wm=0;d.An=.7;d.filter.sf=g;d.filter.Ff=6;d.shape=h;a.Jq(d).mo({body:a,owner:k,self:null})}return a}
function Yb(a){var b=a%60;10>b&&(b="0"+b);return Math.floor(a/60)+":"+b};function Zb(){this.Mc={};this.vl={};this.cc=null;for(var a in oa)$b(this,oa[a].file,oa[a].Ti);this.ak={};this.Ui=D.Sv;this.Nm=D.Nm}function ac(a){bc.play(na[a])}Zb.prototype.play=function(a){if(!this.Nm)if(a in this.vl)for(var b=0;b<this.vl[a].length;b++){if(!this.vl[a][b]){this.Mc[a+b].play();this.Mc[a+b].ih(D.Qr);this.vl[a][b]=!0;break}}else a in this.Mc||(this.Mc[a]=new ja("audio/"+a+".ogg")),this.Mc[a].play(),this.Mc[a].ih(D.Qr)};
function $b(a,b,c){a.vl[b]=[];for(var d=0;d<c;d++){a.vl[b].push(!1);a.Mc[b+d]=new ja("audio/"+b+".ogg");var f=a;a.Mc[b+d].bind("ended",function(a,b){return function(){f.vl[b][a]=!1}}(d,b))}}function cc(a,b){a.cc&&a.Mc[a.cc].stop();a.cc=null;dc(a,b)}function ec(a){var b=bc;D.Ek=a;b.cc&&!b.Ui&&b.Mc[b.cc].ih(D.Ek);fc()}
function dc(a,b){null!=a.cc&&a.cc!=b?a.Mc[a.cc].hD()?cc(a,b):(a.ak[a.cc]=!1,a.ak[b]=!0,a.Mc[a.cc].Vy(500,function(){cc(a,b)})):(b in a.Mc||(b in ma?(a.Mc[b]=new ja("audio/"+b+".ogg"),a.Mc[b].bind("ended",function(){this.setTime(ma[b]);this.play()})):a.Mc[b]=new ja("audio/"+b+".ogg",{loop:!0})),a.Ui?a.Mc[b].ih(0):a.Mc[b].ih(D.Ek),a.Mc[b].play(),a.ak[b]=!0,a.cc=b)}
function gc(){var a=bc;if(a.cc){a.ak[a.cc]=!1;var b=a.cc;a.Mc[a.cc].Vy(300,function(){a.cc&&!a.ak[a.cc]?(a.Mc[a.cc].stop(),a.cc=null):a.cc==b&&a.ak[a.cc]&&a.Mc[a.cc].ih(D.Ek)})}};function hc(a,b){void 0!==a&&(this.Ld=ic()-1,this.bg=0,this.mk=jc(),this.Qg=0,this.hi=kc(),this.pz=!1,this.hc=b,0<a&&(this.ji=1E3*Eb["blitz_hive"+a].yq),this.hc||(this.Ld=0,1<this.mk&&(this.mk=1)),this.ph={},this.Cz=this.Ld,this.Dz=0,this.Gz=ic(),this.bB=jc(),this.Gk=null,this.G={},this.sa=a,this.fs=0==this.sa?"TUTORIAL":"HIVE "+ra[a],this.yu=ra[a],this.aE=0,this.ni=null)}hc.prototype.clone=function(a){var b=new hc,c;for(c in a)b[c]=a[c];return b};
function lc(a){a.Ld+=ic()-a.Gz;a.mk+=jc()-a.bB;a.hi=kc();a.Gz=ic();a.bB=jc()}hc.prototype.continue=function(){this.Ld=ic();this.bg=0;this.mk=jc();this.hi=kc();this.Cz=this.Ld;this.Dz=0;this.Qg+=1};function mc(a,b,c,d){this.ha(a,b,c,d)}l=mc.prototype;l.Ba=3.5;l.id=9999;l.Pn=1.2;l.sz=50;l.Vg=10;l.lv=.03125;l.bD=x.impulse_target_blue;l.rz=x.impulse_blue;l.sb=.5625;l.hh=.66;l.K=.66;
l.ha=function(a,b,c,d){if(null!=a){"easy"==K&&(this.sb*=1.5,this.Pn*=1.5);var f=new b2FixtureDef;f.sb=this.sb;f.Wm=0;f.An=1;f.filter.sf=2;f.filter.Ff=29;var g=new b2BodyDef;g.type=b2Body.Fd;f.shape=new b2CircleShape(mc.prototype.hh);this.X=mc.prototype.hh;this.i=d.i;this.t=d;g.position.x=b;g.position.y=c;g.ks=this.Ba;this.body=a.ao(g);this.body.Jq(f).mo({owner:this,body:this.body,self:this});this.shape=f.shape;this.eh=[];for(a=0;4>a;a++)this.eh.push({X:.5,pi:a*Math.PI/2});this.Aq=this.lp=this.right=
this.left=!1;this.lk=this.Kh=this.Fh=this.Ih=this.Gh=null;this.Gi=0;this.Fi=!1;this.rp=[];this.Gw=[];this.pj=!1;this.uh={};this.fd=0;this.oj=500;this.nj=0;this.lk=!1;this.qh={};this.Rn=1E3;this.Ol=0;this.Hw=20;this.sF=250;this.hk=this.kd=this.Gu=this.zm=0;this.WC=5;this.gz=1.7;this.Qv={x:0,y:0};this.status="normal";this.$=[0,0,0,0,0,0];this.kh=.3;this.N=!1;this.eb=1E3;this.tb=0;this.color=x.player_color;this.pa=this.Pn;this.iy=5;this.zr=!1;this.Tf=1.5;this.sv=0;this.aq=!1;this.Nt=250;this.Ot=!0;this.to=
this.Nt}};function nc(a,b){switch(b){case va.Uq:a.left=!0;break;case va.Xq:a.right=!0;break;case va.Kq:a.lp=!0;break;case va.Zq:a.Aq=!0;break;case va.ij:case va.uk:a.Aq=!1;a.lp=!1;a.left=!1;a.right=!1;a.Gh=null;a.Ih=null;a.Kh=null;a.Fh=null;break;case va.nx:a.Gh=(new Date).getTime();break;case va.px:a.Kh=(new Date).getTime();break;case va.ox:a.Ih=(new Date).getTime();break;case va.mx:a.Fh=(new Date).getTime()}}l.Ml=function(a){this.$[0]=Math.max(a,this.$[0]);this.$[1]=Math.max(a,this.$[1])};
l.Cc=function(a,b){b&&(this.kd=Math.max(a,this.$[1]),this.hk=Math.max(a,this.$[1]));this.$[1]=Math.max(a,this.$[1])};l.dv=function(a){this.$[2]=Math.max(a,this.$[2])};l.Jp=function(a){this.$[3]=Math.max(a,this.$[3]);this.hs=this.$[3];this.Kp=1;this.fl=1/this.Tf};function oc(a,b){a.zm=Math.max(b,a.$[4]);a.Gu=Math.max(b,a.$[4]);a.$[4]=Math.max(b,a.$[4])}l.Fe=function(){return 0<this.$[0]};l.ma=function(){return 0<this.$[1]};l.Yc=function(){return 0<this.$[2]};l.an=function(){return 0<this.$[3]};
l.oa=function(a){if(this.N)this.tb-=a;else{this.Ot&&(this.to-=a,0>this.to&&(this.Ot=!1));0<this.kd&&(this.kd-=a);0<this.zm&&(this.zm-=a);0<this.$[0]&&(this.$[0]-=a);0<this.$[1]&&(this.$[1]-=a);0<this.$[2]?(this.$[2]-=a,this.body.hf(this.Ba*this.WC),this.VC=!0):this.VC&&this.body.hf(this.Ba);if(0<this.$[3]){if(this.$[3]-=a,!this.Fi){this.Fi=!0;var b=this.body.Ic;void 0===b.length&&(b=[b]);for(var c=0;c<b.length;c++)b[c].ab.Ea/=this.Tf;this.body.ig();pc(this)}}else if(this.Fi){this.Fi=!1;b=this.body.Ic;
void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].ab.Ea*=this.Tf;this.body.ig();pc(this)}0<this.$[4]&&(this.$[4]-=a);0<this.$[5]&&(this.$[5]-=a);if(0<this.$[5]&&!this.zr){b=this.body.Ic;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].Fx(this.sb*this.iy);pc(this);this.body.ig();this.zr=!0}else if(0>=this.$[5]&&this.zr){this.zr=!1;b=this.body.Ic;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].Fx(this.sb);pc(this);this.body.ig()}cur_time=(new Date).getTime();"mouse"==D.wc?(!(this.aq||
100>cur_time-this.sv)||this.pj||this.ma()||(this.pj=!0,this.t.G.mv=!0,this.uh=this.body.g.position.Eb(),this.fd=this.Gi,this.nj=this.oj,ac("impulse"),this.t instanceof qc&&(c=this.t,1==c.da&&"first_time_tutorial"==c.mode&&0==c.Vd&&"none"==c.jb&&(c.kg=c.Gm,c.Vd=!0)),this.t.jh&&rc(this.t,"player_impulsed")),this.Gi=R({x:this.body.g.position.x*E,y:this.body.g.position.y*E},this.Qv)):"keyboard"!=D.wc||this.pj||this.ma()||(c=0,null!=this.Gh&&this.Gh>c&&(c=this.Gh),null!=this.Ih&&this.Ih>c&&(c=this.Ih),
null!=this.Kh&&this.Kh>c&&(c=this.Kh),null!=this.Fh&&this.Fh>c&&(c=this.Fh),0!=c&&40<(new Date).getTime()-c&&(null!=this.Gh&&null!=this.Kh?this.fd=5*Math.PI/4:null!=this.Gh&&null!=this.Fh?this.fd=3*Math.PI/4:null!=this.Ih&&null!=this.Kh?this.fd=7*Math.PI/4:null!=this.Ih&&null!=this.Fh?this.fd=1*Math.PI/4:null!=this.Gh?this.fd=Math.PI:null!=this.Ih?this.fd=0:null!=this.Kh?this.fd=3*Math.PI/2:null!=this.Fh&&(this.fd=1*Math.PI/2),0<this.$[4]&&(this.fd+=Math.PI),this.pj=!0,this.t.G.mv=!0,this.uh=this.body.g.position.Eb(),
this.nj=this.oj,ac("impulse")));this.body.ub(this.Gi);0<this.$[4]&&(this.Gi+=Math.PI);for(c=0;c<this.i.de.length;c++)if(Jb(this.i.de[c],this.body.g.position)){this.Nc();break}if(this.pj)if(0>this.nj)this.pj=!1,this.rp=[];else{for(c=0;c<this.i.r.length;c++)if(!(this.i.r[c]instanceof sc&&!this.i.r[c].ma()||this.i.r[c]instanceof tc&&this.i.r[c].FC)){if(-1==this.rp.indexOf(this.i.r[c].id)&&!this.i.r[c].N)for(var d=this.i.r[c].Hj(),f=0;f<d.length;f++)if(uc(this,d[f])){if(vc(this,d[f],20<this.i.r[c].body.p.hg())){b=
R(this.uh,d[f]);this.rp.push(this.i.r[c].id);d=this.sz;this.i.r[c]instanceof wc&&this.i.r[c].Yc()&&(d*=2);this.i.r[c]instanceof xc&&yc(this.i.r[c])&&(d*=3);this.i.r[c].an()&&(d*=2.5);this.i.r[c].Jf(this.uh,d,b);break}this.i.r[c]instanceof wc&&"engaged"==this.i.r[c].nb&&zc(this.i.r[c])}if(this.i.r[c]instanceof wc&&"inactive"!=this.i.r[c].nb){var g=this.i.r[c].Za;if(-1==this.rp.indexOf(g.id))for(d=g.Hj(),f=0;f<d.length;f++)uc(this,d[f])&&vc(this,d[f],!0)&&(b=R(this.uh,d[f]),g.Jf(this.uh,this.sz,b),
this.rp.push(g.id))}}this.nj-=a}this.lk&&(0>this.Ol?(Ac(this,!0),this.lk=!1,this.Gw=[],this.t instanceof qc&&(a=this.t,1==a.da&&"ult_tutorial"==a.mode&&0==a.Vd&&"none"==a.jb&&(a.kg=a.Gm,a.Vd=!0)),this.i.ra&&this.body.jj(this.qh)):(Ac(this,!1),this.Ol-=a));this.Fe()||(b=this.pa,c=a=0,this.left&&--a,this.right&&(a+=1),this.Aq&&--c,this.lp&&(c+=1),d=2==Math.abs(a)+Math.abs(c)?b/Math.sqrt(2):b,0<this.$[4]&&(a*=-1,c*=-1),this.Yc()&&(a*=this.gz,c*=this.gz),this.body.ia(new b2Vec2(d*a,d*c),this.body.h.o),
this.t instanceof qc&&(0!=a||0!=c)&&(b=this.t,0==b.da&&"first_time_tutorial"==b.mode&&0==b.Vd&&"none"==b.jb&&(b.kg=b.Gm,b.Vd=!0)),!this.t.jh||0==a&&0==c||rc(this.t,"player_moved"))}};function pc(a){a.pa=0<a.$[5]?a.Pn*a.iy:a.an()?a.Pn/a.Tf/a.Tf:a.Pn}
function Ac(a,b){for(var c=0;c<a.i.r.length;c++){var d=a.i.r[c];if(!d.N){for(var f=d.Hj(),g=(b?1:.002)*a.sF,h=0;h<f.length;h++)if(Bc(a,f[h])){var k=R(a.qh,f[h]);-1==a.Gw.indexOf(d.id)?(a.Gw.push(d.id),Cc(d,!0)):Cc(d,!1);f=G[d.type];h=d.Cf?.02/d.Hh:1;"slingshot"==d.type&&(h*=2);d.Jf(a.qh,1*g*h*d.body.Y*f.Ba,k,!0);break}d instanceof wc&&"engaged"==d.nb&&d.Rc==a&&zc(d)}if(d instanceof wc&&"inactive"!=d.nb)for(d=d.Za,f=d.Hj(),h=0;h<f.length;h++)Bc(a,f[h])&&(k=R(a.qh,f[h]),d.Jf(a.qh,2*g,k))}}
function Dc(a){return a.lk?a.qh:a.body.g.position}function uc(a,b){var c=R(a.uh,b);return a.fd<2*-Math.PI/3?c<=a.fd+Math.PI/3||c>=a.fd+5*Math.PI/3:a.fd>2*Math.PI/3?c<=a.fd-5*Math.PI/3||c>=a.fd-Math.PI/3:c>=a.fd-Math.PI/3&&c<=a.fd+Math.PI/3}function vc(a,b,c){var d=Ec(a),f=a.uh.Eb();f.po(b);f=f.cb();b=c?4*a.lv:2*a.lv;return f>=a.Vg*d*((a.oj-a.nj)/a.oj-b)&&f<=a.Vg*d*((a.oj-a.nj)/a.oj+b)}function Bc(a,b){var c=a.qh.Eb();c.po(b);c=c.cb();return c<=a.Hw*Wb(.15,.5,(a.Rn-a.Ol)/a.Rn)}
function Fc(a,b){b.save();if(a.N){var c=a.N?Math.min((a.eb-a.tb)/a.eb,1):0;b.globalAlpha*=1-c}a.lk&&0<a.Ol&&(b.save(),b.globalAlpha*=.3,c=Math.min(2-Math.abs((a.Ol-a.Rn/2)/(a.Rn/4)),1),b.globalAlpha*=c/2,b.fillStyle="white",b.fillRect(0,0,Gc,Hc),b.restore(),b.shadowBlur=10,b.shadowColor="#ccc",b.globalAlpha*=.5,c=Wb(.1,.5,(a.Rn-a.Ol)/a.Rn),.4<c&&(b.globalAlpha*=0>(1-c)/.4?0:(1-c)/.4),J(b,a.qh.x*E,a.qh.y*E,0,a.Hw*c*E*2,a.Hw*c*E*2,"generated_ultimate",wa));b.restore()}
l.gh=function(a){this.N||Fc(this,a)};
l.U=function(a){if(!this.N){Fc(this,a);a.save();if(0<this.zm){var b=Math.max((this.Gu-this.zm)/this.Gu,0);Aa(a,this.body.g.position.x,this.body.g.position.y,this.hh,b,"#24ac40")}else 0<this.kd&&(b=Math.max((this.hk-this.kd)/this.hk,0),Aa(a,this.body.g.position.x,this.body.g.position.y,this.hh,b,"gray"));if(this.Ot){var b=this.to/this.Nt,c=1+8*b;a.save();a.globalAlpha*=1-b;a.beginPath();a.lineWidth=Math.ceil(4-4*b);a.strokeStyle=x.impulse_blue;a.arc(this.body.g.position.x*E,this.body.g.position.y*
E,this.shape.Ea*c*E,0,2*Math.PI,!0);a.stroke();a.restore()}else this.lk?(c=Ec(this),J(a,this.qh.x*E,this.qh.y*E,this.body.ga(),this.shape.Ea*E*2.5*c,this.shape.Ea*E*2.5*c,"player_gray")):this.Fe()?Ic(this,a,"player_red"):0<this.$[4]?Ic(this,a,"player_green"):this.ma()?Ic(this,a,"player_gray"):this.Yc()?Ic(this,a,"player_yellow"):Ic(this,a,"player_normal");c=Ec(this);this.Yc()&&(a.beginPath(),a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.hh*c*E,0,2*Math.PI,!1),a.strokeStyle="black",
a.stroke());a.beginPath();D.gs&&(a.save(),b=this.to/this.Nt,a.globalAlpha*=Math.max(0,1-b),this.ma()||"mouse"!=D.wc?this.ma()||"keyboard"!=D.wc||(a.beginPath(),a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.Vg*c*E,0,2*Math.PI),a.globalAlpha/=6,a.lineWidth=2,a.strokeStyle=x.impulse_blue,a.stroke()):(a.fillStyle=this.bD,a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.Vg*c*E,this.Gi-Math.PI/3,this.Gi+Math.PI/3),a.lineTo(this.body.g.position.x*E+Math.cos(this.Gi+Math.PI/3)*
this.Vg*c*E,this.body.g.position.y*E+Math.sin(this.Gi+Math.PI/3)*this.Vg*c*E),a.lineTo(this.body.g.position.x*E,this.body.g.position.y*E),a.fill()),a.restore());this.pj&&(a.beginPath(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=10,a.shadowColor=this.rz,a.lineWidth=this.Vg*this.lv*E*c,b=(this.oj-this.nj)/this.oj,a.save(),.5<b&&(a.globalAlpha*=0>(1-b)/.5?0:(1-b)/.5),a.arc(this.uh.x*E,this.uh.y*E,this.Vg*c*b*E,this.fd-Math.PI/3,this.fd+Math.PI/3),a.strokeStyle=this.rz,a.lineWidth=5,a.stroke(),
a.restore());D.ts&&!this.t.ra&&(a.font="16px Muli",a.fillStyle=x.impulse_blue,a.textAlign="center",a.shadowBlur=0,a.fillText("x"+this.t.G.uf,this.body.g.position.x*E,this.body.g.position.y*E+30));a.restore()}};function Ic(a,b,c){var d=Ec(a);J(b,a.body.g.position.x*E,a.body.g.position.y*E,a.body.ga(),a.shape.Ea*E*2.5*d,a.shape.Ea*E*2.5*d,c)}
function Ec(a){if(!a.an())return 1;var b=a.$[3]/a.hs;.1>b?(b=1-b/.1,lighten_factor=a.Kp*b+a.fl*(1-b)):.9<b?(b=(b-.9)/.1,lighten_factor=a.Kp*b+a.fl*(1-b)):lighten_factor=a.fl;return lighten_factor}l.Re=function(){};l.Nc=function(a){this.N=!0;this.tb=this.eb;this.i.vG=!0;"absorbed"!=a&&ac("pdeath");Jc(this.i,"player",this.body.g.position,this.body.p,!0)};
l.bv=function(a,b){for(var c=this.eh.length-1,d=null,f=null,g=0;g<this.eh.length;g++){var h=Lb({x:this.body.g.position.x+this.eh[g].X*Math.cos(this.eh[g].pi+0),y:this.body.g.position.y+this.eh[g].X*Math.sin(this.eh[g].pi+0)},{x:this.body.g.position.x+this.eh[c].X*Math.cos(this.eh[c].pi+0),y:this.body.g.position.y+this.eh[c].X*Math.sin(this.eh[c].pi+0)},a,b);if(null!=h){c=Q(h,a);if(null==f||c<f)d=h,f=c;c=g}}return{dE:d,Xd:f}};function Ga(){}l=Ga.prototype;l.Rm=1.5;
l.ha=function(a,b,c,d,f){this.bE=new b2Vec2(b,c);if(this.t=f)this.i=f.i,this.q=f.q;this.sa=a;for(g in G[this.type])this[g]=G[this.type][g];this.bw=[];this.bw.push(new b2Vec2(Math.cos(0*Math.PI),Math.sin(0*Math.PI)));this.bw.push(new b2Vec2(Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)));this.bw.push(new b2Vec2(Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)));this.eE=1E3;this.hz=3;this.Mu=this.cw=0;this.Xj=1500;this.Bl=!0;this.Tf=1.5;this.nv=x.impulse_blue;g=new b2BodyDef;g.type=b2Body.Fd;g.position.x=
b;g.position.y=c;g.ks=this.Ba;g.$u=this.FG?!1:!0;g.$u||(g.Ox=50);a&&(this.body=a.ao(g));this.PE=[];this.Cg=[];this.Fi=!1;this.Ep=500;for(var g=0;g<this.Yb.length;g++){a=this.Yb[g];b=null;"circle"==a.type&&(b=new b2CircleShape(a.X),b.Gx(new b2Vec2(a.x,a.y)));if("polygon"==a.type){c=[];for(b=0;b<a.ca.length;b++)c.push(new b2Vec2(a.x+a.X*a.ca[b][0],a.y+a.X*a.ca[b][1]));b=new b2PolygonShape;b.Ft(c,c.length)}a=new b2FixtureDef;a.sb=this.sb;a.Wm=0;a.An=.7;a.filter.sf=this.sf?this.sf:4;a.filter.Ff=this.Ff?
this.Ff:30;a.shape=b;this.body&&this.body.Jq(a).mo({owner:this,body:this.body,self:this});this.PE.push(b);b instanceof b2PolygonShape?this.Cg.push(b.Z):this.Cg.push(null)}this.Rf=!0;Kc(this);this.path=null;this.Qw=0;this.Pw=!1;this.id=d;this.Jk=this.N=!1;this.eb=this.xy=500;this.tb=0;this.$=[0,0,0,0];this.la={};this.la.open=0;this.la.impulsed=0;this.la.invincible=0;this.la.disabled=0;this.yz=!0;this.Wc=!1;this.PA=0;this.kp=!0;this.Od=this.te=40;this.BF=10;this.kh=.3;this.Jd=!1;this.uj=!0;this.rw=
this.pa/3;this.ov=!1;this.pv=this.tz=2E3;this.Ae=2;this.hs=0;this.jF="normal impulsed stunned silenced gooed lighten ulted white world1 world2 world3 world4 black".split(" ");this.cr=[];this.er=0;this.UB=4;this.dr=null;this.Zl=.5;this.ro=!0;this.Zm=!1;this.um=0;this.fA=this.qz=this.Tm=!1;this.oz=4;this.$m=0;this.we=null;this.gi&&(this.De=!1,this.jc=this.di=this.Eh=this.og)};
l.Ar=function(){for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){if(0>=this.la.open&&this.fA){this.body.jj(this.bE);break}0>=this.la.open&&this.Bl?this.Nc("accident"):(this.t instanceof qc&&(a=this.t,3==a.da&&"first_time_tutorial"==a.mode&&0==a.Vd&&"none"==a.jb&&(a.kg=a.Gm,a.Vd=!0),4==a.da&&"first_time_tutorial"==a.mode&&0==a.Vd&&"none"==a.jb&&(a.kg=a.Gm,a.Vd=!0)),this.t.jh&&rc(this.t,"enemy_killed"),this.Nc("kill"));break}};
function Kc(a){a.pw=[];a.xC=[];if(a.q)for(var b=a.body.Ic;null!=b;){var c=b.ab,d=[];if(c instanceof b2PolygonShape){for(var c=c.Z,f=0;f<c.length;f++){var g=Q({x:0,y:0},c[f]),h=R({x:0,y:0},c[f]);d.push({X:g,pi:h})}a.xC.push(Pb(c,a.q.X+.1))}a.pw.push(d);b=b.Ia}}l.mA=function(a,b){this.Jk&&("hit_player"!=this.N||this.tb<this.eb-50)&&(this.Jk=!1,this.i.hp.push(a));return this.N&&0>this.tb?(this.i.up.push(a),!0):this.N?(this.tb-=b,!0):!1};
l.oa=function(a,b){if(!this.mA(a,b))if(0==this.rb)this.Xc(b);else if(this.Ng)this.Mt(b);else{0<this.$[0]&&(this.$[0]-=b);0<this.$[1]?this.$[1]-=b:this.yi&&(this.yi=!1);for(status in this.la)0<this.la[status]&&(this.la[status]-=b);0<this.$[2]?(this.$[2]-=b,this.body.hf(this.Ba*this.hz)):this.body.hf(this.Ba);if(0<this.$[3]){if(this.$[3]-=b,!this.Fi){this.Fi=!0;var c=this.body.Ic;void 0===c.length&&(c=[c]);for(var d=0;d<c.length;d++)for(var f=this.body.Ic.ab.Z,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x/
this.Tf,f[g].y/this.Tf);this.body.ig();this.pa=G[this.type].pa/this.Tf/this.Tf}}else if(this.Fi){this.Fi=!1;c=this.body.Ic;void 0===c.length&&(c=[c]);for(d=0;d<c.length;d++)for(f=this.body.Ic.ab.Z,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x*this.Tf,f[g].y*this.Tf);this.body.ig();this.pa=G[this.type].pa}1>this.cw&&(this.cw=Math.min(this.cw+b/this.eE,1));this.PA+=b;this.pv=this.ov?this.pv-b:this.tz;this.Ar();this.er+=1;if(!(!this.ro||0<this.la.open&&"tank"==this.type||this.ma())){if(this.er>this.UB){this.er=
0;c=!1;f=this.i.yh;d=null;for(g=0;g<f.length;g++)if(Jb(f[g],this.body.g.position)){var h;h=f[g];for(var k=this.body.g.position,n=h.length-1,q={sn:null,tn:null,Xd:null},p=0;p<h.length;p++){var t=Mb(h[p],h[n],k);if(null==q.Xd||t<q.Xd){var y=R(k,h[n]);Ub(y,R(k,h[p]))-y<Math.PI/2||(q.sn=h[n],q.tn=h[p],q.Xd=t)}n=p}h=q;if(null!=h.Xd)d=R({x:0,y:0},{x:h.tn.x-h.sn.x,y:h.tn.y-h.sn.y})-Math.PI/2,c=!0;else{f=f[g];g=this.body.g.position;h={ac:null,Xd:null};for(k=0;k<f.length;k++)if(n=Q(f[k],g),null==h.Xd||n<h.Xd)h.Xd=
n,h.ac=f[k];f=h;f.Xd<N[this.i.V].Oa&&(d=R(f.ac,this.body.g.position),c=!0)}break}this.dr=c?d:null}null!=this.dr&&(c=new b2Vec2(Math.cos(this.dr),Math.sin(this.dr)),c.aa(this.pa*this.Zl),0<this.la.open&&"normal"==K&&this.Tm?c.aa(1.5):("goo"==this.type||"disabler"==this.type)&&0<this.la.open?c.aa(0):"harpoon"==this.type&&0<this.la.open&&c.aa(.6),this.body.ia(c,this.body.h.o))}this.gi&&(!this.De&&Qb(0,this.body.g.position)&&(this.Cc(this.og),this.jc=this.di=this.og,this.De=!0),0<this.Eh&&(this.Eh-=dt),
Qb(0,this.body.g.position)||(this.De=!1,this.Cc(100,!0),this.jc=0),0<this.jc&&(this.jc-=dt,this.Cc(100,!0)));this.move();this.Xc(b)}};l.Xc=function(){};l.Mt=function(){};l.fz=function(){return this.q.body.g.position};
l.move=function(){if(!this.q.N&&!this.Fe()){this.Od+=1;if(0==this.Od%4||this.Od>=this.te){var a=this.fz();if(!a)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a==this.q.body.g.position||this.Od>=this.te||this.path&&!Hb(this.body.g.position,this.path[0],this.i.se)){var b=Sb(this.t.Mb,this.body.g.position,a,this.t.i.hq);this.path=null!=b.path?b.path:null;this.Od=Math.floor(.25*Math.random()*this.te)}}if(this.path){b=this.path[0];if(0==this.Od%4){for(;0<this.path.length&&1>
Q(b,this.body.g.position);)this.path=this.path.slice(1),b=this.path[0];if(!b||!Hb(this.body.g.position,b,this.i.se))return;a==this.q.body.g.position&&Hb(this.body.g.position,this.q.body.g.position,this.i.se)&&(this.path=[this.q.body.g.position],b=this.path[0])}if(this.Jd){if(this.Qw==this.BF){a=Ob(this.body.g.position,4*this.K,this.i.r,function(a){return a.body.g.position});this.Pw=!1;for(var c=0;c<a.length;c++)if(a[c].id>this.id&&"fighter_bullet"!=a[c].type){this.Pw=!0;break}this.Qw=0}this.Qw++}this.Jd&&
this.Pw||!b||this.ss(b)}}};l.ss=function(a){var b=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);b.cb();this.Wh(b);this.body.ia(b,this.body.h.o);this.Rf&&Lc(this,a)};l.Wh=function(a){a.aa(this.pa)};function Lc(a,b){a.Ke(R(a.body.g.position,b))}l.Ke=function(a){--this.$m;0>=this.$m&&(this.body.ub(a),this.$m=this.oz);this.we=a};
l.Nc=function(a){if(!(0<this.la.invincible&&"hit_player"==a)){this.N=a;this.tb=this.eb="fade"==a?500:this.xy;this.Jk=!0;if("kill"==this.N&&!this.q.N&&(this.t.G.oe+=1,G[this.type].Wi?G[G[this.type].Wi].oe+=1:G[this.type].oe+=1,!this.i.ra)){var b=this.t.G.uf*this.Kc;D.ec&&Mc(this.t,b,this.color,this.body.g.position.x,this.body.g.position.y);this.t.G.df+=b;Nc(this.t);Oc(this.t);b>Eb.high_roller.KE&&Pc("high_roller")}"accident"!=this.N&&"fade"!=this.N&&"absorbed"!=this.N&&("tank"==this.type?ac("tdeath"):
this.Cf?(ac("tdeath"),setTimeout(function(){ac("tdeath")},150),setTimeout(function(){ac("tdeath")},300)):("troll"!=this.type||"hit_player"!=this.N||this.ma())&&ac("sdeath"));"fade"!=this.N&&(Jc(this.i,this.type,this.body.g.position,this.body.p),this.xk(a))}};l.xk=function(){};
l.Re=function(a){if(!this.N){if(0<this.la.open&&("mote"==a.type||"troll"==a.type)){var b=this.body.p,c=this.body.Y/a.body.Y;a.body.ia(new b2Vec2(.2*b.x*c,.2*b.y*c),a.body.g.position);this.body.lo(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))}a===this.q?(this.t.ra&&!this.an()&&50<this.body.p.hg()&&(b=this.body.p,c=this.body.Y/a.body.Y,a.body.ia(new b2Vec2(b.x*c*.5,b.y*c*.5),a.body.g.position),this.body.lo(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))),this.kp&&this.Nc("hit_player"),this.ma()&&!this.qz||this.$f(),yc(this)||
Qc(this.t)):a instanceof Ga&&0<a.la.open&&this.open(a.la.open)}};l.$f=function(){"easy"==K&&this.q.Ml(300);"normal"==K&&this.q.Ml(500)};
l.U=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0,d=this.body.g.position;a.save();a.translate(d.x*b,d.y*b);a.rotate(this.we);d=G[this.type].images.normal.height;a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);var f=this.N&&"fade"!=this.N?1+this.Ae*c:1,g=d;if(this.an()){var c=this.$[3]/this.hs,h=1;.1>c?(c=1-c/.1,h=this.Kp*c+this.fl*(1-c)):.9<c?(c=(c-.9)/.1,h=this.Kp*c+this.fl*(1-c)):h=this.fl;g*=h}g*=
f;a.drawImage(G[this.type].images[this.Zk()],0,0,d,d,-g/2,-g/2,g,g);a.restore();this.Dd(a,b)}};l.Dd=function(){};l.gh=function(){};l.Tk=function(){};l.vm=function(){};l.sm=function(){};l.tm=function(){};l.Jf=function(a,b,c,d){d||(this.open(this.Xj),this.la.impulsed+=this.Ep);this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d&&!this.Cf||this.ve(a,b,c)};l.ve=function(){};function Cc(a,b){a.Ml(2E3);a.la.open=0;a.la.ulted=2E3;b&&a.body.lo(new b2Vec2(0,0))}
l.Ml=function(a){this.$[0]=Math.max(a,this.$[0]);this.$[1]=Math.max(a,this.$[1])};l.Cc=function(a,b){b&&(this.yi=b);this.$[1]=Math.max(a,this.$[1])};l.dv=function(a){this.$[2]=Math.max(a,this.$[2])};l.Jp=function(a){this.$[3]=Math.max(a,this.$[3]);this.hs=this.$[3];this.Kp=1;this.fl=1/this.Tf};l.open=function(a){this.la.open=Math.max(a,this.la.open)};l.disable=function(a){this.la.disabled=Math.max(a,this.la.disabled)};l.Fe=function(){return 0<this.$[0]};l.ma=function(){return 0<this.$[1]||0<this.la.disabled};
function yc(a){return 0<a.la.disabled}l.Yc=function(){return 0<this.$[2]};l.an=function(){return 0<this.$[3]};
l.bv=function(a,b){for(var c=null,d=null,f="polygon"==this.BG?this.fG:0,g=0;g<this.pw.length;g++)for(var h=this.pw[g],k=h.length-1,n=0;n<h.length;n++){var q=Lb({x:this.body.g.position.x+h[n].X*Math.cos(h[n].pi+f),y:this.body.g.position.y+h[n].X*Math.sin(h[n].pi+f)},{x:this.body.g.position.x+h[k].X*Math.cos(h[k].pi+f),y:this.body.g.position.y+h[k].X*Math.sin(h[k].pi+f)},a,b);if(null!=q){k=Q(q,a);if(null==d||k<d)c=q,d=k;k=n}}return{dE:c,Xd:d}};l.Hj=function(){return[this.body.g.position]};
l.Zk=function(){if(!this.N){if(0<this.la.ulted)return"ulted";if(0<this.la.impulsed)return"impulsed";if(this.Fe())return"stunned";if(this.yi)return"silenced";if(this.Yc())return"gooed";if(yc(this))return"silenced"}return this.Ap()};l.Ap=function(){return"normal"};
l.Yk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a||"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.nv:"ulted"==a?x.impulse_blue:"white"==a?"white":"black"==a?"black":"world"==a.slice(0,5)?x["world "+a.slice(5,6)+" lite"]:this.zp(a)};l.zp=function(){};function Rc(){}Rc.prototype=new Ga;l=Rc.prototype;l.constructor=Rc;l.ha=function(a,b,c,d,f){this.KC(a,b,c,d,f);this.ld=1E3;this.Hh=10;this.t.Bj&&this.t.i.hc&&(this.ld=6600);this.Bl=!1;this.xy=2E3;this.kc=this.ld};l.KC=Ga.prototype.ha;l.Cf=!0;l.Jf=function(a,b,c){this.rb&&(this.body.ia(new b2Vec2(this.Hh*b*Math.cos(c),this.Hh*b*Math.sin(c)),this.body.h.o),this.ve(a,b,c))};l.ve=function(){this.nc=this.Gp};l.Ml=function(){};l.Cc=function(){};l.dv=function(){};l.Jp=function(){};l.open=function(){};Sc.prototype=new Rc;l=Sc.prototype;l.constructor=Sc;
function Sc(a,b,c,d,f){this.type="fourth boss";this.ha(a,b,c,d,f);this.Wc=!1;this.Ae=5;this.Jd=!1;this.fi=!0;this.body.ub(Math.PI/2);this.visibility=0;this.kc=this.ld=2300;this.rb=!1;this.nf=0;this.WB=5;this.Mx=1E3;this.so=0;this.ee=Math.PI/2;this.ZE="#000000 #110000 #660000 #990000 #cc0000 #ff0000".split(" ");this.mh=0;this.KA=250;this.LA=2E4;"easy"==K&&(this.LA=3E4);this.$E=.2;this.dF={stunner:8,spear:5,tank:6,mote:6,goo:1,harpoon:4,orbiter:5,disabler:1,fighter:3,slingshot:4,troll:6,deathray:2};
this.eF={stunner:6,spear:4,tank:4,mote:4,goo:1,harpoon:3,orbiter:3,disabler:1,fighter:2,slingshot:2,troll:4,deathray:1};this.fF={stunner:10,spear:10,tank:75,mote:10,goo:20,harpoon:20,orbiter:8,disabler:20,fighter:30,slingshot:10,troll:10,deathray:50};this.vw="stunner spear fighter orbiter troll goo harpoon deathray slingshot mote tank disabler".split(" ");"normal"==K&&(this.vw="spear mote fighter orbiter troll goo harpoon deathray slingshot stunner tank disabler".split(" "));this.uw=0;this.cF=22E3;
this.gF=0;this.rv=this.Az=2;this.zz=Math.PI/4;this.Ba=10;this.body.hf(10);this.xl=5;this.gd=[];this.ci=null;this.zn=[];this.NA=4;"easy"==K&&(this.NA=4);this.Xx=1E4;"easy"==K&&(this.Xx=12E3);this.ir=!1;this.uo=this.Vx=1250;this.vo=0;this.Wx=1E3;"easy"==K&&(this.Wx=1500);this.Hi=!1;this.Cy=!0;this.tj=G[this.type].tj;for(a=0;a<this.xl;a++)b=(a+.5)/this.xl*Math.PI*2+this.body.ga(),c=Xb(this.sa,G[this.type].hy,this.body.g.position.x+1.5*this.K*Math.cos(Math.PI/5)*Math.cos(b),this.body.g.position.y+1.5*
this.K*Math.cos(Math.PI/5)*Math.sin(b),10,17,"static",this),c.ub(b),this.gd.push({type:"body",Tc:a,body:c,size:this.tj*(.8+.2*Wb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3))});this.XA=4E3;this.bF=2E3;this.zu=0;this.cd=100;K&&(this.cd=70);this.Ju=2E4;this.Id=this.Ju-1;this.gp=this.Ik=this.Sg=1E3;this.Te=document.createElement("canvas");this.Cm=this.Te.getContext("2d");this.Te.width=200;this.Te.height=200;this.fp=0;this.Cm.beginPath();this.Cm.moveTo(100+100*Math.cos(8*Math.PI/5),100+100*Math.sin(8*
Math.PI/5));for(a=0;5>a;a++)this.Cm.lineTo(100+100*Math.cos(2*Math.PI*a/5),100+100*Math.sin(2*Math.PI*a/5));this.Cm.closePath();this.Cm.fillStyle="black";this.Cm.fill();this.Ku=!1}
l.U=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ga(),2*this.K*b,2*this.K*b,"adrogantia_head",xb);if(0<this.nf){a.save();a.beginPath();var d=this.body.ga();a.moveTo(c.x*b+this.K*b*Math.cos(d),c.y*b+this.K*b*Math.sin(d));for(var f=1;f<=this.nf;f++)a.lineTo(c.x*b+this.K*b*Math.cos(d+f*Math.PI*
2/5),c.y*b+this.K*b*Math.sin(d+f*Math.PI*2/5));5>this.nf&&a.lineTo(c.x*b,c.y*b);a.closePath();a.clip();J(a,c.x*b,c.y*b,this.body.ga(),2*this.K*b,2*this.K*b,"adrogantia_head_red",xb);a.restore()}this.Dd(a,b);a.restore()}};
l.Tk=function(a,b){a.save();a.globalAlpha=1;var c=this.body.g.position;if(0<this.Id){var d=1-this.Id/this.Ju,f=this.K*d*b;this.fp=this.body.ga();a.save();a.globalAlpha*=.5;a.translate(c.x*b,c.y*b);a.rotate(this.fp);a.drawImage(this.Te,0,0,this.Te.width,this.Te.height,-f,-f,2*f,2*f);a.restore()}else this.Id>-this.Sg?(this.Ku||(this.Ku=!0,ac("b4darkness")),d=this.Id/-this.Sg,f=(this.K*(1-d)+60*d)*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.fp),a.drawImage(this.Te,0,0,this.Te.width,
this.Te.height,-f,-f,2*f,2*f),a.restore()):this.Id>-(this.Sg+this.Ik)?(f=60*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.fp),a.drawImage(this.Te,0,0,this.Te.width,this.Te.height,-f,-f,2*f,2*f),a.restore()):this.Id>-(this.Sg+this.Ik+this.gp)&&(d=1-(this.Id+this.Sg+this.Ik)/-this.gp,f=60*b,a.save(),a.globalAlpha=.5*a.globalAlpha*d,a.translate(c.x*b,c.y*b),a.rotate(this.fp),a.drawImage(this.Te,0,0,this.Te.width,this.Te.height,-f,-f,2*f,2*f),a.restore());a.restore()};
l.Dd=function(a,b){Tc(this);for(var c in this.gd)if("body"==this.gd[c].type){var d=this.gd[c],f=d.body.g.position,g=d.body.ga();a.save();J(a,f.x*b,f.y*b,g,d.size*b*2,d.size*b*2,d.Tc<this.nf?"adrogantia_body_bud_red":"adrogantia_body_bud",xb);a.restore()}};
l.Xc=function(a){if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.ld;else{0==this.rb&&(this.rb=!0,this.visibility=1);0<this.vo&&(this.vo-=a);0<this.nf&&(this.so-=a,0>this.so&&(this.so=this.Mx,--this.nf));null!=this.dp&&this.dp instanceof Uc&&!this.dp.ma()?(this.mh+=a/(this.KA*Math.pow(.8,this.nf)),1<this.mh&&(this.mh=1)):0<this.mh&&(this.mh-=a/this.KA,0>this.mh&&(this.mh=0));if(this.Cy){this.Hi=!0;for(var b=0;b<this.xl;b++){var c=null,c=0==b?{type:"attack",Tc:b,Fm:0,body:null,
Sr:null,Rk:null}:{type:"spawn",Tc:b,Fm:0,body:null,Sr:null,Rk:null};this.gd.push(c);Vc(this,c)}this.Cy=!1}for(var d in this.gd)if(b=this.gd[d],"attack"==b.type||"spawn"==b.type){var b=this.gd[d],f=this.gd[d].Tc,c=f/this.xl*Math.PI*2+this.body.ga();if(0<b.Fm&&!this.Hi)b.Fm-=a;else if(null==b.body)b.type=null,this.zn.splice(this.zn.indexOf(f),1),Vc(this,b);else{var f=Math.max(.1,Wb(.15,.85,Math.min(1,1-b.Rk/b.Sr))*G["boss four "+b.type+"er"].K),g=this.K+f,g={x:this.body.g.position.x+g*Math.cos(c),y:this.body.g.position.y+
g*Math.sin(c)};b.vf.Ps(f);b.body.ub(c);b.body.jj(g);b.Rk-=a;0>=this.vo&&0>b.Rk&&-1===this.zn.indexOf(d)&&b!=this.ci&&this.zn.push(d)}}0<this.zn.length&&!this.ci&&(d=this.zn.splice(0,1)[0],this.ci=b=this.gd[d],this.Ux=d/this.xl*Math.PI*2);d=R(this.body.g.position,Dc(this.q));for(var h in this.i.r)b=this.i.r[h],b.N||b==this||"boss four attacker"==b.type||"boss four spawner"==b.type||(6>Q(b.body.g.position,this.body.g.position)?b.Nc("absorbed"):8>Q(b.body.g.position,this.body.g.position)&&(c=Ub(d,R(this.body.g.position,
b.body.g.position)),b.body.ia(new b2Vec2(5*b.pa*Math.cos(c),5*b.pa*Math.sin(c)),b.body.h.o),c=c<d?c+Math.PI/2:c-Math.PI/2,b.body.ia(new b2Vec2(b.pa*Math.cos(c),b.pa*Math.sin(c)),b.body.h.o)));0>this.Id&&this.Id>-this.Sg?(h=this.Id/-this.Sg,this.i.Sm=1-h):this.Id<-(this.Sg+this.Ik)&&this.Id>-(this.Sg+this.Ik+this.gp)?(h=(this.Id+this.Sg+this.Ik)/-this.gp,this.i.Sm=h):0<=this.Id&&(this.i.Sm=1);if(this.ci)if(this.ir)this.uo-=a,0>this.uo&&Wc(this,this.ci);else{h=this.body.ga();if("attack"==this.ci.type)var k=
Ub(h,R(this.body.g.position,Dc(this.q))-this.Ux);else if("spawn"==this.ci.type)if(this.Hi)k=Ub(h,Math.PI/2);else{if(null==this.Dw)for(k=R(this.body.g.position,this.q.body.g.position),k=[k+Math.PI,k+Math.PI/4,k-Math.PI/4],d=0;d<k.length;d++)if(b=k[d],c={x:this.body.g.position.x+15*Math.cos(b),y:this.body.g.position.y+15*Math.sin(b)},f=Math.min(775/E-c.x,c.x-25/E),g=Math.min(575/E-c.y,c.y-25/E),window.console.log("CHECKING"),window.console.log(Hb(this.body.g.position,c,this.i.se)),window.console.log(Math.min(f,
g)),Hb(this.body.g.position,c,this.i.se)&&5<Math.min(f,g)){this.Dw=b;break}k=Ub(h,this.Dw-this.Ux)}d=this.XA;Vb(h,k)<2*Math.PI*a/d?(this.body.ub(k),this.ir=!0,this.Hi?this.uo=0:(this.uo=this.Vx,this.ci.vf.Wr=!0)):k>h?this.body.ub(this.body.ga()+2*Math.PI*a/d):this.body.ub(this.body.ga()-2*Math.PI*a/d)}this.gF<=this.cF-500&&(this.Ba=G["fourth boss"].Ba);Tc(this);this.ee+=a/(this.LA*Math.pow(.8,this.nf))*Math.PI*2;h=k=null;d={x:this.body.g.position.x+100*Math.cos(this.ee),y:this.body.g.position.y+100*
Math.sin(this.ee)};if(0>=this.rv)for(this.rv=this.Az,b=0;b<this.i.r.length;b++)this.i.r[b].id!=this.id&&this.i.r[b]instanceof Uc&&this.i.r[b].rb&&Tb(this.ee-this.zz,this.ee+this.zz,R(this.body.g.position,this.i.r[b].body.g.position))&&(c=this.i.r[b].bv(this.body.g.position,d).Xd,null==k||null!=c&&c<k)&&(k=c,h=this.i.r[b]);else k=this.ze,h=this.dp;--this.rv;c=this.q.bv(this.body.g.position,d).Xd;if(null==k||null!=c&&c<k)k=c,h=this.q;h instanceof Uc&&h.id!=this.dp.id&&h.rb&&(d=h,d.ma()||(d.Ts=!0,d.Hn=
d.tw));this.dp=h;this.ze=k;"normal"==K&&(this.Id-=a,0>this.Id&&this.Id<-(this.Sg+this.Ik+this.gp)&&(this.Id=this.Ju,this.Ku=!1))}};
function Wc(a,b,c){if(a.Hi)for(a.Hi=!1,b=0;b<a.gd.length;b++)c=a.gd[b],"spawn"==c.type&&Wc(a,c,!0);else{if("attack"==b.type)b.vf.dir={x:b.body.g.position.x-a.body.g.position.x,y:b.body.g.position.y-a.body.g.position.y},b.body=null,b.Fm=0,a.ci=null,a.ir=!1,b.vf.body.ig(),b.vf=null,ac("b4attacker");else if("spawn"==b.type){a.ci=null;a.ir=!1;b.Fm=0;b.body=null;var d=R(a.body.g.position,b.vf.body.g.position),d=new b2Vec2(Math.cos(d),Math.sin(d));d.aa(a.bF);b.vf.body.ia(d,b.vf.body.h.o);b.vf.rb=!0;b.vf.Wr=
!1;1!=c&&b.vf.Cc(5E3,!0,!0);Kc(b.vf);b.vf.body.ig();b.vf=null;a.Dw=null;ac("b4spawner")}a.vo=a.Wx}}
l.xk=function(){for(var a=0;a<this.gd.length;a++){var b=this.gd[a],c=R(this.body.g.position,b.body.g.position);"body"==b.type?(b=Xb(this.sa,G[this.type].hy,this.body.g.position.x+1.5*this.K*Math.cos(Math.PI/5)*Math.cos(c),this.body.g.position.y+1.5*this.K*Math.cos(Math.PI/5)*Math.sin(c),.1,17,"dynamic",this),b.ub(c),this.gd[a].body=b,c=new b2Vec2(Math.cos(c),Math.sin(c)),c.cb(),c.aa(20),b.ia(c,b.h.o)):0<b.Rk&&(c=new b2Vec2(Math.cos(c),Math.sin(c)),c.cb(),c.aa(30),this.gd[a].body.ia(c,this.gd[a].body.h.o))}};
function Tc(a){if(!a.N){for(var b=.8+.2*Wb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3),c=[],d=0;5>d;d++)c.push({x:Math.cos(2*Math.PI*d/5)*b*a.tj,y:Math.sin(2*Math.PI*d/5)*b*a.tj});for(d in a.gd){var f=a.gd[d];if("body"==f.type){var f=a.gd[d],g=(a.gd[d].Tc+.5)/a.xl*Math.PI*2+a.body.ga();f.body.Ic.ab.Z=c;f.body.jj({x:a.body.g.position.x+(a.K+b*a.tj)*Math.cos(Math.PI/5)*Math.cos(g),y:a.body.g.position.y+(a.K+b*a.tj)*Math.cos(Math.PI/5)*Math.sin(g)});f.body.ub(g);f.size=b*a.tj}}}}
function Vc(a,b){null==b.type&&(a.zu+=1,b.type=0==a.zu%a.NA?"spawn":"attack");window.console.log("GENERATING BUD "+b.type);var c=b.Tc/a.xl*Math.PI*2+a.body.ga(),d=a.K+1.5*G["boss four "+b.type+"er"].vz,f=a.body.g.position.x+d*Math.cos(c),d=a.body.g.position.y+d*Math.sin(c),g=null;"attack"==b.type?g=new Xc(a.sa,f,d,a.i.xc,a.t,.1):(a.uw+=1,g=a.vw[(a.uw-1)%a.vw.length],g=new Uc(a.sa,f,d,a.i.xc,a.t,g,"easy"==K?a.eF[g]:a.dF[g],a.fF[g],a,.1));b.body=g.body;b.vf=g;b.body.ub(c);a.i.ii.push(g);a.i.xc+=1;b.Sr=
a.Hi&&"spawn"==b.type?1E3:a.Xx;b.Rk=b.Sr}
l.gh=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){a.save();var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Lk(a,b);this.rb&&(a.beginPath(),c=null!=this.ze?this.ze:100,a.moveTo((this.body.g.position.x+Yc(this)*Math.cos(this.ee+Math.PI/2))*b,(this.body.g.position.y+Yc(this)*Math.sin(this.ee+Math.PI/2))*b),a.lineTo((this.body.g.position.x+Yc(this)*Math.cos(this.ee-Math.PI/2))*b,(this.body.g.position.y+
Yc(this)*Math.sin(this.ee-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.ee)+Yc(this)*Math.cos(this.ee-Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.ee)+Yc(this)*Math.sin(this.ee-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.ee)+Yc(this)*Math.cos(this.ee+Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.ee)+Yc(this)*Math.sin(this.ee+Math.PI/2))*b),a.closePath(),a.globalAlpha*=.5,a.fillStyle=this.ZE[this.nf],a.fill(),a.globalAlpha*=2,0<this.mh&&(a.save(),
a.globalAlpha*=this.mh,a.fillStyle="red",a.fill(),a.restore()));a.restore()}};l.Lk=function(a,b){var c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ga(),200,200,"adrogantia_glow",xb)};l.move=function(){};l.Re=function(a){this.N||a!==this.q||(a=R(this.body.g.position,Dc(this.q)),this.q.body.ia(new b2Vec2(this.cd*Math.cos(a),this.cd*Math.sin(a)),this.q.body.h.o),Qc(this.t))};l.Hj=function(){for(var a=[],b=0;b<this.Cg[0].length;b++){var c=this.body.g.position.Eb();c.Jg(this.Cg[0][b]);a.push(c)}return a};
l.ve=function(){this.nc=this.Gp;this.nf<this.WB&&(this.nf+=1);this.so=this.Mx};l.Tr=function(){};function Yc(a){return a.$E*Math.pow(1.2,a.nf)};Xc.prototype=new Ga;l=Xc.prototype;l.constructor=Xc;function Xc(a,b,c,d,f,g){this.type="boss four attacker";this.ha(a,b,c,d,f);this.size=g;this.Rf=!1;this.cd=100;"easy"==K&&(this.cd=70);this.OA=200;this.dir=null;this.ro=this.Wr=!1}
l.U=function(a,b){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha*=1-c;this.Wr?J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud_firing",xb):J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud",xb);a.restore()};
l.Xc=function(){if(this.dir){var a=new b2Vec2(this.dir.x,this.dir.y);a.cb();a.aa(this.pa);"easy"==K&&a.aa(.5);this.body.ia(a,this.body.h.o)}};l.move=function(){};
l.Re=function(a){if(!this.N&&!this.ma())if(a===this.q){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.cd*Math.cos(b),this.cd*Math.sin(b)),this.q.body.h.o);Qc(this.t)}else if(this.dir&&"boss four spawner"==a.type){var b=R({x:0,y:0},this.dir),c=Ub(b,R(this.body.g.position,a.body.g.position)),b=b<c?b-Math.PI/2:b+Math.PI/2;a.body.ia(new b2Vec2(this.OA*Math.cos(b),this.OA*Math.sin(b)),a.body.h.o)}else this.dir&&"fourth boss"!=a.type&&(R(this.body.g.position,a.body.g.position),
b=new b2Vec2(this.dir.x,this.dir.y),b.cb(),b.aa(100*a.pa),a.body.ia(b,a.body.h.o))};l.Jf=function(){};l.Ar=function(){if(this.dir)for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){0>=this.la.open&&this.Bl?this.Nc("accident"):this.Nc("kill");break}};l.Ps=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Ic.ab.Z=b;this.size=a;this.body.ig()};Uc.prototype=new Ga;l=Uc.prototype;l.constructor=Uc;function Uc(a,b,c,d,f,g,h,k,n,q){this.type="boss four spawner";this.ha(a,b,c,d,f);this.tp=g;this.color="black";this.xz=G[this.tp].color;this.Ts=!1;this.aF=h;this.iE=k;this.size=q;this.Rf=!1;this.parent=n;this.Wr=this.rb=!1;this.tw=1E3;this.Hn=0;this.Hh=2;this.cd=100}
l.Xc=function(a){if(!this.N&&(this.rb&&(0<this.Hn?(this.Ps(G[this.type].K*(1+Wb(.15,.85,.5-Math.abs(this.Hn/this.tw-.5)))),this.Hn-=a):this.size!=G[this.type].K&&this.Ps(G[this.type].K)),this.Ts&&this.Hn<this.tw/2)){ac("b4spawneract");a=R(this.parent.body.g.position,this.body.g.position);for(var b=0,c=this.aF*(1+.2*this.parent.nf),d=Math.max(c,4),f=0;f<c;f++){if(this.i.Pk[this.tp]+f>=this.i.Pm[this.tp][6]){this.Cc(500);this.Ts=!1;return}for(var g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;!Hb(this.body.g.position,
{x:this.body.g.position.x+10*Math.cos(g),y:this.body.g.position.y+10*Math.sin(g)},this.i.se);)b+=1,g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;var h=[this.body.g.position.x+2*this.K*Math.cos(g),this.body.g.position.y+2*this.K*Math.sin(g)],h=new G[this.tp].className(this.sa,h[0],h[1],this.i.xc,this.t),k=new b2Vec2(Math.cos(g),Math.sin(g));k.aa(this.iE);h.body.ia(k,h.body.h.o);h.Ke(g);h.Od=h.te;h.De=!0;h.jc=0;this.i.ii.push(h);this.i.xc+=1;b+=1}this.Ts=!1;this.Cc(1E3)}};
l.Ps=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Ic.ab.Z=b;this.size=a;this.body.ig()};l.Dd=function(a,b){this.ma()&&this.yi&&!this.N&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*b*1.5,-.5*Math.PI,-.5*Math.PI+this.$[1]/this.lD*Math.PI*1.998,!0),a.lineWidth=2,a.strokeStyle="red",a.stroke())};l.Aw=Ga.prototype.Cc;l.Cc=function(a,b){this.Aw(a,b);this.lD=a};l.Re=function(a){this.N||a===this.q&&Qc(this.t)};
l.Jf=function(a,b,c){this.rb&&(this.body.ia(new b2Vec2(this.Hh*b*Math.cos(c),this.Hh*b*Math.sin(c)),this.body.h.o),this.ve(a,b,c))};
l.U=function(a,b){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha*=1-c;J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_spawner",xb);var d=this.tp,c=this.body.g.position.x*b,f=this.body.g.position.y*b,g=this.size*b*.7,h=this.body.ga();a.save();h&&(a.translate(c,f),a.rotate(h),a.translate(-c,-f));h=Math.min(1/G[d].K,1)*g/2;"boss"==d.slice(d.length-4)&&(h=2/G[d].K*g/2);for(g=0;g<G[d].Yb.length;g++){var k=G[d].Yb[g];
Ia(a,c,f,k,h,"black")}if("undefined"!==typeof G[d].Aj)for(g=0;g<G[d].Aj.length;g++)k=G[d].Aj[g],Ia(a,c,f,k,h,"black");d=G[d].Uy;if("undefined"!==typeof d)for(g=0;g<d.length;g++)a.beginPath(),k=d[g],a.moveTo(c+h*k.x1,f+h*k.y1),a.lineTo(c+h*k.x2,f+h*k.y2),a.lineWidth=2,a.strokeStyle="black",a.stroke();a.restore();a.restore();this.Dd(a,b)};l.move=function(){};Zc.prototype=new Rc;l=Zc.prototype;l.constructor=Zc;
function Zc(a,b,c,d,f){this.type="first boss";this.sa=a;this.ha(a,b,c,d,f);this.Wc=!1;this.Ae=5;this.Dg=this.Lc=562.5;this.Jd=!1;this.fi=!0;this.Lc=3E3;this.CA=2;this.gl=9E3;this.Zd=this.gl-1;this.Ki=3E3;this.rb=this.Lp=!1;this.Qm=["stunner","spear","tank"];this.In={stunner:5,spear:3,tank:20};this.Rf=!1;this.body.ub(Math.PI/2);this.uz=Math.PI/2;this.visibility=0;this.YA=500;"easy"==K&&(this.YA=750);this.Hh="easy"==K?20:15;this.XA=5E3;this.body.hf(100*G[this.type].Ba);this.Of=30;"easy"==K&&(this.Of=
20);this.kD=1;this.oA=8;this.Lx=750;this.Iz=this.yy=400;this.rA=300;this.nA=400;this.iA=300;this.oE=(this.yy+this.nA+this.rA+this.Iz+this.iA)/2;this.rF=1500;this.Gp=150;this.nc=0;this.el={left:0,right:0};this.$j={left:0,right:0};this.mf={left:this.Lx,right:this.Lx};this.data=G[this.type];this.state="turret";this.vc={left:"none",right:"none"};this.fb={};this.Na={};a=G[this.type].Lw[0].X;b=G[this.type].yv[0].X;c=G[this.type].ev[0].X;d=this.K;f=this.body.g.position.x;var g=this.body.g.position.y,h=this.kD;
this.Na.lu=Xb(this.sa,G[this.type].Lw,f+d+a-2*h,g,.01,8,"dynamic",this);this.fb.lu=$c(this,new b2Vec2(f+d-h,g),this.body,this.Na.lu);this.Na.ll=Xb(this.sa,G[this.type].yv,f+d+2*a+b-4*h,g,.01,8,"dynamic",this);this.fb.ll=$c(this,new b2Vec2(f+d+2*a-3*h,g),this.Na.lu,this.Na.ll);this.Na.lh=Xb(this.sa,G[this.type].ev,f+d+2*a+2*b-4*h+.25*c,g,.01,8,"dynamic",this);this.Na.lh.ub(Math.PI/4);this.fb.lh=$c(this,new b2Vec2(f+d+2*a+2*b-4*h+.25*c,g),this.Na.ll,this.Na.lh);this.Na.ru=Xb(this.sa,G[this.type].Lw,
f-(d+a-2*h),g,.01,8,"dynamic",this);this.fb.ru=$c(this,new b2Vec2(f-(d-h),g),this.body,this.Na.ru);this.Na.rl=Xb(this.sa,G[this.type].yv,f-(d+2*a+b-4*h),g,.01,8,"dynamic",this);this.fb.rl=$c(this,new b2Vec2(f-(d+2*a-3*h),g),this.Na.ru,this.Na.rl);this.Na.rh=Xb(this.sa,G[this.type].ev,f-(d+2*a+2*b-4*h+.25*c),g,.01,8,"dynamic",this);this.Na.rh.ub(Math.PI/4);this.fb.rh=$c(this,new b2Vec2(f-(d+2*a+2*b-4*h+.25*c),g),this.Na.rl,this.Na.rh);this.dl={};this.Ag={};this.bi={left:"none",right:"none"};this.Bz=
{left:0,right:0};this.Ds=13;this.wn={left:0,right:0};this.zl=this.ew=13500;this.yn=2E3;this.fw=200;this.pA=8;this.xn=15;this.Es=150;this.hE=!1;this.cA=4E3;this.aA=12E3;this.bA=6E3;this.Vj=this.cA;this.on=this.aA;this.Bl=!1;this.Jz=1E3;this.xw=this.Mp=0;this.bz=!0}
l.xk=function(){var a="lu ll lh ru rl rh".split(" ");this.nc=0;this.el.left=0;for(var b=this.el.right=0;b<a.length;b++){this.sa.cx(this.fb[a[b]]);var c=R(this.body.g.position,this.Na[a[b]].g.position),c=new b2Vec2(Math.cos(c),Math.sin(c));c.cb();c.aa(10);this.Na[a[b]].ia(c,this.Na[a[b]].h.o)}};
function ad(a,b){var c=arm;bd(a,c,a.Iz);if("left"==c){var d=a;a.vc[c]="loading";cd(a,"lu",.3*-Math.PI);cd(a,"lh",Math.PI/4);cd(a,"ll",function(){return Ub(d.fb.ll.ge(),R(d.fb.ll.Ad(),Dc(d.q))-d.fb.lu.ge()-(d.body.ga()-d.uz))});a.wn[c]=R(a.fb.ll.Ad(),b);a.bi[c]={x:a.fb.ll.Ad().x+Math.cos(a.wn[c])*a.Ds,y:a.fb.ll.Ad().y+Math.sin(a.wn[c])*a.Ds};a.Mp=a.Jz}"right"==c&&(d=a,a.vc[c]="loading",cd(a,"ru",.3*Math.PI),cd(a,"rh",-Math.PI/4),cd(a,"rl",function(){return Ub(d.fb.rl.ge(),Math.PI+R(d.fb.rl.Ad(),Dc(d.q))-
d.fb.ru.ge()-(d.body.ga()-d.uz))}),a.wn[c]=R(a.fb.rl.Ad(),b),a.bi[c]={x:a.fb.rl.Ad().x+Math.cos(a.wn[c])*a.Ds,y:a.fb.rl.Ad().y+Math.sin(a.wn[c])*a.Ds},a.Mp=a.Jz)}function dd(a,b,c){bd(a,b,a.yy);"left"==b?(a.vc[b]="default",cd(a,"lu",-Math.PI/4),cd(a,"ll",Math.PI/2),cd(a,"lh",0)):"right"==b&&(a.vc[b]="default",c&&(a.vc[b]="delay_default"),cd(a,"ru",Math.PI/4),cd(a,"rl",-Math.PI/2),cd(a,"rh",0))}
function ed(a,b){bd(a,b,a.rF);"left"==b?(a.vc[b]="loading_turret",cd(a,"lu",Math.PI/2),cd(a,"ll",0),cd(a,"lh",0)):"right"==b&&(a.vc[b]="loading_turret",cd(a,"ru",-Math.PI/2),cd(a,"rl",0),cd(a,"rh",0))}function cd(a,b,c){a.dl[b]={start:a.fb[b].ge(),end:c}}function bd(a,b,c){a.mf[b]=c;a.Bz[b]=c}function $c(a,b,c,d){var f=new m.l.L.mm;f.od(c,d,b);f.Om=!0;f.Lz=-Math.PI/2;f.cB=Math.PI/2;f.Dr=!1;return a.sa.uB(f)}
l.Xc=function(a){this.xw+=a;1==this.i.r.length&&this.on>this.bA&&(this.on=this.bA);if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.ld;else{0==this.rb&&(this.rb=!0,this.visibility=1,this.body.hf(G[this.type].Ba));0<this.nc&&(this.nc-=a);0<this.Mp&&(this.Mp-=a);"turret"==this.state?(this.Vj-=a,0>this.Vj&&(this.state="punching",dd(this,"left",!0),this.$j.left=0,this.$j.right=0,dd(this,"right",!0),this.on=this.aA)):"punching"==this.state&&(this.on-=a,0>this.on&&fd(this));for(arm in this.vc){this.mf[arm]-=
a;0<this.el[arm]&&(this.el[arm]-=a);"none"==this.vc[arm]&&fd(this);if("turret"==this.state)var b=Ub(this.body.ga(),R(this.body.g.position,Dc(this.q))+(Math.abs(this.xw%2E3-1E3)-500)/500*Math.PI/8);else"punching"==this.state&&(b=Ub(this.body.ga(),R(this.body.g.position,Dc(this.q))));if("loading"==this.vc[arm])if(this.body.ub(b),0>this.mf[arm]){Dc(this.q).Eb();var c=arm;bd(this,c,this.nA);"left"==c&&"left"==c&&(this.Ag.ll=this.fb.ll.ge(),this.Ag.lu=this.fb.lu.ge(),this.Ag.lh=this.fb.lh.ge(),this.vc[c]=
"punching",this.fb.ll.th(0,Math.PI),this.fb.lu.th(-Math.PI,Math.PI),this.fb.lh.th(0,0));"right"==c&&(this.Ag.rl=this.fb.rl.ge(),this.Ag.ru=this.fb.ru.ge(),this.Ag.rh=this.fb.rh.ge(),this.vc[c]="punching",this.fb.rl.th(-Math.PI,0),this.fb.ru.th(-Math.PI,Math.PI),this.fb.rh.th(0,0))}else gd(this);"default"==this.vc[arm]&&(this.body.ub(b),0>this.mf[arm]?0<this.$j[arm]?this.$j[arm]-=a:ad(this,Dc(this.q)):gd(this));"delay_default"==this.vc[arm]&&(this.body.ub(b),this.mf[arm]<-this.oE?0<this.$j[arm]?this.$j[arm]-=
a:ad(this,Dc(this.q)):gd(this));if("punching"==this.vc[arm])if(0>this.mf[arm]){c=arm;this.vc[c]="paralyzed";if("right"==c)var d=["rl","ru","rh"];"left"==c&&(d=["ll","lu","lh"]);c=void 0;for(c in d){var f=d[c];this.fb[f].th(this.fb[f].ge(),this.fb[f].ge())}this.mf[arm]=this.iA}else{c=arm;if("left"==c){var f=R(this.Na.lh.g.position,this.bi[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Na.lh.g.position,this.bi[c]);this.fb.lu.Ad();10>g&&f.aa(g/10);"punching"==this.vc[c]&&f.aa(this.oA);this.Na.lh.ia(f,
this.Na.lh.h.o)}"right"==c&&(f=R(this.Na.rh.g.position,this.bi[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Na.rh.g.position,this.bi[c]),this.fb.ru.Ad(),10>g&&f.aa(g/10),"punching"==this.vc[c]&&f.aa(this.oA),this.Na.rh.ia(f,this.Na.rh.h.o))}"retract"==this.vc[arm]&&(0>this.mf[arm]?dd(this,arm):gd(this));"paralyzed"==this.vc[arm]&&0>this.mf[arm]&&(c=arm,bd(this,c,this.rA),"left"==c?(this.bi.left=null,this.vc[c]="retract",cd(this,"lu",this.Ag.lu),cd(this,"ll",this.Ag.ll),cd(this,"lh",this.Ag.lh)):
"right"==c&&(this.bi.right=null,this.vc[c]="retract",cd(this,"ru",this.Ag.ru),cd(this,"rl",this.Ag.rl),cd(this,"rh",this.Ag.rh)));"loading_turret"==this.vc[arm]&&(this.body.ub(b),0>this.mf[arm]?this.vc[arm]="turret_firing":gd(this));if("turret_firing"==this.vc[arm]&&(this.body.ub(b),0>this.mf[arm])){g=arm;c=new b2Vec2(Math.cos(this.body.ga()),Math.sin(this.body.ga()));f=this.Qm[Math.floor(Math.random()*this.Qm.length)];"easy"==K&&"tank"==f&&.5>Math.random()&&(f=this.Qm[Math.floor(Math.random()*this.Qm.length)]);
c.cb();var h=null;"left"==g&&(h={x:this.Na.lh.g.position.x+3*c.x,y:this.Na.lh.g.position.y+3*c.y});"right"==g&&(h={x:this.Na.rh.g.position.x+3*c.x,y:this.Na.rh.g.position.y+3*c.y});c.aa(this.In[f]);g=new this.i.Sy[f](this.sa,h.x,h.y,this.i.xc,this.t);this.i.ii.push(g);g.body.ia(c,g.body.h.o);g.Ml(this.Vj+2E3);g.la.invincible=Math.max(this.Vj+2E3,g.la.invincible);"stunner"==f&&g.open(1500);g.Od=2*g.te;g.Ke(this.body.ga());0>this.Zd&&g.Jp(this.Zd+this.Ki);this.i.xc+=1;this.mf[arm]=this.YA}}if("normal"==
K){if(0>this.Zd&&this.Zd>.9*-this.Ki&&!this.Lp)for(this.Lp=!0,ac("b1shrink"),this.Dg>this.Lc/this.CA&&(this.Dg=this.Lc/this.CA),this.q.Jp(Math.round(this.Ki)),b=0;b<this.i.r.length;b++)this.i.r[b].id!=this.id&&this.i.r[b].Jp(Math.round(this.Ki));this.Zd<.9*-this.Ki&&this.Lp&&(this.Lp=!1,ac("b1grow"));this.Zd<-this.Ki&&(this.Zd=this.gl);this.Zd-=a;if(!(this.Zd>.9*this.gl)&&this.Zd<.175*this.gl&&0<=this.Zd)for(a=this.Zd;a>.05*this.gl;)a-=.05*this.gl}}};
function gd(a){var b=arm,c=[];"left"==b&&(c=["lu","ll","lh"]);"right"==b&&(c=["ru","rl","rh"]);for(index in c){var d=c[index];if("undefined"!==typeof a.dl[d].start&&"undefined"!==typeof a.dl[d].end){var f=Math.max(a.mf[b]/a.Bz[b],0),g=null,g="function"==typeof a.dl[d].end?a.dl[d].end():a.dl[d].end,f=f*a.dl[d].start+(1-f)*g;a.fb[d].th(f,f)}}}
function hd(a,b,c,d,f){var g=b.g.position;0<a.nc||0<a.el[f]?J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm_red",ub):J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm",ub)}function id(a,b,c,d,f){var g=b.g.position;0<a.nc||0<a.el[f]?J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand_red",ub):J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand",ub)}
l.Lk=function(a,b){var c=this.body.g.position;0<this.nc?J(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_red_glow",ub):J(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_glow",ub);var d=[];for(index in d)if(c=d[index],this.Na[c]){var f=this.Na[c],c=f.g.position;J(a,c.x*b,c.y*b,f.ga(),190,190,"immunitas_glow",ub)}};
l.U=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);hd(this,this.Na.lu,a,b,"left");hd(this,this.Na.ru,a,b,"right");hd(this,this.Na.ll,a,b,"left");hd(this,this.Na.rl,a,b,"right");id(this,this.Na.lh,a,b,"left");id(this,this.Na.rh,a,b,"right");c=this.body.g.position;0<this.nc?J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head_red",ub):
J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head",ub);a.restore();this.Dd(a,b)}};
l.Gy=function(a,b){var c=1-Math.max(this.Zd,0)/this.gl;a.beginPath();var d=b*this.body.g.position.x,f=b*this.body.g.position.y;0<c&&(a.moveTo(d,f-106),a.lineTo(d+106*Math.min(1,c/.25),f-106+106*Math.min(1,c/.25)));.25<c&&(a.moveTo(d+106,f),a.lineTo(d+106-106*Math.min(1,(c-.25)/.25),f+106*Math.min(1,(c-.25)/.25)));.5<c&&(a.moveTo(d,f+106),a.lineTo(d-106*Math.min(1,(c-.5)/.25),f+106-106*Math.min(1,(c-.5)/.25)));.75<c&&(a.moveTo(d-106,f),a.lineTo(d-106+106*Math.min(1,(c-.75)/.25),f-106*Math.min(1,(c-
.75)/.25)));a.lineWidth=15;a.strokeStyle=x["boss 1"];a.stroke()};function jd(a,b,c){for(var d=0;d<a.pA;d++){var f=d/a.pA*Math.PI*2;J(b,a.body.g.position.x*c+(a.xn+.9)*c*Math.cos(f),a.body.g.position.y*c+(a.xn+.9)*c*Math.sin(f),f,70,70,"immunitas_arrow",ub);b.globalAlpha*=.8;b.beginPath();b.arc(a.body.g.position.x*c,a.body.g.position.y*c,a.xn*c,0,2*Math.PI,!1);b.strokeStyle="black";b.lineWidth=2;b.stroke();b.globalAlpha/=.8}}
l.Dd=function(a,b){this.N||(a.save(),null!=this.zl&&(this.zl<this.yn?(a.beginPath(),a.globalAlpha=(this.yn-this.zl)/this.yn*.7,jd(this,a,b)):this.zl>this.ew-this.yn/2&&this.hE&&(a.beginPath(),a.globalAlpha=(this.zl-(this.ew-this.yn/2))/this.yn/2*.7,jd(this,a,b)),this.zl<this.fw&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,(this.fw-this.zl)/this.fw*this.xn*b,0,2*Math.PI,!1),globalAlpha=.7,a.lineWidth=4,a.strokeStyle=this.color,a.stroke())),a.restore())};
l.gh=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){a.save();if(this.N){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;this.Lk(a,b);c=this.body.g.position;a.globalAlpha*=.6;0<this.nc?J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura_red",ub):J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura",ub);a.globalAlpha/=.6;0<=this.Zd&&this.Gy(a,b);a.globalAlpha*=.8;0>this.Zd&&this.Zd>=-this.Ki&&(c=Math.min(5-Math.abs((-this.Zd-
this.Ki/2)/(this.Ki/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Gc,Hc));a.restore()}};l.move=function(){var a=this.body.ga(),b=R(this.body.g.position,Dc(this.q));Math.min(250,Vb(a,b)/Math.PI*1E3);Tb(a-Math.PI,a,b)?this.body.ub(this.body.ga()-Math.PI/2E3):this.body.ub(this.body.ga()+Math.PI/2E3)};
l.Re=function(a,b){if(!this.N&&this.rb)if(a==this.q&&(ac("b1hit"),Qc(this.t)),b==this.body){var c=R(this.body.g.position,a.body.g.position);a.body.ia(new b2Vec2(4*this.Of*Math.cos(c),4*this.Of*Math.sin(c)),a.body.h.o)}else{var c=R(this.body.g.position,a.body.g.position),d=this.Of;this.Lp&&(d*=2);d="punching"==this.state?1.5*d:b!=this.Na.lh&&b!=this.Na.rh?1.5*d:a==this.q?1.25*d:0;a.body.ia(new b2Vec2(d*Math.cos(c),d*Math.sin(c)),a.body.h.o)}};
l.Hj=function(){for(var a=[],b=0;b<this.Cg[0].length;b++){var c=this.body.g.position.Eb();c.Jg({x:.6*this.Cg[0][b].x,y:.6*this.Cg[0][b].y});a.push(c)}return a};l.$f=function(){var a=R(this.body.g.position,Dc(this.q));this.q.body.ia(new b2Vec2(this.Of*Math.cos(a),this.Of*Math.sin(a)),this.q.body.h.o)};function fd(a){a.state="turret";ed(a,"left");ed(a,"right");a.Vj=a.cA;a.bi.left=null;a.bi.right=null;a.bz&&(a.Vj*=.75,a.bz=!1)}
l.Tr=function(){if(Q(this.body.g.position,Dc(this.q))<=this.xn){var a=R(this.body.g.position,Dc(this.q));this.q.body.ia(new b2Vec2(this.Es*Math.cos(a),this.Es*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.r.length;a++)if(this.i.r[a]!==this&&Q(this.body.g.position,this.i.r[a].body.g.position)<=this.xn){var b=R(this.body.g.position,this.i.r[a].body.g.position);this.i.r[a].body.ia(new b2Vec2(this.Es*Math.cos(b),this.Es*Math.sin(b)),this.i.r[a].body.h.o);this.i.r[a]instanceof kd||this.i.r[a].open(1500)}};ld.prototype=new Rc;l=ld.prototype;l.constructor=ld;
function ld(a,b,c,d,f){this.type="third boss";this.ha(a,b,c,d,f);this.Wc=!1;this.Ae=5;this.Lc=1500;this.Dg=5;this.Jd=!1;this.fi=!0;this.rb=!1;this.body.ub(7*Math.PI/16);this.nc=this.visibility=0;this.Gp=150;this.Of=200;"easy"==K&&(this.Of=120);this.sc=16;this.fc={};this.aj=2200;"easy"==K&&(this.aj=2800);this.xq=1500;"easy"==K&&(this.xq=2E3);this.cg=this.xq;this.yw=.7;this.Rf=!1;this.nh=16*this.aj*(1-this.yw);this.gt=4E3;"easy"==K&&(this.gt=6E3);this.Wn=this.gt;this.yF=16;this.Qd=0;this.Ub="gap";this.fg=
this.Pl=1E3;this.Dq=this.zF=2E3;this.ok=4;this.Vn=4.3;this.Ez=-1;this.iB=1E3;this.oi=0;this.jk=this.zw=4500;this.Ln=.8;this.Vu=0;this.lc="extend";this.dg=this.Ll=500;this.Em=this.K+2;this.AC=18;this.li=this.K;this.Eq=0;this.ng=md(this);this.Eg=[];this.Us=0;this.ft=!1;this.JA={stunner:150,spear:200,tank:200,mote:200,goo:200,harpoon:200,disabler:200,fighter:200,troll:200};this.IA={stunner:14,spear:12,tank:10,mote:6,goo:1,harpoon:6,disabler:1,fighter:4,troll:10};"easy"==K&&(this.IA={stunner:6,spear:5,
tank:3,mote:5,goo:1,harpoon:3,disabler:1,fighter:2,troll:5});this.In={stunner:25,spear:18,tank:200,mote:10,goo:200,harpoon:400,disabler:300,fighter:400,troll:20};this.YE={stunner:500,spear:1E3,tank:2E3,mote:500,goo:0,harpoon:5E3,disabler:0,fighter:5E3,troll:2E3,frenzy:1E3};this.hk=2E4;this.Me=this.hk-1;this.kd=7E3;this.Xi=!1;this.Fl=-1;this.Bn=!1;for(a=0;a<this.sc;a++)b=Xb(this.sa,G[this.type].Rx,this.body.g.position.x,this.body.g.position.y,.01,16,"static",this),b.ub(this.body.ga()+Math.PI/(this.sc/
2)*a),this.fc[a]={interval:this.aj,duration:0,Si:0,ze:this.K,body:b,tf:this.yw}}
function md(a){var b=["tank","fighter","troll","harpoon"],c=["stunner","spear","goo","disabler"],d="mote harpoon stunner spear goo disabler tank fighter troll".split(" ");6<a.i.r.length&&(c.push("frenzy"),d.push("frenzy"));a=[];var f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b.splice(f,1);f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b=Math.floor(Math.random()*d.length);a.push(d[b]);-1!=c.indexOf(d[b])&&c.splice(c.indexOf(d[b]),1);
a.push(c[Math.floor(Math.random()*c.length)]);return a}
l.Xc=function(a){if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.ld;else{0==this.rb&&(this.rb=!0,this.visibility=1,this.body.hf(G[this.type].Ba));this.Bn&&(0==this.Fl%2?this.body.ub(this.body.ga()+2*Math.PI*a/this.nh):1==this.Fl%2&&this.body.ub(this.body.ga()-2*Math.PI*a/this.nh));if("normal"==K){if(0>this.Me&&!this.Xi&&"activate"!=this.Ub&&"fadeout"!=this.Ub&&"gap"!=this.Ub){this.Me=0;this.Xi=!0;this.q.Cc(Math.round(this.kd));for(var b=0;b<this.i.r.length;b++)this.i.r[b].id!=
this.id&&this.i.r[b].Cc(Math.round(this.kd),!0,!0);"fadein"==this.Ub?(this.fg=this.Pl-this.fg,this.Ub="fadeout",this.Qd=null):"spinning"==this.Ub||"activate"==this.Ub?(this.fg=this.Pl,this.Ub="fadeout","spinning"==this.Ub&&(this.Qd=null)):"gap"==this.Ub&&(this.Dq=this.Me+this.kd);"retract"==this.lc?(this.dg=this.Ll-this.dg,this.lc="extend"):"gap"==this.lc?(this.dg=this.Ll,this.lc="extend"):"striking"==this.lc?(nd(this),this.lc="frenzy",this.Bn=!1,this.jk=this.Me+this.kd):"frenzy"==this.lc&&(this.jk=
this.Me+this.kd);this.Eg=[]}this.Xi&&this.Me<-this.kd&&(this.Xi=!1,this.Me=this.hk);this.Me-=a}"extend"==this.lc?(this.dg-=a,b=Math.min(1-this.dg/this.Ll,1),this.li=this.K+b*(this.Em-this.K),od(this,this.li),0>this.dg&&(this.Xi?(this.lc="frenzy",this.jk=this.Me+this.kd):(this.lc="striking",this.Bn=!0,this.Fl+=1),this.cg=0)):"striking"==this.lc?(pd(this),15>=Q(this.body.g.position,Dc(this.q))?(this.cg-=a,0>=this.cg&&!(0<this.oi&&"frenzy"==this.ng[this.Qd])&&(this.cg=this.xq,qd(this))):this.cg-=a):
"retract"==this.lc?(this.dg-=a,b=Math.max(this.dg/this.Ll,0),this.li=this.K+b*(this.Em-this.K),od(this,this.li),pd(this),0>this.dg&&(this.lc="gap")):"gap"==this.lc?pd(this):"frenzy"==this.lc&&(pd(this),this.cg-=a,this.jk-=a,0>=this.cg&&this.jk>this.Ln*this.aj&&(this.cg=this.xq*this.Ln,qd(this)),0>this.jk&&(this.lc="striking",this.Bn=!0,this.Fl+=1,this.cg=this.xq));if("fadein"==this.Ub)this.Qd=0,this.fg-=a,this.Eq=Math.min(1-this.fg/this.Pl,1),0>=this.fg&&(this.Ub="spinning",this.Eq=1,this.Wn=this.gt);
else if("spinning"==this.Ub)this.Wn-=a,b=Math.pow(Math.min(1-this.Wn/this.gt,1),1),this.Qd=Math.floor(b*this.yF)%this.ok,this.Ez!=this.Qd&&(this.Ez=this.Qd,ac("b3tick")),0>=this.Wn&&rd(this);else if("fadeout"==this.Ub)this.fg-=a,this.Eq=Math.max(this.fg/this.Pl,0),0>=this.fg&&(this.Ub="gap",this.Eq=0,this.Dq=this.Xi?this.Me+this.kd:this.YE[this.ng[this.Qd]]+this.Vu,this.Vu=0,this.Qd=null);else if("activate"==this.Ub){if("striking"==this.lc&&"frenzy"!=this.ng[this.Qd]&&(this.lc="retract",this.Bn=!1,
this.dg=this.Ll,nd(this)),this.oi!=this.iB||"frenzy"!=this.ng[this.Qd]||this.ft||nd(this),this.oi-=a,0>this.oi)if(this.ft)this.Ub="fadeout",this.fg=this.Pl,"gap"==this.lc&&"frenzy"!=this.ng[this.Qd]&&(this.lc="extend",this.dg=this.Ll);else{b=this.ng[this.Qd];if("frenzy"!=b)for(var c=0;c<this.IA[b];c++)this.Eg.push(b),this.oi+=this.JA[b];else this.lc="frenzy",this.Bn=!1,this.jk=this.zw,this.oi+=this.zw,this.cg=0;this.ft=!0}}else"gap"==this.Ub&&(this.Dq-=a,0>=this.Dq&&(this.Ub="fadein",this.fg=this.Pl,
this.ng=md(this)));0<this.Eg.length&&(this.Us-=a,0>this.Us&&(this.Xs(this.Eg[0]),this.Eg.splice(0,1),this.Us=this.JA[this.ng[this.Qd]]));0<this.nc&&(this.nc-=a);if(!this.N)for(var d in this.fc)a=this.fc[d],a.body.ub(this.body.ga()+Math.PI/(this.sc/2)*d),a.body.jj(this.body.g.position),a.body.Ic.ab.Z[1]={x:Math.cos(0)*a.ze,y:Math.sin(0)*a.ze},a.body.Ic.ab.Z[2]={x:Math.cos(Math.PI/8)*a.ze,y:Math.sin(Math.PI/8)*a.ze}}};
function pd(a){for(var b in a.fc){var c=a.fc[b];0<c.duration&&(c.duration-=dt);if(0>=c.duration)c.ze=c.wq;else{var d=1-c.duration/c.interval,f=0;null==c.Si&&(c.Si=Q(a.body.g.position,Dc(a.q))+5,20>c.Si&&(c.Si+=10));var f=c.tf,g=c.tf+.3*(1-c.tf),h=c.tf+.7*(1-c.tf);d<f?(f=d/f,c.ze=c.wq*(1-f)+c.my*f):d>=f&&d<g?(f=(d-f)/(g-f),f=Wb(.15,.85,f),c.ze=c.Si*f+c.my*(1-f),c.GA||(c.GA=!0,ac("b3strike"))):d>=g&&d<h?c.ze=c.Si:d>=h&&1>d&&(f=(d-h)/(1-h),f=Wb(.15,.85,f),c.ze=0<f?c.Si*(1-f)+c.wq*f:c.wq)}}}
function od(a,b){for(var c in a.fc){var d=a.fc[c];d.wq=b;0>=d.duration&&(d.ze=b)}}function nd(a){for(var b in a.fc){var c=a.fc[b];if(0<c.duration){var d=1-c.duration/c.interval;d<c.tf?c.duration=0:d>c.tf&&d<.5*c.tf+.5&&(c.duration=2*c.interval*(.5-.5*c.tf)-c.duration)}}}
function qd(a){if("striking"==a.lc){for(var b=R(a.body.g.position,Dc(a.q)),b=Math.floor((b-a.body.ga())/(Math.PI/8));0>b;)b+=a.sc;for(var c=a.AC,d=0==a.Fl%2?[b-1,b-3,b-2]:[b+3,b+1,b+2],f=d.length-1;0<=f;f--)d[f]>=a.sc&&(d[f]-=a.sc),0>d[f]&&(d[f]+=a.sc),0<a.fc[d[f]].duration&&d.splice(f,1);f=Math.floor(Math.random()*d.length);sd(a,d[f],c,a.aj)}else if("frenzy"==a.lc){b=R(a.body.g.position,Dc(a.q));for(b=Math.floor((b-a.body.ga())/(Math.PI/8));0>b;)b+=a.sc;for(var c=null,d=[b-3,b-2,b-1,b,b+1,b+2,b+
3,b+4],g=!1,f=d.length-1;0<=f;f--)0<a.fc[td(a,d[f])].duration&&(d.splice(f,1),2<=f&&4>=f&&(g=!0));g||d.splice(d.indexOf(b+Math.floor(3*Math.random()-1)),1);f=Math.floor(Math.random()*d.length);sd(a,d[f],c,a.aj*a.Ln);d.splice(f,1);f=Math.floor(Math.random()*d.length);sd(a,d[f],c,a.aj*a.Ln);d.splice(f,1);-1!==d.indexOf(b)&&.5>Math.random()?sd(a,b,c,a.aj*a.Ln):sd(a,d[Math.floor(Math.random()*d.length)],c,a.aj*a.Ln)}}function td(a,b){b>=a.sc&&(b-=a.sc);0>b&&(b+=a.sc);return b}
function sd(a,b,c,d){a.kF||(a.kF=b);b=td(a,b);0>=a.fc[b].duration&&(a.fc[b].duration=d,a.fc[b].interval=d,a.fc[b].Si=c,a.fc[b].wq=a.Em,a.fc[b].my=.8*a.Em,a.fc[b].tf=a.yw,a.fc[b].GA=!1)}l.xk=function(){for(var a=0;a<this.sc;a++){var b=Xb(this.sa,G[this.type].Rx,this.body.g.position.x,this.body.g.position.y,1,16,"dynamic",this),c=this.body.ga()+Math.PI/(this.sc/2)*a;b.ub(c);this.fc[a].body=b;c=new b2Vec2(Math.cos(c),Math.sin(c));c.cb();c.aa(10);b.ia(c,b.h.o)}};
l.Hj=function(){for(var a=[],b=0;b<this.Cg[0].length;b++){var c=this.body.g.position.Eb();c.Jg({x:this.Cg[0][b].x,y:this.Cg[0][b].y});a.push(c)}return a};
l.U=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);var d=this.body.g.position,c=[];if(this.rb)for(var f in this.fc)if(0<this.fc[f].duration||this.N){var d=this.fc[f].body.g.position,g=this.fc[f].body.ga();a.save();a.translate(d.x*b,d.y*b);a.rotate(g+Math.PI/16);d=this.fc[f].ze*Math.cos(Math.PI/16);J(a,d/2*b,0,0,d*b,this.fc[f].ze*Math.sin(Math.PI/
16)*2*b,0<this.nc?"negligentia_arm_striking_red":"negligentia_arm_striking",wb);a.restore();c.push(f)}a.save();a.beginPath();d=this.body.g.position;f=this.li*b;-1!==c.indexOf("0")&&(f=this.li*b*.8);g=this.body.ga();a.moveTo(d.x*b+f*Math.cos(g),d.y*b+f*Math.sin(g));for(var h=0;h<this.sc;h++){var k=(h+1)%this.sc;a.lineTo(d.x*b+f*Math.cos(2*k*Math.PI/this.sc+g),d.y*b+f*Math.sin(2*k*Math.PI/this.sc+g));var n=this.li*b;-1!==c.indexOf(""+k)&&(n=this.li*b*.8);n!=f&&(a.lineTo(d.x*b+n*Math.cos(2*k*Math.PI/
this.sc+g),d.y*b+n*Math.sin(2*k*Math.PI/this.sc+g)),f=n)}a.closePath();a.clip();if(this.rb)if("extend"==this.lc||"retract"==this.lc)d=this.body.g.position,J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.li*b*2,this.li*b*2,"negligentia_arm_ring",wb);else if("striking"==this.lc||"frenzy"==this.lc)d=this.body.g.position,J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.Em*b*2,this.Em*b*2,"negligentia_arm_ring",wb);a.restore();0<this.nc?J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.K*b,2*this.K*b,"negligentia_head_red",
wb):J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.K*b,2*this.K*b,"negligentia_head",wb);this.Dd(a,b);a.restore()}};l.Lk=function(a,b){var c=this.body.g.position;0<this.nc?J(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow_red",wb):J(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow",wb)};
l.gh=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){a.save();var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Xi&&0>this.Me&&this.Me>=-this.kd&&(a.save(),c=Math.min(5-Math.abs((-this.Me-this.kd/2)/(this.kd/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Gc,Hc),a.restore());this.Lk(a,b);this.Xi||(a.globalAlpha*=.4);for(c=0;16>c;c++){var d=this.body.g.position,f=2*Math.PI*
(c/16+.03125-.25);1-this.Me/this.hk>1-c/16&&(0!=c||this.Xi)?(a.globalAlpha*=2,J(a,(d.x+Math.cos(f)*this.K*1.8)*b,(d.y+Math.sin(f)*this.K*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura",wb),a.globalAlpha/=2):J(a,(d.x+Math.cos(f)*this.K*1.8)*b,(d.y+Math.sin(f)*this.K*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura_open",wb)}a.restore()}};
l.Dd=function(a,b){a.save();a.globalAlpha*=this.Eq;if("fadein"==this.Ub||"spinning"==this.Ub||"fadeout"==this.Ub||"activate"==this.Ub){var c=0<this.nc?"negligentia_wheel_red":"negligentia_wheel";if("fadeout"==this.Ub||"activate"==this.Ub)c="negligentia_wheel_complete";var d=this.body.ga()+Math.PI/16+Math.PI/4,f=Math.PI/(this.ok/2)*(this.Qd+.5)+d;J(a,this.body.g.position.x*b,this.body.g.position.y*b,d+Math.PI/2*((this.Qd+1)%4),2*this.Vn*Math.cos(Math.PI/4)*b,2*this.Vn*Math.cos(Math.PI/4)*b,c,wb);if("fadein"==
this.Ub||"spinning"==this.Ub)for(c=0;c<this.ok;c++)f=Math.PI/(this.ok/2)*(c+.5)+d,"frenzy"!=this.ng[c]?Da(a,this.ng[c],this.body.g.position.x*b+Math.cos(f+Math.PI/(this.ok/2)/2)*this.Vn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.ok/2)/2)*this.Vn*.4*b,15,f+1*Math.PI/4):La(a,3,this.body.g.position.x*b+Math.cos(f+Math.PI/(this.ok/2)/2)*this.Vn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.ok/2)/2)*this.Vn*.4*b,20,!0,f);else("fadeout"==this.Ub||"activate"==this.Ub)&&null!=this.Qd&&
("frenzy"!=this.ng[this.Qd]?Da(a,this.ng[this.Qd],this.body.g.position.x*b,this.body.g.position.y*b,20,f+1*Math.PI/4):La(a,3,this.body.g.position.x*b,this.body.g.position.y*b,50,!0,f))}a.restore()};l.Gy=function(a,b){a.beginPath();var c=Math.min(1-this.Me/this.hk,1);a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*b*1.5,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c*.999);a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
l.Xs=function(a){var b=R(this.body.g.position,Dc(this.q)),c=0;"stunner"==a&&.7>Math.random()&&(c=Math.PI/4);"spear"==a&&.7>Math.random()&&(c=Math.PI/8);"tank"==a&&.9>Math.random()&&(c=Math.PI);"mote"==a&&.7>Math.random()&&(c=Math.PI);"troll"==a&&.7>Math.random()&&(c=Math.PI);"harpoon"==a&&(c=.5*Math.PI);"fighter"==a&&.5>Math.random()&&(c=.5*Math.PI);0!=c&&(b+=Math.random()*c-c/2);var c=new this.i.Sy[a](this.sa,(this.body.g.position.x+Math.cos(b)*this.K*1.35)*E/E,(this.body.g.position.y+Math.sin(b)*
this.K*1.35)*E/E,this.i.xc,this.t),d=new b2Vec2(Math.cos(b),Math.sin(b));d.aa(this.In[a]);c.body.ia(d,c.body.h.o);c.Ke(b);this.i.ii.push(c);this.i.xc+=1;c.De=!0;c.jc=0;c.Od=2*c.te;c.og=0;c.Eh=0;"harpoon"==a&&c.Cc(500,!0)};
l.Re=function(a,b){if(!this.N&&this.rb)if(a===this.q&&Qc(this.t),b!==this.body)for(var c in this.fc){var d=this.fc[c],f=1-d.duration/d.interval;if(d.body==b&&(f>d.tf&&f<d.tf+.3*(1-d.tf)||1<=f||f<d.tf))if(d=R(this.body.g.position,a.body.g.position),a===this.q)a.body.ia(new b2Vec2(this.Of*Math.cos(d),this.Of*Math.sin(d)),a.body.h.o),Qc(this.t);else if("harpoonhead"==a.type)a.body.ia(new b2Vec2(this.In.harpoon*Math.cos(d),this.In.harpoon*Math.sin(d)),a.body.h.o);else{if(void 0!=this.In[a.type])var g=
G[a.type];g&&(f=a.body.Y*Math.sqrt(g.Ba)*this.Of,a.body.ia(new b2Vec2(f*Math.cos(d),f*Math.sin(d)),a.body.h.o))}}else d=R(this.body.g.position,a.body.g.position),c=1,a===this.q&&"easy"==K&&(c=.5),a.body.ia(new b2Vec2(this.Of*c*Math.cos(d),this.Of*c*Math.sin(d)),a.body.h.o)};function rd(a){a.Ub="activate";a.oi=a.iB;a.ft=!1;ac("b3select")}l.ve=function(){this.nc=this.Gp;"spinning"==this.Ub&&(rd(this),this.Vu=this.Wn)};ud.prototype=new Rc;l=ud.prototype;l.constructor=ud;
function ud(a,b,c,d,f){this.type="second boss";this.ha(a,b,c,d,f);this.Wc=!1;this.Ae=5;this.Jd=!1;this.Yd=[];this.zf=this.Wk=1E3;this.xp=2E3;this.as=8;this.fi=!0;this.qi=3*Math.PI/4;this.hr=3*Math.PI/16;"easy"==K&&(this.hr=5*Math.PI/32);this.ZB=1*Math.PI/2;this.ri=this.hr;this.Tx=1*Math.PI/8;this.gr=50;this.Sx=.9;this.sc=4;this.qo=[];this.Qx=15E3;this.rb=!1;this.body.ub(this.qi);this.Rf=!1;this.nh=this.Qx;this.visibility=0;this.$o=13500;this.Pc=this.$o-1;this.Fk=2E3;this.xr=0;this.qC=10;this.rC=1;
this.ap=1E3;this.Zo=.9;this.tu=!1;this.Gp=150;this.yl=this.nc=0;this.body.hf(2*G[this.type].Ba);this.Dp=2.5;this.Df=4;this.vu=.9;this.xu=.3;this.uu=1.2;"easy"==K&&(this.vu*=1.5,this.xu*=1.5,this.uu*=1.5);this.MA=!1;this.Kl=[];this.Xb=this.sg=1;this.WA=.2;this.jz=.125;this.QE=.025;this.Su=12E3;"easy"==K&&(this.Su=12E3);this.sp=2E3;this.Ws=[["stunner","tank"],["harpoon","spear"],["mote","goo"]];"normal"==K&&(this.Ws=[["stunner","stunner","tank","goo"],["harpoon","spear","spear","tank"],["mote","goo",
"tank","harpoon"]]);this.JC={stunner:.4,spear:.4,tank:2,mote:.2,goo:2.5,harpoon:2};this.Rr=[];this.Jn=0}
l.Xc=function(a){if(!this.MA){this.MA=!0;var b=[[O-80,P-80],[80,80]];"normal"==K&&(b=[[80,80],[O-80,80],[O-80,P-80],[80,P-80]]);for(var c=0;c<b.length;c++){var d=new vd(b[c][0],b[c][1],this,this.t);d.kc=c/b.length*d.ld;this.Kl.push(d)}}if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.ld;else{0==this.rb&&(this.rb=!0,this.visibility=1,this.body.hf(G[this.type].Ba));this.body.ub(this.qi);0<this.nc&&(this.nc-=a);this.sp-=a;if(0>this.sp){this.sp=this.Su;for(c=0;c<this.Kl.length;c++){var b=
this.Kl[c],d=this.Ws[this.Jn][c],f=b.Qm[d];"easy"==K&&(f=b.IC[d]);var g=0;if(b.i.Pk[d]+1<=b.i.Pm[d][6])for(var h=0;h<f;h++){for(var k=b.x/E,n=b.y/E,q=R({x:k,y:n},b.Og.body.g.position),p=q+2*Math.PI*(g+1/((g-g%6)/6+1))/6;!Hb({x:k,y:n},{x:k+10*Math.cos(p),y:n+10*Math.sin(p)},b.i.se);)g+=1,p=q+2*Math.PI*(g+1/((g-g%6)/6+1))/6;k=[(b.x+b.size/2*Math.cos(p))/E,(b.y+b.size/2*Math.sin(p))/E];k=new G[d].className(b.sa,k[0],k[1],b.i.xc,b.t);k.Ke(p);"harpoon"==k.type&&(k.CC=!0);b.i.ii.push(k);b.i.xc+=1;g+=1}}this.Jn+=
1;this.Jn%=this.Ws.length}1<this.sg&&(this.sg=Math.max(1,this.sg-a/1E3*this.QE));if(this.Xb!=this.sg){this.Xb=this.Xb<this.sg?Math.min(this.Xb+this.WA*a/1E3,this.sg):Math.max(this.Xb-this.WA*a/1E3,this.sg);c=this.body.Ic;void 0===c.length&&(c=[c]);for(b=0;b<c.length;b++)for(d=this.body.Ic.ab.Z,f=this.Yb[b],g=0;g<d.length;g++)d[g]=new b2Vec2(f.x+f.X*f.ca[g][0]*this.Xb,f.y+f.X*f.ca[g][1]*this.Xb);this.body.ig()}this.vn(a);c=this.hr+Math.min(1,(this.sg-1)/2)*(this.ZB-this.hr);this.ri!=c&&(this.ri=this.ri<
c?Math.min(this.ri+this.Tx*a/1E3,c):Math.max(this.ri-this.Tx*a/1E3,c));for(var t in this.Kl)this.Kl[t].oa(a);this.VE&&(0>this.FA?this.VE=!1:this.FA-=a);this.qi+=2*Math.PI*a/(this.Qx/this.Xb);for(c=0;c<this.i.r.length;c++)this.i.r[c].id!=this.id&&(t=R(this.i.r[c].body.g.position,this.body.g.position),b=this.JC[this.i.r[c].type]*this.Bp(this.i.r[c].body.g.position,!0),0<b&&this.i.r[c].body.ia(new b2Vec2(b*Math.cos(t),b*Math.sin(t)),this.i.r[c].body.h.o));this.yl=0;t=R(Dc(this.q),this.body.g.position);
b=this.Bp(Dc(this.q));0<b&&(this.yl+=b,this.q.body.ia(new b2Vec2(b*Math.cos(t),b*Math.sin(t)),this.q.body.h.o));"normal"==K&&(0>this.Pc&&(this.tu||(this.tu=!0,ac("b2bhole")),t=-this.Pc/this.Fk,this.xr=t<this.Zo?t/this.Zo*this.K*this.Df*this.Xb:this.K*this.Xb*this.Df*(1-(t-this.Zo)/(1-this.Zo))),this.Pc<-this.Fk&&(this.Pc=this.$o,this.xr=0,this.Rr=[],this.tu=!1),this.Pc-=a)}};
l.Bp=function(a,b){if(0>this.Pc){var c;c=5;-this.Pc/this.Fk<this.Zo&&(c=.12);Q(this.body.g.position,a)<=this.K*this.Df?(black_hole_force=this.qC*c,b||(black_hole_force*=this.rC)):black_hole_force=-1;c=black_hole_force;if(-1!==c)return c}c=Q(a,this.body.g.position);for(var d=wd(this),f=0,g=0;g<d.length;g++)if(Jb(d[g],a)){f+=this.uu;break}c<=this.K*this.Xb*this.Dp?f+=this.vu:c<=this.K*this.Xb*this.Df&&(f+=this.xu);b&&(f*=.3);return f};
l.gh=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){a.save();if(this.N){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;0>this.Pc&&this.Pc>=-this.Fk&&(a.globalAlpha*=.5,c=Math.min(5-Math.abs((-this.Pc-this.Fk/2)/(this.Fk/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Gc,Hc),a.globalAlpha*=2);0>this.Pc&&this.Pc>=-this.Fk&&(c=this.body.g.position,J(a,c.x*b,c.y*b,0,this.xr*b*2,this.xr*b*2,"consumendi_aura",
vb));var d=1;this.Pc>=this.$o-this.ap?d=1-(this.Pc-this.$o+this.ap)/this.ap:this.Pc<=this.ap&&0<this.Pc&&(d=this.Pc/this.ap);c=this.body.g.position;0<this.Pc&&(a.save(),a.globalAlpha*=.7,J(a,c.x*b,c.y*b,0,90*d*this.Xb*this.Dp,90*d*this.Xb*this.Dp,"consumendi_aura",vb),a.restore());a.save();a.globalAlpha*=.7;for(d=0;16>d;d++){var f=2*Math.PI*(d/16+.03125-.25);this.rb&&1-this.Pc/this.$o>1-d/16?J(a,(c.x+Math.cos(f)*this.K*this.Xb*this.Df)*b,(c.y+Math.sin(f)*this.K*this.Xb*this.Df)*b,f,30,56,"consumendi_small_diamond_filled",
vb):J(a,(c.x+Math.cos(f)*this.K*this.Xb*this.Df)*b,(c.y+Math.sin(f)*this.K*this.Xb*this.Df)*b,f,30,56,"consumendi_small_diamond",vb)}a.restore();this.Lk(a,b);this.Km(a,b);a.restore()}};
l.U=function(a,b){if(!(0==this.rb&&this.kc>.9*this.ld)){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha=this.N?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;0<this.nc?J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Xb,90*this.Xb,"consumendi_head_red",vb):J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Xb,90*this.Xb,"consumendi_head",vb);this.Dd(a,b);a.restore()}};
l.xk=function(){if(0!=this.qo.length)for(var a=0;10>a;a++){var b=this.qo[Math.floor(this.qo.length/10*a)],c=R(this.body.g.position,this.q.body.g.position)+2*(Math.random()-.5)*Math.PI,c=new b2Vec2(Math.cos(c),Math.sin(c));c.cb();c.aa(100);Jc(this.i,b,this.body.g.position,c)}};l.Lk=function(a,b){var c=this.body.g.position;0<this.nc?J(a,c.x*b,c.y*b,this.body.ga(),200*this.Xb,200*this.Xb,"immunitas_red_glow",ub):J(a,c.x*b,c.y*b,this.body.ga(),200*this.Xb,200*this.Xb,"consumendi_glow",vb)};
l.Dd=function(a,b){for(var c in this.Kl)this.Kl[c].U(a,b,Math.max(this.sp,0)/this.Su,this.Ws[this.Jn][c]);c=wd(this);a.save();a.beginPath();a.rect(0,0,O,P);a.clip();for(var d=0;d<c.length;d++){a.beginPath();a.moveTo(c[d][0].x*b,c[d][0].y*b);for(var f=1;f<c[d].length;f++)a.lineTo(c[d][f].x*b,c[d][f].y*b);a.closePath();a.save();a.globalAlpha*=this.visibility/4;a.fillStyle=this.color;a.fill();var f=this.body.g.position,g=2*Math.PI*d/this.sc+this.qi;J(a,(f.x+Math.cos(g)*this.K*this.Xb*this.Df*1.5)*b,
(f.y+Math.sin(g)*this.K*this.Xb*this.Df*1.5)*b,g+Math.PI/2,50,80,"consumendi_small_arrow",vb);a.restore()}a.restore();f=Dc(this.q);c=R(f,this.body.g.position);this.q.N||(.3<=this.yl&&J(a,(f.x+2*Math.cos(c))*b,(f.y+2*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",vb),.75<=this.yl&&J(a,(f.x+2.75*Math.cos(c))*b,(f.y+2.75*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",vb),1.2<=this.yl&&J(a,(f.x+3.5*Math.cos(c))*b,(f.y+3.5*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",
vb),2<=this.yl&&J(a,(f.x+4.25*Math.cos(c))*b,(f.y+4.25*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",vb))};
function wd(a){for(var b=[],c=0;c<a.sc;c++){var d=[];d.push({x:a.body.g.position.x,y:a.body.g.position.y});d.push({x:a.body.g.position.x+a.gr*a.Sx*Math.cos(2*Math.PI*c/a.sc+a.qi-a.ri/2),y:a.body.g.position.y+a.gr*a.Sx*Math.sin(2*Math.PI*c/a.sc+a.qi-a.ri/2)});d.push({x:a.body.g.position.x+a.gr*Math.cos(2*Math.PI*c/a.sc+a.qi+a.ri/2),y:a.body.g.position.y+a.gr*Math.sin(2*Math.PI*c/a.sc+a.qi+a.ri/2)});b.push(d)}return b}l.move=function(){};
l.Re=function(a){this.N||!this.rb||a.N||(a===this.q?(ac("b2eat"),R(this.body.g.position,a.body.g.position),a.Nc("absorbed"),Qc(this.t)):a!==this.q&&(ac("b2eat"),"harpoonhead"!=a.type?(a.Nc("absorbed"),this.sg+=this.jz,this.Rr.push(a),this.qo.push(a.type)):(this.qo.push("harpoon"),a.Ei.Nc("absorbed"),this.sg+=this.jz,this.Rr.push(a),this.Rr.push(a.Ei))))};l.Hj=function(){for(var a=[],b=0;b<this.Cg[0].length;b++){var c=this.body.g.position.Eb();c.Jg(this.Cg[0][b]);a.push(c)}return a};
l.vn=function(a){for(var b=0;b<this.Yd.length;b++){var c=this.Yd[b];c.Uc+=a/this.xp;0>this.Pc&&(c.Uc+=a/this.xp)}for(b=this.Yd.length-1;0<=b;b--)c=this.Yd[b],1<c.Uc&&this.Yd.splice(b,1);this.zf-=a;0>this.Pc&&(this.zf-=a);0>this.zf&&(this.zf+=this.Wk,this.yp(this.body.g.position.x,this.body.g.position.y,this.as))};
l.yp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.Yd.push({Zs:Math.cos(f)*this.K*this.Xb*this.Df+a,$s:Math.sin(f)*this.K*this.Xb*this.Df+b,Uc:0})}};
l.Km=function(a,b){for(var c=G[this.type].ip[0],d=0;d<this.Yd.length;d++){var f=this.Yd[d];a.save();a.globalAlpha=.25>f.Uc?4*a.globalAlpha*f.Uc:(1-f.Uc)/.75*a.globalAlpha;0<=this.Pc&&(a.globalAlpha*=.5);var g=R({x:f.Zs,y:f.$s},{x:this.body.g.position.x,y:this.body.g.position.y});Ia(a,b*(f.Zs*(1-f.Uc)+this.body.g.position.x*f.Uc),b*(f.$s*(1-f.Uc)+this.body.g.position.y*f.Uc),c,2,x["world "+this.t.n+" bright"],1,g);a.restore()}};function vd(a,b,c,d){this.x=a;this.y=b;this.Og=c;this.color=this.Og.color;this.sa=this.Og.sa;this.t=d;this.i=this.t.i;this.q=this.t.q;this.size=60;this.visibility=0;this.Qm={stunner:1,spear:1,tank:2,mote:1,goo:1,harpoon:1};this.IC={stunner:3,spear:3,tank:2,mote:2,goo:1,harpoon:1};this.Dp=.75;this.Df=1.5;this.aD=.8;this.nD=.2}
vd.prototype.U=function(a,b,c,d){a.save();a.globalAlpha*=.5;J(a,this.x,this.y,Math.PI/4,2*this.size,2*this.size,"consumendi_glow",vb);J(a,this.x,this.y,Math.PI/4,this.size,this.size,"consumendi_mini",vb);0<c&&(a.beginPath(),a.arc(this.x,this.y,.75*this.size,-.5*Math.PI,-.5*Math.PI-2*Math.PI*(1-c),!0),a.lineWidth=4,a.strokeStyle=G[d].color,a.stroke());a.restore()};
vd.prototype.oa=function(){for(var a=0;a<this.i.r.length;a++)if(this.i.r[a].id!=this.id){var b=R(this.i.r[a].body.g.position,{x:this.x/E,y:this.y/E})+Math.PI,c=this.Bp(this.i.r[a].body.g.position);0<c&&this.i.r[a].body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.i.r[a].body.h.o)}b=R(this.q.body.g.position,{x:this.x/E,y:this.y/E})+Math.PI;c=this.Bp(this.q.body.g.position);0<c&&this.q.body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.q.body.h.o)};
vd.prototype.Bp=function(a){a=Q(a,{x:this.x/E,y:this.y/E});return a<=this.size/E*this.Dp?this.aD:a<=this.size/E*this.Df?this.nD:0};function xd(a,b,c,d,f){this.ce=d;this.Tc={x:a/E,y:b/E};this.t=c;this.Pt="one"==d?250:125;this.Hr=!1;this.xf=1;this.Yy=1E3;this.vp=this.Cq=!1;if(this.Vr=f)this.xf=0}xd.prototype.U=function(){};
xd.prototype.Tk=function(a){if(!(this.vp&&0>this.xf)){a.save();var b=this.vp||this.Vr?Wb(.15,.85,this.xf):1;J(a,this.Tc.x*E,this.Tc.y*E,0,this.Pt*b,this.Pt*b,"dark_aura");"one"===this.ce&&(a.globalAlpha=.1*a.globalAlpha*this.xf,J(a,this.Tc.x*E,this.Tc.y*E,0,25,25,"pink_one"));a.restore();this.Hr&&(a.save(),a.globalAlpha*=.8,a.rect(0,0,O,P),a.fillStyle="#000",a.fill(),"four"==this.ce&&4==this.t.i.Bh&&(a.globalAlpha*=.1,a.rect(0,0,O,P),a.fillStyle="#f00",a.fill()),a.restore(),a.save(),a.font="20px Muli",
a.textAlign="center",a.fillStyle=x.rose,"one"==this.ce&&(a.fillText("I've told you a thousand times.",400,285),a.fillText("I don't need to be saved.",400,315)),"three"==this.ce&&1==this.t.i.Bh&&(a.fillText("It's nice and numb here.",400,285),a.fillText("And everything is perfect.",400,315)),"three"==this.ce&&2==this.t.i.Bh&&(a.fillText("Get out. Don't bother me",400,285),a.fillText("with those naive Impulses.",400,315)),"four"==this.ce&&1==this.t.i.Bh&&a.fillText("I don't need to be saved.",400,300),
"four"==this.ce&&2==this.t.i.Bh&&a.fillText("I don't need to be saved.",400,300),"four"==this.ce&&3==this.t.i.Bh&&a.fillText("I DON'T NEED TO BE SAVED",400,300),"four"==this.ce&&4==this.t.i.Bh&&(a.fillStyle="red",a.fillText("I will crush you into the Void.",400,300)),a.restore())}};
xd.prototype.oa=function(a){this.vp&&0>this.xf||(Q(this.t.q.body.g.position,this.Tc)<this.Pt/E*this.xf*.4?(yd=this.Hr=!0,this.Cq||(this.Cq=!0,this.t.i.Bh+=1,"four"==this.ce&&4==this.t.i.Bh?ac("dark_anger"):ac("dark_diag"),this.fy=D.Ek,ec(.1*this.fy))):1==this.Hr&&(this.vp=!0,yd=this.Hr=!1,ec(this.fy)),this.vp&&0<this.xf&&(this.xf-=a/this.Yy),this.Vr&&1>this.xf&&(this.xf+=a/this.Yy,1<=this.xf&&(this.xf=1,this.Vr=!1)))};zd.prototype=new Ga;l=zd.prototype;l.constructor=zd;
function zd(a,b,c,d,f){void 0!==a&&(this.type="deathray",this.ha(a,b,c,d,f),null!==a&&(this.Jd=!1,this.Os=10,this.lw=2,this.fD=5,this.fi=!0,this.Ow=!1,this.Lc=1200,"easy"==K&&(this.Lc=1400),this.Tm=!1,this.Zl=.5,this.Dg=this.Lc,this.fr=.56,this.Di=this.Uk=200,this.pg=5,this.wd=null,this.Is=.8,this.Gs=-.5,this.Hs=400,this.bj=2E3,"easy"==K&&(this.bj=2E3),this.Xu=this.yk=!1,this.Ij=null,this.Js=100,this.Ks=Math.PI/48,this.Rf=!1,this.Hh=3,this.cd=100,this.kp=!1))}
l.Xc=function(a){this.yk?this.Ke(this.wd):this.Ke(R(this.body.g.position,this.q.body.g.position));this.fi!=Q(this.q.body.g.position,this.body.g.position)>this.Os&&(this.fi=!this.fi);0<this.Mu&&(this.Mu-=a);this.Ow=Qb(this.fD,this.body.g.position);0<this.jc&&(this.jc-=a);if(this.ma())Ad(this);else if(0>=this.Dg)if(0>=this.Di)Ad(this),this.Ml(this.bj),this.di=this.jc=this.bj;else{if(this.Di=Math.max(this.Di-a,0),ac("deathray"),this.Di<=this.Uk/2&&!this.Xu){a=Bd(this);this.Xu=!0;if(Jb(a,this.q.body.g.position)){var b=
1;0<this.q.$[5]&&!this.q.lk&&(b*=10);0<this.q.Yc()&&(b*=.25);this.q.body.ia(new b2Vec2(b*this.Hs*Math.cos(this.wd),b*this.Hs*Math.sin(this.wd)),this.q.body.h.o);Qc(this.t)}for(b=0;b<this.i.r.length;b++)if(this.i.r[b]!=this&&Jb(a,this.i.r[b].body.g.position)){if("orbiter"==this.i.r[b].type){var c=this.i.r[b];c.Un=c.Nw}this.i.r[b].body.ia(new b2Vec2(this.Hs*Math.cos(this.wd),this.Hs*Math.sin(this.wd)),this.i.r[b].body.h.o);this.i.r[b].open(2500)}}}else if(this.yk||!this.yk&&this.Ow&&!this.Rv)this.Dg=
Math.max(this.Dg-a,0),this.Dg<=this.Lc*this.fr&&!this.yk&&(this.wd=R(this.body.g.position,this.q.body.g.position),this.Dg=this.Lc*this.fr,this.yk=!0)};l.Dd=function(a){0<this.jc&&!this.N&&Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.jc/this.di,"#444444",4)};function Ad(a){a.Dg=a.Lc;a.Di=a.Uk;a.yk=!1;a.Xu=!1;a.wd=null}
function Bd(a){var b=[];b.push({x:a.body.g.position.x+a.Gs*Math.cos(a.wd)+a.Is*Math.cos(a.wd+Math.PI/2),y:a.body.g.position.y+a.Gs*Math.sin(a.wd)+a.Is*Math.sin(a.wd+Math.PI/2)});b.push({x:a.body.g.position.x+a.Gs*Math.cos(a.wd)+a.Is*Math.cos(a.wd-Math.PI/2),y:a.body.g.position.y+a.Gs*Math.sin(a.wd)+a.Is*Math.sin(a.wd-Math.PI/2)});b.push({x:b[1].x+a.Js*Math.cos(a.wd-a.Ks),y:b[1].y+a.Js*Math.sin(a.wd-a.Ks)});b.push({x:b[0].x+a.Js*Math.cos(a.wd+a.Ks),y:b[0].y+a.Js*Math.sin(a.wd+a.Ks)});return b}
l.Jf=function(a,b,c,d){d||(this.open(this.Xj),this.la.impulsed+=this.Ep);this.body.ia(new b2Vec2(this.Hh*b*Math.cos(c),this.Hh*b*Math.sin(c)),this.body.h.o);d&&!this.Cf||this.ve(a,b,c)};l.fz=function(){if(this.fi)return null==this.Ij&&(this.Ij={x:this.i.$i.x/E,y:this.i.$i.y/E}),this.Ij;this.Ij=null;for(var a=N[this.t.V].ya,b=null,c=1E3,d=0;d<a.length;d++){var f=Q({x:a[d][0]/E,y:a[d][1]/E},this.body.g.position);f<c&&(c=f,b=a[d])}return{x:b[0]/E,y:b[1]/E}};l.yj=Ga.prototype.move;
l.move=function(){this.yk||(this.fi?this.Ow?(this.Ij=this.path=null,this.Rv=!1):Q(this.q.body.g.position,this.body.g.position)>this.Os+this.lw?(null==this.path&&(this.Od=2*this.te),this.yj(),this.Rv=!0):this.Ij=null:(null==this.path&&(this.Od=2*this.te),this.Ij=null,this.yj(),this.Rv=!0))};
l.gh=function(a,b){if(!this.ma()){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha*=1-c;var d=Bd(this);if(this.Dg<=this.Lc*this.fr&&null!=this.wd){c=1-this.Dg/(this.Lc*this.fr);a.save();a.beginPath();a.globalAlpha*=Math.max(c,.2);a.moveTo(d[1].x*b,d[1].y*b);a.lineTo(d[2].x*b,d[2].y*b);a.moveTo(d[3].x*b,d[3].y*b);a.lineTo(d[0].x*b,d[0].y*b);a.lineWidth=1;a.strokeStyle=this.color;a.stroke();if(this.Di<this.Uk){c=this.Di>this.Uk/2?this.Uk-this.Di:this.Di;c/=this.Uk/2;a.globalAlpha*=
c;a.beginPath();a.moveTo(d[0].x*b,d[0].y*b);for(c=1;c<d.length;c++)a.lineTo(d[c].x*b,d[c].y*b);a.closePath();a.fillStyle=this.color;a.fill()}a.restore()}a.restore()}};l.Yk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a?"#444444":"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.nv:"ulted"==a?x.impulse_blue:"white"==a?"white":"world"==a.slice(0,5)?x["world "+a.slice(5,6)+" lite"]:this.zp(a)};
l.Wh=function(a){Qb(-3,this.body.g.position)||a.aa(this.pg);for(var b=!1,c=0;c<this.i.de.length;c++)Jb(this.i.de[c],this.body.g.position)&&(b=!0);b?a.aa(this.rw):(this.ma()&&a.aa(.5),this.Yc()&&a.aa(this.kh),a.aa(this.pa))};l.$f=function(){};Cd.prototype=new Ga;Cd.prototype.constructor=Cd;function Cd(a,b,c,d,f){this.type="dumb_stunner";this.gi=!1;this.ha(a,b,c,d,f)};xc.prototype=new Ga;l=xc.prototype;l.constructor=xc;
function xc(a,b,c,d,f){void 0!==a&&(this.type="fighter",this.ha(a,b,c,d,f),this.cr=["frenzy"],null!==a&&(this.Ae=5,this.Lc=2E3,this.Dj=750,this.Le=[this.Lc,2*this.Lc],this.zA=.15,this.Qs=[!1,!1],this.qw=400,this.Il=0,this.yA=2.5*this.K,this.nv=this.color,this.Jd=!1,this.Os=10,this.lw=2,this.pg=5,this.nz=!1,this.fi=!0,this.AA=this.K,this.BA=2*this.K,this.me=0,this.dz=2500,"easy"==K&&(this.dz=3500),this.Cj=5,this.Ee="normal",this.wh=3,this.Ng=!1,this.cd=100,"easy"==K&&(this.cd=80),this.uj=!1,this.cE=
200,this.iq=0,this.kp=!1))}function Dd(a,b){var c=a.we+Math.PI/2*(b%2*2-1);return{x:a.body.g.position.x+a.BA*Math.cos(c)+a.AA*Math.cos(a.we),y:a.body.g.position.y+a.BA*Math.sin(c)+a.AA*Math.sin(a.we)}}l.zp=function(a){if("frenzy"==a)return"red"};l.Zk=function(){if(!this.N){if(this.Fe())return"stunned";if("frenzy"==this.Ee)return"frenzy";if(this.yi)return"silenced";if(this.Yc())return"gooed";if(yc(this))return"silenced";if(0<this.la.impulsed)return"impulsed"}return this.Ap()};
l.Xc=function(a){"normal"==this.Ee&&this.me>=this.Cj&&(ac("ffrenzy"),window.console.log("PLAYIN FRENZY"),this.Ee="frenzy",this.Le=[this.Dj,this.Dj],this.color="red",this.body.hf(5*G[this.type].Ba));if(!this.ma()&&0>=this.iq&&Q(this.body.g.position,this.q.body.g.position)<this.yA){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.cd*Math.cos(b),this.cd*Math.sin(b)),this.q.body.h.o);Qc(this.t);this.Il=this.qw;this.iq=this.cE}0<this.iq&&(this.iq-=a);"frenzy"==this.Ee&&
0>=this.me&&(this.Ee="normal",this.Le=[this.Lc,2*this.Lc],this.color=G[this.type].color,this.body.hf(G[this.type].Ba));for(b=0;b<this.Le.length;b++){if(0>=this.Le[b]&&!this.Qs[b]&&!this.ma()&&Qb(0,this.body.g.position)){var c=Dd(this,b);this.nz=Hb(c,this.q.body.g.position,this.i.se);var d=R(c,this.q.body.g.position);this.nz?(this.Le[b]="normal"==this.Ee?2*this.Lc:this.Dj,ac("fbullet"),"frenzy"==this.Ee?(this.me-=.5,c=new Ed(this.sa,c.x,c.y,this.i.xc,this.t,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),
d.aa(2)):(c=new Fd(this.sa,c.x,c.y,this.i.xc,this.t,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),d.aa(.5)),c.body.ia(d,c.body.h.o),this.i.ii.push(c),this.i.xc+=1):this.Qs[b]=!0}this.Qs[b]&&this.Le[b]<-this.zA*("normal"==this.Ee?this.Lc:this.Dj)&&(this.Le[b]="normal"==this.Ee?2*this.Lc+this.Le[b]:this.Dj,this.Qs[b]=!1);Qb(0,this.body.g.position)&&(this.Le[b]-=a)}"normal"==this.Ee&&!this.ma()&&this.me<this.Cj&&Qb(0,this.body.g.position)&&(this.me+=a/this.dz);0<this.Il&&(this.Il-=a)};l.$f=function(){};
l.Dd=function(a,b){if(!this.N){a.save();a.globalAlpha*=.7;if(0<this.me){for(var c=0;c<Math.floor(this.me);c++)a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.K*b,-Math.PI/2+2*Math.PI*(c+1)/this.Cj-Math.PI/24,-Math.PI/2+2*Math.PI*c/this.Cj+Math.PI/24,!0),a.strokeStyle="red",a.lineWidth=5,a.stroke();if(!this.ma()&&this.me<this.Cj){var c=Math.floor(this.me),d=this.me-c;a.beginPath();a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.K*b,-Math.PI/2+2*Math.PI*c/
this.Cj+Math.PI/24+(2*Math.PI/this.Cj-Math.PI/12)*d,-Math.PI/2+2*Math.PI*c/this.Cj+Math.PI/24,!0);a.lineWidth=5;a.strokeStyle="red";a.stroke()}}a.restore();for(c=0;c<this.Le.length;c++){var d=Dd(this,c),f="normal"==this.Ee?this.Lc:this.Dj,f=Math.max((f-this.Le[c])/f,0);if(0<f&&1>f){a.save();a.globalAlpha*=f;var g="frenzy"==this.Ee?"piercing_fighter_bullet":"fighter_bullet";this.we?Da(a,g,d.x*b,d.y*b,null,this.we):Da(a,g,d.x*b,d.y*b,null,this.body.ga());0<this.Le[c]&&0<f&&(a.beginPath(),a.arc(d.x*
b,d.y*b,this.K*b*1,-.5*Math.PI,-.5*Math.PI+2*Math.PI*f*.999),a.lineWidth=2,a.strokeStyle=this.color,a.stroke());a.restore()}else 0>this.Le[c]&&(f=1-Math.min((f-1)/this.zA,1),a.save(),a.globalAlpha*=f,g="frenzy"==this.Ee?"piercing_fighter_bullet":"fighter_bullet",this.we?Da(a,g,d.x*b,d.y*b,null,this.we):Da(a,g,d.x*b,d.y*b,null,this.body.ga()),a.beginPath(),a.arc(d.x*b,d.y*b,this.K*b*1,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=2,a.strokeStyle=this.color,a.stroke(),a.restore())}0<this.Il&&(c=
1-Math.abs(1-2*this.Il/this.qw),a.save(),a.globalAlpha*=Wb(.15,.85,c),a.beginPath(),a.strokeStyle=this.color,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.yA*b,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=3,a.stroke(),a.fillStyle=this.color,a.globalAlpha/=4,a.fill(),a.restore())}};l.Mt=function(){};l.Aw=Ga.prototype.Cc;l.Cc=function(a,b){this.Aw(a,b);this.Le[0]="normal"==this.Ee?this.Lc:this.Dj;this.Le[1]="normal"==this.Ee?2*this.Lc:this.Dj};
l.Wh=function(a){Qb(-3,this.body.g.position)||a.aa(this.pg);for(var b=!1,c=0;c<this.i.de.length;c++)Jb(this.i.de[c],this.body.g.position)&&(b=!0);b?a.aa(this.rw):("frenzy"!=this.Ee||this.ma()||a.aa(this.pg),this.ma()&&a.aa(.5),this.Yc()&&a.aa(this.kh),a.aa(this.pa))};
l.Tr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.K*this.wh){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.cd*Math.cos(a),this.cd*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.r.length;a++)if(this.i.r[a]!==this&&Q(this.body.g.position,this.i.r[a].body.g.position)<=this.K*this.wh){var b=R(this.body.g.position,this.i.r[a].body.g.position);this.i.r[a].body.ia(new b2Vec2(this.cd*Math.cos(b),this.cd*Math.sin(b)),this.i.r[a].body.h.o);this.i.r[a].open(1500)}};
l.Jf=function(a,b,c,d){d||this.open(this.Xj);var f=1.5;this.ma()||d||(f=.6);this.body.ia(new b2Vec2(f*b*Math.cos(c),f*b*Math.sin(c)),this.body.h.o);this.la.impulsed+=this.Ep;this.ve(a,b,c)};l.ve=function(){0<this.me&&(--this.me,0>this.me&&(this.me=0));this.ma()||(this.Il=this.qw)};Fd.prototype=new Ga;l=Fd.prototype;l.constructor=Fd;function Fd(a,b,c,d,f,g,h){void 0!==a&&(this.type="fighter_bullet",this.ha(a,b,c,d,f),null!==a&&(this.Wc=!1,this.Ae=5,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.cb(),this.ac.aa(this.pa),"easy"==K&&this.ac.aa(.5),this.Jd=!1,this.cp=100,"easy"==K&&(this.cp=50),this.ro=!1,this.Bu=150,"easy"==K&&(this.Bu=75),this.Zv=h,this.gw=!1,this.body.Dx(),this.Jd=!1,this.Cu=.33))}l.Nc=function(a){this.N=a;this.tb=this.eb;this.Jk=!0};
l.Re=function(a){if(!this.N)if(a===this.q){if(this.Nc("hit_player"),!this.ma()){ac("fbullethit");var b=this.body.p.Eb();b.cb();0<this.q.Yc()?b.aa(this.cp*this.Cu):b.aa(this.cp);this.q.body.ia(b,this.q.body.h.o);Qc(this.t)}}else if(!(!a.yz||a instanceof Fd||(this.Nc("hit_enemy"),a.id==this.Zv&&!this.gw||this.ma()))){ac("fbullethit");a instanceof xc&&(a.me=0);b=this.body.p.Eb();b.cb();var c=1;a.id==this.Zv?(c*=1.5,a.Yc()&&(c*=2)):a instanceof xc?c*=.7:a instanceof Gd&&(a.Un=a.Nw);b.aa(this.Bu*a.pa*
c);a.open(1500);a.body.ia(b,a.body.h.o)}};l.move=function(){this.Yc()?this.body.ia(new b2Vec2(.7*this.ac.x,.7*this.ac.y),this.body.h.o):this.body.ia(this.ac,this.body.h.o);this.Ke(R({x:0,y:0},this.ac))};l.Jf=function(a,b){var c=new b2Vec2(this.body.g.position.x-a.x,this.body.g.position.y-a.y);c.cb();c.aa(b);this.ac.Jg(c);this.gw=!0;this.open(this.Xj)};
l.Ar=function(){for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){this.Nc("kill");return}(-5>=this.body.g.position.x||this.body.g.position.x>=Gc/E+5||-5>=this.body.g.position.y||this.body.g.position.y>=Gc/E+5)&&this.Nc("kill")};l.$f=function(){};Hd.prototype=new Ga;l=Hd.prototype;l.constructor=Hd;function Hd(a,b,c,d,f){void 0!==a&&(this.type="goo",this.gi=!1,this.ha(a,b,c,d,f),this.Ae=2,this.Jd=!1,this.Ym=3,this.Xm=11,"easy"==K&&(this.Xm=10),this.rg=this.Ym,this.Jj=500,this.$k=2500,"easy"==K&&(this.$k=3500),this.Af="small",this.ne=0,this.kh=.2,this.Rf=!1,this.nh=6E3)}
l.Xc=function(a){this.body.ub(this.body.ga()+2*Math.PI*a/this.nh);0<this.ne&&(this.ne-=a);"expanding"==this.Af?0>=this.ne?(this.Af="big",this.rg=this.Xm,this.ne=this.$k):(a=(this.Jj-this.ne)/this.Jj,a=Wb(.15,.85,a),this.rg=this.Ym*(1-a)+a*this.Xm):"big"==this.Af&&0>=this.ne?(this.Af="shrinking",ac("goo"),this.ne=this.Jj):"shrinking"==this.Af&&(0>=this.ne?(this.Af="small",this.rg=this.Ym,this.ne=this.$k):(a=(this.Jj-this.ne)/this.Jj,a=Wb(.15,.85,a),this.rg=this.Ym*a+(1-a)*this.Xm));this.ma()?(this.body.hf(.3*
G[this.type].Ba),this.pa=.3*G[this.type].pa):(this.body.hf(G[this.type].Ba),this.pa=G[this.type].pa);this.oy()};l.oy=function(){!this.ma()&&Q(this.body.g.position,this.q.body.g.position)<this.rg&&this.$l(this.q);for(var a=0;a<this.i.r.length;a++)!this.ma()&&Q(this.body.g.position,this.i.r[a].body.g.position)<this.rg&&this.i.r[a].className!=this.className&&this.$l(this.i.r[a])};l.$f=function(){};l.$l=function(a){a.dv(100)};
l.Tk=function(a,b){this.ma()||(this.N||(a.beginPath(),a.strokeStyle=this.color,a.fillStyle=this.color,a.lineWidth=2,a.save(),a.globalAlpha*=.3,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.rg*b,0,1.998*Math.PI),a.stroke(),a.fill(),a.restore()),"big"==this.Af&&Aa(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.ne/this.$k))};
l.ve=function(){this.ma()||("shrinking"==this.Af?(this.ne=this.Jj-this.ne,this.Af="expanding"):"big"==this.Af?this.ne=this.$k:"small"==this.Af&&(this.ne=this.Jj,this.Af="expanding",ac("goo")))};l.Wh=function(a){"small"==this.Af||this.ma()||a.aa(this.kh);a.aa(this.pa)};Id.prototype=new Ga;l=Id.prototype;l.constructor=Id;function Id(a,b,c,d,f,g){if(void 0!==a){if(this.Ei=g)this.$=this.Ei.$;this.type="harpoonhead";this.ha(a,b,c,d,f);this.kp=this.Bl=!1}}l.Xc=function(){};l.ve=function(){this.Ei.Cc(this.Ei.qq)};l.Ke=function(a){this.we=a};l.$f=function(){};l.open=function(){};sc.prototype=new Ga;sc.prototype.constructor=sc;function sc(a,b,c,d,f){this.type="mote";this.gi=!1;this.ha(a,b,c,d,f);this.Wc=!1;this.Ae=5;this.Rf=!1;this.nh=2E3;this.uj=!0;this.Tm=!1;this.Zl=1;this.kd=3E3;"easy"==K&&(this.kd=2E3)}sc.prototype.$f=function(){this.ma()||this.q.Cc(this.kd,!0)};sc.prototype.Xc=function(a){this.body.ub(this.body.ga()+2*Math.PI*a/this.nh)};sc.prototype.Jf=function(a,b,c,d){this.ma()&&(this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o),d||this.open(this.Xj))};Gd.prototype=new Ga;l=Gd.prototype;l.constructor=Gd;function Gd(a,b,c,d,f){this.type="orbiter";this.gi=!0;this.og=500;this.ha(a,b,c,d,f);f&&(this.Wc=!1,this.Ae=5,this.mq=1.25*this.q.Vg,this.xs=1,this.te=18,this.Zm=!0,this.um=1,this.$v=18,this.aw=9,this.uj=!0,this.pg=2,this.wo=!1,this.As=50,this.aB=!0,this.UC=3,this.hA=[-1,1,-4,4,-8,8,-12,12,-16,16],this.Ov=4,this.Un=0,this.Nw=250,this.Xv=G[this.type].Ba,this.Tm=!1,this.Zl=.5,this.vC=200,this.Cr=100,this.gA=1.2*this.q.Vg,this.fA=!1,this.hz=2)}
l.Dd=function(){};
l.Xc=function(a){this.te=Q(this.body.g.position,this.q.body.g.position)<1.5*this.mq?this.aw:this.$v;this.Cr-=a;if(0>this.Cr){for(var b=!1,c=0;c<this.i.yh.length;c++)Jb(this.i.yh[c],this.body.g.position)&&(b=!0);this.ov=b;this.Cr=this.vC}0<this.Un?(this.Un-=a,this.Ba=3):this.Ba=this.Xv;Lc(this,this.q.body.g.position);!this.De&&Qb(0,this.body.g.position)&&(this.Cc(this.og,!0),this.De=!0);0<this.Eh&&(this.Eh-=a);Qb(0,this.body.g.position)||(this.De=!1,this.Cc(100,!0));this.ny=(this.wo=this.q.pj&&!uc(this.q,
this.body.g.position)||this.q.Fe()||this.q.ma()||0<this.q.$[4])&&!this.N&&this.path&&1==this.path.length&&this.path[0]==this.q.body.g.position&&!this.ma()&&this.De;this.uj=!this.ny};
l.cv=function(){if(this.wo)return Sb(this.t.Mb,this.body.g.position,this.q.body.g.position,this.t.i.hq);var a=R(this.q.body.g.position,this.body.g.position),b=this.hA,c=0;this.aB&&(this.xs*=-1);for(var d=!1,f=null,g=0;!d&&c<b.length;){for(var h=a+2*Math.PI/64*b[c]*this.xs,d=!0,h=new b2Vec2(this.q.body.g.position.x+Math.cos(h)*this.mq,this.q.body.g.position.y+Math.sin(h)*this.mq),k=0;k<this.i.yh.length;k++)if(Jb(this.i.yh[k],h)){d=!1;break}if(d)if(f=Sb(this.t.Mb,this.body.g.position,h,this.t.i.hq),
f.path){a:{h=f.path;for(k=0;k<h.length-1;k++)if(Mb(h[k],h[k+1],this.q.body.g.position)<this.gA){h=!1;break a}h=!0}if(!h&&(d=!1,g+=1,g>=this.Ov))break}else if(d=!1,g+=1,g>=this.Ov)break;if(d)return f;c+=1}if(this.t.ra)a={path:null,Xd:null};else if(Q(this.body.g.position,this.q.body.g.position)<this.gA){a=this.t.Mb;b=this.body.g.position;c=N[this.t.V].ya;d=null;f=0;g=R(this.body.g.position,this.q.body.g.position);for(h=0;h<c.length;h++)k=Ub(g,R(this.body.g.position,{x:c[h][0]/E,y:c[h][1]/E})),k=Math.abs(k-
g),k>f&&(f=k,d=c[h]);a=Sb(a,b,{x:d[0]/E,y:d[1]/E})}else a=Sb(this.t.Mb,this.body.g.position,this.q.body.g.position,this.t.i.hq);return a};
l.move=function(){if(!this.q.N&&!this.Fe()){this.Od+=1;if(null==this.path||this.Od>=this.te){var a=this.cv();if(!a.path)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a.path[a.length-1]==this.q.body.g.position||this.Od>=this.te||this.path&&!Hb(this.body.g.position,this.path[0],this.i.se))null!=a.path&&(this.path=a.path,this.oF=this.path[this.path.length-1]),this.Od=Math.floor(.1*Math.random()*this.te)}if(this.path){a=this.path[0];if(0==this.Od%4){for(;0<this.path.length&&
1>Q(a,this.body.g.position);)this.path=this.path.slice(1),a=this.path[0];if(!a||!Hb(this.body.g.position,a,this.i.se))return;Hb(this.body.g.position,this.q.body.g.position,this.i.se)&&this.oF==this.q.body.g.position&&(this.path=[this.q.body.g.position],a=this.path[0])}a&&this.ss(a)}}};l.Wh=function(a){this.ny?(a.aa(this.pg),a.aa(this.pa)):this.ov&&this.uj&&0<this.pv||this.Yc()?a.aa(this.rw):(this.Yc()&&a.aa(this.UC),a.aa(this.pa))};
l.ss=function(a){a=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);a.cb();this.Wh(a);this.body.ia(a,this.body.h.o)};l.$f=function(){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.As*Math.cos(a),this.As*Math.sin(a));this.q.body.ia(new b2Vec2(this.As*Math.cos(a),this.As*Math.sin(a)),this.q.body.h.o)};l.ve=function(){this.Un=this.Nw};l.vm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.sm=function(a,b,c){this.N||1==c&&0<this.jc&&!this.N&&!this.Fe()&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.jc/this.di)};l.tm=function(a){a.stroke();a.restore()};Ed.prototype=new Fd;Ed.prototype.constructor=Ed;function Ed(a,b,c,d,f,g,h){this.type="piercing_fighter_bullet";this.ha(a,b,c,d,f);null!==a&&(this.Wc=!1,this.Ae=5,this.Zv=h,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.cb(),this.ac.aa(this.pa),"easy"==K&&this.ac.aa(.5),this.Jd=!1,this.cp=100,"easy"==K&&(this.cp=50),this.gw=!1,this.body.Dx(),this.ro=!1,this.Cu=.33,this.Bu=150,this.Cu=.33)}Ed.prototype.Jf=function(){};Ed.prototype.Re=Fd.prototype.Re;tc.prototype=new Ga;l=tc.prototype;l.constructor=tc;function tc(a,b,c,d,f){this.type="slingshot";this.ha(a,b,c,d,f);this.Wc=!1;"easy"==K&&(this.pa*=.8);this.RE=50;this.Yu=!1;this.Ae=5;this.kh=.5;this.Jd=!1;this.kE=this.color;this.sq=!1;this.Yi=null;this.rq=0;this.SE=100;this.UE=1;this.Ai=0;this.HC=750;this.GC=100;this.uj=!1;this.cr=["empowered"];this.Xv=G[this.type].Ba;this.TE=6}l.yj=Ga.prototype.move;
l.move=function(){if(this.sq){if(!this.Fe()){var a=new b2Vec2(this.Yi.x-this.body.g.position.x,this.Yi.y-this.body.g.position.y);a.aa(this.UE);this.Yc()&&a.aa(this.kh);this.body.ia(a,this.body.h.o);a=R(this.body.g.position,this.Yi);this.body.ub(a)}}else this.yj()};l.Wh=function(a){this.Yc()&&a.aa(this.kh);this.Yu||a.aa(this.kh);a.aa(this.pa)};
l.Xc=function(a){if(this.sq&&0>=this.rq&&1>Q(this.Yi,this.body.g.position)||this.ma())this.sq=!1,this.Ba=this.Xv;!this.Yu&&Qb(1,this.body.g.position)&&(this.Yu=!0);this.Wc=0<this.Ai;this.color=0<this.Ai?"red":this.kE;this.FC=0<this.Ai&&!this.ma();0<this.rq&&(this.rq-=a);0<this.Ai&&(this.Ai-=a)};l.$f=function(){var a=R(this.body.g.position,this.q.body.g.position),a=new b2Vec2(Math.cos(a),Math.sin(a));0<this.Ai?a.aa(this.GC):a.aa(this.RE);this.q.body.ia(a,this.q.body.h.o)};
l.ve=function(){this.ma()||(this.Yi=this.body.g.position.Eb(),this.sq=!0,this.rq=this.SE,this.Ai=this.HC,this.Ba=this.TE,ac("sshot"))};l.Zk=function(){if(!this.N){if(this.Fe())return"stunned";if(this.yi)return"silenced";if(this.Yc())return"gooed";if(yc(this))return"silenced"}return this.Ap()};l.zp=function(a){if("empowered"==a)return"red"};l.Ap=function(){return!this.N&&0<this.Ai?"empowered":"normal"};
function Jd(a,b){var c=a.body.ga()+2*Math.PI/3*b;return{x:a.body.g.position.x+Math.cos(c)*a.K*3/4,y:a.body.g.position.y+Math.sin(c)*a.K*3/4}}l.Dd=function(a,b){if(this.sq&&!this.N){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.moveTo(this.Yi.x*b,this.Yi.y*b);var c=Jd(this,1);a.lineTo(c.x*b,c.y*b);c=Jd(this,2);a.moveTo(this.Yi.x*b,this.Yi.y*b);a.lineTo(c.x*b,c.y*b);a.stroke()}};Kd.prototype=new Ga;l=Kd.prototype;l.constructor=Kd;function Kd(a,b,c,d,f){this.type="spear";this.gi=!0;this.og=500;this.ha(a,b,c,d,f);this.pg=5;this.vq=30;"easy"==K&&(this.vq=40);this.Ae=5;this.bj=3E3;this.Zm=!0;this.um=1;this.Jd=!1;this.qz=this.Bl=!0}l.yj=Ga.prototype.move;l.move=function(){this.q.N||this.Fe()||(Hb(this.body.g.position,this.q.body.g.position,this.i.se)?(this.path=[this.q.body.g.position],this.ss(this.q.body.g.position)):this.yj())};
l.Wh=function(a){this.Wc&&a.aa(this.pg);this.Yc()&&a.aa(this.kh);a.aa(this.pa)};l.Xc=function(){this.Wc=!this.N&&this.path&&1==this.path.length&&!this.ma()&&this.De};l.$f=function(){if(!this.ma()){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.vq*Math.cos(a),this.vq*Math.sin(a));this.q.body.ia(new b2Vec2(this.vq*Math.cos(a),this.vq*Math.sin(a)),this.q.body.h.o)}};l.ve=function(){this.Cc(this.bj);this.bj>this.jc&&(this.jc=this.di=this.bj)};l.Dd=function(){};
l.vm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};l.sm=function(a,b,c){this.N||1==c&&0<this.jc&&!this.N&&!this.Fe()&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.jc/this.di)};l.tm=function(a){a.stroke();a.restore()};Ld.prototype=new Ga;Ld.prototype.constructor=Ld;function Ld(a,b,c,d,f){this.type="stunner";this.gi=!1;this.ha(a,b,c,d,f);f&&(this.Jd=!1,"normal"==K&&(this.pa*=1.3))};kd.prototype=new Ga;l=kd.prototype;l.constructor=kd;function kd(a,b,c,d,f){this.type="tank";this.gi=!1;this.ha(a,b,c,d,f);this.Wc=!1;this.cd=100;"easy"==K&&(this.cd=80);this.Ae=5;this.BC=this.Im=200;this.wh=6;"easy"==K&&(this.wh=5);this.nF=75;this.Ng=!1;this.xm=null;this.Rf=this.Jd=!1;this.nh=4E3;this.Bl=!0;this.Xj=500;this.cr=["volatile"];this.la["volatile"]=0;this.Zm=!0;this.um=1;this.xF=1500}
l.Xc=function(a){this.Wc=!this.ma();0<this.at&&(this.at-=a);0<this.la["volatile"]&&(this.la["volatile"]-=a)};l.xk=function(){this.color="red"};l.Mt=function(a){this.Ng&&(this.color="red",0>=this.Im&&!this.N&&(this.Nc(this.xm),this.Tr()),0<this.Im&&(this.Im-=a))};l.Ar=function(){for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){!this.ma()&&0<this.la["volatile"]?(this.Ng=!0,this.xm="kill"):0<this.la.open?this.Nc("kill"):this.Nc("accident");break}};
l.Jf=function(a,b,c,d){this.la.impulsed+=this.Ep;this.ve(a,b,c);d||this.open(this.Xj);this.Yc()?this.body.ia(new b2Vec2(1.3*b*Math.cos(c),1.3*b*Math.sin(c)),this.body.h.o):"easy"==K?this.body.ia(new b2Vec2(1.25*b*Math.cos(c),1.25*b*Math.sin(c)),this.body.h.o):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);0<this.at&&!this.N&&!this.Ng&&!this.ma()&&(this.Ng=!0,this.xm="kill")};l.ve=function(){this.la["volatile"]=this.xF};
l.Re=function(a){a instanceof kd&&(0<this.la["volatile"]&&!this.N&&!this.Ng&&!this.ma()?(this.Ng=!0,this.xm="kill"):this.at=this.nF);this.N||this.Ng||(a===this.q?this.ma()?this.Nc("hit_player"):(this.Ng=!0,this.xm="hit_player",Qc(this.t)):a instanceof Ga&&0<a.la.open&&this.open(a.la.open))};
l.Tr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.K*this.wh){var a=R(this.body.g.position,this.q.body.g.position),b=this.cd;this.q.body.ia(new b2Vec2(b*Math.cos(a),b*Math.sin(a)),this.q.body.h.o);"hit_player"!=this.xm&&Qc(this.t)}for(a=0;a<this.i.r.length;a++)this.i.r[a]!==this&&Q(this.body.g.position,this.i.r[a].body.g.position)<=this.K*this.wh&&(b=R(this.body.g.position,this.i.r[a].body.g.position),this.i.r[a].body.ia(new b2Vec2(this.cd*Math.cos(b),this.cd*Math.sin(b)),this.i.r[a].body.h.o),
this.i.r[a].open(1500))};
l.Dd=function(a,b){var c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0;a.save();a.globalAlpha*=1-c;this.Ng&&0<this.Im?(a.beginPath(),a.strokeStyle="red",a.lineWidth=5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.wh*(1-this.Im/this.BC)*b,0,1.998*Math.PI),a.stroke()):!this.ma()&&0<this.la["volatile"]&&(a.beginPath(),a.strokeStyle="red",a.lineWidth=2,a.globalAlpha*=.5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.wh*b,0,1.998*Math.PI),a.stroke());a.restore()};
l.vm=function(a){a.save();a.beginPath();a.lineWidth=2;a.globalAlpha*=.5;a.strokeStyle=G[this.type].color};l.sm=function(a,b){!this.N&&0>=this.la["volatile"]&&!this.ma()&&(a.moveTo(this.body.g.position.x*b+this.K*this.wh*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.wh*b,0,1.998*Math.PI))};l.tm=function(a){a.stroke();a.restore()};l.zp=function(a){if("volatile"==a)return"red"};
l.Zk=function(){if(this.N)return"volatile";if(!this.N){if(this.Fe())return"stunned";if(this.yi)return"silenced";if(0<this.la["volatile"])return"volatile";if(this.Yc())return"gooed";if(yc(this))return"silenced";if(0<this.la.impulsed)return"impulsed"}return this.Ap()};Md.prototype=new Ga;l=Md.prototype;l.constructor=Md;function Md(a,b,c,d,f){this.type="troll";this.gi=!0;this.og=1E3;this.ha(a,b,c,d,f);this.Jd=!1;this.pg=3;this.mi=400;this.On=4;"easy"==K&&(this.mi=600,this.On=3);this.Rf=this.uj=!1;this.nh=1E3;this.Ah=[];this.ty=250;this.Zm=!0;this.um=2;this.DA=1E3;"easy"==K&&(this.DA=750);this.Tm=!0;this.Kz=5E3;"easy"==K&&(this.Kz=2500)}
l.Xc=function(a){var b=(new Date).getTime();this.ma()||this.Ke(this.we+2*Math.PI*a/this.nh);b%(this.On*this.mi)<this.mi&&this.Cc(this.mi-b%(this.On*this.mi),!0);for(b=this.Ah.length-1;0<=b;b--)this.Ah[b].oh-=a,0>=this.Ah[b].oh&&this.Ah.splice(b,1);!this.De&&Qb(0,this.body.g.position)&&(this.Cc(this.og,!0),this.De=!0);0<this.Eh&&(this.Eh-=a);Qb(0,this.body.g.position)||(this.De=!1)};
l.Dd=function(a,b){if(!this.N&&!this.ma()){a.save();for(var c in this.Ah){a.beginPath();var d=this.Ah[c].oh/this.ty;a.globalAlpha*=Math.max(0,(1-2*Math.abs(d-.5))/.5);a.moveTo(this.Ah[c].object.body.g.position.x*b,this.Ah[c].object.body.g.position.y*b);a.lineTo(this.body.g.position.x*b,this.body.g.position.y*b);a.lineWidth=3;a.strokeStyle=this.color;a.stroke();a.globalAlpha/=Math.max(0,(1-2*Math.abs(d-.5))/.5)}a.restore()}};
l.Jf=function(a,b,c,d){!this.ma()&&this.De?(this.body.ia(new b2Vec2(.3*b*Math.cos(c),.3*b*Math.sin(c)),this.body.h.o),oc(this.q,this.DA),ac("pwheel"),this.Ah.push({object:this.q,oh:this.ty}),Qc(this.t)):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d||this.open(this.Xj);this.la.impulsed+=this.Ep};l.$f=function(){this.ma()||(oc(this.q,this.Kz),ac("pwheel"))};
l.vm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray");2==c&&(a.lineWidth=2,a.strokeStyle=this.color)};l.sm=function(a,b,c){this.N||(1==c&&0<this.jc&&!this.N&&!this.Fe()&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.jc/this.di),2==c&&(b=(new Date).getTime(),!this.ma()&&b%(this.On*this.mi)>this.mi&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,(b%(this.On*this.mi)-this.mi)/((this.On-1)*this.mi))))};
l.tm=function(a){a.stroke();a.restore()};l.Wh=function(a){Qb(-3,this.body.g.position)||a.aa(this.pg);a.aa(this.pa)};Nd.prototype=new Hd;Nd.prototype.constructor=Nd;function Nd(a,b,c,d,f){this.type="disabler";this.ha(a,b,c,d,f);this.Ae=2;this.Jd=!1;this.Ym=3;this.Xm=8;"easy"==K&&(this.Xm=8);this.rg=this.Ym;this.Jj=500;this.$k=2500;"easy"==K&&(this.$k=3500);this.Af="small";this.ne=0;this.Rf=!1;this.nh=6E3;this.kh=0}
Nd.prototype.oy=function(){!this.ma()&&Q(this.body.g.position,this.q.body.g.position)<this.rg&&this.$l(this.q);for(var a=0;a<this.i.r.length;a++)!this.ma()&&Q(this.body.g.position,this.i.r[a].body.g.position)<this.rg?this.i.r[a].className!=this.className&&this.$l(this.i.r[a]):"harpoon"==this.i.r[a].type&&(Q(this.i.r[a].Za.body.g.position,this.body.g.position)<this.rg||"engaged"==this.i.r[a].nb&&Q(this.i.r[a].Rc.body.g.position,this.body.g.position)<this.rg)&&this.$l(this.i.r[a])};
Nd.prototype.$l=function(a){"harpoonhead"==a.type?a.Ei.disable(100):a===this.q?(a.$[5]=Math.max(100,a.$[5]),a.Cc(100)):a.disable(100)};wc.prototype=new Ga;l=wc.prototype;l.constructor=wc;
function wc(a,b,c,d,f){if(void 0!==a){this.type="harpoon";var g=[];g.push(new b2Vec2(.3*Math.cos(0*Math.PI),.3*Math.sin(0*Math.PI)));g.push(new b2Vec2(.3*Math.cos(5*Math.PI/6),.3*Math.sin(5*Math.PI/6)));g.push(new b2Vec2(.3*Math.cos(7*Math.PI/6),.3*Math.sin(7*Math.PI/6)));this.gi=!0;this.og=1E3;this.ha(a,b,c,d,f);null!=a&&(this.Ae=2,this.pg=3,this.Cp=17,"easy"==K&&(this.Cp=13),this.Ij=null,this.nb="inactive",this.mz=6,"easy"==K&&(this.mz=4.5),this.$C=.33,this.iv=400,"easy"==K&&(this.iv=50),this.jv=
1.2,"easy"==K&&(this.jv=.6),this.Os=this.q.Vg,this.lw=2,this.mq=.8*this.Cp,this.$v=40,this.aw=20,this.te=40,this.xs=.5>Math.random()?1:-1,this.qq=500,this.aB=this.Jd=!1,this.Br=this.py=5,this.state="seek",this.Eu=this.qy=8,this.Rf=!1,this.Ov=4,this.hv=Math.sqrt(2)/2+Math.sqrt(6)/6-.4,a=Od(this),this.Za=new Id(this.sa,a.x,a.y,this.id+1E4,this.t,this),this.ZC=3,this.gv=null,this.Gr=1E3,this.Rc=null,this.CC=this.uj=!1,this.wo=!0,this.Tm=!1,this.Zl=1,"normal"==K&&(this.Zl=.8),this.hA=[0,-1,1,-2,2,-4,
4,-8,8,-12,12,-16,16,-20,20],this.Zm=!0,this.um=3,this.kp=!1)}}l.cv=Gd.prototype.cv;l.yj=Gd.prototype.move;l.$f=function(){};
l.move=function(){if("inactive"==this.nb||"engaged"==this.nb)if("engaged"==this.nb){var a=new b2Vec2(this.body.g.position.x-this.Rc.body.g.position.x,this.body.g.position.y-this.Rc.body.g.position.y);a.cb();a.aa(this.mz);this.Rc==this.q&&this.Yc()&&a.aa(this.$C);this.Rc.body.ia(a,this.body.h.o);this.Rc!=this.q&&(this.Rc.open(1500),"tank"==this.Rc.type&&(this.Rc.la["volatile"]=1500))}else null==this.path&&(this.Od=this.te),this.yj()};
function Od(a){return new b2Vec2(a.body.g.position.x+a.hv*G[a.type].K*Math.cos(a.we),a.body.g.position.y+a.hv*G[a.type].K*Math.sin(a.we))}l.Ke=function(a){--this.$m;0>=this.$m&&(this.body.ub(a),this.$m=this.oz,this.Za.body.ub(this.Za.we));this.we=a};
l.Xc=function(a){"inactive"==this.nb?Lc(this,this.q.body.g.position):"engaged"==this.nb?Lc(this,this.Rc.body.g.position):Lc(this,this.Za.body.g.position);this.ro="inactive"==this.nb;this.te=Q(this.body.g.position,this.q.body.g.position)<1.5*this.mq?this.aw:this.$v;if("inactive"==this.nb)this.Za.body.jj(Od(this)),this.Za.Ke(this.we);else if("fire"==this.nb){var b=R(this.body.g.position,this.Za.body.g.position);this.Za.Ke(b);1>this.Za.body.p.hg()&&(this.nb="retract")}else if("retract"==this.nb)this.ma()&&
Qb(0,this.body.g.position)||(b=R(this.Za.body.g.position,this.body.g.position),this.Za.body.ia(new b2Vec2(this.jv*Math.cos(b),this.jv*Math.sin(b)),this.Za.body.h.o),this.Za.Ke(Math.PI+b),Q(this.Za.body.g.position,this.body.g.position)<1.1*this.hv&&(this.nb="inactive",this.Cc(this.Gr,!0),this.Gr>this.jc&&(this.jc=this.di=this.Gr),this.gv=null));else if("engaged"==this.nb)this.Za.body.jj(new b2Vec2(-100,-100));else if("retract_ready"==this.nb){b=new b2Vec2(this.q.body.g.position.x-this.body.g.position.x,
this.q.body.g.position.y-this.body.g.position.y);b.cb();b.aa(2*this.q.hh);var c=this.Rc.body.g.position.Eb();c.po(b);this.Za.body.jj(c);b=R(this.body.g.position,this.Za.body.g.position);this.Za.Ke(b);this.nb="retract";this.Rc=null}0>=this.Eu&&(this.wo=!1,this.Eu=this.qy);--this.Eu;0<this.Br&&--this.Br;0>=this.Br&&((!Hb(this.body.g.position,this.q.body.g.position,this.i.se)||this.t.ra)&&!this.ma()&&this.De&&!this.N&&"inactive"==this.nb&&Qb(0,this.body.g.position)&&Q(this.body.g.position,this.q.body.g.position)<=
this.Cp&&(ac("hfire"),this.nb="fire",this.fv=R(this.Za.body.g.position,this.q.body.g.position.Eb()),this.Za.body.ia(new b2Vec2(this.iv*Math.cos(this.fv),this.iv*Math.sin(this.fv)),this.Za.body.h.o),this.Za.Ke(this.fv)),this.ma()&&"inactive"!=this.nb&&zc(this),"engaged"==this.nb&&(!Qb(1,this.Rc.body.g.position)||this.Rc.N||Q(this.Rc.body.g.position,this.body.g.position)<this.ZC)?zc(this):"engaged"==this.nb&&this.q.N&&zc(this),this.Br=this.py);0<this.Za.la.open&&(this.Za.la.open-=a)};
l.mA=function(a,b){this.Jk&&("hit_player"!=this.N||this.tb<this.eb-50)&&(this.Jk=!1,this.i.hp.push(a));return this.N&&0>this.tb?(this.i.up.push(a),!0):this.N?(this.tb-=b,this.Za.tb-=b,!0):!1};l.Wh=function(a){Qb(-3,this.body.g.position)||a.aa(this.pg);a.aa(this.pa)};
l.Nc=function(a){zc(this);this.N=a;this.tb=this.eb;this.Jk=!0;if("kill"==this.N&&!this.q.N&&(this.t.G.oe+=1,G[this.type].Wi?G[G[this.type].Wi].oe+=1:G[this.type].oe+=1,!this.i.ra)){var b=this.t.G.uf*this.Kc;D.ec&&Mc(this.t,b,this.color,this.body.g.position.x,this.body.g.position.y);this.t.G.df+=b;Nc(this.t);Oc(this.t)}"fade"!=this.N&&(Jc(this.i,this.type,this.body.g.position,this.body.p),this.xk(a),ac("sdeath"));this.Za.Nc("fade"==this.N?"fade":"accident")};
l.gh=function(a,b){var c=this.Yk(this.Zk());if(c!=this.color||this.N)a.save(),a.strokeStyle=c,a.lineWidth=3,a.globalAlpha*=.5,c=this.N?Math.min((this.eb-this.tb)/this.eb,1):0,this.N&&(a.globalAlpha*=1-c),a.beginPath(),"engaged"!=this.nb&&"retract_ready"!=this.nb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Za.body.g.position.x*b,this.Za.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Rc.body.g.position.x*b,this.Rc.body.g.position.y*
b)),a.stroke(),a.restore()};l.Dd=function(a,b){"engaged"!=this.nb&&"retract_ready"!=this.nb&&(this.Za.color=this.Yk(this.Zk()),this.Za.yi=this.yi,this.Za.la=this.la,this.Za.U(a,b))};l.vm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.globalAlpha*=.2);2==c&&(a.lineWidth=3,a.globalAlpha*=.5);3==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.sm=function(a,b,c){if(!this.N){1==c&&!this.ma()&&this.De&&"inactive"==this.nb&&(a.moveTo(this.body.g.position.x*b+this.Cp*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.Cp*b,0,1.998*Math.PI));if(2==c){if(this.Yk(this.Zk())!=this.color||this.N)return;"engaged"!=this.nb&&"retract_ready"!=this.nb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Za.body.g.position.x*b,this.Za.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,
this.body.g.position.y*b),a.lineTo(this.Rc.body.g.position.x*b,this.Rc.body.g.position.y*b))}3==c&&0<this.jc&&!this.N&&!this.Fe()&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.jc/this.di)}};l.tm=function(a){a.stroke();a.restore()};l.ve=function(){this.Cc(this.qq,!0);this.qq>this.jc&&(this.jc=this.di=this.qq)};function zc(a){"engaged"==a.nb&&(a.nb="retract_ready",a.gv=a.Rc.id)};var G={};
G.dumb_stunner={color:"#00ffff",sb:2.2,Ba:6,K:.5,pa:0,Kc:100,Wd:1,xe:!0,Gg:"stunner",Yb:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],Jr:[{type:"polygon",x:-.1,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],le:"YES",Ce:["On collision, stuns you for a short period"],ag:"stuns on collision",
className:Cd};
G.stunner={color:"#00ffff",sb:1.5,Ba:4,K:.5,pa:.42,Kc:100,Wd:1,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],Jr:[{type:"polygon",x:-.1,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],le:"YES",Ce:["On collision, stuns you for a short period"],Gg:"shocker",ag:"stuns on collision",
className:Ld};G.spear={color:"#f86003",sb:.7,Ba:4,K:.7,pa:.24,Kc:500,Wd:7,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.7,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)],[Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)]]}],le:"YES",Ce:["Will dive at you if it has line of sight"],ag:"charges on sight",Fg:"Charges you on sight. Hurls you backward on impact.",yg:"Silenced for two seconds on entering or re-entering stage. When Impulsed, silenced for five seconds.",className:Kd};
G.tank={color:"#6f27cf",sb:2.5,Ba:3,K:1,pa:1.5,Kc:1E3,Wd:8,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:1,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Uy:[{x1:.5,y1:.5,x2:-.5,y2:-.5},{x1:.5,y1:-.5,x2:-.5,y2:.5}],le:"YES",Ce:["Explodes on death or collision with player","Will explode on collision with another Tank if recently Impulsed","The explosion radius is outlined around the tank"],
ag:"explodes on death",className:kd};G.mote={color:"#ee42ae",sb:.5,Ba:3,K:.5,pa:.15,Kc:1E3,Wd:.5,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],le:"YES",Ce:["Cannot be Impulsed # # On collision, disarms you for a few moments","Other enemies can be impulsed into the mote"],ag:"unaffected by impulse",className:sc};
G.goo={color:"#e6c43c",sb:7,Ba:9,K:.5,pa:3.5,Kc:3E3,Wd:.25,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],Aj:[{type:"circle",x:0,y:0,X:1.3,Fu:!0}],le:"YES",Ce:["All units within its radius are slowed","When Impulsed, expands its radius for a few moments"],ag:"slows all nearby units",
className:Hd};
G.harpoon={color:"#00aa00",sb:5,Ba:6,K:.7,pa:4.5,Kc:3E3,Wd:6,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.7,ca:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],Aj:[{type:"polygon",x:-.1,y:0,X:.7,Fu:!1,ca:[[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)],[((Math.sqrt(2)+Math.sqrt(6))/2-.4)*Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4)-.4,Math.sin(1*
Math.PI/4)]]},{type:"polygon",x:-.1,y:0,X:.7,ca:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],Jr:[],le:"NO",Ce:["Fires its hook at you and # attempts to yank you in # # Can only fire through the void","The hook range is outlined # around the Harpoon","If you are hooked, # impulse the harpoon to get free","While the hook is detached from the Harpoon, it cannot move",
"During boss battles, will fire at any time"],ag:"hooks through walls",className:wc};
G.harpoonhead={color:"#00dd00",sb:1.2,Ba:6,K:G.harpoon.K*Math.sqrt(6)/3,pa:1.5,Kc:1E3,Wd:6,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:G.harpoon.K*Math.sqrt(6)/3,ca:[[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)]]}],le:"NO",Fg:"Shoots a harpoon which can latch onto you. Once you are latched, the Harpoon will attempt to drag you to your death.",yg:"In normal levels, harpoons can only fire through obstacles and are harmless up close. In boss levels, harpoons can fire at any time. Impulsing a harpoon silences it for 1 second. Harpoons will flee from you.",
description:"Shoots a harpoon that can latch onto you. Once you are latched, it will attempt to drag you to your death.",className:Id};
G.fighter={color:"#0000ff",sb:3,Ba:6,K:.75,pa:2.5,Kc:4E3,Wd:9,Gg:"hunter",xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.75,ca:[[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:.75,ca:[[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,Math.sqrt(2)]]},
{type:"polygon",x:0,y:0,X:.75,ca:[[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,-Math.sqrt(2)]]}],Ce:["Fires projectiles at you on sight # # Is weak to its own projectiles","When its rage meter is full, # the hunter moves faster and its bullets cannot be impulsed","Impulse the hunter to lower its rage meter"],ag:"weak to projectiles",le:"NO",Fg:"Fires bullets at you upon sight. Bullets fling you backwards on impact. For every 2 seconds that the Fighter is idle, it loads up a piercing bullet, which cannot be Impulsed.",
yg:"Normal bullets can be reflected to hit other enemies and even the Fighter itself.",className:xc};G.fighter_bullet={color:"#0000ec",sb:1,Ba:3,K:.3,pa:.5,Kc:0,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Fd};
G.piercing_fighter_bullet={color:"#ff0000",sb:1,Ba:3,K:.3,pa:1,Kc:0,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Ed};
G.disabler={color:"#cccccc",sb:8,Ba:9,K:.5,pa:5,Kc:5E3,Wd:.25,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/3),Math.sin(1*Math.PI/3)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(3*Math.PI/3),Math.sin(3*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)]]}],Aj:[{type:"circle",x:0,y:0,X:1.3,Fu:!0}],le:"YES",Ce:["Disables all units within its radius. # # Touching disabled units will not reset your multiplier.",
"When Impulsed, expands its radius for a few moments"],Gg:"equalizer",ag:"disables all nearby units",Fg:"Leaves behind a trail of crippling poison. Everything that passes through the poison is silenced.",yg:"Passing through goo will instantly slow you down, which may help you survive blasts from other enemies. Goos are not affected by each other.",className:Nd};
G.troll={color:"#159d31",sb:1.3,Ba:3,K:.7,pa:.38,Kc:4E3,Wd:2,Gg:"pinwheel",xe:!0,Yb:[{type:"polygon",x:0,y:0,X:1,ca:[[0,0],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408),Math.sqrt(52)/8*Math.sin(-.408)],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ca:[[0,0],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3)],[.25*Math.cos(3*Math.PI/
3),.25*Math.sin(3*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ca:[[0,0],[.25*Math.cos(3*Math.PI/3),.25*Math.sin(3*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3)],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)]]}],Jr:[{type:"polygon",x:-.2,y:0,X:1,ca:[[0,0],[.25*Math.cos(5*Math.PI/3+.36),.25*Math.sin(5*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+.36),Math.sqrt(52)/8*Math.sin(-.408+.36)],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/
3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ca:[[0,0],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3+.36)],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ca:[[0,0],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3+.36)],[.25*Math.cos(5*Math.PI/3+.22),
.25*Math.sin(5*Math.PI/3+.22)]]}],Ce:["On collision or if impulsed while spinning, # reverses your controls"],ag:"reverses your controls",le:"YES",Fg:"When active, impulsing the Troll will pull it towards you. Upon impact, reverses your movement and impulse controls.",yg:"The troll alternates between active and inactive every second.",className:Md};
G.slingshot={color:"#a0522d",sb:.2,Ba:7,K:1,pa:.65,Kc:5E3,Wd:10,xe:!0,Yb:[{type:"polygon",x:-.25,y:0,X:1,ca:[[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(2*Math.PI/3)/2,1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3)/2,1*Math.sin(4*Math.PI/3)/2]]},{type:"polygon",x:-.25,y:0,X:1,ca:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4]]},
{type:"polygon",x:-.25,y:0,X:1,ca:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)]]}],Ty:[[[1*Math.cos(0*Math.PI)/4-.25,1*Math.sin(0*Math.PI)/4],[.75*Math.cos(0*Math.PI)-.25,3*Math.sin(0*Math.PI)/4]]],le:"YES",Gg:"boomerang",Fg:"When Impulsed, it will hook onto the ground and slingshot back towards you, flinging you away if it hits you.",yg:"If the boomerang hits you while not slingshoting, it will still push you back a fair way.",
className:tc,Ce:["When Impulsed, latches onto its current position # and slingshots back at you","cannot be impulsed while latched"],ag:"slingshots when impulsed"};
G.orbiter={color:"red",sb:.3,Ba:15,K:.5,pa:.96,Kc:5E3,Wd:10,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3)+.4,Math.sin(2*Math.PI/3)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ca:[[Math.cos(4*Math.PI/3)+.4,Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ca:[[.4,0],[-.6,.3],[-1.6,0],[-.6,-.3]]}],Ty:[[[.5,0],[.2,0]]],Ce:["Intelligently avoids your Impulse # # Will charge at you opportunistically"],
ag:"intelligent and dangerous",le:"YES",Fg:"Locks onto you. Actively avoids your Impulse. Charges you if you've shot your Impulse the other way.",yg:"Intelligent and dangerous.",className:Gd};
G.deathray={color:"#dddddd",xz:"black",sb:6,Ba:6,K:1,pa:7.2,Kc:1E4,Wd:10,xe:!0,Yb:[{type:"polygon",x:0,y:0,X:1.5,ca:[[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*Math.PI/4)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:1.5,ca:[[.6*Math.cos(1*Math.PI/3)+.2,.6*Math.sin(1*Math.PI/3)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*
Math.PI/4)],[.8*Math.cos(1*Math.PI/3)+.2,.3*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1.5,ca:[[.8*Math.cos(5*Math.PI/3)+.2,.3*Math.sin(5*Math.PI/3)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.6*Math.cos(5*Math.PI/3)+.2,.6*Math.sin(5*Math.PI/3)]]}],Ce:["After firing, must recharge for a short period # # During this time, the deathray cannot move"],ag:"giant death ray",le:"NO",Fg:"While in turret mode, sends a devastating ray across the level every 2 seconds.",
yg:"Death rays will only enter turret mode after they are a certain distance away from the walls. Death rays take 1 seconds to enter or leave turret mode.",className:zd};
G["first boss"]={color:x["boss 1"],sb:4.5,Ba:8,K:3,pa:0,Kc:[1E6,5E6,15E6],Wd:10,Cf:!0,sf:8,Ff:6,Yb:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ip:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/
2),Math.sin(3*Math.PI/2)]]}],Lw:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],yv:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ev:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*
Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],le:"NO",Fg:"Shoots stunners, spears, and tanks at you. Can cast a global lighten, which causes everything to lighter and much easier to push.",yg:"The color of the boss's guns reflect what it is shooting. During the global lighten, the boss will shoot faster. Use this time to clear the field of enemies.",className:Zc};
G["second boss"]={color:x["boss 2"],sb:4.5,Ba:8,K:3,pa:0,Kc:[1E6,5E6,15E6],Wd:10,Cf:!0,Yb:[{type:"polygon",x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(2*Math.PI/4),Math.sin(2*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(6*Math.PI/4),Math.sin(6*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],ip:[{type:"polygon",
x:0,y:0,X:3,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[.5*Math.cos(2*Math.PI/4),.5*Math.sin(2*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[.5*Math.cos(6*Math.PI/4),.5*Math.sin(6*Math.PI/4)]]}],le:"NO",Fg:"Exerts a gravity on the field, pulling everything towards it. The closer to the boss, the stronger the pull. The boss has four gravity arms, inside which the gravity is doubled. The boss can also send a massive shockwave through the field.",yg:"Enemies that collide with the boss will be absorbed, increasing the boss's shockwave range. If you touch the boss, you will be flung away.",
className:ud};
G["third boss"]={color:"#C000FF",sb:2,Ba:8,K:4.5,pa:0,Wd:10,Kc:[1E6,5E6,15E6],Cf:!0,sf:16,Ff:6,Yb:[{type:"polygon",x:0,y:0,X:4.5,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)],[Math.cos(2*Math.PI/8),Math.sin(2*Math.PI/8)],[Math.cos(3*Math.PI/8),Math.sin(3*Math.PI/8)],[Math.cos(4*Math.PI/8),Math.sin(4*Math.PI/8)],[Math.cos(5*Math.PI/8),Math.sin(5*Math.PI/8)],[Math.cos(6*Math.PI/8),Math.sin(6*Math.PI/8)],[Math.cos(7*Math.PI/8),Math.sin(7*Math.PI/8)],[Math.cos(8*
Math.PI/8),Math.sin(8*Math.PI/8)],[Math.cos(9*Math.PI/8),Math.sin(9*Math.PI/8)],[Math.cos(10*Math.PI/8),Math.sin(10*Math.PI/8)],[Math.cos(11*Math.PI/8),Math.sin(11*Math.PI/8)],[Math.cos(12*Math.PI/8),Math.sin(12*Math.PI/8)],[Math.cos(13*Math.PI/8),Math.sin(13*Math.PI/8)],[Math.cos(14*Math.PI/8),Math.sin(14*Math.PI/8)],[Math.cos(15*Math.PI/8),Math.sin(15*Math.PI/8)]]}],ip:[{type:"polygon",x:0,y:0,X:4.5,ca:[[.8*Math.cos(1*Math.PI/3),.8*Math.sin(1*Math.PI/3)],[.6*Math.cos(2*Math.PI/3),.6*Math.sin(2*
Math.PI/3)],[.6*Math.cos(4*Math.PI/3),.6*Math.sin(4*Math.PI/3)],[.8*Math.cos(5*Math.PI/3),.8*Math.sin(5*Math.PI/3)]]}],Rx:[{type:"polygon",x:0,y:0,X:2,ca:[[0,0],[Math.cos(0*Math.PI/8),Math.sin(0*Math.PI/8)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)]]}],le:"NO",Fg:"Has six turrets which fire bullets. Can cast a global silence and enter berserk mode, during which its attack speed is doubled.",yg:"Turrets which enter an obstacle cannot attack. Bullets can be reflected by Impulse to hit other enemies, including the boss.",
className:ld};
G["fourth boss"]={color:"#ff0000",sb:3,Ba:8,K:4,pa:0,Wd:10,Kc:[1E6,5E6,15E6],Cf:!0,sf:17,Ff:6,Yb:[{type:"polygon",x:0,y:0,X:4,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],tj:2,hy:[{type:"polygon",x:0,y:0,X:2,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/
5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],ip:[{type:"polygon",x:0,y:0,X:2,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],le:"NO",Fg:"Periodically spawns capsules. Has a thin laser which sweeps around the field. When the sweep laser hits a capsule, the capsule spawns a large number of enemies. The boss has two additional lasers, one which paralyzes and one which exerts massive force.",
yg:"The sweep laser can be blocked, preventing capsules from spawning enemies.",className:Sc};G["boss four attacker"]={color:"white",sb:1.5,Ba:1,vz:.1,K:2.2,pa:360,Wd:10,Kc:[1E6,5E6,15E6],Yb:[{type:"polygon",x:0,y:0,X:.1,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Xc};
G["boss four spawner"]={color:"rgb(0, 255, 0)",sb:4,Ba:12,vz:.1,K:1,pa:0,Kc:5E3,Yb:[{type:"polygon",x:0,y:0,X:.1,ca:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Uc};var Pd={stunner:500,spear:250,tank:150,mote:150,goo:50,harpoon:50,disabler:50,fighter:50,slingshot:50,troll:50,deathray:25,orbiter:50};
function Qd(){for(var a in G)if(G[a].xe){var b=new G[a].className(null,0,0,0,null),c=G[a],d={},f=b.Yb,g=b.jF.concat(b.cr);for(index in g){var h=g[index],k=document.createElement("canvas");k.width=2*G[b.type].K*b.Rm*E;k.height=2*G[b.type].K*b.Rm*E;var n=k.getContext("2d"),q=b.Yk(h);q||(q=b.color);var p=G[b.type].K*Ga.prototype.Rm,t=G[b.type].K*Ga.prototype.Rm;n.translate(p*E,t*E);Ca(n,h,f,b.type,q);n.translate(-p*E,-t*E);d[h]=k}c.images=d}};function Rd(a,b,c){this.ha(a,b,c)}Rd.prototype.ha=function(a,b,c){this.cj=a;this.color=b;this.zC=c};Rd.prototype.oa=function(){};Rd.prototype.U=function(a,b){a.beginPath();a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=20;a.shadowColor=this.color;a.moveTo(this.cj[0].x*b,this.cj[0].y*b);for(var c=1;c<this.cj.length;c++)a.lineTo(this.cj[c].x*b,this.cj[c].y*b);a.closePath();a.fillStyle=this.zC;a.strokeStyle=this.color;a.lineWidth=6;a.stroke();a.fill();a.shadowBlur=0};function Sd(a,b,c,d,f,g,h){this.ha(a,b,c,d,f,g,h)}Sd.prototype.ha=function(a,b,c,d,f,g,h){this.i=a;this.Au=a.yh;this.de=a.de;b&&(this.kA=b,this.ca=c,this.Rs=g,this.hB=h);this.Nj=(new Date).getTime()};function Td(a,b,c,d){var f;if(f=Hb(b,c,a.kA,d)){if(!(d=c.p_n!=d))a:{a=a.de[c.p_n];d=a.length-1;for(f=0;f<a.length;f++){if(Ib(b,c,a[f],a[d])){d=!1;break a}d=f}d=!0}f=d}return f}
function Sb(a,b,c,d){if(Hb(b,c,a.kA)&&Hb(b,c,a.i.se))return{path:[c],Xd:Q(b,c)};for(var f=null,g=null,h=0;h<a.Au.length;h++)Jb(a.Au[h],b)&&(f=h),Jb(a.Au[h],c)&&(g=h);var k=null,n=null,q=a.hB[50*Math.floor(b.x*E/50)+" "+50*Math.floor(b.y*E/50)],p=a.hB[50*Math.floor(c.x*E/50)+" "+50*Math.floor(c.y*E/50)];if(q){for(var t=[],h=0;h<q.length;h++)Td(a,b,a.ca[q[h]],f)&&t.push(q[h]);q=t}if(!q||0==q.length)for(q=[],h=0;h<a.ca.length;h++)Td(a,b,a.ca[h],f)&&q.push(h);if(p){f=[];for(h=0;h<p.length;h++)Td(a,c,
a.ca[p[h]],g)&&f.push(p[h]);p=f}if(!p||0==p.length)for(p=[],h=0;h<a.ca.length;h++)Td(a,c,a.ca[h],g)&&p.push(h);for(h=0;h<q.length;h++)for(g=0;g<p.length;g++)if(f=q[h]==p[g]?0:a.Rs[q[h]][p[g]].b,null!=f&&(f=Q(b,a.ca[q[h]])+f+Q(a.ca[p[g]],c),!k||f<k))k=f,n=q[h]==p[g]?[q[h]]:a.Rs[q[h]][p[g]].a;if(!n)return{path:null,Xd:null};d&&(d=Math.floor(Math.random()*q.length*p.length),h=Math.floor(d/p.length),g=d%p.length,Q(b,5>a.ca[n[0]])&&(h=q.indexOf(n[0])),0!=q.length*p.length&&(f=q[h]==p[g]?0:a.Rs[q[h]][p[g]].b,
null!=f&&(f=Q(b,a.ca[q[h]])+f+Q(a.ca[p[g]],c),d=R(b,a.ca[n[0]]),t=R(b,a.ca[q[h]]),f<1.2*k&&Vb(d,t)<3*Math.PI/8&&!Hb(a.ca[n[0]],a.ca[q[h]])&&(k=f,n=q[h]==p[g]?[q[h]]:a.Rs[q[h]][p[g]].a))));q=[];for(h=0;h<n.length;h++)q.push(a.ca[n[h]]);q.push(c);return 2==q.length&&Hb(b,c,a.i.se)?{path:[c],Xd:Q(b,c)}:{path:q,Xd:k}};var Gc=0,Hc=0,X=0,O=0,P=0,Ud=null,Vd=null,Ge=null,Y=null,He=null,E=15,Ie=0,S=null,Je=null,Ke="impulse_save_data",D,K,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,bc=null,Ue=null,yd=!1,Ve,We,Xe,Ye,Ze,$e,af,bf,cf,df,ef=!1,ff=!1;"localhost"===window.location.host&&(ff=!0);
window.impulse_main=function(){b2Vec2=m.ba.Math.mg;b2AABB=m.v.xo;b2BodyDef=m.l.am;b2Body=m.l.ke;b2FixtureDef=m.l.gm;b2Fixture=m.l.fm;b2World=m.l.Qe;b2MassData=m.v.Ua.No;b2PolygonShape=m.v.Ua.ui;b2CircleShape=m.v.Ua.qj;b2DebugDraw=m.l.Oe;b2MouseJointDef=m.l.L.jm;b2ContactListener=m.l.Ao;Gc=1200;Hc=600;X=200;O=Gc-2*X;P=Hc;Vd=document.getElementById("canvas");var a=document.getElementById("canvas_container");Vd.width=Gc;Vd.height=Hc;a.style.width=Gc+"px";a.style.height=Hc+"px";Ge=document.getElementById("bg_canvas");
a=document.getElementById("bg_canvas_container");Ge.width=Gc;Ge.height=Hc;a.style.width=Gc+"px";a.style.height=Hc+"px";Ud=Vd.getContext("2d");Y=Ge.getContext("2d");window.addEventListener("keydown",gf,!1);window.addEventListener("keyup",hf,!1);window.addEventListener("click",jf,!1);window.addEventListener("mousedown",kf,!1);window.addEventListener("mouseup",Lf,!1);window.addEventListener("mousemove",Mf,!1);window.addEventListener("resize",Nf,!1);window.oncontextmenu=function(){return!1};Nf();Of();
Qd();wa=qb();Pf();xa=[];za();bc=new Zb;S=new Qf;Ie=(new Date).getTime();Rf()};
function Nf(){var a,b;a=800;b=600;document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth,b=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight);Gc<a?(offset_left=(a-Gc)/2,canvas_container.style.left=Math.round(offset_left)+"px",bg_canvas_container.style.left=
Math.round(offset_left)+"px"):offset_left=0;Hc<b?(offset_top=(b-Hc)/2,canvas_container.style.top=Math.round(offset_top)+"px",bg_canvas_container.style.top=Math.round(offset_top)+"px"):offset_top=0;message.style.display=""}function Pf(){var a=document.createElement("canvas");a.width=O;a.height=P;Ve=a;a=document.createElement("canvas");a.width=O;a.height=P;We=a;a=document.createElement("canvas");a.width=O;a.height=P;Xe=a}
function Sf(a,b,c){Ye!=a&&(Ze=Ue=b,b=We.getContext("2d"),"#"==a.substring(0,1)?(b.fillStyle=a,b.fillRect(0,0,O,P)):Bb(b,0,O,P,a),$e=c,af=a)}function Tf(a,b){var c=Ve.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Bb(c,0,O,P,a);bf=b;Ye=a;Y.clearRect(0,0,canvas.width,canvas.height);Y.fillStyle="#000";Y.fillRect(0,0,canvas.width,canvas.height);Y.globalAlpha=bf;Y.drawImage(Ve,0,0,O,P,X,0,O,P);Y.globalAlpha=1}
function Uf(a){if(0<Ze){var b=Ze/Ue;Y.clearRect(0,0,canvas.width,canvas.height);Y.fillStyle="#000";Y.fillRect(0,0,canvas.width,canvas.height);Y.globalAlpha=b*bf;Y.drawImage(Ve,0,0,O,P,X,0,O,P);Y.globalAlpha=(1-b)*$e;Y.drawImage(We,0,0,O,P,X,0,O,P);Y.globalAlpha=1;Ze-=a}else null!=Ue&&(Ue=null,Tf(af,$e))}
function Rf(){var a=(new Date).getTime();Ud.globalAlpha=1;dt=a-Ie;S.oa(dt);null!=Je&&Je.oa(dt);null!=He&&(df-=dt,0>df&&(He=null));S instanceof Vf?S instanceof Vf&&S.ready&&(1!=S.zoom?(Ud.fillStyle=S.zi,Ud.fillRect(X,0,O,P)):Ud.clearRect(X,0,O,P)):Ud.clearRect(0,0,canvas.width,canvas.height);if(S instanceof Vf){S.U(Ud,Y);Ud.save();Wf(S,Ud);for(var b=0;b<xa.length;b++)xa[b].U(Ud);Ud.restore()}else Ud.fillStyle="black",Ud.fillRect(0,0,X,Hc),Ud.fillRect(Gc-X,0,X,Hc),Ud.translate(X,0),S.U(Ud,Y),Ud.translate(-X,
0);null!=Je&&(Ud.globalAlpha=1,Je.U(Ud));if(null!=He){b=Ud;b.save();var c=df/cf;b.globalAlpha=.2>c?5*b.globalAlpha*c:.9<c?10*b.globalAlpha*(1-c):1;He.U(b);b.restore()}Ie=a;setTimeout(Rf,Math.max(33-((new Date).getTime()-a),1))}function Xf(a,b,c,d){He=new Yf(a,c?c:"white",d?d:0);Zf(He,Gc/2,Hc-10-He.m);He.visible=!0;df=cf=b}function Mf(a){a=Nb(a);Je&&Je.Fa(a.x,a.y);if(S instanceof Vf){S.Fa(a.x,a.y);for(var b=0;b<xa.length;b++)xa[b].Fa(a.x,a.y)}else S.Fa(a.x-X,a.y)}
function kf(a){a.preventDefault();var b=Nb(a);0==a.button&&(Je?Je.xg(b.x,b.y):S instanceof Vf?S.xg(b.x,b.y):S.xg(b.x-X,b.y))}function Lf(a){a.preventDefault();var b=Nb(a);0==a.button&&(Je?Je.ah(b.x,b.y):S instanceof Vf?S.ah(b.x,b.y):S.ah(b.x-X,b.y))}function jf(a){a.preventDefault();var b=Nb(a);if(0==a.button)if(Je){if(Je.Pa(b.x,b.y),S instanceof Vf)for(a=0;a<xa.length;a++)xa[a].Pa(b.x,b.y)}else if(S instanceof Vf){for(a=0;a<xa.length;a++)xa[a].Pa(b.x,b.y);S.Pa(b.x,b.y)}else S.Pa(b.x-X,b.y)}
function $f(){return document.RC&&null!==document.RC||document.mozFullScreen||document.webkitIsFullScreen}function ag(){var a=$f(),b=document.documentElement;a?document.exitFullscreen?document.exitFullscreen():document.PD?document.PD():document.webkitExitFullscreen&&document.webkitExitFullscreen():b.requestFullscreen?b.requestFullscreen():b.QD?b.QD():b.webkitRequestFullscreen&&b.webkitRequestFullscreen();Je&&Je instanceof bg&&(Je.Zr.Pg.checked=!a)}
function cg(){if(bc.Ui){var a=bc;a.Ui=!1;D.Sv=!1;fc();a.cc&&(a.Mc[a.cc].ih(D.Ek),a.ak[a.cc]=!0);bc.Nm=!1;D.Nm=!1}else a=bc,a.Ui=!0,D.Sv=!0,fc(),a.cc&&(a.Mc[a.cc].ih(0),a.ak[a.cc]=!1),bc.Nm=!0,D.Nm=!0;fc();if(Je&&Je instanceof bg){var a=Je,b=bc.Ui;a.Pr.Wc=b;a.us.Wc=b}}function gf(a){a=null==a?window.event.keyCode:a.keyCode;a==va.vt&&0==ef&&(ef=!0,Xf("god_mode_alert",2500,"white",0),S instanceof dg&&eg(S));a==va.At&&cg();a==va.rt&&ag();Je?Je.Je(a):S.Je(a)}
function hf(a){a=null==a?window.event.keyCode:a.keyCode;Je&&Je.gq(a);S.gq(a)}
function Of(){var a={};void 0===localStorage[Ke]||null===localStorage[Ke]?(Me=!0,a.difficulty_mode="easy"):(a=JSON.parse(localStorage[Ke]),Me=0==a.first_time?!1:!0);void 0!==a.hard_mode_unlocked?(Ne=a.hard_mode_unlocked)||(K="easy"):(Ne=!1,Le&&Le.easy&&void 0!==Le.easy["world 4"]&&(Ne=!0));a.levels||(a.levels={});a.enemies_seen||(a.enemies_seen={});a.enemies_killed||(a.enemies_killed={});a.world_rankings||(a.world_rankings={easy:{},normal:{}});var b={Qr:100,Ek:100,Ur:!0,ec:!0,wG:!1,ts:!1,gs:!0,ji:!1,
Gb:"right",wc:"mouse"};a.options||(a.options={});a.quests||(a.quests=[]);for(var c in b)a.options.hasOwnProperty(c)||(a.options[c]=b[c]);a.save_data||(a.save_data={easy:{},normal:{}});Oe=a.save_data;K=a.difficulty_mode?a.difficulty_mode:"normal";Pe=a.total_kills?a.total_kills:0;Qe=a.tutorial_shown?a.tutorial_shown:[];D=a.options;Re=a.quests;fg("easy",a);fg("normal",a);Le=a.world_rankings;for(difficulty in Le)for(world in Le[difficulty])b=Le[difficulty][world],"string"===typeof b&&(c=gg(b),hg(c)),
b.rank&&(c=gg(b.rank),hg(c));for(s in G)G[s].Bg=a.enemies_seen[s]?a.enemies_seen[s]:0,G[s].oe=a.enemies_killed[s]?a.enemies_killed[s]:0;ig("easy");ig("normal")}
function fg(a,b){for(s in N)if("HOW TO PLAY"!=s.slice(0,11))if("undefined"===typeof N[s].Ja&&(N[s].Ja={}),N[s].Ja[a]={},b.levels.hasOwnProperty(s)&&b.levels[s].save_state&&b.levels[s].save_state[a])if(N[s].Ja[a].Sc=b.levels[s].save_state[a].high_score,N[s].Ja[a].Bg=b.levels[s].save_state[a].seen,N[s].Ja[a].Wa=b.levels[s].save_state[a].best_time,"HIVE"==s.slice(0,4)){for(var c=0;N[s].Ja[a].Sc>=N[s].za[a][c];)c+=1;N[s].Ja[a].bb=c}else N[s].Ja[a].bb=1E3>N[s].Ja[a].Wa?3:0;else N[s].Ja[a].Sc=0,N[s].Ja[a].bb=
0,N[s].Ja[a].Bg=!1,N[s].Ja[a].Wa=1E3}function fc(){var a={levels:{}};jg("easy",a);jg("normal",a);a.enemies_seen={};a.enemies_killed={};for(s in G)a.enemies_seen[s]=G[s].Bg,a.enemies_killed[s]=G[s].oe;a.total_kills=Pe;a.difficulty_mode=K;a.world_rankings=Le;a.save_data=Oe;a.options=D;a.first_time=Me;a.hard_mode_unlocked=Ne;a.tutorial_shown=Qe;a.quests=Re;localStorage[Ke]=JSON.stringify(a)}
function jg(a,b){for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&(b.levels.hasOwnProperty(s)||(b.levels[s]={},b.levels[s].save_state={}),b.levels[s].save_state[a]={},b.levels[s].save_state[a].high_score=N[s].Ja[a].Sc,b.levels[s].save_state[a].best_time=N[s].Ja[a].Wa,b.levels[s].save_state[a].seen=N[s].Ja[a].Bg)}function ig(a){var b=0;for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&N[s].Ja[a]&&(b+=N[s].Ja[a].bb);Se=0;for(s in Pd)G[s].oe>=Pd[s]&&(Se+=1);"undefined"===typeof Te&&(Te={});Te[a]=b+Se}
function kg(a){Oe[K]=a;fc()}function ic(){for(var a=3,b=0;b<Re.length;b++){var c=Re[b];Eb[c]&&-1!=Eb[c].xb.indexOf("life")&&(a+=1)}return a}function jc(){for(var a=0,b=0;b<Re.length;b++){var c=Re[b];Eb[c]&&-1!=Eb[c].xb.indexOf("ult")&&(a+=1)}return a}function kc(){for(var a=10,b=0;b<Re.length;b++){var c=Re[b];Eb[c]&&-1!=Eb[c].xb.indexOf("spark")&&(a+=1)}return a}
function lg(){for(var a=null,b=0;b<sa.length;b++)0<sa[b].Vc&&(sa[b].Vc<a||null==a)&&(a=sa[b].Vc);for(b=0;b<ta.length;b++)0<ta[b].Vc&&(ta[b].Vc<a||null==a)&&(a=ta[b].Vc);for(b=0;b<ua.length;b++)0<ua[b].Vc&&(ua[b].Vc<a||null==a)&&(a=ua[b].Vc)}function Pc(a){-1==Re.indexOf(a)&&(Re.push(a),fc(),Xf("quest_"+a,2500,"white",0))}function mg(a){return 2==a?.5:3==a?.4:.3};function ng(a,b,c,d,f,g,h,k){this.type=a;this.Vk=b;this.uq=c;this.tq=d;this.Vs=f;this.XD=g;this.WD=h;this.MD=k;this.Jl=0==this.Vk?1E3*this.uq:1}ng.prototype.oa=function(a,b){b>this.Vk&&(this.Jl-=a)};function og(a,b){this.ha(a,b)}l=og.prototype;
l.ha=function(a,b){this.n=b.n;this.bn=b;this.t=null;this.Zi=a.Zi;this.Dl=!1;this.hw=500;"easy"==K&&(this.Pm=a.Hb);this.Pm?this.uF=!0:this.Pm=a.r;"easy"==K&&(this.Qa=a.mc);this.Qa?this.vF=!0:this.Qa=a.Qa;this.Pk={};this.V=a.V;this.ep=a.Rg;this.Rg=[];this.Iu=!1;this.Bh=0;this.Hk=a.Hk;"easy"==K&&(this.La=a.HA);this.La||(this.La=a.La);this.hq=a.hq;this.$i=a.ib;"easy"==K&&a.jA&&(this.$i=a.jA);this.ib=this.$i;this.ya=a.ya;pg(this);this.ws=a.ws;"easy"==K&&(this.Ka=a.Hf);this.Ka||(this.Ka=a.Ka);this.bs=a.bs;
this.color=x["world "+this.bn.n];this.zi=x["world "+this.bn.n+" dark"];this.Gc=x["world "+this.bn.n+" lite"];this.I=x["world "+this.bn.n+" bright"];this.ra="BOSS"==this.V.slice(0,4);this.ra||(this.Fz=parseInt(this.V.slice(this.V.length-1,this.V.length)),this.za=a.za[K]);this.xh=!1;this.Oa=a.Oa;this.yh=[];this.de=[];this.Yh=[];this.se=[];this.YD=[];this.yf=[];this.zq=0;this.ND=20;this.Ej=!1;this.Sy={stunner:Ld,spear:Kd,tank:kd,mote:sc,goo:Hd,disabler:Nd,troll:Md,fighter:xc,harpoon:wc,orbiter:Gd,slingshot:tc,
deathray:zd,"first boss":Zc,"second boss":ud,"third boss":ld,"fourth boss":Sc,"boss four spawner":Uc};this.Fc=a.Fc?{x:a.Fc.x/E,y:a.Fc.y/E}:{x:this.$i.x/E,y:this.$i.y/E};this.Xk=4;this.SC=300;this.ez=1E3;this.Fj=null;this.Yd=[];this.zf=this.Wk=1E3;this.xp=2E3;this.as=5;this.reset();this.yr={};this.PC=null;this.cz=0};
l.reset=function(){this.hc=this.t&&this.t.hc?!0:!1;this.Dl=!1;this.r=[];this.yf=[];this.xc=0;this.Ys=this.ld=200;this.Sm=1;this.Ej=!1;this.fq=0;this.tC=3;this.Og=null;this.xh=this.gy=!1;this.Bi={};for(s in this.Pm){var a=this.Pm[s];this.Bi[s]=new ng(s,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);this.Pk[s]=0}this.hp=[];this.up=[];this.ii=[];this.Eg=[];this.wz=!1;this.WE=this.ik=null;this.XE=1E4;this.bq=this.Gf=null;this.eA=1E4};
function qg(a){var b=Math.floor(Math.random()*a.La.length);a.Gf={x:a.La[b][0],y:a.La[b][1]};for(var c={x:a.t.q.body.g.position.x*E,y:a.t.q.body.g.position.y*E};125>Q(c,a.Gf)||a.ik&&a.Gf.x==a.ik.x&&a.Gf.y==a.ik.y;)b+=1,b%=a.La.length,a.Gf={x:a.La[b][0],y:a.La[b][1]};a.bq=a.eA}
l.oa=function(a){!this.ra&&0<this.La.length&&(this.bq-=a,null==this.Gf||0>this.bq?qg(this):25>Q({x:this.t.q.body.g.position.x*E,y:this.t.q.body.g.position.y*E},this.Gf)&&(ac("sparks"),this.t.G.vh+=5,this.t.G.uf=this.t.G.vh+Math.floor(this.t.G.ef/10),Mc(this.t,"x"+this.t.G.uf,"white",this.Gf.x/E,this.Gf.y/E,2E3),qg(this)));null!=this.Fj&&(0<this.Fj?this.Fj-=a:(Y.translate(X,0),this.Ue(Y),Y.translate(-X,0),this.Fj=null));this.Dl&&(this.Ls-=a);this.Ej&&this.vn(a);0>=this.fq&&1>this.eq?this.eq=Math.min(1,
this.eq+a/1E3):0<this.fq&&0<this.eq&&(this.eq=Math.max(0,this.eq-a/1E3));0<this.fq&&(this.fq-=a);for(var b=0;b<this.Rg.length;b++)this.Rg[b].oa(a);this.hp=[];this.ii=[];this.up=[];for(b=0;b<this.r.length;b++)this.r[b].oa(b,a);for(;0<this.hp.length;)b=this.hp.pop(),this.t.sa.bx(this.r[b].body),this.r[b]instanceof wc&&this.t.sa.bx(this.r[b].Za.body),this.r[b]==this.Og&&(this.xh=!0);for(b=this.yf.length-1;0<=b;b--)this.yf[b].oa(a),0>=this.yf[b].js&&(this.yf.splice(b,1),this.zq-=4);for(;0<this.up.length;){b=
this.up.pop();--this.Pk[this.r[b].type];if("goo"==this.r[b].type||"disabler"==this.r[b].type){var c=this.Bi[this.r[b].type];c.Jl=1E3*Math.max(c.uq-(this.t.G.ef-c.Vk)/60*c.tq,c.Vs)}this.r.splice(b,1)}for(;0<this.ii.length;)b=this.ii.pop(),rg(this,b);if(!this.wz)this.Hi(),this.wz=!0;else if("HIVE 0-3"!=this.V||!this.t.Gj){if(!this.ra){var b=[],d;for(d in this.Bi){c=this.Bi[d];c.oa(a,this.t.G.ef);var f=this.t.G.ef;if(0>=c.Jl){c.Jl+=1E3*Math.max(c.uq-(f-c.Vk)/60*c.tq,c.Vs);var g=0;0<c.tq&&(g=2*Math.max(0,
(c.Vs-(c.uq-(f-c.Vk)/60*c.tq))/c.tq)*c.Vs/c.uq);c=c.XD+(f-c.Vk)/60*c.WD+g}else c=void 0;if(0<c)for("easy"!=K||this.uF||(c=Math.max(1,.5*c)),this.t instanceof qc&&this.Dy&&(c*=2),this.t instanceof qc&&this.pn&&(c=0),f=1;f<=c;f++)b.push(d)}sg(this,b);if(0==this.r.length&&0==this.Eg.length){d=1E3;for(var h in this.Bi)b=this.Bi[h],this.t.G.ef>b.Vk&&(d=Math.min(d,b.Jl));for(h in this.Bi)b=this.Bi[h],b.oa(d,this.t.G.ef)}}0<=this.Ys?this.Ys-=a:0<this.Eg.length&&(a=this.Eg[0].type,h=this.Eg[0].DG,this.Eg=
this.Eg.slice(1),this.Xs(a,h),this.Ys=this.ld)}if(this.xh)for(b=0;b<this.r.length;b++)this.r[b].N||this.r[b].Nc("kill")};function pg(a){a.ya.sort(function(a,c){var d=R({x:400,y:300},{x:a[0],y:a[1]}),f=R({x:400,y:300},{x:c[0],y:c[1]});return d-f})}
l.Hi=function(){if(this.Qa){var a=[],b;for(b in this.Qa){var c=this.Qa[b];this.ra||"easy"!=K||this.vF||(c=Math.max(1,.5*c));for(var d=0;d<c;d++)a.push(b);"separate_by_type"==this.Zi&&(sg(this,a),a=[])}"separate_by_type"!=this.Zi&&sg(this,a)}if(this.ep&&!this.Iu&&ef&&!this.Hk){for(d=0;d<this.ep.length;d++)tg(this,this.ep[d]);this.Iu=!0}};function tg(a,b){a.Dl||a.Rg.push(new xd(b.x,b.y,a.t,b.ce,a.Hk))}
function sg(a,b){var c;if("spread"==a.Zi){c=0;for(var d=Math.floor(Math.random()*a.ya.length),f=0;f<a.ya.length;f++){for(var g={x:a.ya[f][0]/E,y:a.ya[f][1]/E},h=-1,k=0;k<a.r.length;k++){var n=Q(a.r[k].body.g.position,g);if(-1==h||n<h)h=n}h>c&&(c=h,d=f)}c=d}else c=Math.floor(Math.random()*a.ya.length);d=b.slice(0);for(f=0;f<b.length;f++)g=Math.floor(Math.random()*d.length),a.Xs(d[g],c+Math.floor(f/b.length*a.ya.length)),d.splice(g,1)}
function Jc(a,b,c,d,f){if("player"==b||"spark"==b||"multi"==b||"boss"==b.slice(b.length-4,b.length)||a.zq<a.ND&&D.Ur)a.yf.push(new ug(b,c,d,f)),a.zq+=4}
l.Xs=function(a,b){if(!this.Dl){var c=G[a].className;if(!(c.prototype.Cf&&this.gy||this.Pk[a]>=this.Bi[a].MD)){if(c.prototype.Cf)this.Og=c=new c(this.t.sa,O/E/2,P/E/2,this.xc,this.t),this.gy=!0;else if(this.ya)var d=this.ya[b%this.ya.length],c=new c(this.t.sa,d[0]/E,d[1]/E,this.xc,this.t);else{var f;.5>Math.random()?(d=.5>Math.random()?-7:O/E+5,f=Math.random()*(P/E+12)-7):(f=.5>Math.random()?-7:P/E+5,d=Math.random()*(O/E+12)-7);d={x:d+2*Math.random(),y:f+2*Math.random()};c=new c(this.t.sa,d.x,d.y,
this.xc,this.t)}rg(this,c)}}};function rg(a,b){a.r.push(b);a.xc+=1;a.Pk[b.type]+=1;b.Cf&&(a.Og=b);b.Zm&&!a.yr.hasOwnProperty(b.type)&&(a.yr[b.type]=b.um)}function vg(a){null==a.ws&&a.Ka.length&&(a.ws=a.Ka.length);for(var b=0;b<a.ws;b++){var c=a.bs(b);a.Yh.push(new Rd(c,a.Gc,a.zi));a.de.push(c);for(var d=0;d<c.length;d++)a.YD.push(c[d]);a.yh.push(Pb(c,a.Oa))}for(b=0;b<a.Yh.length;b++)for(var c=a.Yh[b],d=c.cj.length-1,f=0;f<c.cj.length;f++)a.se.push({p1:c.cj[d],p2:c.cj[f]}),d=f}
l.gh=function(a,b){if(this.Fc&&!this.ra){a.save();if(null!=this.Fj&&4>=this.n){var c=Math.max(this.Fj/this.ez,0);a.globalAlpha*=.3+.2*(1-c);a.strokeStyle=this.I;"HIVE 0-1"!=this.V&&"HIVE 0-2"!=this.V&&(a.save(),a.globalAlpha=.5<c?.3+(1-c):Math.max(0,0+1.6*c),a.beginPath(),a.arc(this.Fc.x*b,this.Fc.y*b,this.SC*(1-c),0,2*Math.PI),a.lineWidth=2+8*c,a.stroke(),a.restore())}else a.globalAlpha=this.t&&this.Ej&&4>=this.n?.7*a.globalAlpha:.3*a.globalAlpha;La(a,this.n,this.Fc.x*b,this.Fc.y*b,this.Xk*b,this.Ej,
0);this.Ej&&this.Km(a,b);a.restore()}};
l.U=function(a,b){a.save();if(0<this.cz){a.save();a.globalAlpha=this.cz;for(var c=0;c<this.Yh.length;c++){var d=this.Yh[c].color;this.Yh[c].color=this.PC;this.Yh[c].U(a,E);this.Yh[c].color=d}a.restore()}if(this.ik){var f=this.WE/this.XE;a.save();a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7);this.Dl&&(a.globalAlpha*=Math.max(0,this.Ls/this.hw));J(a,this.ik.x,this.ik.y,0,36,36,"spark_powerup");a.restore()}this.Gf&&(f=this.bq/this.eA,a.save(),a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7),this.Dl&&
(a.globalAlpha*=Math.max(0,this.Ls/this.hw)),c=this.Gf.x,d=this.Gf.y,J(a,c+1,d,0,20,20,"multi_powerup"),a.strokeStyle="white",a.lineWidth=2,a.save(),a.globalAlpha*=.5,a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+.001,!0),a.stroke(),a.restore(),a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*(1-f),!0),a.stroke(),a.restore());this.lE&&(Y.translate(X,0),this.Ue(Y,!0),Y.translate(-X,0),this.lE=!1);1!=this.Sm&&(a.save(),a.globalAlpha*=this.Sm);for(c=0;c<this.yf.length;c++)this.yf[c].U(a,
b);for(c=0;c<this.r.length;c++)this.r[c].gh(a,b);for(var g in this.yr)for(d=this.yr[g],f=1;f<=d;f++){for(var h=null,c=0;c<this.r.length;c++)this.r[c].type==g&&(null==h&&(h=this.r[c],h.vm(a,b,f)),this.r[c].sm(a,b,f));null!=h&&h.tm(a,b,f)}for(c=0;c<this.r.length;c++)this.r[c].U(a,b);for(c=0;c<this.r.length;c++)this.r[c].Tk(a,b);for(c=0;c<this.Rg.length;c++)this.Rg[c].U(a);1!=this.Sm&&a.restore();0<=this.sC&&(a.beginPath(),a.arc(O/b/2*b,P/b/2*b,2*this.tC*b,-.5*Math.PI,-.5*Math.PI+this.sC/this.cG*Math.PI*
2,!0),a.lineWidth=2,a.strokeStyle="gray",a.stroke(),a.globalAlpha=1);a.restore()};l.Tk=function(a){for(var b=0;b<this.Rg.length;b++)this.Rg[b].Tk(a)};
l.Ue=function(a){a.save();a.rect(0,0,O,P);a.clip();null!=this.bn.n?Bb(a,0,O,P,"Hive "+this.bn.n):(a.fillStyle=x["world 0 bright"],a.fillRect(0,0,O,P));for(var b=0;b<this.Yh.length;b++)this.Yh[b].U(a,E);this.ra?(a.fillStyle=x["world "+this.n+" dark"],a.fillRect(375,0,50,25),a.fillRect(375,575,50,25),a.fillRect(0,275,25,50),a.fillRect(775,275,25,50)):"HIVE 0-3"==this.V?(a.fillStyle=x["world "+this.n+" dark"],a.fillRect(0,0,50,600),a.fillRect(750,0,50,600)):"HIVE 0-4"==this.V&&(a.fillStyle=x["world "+
this.n+" dark"],a.fillRect(0,0,800,50),a.fillRect(0,550,800,50));a.restore()};l.vn=function(a){for(var b=0;b<this.Yd.length;b++){var c=this.Yd[b];c.Uc+=a/this.xp}for(b=this.Yd.length-1;0<=b;b--)c=this.Yd[b],1<c.Uc&&this.Yd.splice(b,1);this.zf-=a;0>this.zf&&(this.zf+=this.Wk,this.yp(this.Fc.x,this.Fc.y,this.as))};l.yp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.Yd.push({Zs:1.5*Math.cos(f)*this.Xk+a,$s:1.4*Math.sin(f)*this.Xk+b,Uc:0})}};
l.Km=function(a,b){for(var c=0;c<this.Yd.length;c++){var d=this.Yd[c];a.save();a.globalAlpha=.25>d.Uc?4*a.globalAlpha*d.Uc:(1-d.Uc)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.Zs*(1-d.Uc)+this.Fc.x*d.Uc)-3,b*(d.$s*(1-d.Uc)+this.Fc.y*d.Uc)-3,6,6);a.fillStyle=x["world "+this.n+" bright"];a.fill();a.restore()}};var N={"HOW TO PLAY":{r:{stunner:[0,4,0,4,1,0,5]},mb:"stunner",Ka:[[[838,84],[-38,84],[-38,-45],[838,-45]],[[-38,175],[42,175],[42,258],[756,258],[756,175],[838,175],[838,645],[-38,645]]],La:[[72,225],[728,225],[21,127],[779,127]],ya:[[-100,127],[900,127]],Oa:1,za:{normal:[2500,1E4,2E4],easy:[2500,1E4,2E4]},ib:{x:400,y:170},Oa:1},"HIVE 0-1":{Hb:{},r:{},mc:{},Qa:{},mb:"stunner",Ka:[],La:[],ya:[],Oa:1,ul:50,za:{normal:[0,3E5,12E5]},ib:{x:200,y:300},Fc:{x:600,y:300},Rg:[{x:400,y:300,ce:"one"}],Hk:!1},
"HIVE 0-2":{Hb:{},r:{},mc:{},Qa:{},mb:"stunner",Ka:[[[-50,260],[370,260],[370,360],[-50,360]],[[50,460],[751,460],[750,520],[50,520]],[[850,360],[430,360],[430,260],[850,260]]],La:[],ya:[],Oa:1,ul:50,za:{normal:[0,3E5,12E5]},ib:{x:400,y:560},Fc:{x:400,y:200}},"HIVE 0-3":{Hb:{dumb_stunner:[0,1,0,1,1,0,1]},r:{dumb_stunner:[0,1,0,1,1,0,1]},mc:{dumb_stunner:1},Qa:{dumb_stunner:1},mb:"dumb_stunner",Ka:[[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]],[[847,200],[516,200],
[516,30],[285,30],[285,200],[-53,200],[-53,-50],[847,-51]],[[-47,400],[284,400],[284,570],[516,570],[516,400],[853,400],[853,650],[-47,651]]],La:[],ya:[[200,300]],Oa:1,ul:50,za:{easy:[1E3,3E5,12E5],normal:[1E3,3E5,12E5]},ib:{x:100,y:300},Fc:{x:600,y:300},EA:!0,Rg:[{x:400,y:115,ce:"three"},{x:400,y:485,ce:"three"}],Hk:!0},"HIVE 0-4":{Hb:{dumb_stunner:[0,1,0,1,1,0,4]},r:{dumb_stunner:[0,1,0,1,1,0,4]},mc:{dumb_stunner:4},Qa:{dumb_stunner:4},mb:"dumb_stunner",Ka:[[[-50,-51],[850,-51],[850,52],[522,50],
[522,129],[278,129],[278,50],[-50,50]],[[-50,550],[278,550],[278,471],[522,471],[522,550],[850,548],[850,651],[-50,651]],[[50,651],[-50,649],[-50,-50],[50,-50],[50,219],[122,219],[122,380],[50,380]],[[750,-51],[850,-49],[850,650],[750,650],[750,381],[678,381],[678,220],[750,220]]],La:[[300,200],[300,400],[500,200],[500,400]],ya:[[300,300],[500,300],[400,200],[400,400]],Oa:1,ul:50,za:{easy:[2E3,1E4,2E4],normal:[2E3,1E4,2E4]},ib:{x:400,y:300},Zi:"spread",oq:!0,Rg:[{x:165,y:130,ce:"four"},{x:165,y:470,
ce:"four"},{x:635,y:470,ce:"four"},{x:635,y:130,ce:"four"}],Hk:!0},"HIVE 1-1":{Hb:{stunner:[0,5,1,1,2,0,50]},r:{stunner:[0,1.5,.5,1,4,2,50]},mc:{stunner:2},Qa:{stunner:4},mb:"stunner",Ka:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[144,367],[656,367],[656,626],[144,626]],[[144,-26],[656,-26],[656,233],[144,233]]],Hf:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[174,400],[626,400],[626,626],[174,626]],[[174,-26],[626,-26],
[626,200],[174,200]]],La:[[81,75],[81,525],[719,75],[719,525]],HA:[[250,250],[250,350],[550,250],[550,350]],ya:[[50,-100],[750,-100],[50,700],[750,700]],Oa:1,ul:50,za:{easy:[2500,5E4,3E5],normal:[5E5,4E5,8E5]},ib:{x:400,y:300}},"HIVE 1-2":{r:{stunner:[3,3,0,3,3,2,25],spear:[0,3,0,3,2,2,25]},Hb:{stunner:[2,3,1,1,1,0,25],spear:[0,4,1,1,1,0,25]},Qa:{spear:4},mc:{spear:1},mb:"spear",Ka:[[[112,-6],[688,-6],[688,26],[112,26]],[[-9,96],[30,96],[30,505],[-9,505]],[[809,504],[770,504],[770,95],[809,95]],[[688,
606],[112,606],[112,574],[688,574]],[[135,126],[330,126],[135,259]],[[135,341],[330,474],[135,474]],[[665,259],[470,126],[665,126]],[[665,474],[470,474],[665,341]]],La:[[135,300],[665,300],[400,125],[400,475],[709,78],[91,78],[709,522],[91,522]],ya:[[-50,-50],[850,650],[850,-50],[-50,650]],Oa:1,za:{easy:[15E3,8E4,4E5],normal:[5E5,4E5,1E6]},ib:{x:400,y:300}},"HIVE 1-3":{Hb:{stunner:[0,2.5,.5,1,2,0,40],spear:[30,6,1.5,1.5,1,0,15]},r:{stunner:[0,3,1,1,4,0,50],spear:[4,4,0,4,1,1,15]},mc:{stunner:4},Qa:{stunner:12},
mb:"stunner",Ka:[[[466,300],[400,348],[335,300],[400,251]],[[-11,-10],[305,-10],[305,12],[10,236],[-11,236]],[[-11,364],[10,364],[305,588],[305,610],[-11,610]],[[811,236],[791,236],[495,12],[495,-10],[811,-10]],[[811,610],[495,610],[495,588],[791,364],[811,364]]],ya:[[-100,300],[400,-100],[900,300],[400,700]],La:[[400,50],[50,300],[400,550],[750,300]],Oa:1,za:{easy:[2E4,12E4,6E5],normal:[5E5,3E5,12E5]},ib:{x:400,y:400}},"HIVE 1-4":{Hb:{spear:[0,5,2,1,2,0,40]},r:{spear:[0,4,1,2,3,4,40]},Qa:{spear:4},
mc:{spear:2},mb:"spear",Ka:[[[-15,73],[265,253],[-15,269]],[[336,426],[362,610],[-15,610]],[[464,175],[438,-10],[815,-10]],[[-15,331],[265,348],[-15,527]],[[815,269],[535,253],[815,73]],[[-15,-10],[362,-10],[336,175]],[[815,610],[438,610],[464,426]],[[815,527],[535,348],[815,331]]],ya:[[-100,14],[900,14],[900,586],[-100,586],[-100,300],[400,-100],[900,300],[400,700]],La:[[400,125],[400,475],[125,300],[675,300],[177,145],[623,145],[177,455],[623,455]],Oa:1,za:{easy:[3E4,2E5,75E4],normal:[75E4,4E5,
15E5]},ib:{x:400,y:300}},"HIVE 1-5":{r:{spear:[0,7,0,7,2,1.5,15],tank:[1,5,0,5,3,2,25]},Hb:{spear:[6,6,2,2,1.5,0,15],tank:[0,5,2,1,1,0,25]},mb:"tank",Qa:{spear:8},mc:{tank:6},Ka:[[[103,1],[688,1],[688,27],[103,27]],[[799,483],[770,483],[770,116],[799,116]],[[103,573],[688,573],[688,599],[103,599]],[[1,116],[30,116],[30,483],[1,483]]],ya:[[-100,-100],[900,-100],[900,700],[-100,700]],La:[[66,528],[66,72],[734,528],[66,528]],Oa:1,za:{easy:[4E4,2E5,6E5],normal:[1E6,4E5,125E4]},ib:{x:400,y:300}},"HIVE 1-6":{r:{stunner:[2,
6,0,6,3,2,25],tank:[0,8,0,8,2,3,25]},Hb:{stunner:[0,6,2,2,1,0,25],tank:[0,6,2,2,1,0,25]},Qa:{tank:4},mc:{tank:3,stunner:1},mb:"tank",Ka:[[[828,322],[518,8],[554,-32],[823,-32]],[[-28,278],[282,592],[246,632],[-23,632]],[[398,125],[575,300],[399,476],[223,300]],[[107,185],[-25,53],[-25,-34],[325,-34]],[[693,415],[825,547],[825,634],[475,634]]],ya:[[400,-100],[400,700],[-100,150],[900,450]],La:[[50,240],[400,15],[400,585],[750,360]],Oa:1,za:{easy:[5E4,2E5,8E5],normal:[1E6,5E5,15E5]},ib:{x:250,y:150}},
"HIVE 1-7":{Hb:{stunner:[0,5,1,2,1,0,30],spear:[0,6,1.2,2.4,1,0,15],tank:[0,10,2.5,5,1,0,15]},r:{stunner:[0,5,0,5,2,1,30],spear:[0,5,0,5,2,1,15],tank:[0,10,0,10,2,1,15]},Qa:{stunner:4,spear:2,tank:4},mc:{stunner:2,spear:1,tank:1},mb:"tank",Ka:[[[243,110],[332,144],[243,179],[153,144]],[[310,-3],[400,-38],[489,-3],[400,31]],[[310,300],[400,265],[489,300],[400,334]],[[88,-38],[177,-3],[88,31],[-2,-3]],[[-2,300],[88,265],[177,300],[88,334]],[[-21,125],[25,143],[-21,163]],[[-2,603],[88,569],[177,603],
[88,638]],[[802,-3],[712,31],[623,-3],[712,-38]],[[-21,437],[25,457],[-21,475]],[[821,163],[775,143],[821,125]],[[153,456],[243,421],[332,456],[243,490]],[[647,144],[557,179],[468,144],[557,110]],[[712,334],[623,300],[712,265],[802,300]],[[557,490],[468,456],[557,421],[647,456]],[[712,638],[623,603],[712,569],[802,603]],[[400,569],[489,603],[400,638],[310,603]],[[821,475],[775,457],[821,437]]],ya:[[-100,50],[-100,300],[-100,550],[900,50],[900,300],[900,550],[240,-100],[560,-100],[240,700],[560,700]],
La:[[75,145],[235,34],[565,34],[725,145],[725,455],[565,566],[235,566],[75,455]],Oa:1,za:{easy:[5E4,15E4,75E4],normal:[1E6,4E5,15E5]},ib:{x:400,y:450}},"BOSS 1":{r:{"first boss":[0,1,0,1,0,0,1]},Qa:{"first boss":1},mb:"first boss",Ka:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,
62],[740,539]],Oa:1,ib:{x:400,y:550},Lu:40},"HIVE 2-1":{Hb:{stunner:[0,5,1.5,2,1,0,15],tank:[15,12,3,3,1,0,15],mote:[0,10,2,4,1,0,25]},r:{stunner:[1,4,0,4,1,1,15],tank:[0,8,0,8,1,1,15],mote:[5,7,0,7,2,1.5,25]},Qa:{mote:4,tank:1},mc:{mote:2,stunner:2},mb:"mote",Ka:[[[-12,-8],[815,-8],[815,609],[748,609],[748,50],[51,50],[51,609],[-12,609]],[[176,609],[176,175],[288,174],[286,286],[228,286],[228,540],[566,540],[566,287],[510,286],[510,175],[626,175],[626,609]],[[324,363],[469,363],[469,466],[324,466]]],
La:[[400,500],[687,450],[113,450]],ya:[[100,700],[700,700]],Oa:1,za:{easy:[6E4,2E5,75E4],normal:[125E4,45E4,175E4]},Zi:"separate_by_type",ib:{x:400,y:235}},"HIVE 2-2":{r:{stunner:[3,4,0,4,2,0,30],spear:[1,10,2,4,4,0,20],mote:[0,8,1,6,2,0,20]},Hb:{stunner:[5,5,1,2,1,0,30],spear:[0,12,0,12,2,1,20],mote:[0,9,2,3,1,0,20]},Qa:{mote:2},mb:"mote",Ka:[[[-25,253],[143,253],[143,347],[-25,347]],[[825,347],[656,347],[656,253],[825,253]],[[556,347],[454,347],[454,253],[557,253]],[[244,253],[346,253],[346,347],
[243,347]],[[-25,-36],[825,-36],[825,148],[758,148],[758,23],[656,23],[658,148],[555,148],[557,23],[454,23],[455,148],[346,148],[346,23],[243,23],[244,148],[143,148],[143,23],[42,23],[42,148],[-25,148]],[[-25,452],[42,452],[42,577],[143,577],[143,452],[244,452],[243,577],[346,577],[346,452],[455,452],[454,577],[557,577],[555,452],[658,452],[656,577],[758,577],[758,452],[825,452],[825,636],[-25,636]]],ya:[[-100,175],[900,175],[900,425],[-100,425]],La:[[95,85],[295,85],[505,85],[705,85],[95,515],[295,
515],[505,515],[705,515]],Oa:1,za:{normal:[125E4,3E5,15E5]},ib:{x:400,y:300}},"HIVE 2-3":{Hb:{spear:[0,6,2,2,2,0,30],tank:[0,8,1,5,3,0,30],goo:[0,10,0,10,1,0,1]},r:{spear:[0,3,1,1,1,0,30],tank:[0,8,2,2,3,0,30],goo:[0,10,0,10,1,0,1]},mb:"goo",Ka:[[[94,-22],[709,-21],[589,92],[212,92]],[[212,508],[589,508],[709,621],[94,622]],[[-24,117],[104,223],[104,378],[-24,483]],[[824,483],[696,377],[696,222],[824,117]]],ya:[[-100,-100],[900,-100],[900,700],[-100,700]],La:[[66,528],[66,72],[734,528],[66,528]],
Oa:1,Qa:{tank:4,spear:8,goo:1},mc:{tank:6,spear:4,goo:1},Zi:"separate_by_type",za:{easy:[8E4,3E5,1E6],normal:[1E6,6E5,2E6]},ib:{x:400,y:300}},"HIVE 2-4":{r:{stunner:[6,6,0,6,2,2,10],spear:[0,2,.3,1,2,0,20],mote:[0,8,2,2,2,0,15],goo:[0,10,0,10,1,0,1]},Hb:{stunner:[8,8,0,8,2,1,10],spear:[0,12,3,2,2,0,20],mote:[0,8,1.5,2,1,0,15],goo:[0,10,0,10,1,0,1]},mb:"goo",Qa:{spear:3,goo:1,mote:2,stunner:2},mc:{spear:2,goo:1,mote:1,stunner:2},Ka:[[[-33,-54],[342,-54],[343,201],[191,384],[-33,536]],[[833,536],[609,
384],[457,201],[458,-54],[833,-54]],[[526,478],[725,602],[725,641],[75,641],[75,602],[274,478]]],ya:[[400,-100],[-125,700],[925,700]],La:[[400,120],[180,460],[620,460]],Oa:1,za:{easy:[6E4,2E5,8E5],normal:[1E6,5E5,2E6]},Zi:"separate_by_type",ib:{x:400,y:330}},"HIVE 2-5":{Hb:{stunner:[6,6,2,2,1,0,15],mote:[8,8,2,4,1,0,15],harpoon:[0,15,3,6,1,0,15]},r:{stunner:[1,6,0,6,2,1,15],mote:[1,8,1,4,1,0,15],harpoon:[0,20,4,8,2,0,15]},mb:"harpoon",Qa:{harpoon:2},mc:{harpoon:1},Ka:[[[-32,-31],[49,-31],[49,631],
[-32,631]],[[832,631],[751,631],[751,-31],[832,-31]],[[656,366],[629,366],[629,236],[656,236]],[[144,235],[171,235],[171,364],[144,364]],[[387,235],[414,235],[414,365],[387,365]],[[265,368],[292,368],[292,498],[265,498]],[[535,232],[508,232],[508,102],[535,102]],[[265,102],[292,102],[292,232],[265,232]],[[535,498],[508,498],[508,368],[535,368]],[[659,102],[628,102],[629,18],[414,18],[414,102],[387,102],[387,18],[172,18],[172,102],[143,102],[145,-34],[659,-33]],[[141,498],[172,498],[171,582],[386,
582],[386,498],[414,498],[413,582],[628,582],[628,498],[658,498],[655,634],[141,633]]],Oa:1,ya:[[100,-50],[700,-50],[100,650],[700,650]],La:[[100,50],[100,300],[100,550],[700,50],[700,300],[700,550]],za:{easy:[8E4,3E5,1E6],normal:[1E6,6E5,2E6]},ib:{x:400,y:425}},"HIVE 2-6":{r:{spear:[1,10,2,2,2,0,10],tank:[2,15,3,6,2,0,12],goo:[0,20,0,20,1,0,1],harpoon:[0,20,3,8,2,0,12]},Hb:{spear:[0,8,2,4,1,0,10],tank:[2,12,4,3,1,0,12],goo:[0,20,0,20,1,0,1],harpoon:[0,15,4,6,1,0,12]},mb:"harpoon",Ka:[[[325,276],
[374,276],[374,231],[427,231],[427,276],[475,276],[475,324],[426,324],[426,371],[373,371],[373,324],[325,324]],[[832,27],[-31,27],[-31,-18],[832,-18]],[[-32,573],[831,573],[831,618],[-32,618]],[[192,369],[246,369],[246,450],[325,450],[325,502],[192,502]],[[192,98],[325,98],[325,150],[246,150],[246,231],[192,231]],[[-25,98],[111,98],[111,502],[-25,502]],[[825,502],[689,502],[689,98],[825,98]],[[608,231],[554,231],[554,150],[475,150],[475,98],[608,98]],[[608,502],[475,502],[475,450],[554,450],[554,
369],[608,369]]],ya:[[-100,50],[900,50],[-100,550],[900,550]],La:[[90,63],[710,63],[90,537],[710,537]],Qa:{harpoon:2,goo:1},Oa:1,za:{easy:[9E4,25E4,6E5],normal:[125E4,5E5,125E4]},ib:{x:400,y:450}},"HIVE 2-7":{Hb:{stunner:[0,30,5,15,2,0,16],spear:[2,30,5,15,2,0,16],tank:[12,30,5,15,2,0,16],mote:[6,30,5,15,2,0,16],goo:[18,30,5,15,1,0,1],harpoon:[20,30,5,15,2,0,16]},r:{stunner:[2,30,3,15,4,0,16],spear:[10,30,3,15,4,0,16],tank:[22,30,3,15,4,0,16],mote:[6,30,3,15,3,0,16],goo:[16,30,3,15,1,0,1],harpoon:[0,
30,3,15,3,0,16]},mb:"harpoon",Ka:[[[830,52],[-29,52],[-29,-27],[830,-27]],[[-30,548],[829,548],[829,627],[-30,627]],[[-30,133],[307,133],[307,186],[54,186],[54,415],[307,415],[307,467],[-30,466]],[[830,466],[493,467],[493,415],[746,415],[746,186],[493,186],[493,133],[830,133]],[[229,275],[571,275],[571,325],[229,325]]],ya:[[-100,100],[900,100],[-100,500],[900,500]],La:[[200,93],[600,93],[200,507],[600,507]],Oa:1,za:{easy:[1E5,3E5,1E6],normal:[15E5,75E4,225E4]},mc:{stunner:2},Qa:{harpoon:3},ib:{x:400,
y:400}},"BOSS 2":{r:{"second boss":[0,1,0,1,0,0,1],stunner:[0,10,0,10,0,0,12],spear:[0,10,0,10,0,0,8],tank:[0,10,0,10,0,0,8],mote:[0,10,0,10,0,0,8],goo:[0,10,0,10,0,0,1],harpoon:[0,10,0,10,0,0,8]},Qa:{"second boss":1},mb:"second boss",Ka:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],
[740,62],[740,539]],Oa:1,ib:{x:400,y:500},Lu:60},"HIVE 3-1":{Hb:{stunner:[7,12,2,6,2,0,20],tank:[8,12,3,3,1,0,10],mote:[6,12,2,4,1,0,15],fighter:[0,24,4,8,1,0,12]},r:{stunner:[0,10,1.5,4,4,0,20],tank:[0,12,2.4,4.8,1,0,10],mote:[0,12,2.4,4.8,1,0,15],fighter:[0,14,3,5,1,0,12]},mb:"fighter",Ka:[[[304,274],[426,204],[496,326],[374,396]],[[72,212],[193,142],[263,263],[142,333]],[[242,507],[363,437],[433,558],[312,628]],[[558,93],[437,163],[367,42],[488,-28]],[[728,388],[607,458],[537,337],[658,267]],[[326,
31],[204,101],[134,-20],[256,-90]],[[474,569],[596,499],[666,620],[544,690]],[[10,444],[131,374],[201,496],[80,566]],[[790,156],[669,226],[599,104],[720,34]],[[-160,150],[-39,80],[31,201],[-90,271]],[[960,450],[839,520],[769,399],[890,329]]],Hf:[[[314,277],[423,214],[486,323],[377,386]],[[82,215],[190,152],[253,260],[145,323]],[[252,510],[360,447],[423,555],[315,618]],[[548,90],[440,153],[377,45],[485,-18]],[[718,385],[610,448],[547,340],[655,277]],[[316,28],[207,91],[144,-17],[253,-80]],[[484,572],
[593,509],[656,617],[547,680]],[[20,447],[128,384],[191,493],[83,556]],[[780,153],[672,216],[609,107],[717,44]],[[-150,153],[-42,90],[21,198],[-87,261]],[[950,447],[842,510],[779,402],[887,339]]],ya:[[-100,360],[-100,-100],[900,200],[900,700],[200,700],[400,700],[360,-100],[600,-100]],La:[[586,50],[83,88],[205,548],[715,515],[728,260],[83,330]],Oa:.8,za:{easy:[125E3,4E5,1E6],normal:[15E5,75E4,225E4]},Qa:{fighter:2,tank:1,mote:1,stunner:4},mc:{fighter:1,stunner:2},zh:!0,ib:{x:250,y:380}},"HIVE 3-2":{r:{spear:[0,
8,0,8,2,1,20],goo:[1,15,0,15,1,0,1],fighter:[0,20,4,12,2,0,12],harpoon:[0,16,3,7,1,0,12]},Hb:{spear:[10,10,1.5,3,1,0,20],goo:[0,15,0,15,1,0,1],fighter:[0,24,4,8,2,0,12],harpoon:[0,20,3,9,1,0,12]},mb:"fighter",Ka:[[[438,472],[393,455],[380,425],[413,411]],[[488,230],[474,198],[505,185],[548,205]],[[572,262],[555,307],[525,320],[512,287]],[[228,338],[245,293],[275,280],[288,313]],[[312,370],[326,402],[295,415],[252,395]],[[470,388],[502,374],[515,405],[495,448]],[[330,212],[298,226],[285,195],[305,
152]],[[362,128],[407,145],[420,175],[387,189]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,
283],[417,259],[441,317],[384,340]]],Hf:[[[433,467],[395,453],[384,427],[412,416]],[[490,226],[479,199],[505,188],[541,205]],[[567,267],[553,305],[527,316],[516,288]],[[233,333],[247,295],[273,284],[284,312]],[[310,374],[321,401],[295,412],[259,395]],[[474,390],[501,379],[512,405],[495,441]],[[326,210],[299,221],[288,195],[305,159]],[[367,133],[405,147],[416,173],[388,184]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],
[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],ya:[[-156,410],[-78,605],[110,-102],[317,-187],[886,-23],[972,193],[706,742],[482,820]],La:[[190,84],[613,89],[610,521],[186,503]],
Oa:1,za:{easy:[125E3,3E5,1E6],normal:[15E5,8E5,2E6]},Qa:{fighter:2,spear:2,harpoon:2},mc:{fighter:2,harpoon:1,goo:1},zh:!0,ib:{x:370,y:380}},"HIVE 3-3":{r:{tank:[6,18,3,9,2,0,20],harpoon:[0,20,3,11,2,0,15],mote:[1,14,3,5,2,0,10],disabler:[1,10,1,1,1,0,1]},Hb:{tank:[6,12,3,3,1,0,20],harpoon:[8,16,3,6,1,0,15],mote:[0,10,2,4,1,0,10],disabler:[0,5,0,5,1,0,1]},mb:"disabler",Ka:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,
141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],Hf:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],ya:[[-100,166],[900,166]],La:[[100,402],[700,402],[250,196],[550,193]],Oa:1.3,za:{easy:[125E3,3E5,9E5],normal:[15E5,6E5,
175E4]},Qa:{harpoon:2},mc:{disabler:1,mote:2},zh:!0,ib:{x:400,y:400}},"HIVE 3-4":{r:{spear:[0,8,1,4,2,0,15],fighter:[0,20,4,8,2,0,10],mote:[0,14,2,8,1,0,20],disabler:[0,10,0,10,1,0,1]},Hb:{spear:[0,6,1,3,2,0,15],fighter:[0,20,3,6,2,0,10],mote:[0,10,0,10,2,1,20],disabler:[0,5,0,5,1,0,1]},mb:"disabler",Ka:[[[424,337],[540,368],[555,310],[613,326],[582,441],[640,457],[624,515],[509,484],[493,541],[436,526],[467,410],[409,395]],[[420,584],[536,615],[551,558],[609,573],[578,689],[405,642]],[[428,90],[544,
121],[559,63],[617,78],[586,194],[644,209],[629,267],[513,236],[498,294],[440,279],[471,163],[413,147]],[[177,333],[292,364],[308,306],[366,322],[335,437],[393,453],[377,510],[262,479],[246,537],[188,522],[219,406],[161,391]],[[173,580],[288,611],[304,553],[362,569],[331,685],[157,638]],[[181,86],[297,117],[312,59],[370,74],[339,190],[397,205],[381,263],[266,232],[250,290],[192,274],[223,159],[166,143]],[[401,-42],[385,16],[270,-15],[254,43],[197,27],[228,-89]],[[648,-38],[633,20],[517,-11],[502,
47],[444,31],[475,-84]],[[671,341],[787,372],[802,314],[860,330],[829,445],[887,461],[871,519],[756,488],[740,545],[683,530],[714,414],[656,399]],[[895,-34],[880,24],[764,-7],[749,51],[691,35],[722,-80]],[[154,-46],[138,12],[23,-19],[7,39],[-50,23],[-19,-93]],[[667,588],[783,619],[798,562],[856,577],[825,693],[652,646]],[[-66,82],[50,113],[65,55],[123,70],[92,186],[150,201],[134,259],[19,228],[3,286],[-55,270],[-24,155],[-81,139]],[[-74,576],[41,607],[57,549],[115,565],[84,681],[-90,634]],[[-70,329],
[45,360],[61,302],[119,318],[88,433],[146,449],[130,506],[15,475],[-1,533],[-59,518],[-28,402],[-86,387]],[[675,94],[791,125],[806,67],[864,82],[833,198],[891,213],[876,271],[760,240],[745,298],[687,283],[718,167],[660,151]]],Hf:[[[434,346],[538,374],[552,322],[604,336],[576,439],[628,454],[614,506],[511,478],[496,529],[445,516],[473,412],[421,398]],[[430,587],[534,615],[548,563],[600,577],[572,681],[416,639]],[[438,99],[542,127],[556,75],[608,88],[580,192],[632,206],[619,258],[515,230],[501,282],
[449,269],[477,165],[425,150]],[[187,342],[291,370],[305,318],[357,332],[329,435],[381,450],[367,501],[264,473],[249,525],[197,512],[225,408],[173,394]],[[183,583],[286,611],[301,558],[353,573],[325,677],[168,635]],[[191,95],[295,123],[309,71],[361,84],[333,188],[385,202],[371,254],[268,226],[253,278],[201,264],[229,161],[178,146]],[[390,-39],[375,13],[272,-14],[258,38],[206,23],[234,-81]],[[637,-35],[623,17],[519,-10],[505,42],[453,27],[481,-76]],[[681,350],[785,378],[799,326],[851,340],[823,443],
[875,458],[861,510],[758,482],[743,533],[692,520],[720,416],[668,402]],[[884,-31],[870,21],[766,-6],[752,46],[700,31],[728,-72]],[[143,-43],[128,9],[25,-18],[11,34],[-41,19],[-13,-85]],[[677,591],[781,619],[795,567],[847,581],[819,685],[663,643]],[[-56,91],[48,119],[62,67],[114,80],[86,184],[138,198],[124,250],[21,222],[6,274],[-46,260],[-18,157],[-69,142]],[[-64,579],[39,607],[54,554],[106,569],[78,673],[-79,631]],[[-60,338],[44,366],[58,314],[110,328],[82,431],[134,446],[120,497],[17,469],[2,521],
[-50,508],[-22,404],[-74,390]],[[685,103],[789,131],[803,79],[855,92],[827,196],[879,210],[866,262],[762,234],[748,286],[696,273],[724,169],[672,154]]],ya:[[-692,162],[958,574],[-114,43],[958,327],[-139,277],[941,70],[-125,530],[105,743],[-125,530],[344,745],[456,-148],[597,738],[203,-140]],La:[[159,48],[646,551],[151,544],[653,58]],Oa:.8,za:{normal:[15E5,6E5,2E6]},ib:{x:400,y:300},Qa:{spear:3,fighter:2,mote:2,disabler:1},mc:{fighter:2,spear:2,disabler:1}},"HIVE 3-6":{r:{spear:[0,14,2,6,2,0,8],tank:[0,
20,4,8,2,0,8],harpoon:[0,18,3,6,1,0,8],troll:[0,13,2,6,2,0,10]},Hb:{spear:[12,12,2,4,2,0,8],tank:[15,15,2.5,4,1,0,8],harpoon:[24,24,4,8,1,0,8],troll:[0,14,2,4,2,0,10]},mb:"troll",Ka:[[[350,123],[400,90],[450,123],[400,156]],[[256,300],[223,350],[190,300],[223,250]],[[400,444],[450,477],[400,510],[350,477]],[[577,250],[610,300],[577,350],[544,300]],[[400,350],[250,450],[350,300],[250,150],[400,250],[550,150],[450,300],[550,450]],[[350,-54],[450,-54],[550,96],[400,-4],[250,96]],[[-4,123],[46,90],[96,
123],[46,156]],[[46,444],[96,477],[46,510],[-4,477]],[[754,156],[704,123],[754,90],[804,123]],[[804,477],[754,510],[704,477],[754,444]],[[46,-4],[-41,55],[-4,-54],[96,-54],[196,96]],[[250,504],[400,604],[550,504],[450,654],[350,654]],[[196,150],[96,300],[196,450],[46,350],[-47,412],[-4,300],[-44,190],[46,250]],[[604,450],[704,300],[604,150],[754,250],[847,188],[804,300],[844,410],[754,350]],[[196,504],[96,654],[-4,654],[-41,545],[46,604]],[[604,96],[704,-54],[804,-54],[841,55],[754,-4]],[[754,604],
[841,545],[804,654],[704,654],[604,504]]],Hf:[[[355,123],[400,93],[445,123],[400,153]],[[253,300],[223,345],[193,300],[223,255]],[[400,447],[445,477],[400,507],[355,477]],[[577,255],[607,300],[577,345],[547,300]],[[400,345],[265,435],[355,300],[265,165],[400,255],[535,165],[445,300],[535,435]],[[355,-47],[445,-47],[535,88],[400,-2],[265,88]],[[1,123],[46,93],[91,123],[46,153]],[[46,447],[91,477],[46,507],[1,477]],[[754,153],[709,123],[754,93],[799,123]],[[799,477],[754,507],[709,477],[754,447]],[[47,
-3],[-31,50],[2,-48],[92,-48],[182,87]],[[265,512],[400,602],[535,512],[445,647],[355,647]],[[182,165],[92,300],[182,435],[47,345],[-36,401],[2,300],[-34,201],[47,255]],[[618,435],[708,300],[618,165],[753,255],[836,199],[798,300],[834,399],[753,345]],[[182,513],[92,648],[2,648],[-31,550],[47,603]],[[618,87],[708,-48],[798,-48],[831,50],[753,-3]],[[753,603],[831,550],[798,648],[708,648],[618,513]]],ya:[[222,652],[-120,123],[-120,477],[920,123],[920,477],[222,-52],[578,652],[578,-52]],La:[[223,58],
[223,543],[577,58],[577,543]],Oa:1,za:{easy:[2E5,4E5,9E5],normal:[15E5,6E5,175E4]},ib:{x:400,y:400},Qa:{tank:2,spear:2,harpoon:1,troll:2},mc:{troll:2,tank:1,harpoon:1}},"HIVE 3-5":{r:{stunner:[0,12,2,6,2,0,15],mote:[0,20,2,14,1,0,15],fighter:[2,24,3,15,2,0,10],troll:[0,13,2,6,2,0,10]},Hb:{stunner:[5,10,0,10,1,1,15],mote:[0,15,2.5,6,1,0,15],fighter:[10,20,3,8,1,0,10],troll:[0,15,2.5,6,2,0,10]},mb:"troll",La:[[100,100]],Ka:[[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[209,
302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[531,313],[525,325],[479,305],[498,259],[359,202],[340,248],[294,229],[300,216],[411,170],[486,201]],[[269,287],[275,275],[321,295],[302,341],[441,398],[460,352],[506,371],[500,384],[389,430],[314,399]],[[828,504],[826,846],[-76,645],[-33,148],[136,218],[118,264],[163,284],[145,329],[99,310],
[41,449],[178,506],[198,460],[245,479],[226,525],[364,582],[383,536],[430,556],[410,601],[606,520],[560,501],[579,455],[625,475],[645,428]],[[-28,96],[-26,-246],[876,-45],[833,452],[664,382],[682,336],[637,316],[655,271],[701,290],[759,151],[622,94],[602,140],[555,121],[574,75],[436,18],[417,64],[370,44],[390,-1],[194,80],[240,99],[221,145],[175,125],[155,172]]],Hf:[[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],
[609,251]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[269,287],[316,307],[302,341],[441,398],[454,365],[500,384],[389,430],[314,399]],[[531,313],[484,293],[498,259],[359,202],[345,235],[300,216],[411,170],[486,201]],[[-26,81],[-26,-246],[876,-45],[839,439],[669,369],[682,336],[659,327],[678,281],[701,290],[759,151],[622,94],[612,119],[565,99],[574,75],[436,18],[426,42],[380,23],[390,-1],[194,80],
[217,88],[198,135],[175,125],[162,159]],[[826,519],[826,846],[-76,645],[-40,160],[132,231],[118,264],[141,273],[122,319],[99,310],[41,449],[178,506],[188,481],[235,501],[226,525],[364,582],[374,558],[420,577],[410,601],[606,520],[583,512],[602,465],[625,475],[638,441]]],ya:[[-103,88],[923,515]],La:[[318,106],[482,495],[214,222],[586,379],[202,383],[598,218]],Oa:1,za:{easy:[2E5,4E5,8E5],normal:[15E5,75E4,15E5]},Qa:{troll:2,stunner:2,mote:1},Zi:"separate_by_type",mc:{troll:2},ib:{x:400,y:300}},"HIVE 3-7":{r:{stunner:[4,
40,5,15,2,0,10],spear:[22,40,5,15,4,0,10],tank:[8,40,5,15,2,0,8],mote:[24,40,5,15,2,0,10],goo:[10,40,5,15,1,0,1],harpoon:[2,40,5,15,4,0,6],fighter:[20,40,5,15,2,0,6],disabler:[28,40,5,15,1,0,2],troll:[0,40,5,15,4,0,10]},Hb:{stunner:[4,30,5,15,1,0,10],spear:[18,30,5,15,2,0,10],tank:[8,30,5,15,1,0,8],mote:[16,30,5,15,1,0,10],goo:[10,30,0,30,1,0,1],harpoon:[2,30,5,15,2,0,6],fighter:[12,30,5,15,1,0,6],disabler:[20,30,0,30,1,0,1],troll:[0,30,5,15,2,0,10]},mb:"troll",Ka:[[[373,606],[439,691],[-20,688],
[-20,-44],[211,-23],[206,-2],[17,459]],[[427,-6],[361,-91],[820,-88],[820,644],[589,623],[594,602],[783,141]],[[309,78],[200,340],[144,363],[285,22],[626,163],[569,187]],[[600,260],[656,237],[515,578],[175,436],[230,413],[492,521]],[[468,364],[448,318],[467,272],[422,254],[402,207],[513,253]],[[332,236],[352,282],[333,328],[378,346],[398,393],[287,347]]],ya:[[163,-99],[284,-112],[516,712],[638,699]],La:[[104,420],[696,181],[339,151],[461,450]],Oa:1.5,za:{easy:[25E4,5E5,1E6],normal:[2E6,8E5,2E6]},
Qa:{troll:4},zh:!0,ib:{x:400,y:300}},"BOSS 3":{r:{"third boss":[0,1,0,1,1,0,1],stunner:[0,6,0,6,0,0,15],spear:[0,10,0,10,0,0,10],tank:[0,12,0,12,0,0,10],troll:[0,8,0,8,0,0,10],goo:[0,12,0,12,0,0,2],mote:[0,8,0,8,0,0,10],disabler:[0,10,0,10,0,0,2],harpoon:[0,15,0,15,0,0,10]},mb:"third boss",Ka:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],
[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,62],[740,539]],Oa:1,ib:{x:400,y:500},Lu:60,Qa:{"third boss":1}},"HIVE 4-1":{r:{spear:[19,24,4,8,2,0,10],troll:[7,24,4,8,2,0,10],tank:[13,24,4,8,2,0,10],harpoon:[1,24,4,8,2,0,10],slingshot:[0,8,1,5,2,0,20]},Hb:{spear:[6,28,0,28,2,1,10],troll:[13,28,0,28,2,1,10],tank:[20,28,0,28,2,1,10],harpoon:[27,28,0,28,2,1,10],slingshot:[0,8,1,4,1,0,20]},mb:"slingshot",Ka:[[[-7,472],[61,471],[96,527],[61,581],[-7,581],[-41,526]],[[93,299],[59,354],[-9,354],
[-44,300],[-9,244],[59,245]],[[329,74],[363,19],[431,19],[466,73],[431,129],[363,128]],[[621,466],[553,467],[518,411],[553,357],[621,357],[655,412]],[[841,526],[807,581],[739,581],[704,527],[739,471],[807,472]],[[179,135],[247,134],[282,190],[247,244],[179,244],[145,189]],[[145,412],[179,357],[247,357],[282,411],[247,467],[179,466]],[[741,245],[809,244],[844,300],[809,354],[741,354],[707,299]],[[744,20],[812,19],[847,75],[812,129],[744,129],[710,74]],[[330,303],[364,248],[432,248],[467,302],[432,
358],[364,357]],[[363,473],[431,472],[466,528],[431,582],[363,582],[329,527]],[[655,189],[621,244],[553,244],[518,190],[553,134],[621,135]],[[90,74],[56,129],[-12,129],[-47,75],[-12,19],[56,20]]],Oa:.5,za:{easy:[25E4,6E5,15E5],normal:[2E6,125E4,3E6]},Qa:{slingshot:2},mc:{slingshot:1},ib:{x:400,y:415},La:[[210,75],[590,75],[210,525],[590,525]],ya:[[-75,180],[-75,420],[215,650],[585,650],[215,-50],[585,-50],[875,180],[875,420]],zh:!0},"HIVE 4-2":{Hb:{stunner:[8,8,1.2,2.4,1,0,15],mote:[7,14,2,4,1,0,
10],fighter:[0,25,4,9,1,0,8],slingshot:[0,18,3,6,2,0,15],goo:[1,15,0,15,1,0,1]},r:{stunner:[0,6,0,6,2,1,15],mote:[0,8,1.5,3,1,0,10],fighter:[0,15,3,6,1,0,8],slingshot:[0,6,1,3,1,0,15],goo:[1,15,0,15,1,0,1]},mb:"slingshot",Ka:[[[282,254],[311,254],[311,280],[338,280],[338,319],[312,319],[312,347],[282,347]],[[354,418],[354,389],[380,389],[380,362],[419,362],[419,388],[447,388],[447,418]],[[447,182],[447,212],[419,212],[419,238],[380,238],[380,211],[354,211],[354,182]],[[820,619],[605,619],[605,542],
[642,542],[642,505],[820,505]],[[282,619],[282,542],[354,542],[354,505],[447,505],[446,542],[518,542],[518,619]],[[820,418],[642,418],[642,346],[605,346],[605,253],[642,254],[642,182],[820,182]],[[-20,505],[158,505],[158,542],[195,542],[195,619],[-20,619]],[[-20,-19],[195,-19],[195,58],[158,58],[158,95],[-20,95]],[[820,95],[642,95],[642,58],[605,58],[605,-19],[820,-19]],[[518,347],[488,347],[488,319],[462,319],[462,280],[489,280],[489,254],[518,254]],[[-20,182],[158,182],[158,254],[195,253],[195,
346],[158,346],[158,418],[-20,418]],[[518,-19],[518,58],[446,58],[447,95],[354,95],[354,58],[282,58],[282,-19]]],Hf:[[[345,447],[345,412],[376,412],[376,379],[423,379],[423,411],[456,411],[456,447]],[[-94,536],[120,536],[120,580],[164,580],[164,673],[-94,673]],[[547,356],[511,356],[511,323],[479,323],[479,276],[512,276],[512,245],[547,245]],[[456,153],[456,189],[423,189],[423,221],[376,221],[376,188],[345,188],[345,153]],[[253,245],[288,245],[288,276],[321,276],[321,323],[289,323],[289,356],[253,
356]],[[-94,-73],[164,-73],[164,20],[120,20],[120,64],[-94,64]],[[894,673],[636,673],[636,580],[680,580],[680,536],[894,536]],[[894,64],[680,64],[680,20],[636,20],[636,-73],[894,-73]],[[904,447],[680,447],[680,355],[636,355],[636,244],[680,245],[680,153],[904,153]],[[-104,153],[120,153],[120,245],[164,245],[164,356],[120,355],[120,447],[-104,447]],[[253,673],[253,580],[345,580],[344,536],[455,536],[455,580],[547,580],[547,673]],[[547,-73],[547,20],[455,20],[455,64],[344,64],[345,20],[253,20],[253,
-73]]],ya:[[-100,450],[-100,150],[900,450],[900,150],[240,-100],[560,-100],[240,700],[560,700]],La:[[114,150],[114,451],[686,150],[686,451],[561,41],[561,560],[239,41],[239,560]],HA:[[61,107],[61,493],[739,107],[739,493]],Oa:1,za:{normal:[2E6,15E5,3E6]},Qa:{stunner:2,mote:2,slingshot:2,fighter:1},mc:{slingshot:2,fighter:1},zh:!0,ib:{x:400,y:300}},"HIVE 4-3":{Hb:{spear:[20,20,4,8,1,0,10],tank:[17,20,4,8,1,0,15],mote:[14,20,4,8,1,0,10],harpoon:[17,30,5,10,1,0,10],orbiter:[0,12,1.5,6,1,0,15]},r:{spear:[6,
12,2.4,4.8,1,0,10],tank:[4,12,2.4,4.8,1,0,15],mote:[4,12,2.4,4.8,1,0,10],harpoon:[1,18,3,6,1,0,10],orbiter:[0,12,1.5,7.5,2,0,15]},mb:"orbiter",La:[[159,301],[641,301],[208,94],[208,507],[592,94],[592,507]],Ka:[[[309,161],[492,161],[492,249],[456,249],[456,199],[343,199],[343,249],[309,249]],[[309,351],[343,351],[343,401],[456,401],[456,351],[492,351],[492,440],[309,440]],[[230,209],[230,392],[141,392],[141,356],[191,356],[191,243],[141,243],[141,209]],[[571,391],[571,208],[659,208],[659,244],[609,
244],[609,357],[659,357],[659,391]],[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,119],[191,119],[191,158],[37,158],[37,442],[191,442],[191,480],[-40,480]],[[840,481],[609,481],[609,442],[763,442],[763,158],[609,158],[609,120],[840,120]]],Hf:[[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,
532],[609,532]],[[-40,120],[141,119],[141,158],[37,158],[37,442],[141,442],[141,481],[-40,481]],[[840,480],[659,481],[659,442],[763,442],[763,158],[659,158],[659,119],[840,119]],[[481,269],[447,269],[447,219],[354,219],[354,269],[318,269],[318,180],[481,180]],[[481,420],[318,420],[318,331],[354,331],[354,381],[447,381],[447,331],[481,331]],[[568,381],[568,218],[657,218],[657,254],[607,254],[607,347],[656,347],[657,381]],[[232,219],[232,382],[143,382],[143,346],[193,346],[193,253],[144,253],[143,219]]],
ya:[[-100,-100],[-100,700],[900,700],[900,-100]],Oa:1.3,za:{normal:[2E6,12E5,25E5]},Qa:{orbiter:2},mc:{orbiter:1},zh:!0,ib:{x:400,y:300}},"HIVE 4-4":{Hb:{goo:[1,10,0,10,1,0,1],troll:[4,20,3,6,1,0,5],fighter:[2,30,4,9,1,0,5],slingshot:[1,20,3,6,1,0,5],orbiter:[0,12,2,6,1,0,10]},r:{goo:[2,20,0,20,1,0,1],troll:[0,25,4,8,2,0,5],fighter:[12,24,4,8,1,0,5],slingshot:[10,18,3,6,1,0,5],orbiter:[1,18,3,6,2,0,10]},mb:"orbiter",Ka:[[[51,190],[76,190],[76,215],[51,215]],[[126,190],[151,190],[151,215],[126,215]],
[[351,190],[376,190],[376,215],[351,215]],[[426,190],[451,190],[451,215],[426,215]],[[676,215],[651,215],[651,190],[676,190]],[[751,215],[726,215],[726,190],[751,190]],[[237,115],[262,115],[262,140],[237,140]],[[488,140],[313,140],[313,115],[488,115]],[[563,140],[538,140],[538,115],[563,115]],[[-27,-30],[830,-30],[830,54],[-27,54]],[[-27,546],[830,546],[830,630],[-27,630]],[[237,460],[262,460],[262,485],[237,485]],[[488,485],[313,485],[313,460],[488,460]],[[563,485],[538,485],[538,460],[563,460]],
[[751,410],[726,410],[726,385],[751,385]],[[676,410],[651,410],[651,385],[676,385]],[[426,385],[451,385],[451,410],[426,410]],[[351,385],[376,385],[376,410],[351,410]],[[126,385],[151,385],[151,410],[126,410]],[[51,385],[76,385],[76,410],[51,410]],[[51,460],[188,460],[188,485],[51,485]],[[749,140],[612,140],[612,115],[749,115]],[[749,485],[612,485],[612,460],[749,460]],[[51,115],[188,115],[188,140],[51,140]],[[201,385],[301,385],[301,410],[201,410]],[[599,216],[499,216],[499,190],[599,191]],[[599,
410],[499,410],[499,385],[599,385]],[[201,191],[301,190],[301,216],[201,216]]],Hf:[[[327,190],[364,190],[364,215],[327,215]],[[439,190],[477,190],[477,215],[439,215]],[[156,115],[193,115],[193,140],[156,140]],[[532,140],[270,140],[270,115],[532,115]],[[645,140],[607,140],[607,115],[645,115]],[[-51,-30],[847,-30],[847,54],[-51,54]],[[156,460],[193,460],[193,485],[156,485]],[[532,485],[270,485],[270,460],[532,460]],[[645,485],[607,485],[607,460],[645,460]],[[439,385],[477,385],[477,410],[439,410]],
[[327,385],[364,385],[364,410],[327,410]],[[102,385],[252,385],[252,410],[102,410]],[[699,216],[549,216],[549,190],[699,191]],[[699,410],[549,410],[549,385],[699,385]],[[102,191],[252,190],[252,216],[102,216]],[[-51,546],[847,546],[847,630],[-51,630]]],ya:[[-100,350],[900,350],[-100,250],[900,250]],La:[[99,164],[99,437],[701,164],[701,437],[400,165],[400,436]],Oa:1,za:{normal:[2E6,1E6,2E6]},Qa:{troll:2},mc:{orbiter:1},zh:!0,ib:{x:400,y:300}},"HIVE 4-6":{r:{tank:[9,18,3,9,2,0,15],mote:[4,15,3,6,1,
0,10],harpoon:[1,20,3,11,2,0,10],fighter:[10,20,3,11,1,0,6],disabler:[0,20,0,20,1,0,2],deathray:[30,30,4,18,1,0,3]},Hb:{tank:[2,15,3,6,1,0,15],mote:[4,12,2.5,4,1,0,15],harpoon:[6,18,3,6,1,0,10],fighter:[8,24,4,8,1,0,6],disabler:[0,16,0,16,1,0,1],deathray:[40,40,8,24,1,0,3]},mb:"deathray",Hf:[[[187,104],[237,104],[237,142],[187,142]],[[613,497],[563,497],[563,459],[613,459]],[[437,104],[487,104],[487,142],[437,142]],[[313,459],[363,459],[363,497],[313,497]],[[850,650],[-50,650],[-50,550],[187,550],
[187,200],[237,200],[237,550],[437,550],[437,200],[487,200],[487,550],[687,550],[687,200],[850,200]],[[113,459],[113,497],[-50,497],[-50,459]],[[687,142],[687,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[613,50],[613,400],[563,400],[563,50],[363,50],[363,400],[313,400],[313,50],[113,50],[113,400],[-50,400]]],Ka:[[[187,104],[237,104],[237,142],[187,142]],[[613,497],[563,497],[563,459],[613,459]],[[437,104],[487,104],[487,142],[437,142]],[[313,459],[363,459],[363,497],[313,497]],[[850,650],
[-50,650],[-50,550],[187,550],[187,200],[237,200],[237,550],[437,550],[437,200],[487,200],[487,550],[687,550],[687,200],[850,200]],[[113,459],[113,497],[-50,497],[-50,459]],[[687,142],[687,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[613,50],[613,400],[563,400],[563,50],[363,50],[363,400],[313,400],[313,50],[113,50],[113,400],[-50,400]]],ya:[[-50,430],[850,80],[-50,520],[850,170]],La:[[337,429],[461,171],[461,76],[338,524]],Oa:1,za:{easy:[3E5,1E6,25E5],normal:[2E6,1E6,25E5]},Qa:{deathray:1,
disabler:1},zh:!0,ib:{x:400,y:300}},"HIVE 4-5":{Hb:{stunner:[6,8,2,3,1,0,40],spear:[13,10,2,4,1,0,20],troll:[9,20,4,8,1,0,10],slingshot:[11,20,4,8,1,0,10],orbiter:[15,15,3,6,1,0,10],deathray:[30,30,5,10,1,1,3]},r:{stunner:[2,8,1,5,2,0,40],spear:[1,10,2,4,1,1,20],troll:[9,16,2,10,1,1,10],slingshot:[7,15,3,6,1,1,10],orbiter:[1,16,2,10,1,1,10],deathray:[30,30,6,12,1,1,3]},mb:"deathray",La:[[163,471],[163,130],[637,471],[637,130]],Ka:[[[521,180],[484,216],[316,216],[279,180]],[[279,420],[316,384],[484,
384],[521,420]],[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Hf:[[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],
[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],ya:[[-100,-100],[900,-100],[900,700],[-100,700]],Oa:.8,za:{normal:[2E6,12E5,25E5]},Qa:{deathray:1},zh:!0,ib:{x:400,y:300}},"HIVE 4-7":{Hb:{stunner:[1,30,6,12,2,0,6],spear:[5,30,6,12,2,0,6],tank:[3,30,5,10,1,0,5],mote:[10,30,5,10,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[18,30,8,16,1,0,6],fighter:[12,30,8,16,1,0,4],disabler:[14,15,3,
6,1,0,1],troll:[16,30,6,12,1,0,4],slingshot:[28,30,8,16,1,0,4],orbiter:[30,30,6,12,1,0,5],deathray:[2,35,9,18,1,0,3]},r:{stunner:[1,20,2,14,2,0,6],spear:[3,20,2,14,2,0,6],tank:[4,25,3,16,2,0,5],mote:[5,20,2,14,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[10,25,3,16,1,0,6],fighter:[6,25,3,16,1,0,4],disabler:[9,15,0,15,1,0,1],troll:[8,25,3,16,1,0,4],slingshot:[2,25,3,16,1,0,4],orbiter:[30,30,3,21,1,0,5],deathray:[1,30,3,21,1,0,3]},mb:"deathray",Ka:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],
[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[277,208],[335,208],[335,243],[277,243]],[[277,358],[335,358],[335,393],[277,393]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[523,243],[466,243],[466,208],[523,208]],[[523,393],[466,393],[466,358],[523,358]],[[-32,358],[150,358],[150,
393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[370,433],[430,433],[430,468],[370,468]],[[430,168],[370,168],[370,133],[430,133]],[[185,283],[245,283],[245,318],[185,316]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[615,316],[555,318],[555,283],[615,283]],[[430,318],[370,318],[370,283],[430,283]]],Hf:[[[-34,-17],[833,-17],
[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],
[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[430,243],[369,243],[369,208],[430,208]],[[466,283],[527,283],[527,318],[466,318]],[[334,318],[273,318],[273,283],[334,283]],[[430,392],[369,392],[369,357],[430,357]]],ya:[[869,37],[869,563],[-69,37],[-69,563],[-69,112],[-69,489],[869,112],[869,489],[869,190],[869,411],[-69,190],[-69,411],[-69,336],[-69,264],[869,336],[869,264]],La:[[307,152],[307,449],[493,152],
[493,449],[212,224],[212,377],[588,224],[588,377]],Oa:1,za:{easy:[3E5,6E5,125E4],normal:[25E5,125E4,25E5]},Qa:{orbiter:2},zh:!0,ib:{x:400,y:370},jA:{x:400,y:300}},"BOSS 4":{r:{"fourth boss":[0,1,0,0,1,0,1],stunner:[0,0,0,0,0,0,15],spear:[0,0,0,0,0,0,15],tank:[0,0,0,0,0,0,10],mote:[0,0,0,0,0,0,15],goo:[0,0,0,0,0,0,2],disabler:[0,0,0,0,0,0,1],troll:[0,0,0,0,0,0,12],orbiter:[0,0,0,0,0,0,10],fighter:[0,0,0,0,0,0,8],harpoon:[0,0,0,0,0,0,12],slingshot:[0,0,0,0,0,0,12],deathray:[0,0,0,0,0,0,4]},mb:"fourth boss",
Ka:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],ya:[[60,62],[60,539],[740,62],[740,539]],Oa:1,ib:{x:400,y:500},Lu:90,Qa:{"fourth boss":1}}};
for(s in N)N[s].V=s,N[s].za&&"undefined"===typeof N[s].za.easy&&(N[s].za.easy=N[s].za.normal.map(function(a){return a/2})),"undefined"===typeof N[s].ul&&("BOSS"==s.slice(0,4)?N[s].ul=100*parseInt(s.slice(5,6)):"HIVE"==s.slice(0,4)&&(N[s].ul=100*parseInt(s.slice(5,6)))),"undefined"===typeof N.bs&&(N[s].bs=function(a){a=this.Ka[a];for(var b=[],c=0;c<a.length;c++)b.push(new b2Vec2(a[c][0]/E,a[c][1]/E));return b});function wg(){}l=wg.prototype;l.oa=function(){};l.U=function(){};l.Fa=function(){};l.Pa=function(){};l.xg=function(){};l.ah=function(){};l.Je=function(){};l.gq=function(){};function xg(){}xg.prototype=new wg;xg.prototype.constructor=xg;xg.prototype.cn=function(a){var b=new og(a,this);vg(b);a=new Worker("js/lib/worker.js");a.postMessage({a:b.yh,b:b.se,c:E,d:O,e:P});this.ms=0;a.onmessage=function(a){return function(d){d.data.z?a.ms=d.data.z:d.data.a&&(a.Mb=new Sd(b,d.data.a,d.data.b,d.data.c,d.data.d,d.data.e,d.data.f),a.ms=1,a.ls())}}(this);return b};xg.prototype.ls=function(){};yg.prototype=new wg;l=yg.prototype;l.constructor=yg;
function yg(){this.Zb=!1;this.buttons=[];var a=this;this.buttons.push(new $("BACK",16,O/2,P/2+260,60,65,"white",x.impulse_blue,function(){zg(a.T,"fade_out",function(){S=new Qf})},"back"));this.kv=new Image;this.kv.src="impulse_logo.png";this.buttons.push(new $("KEVIN MACLEOD",16,O/2-250,P/2+50,150,70,"white",x.impulse_blue,function(){window.open("http://incompetech.com")},"note"));this.buttons.push(new $("MATT MCFARLAND",16,O/2,P/2+50,150,70,"white",x.impulse_blue,function(){window.open("http://www.mattmcfarland.com")},
"note"));this.buttons.push(new $("SUBTLE PATTERNS",16,O/2+250,P/2+50,150,70,"white",x.impulse_blue,function(){window.open("http://www.subtlepatterns.com")},"texture"));this.buttons.push(new $("JAY SALVAT",16,O/2-150,P/2+180,150,70,"white",x.impulse_blue,function(){window.open("http://buzz.jaysalvat.com/")},"audio"));this.buttons.push(new $("ERIN CATTO",16,O/2+150,P/2+180,150,70,"white",x.impulse_blue,function(){window.open("http://box2d.org/")},"physics_engine"));this.buttons[1].wf="MAIN MENU MUSIC";
this.buttons[2].wf="ALL OTHER MUSIC";this.buttons[3].wf="TEXTURES";this.buttons[4].wf="AUDIO API";this.buttons[5].wf="PHYSICS ENGINE";this.T=new Ag({fade_in:250,fade_out:250});zg(this.T,"fade_in")}l.oa=function(a){this.T.oa(a)};
l.U=function(a){this.Zb||(bg_canvas.setAttribute("style",""),Tf("Hive 0",.3),this.Zb=!0);a.save();"fade_in"==this.T.bc?a.globalAlpha*=Bg(this.T):"fade_out"==this.T.bc&&(a.globalAlpha*=1-Bg(this.T));nb(a,O/2,150,"CREDITS");a.font="20px Muli";a.fillStyle="white";a.textAlign="center";a.shadowColor=a.fillStyle;a.globalAlpha*=1;a.globalAlpha/=1;for(var b=0;b<this.buttons.length;b++)this.buttons[b].U(a);a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};
l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};function Ag(a){this.Px=a;this.bc=null;this.oh=0}function zg(a,b,c){null==a.bc&&(a.bc=b,a.oh=a.Px[b],a.ky=c)}Ag.prototype.oa=function(a){null!=this.bc&&0<this.oh&&(this.oh-=a);null!=this.bc&&0>=this.oh&&(this.ky&&this.ky(),this.bc=null)};function Bg(a){return a.bc?Math.min(1-a.oh/a.Px[a.bc],1):0};Cg.prototype=new wg;l=Cg.prototype;l.constructor=Cg;
function Cg(a,b,c,d,f){this.i=b;this.V=this.i.V;this.buttons=[];this.n=c;this.Mb=d;this.Zb=!1;this.ta=f.ta;this.color=x["world "+this.n+" bright"];this.Cl=new $("RETRY",16,O-70,P-40,60,65,this.color,"white",function(a){return function(){var b=new hc(a.n,!1);zg(a.T,"fade_out",function(){S=new Vf(a.n,a.i,a.Mb,b,!1,!1)})}}(this),"start");this.buttons.push(this.Cl);this.Cl.keyCode=va.Wq;this.Cl.wf="right"==D.Gb?"R KEY":"SHIFT KEY";this.buttons.push(new $("MENU",16,70,P/2+260,60,65,this.color,"white",
function(a){return function(){a.n?zg(a.T,"fade_out",function(){S=new dg(a.n,!0);"normal"==K?Tf("Title Alt"+a.n,.15):Tf("Hive 0",.3)}):zg(a.T,"fade_out",function(){S=new Qf;Tf("Hive 0",.3)})}}(this),"back"));this.G=a;this.i.ra?(this.Wa=f.Wa?f.Wa:0,this.bb=f.bb?f.bb:0):(this.Sc=f.Sc,this.bb=f.bb?f.bb:0,this.Wa=f.Wa?f.Wa:0);Pe+=this.G.oe;fc();ig(K);this.Kn=["world "+this.n+" bright","silver","gold"];gc();this.T=new Ag({fade_in:500,fade_out:250});zg(this.T,"fade_in")}l.oa=function(a){this.T.oa(a)};
l.U=function(a,b){if(!this.Zb){this.i.t=null;bg_canvas.setAttribute("style","display:none");b.translate(X,0);this.i.Ue(b);var c=Xe.getContext("2d");Bb(c,0,O,P,"Hive "+this.n);this.Zb=!0;b.translate(-X,0);this.Zb=!0}a.save();a.fillStyle=x["world "+this.n+" dark"];a.fillRect(0,0,O,P);a.globalAlpha*=mg(this.n);a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();a.save();"fade_in"==this.T.bc?a.globalAlpha*=Bg(this.T):"fade_out"==this.T.bc&&(a.globalAlpha*=1-Bg(this.T));if(this.i.ra)a.globalAlpha/=3,La(a,this.n,
O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==K&&(a.textAlign="center",a.fillText("HARD MODE",O/2,180)),a.restore(),a.beginPath(),a.fillStyle=this.color,a.textAlign="center",a.font="32px Muli",a.fillText(ra[this.n],O/2,240),a.fill(),a.font="48px Muli",this.i.xh?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300)),d=420,a.fillStyle=this.color,a.font="20px Muli",a.fillText("GAME TIME ",O/
2,380),a.font="42px Muli",a.fillText(this.G.Nj,O/2,d),c=440,this.Wa||(a.beginPath(),a.moveTo(350,c),a.lineTo(450,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke()),c=445,d=500,f=470,this.Wa?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2,f),a.font="28px Muli",1E3>N[this.V].Ja[K].Wa?(a.font="28px Muli",a.fillText(Yb(N[this.V].Ja[K].Wa),O/2,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",
O/2,d)),a.restore());else{a.globalAlpha/=3;La(a,this.n,O/2,230,80,!0);a.globalAlpha*=3;a.save();a.globalAlpha*=.5;a.fillStyle="white";a.font="20px Muli";"normal"==K&&(a.textAlign="center",a.fillText("HARD MODE",O/2,180));a.restore();a.beginPath();a.fillStyle=this.color;a.font="42px Muli";a.textAlign="center";a.fillText(this.V,O/2,240);a.fill();a.font="36px Muli";this.ta?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300));var c=380,d=420;a.fillStyle=
this.color;a.font="20px Muli";a.fillText("GAME TIME ",O/2+100,c);a.font="42px Muli";a.fillText(this.G.Nj,O/2+100,d);a.fillStyle=0<this.bb?x[this.Kn[this.bb-1]]:this.color;a.font="20px Muli";a.fillText("SCORE",O/2-100,c);a.font="42px Muli";a.fillText(this.G.df,O/2-100,d);c=440;this.Sc||(a.beginPath(),a.moveTo(250,c),a.lineTo(350,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());this.Wa||(a.beginPath(),a.moveTo(450,c),a.lineTo(550,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());var c=445,
d=500,f=470;this.Sc?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,f),a.font="28px Muli",a.fillText(N[this.V].Ja[K].Sc,O/2-100,d),a.restore());this.Wa?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,f),a.font="28px Muli",1E3>N[this.V].Ja[K].Wa?
(a.font="28px Muli",a.fillText(Yb(N[this.V].Ja[K].Wa),O/2+100,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,d)),a.restore())}for(c=0;c<this.buttons.length;c++)this.buttons[c].U(a);a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};l.Je=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].Je(a)};Vf.prototype=new wg;l=Vf.prototype;l.constructor=Vf;function Vf(a,b,c,d,f,g){null!=a&&void 0!=a&&this.ha(a,b,c,g,d,f)}
l.ha=function(a,b,c,d,f,g){this.G={df:0,uf:1,vh:1,ef:0,oe:0,wp:0,Nj:null,mv:!1};this.J=f;if(this.hc=g)this.J.bg=Math.floor(this.J.bg),this.J.Ld=Math.floor(this.J.Ld);this.pause=!0;this.ready=!1;this.buttons=[];this.Vm=null;this.ec=[];this.xA=1E3;this.ow=30;this.Oa=1;this.Zb=!1;this.Bf=1<=jc();this.wu=!1;this.bb=0;this.n=a;this.Kn=["world "+this.n+" lite","silver","gold"];this.bk=0;this.gE=3E3;a=new b2Vec2(0,0);this.sa=new b2World(a,!1);b&&(this.i=b,this.i.t=this,this.i.reset(),this.V=this.i.V,this.ra=
"BOSS"==this.V.slice(0,4),Dg(this),"BOSS 4"==this.V?dc(bc,ka["Final Tessellation"]):"BOSS"==this.V.slice(0,4)?dc(bc,ka.Tessellation):0!=this.n&&dc(bc,ka["Hive "+this.n]));void 0===this.J.ph[this.V]&&(this.J.ph[this.V]=0);this.Mb=c;this.color=this.ra?x["boss "+this.n]:x["world "+this.n+" lite"];this.zi=x["world "+this.n+" dark"];this.Gc=x["world "+this.n+" lite"];this.I=x["world "+this.n+" bright"];this.bp=6E3;this.wi=0;this.Yv=this.dw=!1;Eg(this);c=new b2ContactListener;c.lt=this.kz;c.Dt=this.$y;
c.qt=this.YC;this.sa.Ex(c);this.pause=!1;this.kB=this.ready=!0;this.Yn=1;this.Pf={x:O/2,y:P/2};this.sw=1500;this.Zy=750;this.pk=0;this.Rd="none";this.ht={x:O,y:P};this.Fq={x:O,y:P};this.it=.1;this.Gq=1;this.zoom=.1;this.Sl=!0;(this.Bj=d)?Fg(this,1,this.sw):Fg(this,1,this.Zy);this.Sk="in";this.Gj=this.ta=!1;this.Ir=this.Fy=100;this.vv=!1;this.Tv=3E4;this.Wj=0;this.wl=null;this.mw=5E3;this.gk=0;this.Zp=document.createElement("canvas");this.Zp.width=120;this.Zp.height=160;this.Zp.getContext("2d");!b||
this instanceof qc||Gg(this);for(b=0;b<xa.length;b++)xa[b].color=this.color,xa[b].$a=this.I;this.jh=0==this.n||Qe.length<Hg.prototype.zs.length;this.ra&&1==this.n&&"easy"==K&&3>N[this.V].Ja[K].bb&&(this.jh=!0);this.jh&&(this.Fw=new Hg(this),this.eg={},this.Qn={},this.ZA=500);!this.ra&&this.i&&Oc(this);0==this.n&&this.J&&(this.J.Ld=99)};
l.reset=function(){this.G={df:0,uf:1,vh:1,ef:0,oe:0,wp:0,Nj:null};this.Tv=1E4;this.Wj=0;this.wl=null;this.Yv=this.Bj=this.dw=!1;var a=new b2Vec2(0,0);this.sa=new b2World(a,!1);Eg(this);a=new b2ContactListener;a.lt=this.kz;a.Dt=this.$y;this.sa.Ex(a);this.mw=1E4;this.bb=this.gk=0;this.ta=this.Gj=!1;this.i.reset();!this.i||this instanceof qc||Gg(this);Y.translate(X,0);this.i.Ue(Y);Y.translate(-X,0);this.bk=0;this.wu=!1;this.ra&&this.jh&&(this.Fw=new Hg(this),this.eg={},this.Qn={},this.ZA=500);!this.ra&&
this.i&&Oc(this)};function Gg(a){if(0!=a.n)for(var b in N[a.V].r)G[b].Bg+=1,fc(),G[b].Cf||1!=G[b].Bg||(Xf("enemy_"+b,5E3,a.I,a.n),a.wl=b)}function Dg(a){if(a.i.$i)a.q=new mc(a.sa,a.i.$i.x/E,a.i.$i.y/E,a);else{var b=Rb({x:-10,y:-10},a.Oa,E);a.q=new mc(a.sa,b.x,b.y,a)}}function Fg(a,b,c){var d={x:O/2,y:P/2};a.Rd="in";a.jt=c;a.pk=c;a.Fq=d;a.Gq=b;a.ht={x:a.Pf.x,y:a.Pf.y};a.it=a.zoom;a.Sl=!1}function Ig(a,b,c,d){a.Rd="out";a.jt=d;a.pk=d;a.Fq=b;a.Gq=c;a.ht={x:a.Pf.x,y:a.Pf.y};a.it=a.zoom;a.Sl=!1}
l.oa=function(a){if(this.ready){null==this.Vm?this.Vm=0:100==this.Vm&&(this.Vm=0);this.Vm+=1;for(var b in this.Qn)this.Qn[b]-=a,0>this.Qn[b]&&(this.eg[b]="timeout");if(!this.pause){this.jh&&(this.Fw.oa(a),this.Gj&&Q(this.i.Fc,this.q.body.g.position)<this.i.Xk&&rc(this,"moved_to_gateway"));document.webkitHidden&&(this.pause=!0,Je=new Jg(this.i,this.n,this.G,this,this.Mb));this.Ir-=a;0<this.Wj?this.Wj-=a:this.wl&&(this.nw=this.wl=null);0<this.gk?this.gk-=a:this.nw&&(this.nw=this.wl=null);this.Rw?this.Pf=
{x:this.q.body.g.position.x*E,y:this.q.body.g.position.y*E}:"none"!=this.Rd&&(0>=this.pk?(this.Rd="none",this.zoom=this.Gq,this.Pf=this.Fq,this.Sl=!1):(b=this.pk/this.jt,this.zoom=1/(1/this.it*b+1/this.Gq*(1-b)),this.Pf.x=this.ht.x*b+this.Fq.x*(1-b),this.Pf.y=this.ht.y*b+this.Fq.y*(1-b),this.pk-=a));"none"==this.Rd&&1==this.zoom&&this.ra&&!this.wu&&(this.wi=this.bp,4==this.n&&(this.wi/=2,this.bp/=2),this.wu=!0);0<this.wi&&(this.wi-=a);if(this.q.N&&0<this.q.tb&&!this.dw){this.dw=!0;b=this.i;b.Dl=!0;
b.Ls=b.hw;for(var c=0;c<b.r.length;c++)b.r[c].Nc("fade");this.G.df=0;this.G.uf=1;this.bb=0;this.hc&&0<this.n&&(this.J.G[this.i.V].Dm+=1,kg(this.J))}if(this.q.N&&0>this.q.tb||this.Tu)this.Tu||this.Yv&&this.hc?"none"==this.Rd&&1==this.zoom?(Ig(this,{x:O/2,y:P/2},.1,this.Zy),this.Sk="out"):"none"==this.Rd&&(this.ready=!1,this.$r()):(this.reset(),Dg(this));else if(this.i.Og&&this.i.Og.N&&0>this.i.Og.tb&&"fade"!=this.i.Og.N&&!this.q.N)"none"==this.Rd&&1==this.zoom?(Fg(this,10,this.sw),this.Sk="out",Kg(this),
this.ta=!0,this.i.xh=!0):"none"==this.Rd&&(this.ready=!1,this.$r());else if(this.ta)"none"==this.Rd&&1==this.zoom?(Ig(this,{x:this.q.body.g.position.x*E,y:this.q.body.g.position.y*E},10,this.sw),this.Sk="out"):"none"==this.Rd&&(this.ready=!1,this.$r(!0));else{this.ra||(b=Math.min(this.G.df/this.i.za[0],1),c=this.gE,this.q.N&&(c/=3),this.bk>b?this.bk=Math.max(this.bk-a/c,b):this.bk<b&&(this.bk=Math.min(this.bk+a/c,b)));this.kB&&1>this.Yn?this.Yn=Math.min(1,this.Yn+a/1E3):!this.kB&&0<this.Yn&&(this.Yn=
Math.max(0,this.Yn-a/1E3));this.q.oa(a);this.G.uf=this.G.vh+Math.floor(this.G.ef/10);this.G.Nj=Gb(this.G.ef);this.G.wp+=a;0<this.n&&(this.J.ji-=a);this.J.ph[this.i.V]+=a;this.G.ef=Math.floor(this.G.wp/1E3);this.G.ph+=a;this.i.oa(a);for(b=this.ec.length-1;0<=b;b--)this.ec[b].duration-=a,0>=this.ec[b].duration&&this.ec.splice(b,1);this.sa.kj(1/60,1,10);this.Xc(a)}}}};l.Xc=function(){};
function Wf(a,b){if("in"==a.Sk){var c=Wb(.1,.5,a.pk/a.jt);b.globalAlpha=Math.min(1-c,1)}else"out"==a.Sk&&(c=Wb(.1,.5,a.pk/a.jt),b.globalAlpha=Math.max(c,0))}
l.U=function(a,b){if(this.ready&&!this.pause){this.je(a,b);a.save();a.translate(X,0);"none"!=this.Rd&&(a.rect(0,0,O,P),a.clip());a.fillStyle=this.zi;a.scale(this.zoom,this.zoom);a.translate((O/2-this.Pf.x*this.zoom)/this.zoom,(P/2-this.Pf.y*this.zoom)/this.zoom);a.beginPath();"none"!=this.Rd&&(a.rect(2,2,O-4,P-4),a.clip());Wf(this,a);"none"!=this.Rd&&a.drawImage(bg_canvas,X,0,O,P,0,0,O,P);this.i.gh(a,E);this.q.gh(a);this.i.U(a,E);1!=this.zoom&&this.ta?(a.save(),a.translate(this.q.body.g.position.x*
E,this.q.body.g.position.y*E),a.scale(1/this.zoom,1/this.zoom),a.translate(-this.q.body.g.position.x*E,-this.q.body.g.position.y*E),this.q.U(a),a.restore()):this.q.U(a);this.i.Tk(a,E);if(this.vv){var c=this.i;c.Fj=c.ez;c.Ej=!0;if(c.Hk){for(var d=0;d<c.ep.length;d++)tg(c,c.ep[d]);c.Iu=!0}this.vv=!1}a.beginPath();"none"==this.Rd&&(a.rect(2,2,O-4,P-4),a.clip());0<this.wi&&this.wi<this.bp&&this.hc&&1==this.zoom&&4>=this.n&&this.Bj&&(a.globalAlpha=Math.min(1,(1-2*Math.abs(this.wi/this.bp-.5))/.5),a.beginPath(),
a.fillStyle=x["boss "+this.n],a.textAlign="center",a.font="42px Muli",a.fillText(this.J.yu,O/2,P/2-150),a.fill());if(!this.ra)for(c=0;c<this.ec.length;c++)a.save(),a.beginPath(),a.font=this.ec[c].size+"px Muli",d=this.ec[c].duration/this.ec[c].LD,a.globalAlpha*=d,a.fillStyle=this.ec[c].color,this.ec[c].jD?(a.textAlign="left",J(a,this.ec[c].x*E+20,this.ec[c].y*E-(1-d)*this.ow-7,0,.8*this.ec[c].size,.8*this.ec[c].size,"spark"),a.fillText(this.ec[c].text,this.ec[c].x*E-25,this.ec[c].y*E-(1-d)*this.ow)):
(a.textAlign="center",a.fillText(this.ec[c].text,this.ec[c].x*E,this.ec[c].y*E-(1-d)*this.ow)),a.restore();a.restore();a.clearRect(0,0,X,Hc);a.clearRect(Gc-X,0,X,Hc);1==this.zoom&&"none"==this.Rd?0>this.Ir&&(Lg(this,b),this.Ir=this.Fy):Lg(this,a);if(0==!this.n||N[this.V].oq)null!=this.wl&&(a.save(),Wf(this,a),500>this.Wj?a.globalAlpha*=Math.max(0,this.Wj/500):this.Wj>this.Tv-500&&(a.globalAlpha*=Math.max(0,(this.Tv-this.Wj)/500)),a.drawImage(this.Zp,0,0,120,160,X/2-60,Hc/2,120,160),a.restore()),null!=
this.nw&&(a.save(),Wf(this,a),500>this.gk?a.globalAlpha*=Math.max(0,this.gk/500):this.gk>this.mw-500&&(a.globalAlpha*=Math.max(0,(this.mw-this.gk)/500)),a.drawImage(this.Zp,0,0,120,160,X/2-60,Hc/2-30,120,160),a.restore());if(0!=this.n||N[this.V].oq||N[this.V].EA){a.save();Wf(this,a);if(!this.ra){var c=this.bk,d=this.color,f=Gc-X/2,g=Hc/2,h=3*Hc/4-50;a.save();a.shadowBlur=0;a.beginPath();a.rect(f-20,g-.5*h,40,h);a.fillStyle="black";a.fill();a.restore();a.save();a.beginPath();a.rect(f-20,g-.5*h,40,
h);a.strokeStyle=d;a.fillStyle=d;a.lineWidth=4;a.save();a.globalAlpha/=10;a.fill();a.restore();a.stroke();a.beginPath();a.rect(f-20,g+.5*h-c*h,40,h*c);a.fillStyle=d;a.fill();a.restore();a.textAlign="center";a.font="72px Muli";a.fillStyle=this.av(this.G.uf);(0!=this.n||N[this.V].oq)&&a.fillText("x"+this.G.uf,Gc-X/2,Hc/2)}a.restore()}a.save();Wf(this,a);for(c=0;c<this.buttons.length;c++)this.buttons[c].U(a);a.restore();a.save();a.translate(X,0);Wf(this,a);this.jh&&!yd&&this.Fw.U(a);a.restore();this.Sl||
(1==this.zoom&&"none"==this.Rd?bg_canvas.setAttribute("style",""):bg_canvas.setAttribute("style","display: none"),this.Sl=!0)}};l.je=function(){};
function Lg(a,b){b.save();b.globalAlpha=1;b.beginPath();b.fillStyle="black";b.clearRect(0,0,X,Hc);b.clearRect(Gc-X,0,X,Hc);Wf(a,b);b.fillStyle=a.color;b.textAlign="center";a instanceof qc||0!=!a.n||"normal"!=K||a.ra||(b.font="20px Muli",b.save(),b.globalAlpha*=1,b.fillText("HARD MODE",X/2,170),b.restore());0==a.n||a.ra?0==a.n&&(b.font="40px Muli",b.fillText("TUTORIAL",X/2,70)):(b.font="64px Muli",type=a.V.split(" ")[0],"HOW"!=type?b.fillText(type,X/2,70):(b.font="40px Muli",b.fillText("HOW TO",X/
2,70)),b.font="80px Muli","BOSS"==type?b.fillText(a.n,X/2,140):"HOW"==type?(b.font="60px Muli",b.fillText("PLAY",X/2,130)):b.fillText(a.V.slice(5,a.V.length),X/2,140));var c=Hc-15;a.ra||(b.fillStyle=a.I,b.font="18px Muli",b.save(),b.globalAlpha*=.4,"right"==D.Gb?b.fillText("Q FOR MENU",X/2,c):b.fillText("ENTER FOR MENU",X/2,c),b.restore());c=Hc/2-20;if(0!=a.n||N[a.V].oq)if("normal"==K&&0<a.n&&a.hc&&D.ji){b.fillStyle="white";b.font="16px Muli";b.fillText("SPEED RUN",X/2,c-30);b.fillText("TIME LEFT",
X/2,c-10);b.font="32px Muli";var d=Gb(Math.max(0,Math.ceil(a.J.ji/1E3)));b.fillText(d,X/2,c+22)}else a.ra||(b.fillStyle=a.color,b.font="16px Muli",b.fillText("LEVEL TIME",X/2,c-10),b.font="32px Muli",b.fillText(a.G.Nj,X/2,c+22));a.ra||0!=!a.n&&!N[a.V].oq&&!N[a.V].EA||(b.font="21px Muli",b.fillText("SCORE",Gc-X/2,Hc-10),b.font="40px Muli",b.fillText(a.G.df,Gc-X/2,Hc-35),3>a.bb&&(a.Gj?(b.fillStyle=a.I,b.font="21px Muli",b.fillText("GATEWAY",Gc-X/2,45),b.font="42px Muli",b.fillText("OPEN",Gc-X/2,85)):
(b.fillStyle=a.Gc,b.font="21px Muli",b.fillText("GOAL",Gc-X/2,45),b.font="42px Muli",b.fillText(a.i.za[0],Gc-X/2,85))));b.restore()}l.av=function(){return"white"};function Mg(a,b){return{x:(b.x-(O/2-a.Pf.x*a.zoom))/a.zoom,y:(b.y-(P/2-a.Pf.y*a.zoom))/a.zoom}}l.Fa=function(a,b){if(this.ready){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b);this.pause||(this.q.Qv=Mg(this,{x:a-X,y:b}))}};
l.xg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b);this.pause||(c=this.q,c.sv=(new Date).getTime(),c.aq=!0)};l.ah=function(){this.pause||(this.q.aq=!1)};function Ng(a){a.pause=!a.pause;a.pause?(nc(a.q,va.ij),a.q.aq=!1,Je=new Jg(a.i,a.n,a.G,a,a.Mb)):Je=null}
l.Je=function(a){if(this.ready){if(90==a&&ff)if(this.ta=!0,this.ra?this.i.xh=!0:this.G.df=this.i.za[2],Kg(this),this.hc&&0<this.n&&!this.ra){this.J.Gk=Og(this.i,this.n);for(var b in this.G)this.J.G[this.i.V][b]=this.G[b];kg(this.J);Xf("saved_alert",1500,"white",this.n)}else this.hc&&0<this.n&&this.ra&&kg({});if(a==va.ij||a==va.uk)this.ra&&this.ta||this.Yv||Ng(this);else if(a==va.Oq&&this.Gj&&Q(this.i.Fc,this.q.body.g.position)<this.i.Xk)if(this.ta=!0,Kg(this),this.ra&&(this.i.xh=!0),this.hc&&0<this.n&&
!this.ra){this.J.Gk=Og(this.i,this.n);for(b in this.G)this.J.G[this.i.V][b]=this.G[b];kg(this.J);Xf("saved_alert",1E3,"white",this.n)}else this.hc&&0<this.n&&this.ra&&kg({});else 69==a&&ff?(this.Rw=!this.Rw)?(this.zoom=1.7,this.Rd="player"):(this.zoom=1,this.Pf={x:O/2,y:P/2},this.Sk=this.Rd="none",this.Sl=!1):nc(this.q,a)}};
l.gq=function(a){if(this.ready){var b=this.q;switch(a){case va.Uq:b.left=!1;break;case va.Xq:b.right=!1;break;case va.Kq:b.lp=!1;break;case va.Zq:b.Aq=!1;break;case va.nx:b.Gh=null;break;case va.px:b.Kh=null;break;case va.ox:b.Ih=null;break;case va.mx:b.Fh=null;break;case va.ij:case va.uk:b.Aq=!1,b.lp=!1,b.left=!1,b.right=!1,b.Gh=null,b.Ih=null,b.Kh=null,b.Fh=null}}};
function Eg(a){var b,c;b=[{x:O/E/2,y:2},{x:O/E/2,y:2},{x:2,y:P/E/2},{x:2,y:P/E/2}];c=[{x:O/E/2,y:-2},{x:O/E/2,y:P/E+2},{x:-2,y:P/E/2},{x:O/E+2,y:P/E/2}];for(var d=0;4>d;d++){var f=new b2FixtureDef;f.filter.sf=1;f.filter.Ff=2;var g=new b2BodyDef;g.type=b2Body.qf;f.shape=new b2PolygonShape;f.shape.Bx(b[d].x,b[d].y);g.position.P(c[d].x,c[d].y);a.sa.ao(g).Jq(f)}}l.kz=function(a){var b=a.pc.Lf();a=a.qc.Lf();b&&a&&(b.owner.Re(a.owner,b.body,a.body),a.owner.Re(b.owner,a.body,b.body))};
l.YC=function(a){var b=a.pc.Lf();a=a.qc.Lf();b&&a&&"tank"==b.owner.type&&"tank"==a.owner.type&&(b.owner.Re(a.owner,b.body,a.body),a.owner.Re(b.owner,a.body,b.body))};
l.$y=function(a){var b=a.pc.Lf(),c=a.qc.Lf();if(null!=b&&null!=c){var d=b.self,f=c.self;if(null!=d&&null!=f){var b=[d,f],g=[f,d],h;for(h in b)if(d=b[h],"harpoonhead"==d.type&&"inactive"!=d.Ei.nb){f=g[h];if(f!=d.Ei&&"harpoonhead"!=f.type&&!f.Cf&&!c.owner.Cf){if(("boss four spawner"==f.type||"boss four attacker"==f.type)&&!f.rb)continue;Q(d.body.g.position,f.body.g.position)<d.K+f.K&&(f.yz&&f.open(3E3),d=d.Ei,"engaged"==d.nb||d.N||d.ma()||f.id===d.gv||(ac("hhit"),d.nb="engaged",d.Rc=f,d.Rc==d.q&&Qc(d.t)))}a.KB()}}}};
function Mc(a,b,c,d,f,g){a.ec.push({text:b,color:c,x:d,y:f,duration:g?g:a.xA,LD:g?g:a.xA,size:20,jD:void 0})}function Oc(a){a.G.df>=a.i.za[0]&&0==a.bb&&(a.bb=1,a.Gj=!0,a.vv=!0,a instanceof qc&&a.Ej(),a.jh&&rc(a,"gateway_opened"))}function Nc(a){a.G.vh+=1;a.G.uf=a.G.vh+Math.floor(a.G.ef/10)}function Qc(a){a.q.lk||(a.jh&&!a.i.ra&&rc(a,"multiplier_reset"),a.J.pz=!0,a.G.vh=1,a.G.uf=a.G.vh+Math.floor(a.G.ef/10))}
l.$r=function(){S=this.hc?new Pg(this.n,this.i,this.ta||this.i.xh,this.G,this.Mb,this.J):new Qg(this.J,this.hc,{G:this.G,i:this.i,n:this.n,Mb:this.Mb,ta:this.ta})};
function Kg(a){if(a.i.ra){var b=a.i.V,c=a.G.ef,d=K,f={};c<N[b].Ja[d].Wa?(f.Wa=!0,N[b].Ja[d].Wa=c):f.Wa=!1;N[b].Ja[d].bb=3;f.bb=3;f.Wa&&fc();b=f;a.G.Wa=b.Wa;a.G.bb=b.bb;a.G.df="WIN"}else{var b=a.i.V,c=a.G.df,g=a.G.ef,d=K,f={};c>N[b].Ja[d].Sc?(f.Sc=!0,N[b].Ja[d].Sc=c):f.Sc=!1;g<N[b].Ja[d].Wa?(f.Wa=!0,N[b].Ja[d].Wa=g):f.Wa=!1;for(g=0;c>=N[b].za[d][g];)g+=1;f.bb=g;f.Sc&&(N[b].Ja[d].bb=f.bb,fc());f.Wa&&fc();b=f;a.G.Sc=b.Sc;a.G.bb=b.bb;a.G.Wa=b.Wa}}
function rc(a,b){a.jh&&(a.eg[b]="fresh",a.Qn[b]=a.ZA)};Rg.prototype=new xg;l=Rg.prototype;l.constructor=Rg;
function Rg(a,b){this.V=a;this.buttons=[];this.n=b;this.Zb=!1;this.color=x["world "+this.n+" lite"];this.I=x["world "+this.n+" bright"];this.ra="BOSS"==this.V.slice(0,4);this.buttons.push(new $("BACK",16,70,P/2+260,60,65,this.I,"white",function(a){return function(){Y.fillStyle=x["world "+a.n+" dark"];Y.translate(X,0);Y.fillRect(0,0,O,P);Y.globalAlpha*=mg(0);Bb(Y,0,O,P,"Hive "+a.n);Y.translate(-X,0);Ge.setAttribute("style","");zg(a.T,"fade_out_to_main",function(){S=a.n?new dg(a.n,!0):new Qf;Ye=null;
"normal"==K?Tf("Title Alt"+a.n,.15):Tf("Hive 0",.3)})}}(this),"back"));this.Kn=["bronze","silver","gold"];this.bb=N[this.V].Ja[K].Sc.bb;this.Mk=null;if(this.ra)this.Mk={};else{this.Mk=N[this.V].r;this.cf=0;for(var c in N[this.V].r)this.cf+=1}this.Sf=40;this.i=this.cn(N[this.V]);var d=0;for(c in this.Mk){for(var f=0,g=0;f<d+1&&f<this.cf;)f+=12;g=f<=this.cf?12:this.cf-(f-12);this.buttons.push(new Sg(c,this.Sf,O/2+(this.Sf+10)*(d-(f-12)-(g-1)/2),400+this.Sf*(Math.floor(d/12)-(Math.ceil(this.cf/12)-1)/
2),this.Sf,this.Sf,x["world "+this.n+" lite"],function(a,b){return function(){zg(b.T,"fade_out",function(){Je=new Tg(a,b)})}}(c,this)));d+=1}this.T=new Ag({fade_in:500,fade_out:250,fade_out_to_main:250});zg(this.T,"fade_in")}l.oa=function(a){this.T.oa(a);Uf(a)};
l.U=function(a,b){if(!this.Zb){var c=Xe.getContext("2d");c.clearRect(0,0,O,P);Bb(c,0,O,P,"Hive "+this.n);b.translate(X,0);this.i.Ue(b);this.Zb=!0;b.translate(-X,0);bg_canvas.setAttribute("style","display:none")}"fade_out_to_main"!=this.T.bc?(a.save(),a.fillStyle=x["world "+this.n+" dark"],a.fillRect(0,0,O,P),a.globalAlpha*=mg(this.n)):(a.save(),a.globalAlpha*=Bg(this.T),a.fillStyle="black",a.fillRect(0,0,O,P),a.globalAlpha*=mg(0));a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();a.save();if("fade_in"==
this.T.bc)a.globalAlpha*=Bg(this.T);else if("fade_out"==this.T.bc||"fade_out_to_main"==this.T.bc)a.globalAlpha*=1-Bg(this.T);if(this.ra)for(a.fillStyle=x["world "+this.n+" bright"],a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.save(),a.globalAlpha*=.3,La(a,this.n,O/2,P/2-50,100),a.restore(),a.font="16px Muli",a.fillText(this.i.V,O/2,P/2-60),a.font="40px Muli",a.fillText(ra[this.n],O/2,P/2-20),a.font="24px Muli",3==N[this.V].Ja[K].bb?(a.font="12px Muli",a.fillText("BEST TIME",O/2,390),a.font=
"28px Muli",a.fillText(Yb(N[this.V].Ja[K].Wa),O/2,415)):(a.fillStyle=x["boss "+this.n],a.fillText("UNDEFEATED",O/2,400)),c=0;c<this.buttons.length;c++)this.buttons[c].U(a);else{a.globalAlpha/=3;La(a,this.n,O/2,130,40,!0);a.globalAlpha*=3;a.fillStyle="white";a.font="18px Muli";"normal"==K&&a.fillText("HARD MODE",O/2,100);a.beginPath();a.fillStyle=x["world "+this.n+" bright"];a.font="30px Muli";a.textAlign="center";a.fillText(this.V,O/2,140);a.fill();for(c=0;c<this.buttons.length;c++)this.buttons[c].U(a);
pb(a,this.V,O/2,255,x["world "+this.n+" lite"]);a.beginPath();a.rect(O/2-100,100,250,150);a.strokeStyle="rgba(0, 0, 0, .3)";a.stroke();if(1>this.ms){a.textAlign="center";var c=this.ms,d=O-70,f=P-53;a.save();db(a,d,f,10,"gray");a.beginPath();a.arc(d,f,15,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI*c);a.lineWidth=2;a.strokeStyle="gray";a.stroke();a.restore();a.font="16px Muli";a.fillStyle="gray";a.fillText("LOADING",O-70,P-19)}if("HOW TO PLAY"!=this.V.slice(0,11)){a.fillStyle=this.I;a.font="12px Muli";a.fillText("ENEMIES",
O/2,370);for(score_color=0;N[this.V].Ja[K].Sc>N[this.V].za[K][score_color];)score_color+=1;a.fillStyle=this.I;a.textAlign="center";a.font="12px Muli";a.fillText("HIGH SCORE",O/2-100,480);a.font="28px Muli";a.fillText(N[this.V].Ja[K].Sc,O/2-100,505);a.fillStyle=this.I;a.font="12px Muli";a.fillText("BEST TIME",O/2+100,480);1E3>N[this.V].Ja[K].Wa?(a.font="28px Muli",a.fillText(Yb(N[this.V].Ja[K].Wa),O/2+100,505)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,505))}}a.restore()};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};l.ls=function(){var a=new hc(this.n,!1);this.buttons.push(new $("START",16,O-70,P/2+260,100,65,this.I,"white",function(b){return function(){zg(b.T,"fade_out",function(){S=new Vf(b.n,b.i,b.Mb,a,!1,!0)})}}(this),"start"))};Ug.prototype=new wg;l=Ug.prototype;l.constructor=Ug;l.jE={F:0,D:10,"D+":11,"C-":13,C:14,"C+":15,"B-":16,B:17,"B+":18,"A-":20,A:21,"A+":22,S:24,"S+":25};l.Mw=["half","basic","silver","gold"];
function Ug(a,b,c,d,f,g,h){this.Mj=h;this.fk=g;this.buttons=[];this.Zb=!1;this.J=c;this.i=d;this.Mb=f;this.n=a;this.ta=b;this.Bf=1<=jc();g&&(this.J=hc.prototype.clone(Oe[K]),lc(this.J),fc(),this.n=this.J.sa,this.ta=null);this.Ca=this.Pd=250;this.jb="in";this.buttons=[];this.ni="half";this.color=x["world "+this.n];this.Gc=x["world "+this.n+" lite"];this.I=x["world "+this.n+" bright"];this.zi=x["world "+this.n+" dark"];0<this.n&&(this.ph=Math.ceil((1E3*Eb["blitz_hive"+this.n].yq-this.J.ji)/1E3),this.Nn=
0);for(a=0;8>a;a++)f=7==a?"BOSS "+this.n:"HIVE "+this.n+"-"+(a+1),this.J.G[f]&&(this.Nn+=this.J.G[f].Dm);if(b){Vg(this);this.wF="HIVE "+this.J.yu+" DEFEATED";b=3;for(d in c.G)c.G[d].bb<b&&(b=c.G[d].bb);c.Qg||(this.ni=this.Mw[b],this.J.ni=this.ni);(d=Le[K]["world "+this.n])&&d.rank&&hg(gg(d.rank));if(!d||this.Mw.indexOf(this.ni)>this.Mw.indexOf(d.victory_type)||this.ni==d.victory_type&&("half"==this.ni&&c.Qg<d.continues||"gold"==this.ni&&this.Nn<d.deaths))Le[K]["world "+this.n]={victory_type:this.ni,
continues:c.Qg,deaths:this.Nn,first_victory:void 0===d},fc()}this.fk&&!this.Mj&&(this.El=new $("RESUME",16,730,P/2+260,100,65,this.I,this.I,function(a){return function(){Oe[K]={};fc();a.J.aE=0;S=new Pg(a.n,null,null,null,null,a.J,!0,!0)}}(this),"start"),this.El.Hl=!1,this.buttons.push(this.El),this.Hm=new $("DELETE",16,O/2,P/2+260,100,65,this.I,this.I,function(a){return function(){Oe[K]={};fc();S=new dg(a.n)}}(this),"delete_small"),this.buttons.push(this.Hm),this.Hm.Hl=!1,this.nE=new $("EXIT",16,
70,P/2+260,60,65,this.I,this.I,function(){return function(){S=new Qf}}(this),"back"),this.buttons.push(this.nE));0!=this.n&&gc();this.Kn=["bronze","silver","gold"];!this.fk&&this.ta&&Wg(this)}function gg(a){a=Ug.prototype.jE[a];var b="half";0<a&&(b="basic");16<=a&&(b="silver");24<=a&&(b="gold");return b}function hg(a){Le[difficulty][world]={victory_type:a,continues:"half"==a?1:0,deaths:9,first_victory:!0};fc()}
function Vg(a){for(var b=0,c=0;8>c;c++){var d=7==c?"BOSS "+a.n:"HIVE "+a.n+"-"+(c+1);a.J.G[d]&&(b+=a.J.G[d].Dm)}a.Nn=b}
l.U=function(a){if(0!=this.n||this.fk){this.Zb||(bg_canvas.setAttribute("style","display:none"),this.Zb=!0,Bb(Xe.getContext("2d"),0,O,P,"Hive "+this.n));a.save();this.Ca-=dt;0>this.Ca&&("in"==this.jb&&(this.jb="none"),"out"==this.jb&&Xg(this));a.fillStyle=this.zi;a.fillRect(0,0,O,P);if("in"==this.jb){var b=this.Ca/this.Pd;a.globalAlpha=1-b}else"out"==this.jb&&(b=this.Ca/this.Pd,a.globalAlpha=Math.max(0,b));a.save();a.globalAlpha*=mg(this.n);a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();for(b=0;b<this.buttons.length;b++)this.buttons[b].U(a);
a.shadowBlur=0;a.textAlign="center";a.font="20px Muli";this.ta?(a.globalAlpha*=.3,La(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle=this.I,a.font="40px Muli",a.fillText(this.wF,O/2,130)):this.fk?(a.globalAlpha*=.3,La(a,this.n,O/2,220,80),a.globalAlpha/=.3,a.fillStyle="white",a.fillText("GAME SAVED",O/2,210),a.fillStyle=this.I,a.font="40px Muli",a.fillText(this.J.fs,O/2,250),a.font="24px Muli",a.fillText(this.J.Gk,O/2,280),a.textAlign="center",a.fillStyle=this.I,a.font="20px Muli",a.fillText("TOTAL TIME ",
O/2-100,380),a.font="42px Muli",a.fillText(Gb(this.ph),O/2-100,420),a.fillStyle=this.I,a.font="20px Muli",a.fillText("DEATHS",O/2+100,380),a.font="42px Muli",a.fillText(this.Nn,O/2+100,420)):(a.globalAlpha*=.3,La(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle="red",a.fillText("GAME OVER",O/2,80),a.fillStyle=this.I,0<this.J.Qg&&(a.font="18px Muli",a.fillText("CONTINUES: "+this.J.Qg,O/2,175)),a.font="40px Muli",a.fillText(this.J.fs,O/2,130));this.ta&&this.J.Qg&&(a.fillStyle=this.I,a.font="18px Muli",
a.fillText("CONTINUES: "+this.J.Qg,O/2,250));this.ta&&(a.fillStyle=this.I,a.font="14px Muli",a.fillText("TOTAL TIME",O/2,167),a.font="24px Muli",a.fillText(Gb(this.ph),O/2,190));if(!this.fk)for(a.shadowBlur=0,a.font="18px Muli",a.textAlign="center",a.fillStyle=this.I,a.fillText("LEVEL",260,250),a.fillText("TIME",400,250),a.fillText("DEATHS",540,250),b=0;8>b;b++){var c=7==b?"BOSS "+this.n:"HIVE "+this.n+"-"+(b+1),d=c;7==b&&(d=this.J.yu);var f;f=this.J.G[c]?this.J.G[c]:{};a.fillStyle=f.Cq?this.I:"#666";
var g=280+27*b;a.fillText(d,260,g);a.fillStyle=f.Cq?this.I:"#666";void 0!=this.J.ph[c]?a.fillText(Gb(Math.floor(this.J.ph[c]/1E3)),400,g):a.fillText("---",400,g);void 0!=f.Dm?a.fillText(f.Dm,540,g):a.fillText("---",540,g)}a.font="16px Muli";a.fillStyle=this.Gc;this.fk?this.Mj&&a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30):a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30);for(b=0;b<this.buttons.length;b++)this.buttons[b].U(a);for(b=0;b<this.buttons.length;b++)Yg(this.buttons[b],a);a.restore()}};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};l.Je=function(){"none"!=this.jb||this.fk&&!this.Mj||(this.jb="out",this.Ca=this.Pd)};l.gq=function(){};l.oa=function(){0!=this.n||this.fk||Xg(this)};
function Wg(a){if(!(0>=a.n)){if("normal"==K)for(var b=3,c=["half","basic","silver","gold"],d=1;4>=d;d++)if(Le.normal["world "+d]){var f=Le.normal["world "+d].ni;c.indexOf(f)<b&&(b=c.indexOf(f))}else b=-1;"normal"==K&&0<a.J.ji&&Pc("blitz_hive"+a.n);a.J.pz||Pc("untouchable");Le[K]["world "+a.J.sa]&&Le[K]["world "+a.J.sa].first_victory&&(4>a.J.sa&&Pc("beat_hive"),4==a.J.sa&&Pc("final_boss"))}}
function Xg(a){S=a.ta?new Qg(a.J,!0,{ta:!0,Fp:0==a.n,Zu:Me,Mj:a.Mj}):new Qg(a.J,!0,{ta:!1,Fp:0==a.n,Zu:Me,Mj:a.Mj})};Pg.prototype=new xg;l=Pg.prototype;l.constructor=Pg;
function Pg(a,b,c,d,f,g,h,k){this.J=g;this.ta=c;this.G=d;this.az=!1;this.QC=k;this.Rl=3700;this.Ve=2200;this.Wg=4E3;this.Zc=null;this.Ji=!0;this.Bf=1<=jc();this.n=a;this.color=x["world "+a];this.Gc=x["world "+a+" lite"];this.I=x["world "+a+" bright"];this.zi=x["world "+a+" dark"];this.Mb=f;this.buttons=[];this.Zb=!1;this.Kn=["bronze","silver","gold"];this.uy=this.Bj=!1;if(b)if(this.G){this.Zc=b;this.Hp=b.V;this.ta?(this.state="last_level_summary",this.Ca=this.Wg):(this.state="level_intro",this.Ca=
D.CG?this.Wg:this.Ve);a=0;if(!this.Zc.ra)for(;this.G.df>N[this.Zc.V].za[K][a];)a+=1;this.bb=a;if(this.ta){this.SA=Math.floor(this.G.ef/5);this.sy=Math.floor(this.G.uf/2);this.bt=this.J.bg+this.SA+this.sy;for(this.Cw=this.J.Ld;100<=this.bt;)this.bt-=100,this.Cw+=1;0==this.J.G[this.Zc.V].mv&&Pc("pacifist")}}else this.state="level_intro",this.i=this.Zc=b,this.Hp=b.V,this.Ca=this.Ve/=2,this.uy=!0;else this.state="level_intro",this.J=h?g:new hc(a,!0),this.Ca=this.Ve;if(!this.uy){if(this.ta||!this.Zc){if(this.Zc&&
this.Zc.ra||0==this.n&&this.ta&&this.Zc&&"HIVE 0-4"==this.Zc.V)return;this.Ji=!1;this.i=h?this.cn(N[this.J.Gk]):this.cn(N[Og(this.Zc,this.n)]);this.Bj=!N[this.i.V].Ja[K].Bg;N[this.i.V].Ja[K].Bg=!0;fc();this.J.G.hasOwnProperty(this.i.V)||(this.J.G[this.i.V]={},this.J.G[this.i.V].Cq=!0,this.J.G[this.i.V].Dm=0);this.J.Gk=this.i.V;0<this.n&&kg(this.J)}else this.i=this.Zc,this.i.t=null,Y.translate(X,0),this.i.Ue(Y),this.Zb=!0,Y.translate(-X,0);this.i.ra&&(this.Ve=this.ta?1E3:500)}0==this.n||this.Zc&&this.Zc.ra||
h&&this.J.Gk&&"BOSS"==this.J.Gk.substring(0,4)||dc(bc,ka["Hive "+this.n])}function Og(a,b){return a?7>a.Fz?"HIVE "+b+"-"+(a.Fz+1):"BOSS "+b:0==b?"HIVE 0-1":"HIVE "+b+"-1"}
l.oa=function(a){this.az=!0;if(0>this.J.Ld)S=new Ug(this.n,!1,this.J,this.i,this.Mb);else if(0==this.n&&this.ta&&this.Zc&&"HIVE 0-4"==this.Zc.V)S=new Ug(this.n,!0,this.J);else if(0==this.n)this.Ji&&(S=new Vf(this.n,this.i,this.Mb,this.J,!0,null===this.ta?!0:this.ta));else if(this.Zc&&this.Zc.ra&&this.Zc.xh)S=new Ug(this.n,!0,this.J);else if(this.Zc&&this.Zc.ra&&!this.Zc.xh)S=new Vf(this.n,this.i,this.Mb,this.J,!0,null===this.ta?!0:this.ta);else{var b=this.Ca/this.Wg;"last_level_summary"==this.state&&
this.ta&&.3<b&&.7>b?(this.J.bg+=a/(.4*this.Wg)*(this.SA+this.sy),100<=this.J.bg&&(this.J.bg-=100,this.J.Ld+=1)):"last_level_summary"==this.state&&this.ta&&.3>b&&(this.J.bg=Math.floor(this.bt),this.J.Ld=Math.floor(this.Cw),this.J.Dz=this.J.bg,this.J.Cz=this.J.Ld);if(this.Ji||"world_intro"==this.state&&this.Ca>=this.Rl/2||"last_level_summary"==this.state&&this.Ca>=this.Wg/2||"level_intro"==this.state&&this.Ca>=this.Ve/2)this.Ca-=a;0>this.Ca&&("world_intro"==this.state&&this.Ji?0==this.n?S=new Vf(this.n,
this.i,this.Mb,this.J,!0,null===this.ta?!0:this.ta):(this.state="level_intro",this.Ca=this.Ve):"last_level_summary"==this.state&&this.Ji?(this.ta&&this.i.ra&&gc(),this.state="level_intro",this.Ca=this.Ve):"level_intro"==this.state&&(S=new Vf(this.n,this.i,this.Mb,this.J,!0,null===this.ta?!0:this.ta)))}};
l.U=function(a,b){!this.Zb&&this.i&&(this.Zb=!0,bg_canvas.setAttribute("style","display:none"),b.translate(X,0),this.i.Ue(b),b.translate(-X,0),Bb(Xe.getContext("2d"),0,O,P,"Hive "+this.n));a.fillStyle=x["world "+this.n+" dark"];a.fillRect(0,0,O,P);if(0!=this.n){a.save();a.globalAlpha*=mg(this.n);if("world_intro"!=this.state||this.QC)"level_intro"==this.state?(c=this.Ca/this.Ve,.5>c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))):"last_level_summary"==this.state&&(c=this.Ca/this.Wg,.5<c&&(a.globalAlpha*=
Math.min(1,(1-2*Math.abs(c-.5))/.5)));else{var c=this.Ca/this.Rl;.5<c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))}a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();this.az&&("world_intro"==this.state?(c=this.Ca/this.Rl,a.save(),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.textAlign="center",a.shadowBlur=0,a.fillStyle=this.I,a.shadowColor="black",a.save(),a.globalAlpha*=.3,La(a,this.n,O/2,P/2,130),a.restore(),a.font="54px Muli",a.fillText(this.J.fs,O/2,P/2+25),a.shadowBlur=0,a.fillStyle=
this.Gc,a.shadowColor=a.fillStyle,a.font="12px Muli",this.Ji?a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270):a.fillText("LOADING LEVEL",O/2,P/2+270),a.restore()):"level_intro"==this.state?this.i.ra||(a.save(),c=this.Ca/this.Ve,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.fillStyle=this.I,a.textAlign="center",a.shadowBlur=0,a.shadowColor="black",a.save(),a.globalAlpha*=.3,La(a,this.n,O/2,300,100),a.restore(),a.font="24px Muli",a.save(),a.globalAlpha*=.5,a.fillText(this.J.fs,O/2,250),a.restore(),
a.font="56px Muli",a.fillText(this.i.V,O/2,320),a.shadowBlur=0,a.fillStyle=this.Gc,a.shadowColor=a.fillStyle,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270),a.restore()):"last_level_summary"==this.state&&(a.save(),c=this.Ca/this.Wg,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.globalAlpha/=3,La(a,this.n,O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==K&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=
this.I,a.font="42px Muli",a.textAlign="center",a.fillText(this.Hp,O/2,240),a.fill(),a.font="36px Muli",a.fillStyle="white",a.fillText("VICTORY",O/2,300),a.fillStyle=this.I,a.font="20px Muli",a.fillText("GAME TIME ",O/2+100,380),a.font="42px Muli",a.fillText(this.G.Nj,O/2+100,420),a.fillStyle=this.I,a.font="20px Muli",a.fillText("SCORE",O/2-100,380),a.font="42px Muli",a.fillText(this.G.df,O/2-100,420),this.G.Sc||(a.beginPath(),a.moveTo(250,440),a.lineTo(350,440),a.lineWidth=3,a.strokeStyle=this.I,
a.stroke()),this.G.Wa||(a.beginPath(),a.moveTo(450,440),a.lineTo(550,440),a.lineWidth=3,a.strokeStyle=this.I,a.stroke()),this.G.Sc?(a.fillStyle=this.I,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,445)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.I,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,470),a.font="28px Muli",a.fillText(N[this.Hp].Ja[K].Sc,O/2-100,500),a.restore()),this.G.Wa?(a.fillStyle=this.I,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,445)):(a.save(),a.globalAlpha*=
.6,a.fillStyle=this.I,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,470),a.font="28px Muli",1E3>N[this.Hp].Ja[K].Wa?(a.font="28px Muli",a.fillText(Yb(N[this.Hp].Ja[K].Wa),O/2+100,500)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,500)),a.restore(),a.shadowBlur=0,a.fillStyle=this.Gc,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270)),a.restore()))}};l.Je=function(){this.Ji&&(this.Rl/=4,this.Ve/=4,this.Wg/=4,this.Ca/=4)};
l.Pa=function(){this.Ji&&(this.Rl/=4,this.Ve/=4,this.Wg/=4,this.Ca/=4)};l.ls=function(){bg_canvas.setAttribute("style","display:none");this.Ji=!0;Y.translate(X,0);this.i.Ue(Y);Y.translate(-X,0);Bb(Xe.getContext("2d"),0,O,P,"Hive "+this.n)};l.av=function(a){return 100>a?(a/=100,"rgb("+Math.round(190*(1-a)+0*a)+","+Math.round(190*(1-a)+128*a)+","+Math.round(190*(1-a)+255*a)+")"):this.av(Math.abs(400-this.G.wp%800)/400*99.99)};Zg.prototype=new wg;l=Zg.prototype;l.constructor=Zg;
function Zg(){this.Bf=1<=jc();this.T=new Ag({fade_in:500,fade_out:250});zg(this.T,"fade_in");this.buttons=[];this.buttons.push(new $("BACK",16,O/2,P/2+260,60,65,"white",x.impulse_blue,function(a){return function(){zg(a.T,"fade_out",function(){S=new Qf})}}(this),"back"));this.buttons.push(new $g("beat_hive",O/2-300,200,50));this.buttons.push(new $g("final_boss",O/2-150,200,50));this.buttons.push(new $g("untouchable",O/2+0,200,50));this.buttons.push(new $g("pacifist",O/2+150,200,50));this.buttons.push(new $g("high_roller",
O/2+300,200,50));this.buttons.push(new $g("beat_hard",O/2-300,350,50));this.buttons.push(new $g("blitz_hive1",O/2-150,350,50));this.buttons.push(new $g("blitz_hive2",O/2-0,350,50));this.buttons.push(new $g("blitz_hive3",O/2+150,350,50));this.buttons.push(new $g("blitz_hive4",O/2+300,350,50))}l.oa=function(a){this.T.oa(a)};
l.U=function(a){this.Zb||(Ge.setAttribute("style",""),Tf("Hive 0",.3),this.Zb=!0);"fade_in"==this.T.bc?a.globalAlpha*=Bg(this.T):"fade_out"==this.T.bc&&(a.globalAlpha*=1-Bg(this.T));a.textAlign="center";a.font="24px Muli";a.fillStyle="white";a.fillText("ACHIEVEMENTS",O/2,50);a.font="12px Muli";a.fillText("MOUSE OVER TO VIEW",O/2,75);for(var b=0;b<this.buttons.length;b++)this.buttons[b].U(a);for(b=0;b<this.buttons.length;b++)Yg(this.buttons[b],a)};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};Qg.prototype=new wg;l=Qg.prototype;l.constructor=Qg;
function Qg(a,b,c){this.J=a;this.hc=b;this.lg=c;this.xb=[];this.Hd=-1;this.Ca=this.Pd=250;this.jb="in";this.Bj=Me;this.ta=c.ta;this.lz=this.Zb=!1;this.bb=0;var d=this;this.Kj=K;this.rn=new $("NORMAL MODE",20,O/2-150,300,250,125,"white",x.impulse_blue,function(){d.ym("easy")},"easy_mode");this.Du=new $("CHALLENGE MODE",20,O/2+150,300,250,125,"white",x.impulse_blue,function(){d.ym("normal")},"normal_mode");this.debug();if(this.lg.Fp){if("first_time_tutorial"==this.lg.$A||this.lg.Zu)this.xb.push({type:"first_time_tutorial"}),
Me=!1,fc()}else this.hc&&Le[this.Kj]["world "+this.J.sa]&&Le[this.Kj]["world "+this.J.sa].first_victory&&(4==this.J.sa&&(this.xb.push({type:"final_victory"}),"easy"==this.Kj&&(this.lz=Ne=!0,K="normal",fc())),Le[this.Kj]["world "+this.J.sa].first_victory=!1,fc());this.Hd+=1;0<this.xb.length&&gc();this.$B=3E3;this.jr=0}l.ym=function(a){"none"==this.jb&&(K=a,fc(),this.VF(),this.jb="out",this.Ca=4*this.Pd)};
l.U=function(a){if(0!=this.xb.length){var b=this.xb[this.Hd];if(!this.Zb){bg_canvas.setAttribute("style","display:none");var c=Xe.getContext("2d");"world_victory"==b.type?Bb(c,0,O,P,"Hive "+(b.data+1)):"final_victory"==b.type?Bb(c,0,O,P,"Title Alt4"):Bb(c,0,O,P,"Hive 0");this.Zb=!0}a.save();a.globalAlpha="world_victory"==b.type?a.globalAlpha*mg(b.data+1):"final_victory"==b.type?mg(0)/2*a.globalAlpha:a.globalAlpha*mg(0);a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();a.save();"in"==this.jb?(c=this.Ca/
this.Pd,a.globalAlpha=1-c):"out"==this.jb&&(c=this.Ca/this.Pd,a.globalAlpha=Math.max(0,c));if("quest"!=b.type&&"ult_tutorial"!=b.type&&"select_difficulty"!=b.type&&"share"!=b.type){var d="world_victory"==b.type?b.data+1:0;a.save();a.globalAlpha*=.2;La(a,d,O/2,250,100);a.restore()}var f=c="",g=32;"world_victory"==b.type&&(a.fillStyle=x["world "+(b.data+1)+" bright"],g=24,c="NEW HIVE UNLOCKED",f="easy"==this.Kj?"STANDARD MODE":"CHALLENGE MODE",a.textAlign="center",a.font="48px Muli",a.fillText("HIVE "+
ra[b.data+1],O/2,270));"final_victory"==b.type&&(final_message="easy"==this.Kj?"HARD MODE UNLOCKED FOR ALL HIVES":"CHALLENGE MODE COMPLETED",final_message_teaser="easy"==this.Kj?"THE REAL GAME BEGINS":"INCREDIBLE",a.textAlign="center",a.fillStyle="white",a.font="24px Muli",a.fillText(final_message,O/2,240),a.font="20px Muli",a.fillStyle="red",a.fillText(final_message_teaser,O/2,280),a.font="16px Muli",a.fillStyle="white","easy"!=this.Kj&&a.fillText("THANKS FOR PLAYING IMPULSE",O/2,320));"rating"==
b.type&&(c="YOUR SKILL RATING WENT UP",f="CONGRATULATIONS!",g=32,a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Jm,O/2,270),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW SKILL RATING",O/2,405),a.font="48px Muli",a.fillText(b.data.uG,O/2,455));"lives"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA LIFE",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Jm,O/2-25,270),J(a,O/2+35,250,0,40,40,"lives_icon"),
a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("LIVES",O/2-d,400),J(a,O/2-d,422,0,30,30,"lives_icon"),a.fillText("LIVES",O/2+d,400),J(a,O/2+d,422,0,30,30,"lives_icon"),a.font="36px Muli",a.fillText(b.data.RD-b.data.Jm,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.RD,O/2+d,470));"ult"==b.type&&(a.textAlign="center",f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA ULTIMATE",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Jm,O/2-25,270),J(a,O/2+35,250,
0,40,40,"ultimate_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("ULT",O/2-d,400),J(a,O/2-d,422,0,30,30,"ultimate_icon"),a.fillText("ULT",O/2+d,400),J(a,O/2+d,422,0,30,30,"ultimate_icon"),a.font="36px Muli",a.fillText(b.data.TD-b.data.Jm,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.TD,O/2+d,470));if("quest"==b.type)for(d=0,a.save(),La(a,d,O/2,250,150),a.restore(),a.textAlign="center",a.fillStyle=x.impulse_blue,a.font="32px Muli",a.fillText("CHALLENGE COMPLETE!",
O/2,120),draw_quest_button(a,O/2,250,60,b.data.type),a.font="24px Muli",a.fillStyle="white",d=0;d<Eb[b.data.type].text.length;d++)a.fillText(Eb[b.data.type].text[d],O/2,400+36*d);"spark_val"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="SPARK VALUE INCREASED",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Jm,O/2-25,270),J(a,O/2+35,250,0,40,40,"sparks_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillStyle="white",a.fillText("SPARK",O/2-d,
390),a.fillText("VALUE",O/2-d,405),J(a,O/2-d,424,0,22,22,"sparks_icon"),a.fillText("SPARK",O/2+d,390),a.fillText("VALUE",O/2+d,405),J(a,O/2+d,424,0,22,22,"sparks_icon"),a.font="36px Muli",a.fillText(b.data.SD-b.data.Jm,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.SD,O/2+d,470));"first_time_tutorial"==b.type&&(a.font="30px Muli",a.textAlign="center",a.fillStyle="white",a.fillText("INTRO TUTORIAL COMPLETE",O/2,250),a.fillStyle="white",a.font="16px Muli",a.fillText("INITIALIZING MAIN GAME...",
O/2,550));"select_difficulty"==b.type&&(f="LET'S DO THIS",g=36,c="SELECT DIFFICULTY",this.rn.U(a),this.Du.U(a));c&&(a.fillStyle="white",a.textAlign="center",a.font="16px Muli",a.fillText(f,O/2,70),a.font=g+"px Muli",a.fillStyle="world_victory"==b.type?x["world "+(b.data+1)+" bright"]:x.impulse_blue,a.fillText(c,O/2,120));"select_difficulty"!=b.type?(a.textAlign="center",a.fillStyle="world_victory"==b.type?x["world "+(b.data+1)+" bright"]:"white",a.font="16px Muli","first_time_tutorial"!=b.type&&("ult"!=
b.type?a.fillText("PRESS ANY KEY TO CONTINUE",O/2,P-30):a.fillText("PRESS ANY KEY FOR ULT TUTORIAL",O/2,P-30))):(a.font="16px Muli",a.textAlign="center",a.fillStyle=x.impulse_blue,a.fillText("YOU CAN SWITCH DIFFICULTY ON THE TITLE SCREEN OPTIONS MENU",O/2,P-75));a.restore()}};l.debug=function(){};
l.oa=function(a){0==this.xb.length&&ah(this);this.Hd<this.xb.length&&0<=this.Hd&&"first_time_tutorial"==this.xb[this.Hd].type&&(this.jr-=a,0>=this.jr&&"none"==this.jb&&(this.jb="out",this.Ca=this.Pd));this.Ca-=a;0>this.Ca&&("in"==this.jb&&(this.jb="none",this.jr=this.$B),"out"==this.jb&&(this.Hd+=1,this.Hd>=this.xb.length?ah(this):(this.jb="in",this.Ca=this.Pd,this.Zb=!1)))};function bh(a,b){var c=a.lz?1:a.J.sa;"normal"!=K||Me||0===c?Tf("Hive 0",.3):Tf("Title Alt"+c,.15);S=new dg(c,b)}
function ah(a){a.EG?S=new qc("ult_tutorial"):a.hc?a.ta&&1<=a.J.sa&&3>=a.J.sa?S=new Pg(a.J.sa+1,null,null,null,null):a.ta&&0==a.J.sa&&a.Bj?S=new Pg(a.J.sa+1,null,null,null,null):a.ta&&4==a.J.sa?bh(a,!1):a.lg.Mj?S=new Qf:bh(a,!1):a.lg.Fp?"ult_tutorial"==a.lg.$A?S=new Pg(2,null,null,null,null):bh(a,!1):a.ta?S=new Cg(a.lg.G,a.lg.i,a.lg.n,a.lg.Mb,{Wa:a.lg.G.Wa,Sc:a.lg.G.Sc,bb:a.bb,ta:a.ta}):bh(a,!0)}
l.Je=function(){0!=this.xb.length&&"none"==this.jb&&"select_difficulty"!=this.xb[this.Hd].type&&"first_time_tutorial"!=this.xb[this.Hd].type&&(this.jb="out",this.Ca=this.Pd)};
l.Pa=function(a,b){0==this.xb.length||0<=this.Hd&&this.Hd<this.xb.length&&"share"==this.xb[this.Hd].type||"first_time_tutorial"==this.xb[this.Hd].type||this.Hd>=this.xb.length||("select_difficulty"==this.xb[this.Hd].type&&(this.rn.Pa(a,b),this.Du.Pa(a,b)),"none"==this.jb&&"select_difficulty"!=this.xb[this.Hd].type&&(this.jb="out",this.Ca=this.Pd))};l.Fa=function(a,b){0!=this.xb.length&&"select_difficulty"==this.xb[this.Hd].type&&(this.rn.Fa(a,b),this.Du.Fa(a,b))};Qf.prototype=new wg;l=Qf.prototype;l.constructor=Qf;function Qf(){this.buttons={menu:[],enter:[],options:[]};this.kv=new Image;this.Zb=!1;this.visibility=0;this.state="menu";this.kv.src="impulse_logo.png";ch(this);dc(bc,ka.Menu);this.T=new Ag({fade_in:500,fade_out:250});zg(this.T,"fade_in")}l.oa=function(a){this.T.oa(a);Uf(a)};
l.U=function(a){this.Zb||(Ge.setAttribute("style",""),Tf("Hive 0",.3),this.Zb=!0);a.save();"fade_in"==this.T.bc?a.globalAlpha*=Bg(this.T):"fade_out"==this.T.bc&&(a.globalAlpha*=1-Bg(this.T));a.shadowColor=x.impulse_blue;a.shadowBlur=0;nb(a,O/2,150,"MARK ZHANG");for(var b=0;b<this.buttons[this.state].length;b++)this.buttons[this.state][b].U(a);for(b=0;b<this.buttons[this.state].length;b++)Yg(this.buttons[this.state][b],a);a.restore()};
l.Fa=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Pa(a,b)};
function ch(a){c=a;a.buttons.menu=[];var b=P/2+50,c=a;a.buttons.menu.push(new $("START GAME",20,Me?O/2:O/2-130,b,210,100,"white",x.impulse_blue,function(){if(Oe[K]&&Oe[K].G)zg(c.T,"fade_out",function(){S=new Ug(null,null,null,null,null,!0)});else{for(var a=1;4>a&&Le[K]["world "+a];)a+=1;null!=c.T.bc||"normal"!=K||Me?Me&&Sf(x["world 0 dark"],150,1):Sf("Title Alt"+a,250,.15);zg(c.T,"fade_out",function(){S=new dg(a,!1)})}},"player"));Me||a.buttons.menu.push(new $("PRACTICE",20,O/2+130,b,210,100,"white",
x.impulse_blue,function(){for(var a=1;4>a&&Le[K]["world "+a];)a+=1;null==c.T.bc&&"normal"==K&&Sf("Title Alt"+a,250,.15);zg(c.T,"fade_out",function(){S=new dg(a,!0)})},"normal_mode"));a.buttons.menu.push(new $("OPTIONS",16,O/2-240,b+130,100,70,"white",x.impulse_blue,function(){zg(c.T,"fade_out",function(){Je=new bg(c)})},"gear"));a.buttons.menu.push(new $("ACHIEVEMENTS",16,O/2,b+130,100,70,"white",x.impulse_blue,function(){zg(c.T,"fade_out",function(){S=new Zg})},"quest"));a.buttons.menu.push(new $("CREDITS",
16,O/2+240,b+130,100,70,"white",x.impulse_blue,function(){zg(c.T,"fade_out",function(){S=new yg})},"credit"));a.buttons.enter.push(new dh("CLICK TO BEGIN",20,O/2,P/2+150,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},20)}));a.Ry=new dh("NORMAL MODE",20,O/2-100,P/2+120,200,50,"white","blue",function(){c.ym("easy")});a.buttons.options.push(a.Ry);a.rn=new dh("CHALLENGE MODE",20,O/2+100,P/2+120,200,50,"white","blue",function(){c.ym("normal")});a.buttons.options.push(a.rn);eh(a);
a.wC=new dh("CLEAR DATA",20,O/2,P/2+170,200,50,"white","blue",function(){fh()});a.buttons.options.push(a.wC);a.buttons.options.push(new dh("BACK",20,O/2,P/2+220,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},50)}));b=new $("",20,O-20,20,30,30,"white",x.impulse_blue,function(){ag()},"fullscreen_in_game");gh(b,new Yf("fullscreen_msg",x["world 0 bright"],0));a.buttons.menu.push(b);b=new $("",20,O-50,20,30,30,"white",x.impulse_blue,function(){cg()},"mute_in_game");gh(b,new Yf("mute_msg",
x["world 0 bright"],0));a.buttons.menu.push(b)}l.ym=function(a){K=a;fc();eh(this);ig(K)};function eh(a){a.Ry.Iw="easy"==K;a.rn.Iw="normal"==K};dg.prototype=new wg;l=dg.prototype;l.constructor=dg;
function dg(a,b){this.Jh=b;this.Zb=!1;this.color="white";this.Bf=1<=jc();this.n=a;this.Uv=null;this.Am=K;this.vs=null;this.buttons=[];var c=this;this.buttons.push(new $("BACK",16,70,P/2+260,60,65,this.color,x.impulse_blue,function(){zg(c.T,"fade_out",function(){S=new Qf});Sf("Hive 0",250,.3)},"back"));this.Ch=["easy","normal"];this.NE=new hh(16,730,P/2+260,100,65,this.color,x.impulse_blue,this);this.buttons.push(this.NE);this.VD=5;this.Ql=P/2;eg(this);dc(bc,ka.Menu);this.Wy=500;this.Xy=250;this.Ci=
this.Um=null;lg();this.T=new Ag({fade_in:250,fade_across:250,fade_out:250});zg(this.T,"fade_in");this.Yd=[];this.zf=this.Wk=1E3;this.xp=2E3;this.Fc={x:O/2/E,y:this.Ql/E};this.Xk=5;this.as=8;Me&&setTimeout(function(){S=new Pg(0,null,null,null,null,null,!1,!0)})}
function eg(a){a.Xn={};for(var b=0;b<a.Ch.length;b++){var c=a.Ch[b];a.Xn[c]={0:!0,1:!0,2:Le[c]["world 1"]||ff||ef,3:Le[c]["world 2"]||ff||ef,4:Le[c]["world 3"]||ff||ef}}a.dj={};a.Vh={};a.fh={};for(b=0;b<a.Ch.length;b++)if(a.dj[a.Ch[b]]={},a.Vh[a.Ch[b]]=[],a.fh[a.Ch[b]]={},ih(a,a.Ch[b]),a.Jh)jh(a,a.Ch[b]),kh(a,0,a.Ql,!0,a.Ch[b]);else for(var c=a,d=a.Ch[b],f=0;4>=f;f++)kh(c,f,c.Ql,c.Xn[d][f],d)}
function ih(a,b){for(var c=["T","1","2","3","4"],d=2,f=2;f<a.VD&&(!(1<f)||a.Xn[b][f]);f++)d+=1;for(var g=O/2-37.5*(d-1),f=0;f<d;f++){var h=a;a.Vh[b].push(new $(c[f],16,g+75*f,P/2+250,60,60,x["world "+f+" bright"],x.impulse_blue,function(a){return function(){h.n!=a&&(zg(h.T,"fade_across",function(){h.n=a}),lh(h,a,h.Am),h.Uv=a,h.vs=h.Am)}}(f),"world"+f))}}
function mh(a){var b=K;if(a.Am!=b){for(var c=a.n;1<c&&!a.Xn[b][c];)--c;zg(a.T,"fade_across",function(){a.Am=a.vs;a.n=c});lh(a,c,b);a.Uv=c;a.vs=b}}function lh(a,b,c){void 0==b&&(b=a.n);0!=b&&"normal"==c?Sf("Title Alt"+b,250,.15):Sf("Hive 0",250,.3)}
function jh(a,b){for(var c=1;4>=c;c++){a.fh[b][c]=[];for(var d=0;8>d;d++){var f="HIVE "+c+"-"+(d+1);7==d&&(f="BOSS "+c);var g=a,h=x["world "+c+" bright"],h=new $(d+1,30,O/2+150*(-1.5+d%4),4<=d?P/2+100:P/2,75,75,h,h,function(a,b){return function(){g.Um=g.Xy;g.Ci=g.Um;g.Wu=x["world "+b+" dark"];var c=Xe.getContext("2d");Bb(c,0,O,P,"Hive "+g.n);setTimeout(function(){S=new Rg(a,b)},g.Xy)}}(f,c),"practice"+c);h.Jw=!1;h.V=f;a.fh[b][c].push(h);h.ed=N[f].Ja[b].Bg||0==d&&a.Xn[b][c]||ff||ef;h.ed||(h.color=
"gray")}}}function kh(a,b,c,d,f){a.dj[f][b]=new $(d?"START":"LOCKED",50,O/2,c,150,150,x["world "+b+" bright"],x["world "+b+" bright"],function(){a.Um=a.Wy;a.Ci=a.Um;a.Wu=x["world "+b+" dark"];var c=Xe.getContext("2d");Bb(c,0,O,P,"Hive "+a.n);setTimeout(function(){S=new Pg(b,null,null,null,null,null,!1,!0)},a.Wy)},"world"+b);a.dj[f][b].ed=d}
l.U=function(a){if(!Me){this.Wu&&(a.save(),a.globalAlpha=1-this.Ci/this.Um,a.fillStyle=this.Wu,a.fillRect(0,0,O,P),a.globalAlpha*=mg(this.n),a.drawImage(Xe,0,0,O,P,0,0,O,P),a.restore());a.save();null!=this.Ci&&(a.globalAlpha*=Math.max(this.Ci/this.Um,0));"fade_in"==this.T.bc?a.globalAlpha*=Bg(this.T):"fade_out"==this.T.bc&&(a.globalAlpha*=1-Bg(this.T));this.Zb||(bg_canvas.setAttribute("style",""),this.Zb=!0);for(var b=0;b<this.buttons.length;b++)this.buttons[b].U(a);!this.Jh&&this.Xn[K][this.n]&&
this.Km(a,E);a.font="13px Muli";a.fillStyle="white";a.fillText("SELECT HIVE",O/2,P/2+215);"fade_across"==this.T.bc?(a.save(),a.globalAlpha*=1-Bg(this.T),nh(this,a,this.n,this.Am),a.restore(),a.save(),a.globalAlpha*=Bg(this.T),nh(this,a,this.Uv,this.vs),a.restore()):nh(this,a,this.n,this.Am)}};
function nh(a,b,c,d){a.Jh&&0!=c||a.dj[d][c].U(b);if(0<c&&a.Jh&&0!=c)for(var f=0;f<a.fh[d][c].length;f++)a.fh[d][c][f].U(b);0!=c&&(a.Jh?(b.fillStyle="white",b.font="20px Muli",b.fillText("PRACTICE MODE",O/2,a.Ql-170)):"normal"==K&&(b.fillStyle="white",b.font="24px Muli",b.fillText("HARD MODE",O/2,a.Ql-170)));b.fillStyle=x["world "+c+" bright"];b.font="42px Muli";b.textAlign="center";0<c?b.fillText("HIVE "+ra[c],O/2,a.Ql-125):b.fillText("TUTORIAL",O/2,a.Ql-125);for(f=0;f<a.Vh[d].length;f++)a.Vh[d][f].U(b),
a.Vh[d][f].Xh&&(b.textAlign="center",b.font="15px Muli",0==f?(b.fillStyle=x["world "+f+" bright"],b.fillText("TUTORIAL",O/2,P-8)):a.Vh[d][f].ed&&(b.fillStyle=x["world "+f+" bright"],b.fillText("HIVE "+ra[f],O/2,P-8)));a.Jh&&0!=c||Yg(a.dj[d][c],b);if(0<c&&a.Jh)for(f=0;f<a.fh[d][c].length;f++)Yg(a.fh[d][c][f],b)}l.oa=function(a){Me||(null!=this.Ci&&(this.Ci-=a),this.Jh||this.vn(a),this.T.oa(a),Uf(a))};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b);var d=K;if(this.Jh)if(0!=this.n)for(c=0;c<this.fh[d][this.n].length;c++)this.fh[d][this.n][c].Fa(a,b);else this.dj[d][this.n].Fa(a,b);else this.dj[d][this.n].Fa(a,b);for(c=0;c<this.Vh[d].length;c++)this.Vh[d][c].Fa(a,b)};
l.Pa=function(a,b){if(null==this.Ci){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b);var d=K;if(this.Jh)if(0!=this.n)for(c=0;c<this.fh[d][this.n].length;c++)this.fh[d][this.n][c].Pa(a,b);else this.dj[d][this.n].Pa(a,b);else this.dj[d][this.n].Pa(a,b);for(c=0;c<this.Vh[d].length;c++)this.Vh[d][c].Pa(a,b)}};l.vn=og.prototype.vn;l.yp=og.prototype.yp;l.Km=og.prototype.Km;qc.prototype=new Vf;l=qc.prototype;l.constructor=qc;function qc(a){this.V="HOW TO PLAY";this.ha(0,null,null,!0,this.J,!1);this.mode=a;this.ready=!1;this.i=this.cn(N["HOW TO PLAY"]);this.i.pn=!0;this.J=new hc(0,!1);this.Vd=!1;this.kg=0;this.Gm=100;this.TA=3E3;this.Ca=this.Pd=500;this.jb="in"}l.cn=xg.prototype.cn;
l.ls=function(){this.ready=!0;this.i.t=this;this.i.reset();this.V=this.i.V;this.ra=!1;Dg(this);Ge.setAttribute("style","display:none");Y.translate(X,0);this.i.Ue(Y);Y.translate(-X,0);dc(bc,ka.Interlude);this.color=this.ra?x["boss "+this.n]:x["world "+this.n+" lite"];this.zi=x["world "+this.n+" dark"];this.Gc=x["world "+this.n+" lite"];this.I=x["world "+this.n+" bright"];this.Nd=12;"normal_tutorial"==this.mode?this.da=0:"first_time_tutorial"==this.mode?(this.da=-1,this.kg=this.TA,this.Vd=!0):"ult_tutorial"==
this.mode&&(this.da=0,this.kg=.5*this.TA,this.Vd=!0);this.Mn=null;this.lq=document.createElement("canvas");this.lq.width=150;this.lq.height=150;this.Tb=this.lq.getContext("2d");this.nq=document.createElement("canvas");this.nq.width=150;this.nq.height=150;this.xd=this.nq.getContext("2d");this.JE=["white","silver","gold"];this.LE=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];this.ME=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"];this.Kn=["white","silver","gold"];var a=this;this.Qk=new $("EXIT TUTORIAL",
20,400,440,125,85,this.Gc,"white",function(){a.Tu=!0},"quit");this.Nl=(this.Bf=1<=jc())?2:0;this.Nd+=this.Nl;this.Bf&&(this.J.mk=99)};l.ym=function(a){K=a;fc()};
l.Xc=function(a){if(!this.pause&&1==this.zoom){var b=this.q;b.$[5]=Math.max(1E3,b.$[5]);this.Vd&&(0>=this.kg?(this.Vd=!1,this.jb="out",this.Ca=this.Pd):this.kg-=a);this.Ca-=a;0>this.Ca&&"none"!=this.jb&&1==this.zoom&&("in"==this.jb?this.jb="none":"out"==this.jb&&(oh(this,this.da+1),2==this.da&&"ult_tutorial"==this.mode&&(this.Qk.y=550),this.jb="in",this.Ca=this.Pd))}};
l.je=function(a){if(1==this.zoom){a.save();a.translate(X,0);if("in"==this.jb){var b=this.Ca/this.Pd;a.globalAlpha=1-b}else"out"==this.jb&&(b=this.Ca/this.Pd,a.globalAlpha=Math.max(0,b));if("first_time_tutorial"==this.mode)if(a.font="24px Muli",a.textAlign="center",a.fillStyle="white",-1==this.da&&(nb(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("INTRO TUTORIAL",400,500),a.font="18px Muli",a.fillStyle=x.impulse_blue,a.fillText("PRESS Q TO PAUSE AND QUIT",400,535)),0==this.da&&("right"==D.Gb&&
Ra(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Gb&&"mouse"==D.wc&&Ra(a,400,430,60,"white"),a.fillText("MOVE",400,500)),1==this.da&&("mouse"==D.wc?Va(a,400,400,83,125,"white"):Ra(a,400,430,60,"white"),a.fillText("IMPULSE",400,500),a.save(),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",400,550),a.restore()),2==this.da&&ph(this,a),3==this.da&&qh(this,a),4==this.da&&rh(a),5==this.da&&sh(a),6==this.da&&th(a),7==this.da&&uh(this,a),8==this.da&&rh(a),9==this.da&&
vh(this,a),-1!=[2,5,6,7].indexOf(this.da))a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*wh()),a.font="16px Muli",a.fillText("PRESS SPACEBAR TO CONTINUE",400,580),a.restore();else if(0==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*wh()),a.font="16px Muli",a.fillText("TRY MOVING NOW",400,580),a.restore();else if(1==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*wh()),a.font="16px Muli",a.fillText("TRY IMPULSING NOW",400,580),
a.restore();else if(3==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*wh()),a.font="16px Muli",a.fillText("TRY KILLING AN ENEMY NOW",400,580),a.restore();else if(4==this.da||8==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*wh()),a.font="16px Muli",a.fillText("GET THE GATEWAY SCORE",400,580),a.restore();if("normal_tutorial"==this.mode){a.font="20px Muli";a.textAlign="center";a.fillStyle="white";0==this.da&&(nb(a,400,380,"MARK ZHANG"),a.font="24px Muli",
a.fillStyle="white",a.fillText("TUTORIAL",400,500));1==this.da&&("right"==D.Gb&&Ra(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Gb&&"mouse"==D.wc&&Ra(a,400,430,60,"white"),a.fillText("MOVE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillStyle="white",a.fillText("ALTERNATE CONTROLS AVAILABLE IN PAUSE MENU",400,550));2==this.da&&(a.font="20px Muli","mouse"==D.wc?Va(a,400,400,83,125,"white"):Ra(a,400,430,60,"white"),a.fillText("USE IMPULSE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",
400,550));3==this.da&&ph(this,a);4==this.da&&qh(this,a);if(5==this.da){for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=x[this.JE[b]],a.shadowColor=a.fillStyle,a.font="25px Muli",a.fillText(N["HOW TO PLAY"].za[K][b],600,40*b+337),a.textAlign="left",a.font="20px Muli",a.fillText(this.LE[b],200,330+40*b),a.font="12px Muli",a.fillText(this.ME[b],200,40*b+345);a.beginPath();a.rect(190,308,420,45);a.strokeStyle="red";a.lineWidth=8;a.stroke();a.beginPath();a.rect(825,515,150,80);a.strokeStyle=
"red";a.lineWidth=6;a.stroke();a.font="20px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE...",400,500);a.shadowColor="red";a.fillStyle="red"}6==this.da&&vh(this,a);this.da==7+this.Nl&&sh(a);this.da==8+this.Nl&&th(a);this.da==9+this.Nl&&uh(this,a);this.Bf&&(a.fillStyle="white",a.textAlign="center",7==this.da&&xh(a),8==this.da&&yh(this,a));this.da==10+this.Nl&&(a.font="20px Muli",a.fillStyle="white","right"==D.Gb?(Sa(a,250,406,55,55,10,"white"),a.fillText("Q",250,
412)):"left"==D.Gb&&(Sa(a,250,406,125,55,10,"white"),a.fillText("ENTER",250,412)),Sa(a,400,406,55,55,10,"white"),a.fillText("X",400,412),Sa(a,550,406,55,55,10,"white"),a.fillText("C",550,412),a.font="16px Muli",a.fillText("PAUSE",250,462),a.fillText("MUTE MUSIC",400,462),a.fillText("FULLSCREEN",550,462),a.font="12px Muli",a.fillText("ENEMY INFO AND GAME OPTIONS IN THE PAUSE MENU",400,530));this.da==11+this.Nl&&(this.Qk.U(a),a.fillStyle=x.impulse_blue,a.font="16px Muli",a.fillText("THANKS FOR PLAYING IMPULSE!",
400,335),a.font="12px Muli",a.fillText("- MARK -",400,360));a.globalAlpha=1;0<this.da&&(Ta(a,100,420,20,"left","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("BACK",98,450));this.da<this.Nd-1&&(Ta(a,700,420,20,"right","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("NEXT",702,450));for(b=0;b<this.Nd;b++){var c=(this.Nd-1)/2-b;a.beginPath();a.arc(400-25*c,580,4,0,2*Math.PI,!0);a.fillStyle="white";this.da==b?(a.fillStyle="white",a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=
5,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=5)}}"ult_tutorial"==this.mode&&(a.fillStyle="white",a.textAlign="center",0==this.da&&(nb(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("ULT TUTORIAL",400,500)),1==this.da&&xh(a),2==this.da&&yh(this,a));a.restore()}};
function rh(a){a.beginPath();a.rect(825,515,150,80);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.font="24px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE TO BEAT THE LEVEL",400,420);a.save();a.globalAlpha*=wh();zh(a,735,555,50,"red");a.restore()}
function zh(a,b,c,d,f,g){a.save();g&&(a.translate(b,c),"left"==g&&a.rotate(Math.PI),"up"==g&&a.rotate(3*Math.PI/2),"down"==g&&a.rotate(Math.PI/2),a.translate(-b,-c));a.beginPath();a.moveTo(b-d/2,c);a.lineTo(b+.355*d,c);a.lineWidth=d/5;a.strokeStyle=f;a.stroke();Ta(a,b+d/2,c,.6*d,"right",f,!1);a.restore()}
function sh(a){a.font="24px Muli";a.fillStyle="white";a.fillText("YOUR MULTIPLIER INCREASES THE POINTS",400,340);a.fillText("YOU GET FROM KILLING ENEMIES",400,375);a.fillStyle=x.impulse_blue;a.font="48px Muli";a.fillText("100",250,450);a.fillStyle="white";a.font="12px Muli";a.fillText("BASE POINT VALUE",250,480);a.fillText("OF ENEMY",250,500);zh(a,325,435,30,"white");a.fillStyle=x.impulse_blue;a.font="48px Muli";a.textAlign="center";a.fillText("x5",400,450);a.fillStyle="white";a.font="12px Muli";
a.fillText("YOUR CURRENT",400,480);a.fillText("MULTIPLIER",400,500);zh(a,475,435,30,"white");a.fillStyle=x.impulse_blue;a.font="48px Muli";a.fillText("+500",565,450);a.fillStyle="white";a.font="12px Muli";a.fillText("TOTAL POINTS",565,480);a.fillText("GAINED",565,500);a.beginPath();a.rect(825,225,150,100);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.save();a.globalAlpha*=wh();zh(a,735,280,50,"red");a.restore()}
function th(a){a.fillStyle="white";a.font="16px Muli";a.fillText("KILLING ENEMIES",250,360);a.fillStyle=x.impulse_blue;a.font="36px Muli";a.fillText("INCREASES",250,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",250,430);a.fillText("TOUCHING ENEMIES",550,360);a.fillStyle="red";a.font="36px Muli";a.fillText("RESETS",550,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",550,430);a.fillStyle="white";a.save();a.globalAlpha*=.5;a.font="12px Muli";a.fillText("MULTIPLIER PERMANENTLY +1 EVERY 10 SECONDS",
400,500);a.restore()}
function uh(a,b){b.beginPath();b.arc(a.i.ik.x,a.i.ik.y,25,0,2*Math.PI);b.lineWidth=4;b.strokeStyle="red";b.stroke();b.beginPath();b.arc(a.i.Gf.x,a.i.Gf.y,25,0,2*Math.PI);b.stroke();J(b,300,440,void 0,25,25,"spark");b.font="16px Muli";b.fillStyle=x.impulse_blue;b.fillText("+10 SPARKS",300,475);J(b,500,440,void 0,25,25,"multi");b.font="16px Muli";b.fillStyle="white";b.fillText("+5 MULTIPLIER",500,475);b.font="24px Muli";b.fillText("POWERUPS",400,350);b.font="12px Muli";b.fillStyle=x.impulse_blue;b.fillText("100 SPARKS = EXTRA LIFE",
300,495);b.beginPath();b.rect(-160,Hc-140,120,80);b.strokeStyle="red";b.lineWidth=4;b.stroke()}function xh(a){"mouse"==D.wc?(Wa(a,400,400,83,125,"white"),a.font="20px Muli",a.fillText("USE ULTIMATE",400,500)):(Sa(a,400,400,55,55,10,"white"),a.font="20px Muli",a.fillText("E",400,406),a.fillText("USE ULTIMATE",400,470))}
function yh(a,b){J(b,400,330,0,60,60,"ultimate");b.font="16px Muli";b.textAlign="center";b.fillStyle="white";b.shadowBlur=0;b.fillText("YOU GET NO POINTS FOR KILLING ENEMIES WITH YOUR ULTIMATE",400,430);b.fillText("WHILE USING YOUR ULTIMATE, YOU ARE INVINCIBLE",400,480);"ult_tutorial"==a.mode&&a.Qk.U(b)}function wh(){return Math.abs(((new Date).getTime()%2E3-1E3)/1E3)}
function qh(a,b){b.drawImage(a.lq,0,0,150,150,225,300,150,150);b.drawImage(a.nq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.restore();b.shadowBlur=0;b.beginPath();b.moveTo(385,375);b.lineTo(400,375);b.lineWidth=8;b.strokeStyle="white";b.stroke();Ta(b,408,375,20,"right","white",!1);b.font="20px Muli";b.fillStyle="white";b.textAlign="center";b.fillText("IMPULSE ENEMIES INTO THE VOID TO KILL THEM",
400,500);0<a.i.r.length&&(b.save(),b.globalAlpha*=wh(),b.beginPath(),b.arc(a.i.r[0].body.g.position.x*E,a.i.r[0].body.g.position.y*E,25,0,2*Math.PI),b.lineWidth=6,b.strokeStyle=x.impulse_blue,b.stroke(),b.beginPath(),b.moveTo(a.i.r[0].body.g.position.x*E,a.i.r[0].body.g.position.y*E-25),b.lineTo(a.i.r[0].body.g.position.x*E,66),b.lineWidth=6,b.stroke(),Ta(b,a.i.r[0].body.g.position.x*E,60,25,"up",x.impulse_blue,!1),b.restore())}
function ph(a,b){b.drawImage(a.lq,0,0,150,150,225,300,150,150);b.drawImage(a.nq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.shadowBlur=0;zh(b,400,375,25,"white");b.shadowBlur=0;b.font="20px Muli";b.fillText("TOUCHING THE BLACK VOID WILL KILL YOU",400,500);for(var c=0;6>c;c++)zh(b,150+100*c,220,35,"red","down"),zh(b,150+100*c,120,35,"red","up");b.restore()}
function vh(a,b){Ta(b,355,170,25,"right","red",!1);Ta(b,445,170,25,"left","red",!1);Ta(b,400,125,25,"down","red",!1);Ta(b,400,215,25,"up","red",!1);b.beginPath();b.arc(400,170,50,0,2*Math.PI);b.lineWidth=8;b.shadowBlur=0;b.strokeStyle="red";b.stroke();"first_time_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",
400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");"normal_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("...THEN MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");b.fillStyle="white";"right"==D.Gb&&(Sa(b,400,445,300,50,10,"white"),b.fillText("SPACEBAR",400,451));"left"==D.Gb&&
(Sa(b,400,445,120,50,10,"white"),b.fillText("SHIFT",400,451))}function Ah(a,b){b.save();b.beginPath();b.rect(0,0,150,75);b.fillStyle=a.zi;b.fill();Bb(b,75,150,150,"Hive 0");b.beginPath();b.moveTo(0,75);b.lineTo(150,75);b.lineWidth=6;b.strokeStyle=x["world 0 lite"];b.stroke();b.restore()}l.Fa=function(a,b){!this.pause&&this.ready&&1==this.zoom&&("normal_tutorial"==this.mode&&this.da==this.Nd-1&&this.Qk.Fa(a-X,b),this.q.Qv=Mg(this,{x:a-X,y:b}),"ult_tutorial"==this.mode&&2==this.da&&this.Qk.Fa(a-X,b))};
l.Je=function(a){this.ready&&1==this.zoom&&(a==va.ij||a==va.uk?(this.pause=!this.pause)&&(Je=new Jg(this.i,this.n,this.G,this,this.Mb)):a==va.Oq&&this.J&&this.Gj&&Q(this.i.Fc,this.q.body.g.position)<this.i.Xk?"first_time_tutorial"==this.mode&&9>this.da||(this.ta=!0):nc(this.q,a),32==a&&-1!=[2,5,6,7].indexOf(this.da)&&"first_time_tutorial"==this.mode&&0==this.Vd&&"none"==this.jb&&(this.kg=0,this.Vd=!0))};
function oh(a,b){if("normal_tutorial"==a.mode&&4<=b||"first_time_tutorial"==a.mode&&3==b)a.i.pn=!1;"first_time_tutorial"==a.mode&&4==b&&(a.i.pn=!1);"ult_tutorial"==a.mode&&1==b&&(a.i.pn=!1,a.i.Dy=!0);"first_time_tutorial"==a.mode&&5==b&&(a.i.pn=!0);if("first_time_tutorial"==a.mode&&8==b&&(a.i.pn=!1,a.i.Dy=!0,a.Gj)){oh(a,b+1);return}if("normal_tutorial"==a.mode&&3==b&&3!=a.da||"first_time_tutorial"==a.mode&&2==b)a.Mn=new ug("player",{x:75/E,y:73/E},{x:0,y:0},!1),a.Mn.oa(300);if("normal_tutorial"==
a.mode&&4==b&&4!=a.da||"first_time_tutorial"==a.mode&&3==b)a.Mn=new ug("stunner",{x:75/E,y:60/E},{x:0,y:-5},!1),a.Mn.oa(100);a.da=b;if("normal_tutorial"==a.mode&&3==a.da||"first_time_tutorial"==a.mode&&2==a.da)a.Tb.clearRect(0,0,150,150),a.xd.clearRect(0,0,150,150),Ah(a,a.Tb),Ah(a,a.xd),zh(a.Tb,30,110,35,"red","up"),zh(a.Tb,120,110,35,"red","up"),zh(a.xd,30,110,35,"red","up"),zh(a.xd,120,110,35,"red","up"),J(a.Tb,75,75,0,30,30,"player_normal"),a.Tb.beginPath(),a.Tb.moveTo(75,55),a.Tb.lineTo(75,40),
a.Tb.lineWidth=4,a.Tb.strokeStyle=x.impulse_blue,a.Tb.stroke(),Ta(a.Tb,75,40,13,"up",x.impulse_blue,!1),a.Mn.U(a.xd);if("normal_tutorial"==a.mode&&4==a.da||"first_time_tutorial"==a.mode&&3==a.da)a.Tb.clearRect(0,0,150,150),a.xd.clearRect(0,0,150,150),Ah(a,a.Tb),Ah(a,a.xd),J(a.Tb,75,120,0,30,30,"player_normal"),a.Tb.beginPath(),a.Tb.shadowOffsetX=0,a.Tb.shadowOffsetY=0,a.Tb.lineWidth=5,a.Tb.strokeStyle=x.impulse_blue,a.Tb.arc(75,120,40,7*Math.PI/6,11*Math.PI/6),a.Tb.shadowBlur=0,a.Tb.stroke(),Ja(a.Tb,
"stunner",75,77,1,Math.PI/2),a.Tb.beginPath(),a.Tb.moveTo(75,58),a.Tb.lineTo(75,43),a.Tb.lineWidth=4,a.Tb.strokeStyle="cyan",a.Tb.stroke(),Ta(a.Tb,75,40,13,"up","cyan",!1),J(a.xd,75,120,0,30,30,"player_normal"),a.xd.globalAlpha=.5,a.xd.globalAlpha=1,a.xd.beginPath(),a.xd.shadowOffsetX=0,a.xd.shadowOffsetY=0,a.xd.lineWidth=5,a.xd.strokeStyle=a.xd.shadowColor,a.xd.arc(75,120,50,7*Math.PI/6,11*Math.PI/6),a.xd.shadowBlur=0,a.xd.stroke(),a.Mn.U(a.xd)}
l.xg=function(a,b){if(!(null!=this.wl&&120>Math.abs(a-X/2)&&160>Math.abs(b-(Hc/2+60)))){if(!this.pause&&this.ready&&1==this.zoom)if("normal_tutorial"==this.mode&&a>X&&(a<Gc-X&&400<b||this.da==10+this.Nl&&350<b)){if(this.da==this.Nd-1&&this.Qk.Pa(a-X,b),400>a&&0<this.da&&oh(this,this.da-1),800<a&&this.da<this.Nd-1&&oh(this,this.da+1),565<b&&595>b){var c=Math.round((this.Nd-1)/2-(600-a)/25);0<=c&&c<this.Nd&&oh(this,c)}}else c=this.q,c.sv=(new Date).getTime(),c.aq=!0;"ult_tutorial"==this.mode&&2==this.da&&
this.Qk.Pa(a-X,b)}};l.$r=function(){"first_time_tutorial"==this.mode&&this.ta||this.Tu?S=new Qg(this.J,this.hc,{G:this.G,i:this.i,n:this.n,Mb:this.Mb,Fp:!0,$A:this.mode}):(this.it=.1,this.Gq=1,this.zoom=.1,this.Sl=!0,Fg(this,1,1E3),this.Sk="in",this.ready=!0,this.J=new hc(this.n,!1),this.i.reset(),this.reset(),Dg(this),this.i.hc=!1)};l.Ej=function(){8==this.da&&"first_time_tutorial"==this.mode&&0==this.Vd&&"none"==this.jb&&(this.kg=this.Gm,this.Vd=!0)};function Bh(a,b,c,d,f,g,h){f&&this.ha(a,b,c,d,f,g,h)}l=Bh.prototype;l.ha=function(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.action=f;this.ed=!0;this.border=g;this.color=h;this.ua=!1;this.$a=null;this.Ob};l.U=function(a){a.save();this.border&&(a.beginPath(),a.strokeStyle=this.ed?this.ua&&this.$a?this.$a:this.color:"gray",a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=4,a.stroke());this.je(a);a.restore()};function Yg(a,b){a.Ob&&a.Ob.U(b)}l.je=function(){};
l.Fa=function(a,b){a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.ed&&(this.ua=!0),this.Xh=!0):this.Xh=this.ua=!1;this.Ob&&(this.Ob.visible=this.Xh,Zf(this.Ob,a,b))};l.Pa=function(a,b){return this.ed&&a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.action(),!0):!1};l.Je=function(a){(this.ed&&this.keyCode&&this.keyCode==a||this.sA&&this.sA==a)&&this.action()};function gh(a,b){a.Ob=b}l.xg=function(){};l.ah=function(){};Ch.prototype=new Bh;Ch.prototype.constructor=Ch;function Ch(a,b,c,d,f,g,h,k,n){this.text=a;this.ha(b,c,d,f,null,!1,g);this.es=h;this.Pg=new Dh(this.x+this.u/2-20,this.y,20,20,this.color);this.Pg.checked=n();this.ly=!0;this.action=function(){k(this.Pg.checked);this.ly&&(this.Pg.checked=!this.Pg.checked)}}
Ch.prototype.je=function(a){a.save();this.Xh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Xh?this.es:this.color;a.fillText(this.text,this.x-this.u/2+10,this.y+7);this.Pg.color=this.Xh?this.es:this.color;this.Pg.U(a);a.restore()};function Eh(){}l=Eh.prototype;l.ha=function(a,b){this.u=a;this.m=b;this.x=Gc/2;this.y=Hc/2;this.buttons=[];this.Gn=!0;this.T=new Ag({fade_in:500,fade_out:250})};l.oa=function(a){this.T.oa(a)};
l.U=function(a){a.save();a.fillStyle=x["world "+this.n+" dark"];a.fillRect(X,0,O,P);a.globalAlpha*=mg(this.n?this.n:0);a.drawImage(Xe,0,0,O,P,X,0,O,P);a.restore();a.save();"fade_in"==this.T.bc?a.globalAlpha*=Bg(this.T):"fade_out"==this.T.bc&&(a.globalAlpha*=1-Bg(this.T));this.Gn&&(a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fillStyle="white",a.fill(),a.lineWidth=2,a.strokeStyle="black",a.stroke());this.je(a);a.restore()};l.Ue=function(){};l.je=function(){};l.Fa=function(){};
l.xg=function(){};l.ah=function(){};l.Pa=function(){};l.Je=function(){};l.gq=function(){};Jg.prototype=new Eh;l=Jg.prototype;l.constructor=Jg;
function Jg(a,b,c,d,f){this.i=a;this.G=c;this.wb=d;this.n=b;this.V=this.i.V;this.ra="BOSS"==this.V.slice(0,4);this.Mb=f;this.ha(800,600);this.Gn=!1;this.rf="black";this.I=x["world "+this.n+" bright"];this.color=x["world "+this.n];this.Gc=this.wb.Gc;this.Mk=null;if(this.ra)this.Mk={},this.cf=0;else{this.Mk=N[this.V].r;this.cf=0;for(var g in N[this.V].r)this.cf+=1}this.Sf=40;Fh(this)}l.Ue=function(){};
function Fh(a){a.buttons=[];var b="white";if(0==a.n||void 0==a.n)b=x.impulse_blue;"HOW TO PLAY"!=a.V.slice(0,11)&&0!=a.n?(a.i.hc?(a.IE=new $("SAVE & QUIT",16,a.x+170,a.y-a.m/2+500,120,65,a.I,b,function(a){return function(){kg(a.wb.J);S=new Ug(a.wb.n,!1,a.wb.J,null,null,!0,!0);Je=null}}(a),"save"),a.buttons.push(a.IE),a.Fs=new $("QUIT",16,a.x-170,a.y-a.m/2+500,60,65,a.I,b,function(a){return function(){kg({});S=new Ug(a.wb.n,!1,a.wb.J,null,null);Je=null}}(a),"quit")):(a.Cl=new $("RETRY",16,a.x-173,
a.y-a.m/2+500,60,65,a.I,b,function(a){return function(){Y.translate(X,0);a.i.t=null;a.i.Ue(Y);Y.translate(-X,0);var b=new hc(a.wb.n,!1);S=new Vf(a.wb.n,a.i,a.Mb,b,!1,!1);Je=null}}(a),"retry"),a.buttons.push(a.Cl),a.Cl.keyCode=va.Wq,a.Cl.wf="right"==D.Gb?"R KEY":"SHIFT KEY",a.Fs=new $("QUIT",16,a.x+180,a.y-a.m/2+500,60,65,a.I,b,function(a){return function(){S=new Qg(a.wb.J,a.wb.hc,{G:a.wb.G,i:a.wb.i,n:a.wb.n,Mb:a.wb.Mb,ta:!1});Je=null}}(a),"quit")),a.buttons.push(a.Fs),a.Wv=new $("OPTIONS",16,a.x,
a.y-a.m/2+500,100,65,a.I,b,function(a){return function(){zg(a.T,"fade_out",function(){Je=new bg(a)})}}(a),"options")):(a.Fs=new $(0==a.n&&Me?"SKIP TUTORIAL":"QUIT",16,a.x+100,a.y-a.m/2+500,60,65,a.I,b,function(a){return function(){S=new Qg(a.wb.J,a.wb.hc,{G:a.wb.G,i:a.wb.i,n:a.wb.n,Mb:a.wb.Mb,Fp:!0,Zu:Me,ta:!0});Je=null}}(a),"quit"),a.buttons.push(a.Fs),a.Wv=new $("OPTIONS",16,a.x-100,a.y-a.m/2+500,100,65,a.I,b,function(a){return function(){zg(a.T,"fade_out",function(){Je=new bg(a)})}}(a),"options"));
a.Wv.rf=a.rf;a.buttons.push(a.Wv);a.El=new $("RESUME",24,a.x,a.y-a.m/2+350,150,100,a.I,b,function(a){return function(){Ng(a.wb)}}(a),"resume");a.El.keyCode=va.ij;a.El.sA=va.uk;a.El.wf="right"==D.Gb?"Q KEY":"ENTER KEY";a.buttons.push(a.El);var b=0,c;for(c in a.Mk){for(var d=0,f=0;d<b+1&&d<a.cf;)d+=12;f=d<=a.cf?12:a.cf-(d-12);d=new Sg(c,a.Sf,a.x+(a.Sf+10)*(b-(d-12)-(f-1)/2),a.y-a.m/2+200+a.Sf*(Math.floor(b/12)-(Math.ceil(a.cf/12)-1)/2),a.Sf,a.Sf,a.i.Gc,function(a,b){return function(){zg(b.T,"fade_out",
function(){Je=new Tg(a,b)})}}(c,a));d.ey=a.I;a.buttons.push(d);b+=1}c=new $("",20,a.x+a.u/2-20,a.y-a.m/2+20,30,30,a.I,"white",function(){ag()},"fullscreen_in_game");a.buttons.push(c);c=new $("",20,a.x+a.u/2-50,a.y-a.m/2+20,30,30,a.I,"white",function(){cg()},"mute_in_game");a.buttons.push(c)}
l.je=function(a){a.save();a.beginPath();a.textAlign="center";this.i.hc&&0<this.wb.J.Qg&&(a.font="14px Muli",a.fillStyle="red",a.shadowBlur=10,a.shadowColor=a.fillStyle,a.fillText("CONTINUES: "+this.wb.J.Qg,this.x,this.y-this.m/2+70));a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.I;a.fillStyle=this.I;a.fillText("MENU",this.x,this.y-this.m/2+100);a.font="16px Muli";0<this.cf&&a.fillText("DETAILED ENEMY INFO",this.x,this.y-this.m/2+165);a.textAlign="center";for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].U(a);
a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};l.Je=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].Je(a)};bg.prototype=new Eh;l=bg.prototype;l.constructor=bg;
function bg(a){this.ha(800,600);this.wb=a.wb;this.Gn=!1;this.n=a.n;this.Zh=133;var b="white";if(0==this.n||void 0==this.n)b=x.impulse_blue;this.$b=a;this.$b instanceof Jg?(this.rf=this.$b.rf,this.color=this.$b.color,this.Gc=this.$b.Gc,this.I=this.$b.I):(this.rf=x["world 0 dark"],this.color=x["world 0"],this.Gc=x["world 0 lite"],this.I=x["world 0 bright"],this.Ue());this.vi=new $("BACK",16,this.x,this.y-this.m/2+560,60,65,this.I,b,function(a){return function(){zg(a.T,"fade_out",function(){a.$b instanceof
Jg?(Fh(a.$b),Je=a.$b,zg(a.$b.T,"fade_in")):(a.$b instanceof Qf&&zg(a.$b.T,"fade_in"),Je=null)})}}(this),"back");a=this.x;this.$b instanceof Qf&&(this.Hm=new $("DELETE GAME DATA",20,this.x+150,this.y+120,200,100,this.I,"red",function(a){return function(){zg(a.T,"fade_out",function(){Je=new Gh(a)})}}(this),"delete"),this.buttons.push(this.Hm),a=this.x-150);this.buttons.push(this.vi);this.yC=new $("CHANGE CONTROLS",20,a,this.y+120,200,100,this.I,b,function(a){return function(){zg(a.T,"fade_out",function(){Je=
new Hh(a)})}}(this),"controls");this.buttons.push(this.yC);this.Hu="";this.us=new Ih("GAME MUSIC",this.x,this.y-this.m/2+this.Zh,300,30,this.I,"white",function(a){ec(Math.ceil(100*Math.pow(a,2)))},Math.pow(D.Ek/100,.5));this.us.Wc=bc.Ui;gh(this.us,new Yf("option_game_music","white",this.n));this.buttons.push(this.us);this.Pr=new Ih("SOUND EFFECTS",this.x,this.y-this.m/2+this.Zh+30,300,30,this.I,"white",function(a){D.Qr=Math.ceil(100*Math.pow(a,3));fc()},Math.pow(D.Qr/100,.333));this.Pr.Wc=bc.Ui;gh(this.Pr,
new Yf("option_sound_effects","white",this.n));this.buttons.push(this.Pr);this.Zr=new Ch("FULLSCREEN",this.x,this.y-this.m/2+this.Zh+60,300,30,this.I,"white",function(){ag()},function(){return $f()});gh(this.Zr,new Yf("option_fullscreen","white",this.n));this.Zr.ly=!1;this.buttons.push(this.Zr);button=new Ch("PARTICLE EFFECTS",this.x,this.y-this.m/2+this.Zh+90,300,30,this.I,"white",function(){D.Ur=!D.Ur},function(){return D.Ur});gh(button,new Yf("option_particle_effects","white",this.n));this.buttons.push(button);
button=new Ch("SCORE LABELS",this.x,this.y-this.m/2+this.Zh+120,300,30,this.I,"white",function(){D.ec=!D.ec},function(){return D.ec});gh(button,new Yf("option_score_labels","white",this.n));this.buttons.push(button);button=new Ch("MULTIPLIER DISPLAY",this.x,this.y-this.m/2+this.Zh+150,300,30,this.I,"white",function(){D.ts=!D.ts},function(){return D.ts});gh(button,new Yf("option_multiplier_display","white",this.n));this.buttons.push(button);button=new Ch("IMPULSE SHADOW",this.x,this.y-this.m/2+this.Zh+
180,300,30,this.I,"white",function(){D.gs=!D.gs},function(){return D.gs});gh(button,new Yf("option_impulse_shadow","white",this.n));this.buttons.push(button);this.wb instanceof Vf&&this.wb.i.hc&&0<this.n&&"normal"==K&&(button=new Ch("SPEED RUN COUNTDOWN",this.x,this.y-this.m/2+this.Zh+210,300,30,this.I,"white",function(){D.ji=!D.ji},function(){return D.ji}),gh(button,new Yf("option_speed_run","white",this.n)),this.buttons.push(button));zg(this.T,"fade_in")}
l.Ue=function(){var a=Xe.getContext("2d");Bb(a,0,O,P,"Hive 0")};
l.je=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.I;a.fillStyle=this.I;a.fillText("OPTIONS",this.x,this.y-this.m/2+100);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].U(a);for(b=0;b<this.buttons.length;b++)Yg(this.buttons[b],a);a.textAlign="center";this.Hu&&(a.font="14px Muli",this.wb instanceof Vf&&this.wb.i.hc?a.fillText(this.Hu,this.x,this.y-this.m/2+this.Zh+180):a.fillText(this.Hu,this.x,this.y-this.m/2+this.Zh+150));a.restore()};
l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};l.Je=function(){};l.xg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].xg(a,b)};l.ah=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].ah(a,b)};Hh.prototype=new Eh;l=Hh.prototype;l.constructor=Hh;
function Hh(a){this.ha(800,600);this.wb=a.wb;this.Gn=!1;this.$b=a;this.rf=this.$b.rf;this.Gc=this.$b.Gc;this.I=this.$b.I;this.color=this.$b.color;this.n=a.n;a="white";if(0==this.n||void 0==this.n)a=x.impulse_blue;this.vi=new $("BACK",16,this.x,this.y-this.m/2+560,60,65,this.I,a,function(a){return function(){zg(a.T,"fade_out",function(){Je=a.$b;zg(a.$b.T,"fade_in")})}}(this),"back");this.Se={};this.Se["left mouse"]=new $("LEFT-HAND MOUSE",16,this.x-200,this.y-this.m/2+135,200,100,this.I,a,function(){return function(){D.Gb=
"left";D.wc="mouse";fc();za()}}(this),"left_mouse");this.Se["right keyboard"]=new $("KEYBOARD-ONLY",16,this.x,this.y-this.m/2+135,200,100,this.I,a,function(){return function(){D.Gb="right";D.wc="keyboard";fc();za()}}(this),"keyboard");this.Se["right mouse"]=new $("RIGHT-HAND MOUSE",16,this.x+200,this.y-this.m/2+135,200,100,this.I,a,function(){return function(){D.Gb="right";D.wc="mouse";fc();za()}}(this),"right_mouse");this.buttons.push(this.Se["left mouse"]);this.buttons.push(this.Se["right mouse"]);
this.buttons.push(this.Se["right keyboard"]);this.Bf=1<=jc();this.buttons.push(this.vi);Jh(this);zg(this.T,"fade_in")}l.Fa=function(a,b){this.Er=null;for(var c in this.Se)this.Se[c].Fa(a,b),this.Se[c].Xh&&(this.Er=c);this.vi.Fa(a,b);Jh(this)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};function Jh(a){for(var b in a.Se)a.Se[b].color=a.I,a.Se[b].border=!1;a.Er?a.Se[a.Er].color=a.I:a.Se[D.Gb+" "+D.wc].color=a.I;a.Se[D.Gb+" "+D.wc].border=!0}
l.je=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowColor=this.I;a.fillStyle=this.I;a.fillText("CONTROLS",this.x,this.y-this.m/2+50);a.font="18px Muli";a.fillText("SELECT SCHEME",this.x,this.y-this.m/2+75);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].U(a);b=this.Er;null==b&&("right"==D.Gb&&"mouse"==D.wc&&(b="right mouse"),"left"==D.Gb&&"mouse"==D.wc&&(b="left mouse"),"right"==D.Gb&&"keyboard"==D.wc&&(b="right keyboard"));a.globalAlpha*=.6;"right mouse"==
b&&(Ra(a,this.x-200,this.y-this.m/2+300,50,this.I,["W","A","S","D"]),a.fillText("MOVE",this.x-200,this.y-this.m/2+360),this.Bf?(Va(a,this.x,this.y-this.m/2+270,75,100,this.I),a.fillText("IMPULSE",this.x,this.y-this.m/2+360),Wa(a,this.x+200,this.y-this.m/2+270,75,100,this.I),a.fillText("ULTIMATE",this.x+200,this.y-this.m/2+360)):(Va(a,this.x+200,this.y-this.m/2+270,75,100,this.I),a.fillText("IMPULSE",this.x+200,this.y-this.m/2+360)),Sa(a,this.x,this.y-this.m/2+430,300,40,10,this.I),a.fillText("SPACEBAR",
this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"left mouse"==b&&(this.Bf?(Va(a,this.x-200,this.y-this.m/2+270,75,100,this.I),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),Wa(a,this.x,this.y-this.m/2+270,75,100,this.I),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)):(Va(a,this.x-200,this.y-this.m/2+270,75,100,this.I),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360)),Ra(a,this.x+200,this.y-this.m/2+300,50,this.I),a.fillText("MOVE",this.x+
200,this.y-this.m/2+360),Sa(a,this.x,this.y-this.m/2+430,120,40,10,this.I),a.fillText("SHIFT",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"right keyboard"==b&&(Ra(a,this.x-200,this.y-this.m/2+300,50,this.I,["W","A","S","D"]),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),this.Bf&&(Sa(a,this.x,this.y-this.m/2+280,45,45,10,this.I),a.font="18px Muli",a.fillText("F",this.x,this.y-this.m/2+286),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)),
Ra(a,this.x+200,this.y-this.m/2+300,50,this.I),a.fillText("MOVE",this.x+200,this.y-this.m/2+360),Sa(a,this.x,this.y-this.m/2+430,300,40,10,this.I),a.fillText("SPACEBAR",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));a.restore()};l.Je=function(){};Tg.prototype=new Eh;l=Tg.prototype;l.constructor=Tg;
function Tg(a,b){this.ha(800,600);this.Gn=!1;b instanceof Eh?(this.wb=b.wb,this.rf=b.rf,this.color=b.color,this.Gc=b.Gc,this.I=b.I,this.n=this.wb.n):b instanceof wg&&(this.rf="black",this.Gc=x["world "+b.n+" lite"],this.I=x["world "+b.n+" bright"],this.color=x["world "+b.n],this.n=b.n);var c="white";if(0==this.n||void 0==this.n)c=x.impulse_blue;this.$b=b;this.Gg=this.zj=a;G[this.zj].Gg&&(this.Gg=G[this.zj].Gg);this.yg=this.Fg=null;this.Bg=G[this.zj].Bg;this.u=600;this.vi=new $("BACK",16,this.x,this.y-
this.m/2+560,60,65,this.I,c,function(a){return function(){zg(a.T,"fade_out",function(){a.$b instanceof Eh?(Je=a.$b,zg(a.$b.T,"fade_in")):a.$b instanceof wg&&(Je=null,zg(a.$b.T,"fade_in"))})}}(this),"back");this.buttons.push(this.vi);this.color=x["world "+this.n];this.Ew=500;this.Ce=G[this.zj].Ce;this.Bm=null;this.Nd=this.Ce.length;this.da=0;zg(this.T,"fade_in")}
l.je=function(a){a.save();if(null==this.Bm){var b;b=this.Ew;var c=this.Ce[this.da].toUpperCase().split(" "),d=[],f=c[0],g=0;if(1==c.length)b=c;else{a.font="20px Muli";for(var h=1;h<c.length;h++){var k=c[h],g=a.measureText(f+k).width;g<b&&"#"!=k?f+=" "+k:(d.push(f),f="#"!=k?k:"");if(h===c.length-1){d.push(f);break}}b=d}this.Bm=b}a.beginPath();a.textAlign="center";a.fillStyle=this.I;a.font="16px Muli";a.fillText("ENEMY INFO",this.x,this.y-this.m/2+70);a.font="30px Muli";a.fillText(this.Gg.toUpperCase(),
this.x,this.y-this.m/2+120);a.globalAlpha/=3;La(a,this.n,this.x,this.y-this.m/2+215,80);a.globalAlpha*=3;Ja(a,this.zj,this.x,this.y-this.m/2+215,1.5);a.font="12px Muli";a.fillText("BASE POINTS",this.x,this.y-this.m/2+310);a.font="24px Muli";a.fillText(G[this.zj].Kc,this.x,this.y-this.m/2+335);a.font="20px Muli";for(b=0;b<this.Bm.length;b++)c=b-(this.Bm.length-1)/2,a.fillText(this.Bm[b],this.x,this.y-this.m/2+427+25*c);if(1<this.Nd)for(Ta(a,this.x-300,this.y-this.m/2+420,20,"left",this.I,!1),a.font=
"10px Muli",a.fillStyle=this.I,a.fillText("NEXT",this.x+302,this.y-this.m/2+450),a.fillText("PREV",this.x-302,this.y-this.m/2+450),Ta(a,this.x+300,this.y-this.m/2+420,20,"right",this.I,!1),b=0;b<this.Nd;b++)c=(this.Nd-1)/2-b,a.beginPath(),a.shadowBlur=5,a.arc(this.x-25*c,this.y-this.m/2+515,4,0,2*Math.PI,!0),this.da==b?(a.fillStyle=this.I,a.shadowColor=a.fillStyle,a.fill()):(a.save(),a.globalAlpha*=.5,a.fillStyle=this.color,a.shadowColor=a.fillStyle,a.fill(),a.restore());for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].U(a);
a.restore()};l.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};l.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b);a<this.x-this.Ew/2?Kh(this,this.da-1):a>this.x+this.Ew/2&&Kh(this,this.da+1);500<b&&530>b&&(c=Math.round((this.Nd-1)/2-(this.x-a)/25),0<=c&&c<this.Nd&&Kh(this,c))};function Kh(a,b){a.da=b;0>a.da&&(a.da+=a.Nd);a.da>=a.Nd&&(a.da-=a.Nd);a.Bm=null}l.Je=function(){};Gh.prototype=new Eh;Gh.prototype.constructor=Gh;
function Gh(a){this.ha(800,600);this.$b=a;this.Gn=!1;this.Gc=a.Gc;this.I=a.I;this.zy=!1;this.buttons=[];this.Hm=new $("DELETE GAME DATA",20,this.x,this.y+90,200,100,"white","red",function(a){return function(){fh();a.zy=!0}}(this),"delete");this.buttons.push(this.Hm);this.vi=new $("BACK",16,this.x,this.y-this.m/2+560,60,65,"white","white",function(a){return function(){zg(a.T,"fade_out",function(){Je=a.$b;a.$b.Ue();zg(a.$b.T,"fade_in")})}}(this),"back");this.buttons.push(this.vi);zg(this.T,"fade_in")}
Gh.prototype.je=function(a){if(this.zy)a.fillStyle="red",a.textAlign="center",a.font="24px Muli",a.fillText("ALL GAME DATA HAS BEEN DELETED",this.x,210),this.vi.U(a);else{a.fillStyle="red";a.textAlign="center";a.font="24px Muli";a.fillText("ARE YOU SURE",this.x,200);a.font="24px Muli";a.fillText(" YOU WANT TO DELETE ALL YOUR GAME DATA?",this.x,230);a.font="16px Muli";a.fillText("THIS ACTION CANNOT BE UNDONE.",this.x,290);for(var b=0;b<this.buttons.length;b++)this.buttons[b].U(a)}};
Gh.prototype.Fa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Fa(a,b)};Gh.prototype.Pa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Pa(a,b)};function fh(){localStorage.removeItem(Ke);var a=D,b=Qe;Of();D=a;Qe=b;Me=!1;fc()};new Bh;function ug(a,b,c,d){this.ha(a,b,c,d)}
ug.prototype.ha=function(a,b,c,d){this.OE=d?!0:!1;this.yf=[];if("spark"==a||"multi"==a)c={x:0,y:0};this.Tn=1;d=Math.min(1,10/Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y+.01)));c={x:c.x*d,y:c.y*d};this.wv=1E3;this.color="black";"boss"==a.slice(a.length-4,a.length)?(this.shape=G[a].ip[0],this.color=G[a].color,this.Zj=.5,this.dq=50,this.wm=10,"boss_two"==a&&(this.wm=20),this.Tn=5,this.wv=2E3):"player"==a?(this.shape={type:"circle",x:0,y:0,X:mc.prototype.hh},this.color=x.player_color,this.Zj=.5,this.dq=12,this.Tn=
this.wm=2):"harpoon"==a||"harpoonhead"==a?(this.shape=G[a].Yb[0],this.color=G[a].color,this.Zj=.3,this.dq=4,this.wm=2):"spark"==a||"multi"==a?(this.dq=6,this.wm=20,this.Zj=1,this.shape=a):(this.shape=G[a].Yb[0],this.color=G[a].color,"tanker"==a&&(this.color="red"),this.Zj=.3,this.dq=4,this.wm=2);this.js=this.wv;this.jy=this.wm*Math.max(3,Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y)));this.fB=.5;this.ye={x:b.x,y:b.y};this.vj={x:this.Zj*c.x,y:this.Zj*c.y};for(a=0;a<this.Tn;a++){d=this.dq/this.Tn;for(var f=
0;f<d;f++)dir=2*Math.PI*f/d+2*(Math.random()-.5)*Math.PI/d,new_v={x:this.Zj*c.x+Math.cos(dir)*(a+1)/this.Tn*this.jy,y:this.Zj*c.y+Math.sin(dir)*(a+1)/this.Tn*this.jy},this.yf.push(new Lh(this.shape,E/3,{x:b.x*E,y:b.y*E},{x:new_v.x*E,y:new_v.y*E},this.color))}};ug.prototype.oa=function(a){this.js-=a;this.ye.x+=this.vj.x*a/1E3;this.ye.y+=this.vj.y*a/1E3;this.vj.x-=this.fB*this.vj.x*a/1E3;this.vj.y-=this.fB*this.vj.y*a/1E3;for(var b=0;b<this.yf.length;b++)this.yf[b].oa(a)};
ug.prototype.U=function(a){this.OE&&(a.shadowColor=this.color,a.shadowBlur=15);for(var b=0;b<this.yf.length;b++)this.yf[b].U(a,this.js/this.wv);a.shadowBlur=0};function Lh(a,b,c,d,f){this.ha(a,b,c,d,f)}Lh.prototype.ha=function(a,b,c,d,f){this.Tc=c;this.shape=a;this.size=b;this.sh=d;this.color=f;this.gB=500};Lh.prototype.oa=function(a){this.Tc.x+=this.sh.x*a/1E3;this.Tc.y+=this.sh.y*a/1E3;this.sh.x*=Math.pow(.5,a/this.gB);this.sh.y*=Math.pow(.5,a/this.gB)};
Lh.prototype.U=function(a,b){if("spark"==this.shape||"multi"==this.shape){a.save();a.globalAlpha*=b;var c=R({x:0,y:0},this.sh);"spark"==this.shape?J(a,this.Tc.x/E,this.Tc.y/E,c,12,12,"spark"):"multi"==this.shape&&J(a,this.Tc.x/E,this.Tc.y/E,c,12,12,"multi")}else a.save(),c=R({x:0,y:0},this.sh),Ia(a,this.Tc.x,this.Tc.y,this.shape,this.size,this.color,b,c);a.restore()};$.prototype=new Bh;$.prototype.constructor=$;function $(a,b,c,d,f,g,h,k,n,q){this.text=a;this.size=b;this.ha(c,d,f,g,n,!1,h);this.$a=k;this.Hl=!1;this.icon=q;this.ed=!0;this.rf=null;this.Jw=!0;"world"==this.icon.slice(0,5)&&(this.Jw=!1)}
$.prototype.je=function(a){a.save();if(this.icon){a.save();a.shadowBlur=0;if("player"==this.icon)this.ua?J(a,this.x,this.y-this.m/8,0,40,40,"player_normal"):J(a,this.x,this.y-this.m/8,0,40,40,"player_white");else if("gear"==this.icon)this.ua?Ya(a,this.x,this.y-this.m/8,x.impulse_blue,"#080808",!1):Ya(a,this.x,this.y-this.m/8,"white","#080808",!1);else if("credit"==this.icon)this.ua?Za(a,this.x,this.y-this.m/8,x.impulse_blue):Za(a,this.x,this.y-this.m/8,"white");else if("tutorial"==this.icon)this.ua?
$a(a,this.x,this.y-this.m/8,x.impulse_blue):$a(a,this.x,this.y-this.m/8,"white");else if("note"==this.icon)this.ua?lb(a,this.x,this.y-this.m/6,x.impulse_blue):lb(a,this.x,this.y-this.m/6,"white");else if("texture"==this.icon)this.ua?ib(a,this.x,this.y-this.m/4,x.impulse_blue):ib(a,this.x,this.y-this.m/4,"white");else if("physics_engine"==this.icon)this.ua?jb(a,this.x,this.y-this.m/6,x.impulse_blue):jb(a,this.x,this.y-this.m/6,"white");else if("audio"==this.icon)this.ua?mb(a,this.x,this.y-this.m/6,
20,x.impulse_blue,!1):mb(a,this.x,this.y-this.m/6,20,"white",!1);else if("back"==this.icon)this.ua?bb(a,this.x,this.y-this.m/8,this.$a):bb(a,this.x,this.y-this.m/8,this.color);else if("start"==this.icon)this.ua?cb(a,this.x,this.y-this.m/8,20,this.$a):cb(a,this.x,this.y-this.m/8,20,this.color);else if("resume"==this.icon)this.ua?cb(a,this.x,this.y-this.m/8,30,this.$a):cb(a,this.x,this.y-this.m/8,30,this.color);else if("retry"==this.icon)this.ua?ab(a,this.x,this.y-this.m/8,this.$a):ab(a,this.x,this.y-
this.m/8,this.color);else if("options"==this.icon)this.ua?Ya(a,this.x,this.y-this.m/8,this.$a,this.rf):Ya(a,this.x,this.y-this.m/8,this.color,this.rf);else if("fb"==this.icon)this.ua?Xa(a,this.x,this.y-this.m/8,this.$a):Xa(a,this.x,this.y-this.m/8,this.color);else if("save"==this.icon)this.ua?eb(a,this.x,this.y-this.m/8,this.$a):eb(a,this.x,this.y-this.m/8,this.color);else if("quest"==this.icon)this.ua?fb(a,this.x,this.y-this.m/8,this.$a):fb(a,this.x,this.y-this.m/8,this.color);else if("quit"==this.icon)this.ua?
hb(a,this.x,this.y-this.m/6,24,this.$a):hb(a,this.x,this.y-this.m/6,24,this.color);else if("delete"==this.icon)this.ua?gb(a,this.x,this.y-this.m/8,36,this.$a):gb(a,this.x,this.y-this.m/8,36,this.color);else if("delete_small"==this.icon)this.ua?gb(a,this.x,this.y-this.m/5,30,this.$a):gb(a,this.x,this.y-this.m/5,30,this.color);else if("close_dialog"==this.icon)this.ua?hb(a,this.x,this.y-this.m/6,36,this.$a):hb(a,this.x,this.y-this.m/6,36,this.color);else if("mute_in_game"==this.icon)mb(a,this.x,this.y,
15,this.ua?this.$a:this.color,D.Sv);else if("pause_in_game"==this.icon){var b=this.x,c=this.y,d=this.ua?this.$a:this.color;a.save();a.clearRect(b-15,c-15,45,45);a.beginPath();a.rect(b-5.625,c-7.5,3.75,15);a.rect(b+1.875,c-7.5,3.75,15);a.fillStyle=d;a.fill();a.font="10px Muli";a.textAlign="center";"left"==D.Gb?a.fillText("ENTER",b+15,c+15):a.fillText("Q",b+15,c+15);a.restore()}else"fullscreen_in_game"==this.icon?(b=this.x,c=this.y,d=this.ua?this.$a:this.color,a.save(),a.beginPath(),a.globalAlpha/=
2,a.rect(b-11.25,c-11.25,22.5,22.5),a.strokeStyle=d,a.fillStyle=d,a.lineWidth=2,a.stroke(),a.globalAlpha*=2,a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b-0,c-7.5),a.lineTo(b-7.5,c-0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b+7.5,c+7.5),a.lineTo(b+0,c+7.5),a.lineTo(b+7.5,c+0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b+7.5,c+7.5),a.stroke(),a.restore()):"easy_mode"==this.icon?Da(a,"goo",this.x,this.y-this.m/8,30,Math.PI/2,this.ua?"ulted":"white",this.ua?x.impulse_blue:
"white"):"normal_mode"==this.icon?J(a,this.x,this.y-this.m/8,0,40,40,this.ua?"ultimate_icon_blue":"ultimate_icon"):"left_mouse"==this.icon?(Ua(a,this.x-.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.ua?this.$a:this.color),Ra(a,this.x+.17*this.u,this.y,.2*this.m,this.ua?this.$a:this.color)):"keyboard"==this.icon?(Ra(a,this.x-.23*this.u,this.y,.2*this.m,this.ua?this.$a:this.color),Ra(a,this.x+.23*this.u,this.y,.2*this.m,this.ua?this.$a:this.color)):"right_mouse"==this.icon?(Ra(a,this.x-.17*this.u,
this.y,.2*this.m,this.ua?this.$a:this.color),Ua(a,this.x+.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.ua?this.$a:this.color)):"help_icon"==this.icon?(a.beginPath(),a.arc(this.x,this.y,this.u/2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI,!1),a.strokeStyle=this.ua?this.$a:this.color,a.lineWidth=2,a.fillStyle="black",a.stroke(),a.fill(),a.beginPath(),a.arc(this.x,this.y-this.u/8,this.u/8,-Math.PI,0,!1),a.lineTo(this.x,this.y+this.u/8),a.stroke(),a.beginPath(),a.arc(this.x,this.y+this.u/2-4,1,0,2*
Math.PI),a.fillStyle=this.ua?this.$a:this.color,a.fill()):"controls"==this.icon?(a.shadowBlur=0,"right"==D.Gb&&"mouse"==D.wc&&(Ra(a,this.x-.15*this.u,this.y,.2*this.m,this.ua?this.$a:this.color),Ua(a,this.x+.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.ua?this.$a:this.color)),"left"==D.Gb&&"mouse"==D.wc&&(Ua(a,this.x-.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.ua?this.$a:this.color),Ra(a,this.x+.15*this.u,this.y,.2*this.m,this.ua?this.$a:this.color)),"right"==D.Gb&&"keyboard"==D.wc&&
(Ra(a,this.x-.2*this.u,this.y,.2*this.m,this.ua?this.$a:this.color),Ra(a,this.x+.2*this.u,this.y,.2*this.m,this.ua?this.$a:this.color))):"world"==this.icon.slice(0,5)?(b=parseInt(this.icon.slice(5)),a.save(),a.globalAlpha=this.ua&&this.ed?.5*a.globalAlpha:this.ed?.3*a.globalAlpha:.15*a.globalAlpha,this.ed?La(a,b,this.x,this.y,2*this.size,this.ua):Pa(a,b,this.x,this.y,2*this.size),a.restore(),a.save(),this.ed||(a.globalAlpha*=.3),a.textAlign="center",a.font="32px Muli",a.fillStyle=this.ed?this.color:
"gray",a.fillText(this.text,this.x,this.y+10),a.restore()):"practice"==this.icon.slice(0,8)&&(b=parseInt(this.icon.slice(8)),this.ed?(a.globalAlpha=this.ua?3==b?.6*a.globalAlpha:.7*a.globalAlpha:.3*a.globalAlpha,La(a,b,this.x,this.y,1.4*this.size)):(a.globalAlpha*=.3,Pa(a,b,this.x,this.y,1.4*this.size)));a.restore()}a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";this.ua&&this.Jw&&(a.beginPath(),b=a.measureText(this.text).width,a.moveTo(this.x-b/2,this.y+.4*this.m),a.lineTo(this.x+b/
2,this.y+.4*this.m),a.strokeStyle=this.$a?this.$a:this.color,a.lineWidth=2,a.stroke());this.ed||"practice"!=this.icon.slice(0,8)||(a.globalAlpha*=.4);a.fillStyle=this.ua?this.$a:this.color;this.Hl?(a.shadowBlur=5,a.shadowColor=a.fillStyle):a.shadowBlur=0;"practice"==this.icon.slice(0,8)?a.fillText(this.text,this.x-1,this.y+this.m/6):"world"!=this.icon.slice(0,5)&&a.fillText(this.text,this.x,this.y+this.m/3);this.wf&&(a.font=this.NC?this.NC:.7*this.size+"px Muli",a.fillText(this.wf,this.x,this.y+this.m/
3+1*this.size));a.fill();a.restore()};new Bh;function Yf(a,b,c,d){b&&this.ha(a,b,c,d)}
Yf.prototype.ha=function(a,b,c){this.type=a;this.color=b;this.y=this.x=0;this.dA=this.visible=!1;this.Ss=!0;"rank_explanation"==this.type?(this.u=360,this.m=105):"rank_explanation_normal"==this.type?(this.u=360,this.m=140):"fullscreen_msg"==this.type?(this.u=230,this.m=40):"mute_msg"==this.type?(this.u=130,this.m=40):"final_boss"==this.type?(this.u=220,this.m=50):"blitz_hive"==this.type.substring(0,10)?(this.u=250,this.m=75):"beat_hive"==this.type.substring(0,9)?(this.u=150,this.m=50):"high_roller"==
this.type?(this.u=250,this.m=75):"untouchable"==this.type?(this.u=200,this.m=75):"combo"==this.type||"pacifist"==this.type||"survivor"==this.type?(this.u=250,this.m=75):"fast_time"==this.type?(this.u=220,this.m=150):"0star"==this.type?(this.u=250,this.m=75):"beat_hard"==this.type?(this.u=180,this.m=75):"option_game_music"==this.type?(this.u=300,this.m=40):"option_sound_effects"==this.type?(this.u=250,this.m=40):"option_fullscreen"==this.type?(this.u=150,this.m=40):"option_particle_effects"==this.type?
(this.u=250,this.m=40):"option_score_labels"==this.type?(this.u=350,this.m=40):"option_multiplier_display"==this.type?(this.u=300,this.m=40):"option_impulse_shadow"==this.type?(this.u=350,this.m=40):"option_speed_run"==this.type?(this.u=500,this.m=40):"tutorial_move"==this.type?(this.u=200,this.m=150):"tutorial_impulse"==this.type?(this.u=180,this.m=150):"tutorial_pause"==this.type?(this.u=220,this.m=40):"tutorial_gateway_move"==this.type?(this.u=220,this.m=80):"tutorial_score_points"==this.type?
(this.u=450,this.m=40):"tutorial_enemy_incr"==this.type?(this.u=420,this.m=40):"tutorial_enter_gateway"==this.type?(this.u=200,this.m=120):"tutorial_void"==this.type?(this.u=300,this.m=40):"tutorial_kill_enemy"==this.type?(this.u=300,this.m=40):"tutorial_incr_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_reset_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_one_up"==this.type?(this.u=250,this.m=40):"tutorial_kill_boss"==this.type?(this.u=250,this.m=40):"lives_and_sparks"==this.type?
(this.u=150,this.m=110,this.Bf=1<=jc(),this.Ld=ic(),this.mk=jc(),this.hi=kc()):"god_mode_alert"==this.type?(this.u=250,this.m=40,this.message="ALL LEVELS UNLOCKED",this.dA=!0):"saved_alert"==this.type?(this.u=250,this.m=75,this.Ss=!1):"level_preview_"==this.type.substring(0,14)?(this.u=200,this.m=150):"quest_"==this.type.substring(0,6)?(this.u=420,this.m=90,this.Ss=!1):"enemy_"==this.type.substring(0,6)&&(this.u=420,this.m=90,this.Ss=!1);this.opacity=0;this.n=c};
Yf.prototype.U=function(a){if(this.visible){a.save();this.Ss&&(a.beginPath(),a.strokeStyle=this.color,a.fillStyle="tutorial"==this.type.substring(0,8)?"#111":"black",a.shadowBlur=0,a.lineWidth=2,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.stroke());"option_game_music"==this.type&&(this.Yj="BACKGROUND MUSIC VOLUME");"option_sound_effects"==this.type&&(this.Yj="SOUND EFFECTS VOLUME");"option_fullscreen"==this.type&&(this.Yj="GO FULLSCREEN");"option_particle_effects"==this.type&&
(this.Yj="SHOW PARTICLE EFFECTS");"option_score_labels"==this.type&&(this.Yj="SHOW SCORE VALUE WHEN ENEMIES DIE");"option_multiplier_display"==this.type&&(this.Yj="SHOW MULTIPLIER BELOW PLAYER");"option_impulse_shadow"==this.type&&(this.Yj="SHOW AIMING SHADOW FOR IMPULSE");"option_speed_run"==this.type&&(this.Yj="SHOW COUNTDOWN FOR BEATING SPEED RUN CHALLENGE");"tutorial_move"==this.type&&("right"==D.Gb&&"mouse"==D.wc&&Ra(a,this.x,this.y,40,"white",["W","A","S","D"]),"right"==D.Gb&&"keyboard"==D.wc&&
Ra(a,this.x,this.y,40,"white"),"left"==D.Gb&&"mouse"==D.wc&&Ra(a,this.x,this.y,40,"white"),this.Kf="MOVE");"tutorial_impulse"==this.type&&("mouse"==D.wc?Va(a,this.x,this.y-20,56,82,"white"):Ra(a,this.x,this.y,40,"white",["W","A","S","D"]),this.Kf="IMPULSE");"tutorial_pause"==this.type&&("right"==D.Gb?this.Kf="ESC TO PAUSE":"left"==D.Gb&&(this.Kf="ENTER TO PAUSE"));"tutorial_score_points"==this.type&&(this.Kf="GET THE GOAL SCORE TO OPEN THE GATEWAY");"tutorial_incr_multiplier"==this.type&&(this.Kf=
"KILLING ENEMIES INCREASES YOUR MULTIPLIER");"tutorial_reset_multiplier"==this.type&&(this.Kf="TOUCHING ENEMIES RESETS YOUR MULTIPLIER");"tutorial_enemy_incr"==this.type&&(this.Kf="ENEMIES SPAWN FASTER OVER TIME");"tutorial_one_up"==this.type&&(this.Kf="100 SPARKS = 1UP");"tutorial_kill_boss"==this.type&&(this.Kf="PUSH THE BOSS INTO THE VOID");"tutorial_void"==this.type&&(this.Kf="TOUCHING THE VOID WILL KILL YOU");"tutorial_kill_enemy"==this.type&&(this.Kf="IMPULSE THE ENEMY INTO THE VOID");"tutorial_enter_gateway"==
this.type&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,"right"==D.Gb&&(Sa(a,this.x,this.y-10,160,34,7,"white"),a.fillText("SPACEBAR",this.x,this.y-4)),"left"==D.Gb&&(Sa(a,this.x,this.y-10,80,34,7,"white"),a.fillText("SHIFT",this.x,this.y-4)),this.Kf="ENTER GATEWAY");if("tutorial_gateway_move"==this.type){a.textAlign="center";a.font="16px Muli";a.fillStyle=this.color;a.fillText("MOVE TO THE GATEWAY",this.x,this.y-this.m/2+25);var b=this.x,c=this.y+12;a.save();a.translate(b,c);a.scale(1,
1);a.beginPath();a.moveTo(-8,-12);a.lineTo(8,-12);a.lineTo(8,-2);a.lineTo(16,-2);a.lineTo(0,13);a.lineTo(-16,-2);a.lineTo(-8,-2);a.closePath();a.fillStyle="white";a.fill();a.restore()}if("fullscreen_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("TOGGLE FULLSCREEN (F)",this.x,this.y-this.m/2+25);else if("mute_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("MUTE (M)",this.x,this.y-this.m/2+25);else if("tutorial"==
this.type.substring(0,8))this.Kf&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Kf,this.x,this.y+this.m/2-15));else if("rank_explanation_normal"==this.type){var b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7;Cb(a,this.x-this.u/2+h,b-k+d,this.n,"half");Cb(a,this.x-this.u/2+h,b-k+d+c,this.n,"basic");Cb(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"silver");Cb(a,this.x-this.u/2+h,b-k+d+3*c,this.n,"gold");a.textAlign="right";a.font="16px Muli";a.fillStyle="white";
a.fillText("ONE OR MORE CONTINUES",f-g,b+d);a.fillText("NO CONTINUES USED",f-g,b+d+c);a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+2*c);a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+3*c)}else if("rank_explanation"==this.type)b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7,Cb(a,this.x-this.u/2+h,b-k+d,this.n,"basic"),Cb(a,this.x-this.u/2+h,b-k+d+1*c,this.n,"silver"),Cb(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"gold"),a.textAlign="right",a.font="16px Muli",a.fillStyle="white",a.fillText("DEFEAT HIVE",
f-g,b+d),a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+1*c),a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+2*c);else if("option"==this.type.substring(0,6))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Yj,this.x,this.y-this.m/2+25);else if("lives_and_sparks"==this.type){a.textAlign="center";a.font="12px Muli";a.fillStyle="white";a.fillText("STARTING VALUES",this.x,this.y-this.m/2+20);b=this.Ld;c=this.hi;d=this.mk;f=this.x;g=this.y+5;h={labels:!0,iF:!0,dt:this.Bf,
bg:!0,Ld:!0};k=[];h.Ld&&k.push("lives");h.bg&&k.push("sparks");h.dt&&k.push("ult");a.save();for(var n=0;n<k.length;n++){var q=k[n],p=f-(k.length-1)/2*36+36*n;a.font="20px Muli";a.fillStyle="ult"==q?"white":x.impulse_blue;a.shadowBlur=0;a.textAlign="center";h.Hl&&(a.shadowBlur=10,a.shadowColor=a.fillStyle);"lives"==q&&(J(a,p,g,0,26,26,"lives_icon"),a.fillText(b,p,g+32));"sparks"==q&&(J(a,p+1,g+1,0,16,16,"spark"),a.fillText(c,p,g+32));"ult"==q&&(J(a,p,g,0,24,24,"ultimate_icon"),a.fillText(d,p,g+32));
a.font=Math.max(8,20/3)+"px Muli";"lives"==q&&a.fillText("LIVES",p,g-16);"sparks"==q&&(h.iF?(a.fillText("SPARK",p,g-26),a.fillText("VALUE",p,g-16)):a.fillText("SPARKS",p,g-16));"ult"==q&&a.fillText("ULT",p,g-16)}a.restore()}else if(this.dA)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.message,this.x,this.y-this.m/2+25);else if("saved_alert"==this.type)a.globalAlpha*=.5,a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.save(),a.globalAlpha*=.5,eb(a,this.x,
this.y-this.m/2+10,this.color),a.restore(),a.fillText("GAME SAVED",this.x,this.y+this.m/2-33);else if("level_preview_"==this.type.substring(0,14))pb(a,this.type.substring(14),this.x,this.y,x["world "+this.n+" lite"]),a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=6,a.strokeStyle=x["world "+this.n+" lite"],a.stroke();else if("quest_"==this.type.substring(0,6)){a.beginPath();a.fillStyle="black";a.shadowBlur=0;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.fill();
a.beginPath();b=this.x-this.u/2+75;a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(this.x+this.u/2,this.y+this.m/2);a.lineTo(b,this.y+this.m/2);a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(b,this.y-this.m/2);a.strokeStyle="white";a.lineWidth=2;a.stroke();b=50;c=this.type.substring(6);a.textAlign="center";a.font="16px Muli";a.fillStyle="white";a.fillText("NEW ACHIEVEMENT",this.x+b,this.y-this.m/2+30);a.font="12px Muli";d="";if(Eb[c])for(f=0;f<Eb[c].text.length;f++)d+=Eb[c].text[f]+" ";a.fillText(d,
this.x+b,this.y+this.m/2-20);draw_quest_button(a,this.x-this.u/2+40,this.y,60,c)}else if("enemy_"==this.type.substring(0,6))a.beginPath(),a.fillStyle="black",a.shadowBlur=0,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.beginPath(),b=this.x-this.u/2+75,a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.lineTo(b,this.y+this.m/2),a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(b,this.y-this.m/2),a.strokeStyle="white",a.lineWidth=2,a.stroke(),b=
50,d=c=this.type.substring(6),G[c].Gg&&(d=G[c].Gg),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW ENEMY",this.x+b,this.y-this.m/2+20),a.fillStyle=G[c].color,a.font="24px Muli",a.fillText(d.toUpperCase(),this.x+b,this.y-this.m/2+45),a.fillStyle="white",a.font="16px Muli",a.fillText(G[c].ag.toUpperCase(),this.x+b,this.y+this.m/2-15),draw_enemy_button(a,this.x-this.u/2+40,this.y,60,c);else for(a.textAlign="center",a.font="16px Muli",a.fillStyle="white",f=0;f<Eb[this.type].text.length;f++)a.fillText(Eb[this.type].text[f],
this.x,this.y-this.m/2+30+24*f);a.restore()}};function Zf(a,b,c){a.x=b;a.y=c+a.m/2;"option"==a.type.substring(0,6)&&(a.y+=20);"tutorial"==a.type.substring(0,8)&&(a.x=b,a.y=c-a.m/2-50)};$g.prototype=new Bh;$g.prototype.constructor=$g;
function $g(a,b,c,d){this.type=a;this.x=b;this.y=c;this.X=d;this.u=2*d;this.m=2*d;this.cq=document.createElement("canvas");this.cq.width=this.u;this.cq.height=this.m;b=this.cq.getContext("2d");draw_quest_button(b,this.X,this.X,this.X,this.type);b=this.cq;b=b.getContext("2d").getImageData(0,0,b.width,b.height);for(c=0;c<b.height;c++)for(d=0;d<b.width;d++){var f=4*c*b.width+4*d,g=(b.data[f]+b.data[f+1]+b.data[f+2])/3;b.data[f]=g;b.data[f+1]=g;b.data[f+2]=g;b.data[f+3]=b.data[f+3]?255:0}c=document.createElement("canvas");
c.width=b.width;c.height=b.height;c.getContext("2d").putImageData(b,0,0,0,0,b.width,b.height);this.XC=c;this.qA=-1!=Re.indexOf(a);this.Ob=new Yf(this.type,"white",0,this.qA)}
$g.prototype.U=function(a){this.qA?a.drawImage(this.cq,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m):(a.save(),a.globalAlpha*=.4,a.drawImage(this.XC,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m),a.restore());this.Xh&&(a.save(),a.globalAlpha*=.2,a.beginPath(),a.arc(this.x,this.y,this.X,0,2*Math.PI,!1),a.fillStyle="#fff",a.fill(),a.beginPath(),a.restore())};$g.prototype.oa=function(){};hh.prototype=new Bh;hh.prototype.constructor=hh;function hh(a,b,c,d,f,g,h,k){this.size=a;this.ha(b,c,d,f,this.ZD,!1,g);this.$a=h;this.Hl=!1;this.ed=!0;this.rf=null;this.Pg=new Dh(this.x,this.y-this.m/8,20,20,this.color);this.AF=k;this.Pg.checked="normal"==K}hh.prototype.ZD=function(){K="easy"==K?"normal":"easy";fc();mh(this.AF);this.Pg.checked="normal"==K};
hh.prototype.je=function(a){this.Pg.U(a);a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText("HARD MODE",this.x,this.y+this.m/3)};function Mh(a,b,c,d,f){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.ed=!0;this.value=0;this.kk=20}l=Mh.prototype;l.U=function(a){a.beginPath();a.strokeStyle=this.color;a.fillStyle=this.color;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.lineWidth=1;a.save();a.globalAlpha*=.75;a.fill();a.restore();a.stroke();a.beginPath();a.rect(this.x-this.u/2+this.u*this.value-this.kk/2,this.y-this.kk/2,this.kk,this.kk);a.fill()};
l.xg=function(a,b){a>this.x-this.u/2-this.kk/2&&a<this.x+this.u/2+this.kk/2&&b>this.y-this.m/2-this.kk/2&&b<this.y+this.m/2+this.kk/2&&(Nh(this,(a-(this.x-this.u/2))/this.u),this.Ey=!0)};function Nh(a,b){a.value=b;0>a.value&&(a.value=0);1<a.value&&(a.value=1)}l.ah=function(){this.onselect(this.value);this.Ey=!1};l.onselect=function(){};l.Fa=function(a){this.Ey&&Nh(this,(a-(this.x-this.u/2))/this.u)};
function Dh(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.ed=!0;this.checked=h?h:!1;this.pF=g}Dh.prototype.U=function(a){a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);this.checked&&(a.moveTo(this.x-this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.moveTo(this.x-this.u/2,this.y+this.m/2),a.lineTo(this.x+this.u/2,this.y-this.m/2));a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
Dh.prototype.Pa=function(a,b){a>this.x-this.u/2&&a<this.x+this.u/2&&b>this.y-this.m/2&&b<this.y+this.m/2&&(this.checked=!this.checked,this.pF(this.checked))};Ih.prototype=new Bh;l=Ih.prototype;l.constructor=Ih;function Ih(a,b,c,d,f,g,h,k,n){this.text=a;this.ha(b,c,d+90,f,function(){},!1,g);this.Fn=new Mh(this.x+this.u/2-65,this.y,100,5,this.color);this.Fn.value=n;this.Fn.onselect=k;this.es=h;this.Wc=!1;this.hF="MUTED (M)"}
l.je=function(a){a.save();this.Xh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Xh?this.es:this.color;a.fillText(this.text,this.x-this.u/2+55,this.y+7);this.Wc?(a.textAlign="center",a.fillText(this.hF,this.x+this.u/2-20,this.y+7)):this.Fn.U(a);a.restore()};l.xg=function(a,b){this.Wc||this.Fn.xg(a,b)};l.ah=function(a,b){this.Wc||this.Fn.ah(a,b)};l.$D=Bh.prototype.Fa;l.Fa=function(a,b){this.$D(a,b);this.Wc||this.Fn.Fa(a,b)};dh.prototype=new Bh;dh.prototype.constructor=dh;function dh(a,b,c,d,f,g,h,k,n){this.text=a;this.size=b;this.ha(c,d,f,g,n,!1,h);this.$a=k;this.Iw=!1;this.et=null;this.wf="";this.Hl=!1;this.shadowColor=this.color;this.By=!1}
dh.prototype.je=function(a){a.save();a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.ua?this.$a:this.color;this.Hl?(a.shadowBlur=5,a.shadowColor=this.shadowColor):a.shadowBlur=0;a.fillText(this.text,this.x,this.y);a.fill();if(!this.ua&&!this.Iw)if(null!=this.et&&this.et<this.text.length){a.globalAlpha*=.5;a.beginPath();var b=a.measureText(this.text.slice(0,this.et)).width,c=a.measureText(this.text.slice(0,this.et+1)).width,d=a.measureText(this.text).width;a.moveTo(this.x-
d/2+b,this.y+this.size/4);a.lineTo(this.x-d/2+c,this.y+this.size/4);a.strokeStyle=this.color;a.lineWidth=1;a.stroke();a.globalAlpha/=.5;""!=this.wf&&(a.globalAlpha*=.5,this.By&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.wf,this.x-d/2+(b+c)/2,this.y+3*this.size/4))}else""!=this.wf&&(a.globalAlpha*=.5,this.By&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.wf,this.x,this.y+3*this.size/4));a.restore();a.shadowBlur=0};Sg.prototype=new Bh;Sg.prototype.constructor=Sg;function Sg(a,b,c,d,f,g,h,k){this.state=null;this.zj=a;this.size=b;this.ha(c,d,f,g,k,!0,h);this.Sf=30}Sg.prototype.je=function(a){a.save();a.save();a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.globalAlpha*=this.ua?1:.5;a.fillStyle=this.color;a.fill();a.restore();this.ey&&(a.strokeStyle=this.ey,a.lineWidth=2,a.stroke());Da(a,this.zj,this.x,this.y,this.Sf);a.restore()};function Hg(a){this.Cb=[];this.t=a;this.qv=2E3;"HIVE 0"==a.V.substring(0,6)&&(this.ct=parseInt(a.V.substring(7)));this.t.ra&&1==this.t.n&&"easy"==K&&3>N[this.t.V].Ja[K].bb&&this.Cb.push(new Oh(this.t));if(1==this.ct)this.Cb.push(new Ph(this.t)),this.Cb.push(new Qh(this.t)),this.Cb.push(new Rh(this.t));else if(2==this.ct)this.Cb.push(new Sh(this.t)),this.Cb.push(new Qh(this.t)),this.Cb.push(new Rh(this.t));else if(3==this.ct)this.Cb.push(new Th(this.t)),this.Cb.push(new Uh(this.t)),this.Cb.push(new Vh(this.t)),
this.Cb.push(new Wh(this.t)),this.Cb.push(new Qh(this.t)),this.Cb.push(new Rh(this.t));else if(4==this.ct)this.Cb.push(new Xh(this.t)),this.Cb.push(new Yh(this.t)),this.Cb.push(new Zh(this.t)),this.Cb.push(new $h(this.t));else for(a=0;a<this.zs.length;a++)-1==Qe.indexOf(this.zs[a].type)&&this.Cb.push(new this.zs[a].ry(this.t))}Hg.prototype.zs=[{type:"reset_multiplier",ry:Zh},{type:"one_up",ry:$h}];
Hg.prototype.U=function(a){if(0!=this.Cb.length){var b=this.Cb[0];a.save();"fade_in"==b.T.bc?a.globalAlpha*=Bg(b.T):"fade_out"==b.T.bc?a.globalAlpha*=1-Bg(b.T):b.pq||(a.globalAlpha=0);a.globalAlpha*=.8;b.Ob&&b.Ob.U(a);b.U(a);a.restore()}};
Hg.prototype.oa=function(a){if(0<this.qv)this.qv-=a;else if(0!=this.Cb.length){ai(this.Cb[0],a);if(!this.Cb[0].Lj())for(a=1;a<this.Cb.length;a++)if(this.Cb[a].ys&&this.Cb[a].Lj()){var b=this.Cb.splice(a,1)[0];this.Cb.unshift(b)}if(this.Cb[0].Uu)for(this.Cb.shift();0<this.Cb.length&&bi(this.Cb[0]);)this.Cb.shift()}};function ci(){}l=ci.prototype;l.ha=function(a){this.t=a;this.T=new Ag({fade_in:500,fade_out:500});this.Uu=!1;this.duration=null;this.pq=!1;this.jp=0;this.ys=!1};l.Lj=function(){return!0};
l.U=function(){};function ai(a,b){if(a.Lj()){if(!a.pq)if(bi(a))a.Uu=!0;else{if(0<a.jp){a.jp-=b;return}a.pq=!0;zg(a.T,"fade_in");a.Ob&&(a.Ob.visible=!0)}0<a.duration&&(a.duration-=b);if(a.Ob){var c=a.t.q.body.g.position.x*E,d=a.t.q.body.g.position.y*E;c<a.Ob.u/2+5?c=a.Ob.u/2+5:c>O-a.Ob.u/2-5&&(c=O-a.Ob.u/2-5);d<a.Ob.m+55&&(d+=a.Ob.m+100);Zf(a.Ob,c,d)}a.T.oa(b);a.oa(b);bi(a)&&zg(a.T,"fade_out",function(){a.Uu=!0;a.Vv()})}}l.Vv=function(){};l.En=function(){return!1};
function bi(a){return a.En()||null!=a.duration&&0>=a.duration}l.oa=function(){};Ph.prototype=new ci;Ph.prototype.constructor=Ph;function Ph(a){this.ha(a);this.Ob=new Yf("tutorial_move",a.I,a.n)}Ph.prototype.U=function(){};Ph.prototype.oa=function(){};Ph.prototype.En=function(){return this.t.eg.player_moved};Sh.prototype=new ci;Sh.prototype.constructor=Sh;function Sh(a){this.ha(a);this.Ob=new Yf("tutorial_void",a.I,a.n);this.duration=3E3}Sh.prototype.U=function(){};Sh.prototype.oa=function(){};
Th.prototype=new ci;Th.prototype.constructor=Th;function Th(a){this.ha(a);this.Ob=new Yf("tutorial_impulse",a.I,a.n)}Th.prototype.U=function(){};Th.prototype.oa=function(){};Th.prototype.En=function(){return this.t.eg.player_impulsed};Uh.prototype=new ci;Uh.prototype.constructor=Uh;function Uh(a){this.ha(a);this.Ob=new Yf("tutorial_kill_enemy",a.I,a.n);this.jp=4E3}Uh.prototype.U=function(){};Uh.prototype.oa=function(){};Uh.prototype.En=function(){return this.t.eg.enemy_killed};Vh.prototype=new ci;
Vh.prototype.constructor=Vh;function Vh(a){this.ha(a);this.duration=5E3;this.Ob=new Yf("tutorial_score_points",a.I,a.n)}Vh.prototype.Lj=function(){return this.t.eg.enemy_killed};Vh.prototype.U=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+X/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+X/2,45);a.font="42px Muli";a.fillText(this.t.i.za[this.t.bb],O+X/2,85)};Wh.prototype=new ci;Wh.prototype.constructor=Wh;
function Wh(a){this.ha(a);this.Ob=new Yf("tutorial_score_points",a.I,a.n);this.jp=5E3}Wh.prototype.U=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+X/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+X/2,45);a.font="42px Muli";a.fillText(this.t.i.za[this.t.bb],O+X/2,85)};Wh.prototype.En=function(){return this.t.eg.gateway_opened};Xh.prototype=new ci;Xh.prototype.constructor=Xh;
function Xh(a){this.ha(a);this.ys=!0;this.duration=3E3;this.Ob=new Yf("tutorial_enemy_incr",a.I,a.n)}Xh.prototype.U=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(-X/2-60,Hc/2-20-35,120,70);a.stroke();a.font="16px Muli";a.fillText("LEVEL TIME",-X/2,Hc/2-30);a.font="32px Muli";a.fillText(this.t.G.Nj,-X/2,Hc/2+2)};Xh.prototype.oa=function(){};Yh.prototype=new ci;Yh.prototype.constructor=Yh;
function Yh(a){this.ha(a);this.duration=3E3;this.Ob=new Yf("tutorial_incr_multiplier",a.I,a.n)}Yh.prototype.Lj=function(){return"fresh"==this.t.eg.enemy_killed||this.pq};Yh.prototype.U=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(O+X/2-50,Hc/2-50-20,100,100);a.stroke();a.font="72px Muli";a.fillText("x"+this.t.G.uf,O+X/2,Hc/2)};Yh.prototype.oa=function(){};Zh.prototype=new ci;l=Zh.prototype;l.constructor=Zh;
function Zh(a){this.ha(a);this.duration=3E3;this.ys=!0;this.Ob=new Yf("tutorial_reset_multiplier",a.I,a.n)}l.Lj=function(){return"fresh"==this.t.eg.multiplier_reset||this.pq};l.U=function(){};l.oa=function(){};l.Vv=function(){-1==Qe.indexOf("reset_multiplier")&&(Qe.push("reset_multiplier"),fc())};$h.prototype=new ci;l=$h.prototype;l.constructor=$h;function $h(a){this.ha(a);this.duration=3E3;this.ys=!0;this.Ob=new Yf("tutorial_one_up",a.I,a.n)}l.Lj=function(){return this.t.eg.got_spark};l.U=function(){};
l.oa=function(){};l.Vv=function(){-1==Qe.indexOf("one_up")&&(Qe.push("one_up"),fc())};Qh.prototype=new ci;l=Qh.prototype;l.constructor=Qh;function Qh(a){this.ha(a);this.Fc={x:this.t.i.Fc.x*E,y:this.t.i.Fc.y*E};this.Pv=new Yf("tutorial_gateway_move",a.I,a.n);Zf(this.Pv,this.Fc.x,this.Fc.y-30);this.Pv.visible=!0}l.U=function(a){this.Pv.U(a)};l.oa=function(){};l.Lj=function(){return this.t.eg.gateway_opened};l.En=function(){return this.t.eg.moved_to_gateway};Rh.prototype=new ci;
Rh.prototype.constructor=Rh;function Rh(a){this.ha(a);this.duration=3E3;this.Ob=new Yf("tutorial_enter_gateway",a.I,a.n)}Rh.prototype.U=function(){};Rh.prototype.oa=function(){};Oh.prototype=new ci;Oh.prototype.constructor=Oh;function Oh(a){this.ha(a);this.duration=3E3;this.Ob=new Yf("tutorial_kill_boss",a.I,a.n)}Oh.prototype.U=function(){};Oh.prototype.oa=function(){};new Bh;
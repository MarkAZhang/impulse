var l,m={};
(function(a,b){function c(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});a.Lb=function(a,b){c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.TC=function(a,b){return function(){b.apply(a,arguments)}};a.FB=function(a){a===
b&&(a=0);for(var c=Array(a||0),g=0;g<a;++g)c[g]=0;return c};a.is=function(a,c){return null===a?!1:c instanceof Function&&a instanceof c||a.constructor.Gt!=b&&a.constructor.Gt[c]?!0:!1};a.Ag=function(a){return Math.abs(parseInt(a))}})(m);var aa=Array,ca=m.FB;"undefined"===typeof m&&(m={});"undefined"===typeof m.w&&(m.w={});"undefined"===typeof m.w.Wa&&(m.w.Wa={});"undefined"===typeof m.aa&&(m.aa={});"undefined"===typeof m.aa.Math&&(m.aa.Math={});"undefined"===typeof m.l&&(m.l={});
"undefined"===typeof m.l.ka&&(m.l.ka={});"undefined"===typeof m.l.ac&&(m.l.ac={});"undefined"===typeof m.l.M&&(m.l.M={});
(function(){function a(){a.Ao.apply(this,arguments)}function b(){b.Pt.apply(this,arguments)}function c(){c.Bo.apply(this,arguments);this.constructor===c&&this.Bo.apply(this,arguments)}function d(){d.Gd.apply(this,arguments)}function f(){f.gm.apply(this,arguments);this.constructor===f&&this.gm.apply(this,arguments)}function g(){g.nr.apply(this,arguments)}function h(){h.Ik.apply(this,arguments)}function k(){k.or.apply(this,arguments)}function n(){n.pr.apply(this,arguments)}function q(){q.qr.apply(this,
arguments)}function p(){p.Go.apply(this,arguments);this.constructor===p&&this.Go.apply(this,arguments)}function t(){t.rr.apply(this,arguments)}function y(){y.au.apply(this,arguments)}function u(){u.bu.apply(this,arguments)}function x(){x.ti.apply(this,arguments);this.constructor===x&&this.ti.apply(this,arguments)}function K(){K.Po.apply(this,arguments);this.constructor===K&&this.Po.apply(this,arguments)}function L(){L.hu.apply(this,arguments)}function ba(){ba.Wo.apply(this,arguments);this.constructor===
ba&&this.Wo.apply(this,arguments)}function U(){U.mu.apply(this,arguments)}function B(){B.nu.apply(this,arguments)}function X(){X.qm.apply(this,arguments)}function ia(){ia.Xo.apply(this,arguments);this.constructor===ia&&this.Xo.apply(this,arguments)}function Y(){Y.sr.apply(this,arguments)}function C(){C.ou.apply(this,arguments)}function Z(){Z.Re.apply(this,arguments)}function Da(){Da.tr.apply(this,arguments)}function qa(){qa.sm.apply(this,arguments);this.constructor===qa&&this.sm.apply(this,arguments)}
function Ea(){Ea.mt.apply(this,arguments)}function w(){w.rt.apply(this,arguments)}function r(){r.qj.apply(this,arguments);this.constructor===r&&this.qj.apply(this,arguments)}function v(){v.Ho.apply(this,arguments);this.constructor===v&&this.Ho.apply(this,arguments)}function A(){A.Io.apply(this,arguments);this.constructor===A&&this.Io.apply(this,arguments)}function I(){I.Qo.apply(this,arguments)}function V(){V.vi.apply(this,arguments);this.constructor===V&&this.vi.apply(this,arguments)}function H(){H.bc.apply(this,
arguments);this.constructor===H&&this.bc.apply(this,arguments)}function M(){M.em.apply(this,arguments);this.constructor===M&&this.em.apply(this,arguments)}function ra(){ra.Sb.apply(this,arguments)}function S(){S.ui.apply(this,arguments);this.constructor===S&&this.ui.apply(this,arguments)}function Yd(){Yd.lm.apply(this,arguments);this.constructor===Yd&&this.lm.apply(this,arguments)}function nf(){nf.Qf.apply(this,arguments)}function of(){of.Yo.apply(this,arguments)}function Zd(){Zd.sj.apply(this,arguments);
this.constructor===Zd&&this.sj.apply(this,arguments)}function $d(){$d.og.apply(this,arguments);this.constructor===$d&&this.og.apply(this,arguments)}function nb(){nb.rm.apply(this,arguments);this.constructor===nb&&this.rm.apply(this,arguments)}function ae(){ae.ne.apply(this,arguments);this.constructor===ae&&this.ne.apply(this,arguments)}function be(){be.dm.apply(this,arguments);this.constructor===be&&this.dm.apply(this,arguments)}function pf(){pf.mr.apply(this,arguments)}function qf(){qf.Wt.apply(this,
arguments)}function rf(){rf.Do.apply(this,arguments)}function ce(){ce.hm.apply(this,arguments);this.constructor===ce&&this.hm.apply(this,arguments)}function de(){de.Qe.apply(this,arguments);this.constructor===de&&this.Qe.apply(this,arguments)}function sf(){sf.$t.apply(this,arguments)}function tf(){tf.du.apply(this,arguments)}function ee(){ee.im.apply(this,arguments);this.constructor===ee&&this.im.apply(this,arguments)}function fe(){fe.jm.apply(this,arguments);this.constructor===fe&&this.jm.apply(this,
arguments)}function ge(){ge.km.apply(this,arguments);this.constructor===ge&&this.km.apply(this,arguments)}function uf(){uf.ur.apply(this,arguments)}function he(){he.Se.apply(this,arguments);this.constructor===he&&this.Se.apply(this,arguments)}function vf(){vf.Rt.apply(this,arguments)}function ie(){ie.ab.apply(this,arguments);this.constructor===ie&&this.ab.apply(this,arguments)}function je(){je.Co.apply(this,arguments);this.constructor===je&&this.Co.apply(this,arguments)}function wf(){wf.Ut.apply(this,
arguments)}function xf(){xf.Vt.apply(this,arguments)}function ke(){ke.fm.apply(this,arguments);this.constructor===ke&&this.fm.apply(this,arguments)}function yf(){yf.Xt.apply(this,arguments)}function zf(){zf.Yt.apply(this,arguments)}function le(){le.rj.apply(this,arguments);this.constructor===le&&this.rj.apply(this,arguments)}function Af(){Af.cu.apply(this,arguments)}function me(){me.So.apply(this,arguments);this.constructor===me&&this.So.apply(this,arguments)}function Bf(){Bf.iu.apply(this,arguments)}
function Cf(){Cf.ju.apply(this,arguments)}function Df(){Df.ku.apply(this,arguments)}function ne(){ne.Jk.apply(this,arguments);this.constructor===ne&&this.Jk.apply(this,arguments)}function Ef(){Ef.Qt.apply(this,arguments)}function Ff(){Ff.St.apply(this,arguments)}function Gf(){Gf.Tt.apply(this,arguments)}function Hf(){Hf.Uc.apply(this,arguments)}function If(){If.Zt.apply(this,arguments)}function Jf(){Jf.eu.apply(this,arguments)}function Kf(){Kf.pu.apply(this,arguments)}function oe(){oe.Eo.apply(this,
arguments);this.constructor===oe&&this.Eo.apply(this,arguments)}function pe(){pe.Fo.apply(this,arguments);this.constructor===pe&&this.Fo.apply(this,arguments)}function qe(){qe.Jo.apply(this,arguments);this.constructor===qe&&this.Jo.apply(this,arguments)}function re(){re.Ko.apply(this,arguments);this.constructor===re&&this.Ko.apply(this,arguments)}function se(){se.Lo.apply(this,arguments);this.constructor===se&&this.Lo.apply(this,arguments)}function te(){te.Mo.apply(this,arguments);this.constructor===
te&&this.Mo.apply(this,arguments)}function Lf(){Lf.fu.apply(this,arguments)}function ue(){ue.ja.apply(this,arguments);this.constructor===ue&&this.ja.apply(this,arguments)}function ve(){ve.ya.apply(this,arguments);this.constructor===ve&&this.ya.apply(this,arguments)}function Mf(){Mf.gu.apply(this,arguments)}function we(){we.No.apply(this,arguments);this.constructor===we&&this.No.apply(this,arguments)}function xe(){xe.Oo.apply(this,arguments);this.constructor===xe&&this.Oo.apply(this,arguments)}function ye(){ye.Ro.apply(this,
arguments);this.constructor===ye&&this.Ro.apply(this,arguments)}function ze(){ze.mm.apply(this,arguments);this.constructor===ze&&this.mm.apply(this,arguments)}function Ae(){Ae.To.apply(this,arguments);this.constructor===Ae&&this.To.apply(this,arguments)}function Be(){Be.Uo.apply(this,arguments);this.constructor===Be&&this.Uo.apply(this,arguments)}function Ce(){Ce.nm.apply(this,arguments);this.constructor===Ce&&this.nm.apply(this,arguments)}function De(){De.Vo.apply(this,arguments);this.constructor===
De&&this.Vo.apply(this,arguments)}function Ee(){Ee.om.apply(this,arguments);this.constructor===Ee&&this.om.apply(this,arguments)}function Fe(){Fe.pm.apply(this,arguments);this.constructor===Fe&&this.pm.apply(this,arguments)}function Ge(){Ge.Zo.apply(this,arguments);this.constructor===Ge&&this.Zo.apply(this,arguments)}function He(){He.$o.apply(this,arguments);this.constructor===He&&this.$o.apply(this,arguments)}m.w.AB="Box2D.Collision.IBroadPhase";m.w.Ao=a;m.w.Pt=b;m.w.Bo=c;m.w.Gd=d;m.w.gm=f;m.w.nr=
g;m.w.Ik=h;m.w.or=k;m.w.pr=n;m.w.qr=q;m.w.Go=p;m.w.rr=t;m.w.au=y;m.w.bu=u;m.w.ti=x;m.w.Po=K;m.w.hu=L;m.w.Wo=ba;m.w.mu=U;m.w.nu=B;m.w.qm=X;m.w.Xo=ia;m.w.sr=Y;m.w.ou=C;m.w.Re=Z;m.w.tr=Da;m.w.sm=qa;m.w.mt=Ea;m.w.rt=w;m.w.Wa.qj=r;m.w.Wa.Ho=v;m.w.Wa.Io=A;m.w.Wa.Qo=I;m.w.Wa.vi=V;m.w.Wa.bc=H;m.aa.cG="Box2D.Common.b2internal";m.aa.em=M;m.aa.Sb=ra;m.aa.Math.ui=S;m.aa.Math.lm=Yd;m.aa.Math.Qf=nf;m.aa.Math.Yo=of;m.aa.Math.sj=Zd;m.aa.Math.og=$d;m.aa.Math.rm=nb;m.l.ne=ae;m.l.dm=be;m.l.mr=pf;m.l.Wt=qf;m.l.Do=rf;
m.l.hm=ce;m.l.Qe=de;m.l.$t=sf;m.l.du=tf;m.l.im=ee;m.l.jm=fe;m.l.km=ge;m.l.ur=uf;m.l.Se=he;m.l.ka.Rt=vf;m.l.ka.ab=ie;m.l.ka.Co=je;m.l.ka.Ut=wf;m.l.ka.Vt=xf;m.l.ka.fm=ke;m.l.ka.Xt=yf;m.l.ka.Yt=zf;m.l.ka.rj=le;m.l.ka.cu=Af;m.l.ka.So=me;m.l.ka.iu=Bf;m.l.ka.ju=Cf;m.l.ka.ku=Df;m.l.ka.Jk=ne;m.l.ac.Qt=Ef;m.l.ac.St=Ff;m.l.ac.Tt=Gf;m.l.ac.Uc=Hf;m.l.ac.Zt=If;m.l.ac.eu=Jf;m.l.ac.pu=Kf;m.l.M.Eo=oe;m.l.M.Fo=pe;m.l.M.Jo=qe;m.l.M.Ko=re;m.l.M.Lo=se;m.l.M.Mo=te;m.l.M.fu=Lf;m.l.M.ja=ue;m.l.M.ya=ve;m.l.M.gu=Mf;m.l.M.No=
we;m.l.M.Oo=xe;m.l.M.Ro=ye;m.l.M.mm=ze;m.l.M.To=Ae;m.l.M.Uo=Be;m.l.M.nm=Ce;m.l.M.Vo=De;m.l.M.om=Ee;m.l.M.pm=Fe;m.l.M.Zo=Ge;m.l.M.$o=He})();m.Fc=[];
(function(){var a=m.w.Wa.qj,b=m.w.Wa.vi,c=m.w.Wa.bc,d=m.aa.Sb,f=m.aa.Math.Qf,g=m.aa.Math.Yo,h=m.aa.Math.sj,k=m.aa.Math.og,n=m.w.Ao,q=m.w.Pt,p=m.w.Bo,t=m.w.Gd,y=m.w.gm,u=m.w.nr,x=m.w.Ik,K=m.w.or,L=m.w.pr,ba=m.w.qr,U=m.w.Go,B=m.w.rr,X=m.w.au,ia=m.w.bu,Y=m.w.ti,C=m.w.Po,Z=m.w.hu,Da=m.w.Wo,qa=m.w.mu,Ea=m.w.nu,w=m.w.qm,r=m.w.Xo,v=m.w.sr,A=m.w.ou,I=m.w.Re,V=m.w.tr,H=m.w.sm,M=m.w.mt,ra=m.w.rt,S=m.w.AB;n.Ao=function(){this.lowerBound=new k;this.upperBound=new k};n.prototype.am=function(){var a=this.upperBound.y-
this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=a&&this.lowerBound.am()&&this.upperBound.am()};n.prototype.wB=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};n.prototype.nt=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};n.prototype.lj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;
return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};n.Xl=function(a,b){var c=new n;c.Xl(a,b);return c};n.prototype.Xl=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};q.Pt=function(){};q.prototype.NB=function(a){var b=this.value,c=this.Xi,d=this.yw;this.value=
a.value;this.Xi=a.Xi;this.yw=a.yw;a.value=b;a.Xi=c;a.yw=d};p.Bo=function(){};p.prototype.Bo=function(){this.Kz=new ca;this.Kz[0]=0;this.Kz[1]=0;this.bB=new ca;this.bB[0]=0;this.bB[1]=0};t.Gd=function(){};t.bx=function(a,b,c,d){void 0===d&&(d=0);var f,w=0;f=b[0];var g=f.gc;f=b[1];var v=f.gc,r=c.x*g.x+c.y*g.y-d;f=c.x*v.x+c.y*v.y-d;0>=r&&a[w++].R(b[0]);0>=f&&a[w++].R(b[1]);0>r*f&&(c=r/(r-f),f=a[w],f=f.gc,f.x=g.x+c*(v.x-g.x),f.y=g.y+c*(v.y-g.y),f=a[w],f.id=(0<r?b[0]:b[1]).id,++w);return w};t.Nq=function(a,
b,c,d,f){void 0===c&&(c=0);parseInt(a.Pb);var w=a.Z;a=a.tc;var g=parseInt(d.Pb),v=d.Z,r,A;r=b.G;A=a[c];a=r.j.x*A.x+r.k.x*A.y;d=r.j.y*A.x+r.k.y*A.y;r=f.G;var k=r.j.x*a+r.j.y*d;r=r.k.x*a+r.k.y*d;for(var I=0,h=Number.MAX_VALUE,H=0;H<g;++H)A=v[H],A=A.x*k+A.y*r,A<h&&(h=A,I=H);A=w[c];r=b.G;c=b.position.x+(r.j.x*A.x+r.k.x*A.y);b=b.position.y+(r.j.y*A.x+r.k.y*A.y);A=v[I];r=f.G;w=f.position.x+(r.j.x*A.x+r.k.x*A.y);f=f.position.y+(r.j.y*A.x+r.k.y*A.y);return(w-c)*a+(f-b)*d};t.ix=function(a,b,c,d,f){var w=parseInt(b.Pb),
g=b.tc,r,v;v=f.G;r=d.Ni;var A=f.position.x+(v.j.x*r.x+v.k.x*r.y),k=f.position.y+(v.j.y*r.x+v.k.y*r.y);v=c.G;r=b.Ni;A-=c.position.x+(v.j.x*r.x+v.k.x*r.y);k-=c.position.y+(v.j.y*r.x+v.k.y*r.y);v=A*c.G.j.x+k*c.G.j.y;for(var k=A*c.G.k.x+k*c.G.k.y,A=0,I=-Number.MAX_VALUE,h=0;h<w;++h)r=g[h],r=r.x*v+r.y*k,r>I&&(I=r,A=h);g=t.Nq(b,c,A,d,f);r=parseInt(0<=A-1?A-1:w-1);v=t.Nq(b,c,r,d,f);var k=parseInt(A+1<w?A+1:0),I=t.Nq(b,c,k,d,f),H=0,V=0;if(v>g&&v>I)V=-1,h=r,H=v;else if(I>g)V=1,h=k,H=I;else return a[0]=A,g;
for(;;)if(A=-1==V?0<=h-1?h-1:w-1:h+1<w?h+1:0,g=t.Nq(b,c,A,d,f),g>H)h=A,H=g;else break;a[0]=h;return H};t.vB=function(a,b,c,d,f,w){void 0===d&&(d=0);parseInt(b.Pb);var g=b.tc,r=parseInt(f.Pb);b=f.Z;f=f.tc;var v;v=c.G;c=g[d];var g=v.j.x*c.x+v.k.x*c.y,A=v.j.y*c.x+v.k.y*c.y;v=w.G;c=v.j.x*g+v.j.y*A;A=v.k.x*g+v.k.y*A;g=c;v=0;for(var k=Number.MAX_VALUE,I=0;I<r;++I)c=f[I],c=g*c.x+A*c.y,c<k&&(k=c,v=I);f=parseInt(v);g=parseInt(f+1<r?f+1:0);r=a[0];c=b[f];v=w.G;r.gc.x=w.position.x+(v.j.x*c.x+v.k.x*c.y);r.gc.y=
w.position.y+(v.j.y*c.x+v.k.y*c.y);r.id.qg.mE=d;r.id.qg.cD=f;r.id.qg.dD=0;r=a[1];c=b[g];v=w.G;r.gc.x=w.position.x+(v.j.x*c.x+v.k.x*c.y);r.gc.y=w.position.y+(v.j.y*c.x+v.k.y*c.y);r.id.qg.mE=d;r.id.qg.cD=g;r.id.qg.dD=1};t.At=function(){var a=new aa(2);a[0]=new M;a[1]=new M;return a};t.pB=function(a,b,c,f,w){var r;a.Qc=0;var v=b.Ha+f.Ha;t.lw[0]=0;var g=t.ix(t.lw,b,c,f,w);r=t.lw[0];if(!(g>v)){var A;t.mw[0]=0;var k=t.ix(t.mw,f,w,b,c);A=t.mw[0];if(!(k>v)){var I=0,h=0;k>.98*g+.001?(g=f,f=b,b=w,I=A,a.nb=
Y.Tk,h=1):(g=b,b=c,c=w,I=r,a.nb=Y.Ug,h=0);r=t.rE;t.vB(r,g,b,I,f,c);A=parseInt(g.Pb);w=g.Z;var g=w[I],H;H=I+1<A?w[parseInt(I+1)]:w[0];I=t.tE;I.R(H.x-g.x,H.y-g.y);I.fb();w=t.sE;w.x=I.y;w.y=-I.x;f=t.vE;f.R(.5*(g.x+H.x),.5*(g.y+H.y));k=t.BE;A=b.G;k.x=A.j.x*I.x+A.k.x*I.y;k.y=A.j.y*I.x+A.k.y*I.y;var V=t.CE;V.x=-k.x;V.y=-k.y;I=t.uE;I.x=k.y;I.y=-k.x;var n=t.FE,M=t.GE;n.x=b.position.x+(A.j.x*g.x+A.k.x*g.y);n.y=b.position.y+(A.j.y*g.x+A.k.y*g.y);M.x=b.position.x+(A.j.x*H.x+A.k.x*H.y);M.y=b.position.y+(A.j.y*
H.x+A.k.y*H.y);b=I.x*n.x+I.y*n.y;A=k.x*M.x+k.y*M.y+v;H=t.pE;g=t.qE;M=t.bx(H,r,V,-k.x*n.x-k.y*n.y+v);if(!(2>M||(M=t.bx(g,H,k,A),2>M))){a.Pd.N(w);a.ib.N(f);for(f=w=0;f<d.tf;++f)r=g[f],I.x*r.gc.x+I.y*r.gc.y-b<=v&&(k=a.jb[w],A=c.G,V=r.gc.x-c.position.x,n=r.gc.y-c.position.y,k.ib.x=V*A.j.x+n*A.j.y,k.ib.y=V*A.k.x+n*A.k.y,k.Qi.R(r.id),k.Qi.qg.qG=h,++w);a.Qc=w}}}};t.nB=function(a,b,c,d,f){a.Qc=0;var w,g;w=c.G;g=b.vd;var r=c.position.x+(w.j.x*g.x+w.k.x*g.y);c=c.position.y+(w.j.y*g.x+w.k.y*g.y);w=f.G;g=d.vd;
r=f.position.x+(w.j.x*g.x+w.k.x*g.y)-r;f=f.position.y+(w.j.y*g.x+w.k.y*g.y)-c;w=b.Ha+d.Ha;r*r+f*f>w*w||(a.nb=Y.Mu,a.ib.N(b.vd),a.Pd.Oa(),a.Qc=1,a.jb[0].ib.N(d.vd),a.jb[0].Qi.key=0)};t.oB=function(a,b,c,d,f){var w=a.Qc=0,g=0,r,v;v=f.G;r=d.vd;var A=f.position.y+(v.j.y*r.x+v.k.y*r.y),w=f.position.x+(v.j.x*r.x+v.k.x*r.y)-c.position.x,g=A-c.position.y;v=c.G;c=w*v.j.x+g*v.j.y;v=w*v.k.x+g*v.k.y;var k=0,A=-Number.MAX_VALUE;f=b.Ha+d.Ha;var I=parseInt(b.Pb),h=b.Z;b=b.tc;for(var H=0;H<I;++H){r=h[H];w=c-r.x;
g=v-r.y;r=b[H];w=r.x*w+r.y*g;if(w>f)return;w>A&&(A=w,k=H)}w=parseInt(k);g=parseInt(w+1<I?w+1:0);r=h[w];h=h[g];if(A<Number.MIN_VALUE)a.Qc=1,a.nb=Y.Ug,a.Pd.N(b[k]),a.ib.x=.5*(r.x+h.x),a.ib.y=.5*(r.y+h.y);else if(A=(c-h.x)*(r.x-h.x)+(v-h.y)*(r.y-h.y),0>=(c-r.x)*(h.x-r.x)+(v-r.y)*(h.y-r.y)){if((c-r.x)*(c-r.x)+(v-r.y)*(v-r.y)>f*f)return;a.Qc=1;a.nb=Y.Ug;a.Pd.x=c-r.x;a.Pd.y=v-r.y;a.Pd.fb();a.ib.N(r)}else if(0>=A){if((c-h.x)*(c-h.x)+(v-h.y)*(v-h.y)>f*f)return;a.Qc=1;a.nb=Y.Ug;a.Pd.x=c-h.x;a.Pd.y=v-h.y;a.Pd.fb();
a.ib.N(h)}else{k=.5*(r.x+h.x);r=.5*(r.y+h.y);A=(c-k)*b[w].x+(v-r)*b[w].y;if(A>f)return;a.Qc=1;a.nb=Y.Ug;a.Pd.x=b[w].x;a.Pd.y=b[w].y;a.Pd.fb();a.ib.R(k,r)}a.jb[0].ib.N(d.vd);a.jb[0].Qi.key=0};t.lj=function(a,b){var c=b.lowerBound,d=a.upperBound,f=c.x-d.x,w=c.y-d.y,c=a.lowerBound,d=b.upperBound,r=c.y-d.y;return 0<f||0<w||0<c.x-d.x||0<r?!1:!0};m.Fc.push(function(){m.w.Gd.rE=t.At();m.w.Gd.pE=t.At();m.w.Gd.qE=t.At();m.w.Gd.lw=new ca(1);m.w.Gd.mw=new ca(1);m.w.Gd.tE=new k;m.w.Gd.sE=new k;m.w.Gd.vE=new k;
m.w.Gd.uE=new k;m.w.Gd.BE=new k;m.w.Gd.CE=new k;m.w.Gd.FE=new k;m.w.Gd.GE=new k;m.w.Gd.XF=new k;m.w.Gd.aG=255});y.gm=function(){this.qg=new ra};y.prototype.gm=function(){this.qg.mj=this};y.prototype.R=function(a){this.key=a.pf};y.prototype.Ib=function(){var a=new y;a.key=this.key;return a};Object.defineProperty(y.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.pf}});Object.defineProperty(y.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.pf=
a;this.qg.Kt=this.pf&255;this.qg.It=(this.pf&65280)>>8&255;this.qg.Jt=(this.pf&16711680)>>16&255;this.qg.Ht=(this.pf&4278190080)>>24&255}});u.nr=function(){this.position=new k;this.uh=new k;this.Zf=new k;this.id=new y};x.Ik=function(){};x.ot=function(a,b,c){++x.ZF;var w=c.$h,r=c.ai,g=c.SA,v=c.TA,A=x.zE;A.GB(b,w,g,r,v);var I=A.Z,h=x.xE,H=x.yE,V=0;A.lx();for(var n=0,M,ra=0;20>ra;){V=A.Wb;for(n=0;n<V;n++)h[n]=I[n].td,H[n]=I[n].ud;switch(A.Wb){case 1:break;case 2:A.LB();break;case 3:A.MB();break;default:d.kc(!1)}if(3==
A.Wb)break;A.lx();n=A.yB();if(n.Xq()<Number.MIN_VALUE*Number.MIN_VALUE)break;M=I[A.Wb];M.td=w.xt(f.hj(g.G,n.gj()));M.ie=f.fd(g,w.Vd(M.td));M.ud=r.xt(f.hj(v.G,n));M.Ig=f.fd(v,r.Vd(M.ud));M.u=f.wc(M.Ig,M.ie);++ra;++x.$F;for(var p=!1,n=0;n<V;n++)if(M.td==h[n]&&M.ud==H[n]){p=!0;break}if(p)break;++A.Wb}x.gC=f.le(x.gC,ra);A.zB(a.eh,a.fh);a.Pk=f.wc(a.eh,a.fh).jg();a.tG=ra;A.SB(b);c.cB&&(b=w.Ha,r=r.Ha,a.Pk>b+r&&a.Pk>Number.MIN_VALUE?(a.Pk-=b+r,c=f.wc(a.fh,a.eh),c.fb(),a.eh.x+=b*c.x,a.eh.y+=b*c.y,a.fh.x-=
r*c.x,a.fh.y-=r*c.y):(M=new k,M.x=.5*(a.eh.x+a.fh.x),M.y=.5*(a.eh.y+a.fh.y),a.eh.x=a.fh.x=M.x,a.eh.y=a.fh.y=M.y,a.Pk=0))};m.Fc.push(function(){m.w.Ik.zE=new r;m.w.Ik.xE=new ca(3);m.w.Ik.yE=new ca(3)});K.or=function(){};L.pr=function(){this.eh=new k;this.fh=new k};ba.qr=function(){};ba.prototype.R=function(f){switch(f.Jb()){case c.Sk:f=f instanceof a?f:null;this.Z=new aa(1,!0);this.Z[0]=f.vd;this.Wb=1;this.Ha=f.Ha;break;case c.xj:f=f instanceof b?f:null;this.Z=f.Z;this.Wb=f.Pb;this.Ha=f.Ha;break;default:d.kc(!1)}};
ba.prototype.xt=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Wb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return b};ba.prototype.ko=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Wb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return this.Z[b]};ba.prototype.Vd=function(a){void 0===a&&(a=0);d.kc(0<=a&&a<this.Wb);return this.Z[a]};U.Go=function(){};U.prototype.Go=function(){this.Tp=this.Uh=null};U.prototype.eo=function(a,b){var c=
this.$w(),f=d.vr,w=d.vr;c.Bb.lowerBound.x=a.lowerBound.x-f;c.Bb.lowerBound.y=a.lowerBound.y-w;c.Bb.upperBound.x=a.upperBound.x+f;c.Bb.upperBound.y=a.upperBound.y+w;c.uk=b;this.tx(c);return c};U.prototype.fo=function(a){this.Bx(a);this.tt(a)};U.prototype.Bt=function(a,b,c){d.kc(a.Tq());if(a.Bb.nt(b))return!1;this.Bx(a);var f=d.vr+d.$x*(0<c.x?c.x:-c.x);c=d.vr+d.$x*(0<c.y?c.y:-c.y);a.Bb.lowerBound.x=b.lowerBound.x-f;a.Bb.lowerBound.y=b.lowerBound.y-c;a.Bb.upperBound.x=b.upperBound.x+f;a.Bb.upperBound.y=
b.upperBound.y+c;this.tx(a);return!0};U.prototype.io=function(a){return a.Bb};U.prototype.Of=function(a){return a.uk};U.prototype.Dt=function(a,b){if(null!=this.Uh){var c=new aa,d=0;for(c[d++]=this.Uh;0<d;){var f=c[--d];if(f.Bb.lj(b))if(f.Tq()){if(!a(f))break}else c[d++]=f.Sf,c[d++]=f.yi}}};U.prototype.$w=function(){if(this.Tp){var a=this.Tp;this.Tp=a.parent;a.parent=null;a.Sf=null;a.yi=null;return a}return new X};U.prototype.tt=function(a){a.parent=this.Tp;this.Tp=a};U.prototype.tx=function(a){if(null==
this.Uh)this.Uh=a,this.Uh.parent=null;else{var b=a.Bb.wB(),c=this.Uh;if(0==c.Tq()){do var d=c.Sf,c=c.yi,c=Math.abs((d.Bb.lowerBound.x+d.Bb.upperBound.x)/2-b.x)+Math.abs((d.Bb.lowerBound.y+d.Bb.upperBound.y)/2-b.y)<Math.abs((c.Bb.lowerBound.x+c.Bb.upperBound.x)/2-b.x)+Math.abs((c.Bb.lowerBound.y+c.Bb.upperBound.y)/2-b.y)?d:c;while(0==c.Tq())}b=c.parent;d=this.$w();d.parent=b;d.uk=null;d.Bb.Xl(a.Bb,c.Bb);if(b){c.parent.Sf==c?b.Sf=d:b.yi=d;d.Sf=c;d.yi=a;c.parent=d;a.parent=d;do{if(b.Bb.nt(d.Bb))break;
b.Bb.Xl(b.Sf.Bb,b.yi.Bb);d=b;b=b.parent}while(b)}else d.Sf=c,d.yi=a,c.parent=d,this.Uh=a.parent=d}};U.prototype.Bx=function(a){if(a==this.Uh)this.Uh=null;else{var b=a.parent,c=b.parent;a=b.Sf==a?b.yi:b.Sf;if(c)for(c.Sf==b?c.Sf=a:c.yi=a,a.parent=c,this.tt(b);c;){b=c.Bb;c.Bb=n.Xl(c.Sf.Bb,c.yi.Bb);if(b.nt(c.Bb))break;c=c.parent}else this.Uh=a,a.parent=null,this.tt(b)}};B.rr=function(){this.yg=new U;this.ql=new aa;this.$p=new aa;this.tl=0};B.prototype.eo=function(a,b){var c=this.yg.eo(a,b);this.ax(c);
return c};B.prototype.fo=function(a){this.QB(a);this.yg.fo(a)};B.prototype.Bt=function(a,b,c){this.yg.Bt(a,b,c)&&this.ax(a)};B.prototype.lj=function(a,b){return this.yg.io(a).lj(this.yg.io(b))};B.prototype.Of=function(a){return this.yg.Of(a)};B.prototype.io=function(a){return this.yg.io(a)};B.prototype.RB=function(a){for(var b=this,c=b.tl=0,d,c=0;c<b.ql.length;++c){d=b.ql[c];var f=b.yg.io(d);b.yg.Dt(function(a){if(a==d)return!0;b.tl==b.$p.length&&(b.$p[b.tl]=new ia);var c=b.$p[b.tl];c.$h=a<d?a:d;
c.ai=a>=d?a:d;++b.tl;return!0},f)}for(c=b.ql.length=0;c<b.tl;){var f=b.$p[c],w=b.yg.Of(f.$h);a(w,b.yg.Of(f.ai));for(++c;c<b.tl;){w=b.$p[c];if(w.$h!=f.$h||w.ai!=f.ai)break;++c}}};B.prototype.Dt=function(a,b){this.yg.Dt(a,b)};B.prototype.ax=function(a){this.ql[this.ql.length]=a};B.prototype.QB=function(a){this.ql.splice(parseInt(this.ql.indexOf(a)),1)};B.Gt={};B.Gt[S]=!0;X.au=function(){this.Bb=new n};X.prototype.Tq=function(){return null==this.Sf};ia.bu=function(){};Y.ti=function(){this.Qc=0};Y.prototype.ti=
function(){this.jb=new aa(d.tf);for(var a=0;a<d.tf;a++)this.jb[a]=new C;this.Pd=new k;this.ib=new k};Y.prototype.me=function(){for(var a=0;a<d.tf;a++)(this.jb[a]instanceof C?this.jb[a]:null).me();this.Pd.Oa();this.ib.Oa();this.Qc=this.nb=0};Y.prototype.R=function(a){this.Qc=a.Qc;for(var b=0;b<d.tf;b++)(this.jb[b]instanceof C?this.jb[b]:null).R(a.jb[b]);this.Pd.N(a.Pd);this.ib.N(a.ib);this.nb=a.nb};Y.prototype.Ib=function(){var a=new Y;a.R(this);return a};m.Fc.push(function(){m.w.ti.Mu=1;m.w.ti.Ug=
2;m.w.ti.Tk=4});C.Po=function(){this.ib=new k;this.Qi=new y};C.prototype.Po=function(){this.me()};C.prototype.me=function(){this.ib.Oa();this.yl=this.sl=0;this.Qi.key=0};C.prototype.R=function(a){this.ib.N(a.ib);this.sl=a.sl;this.yl=a.yl;this.Qi.R(a.Qi)};Z.hu=function(){new k};Da.Wo=function(){this.wn=new k;this.xn=new k};Da.prototype.Wo=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&this.wn.N(a);b&&this.xn.N(b)};qa.mu=function(){this.Zf=new k};Ea.nu=function(){this.wn=new k;this.xn=new k};
w.qm=function(){this.ib=new k;this.ea=new k};w.prototype.qd=function(a,b,c,r,g){this.Yj=b;this.Zj=r;var v=parseInt(a.count);d.kc(0<v&&3>v);var A,I,h,H,V=0,n=0;1==v?(this.nb=w.Oy,A=this.Yj.Vd(a.td[0]),I=this.Zj.Vd(a.ud[0]),v=A,a=c.G,b=c.position.x+(a.j.x*v.x+a.k.x*v.y),r=c.position.y+(a.j.y*v.x+a.k.y*v.y),v=I,a=g.G,h=g.position.x+(a.j.x*v.x+a.k.x*v.y),H=g.position.y+(a.j.y*v.x+a.k.y*v.y),this.ea.x=h-b,this.ea.y=H-r,this.ea.fb()):(a.ud[0]==a.ud[1]?(this.nb=w.Ug,b=this.Yj.Vd(a.td[0]),r=this.Yj.Vd(a.td[1]),
I=this.Zj.Vd(a.ud[0]),this.ib.x=.5*(b.x+r.x),this.ib.y=.5*(b.y+r.y),this.ea=f.fj(f.wc(r,b),1),this.ea.fb(),v=this.ea,a=c.G,V=a.j.x*v.x+a.k.x*v.y,n=a.j.y*v.x+a.k.y*v.y,v=this.ib,a=c.G,b=c.position.x+(a.j.x*v.x+a.k.x*v.y),r=c.position.y+(a.j.y*v.x+a.k.y*v.y),v=I,a=g.G,h=g.position.x+(a.j.x*v.x+a.k.x*v.y),H=g.position.y+(a.j.y*v.x+a.k.y*v.y),V=(h-b)*V+(H-r)*n):a.td[0]==a.td[0]?(this.nb=w.Tk,h=this.Zj.Vd(a.ud[0]),H=this.Zj.Vd(a.ud[1]),A=this.Yj.Vd(a.td[0]),this.ib.x=.5*(h.x+H.x),this.ib.y=.5*(h.y+H.y),
this.ea=f.fj(f.wc(H,h),1),this.ea.fb(),v=this.ea,a=g.G,V=a.j.x*v.x+a.k.x*v.y,n=a.j.y*v.x+a.k.y*v.y,v=this.ib,a=g.G,h=g.position.x+(a.j.x*v.x+a.k.x*v.y),H=g.position.y+(a.j.y*v.x+a.k.y*v.y),v=A,a=c.G,b=c.position.x+(a.j.x*v.x+a.k.x*v.y),r=c.position.y+(a.j.y*v.x+a.k.y*v.y),V=(b-h)*V+(r-H)*n):(b=this.Yj.Vd(a.td[0]),r=this.Yj.Vd(a.td[1]),h=this.Zj.Vd(a.ud[0]),H=this.Zj.Vd(a.ud[1]),f.fd(c,A),A=f.Dd(c.G,f.wc(r,b)),f.fd(g,I),V=f.Dd(g.G,f.wc(H,h)),g=A.x*A.x+A.y*A.y,I=V.x*V.x+V.y*V.y,a=f.wc(V,A),c=A.x*a.x+
A.y*a.y,a=V.x*a.x+V.y*a.y,A=A.x*V.x+A.y*V.y,n=g*I-A*A,V=0,0!=n&&(V=f.Hb((A*a-c*I)/n,0,1)),0>(A*V+a)/I&&(V=f.Hb((A-c)/g,0,1)),A=new k,A.x=b.x+V*(r.x-b.x),A.y=b.y+V*(r.y-b.y),I=new k,I.x=h.x+V*(H.x-h.x),I.y=h.y+V*(H.y-h.y),0==V||1==V?(this.nb=w.Tk,this.ea=f.fj(f.wc(H,h),1),this.ea.fb(),this.ib=I):(this.nb=w.Ug,this.ea=f.fj(f.wc(r,b),1),this.ib=A)),0>V&&this.ea.xx())};w.prototype.Lg=function(a,b){var c,r,v=0;switch(this.nb){case w.Oy:return c=f.hj(a.G,this.ea),r=f.hj(b.G,this.ea.gj()),c=this.Yj.ko(c),
r=this.Zj.ko(r),c=f.fd(a,c),r=f.fd(b,r),(r.x-c.x)*this.ea.x+(r.y-c.y)*this.ea.y;case w.Ug:return v=f.Dd(a.G,this.ea),c=f.fd(a,this.ib),r=f.hj(b.G,v.gj()),r=this.Zj.ko(r),r=f.fd(b,r),(r.x-c.x)*v.x+(r.y-c.y)*v.y;case w.Tk:return v=f.Dd(b.G,this.ea),r=f.fd(b,this.ib),c=f.hj(a.G,v.gj()),c=this.Yj.ko(c),c=f.fd(a,c),(c.x-r.x)*v.x+(c.y-r.y)*v.y;default:return d.kc(!1),0}};m.Fc.push(function(){m.w.qm.Oy=1;m.w.qm.Ug=2;m.w.qm.Tk=4});r.Xo=function(){this.Da=new A;this.Va=new A;this.Hf=new A;this.Z=new aa(3)};
r.prototype.Xo=function(){this.Z[0]=this.Da;this.Z[1]=this.Va;this.Z[2]=this.Hf};r.prototype.GB=function(a,b,c,w,r){d.kc(0<=a.count&&3>=a.count);var v,g;this.Wb=a.count;for(var A=this.Z,k=0;k<this.Wb;k++){var I=A[k];I.td=a.td[k];I.ud=a.ud[k];v=b.Vd(I.td);g=w.Vd(I.ud);I.ie=f.fd(c,v);I.Ig=f.fd(r,g);I.u=f.wc(I.Ig,I.ie);I.T=0}1<this.Wb&&(a=a.OD,v=this.ox(),v<.5*a||2*a<v||v<Number.MIN_VALUE)&&(this.Wb=0);0==this.Wb&&(I=A[0],I.td=0,I.ud=0,v=b.Vd(0),g=w.Vd(0),I.ie=f.fd(c,v),I.Ig=f.fd(r,g),I.u=f.wc(I.Ig,
I.ie),this.Wb=1)};r.prototype.SB=function(a){a.OD=this.ox();a.count=m.Ag(this.Wb);for(var b=this.Z,c=0;c<this.Wb;c++)a.td[c]=m.Ag(b[c].td),a.ud[c]=m.Ag(b[c].ud)};r.prototype.yB=function(){switch(this.Wb){case 1:return this.Da.u.gj();case 2:var a=f.wc(this.Va.u,this.Da.u);return 0<f.Zl(a,this.Da.u.gj())?f.cx(1,a):f.fj(a,1);default:return d.kc(!1),new k}};r.prototype.lx=function(){switch(this.Wb){case 0:d.kc(!1);new k;break;case 1:break;case 2:new k(this.Da.T*this.Da.u.x+this.Va.T*this.Va.u.x,this.Da.T*
this.Da.u.y+this.Va.T*this.Va.u.y);break;default:d.kc(!1),new k}};r.prototype.zB=function(a,b){switch(this.Wb){case 0:d.kc(!1);break;case 1:a.N(this.Da.ie);b.N(this.Da.Ig);break;case 2:a.x=this.Da.T*this.Da.ie.x+this.Va.T*this.Va.ie.x;a.y=this.Da.T*this.Da.ie.y+this.Va.T*this.Va.ie.y;b.x=this.Da.T*this.Da.Ig.x+this.Va.T*this.Va.Ig.x;b.y=this.Da.T*this.Da.Ig.y+this.Va.T*this.Va.Ig.y;break;case 3:b.x=a.x=this.Da.T*this.Da.ie.x+this.Va.T*this.Va.ie.x+this.Hf.T*this.Hf.ie.x;b.y=a.y=this.Da.T*this.Da.ie.y+
this.Va.T*this.Va.ie.y+this.Hf.T*this.Hf.ie.y;break;default:d.kc(!1)}};r.prototype.ox=function(){switch(this.Wb){case 0:return d.kc(!1),0;case 1:return 0;case 2:return f.wc(this.Da.u,this.Va.u).jg();case 3:return f.Zl(f.wc(this.Va.u,this.Da.u),f.wc(this.Hf.u,this.Da.u));default:return d.kc(!1),0}};r.prototype.LB=function(){var a=this.Da.u,b=this.Va.u,c=f.wc(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Wb=this.Da.T=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Wb=this.Va.T=1,this.Da.R(this.Va)):(c=1/(b+a),this.Da.T=b*c,
this.Va.T=a*c,this.Wb=2))};r.prototype.MB=function(){var a=this.Da.u,b=this.Va.u,c=this.Hf.u,d=f.wc(b,a),w=f.Ud(a,d),r=f.Ud(b,d),w=-w,v=f.wc(c,a),g=f.Ud(a,v),A=f.Ud(c,v),g=-g,k=f.wc(c,b),I=f.Ud(b,k),k=f.Ud(c,k),I=-I,v=f.Zl(d,v),d=v*f.Zl(b,c),c=v*f.Zl(c,a),a=v*f.Zl(a,b);0>=w&&0>=g?this.Wb=this.Da.T=1:0<r&&0<w&&0>=a?(A=1/(r+w),this.Da.T=r*A,this.Va.T=w*A,this.Wb=2):0<A&&0<g&&0>=c?(r=1/(A+g),this.Da.T=A*r,this.Hf.T=g*r,this.Wb=2,this.Va.R(this.Hf)):0>=r&&0>=I?(this.Wb=this.Va.T=1,this.Da.R(this.Va)):
0>=A&&0>=k?(this.Wb=this.Hf.T=1,this.Da.R(this.Hf)):0<k&&0<I&&0>=d?(r=1/(k+I),this.Va.T=k*r,this.Hf.T=I*r,this.Wb=2,this.Da.R(this.Hf)):(r=1/(d+c+a),this.Da.T=d*r,this.Va.T=c*r,this.Hf.T=a*r,this.Wb=3)};v.sr=function(){this.td=new ca(3);this.ud=new ca(3)};A.ou=function(){};A.prototype.R=function(a){this.ie.N(a.ie);this.Ig.N(a.Ig);this.u.N(a.u);this.T=a.T;this.td=a.td;this.ud=a.ud};I.Re=function(){};I.PB=function(a){++I.lC;var b=a.$h,c=a.ai,w=a.OA,r=a.PA;d.kc(w.Ad==r.Ad);d.kc(1-w.Ad>Number.MIN_VALUE);
var v=b.Ha+c.Ha;a=a.rF;var g=0,A=0,k=0;I.kw.count=0;for(I.Gn.cB=!1;;){w.mf(I.jk,g);r.mf(I.kk,g);I.Gn.$h=b;I.Gn.ai=c;I.Gn.SA=I.jk;I.Gn.TA=I.kk;x.ot(I.uA,I.kw,I.Gn);if(0>=I.uA.Pk){g=1;break}I.Ns.qd(I.kw,b,I.jk,c,I.kk);var h=I.Ns.Lg(I.jk,I.kk);if(0>=h){g=1;break}0==A&&(k=h>v?f.le(v-a,.75*v):f.le(h-a,.02*v));if(h-k<.5*a){if(0==A){g=1;break}break}var H=g,V=g,n=1;w.mf(I.jk,n);r.mf(I.kk,n);var M=I.Ns.Lg(I.jk,I.kk);if(M>=k){g=1;break}for(var ra=0;;){var p=0,p=ra&1?V+(k-h)*(n-V)/(M-h):.5*(V+n);w.mf(I.jk,p);
r.mf(I.kk,p);var S=I.Ns.Lg(I.jk,I.kk);if(f.od(S-k)<.025*a){H=p;break}S>k?(V=p,h=S):(n=p,M=S);++ra;++I.nC;if(50==ra)break}I.fy=f.le(I.fy,ra);if(H<(1+100*Number.MIN_VALUE)*g)break;g=H;A++;++I.mC;if(1E3==A)break}I.ey=f.le(I.ey,A);return g};m.Fc.push(function(){m.w.Re.lC=0;m.w.Re.mC=0;m.w.Re.ey=0;m.w.Re.nC=0;m.w.Re.fy=0;m.w.Re.kw=new v;m.w.Re.Gn=new K;m.w.Re.jk=new h;m.w.Re.kk=new h;m.w.Re.Ns=new w;m.w.Re.uA=new L});V.tr=function(){this.$h=new ba;this.ai=new ba;this.OA=new g;this.PA=new g};H.sm=function(){this.Ua=
new k};H.prototype.sm=function(){this.jb=new aa(d.tf);for(var a=0;a<d.tf;a++)this.jb[a]=new k};H.prototype.qd=function(a,b,c,d,f){void 0===c&&(c=0);void 0===f&&(f=0);if(0!=a.Qc){var w=0,r,v,g=0,A=0,k=0,I=0,h=0;switch(a.nb){case Y.Mu:v=b.G;r=a.ib;w=b.position.x+v.j.x*r.x+v.k.x*r.y;b=b.position.y+v.j.y*r.x+v.k.y*r.y;v=d.G;r=a.jb[0].ib;a=d.position.x+v.j.x*r.x+v.k.x*r.y;d=d.position.y+v.j.y*r.x+v.k.y*r.y;r=a-w;v=d-b;g=r*r+v*v;g>Number.MIN_VALUE*Number.MIN_VALUE?(g=Math.sqrt(g),this.Ua.x=r/g,this.Ua.y=
v/g):(this.Ua.x=1,this.Ua.y=0);r=b+c*this.Ua.y;d-=f*this.Ua.y;this.jb[0].x=.5*(w+c*this.Ua.x+(a-f*this.Ua.x));this.jb[0].y=.5*(r+d);break;case Y.Ug:v=b.G;r=a.Pd;g=v.j.x*r.x+v.k.x*r.y;A=v.j.y*r.x+v.k.y*r.y;v=b.G;r=a.ib;k=b.position.x+v.j.x*r.x+v.k.x*r.y;I=b.position.y+v.j.y*r.x+v.k.y*r.y;this.Ua.x=g;this.Ua.y=A;for(w=0;w<a.Qc;w++)v=d.G,r=a.jb[w].ib,h=d.position.x+v.j.x*r.x+v.k.x*r.y,r=d.position.y+v.j.y*r.x+v.k.y*r.y,this.jb[w].x=h+.5*(c-(h-k)*g-(r-I)*A-f)*g,this.jb[w].y=r+.5*(c-(h-k)*g-(r-I)*A-f)*
A;break;case Y.Tk:for(v=d.G,r=a.Pd,g=v.j.x*r.x+v.k.x*r.y,A=v.j.y*r.x+v.k.y*r.y,v=d.G,r=a.ib,k=d.position.x+v.j.x*r.x+v.k.x*r.y,I=d.position.y+v.j.y*r.x+v.k.y*r.y,this.Ua.x=-g,this.Ua.y=-A,w=0;w<a.Qc;w++)v=b.G,r=a.jb[w].ib,h=b.position.x+v.j.x*r.x+v.k.x*r.y,r=b.position.y+v.j.y*r.x+v.k.y*r.y,this.jb[w].x=h+.5*(f-(h-k)*g-(r-I)*A-c)*g,this.jb[w].y=r+.5*(f-(h-k)*g-(r-I)*A-c)*A}}};M.mt=function(){this.gc=new k;this.id=new y};M.prototype.R=function(a){this.gc.N(a.gc);this.id.R(a.id)};ra.rt=function(){};
Object.defineProperty(ra.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.Kt}});Object.defineProperty(ra.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Kt=a;this.mj.pf=this.mj.pf&4294967040|this.Kt&255}});Object.defineProperty(ra.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.It}});Object.defineProperty(ra.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===
a&&(a=0);this.It=a;this.mj.pf=this.mj.pf&4294902015|this.It<<8&65280}});Object.defineProperty(ra.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.Jt}});Object.defineProperty(ra.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Jt=a;this.mj.pf=this.mj.pf&4278255615|this.Jt<<16&16711680}});Object.defineProperty(ra.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.Ht}});Object.defineProperty(ra.prototype,
"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Ht=a;this.mj.pf=this.mj.pf&16777215|this.Ht<<24&4278190080}})})();
(function(){var a=m.aa.Sb,b=m.w.Wa.qj,c=m.w.Wa.Ho,d=m.w.Wa.Io,f=m.w.Wa.Qo,g=m.w.Wa.vi,h=m.w.Wa.bc,k=m.aa.Math.ui,n=m.aa.Math.Qf,q=m.aa.Math.sj,p=m.aa.Math.og,t=m.w.Ik,y=m.w.or,u=m.w.pr,x=m.w.qr,K=m.w.sr;m.Lb(b,m.w.Wa.bc);b.prototype.na=m.w.Wa.bc.prototype;b.qj=function(){m.w.Wa.bc.bc.apply(this,arguments);this.vd=new p};b.prototype.Ib=function(){var a=new b;a.R(this);return a};b.prototype.R=function(a){this.na.R.call(this,a);m.is(a,b)&&this.vd.N((a instanceof b?a:null).vd)};b.prototype.Yl=function(a,
b){var c=b.G,d=b.position.x+(c.j.x*this.vd.x+c.k.x*this.vd.y),c=b.position.y+(c.j.y*this.vd.x+c.k.y*this.vd.y);a.lowerBound.R(d-this.Ha,c-this.Ha);a.upperBound.R(d+this.Ha,c+this.Ha)};b.prototype.bo=function(b,c){void 0===c&&(c=0);b.Vh=c*a.ap*this.Ha*this.Ha;b.Ee.N(this.vd);b.$l=b.Vh*(.5*this.Ha*this.Ha+(this.vd.x*this.vd.x+this.vd.y*this.vd.y))};b.prototype.Kq=function(a,b,c,d){void 0===b&&(b=0);c=n.fd(c,this.vd);var f=-(n.Ud(a,c)-b);if(f<-this.Ha+Number.MIN_VALUE)return 0;if(f>this.Ha)return d.N(c),
Math.PI*this.Ha*this.Ha;b=this.Ha*this.Ha;var g=f*f,f=b*(Math.asin(f/this.Ha)+Math.PI/2)+f*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/f;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return f};b.prototype.Jx=function(a){this.vd.N(a)};b.prototype.qj=function(a){void 0===a&&(a=0);this.na.bc.call(this);this.nb=h.Sk;this.Ha=a};c.Ho=function(){};c.prototype.Ho=function(){this.ba=[]};m.Lb(d,m.w.Wa.bc);d.prototype.na=m.w.Wa.bc.prototype;d.Io=function(){m.w.Wa.bc.bc.apply(this,arguments);new p;this.Da=new p;this.Va=new p;this.sD=
new p;this.tD=new p;this.Ua=new p;this.Vj=new p;new p;this.uD=new p};d.prototype.Yl=function(a,b){var c=b.G,d=b.position.x+(c.j.x*this.Da.x+c.k.x*this.Da.y),f=b.position.y+(c.j.y*this.Da.x+c.k.y*this.Da.y),g=b.position.x+(c.j.x*this.Va.x+c.k.x*this.Va.y),c=b.position.y+(c.j.y*this.Va.x+c.k.y*this.Va.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);f<c?(a.lowerBound.y=f,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=f)};d.prototype.bo=function(a){a.Vh=0;a.Ee.N(this.Da);
a.$l=0};d.prototype.Kq=function(a,b,c,d){void 0===b&&(b=0);var f=new p(a.x*b,a.y*b),g=n.fd(c,this.Da);c=n.fd(c,this.Va);var k=n.Ud(a,g)-b;a=n.Ud(a,c)-b;if(0<k){if(0<a)return 0;g.x=-a/(k-a)*g.x+k/(k-a)*c.x;g.y=-a/(k-a)*g.y+k/(k-a)*c.y}else 0<a&&(c.x=-a/(k-a)*g.x+k/(k-a)*c.x,c.y=-a/(k-a)*g.y+k/(k-a)*c.y);d.x=(f.x+g.x+c.x)/3;d.y=(f.y+g.y+c.y)/3;return.5*((g.x-f.x)*(c.y-f.y)-(g.y-f.y)*(c.x-f.x))};d.prototype.Io=function(b,c){this.na.bc.call(this);this.nb=h.Nr;this.Da=b;this.Va=c;this.Vj.R(this.Va.x-this.Da.x,
this.Va.y-this.Da.y);this.Ev=this.Vj.fb();this.Ua.R(this.Vj.y,-this.Vj.x);this.sD.R(-a.yr*(this.Ua.x-this.Vj.x)+this.Da.x,-a.yr*(this.Ua.y-this.Vj.y)+this.Da.y);this.tD.R(-a.yr*(this.Ua.x+this.Vj.x)+this.Va.x,-a.yr*(this.Ua.y+this.Vj.y)+this.Va.y);this.uD.R(-this.Ua.x,-this.Ua.y)};f.Qo=function(){this.Vh=0;this.Ee=new p(0,0);this.$l=0};m.Lb(g,m.w.Wa.bc);g.prototype.na=m.w.Wa.bc.prototype;g.vi=function(){m.w.Wa.bc.bc.apply(this,arguments)};g.prototype.Ib=function(){var a=new g;a.R(this);return a};
g.prototype.R=function(a){this.na.R.call(this,a);if(m.is(a,g)){a=a instanceof g?a:null;this.Ni.N(a.Ni);this.Pb=a.Pb;this.mo(this.Pb);for(var b=0;b<this.Pb;b++)this.Z[b].N(a.Z[b]),this.tc[b].N(a.tc[b])}};g.prototype.Et=function(a,b){void 0===b&&(b=0);for(var c=new aa,d=0,f,d=0;d<a.length;++d)f=a[d],c.push(f);this.Fx(c,b)};g.FF=function(a,b){void 0===b&&(b=0);var c=new g;c.Et(a,b);return c};g.prototype.Fx=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);a.kc(2<=c);this.Pb=c;this.mo(c);for(var d=0,
d=0;d<this.Pb;d++)this.Z[d].N(b[d]);for(d=0;d<this.Pb;++d){var f=parseInt(d),f=n.wc(this.Z[parseInt(d+1<this.Pb?d+1:0)],this.Z[f]);a.kc(f.Xq()>Number.MIN_VALUE);this.tc[d].N(n.fj(f,1));this.tc[d].fb()}this.Ni=g.rB(this.Z,this.Pb)};g.JF=function(a,b){void 0===b&&(b=0);var c=new g;c.Fx(a,b);return c};g.prototype.Ex=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Pb=4;this.mo(4);this.Z[0].R(-a,-b);this.Z[1].R(a,-b);this.Z[2].R(a,b);this.Z[3].R(-a,b);this.tc[0].R(0,-1);this.tc[1].R(1,0);this.tc[2].R(0,
1);this.tc[3].R(-1,0);this.Ni.Oa()};g.GF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new g;c.Ex(a,b);return c};g.prototype.IB=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.Pb=4;this.mo(4);this.Z[0].R(-a,-b);this.Z[1].R(a,-b);this.Z[2].R(a,b);this.Z[3].R(-a,b);this.tc[0].R(0,-1);this.tc[1].R(1,0);this.tc[2].R(0,1);this.tc[3].R(-1,0);this.Ni=c;a=new q;a.position=c;a.G.R(d);for(c=0;c<this.Pb;++c)this.Z[c]=n.fd(a,this.Z[c]),this.tc[c]=n.Dd(a.G,
this.tc[c])};g.IF=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var f=new g;f.IB(a,b,c,d);return f};g.prototype.HB=function(a,b){this.Pb=2;this.mo(2);this.Z[0].N(a);this.Z[1].N(b);this.Ni.x=.5*(a.x+b.x);this.Ni.y=.5*(a.y+b.y);this.tc[0]=n.fj(n.wc(b,a),1);this.tc[0].fb();this.tc[1].x=-this.tc[0].x;this.tc[1].y=-this.tc[0].y};g.HF=function(a,b){var c=new g;c.HB(a,b);return c};g.prototype.Yl=function(a,b){for(var c=b.G,d=this.Z[0],f=b.position.x+(c.j.x*
d.x+c.k.x*d.y),g=b.position.y+(c.j.y*d.x+c.k.y*d.y),k=f,h=g,n=1;n<this.Pb;++n)var d=this.Z[n],p=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),f=f<p?f:p,g=g<d?g:d,k=k>p?k:p,h=h>d?h:d;a.lowerBound.x=f-this.Ha;a.lowerBound.y=g-this.Ha;a.upperBound.x=k+this.Ha;a.upperBound.y=h+this.Ha};g.prototype.bo=function(a,b){void 0===b&&(b=0);if(2==this.Pb)a.Ee.x=.5*(this.Z[0].x+this.Z[1].x),a.Ee.y=.5*(this.Z[0].y+this.Z[1].y),a.Vh=0,a.$l=0;else{for(var c=0,d=0,f=0,g=0,k=1/3,h=0;h<this.Pb;++h)var n=
this.Z[h],p=h+1<this.Pb?this.Z[parseInt(h+1)]:this.Z[0],q=n.x-0,t=n.y-0,w=p.x-0,r=p.y-0,v=q*r-t*w,A=.5*v,f=f+A,c=c+A*k*(0+n.x+p.x),d=d+A*k*(0+n.y+p.y),n=q,g=g+v*(k*(.25*(n*n+w*n+w*w)+(0*n+0*w))+0+(k*(.25*(t*t+r*t+r*r)+(0*t+0*r))+0));a.Vh=b*f;a.Ee.R(1/f*c,1/f*d);a.$l=b*g}};g.prototype.Kq=function(a,b,c,d){void 0===b&&(b=0);var g=n.hj(c.G,a),k=b-n.Ud(a,c.position),h=new ca,q=0,t=-1;b=-1;var u=!1;for(a=a=0;a<this.Pb;++a){h[a]=n.Ud(g,this.Z[a])-k;var y=h[a]<-Number.MIN_VALUE;0<a&&(y?u||(t=a-1,q++):u&&
(b=a-1,q++));u=y}switch(q){case 0:return u?(a=new f,this.bo(a,1),d.N(n.fd(c,a.Ee)),a.Vh):0;case 1:-1==t?t=this.Pb-1:b=this.Pb-1}a=parseInt((t+1)%this.Pb);g=parseInt((b+1)%this.Pb);k=(0-h[t])/(h[a]-h[t]);h=(0-h[b])/(h[g]-h[b]);t=new p(this.Z[t].x*(1-k)+this.Z[a].x*k,this.Z[t].y*(1-k)+this.Z[a].y*k);b=new p(this.Z[b].x*(1-h)+this.Z[g].x*h,this.Z[b].y*(1-h)+this.Z[g].y*h);h=0;k=new p;for(q=this.Z[a];a!=g;)a=(a+1)%this.Pb,u=a==g?b:this.Z[a],y=.5*((q.x-t.x)*(u.y-t.y)-(q.y-t.y)*(u.x-t.x)),h+=y,k.x+=y*(t.x+
q.x+u.x)/3,k.y+=y*(t.y+q.y+u.y)/3,q=u;k.ca(1/h);d.N(n.fd(c,k));return h};g.prototype.xt=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Pb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return b};g.prototype.ko=function(a){for(var b=0,c=this.Z[0].x*a.x+this.Z[0].y*a.y,d=1;d<this.Pb;++d){var f=this.Z[d].x*a.x+this.Z[d].y*a.y;f>c&&(b=d,c=f)}return this.Z[b]};g.prototype.vi=function(){this.na.bc.call(this);this.nb=h.xj;this.Ni=new p;this.Z=new aa;this.tc=new aa};g.prototype.mo=
function(a){void 0===a&&(a=0);for(var b=parseInt(this.Z.length);b<a;b++)this.Z[b]=new p,this.tc[b]=new p};g.rB=function(a,b){void 0===b&&(b=0);for(var c=new p,d=0,f=1/3,g=0;g<b;++g){var k=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],n=.5*((k.x-0)*(h.y-0)-(k.y-0)*(h.x-0)),d=d+n;c.x+=n*f*(0+k.x+h.x);c.y+=n*f*(0+k.y+h.y)}c.x*=1/d;c.y*=1/d;return c};g.LF=function(a,b,c){void 0===c&&(c=0);for(var d=0,f=new aa(c+1),d=0;d<c;++d)f[d]=b[d];f[c]=f[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=f[parseInt(d-1)],k=
f[d].x-g.x,h=f[d].y-g.y,n=Math.sqrt(k*k+h*h),k=k/n,h=h/n,p=-h,q=k,t=n=Number.MAX_VALUE,w=-Number.MAX_VALUE,r=-Number.MAX_VALUE,v=0;v<c;++v){var A=f[v].x-g.x,I=f[v].y-g.y,V=k*A+h*I,A=p*A+q*I;V<n&&(n=V);A<t&&(t=A);V>w&&(w=V);A>r&&(r=A)}v=(w-n)*(r-t);v<.95*b&&(b=v,a.G.j.x=k,a.G.j.y=h,a.G.k.x=p,a.G.k.y=q,k=.5*(n+w),h=.5*(t+r),p=a.G,a.Ee.x=g.x+(p.j.x*k+p.k.x*h),a.Ee.y=g.y+(p.j.y*k+p.k.y*h),a.LC.x=.5*(w-n),a.LC.y=.5*(r-t))}};m.Fc.push(function(){m.w.Wa.vi.AG=new k});h.bc=function(){};h.prototype.Ib=function(){return null};
h.prototype.R=function(a){this.Ha=a.Ha};h.prototype.Jb=function(){return this.nb};h.prototype.Yl=function(){};h.prototype.bo=function(){};h.prototype.Kq=function(){return 0};h.lj=function(a,b,c,d){var f=new y;f.$h=new x;f.$h.R(a);f.ai=new x;f.ai.R(c);f.SA=b;f.TA=d;f.cB=!0;a=new K;a.count=0;b=new u;t.ot(b,a,f);return b.Pk<10*Number.MIN_VALUE};h.prototype.bc=function(){this.nb=h.EC;this.Ha=a.Cb};m.Fc.push(function(){m.w.Wa.bc.EC=-1;m.w.Wa.bc.Sk=0;m.w.Wa.bc.xj=1;m.w.Wa.bc.Nr=2;m.w.Wa.bc.Pr=3;m.w.Wa.bc.kG=
1;m.w.Wa.bc.mG=0;m.w.Wa.bc.pG=-1})})();
(function(){var a=m.aa.em,b=m.aa.Sb,c=m.aa.Math.Qf;a.em=function(){this.br=this.cr=this.dr=0};a.prototype.em=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.dr=m.Ag(255*c.Hb(a,0,1));this.cr=m.Ag(255*c.Hb(b,0,1));this.br=m.Ag(255*c.Hb(g,0,1))};a.prototype.R=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.dr=m.Ag(255*c.Hb(a,0,1));this.cr=m.Ag(255*c.Hb(b,0,1));this.br=m.Ag(255*c.Hb(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.dr=m.Ag(255*c.Hb(a,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.cr=m.Ag(255*c.Hb(a,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.br=m.Ag(255*c.Hb(a,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.dr<<16|this.cr<<8|this.br}});b.Sb=function(){};b.bC=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};b.cC=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};b.kc=function(a){if(!a)throw"Assertion Failed";};m.Fc.push(function(){m.aa.Sb.VERSION="2.1alpha";m.aa.Sb.VF=65535;m.aa.Sb.ap=Math.PI;m.aa.Sb.tf=2;m.aa.Sb.vr=.1;m.aa.Sb.$x=2;m.aa.Sb.bG=2*b.Cb;m.aa.Sb.Cb=.005;m.aa.Sb.Kk=2/180*b.ap;m.aa.Sb.yr=8*b.Cb;m.aa.Sb.iC=32;m.aa.Sb.jC=32;m.aa.Sb.oC=1;m.aa.Sb.sf=.2;m.aa.Sb.wr=8/180*b.ap;m.aa.Sb.um=2;m.aa.Sb.dy=b.um*b.um;m.aa.Sb.tm=
.5*b.ap;m.aa.Sb.cy=b.tm*b.tm;m.aa.Sb.qu=.2;m.aa.Sb.kC=.5;m.aa.Sb.by=.01;m.aa.Sb.ay=2/180*b.ap})})();
(function(){var a=m.aa.Math.ui,b=m.aa.Math.lm,c=m.aa.Math.Qf,d=m.aa.Math.Yo,f=m.aa.Math.sj,g=m.aa.Math.og,h=m.aa.Math.rm;a.ui=function(){this.j=new g;this.k=new g};a.prototype.ui=function(){this.$q()};a.Pq=function(b){void 0===b&&(b=0);var c=new a;c.R(b);return c};a.ho=function(b,c){var d=new a;d.KB(b,c);return d};a.prototype.R=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};a.prototype.KB=function(a,b){this.j.N(a);this.k.N(b)};a.prototype.Ib=
function(){var b=new a;b.Ck(this);return b};a.prototype.Ck=function(a){this.j.N(a.j);this.k.N(a.k)};a.prototype.Jq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};a.prototype.$q=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};a.prototype.Oa=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};a.prototype.ga=function(){return Math.atan2(this.j.y,this.j.x)};a.prototype.vt=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,f=this.k.y,g=b*f-c*d;0!=g&&(g=1/g);a.j.x=
g*f;a.k.x=-g*c;a.j.y=-g*d;a.k.y=g*b};a.prototype.Dk=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,x=d*h-f*g;0!=x&&(x=1/x);a.x=x*(h*b-f*c);a.y=x*(d*c-g*b);return a};a.prototype.od=function(){this.j.od();this.k.od()};b.lm=function(){this.j=new h;this.k=new h;this.Ja=new h};b.prototype.lm=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.j.N(a),this.k.N(b),this.Ja.N(c)):(this.j.Oa(),this.k.Oa(),this.Ja.Oa())};
b.prototype.Ib=function(){return new b(this.j,this.k,this.Ja)};b.prototype.Ck=function(a){this.j.N(a.j);this.k.N(a.k);this.Ja.N(a.Ja)};b.prototype.Jq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.Ja.x+=a.Ja.x;this.Ja.y+=a.Ja.y;this.Ja.z+=a.Ja.z};b.prototype.$q=function(){this.j.x=1;this.k.x=0;this.Ja.x=0;this.j.y=0;this.k.y=1;this.Ja.y=0;this.j.z=0;this.k.z=0;this.Ja.z=1};b.prototype.Oa=function(){this.j.x=0;this.k.x=0;this.Ja.x=0;
this.j.y=0;this.k.y=0;this.Ja.y=0;this.j.z=0;this.k.z=0;this.Ja.z=0};b.prototype.bm=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,x=d*h-f*g;0!=x&&(x=1/x);a.x=x*(h*b-f*c);a.y=x*(d*c-g*b);return a};b.prototype.qo=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.j.x,g=this.j.y,h=this.j.z,x=this.k.x,K=this.k.y,L=this.k.z,ba=this.Ja.x,U=this.Ja.y,B=this.Ja.z,X=f*(K*B-L*U)+g*(L*ba-x*B)+h*(x*U-K*ba);0!=X&&(X=1/X);a.x=
X*(b*(K*B-L*U)+c*(L*ba-x*B)+d*(x*U-K*ba));a.y=X*(f*(c*B-d*U)+g*(d*ba-b*B)+h*(b*U-c*ba));a.z=X*(f*(K*d-L*c)+g*(L*b-x*d)+h*(x*c-K*b));return a};c.Qf=function(){};c.am=function(a){void 0===a&&(a=0);return isFinite(a)};c.Ud=function(a,b){return a.x*b.x+a.y*b.y};c.Zl=function(a,b){return a.x*b.y-a.y*b.x};c.fj=function(a,b){void 0===b&&(b=0);return new g(b*a.y,-b*a.x)};c.cx=function(a,b){void 0===a&&(a=0);return new g(-a*b.y,a*b.x)};c.Dd=function(a,b){return new g(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};
c.hj=function(a,b){return new g(c.Ud(b,a.j),c.Ud(b,a.k))};c.fd=function(a,b){var d=c.Dd(a.G,b);d.x+=a.position.x;d.y+=a.position.y;return d};c.EB=function(a,b){var d=c.wc(b,a.position),f=d.x*a.G.j.x+d.y*a.G.j.y;d.y=d.x*a.G.k.x+d.y*a.G.k.y;d.x=f;return d};c.Zw=function(a,b){return new g(a.x+b.x,a.y+b.y)};c.wc=function(a,b){return new g(a.x-b.x,a.y-b.y)};c.ot=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};c.MF=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};c.OF=function(a,b){void 0===
a&&(a=0);return new g(a*b.x,a*b.y)};c.EF=function(b,d){return a.ho(c.Zw(b.j,d.j),c.Zw(b.k,d.k))};c.PF=function(b,d){return a.ho(c.Dd(b,d.j),c.Dd(b,d.k))};c.QF=function(b,d){var f=new g(c.Ud(b.j,d.j),c.Ud(b.k,d.j)),h=new g(c.Ud(b.j,d.k),c.Ud(b.k,d.k));return a.ho(f,h)};c.od=function(a){void 0===a&&(a=0);return 0<a?a:-a};c.Ww=function(a){return new g(c.od(a.x),c.od(a.y))};c.DF=function(b){return a.ho(c.Ww(b.j),c.Ww(b.k))};c.Ak=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};c.vx=function(a,
b){return new g(c.Ak(a.x,b.x),c.Ak(a.y,b.y))};c.le=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};c.ux=function(a,b){return new g(c.le(a.x,b.x),c.le(a.y,b.y))};c.Hb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};c.KF=function(a,b,d){return c.ux(b,c.vx(a,d))};c.NB=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};c.SF=function(){return 2*Math.random()-1};c.TF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return(b-a)*Math.random()+a};c.RF=
function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};c.NF=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};m.Fc.push(function(){m.aa.Math.Qf.dC=new g(0,0);m.aa.Math.Qf.aC=a.ho(new g(1,0),new g(0,1));m.aa.Math.Qf.YF=new f(c.dC,c.aC)});d.Yo=function(){this.W=new g;this.Jd=new g;this.o=new g};d.prototype.R=function(a){this.W.N(a.W);this.Jd.N(a.Jd);this.o.N(a.o);this.lg=a.lg;this.T=a.T;this.Ad=a.Ad};d.prototype.Ib=function(){var a=
new d;a.W.N(this.W);a.Jd.N(this.Jd);a.o.N(this.o);a.lg=this.lg;a.T=this.T;a.Ad=this.Ad;return a};d.prototype.mf=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Jd.x+b*this.o.x;a.position.y=(1-b)*this.Jd.y+b*this.o.y;a.G.R((1-b)*this.lg+b*this.T);var c=a.G;a.position.x-=c.j.x*this.W.x+c.k.x*this.W.y;a.position.y-=c.j.y*this.W.x+c.k.y*this.W.y};d.prototype.ej=function(a){void 0===a&&(a=0);if(this.Ad<a&&1-this.Ad>Number.MIN_VALUE){var b=(a-this.Ad)/(1-this.Ad);this.Jd.x=(1-b)*this.Jd.x+b*this.o.x;
this.Jd.y=(1-b)*this.Jd.y+b*this.o.y;this.lg=(1-b)*this.lg+b*this.T;this.Ad=a}};f.sj=function(){this.position=new g;this.G=new a};f.prototype.sj=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.N(a),this.G.Ck(b))};f.prototype.qd=function(a,b){this.position.N(a);this.G.Ck(b)};f.prototype.$q=function(){this.position.Oa();this.G.$q()};f.prototype.R=function(a){this.position.N(a.position);this.G.Ck(a.G)};f.prototype.ga=function(){return Math.atan2(this.G.j.y,this.G.j.x)};g.og=
function(){};g.prototype.og=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.Oa=function(){this.y=this.x=0};g.prototype.R=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.N=function(a){this.x=a.x;this.y=a.y};g.prototype.gj=function(){return new g(-this.x,-this.y)};g.prototype.xx=function(){this.x=-this.x;this.y=-this.y};g.DB=function(){var a=0,b=0;void 0===a&&(a=0);void 0===b&&(b=0);return new g(a,b)};g.prototype.Ib=function(){return new g(this.x,
this.y)};g.prototype.Kg=function(a){this.x+=a.x;this.y+=a.y};g.prototype.ro=function(a){this.x-=a.x;this.y-=a.y};g.prototype.ca=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};g.prototype.fj=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};g.prototype.cx=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};g.prototype.vx=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};g.prototype.ux=function(a){this.x=this.x>a.x?this.x:a.x;this.y=
this.y>a.y?this.y:a.y};g.prototype.od=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.jg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.Xq=function(){return this.x*this.x+this.y*this.y};g.prototype.fb=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};g.prototype.am=function(){return c.am(this.x)&&c.am(this.y)};h.rm=function(){};h.prototype.rm=function(a,b,c){void 0===a&&
(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.Oa=function(){this.x=this.y=this.z=0};h.prototype.R=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.N=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.gj=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.xx=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.Ib=function(){return new h(this.x,this.y,this.z)};h.prototype.Kg=
function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};h.prototype.ro=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};h.prototype.ca=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var a=m.aa.Math.Qf,b=m.aa.Math.Yo,c=m.aa.Math.sj,d=m.aa.Math.og,f=m.aa.em,g=m.aa.Sb,h=m.w.Ao,k=m.w.nr,n=m.w.rr,q=m.w.Wa.Qo,p=m.l.ne,t=m.l.dm,y=m.l.mr,u=m.l.Wt,x=m.l.Do,K=m.l.hm,L=m.l.Qe,ba=m.l.$t,U=m.l.du,B=m.l.im,X=m.l.jm,ia=m.l.km,Y=m.l.ur,C=m.l.Se,Z=m.l.ka.ab,Da=m.l.ka.fm,qa=m.l.ka.rj,Ea=m.l.M.ja;p.ne=function(){this.g=new c;this.h=new b;this.p=new d;this.Xj=new d};p.prototype.Lq=function(a){if(1==this.xd.Uq())return null;var b=new B;b.Pe(this,this.g,a);this.Q&p.Lr&&b.eo(this.xd.Ye.hn,
this.g);b.La=this.Pc;this.Pc=b;++this.Qz;b.hc=this;0<b.Sp&&this.kg();this.xd.Q|=C.Pu;return b};p.prototype.Kx=function(a,b){void 0===b&&(b=0);var c;if(1!=this.xd.Uq()){this.g.G.R(b);this.g.position.N(a);c=this.g.G;var d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Jd.N(this.h.o);this.h.lg=this.h.T=b;d=this.xd.Ye.hn;for(c=this.Pc;c;c=c.La)c.Lx(d,this.g,this.g);this.xd.Ye.Oq()}};p.prototype.mf=function(){return this.g};
p.prototype.jj=function(a){this.Kx(a,this.ga())};p.prototype.ga=function(){return this.h.T};p.prototype.ub=function(a){void 0===a&&(a=0);this.Kx(this.g.position,a)};p.prototype.no=function(a){this.nb!=p.uf&&this.p.N(a)};p.prototype.xk=function(a,b){this.nb==p.Hd&&(0==this.rd()&&this.Wd(!0),this.Xj.x+=a.x,this.Xj.y+=a.y,this.qn+=(b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x)};p.prototype.lB=function(a){void 0===a&&(a=0);this.nb==p.Hd&&(0==this.rd()&&this.Wd(!0),this.qn+=a)};p.prototype.ia=function(a,b){this.nb==
p.Hd&&(0==this.rd()&&this.Wd(!0),this.p.x+=this.U*a.x,this.p.y+=this.U*a.y,this.I+=this.fa*((b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x))};p.prototype.nx=function(a){a.Vh=this.Y;a.$l=this.Vf;a.Ee.N(this.h.W)};p.prototype.kg=function(){this.fa=this.Vf=this.U=this.Y=0;this.h.W.Oa();if(this.nb!=p.uf&&this.nb!=p.hC){for(var b=d.DB(),c=this.Pc;c;c=c.La)if(0!=c.Sp){var f=c.nx();this.Y+=f.Vh;b.x+=f.Ee.x*f.Vh;b.y+=f.Ee.y*f.Vh;this.Vf+=f.$l}0<this.Y?(this.U=1/this.Y,b.x*=this.U,b.y*=this.U):this.U=this.Y=1;
0<this.Vf&&0==(this.Q&p.Jy)?(this.Vf-=this.Y*(b.x*b.x+b.y*b.y),this.Vf*=this.yD,g.kc(0<this.Vf),this.fa=1/this.Vf):this.fa=this.Vf=0;c=this.h.o.Ib();this.h.W.N(b);this.h.Jd.N(a.fd(this.g,this.h.W));this.h.o.N(this.h.Jd);this.p.x+=this.I*-(this.h.o.y-c.y);this.p.y+=this.I*+(this.h.o.x-c.x)}};p.prototype.ig=function(a){var b=this.g.G;a=new d(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.g.position.x;a.y+=this.g.position.y;return a};p.prototype.yt=function(b){return a.Dd(this.g.G,b)};p.prototype.lf=
function(b){return a.EB(this.g,b)};p.prototype.wt=function(b){return a.hj(this.g.G,b)};p.prototype.xB=function(a){return new d(this.p.x-this.I*(a.y-this.h.o.y),this.p.y+this.I*(a.x-this.h.o.x))};p.prototype.Be=function(a){void 0===a&&(a=0);this.Uz=a};p.prototype.Jb=function(){return this.nb};p.prototype.Gx=function(){this.Q|=p.Mr};p.prototype.Rq=function(){return(this.Q&p.Mr)==p.Mr};p.prototype.Wd=function(a){a?(this.Q|=p.qp,this.xl=0):(this.Q&=~p.qp,this.xl=0,this.p.Oa(),this.I=0,this.Xj.Oa(),this.qn=
0)};p.prototype.rd=function(){return(this.Q&p.qp)==p.qp};p.prototype.yk=function(){return(this.Q&p.Lr)==p.Lr};p.prototype.Of=function(){return this.Si};p.prototype.oo=function(a){this.Si=a};p.prototype.ne=function(a,b){this.Q=0;a.sC&&(this.Q|=p.Mr);a.$u&&(this.Q|=p.Jy);a.UB&&(this.Q|=p.Lu);a.$B&&(this.Q|=p.qp);a.Hc&&(this.Q|=p.Lr);this.xd=b;this.g.position.N(a.position);this.g.G.R(a.Qx);this.h.W.Oa();this.h.Ad=1;this.h.lg=this.h.T=a.Qx;var c=this.g.G,d=this.h.W;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=
c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Jd.N(this.h.o);this.Vb=this.Uj=this.dd=null;this.Bv=0;this.La=this.wd=null;this.p.N(a.Fz);this.I=a.XB;this.Uz=a.ls;this.pD=a.Rx;this.Xj.R(0,0);this.xl=this.qn=0;this.nb=a.type;this.U=this.nb==p.Hd?this.Y=1:this.Y=0;this.fa=this.Vf=0;this.yD=a.eD;this.Si=a.uk;this.Pc=null;this.Qz=0};p.prototype.Mx=function(){var a=p.HE;a.G.R(this.h.lg);var b=a.G,c=this.h.W;a.position.x=this.h.Jd.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=
this.h.Jd.y-(b.j.y*c.x+b.k.y*c.y);c=this.xd.Ye.hn;for(b=this.Pc;b;b=b.La)b.Lx(c,a,this.g)};p.prototype.xc=function(){this.g.G.R(this.h.T);var a=this.g.G,b=this.h.W;this.g.position.x=this.h.o.x-(a.j.x*b.x+a.k.x*b.y);this.g.position.y=this.h.o.y-(a.j.y*b.x+a.k.y*b.y)};p.prototype.po=function(a){if(this.nb!=p.Hd&&a.nb!=p.Hd)return!1;for(var b=this.dd;b;b=b.next)if(b.$f==a&&0==b.Ji.Mz)return!1;return!0};p.prototype.ej=function(a){void 0===a&&(a=0);this.h.ej(a);this.h.o.N(this.h.Jd);this.h.T=this.h.lg;
this.xc()};m.Fc.push(function(){m.l.ne.HE=new c;m.l.ne.Vc=1;m.l.ne.qp=2;m.l.ne.Lu=4;m.l.ne.Mr=8;m.l.ne.Jy=16;m.l.ne.Lr=32;m.l.ne.uf=0;m.l.ne.hC=1;m.l.ne.Hd=2});t.dm=function(){this.position=new d;this.Fz=new d};t.prototype.dm=function(){this.uk=null;this.position.R(0,0);this.Qx=0;this.Fz.R(0,0);this.Rx=this.ls=this.XB=0;this.$B=this.UB=!0;this.sC=this.$u=!1;this.type=p.uf;this.Hc=!0;this.eD=1};y.mr=function(){};y.prototype.po=function(a,b){var c=a.mx(),d=b.mx();return c.el==d.el&&0!=c.el?0<c.el:0!=
(c.If&d.wf)&&0!=(c.wf&d.If)};m.Fc.push(function(){m.l.mr.eC=new y});u.Wt=function(){this.UD=new ca(g.tf);this.mF=new ca(g.tf)};x.Do=function(){};x.prototype.kt=function(){};x.prototype.pt=function(){};x.prototype.Ct=function(){};m.Fc.push(function(){m.l.Do.fC=new x});K.hm=function(){};K.prototype.hm=function(){this.xd=null;this.wg=0;this.Oz=y.eC;this.kn=x.fC;this.Nz=new Da(this.Tj);this.hn=new n};K.prototype.kB=function(a,b){var c=a instanceof B?a:null,d=b instanceof B?b:null,f=c.hc,g=d.hc;if(f!=
g){for(var h=g.Vb;h;){if(h.$f==f){var M=h.Jc.rc,k=h.Jc.sc;if(M==c&&k==d||M==d&&k==c)return}h=h.next}0!=g.po(f)&&0!=this.Oz.po(c,d)&&(h=this.Nz.Pe(c,d),c=h.rc,d=h.sc,f=c.hc,g=d.hc,h.wd=null,h.La=this.xd.Vb,null!=this.xd.Vb&&(this.xd.Vb.wd=h),this.xd.Vb=h,h.de.Jc=h,h.de.$f=g,h.de.mc=null,h.de.next=f.Vb,null!=f.Vb&&(f.Vb.mc=h.de),f.Vb=h.de,h.ee.Jc=h,h.ee.$f=f,h.ee.mc=null,h.ee.next=g.Vb,null!=g.Vb&&(g.Vb.mc=h.ee),g.Vb=h.ee,++this.xd.wg)}};K.prototype.Oq=function(){this.hn.RB(m.TC(this,this.kB))};K.prototype.pd=
function(a){var b=a.rc,c=a.sc,b=b.hc,c=c.hc;a.Vq()&&this.kn.pt(a);a.wd&&(a.wd.La=a.La);a.La&&(a.La.wd=a.wd);a==this.xd.Vb&&(this.xd.Vb=a.La);a.de.mc&&(a.de.mc.next=a.de.next);a.de.next&&(a.de.next.mc=a.de.mc);a.de==b.Vb&&(b.Vb=a.de.next);a.ee.mc&&(a.ee.mc.next=a.ee.next);a.ee.next&&(a.ee.next.mc=a.ee.mc);a.ee==c.Vb&&(c.Vb=a.ee.next);this.Nz.pd(a);--this.wg};K.prototype.mB=function(){for(var a=this.xd.Vb;a;){var b=a.rc,c=a.sc,d=b.hc,f=c.hc;if(0==d.rd()&&0==f.rd())a=a.La;else{if(a.Q&Z.Nu){if(0==f.po(d)){b=
a;a=b.La;this.pd(b);continue}if(0==this.Oz.po(b,c)){b=a;a=b.La;this.pd(b);continue}a.Q&=~Z.Nu}0==this.hn.lj(b.ul,c.ul)?(b=a,a=b.La,this.pd(b)):(a.Nx(this.kn),a=a.La)}}};m.Fc.push(function(){m.l.hm.yG=new k});L.Qe=function(){};L.prototype.Qe=function(){};m.Fc.push(function(){m.l.Qe.oG=1;m.l.Qe.lG=2;m.l.Qe.hG=4;m.l.Qe.nG=8;m.l.Qe.iG=16;m.l.Qe.jG=32});ba.$t=function(){};U.du=function(){this.wf=1;this.If=65535;this.el=0};U.prototype.Ib=function(){var a=new U;a.wf=this.wf;a.If=this.If;a.el=this.el;return a};
B.im=function(){this.Pz=new U};B.prototype.Jb=function(){return this.eb.Jb()};B.prototype.zk=function(){return this.zD};B.prototype.mx=function(){return this.Pz.Ib()};B.prototype.Of=function(){return this.Si};B.prototype.oo=function(a){this.Si=a};B.prototype.nx=function(a){void 0===a&&(a=null);null==a&&(a=new q);this.eb.bo(a,this.Sp);return a};B.prototype.Ix=function(a){void 0===a&&(a=0);this.Sp=a};B.prototype.im=function(){this.gn=new h;this.eb=this.La=this.hc=this.Si=null;this.Kv=this.Dv=this.Sp=
0};B.prototype.Pe=function(a,b,c){this.Si=c.uk;this.Dv=c.bn;this.Kv=c.En;this.hc=a;this.La=null;this.Pz=c.filter.Ib();this.zD=c.iD;this.eb=c.shape.Ib();this.Sp=c.vb};B.prototype.pd=function(){this.eb=null};B.prototype.eo=function(a,b){this.eb.Yl(this.gn,b);this.ul=a.eo(this.gn,this)};B.prototype.fo=function(a){null!=this.ul&&(a.fo(this.ul),this.ul=null)};B.prototype.Lx=function(b,c,d){if(this.ul){var f=new h,g=new h;this.eb.Yl(f,c);this.eb.Yl(g,d);this.gn.Xl(f,g);c=a.wc(d.position,c.position);b.Bt(this.ul,
this.gn,c)}};X.jm=function(){this.filter=new U};X.prototype.jm=function(){this.uk=this.shape=null;this.bn=.2;this.vb=this.En=0;this.filter.wf=1;this.filter.If=65535;this.filter.el=0;this.iD=!1};ia.km=function(){};ia.prototype.km=function(){this.Nh=new aa;this.ln=new aa;this.bh=new aa};ia.prototype.qd=function(a,b,c,d,f,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var h=0;this.qD=b;this.AD=c;this.Ze=this.wg=this.ce=0;this.Tj=d;this.BD=f;this.ol=g;for(h=this.Nh.length;h<a;h++)this.Nh[h]=
null;for(h=this.ln.length;h<b;h++)this.ln[h]=null;for(h=this.bh.length;h<c;h++)this.bh[h]=null};ia.prototype.lt=function(){this.Ze=this.wg=this.ce=0};ia.prototype.Dk=function(b,c,d){for(var f=0,h=0,V,f=0;f<this.ce;++f)h=this.Nh[f],h.Jb()==p.Hd&&(h.p.x+=b.Ya*(c.x+h.U*h.Xj.x),h.p.y+=b.Ya*(c.y+h.U*h.Xj.y),h.I+=b.Ya*h.fa*h.qn,h.p.ca(a.Hb(1-b.Ya*h.Uz,0,1)),h.I*=a.Hb(1-b.Ya*h.pD,0,1));this.ol.qd(b,this.ln,this.wg,this.Tj);c=this.ol;c.Pf(b);for(f=0;f<this.Ze;++f)V=this.bh[f],V.Pf(b);for(f=0;f<b.Un;++f){for(h=
0;h<this.Ze;++h)V=this.bh[h],V.of(b);c.of()}for(f=0;f<this.Ze;++f)V=this.bh[f],V.st();c.st();for(f=0;f<this.ce;++f)if(h=this.Nh[f],h.Jb()!=p.uf){var H=b.Ya*h.p.x,M=b.Ya*h.p.y;H*H+M*M>g.dy&&(h.p.fb(),h.p.x=h.p.x*g.um*b.ug,h.p.y=h.p.y*g.um*b.ug);H=b.Ya*h.I;H*H>g.cy&&(h.I=0>h.I?-g.tm*b.ug:g.tm*b.ug);h.h.Jd.N(h.h.o);h.h.lg=h.h.T;h.h.o.x+=b.Ya*h.p.x;h.h.o.y+=b.Ya*h.p.y;h.h.T+=b.Ya*h.I;h.xc()}for(f=0;f<b.yn;++f){H=c.nf(g.qu);M=!0;for(h=0;h<this.Ze;++h)V=this.bh[h],V=V.nf(g.qu),M=M&&V;if(H&&M)break}this.Cx(c.Oh);
if(d){d=Number.MAX_VALUE;c=g.by*g.by;H=g.ay*g.ay;for(f=0;f<this.ce;++f)h=this.Nh[f],h.Jb()!=p.uf&&(0==(h.Q&p.Lu)&&(d=h.xl=0),0==(h.Q&p.Lu)||h.I*h.I>H||a.Ud(h.p,h.p)>c?d=h.xl=0:(h.xl+=b.Ya,d=a.Ak(d,h.xl)));if(d>=g.kC)for(f=0;f<this.ce;++f)h=this.Nh[f],h.Wd(!1)}};ia.prototype.Ft=function(a){var b=0,c=0;this.ol.qd(a,this.ln,this.wg,this.Tj);for(var d=this.ol,b=0;b<this.Ze;++b)this.bh[b].Pf(a);for(b=0;b<a.Un;++b)for(d.of(),c=0;c<this.Ze;++c)this.bh[c].of(a);for(b=0;b<this.ce;++b)if(c=this.Nh[b],c.Jb()!=
p.uf){var f=a.Ya*c.p.x,h=a.Ya*c.p.y;f*f+h*h>g.dy&&(c.p.fb(),c.p.x=c.p.x*g.um*a.ug,c.p.y=c.p.y*g.um*a.ug);f=a.Ya*c.I;f*f>g.cy&&(c.I=0>c.I?-g.tm*a.ug:g.tm*a.ug);c.h.Jd.N(c.h.o);c.h.lg=c.h.T;c.h.o.x+=a.Ya*c.p.x;c.h.o.y+=a.Ya*c.p.y;c.h.T+=a.Ya*c.I;c.xc()}for(b=0;b<a.yn;++b){f=d.nf(.75);h=!0;for(c=0;c<this.Ze;++c)var H=this.bh[c].nf(g.qu),h=h&&H;if(f&&h)break}this.Cx(d.Oh)};ia.prototype.Cx=function(a){if(null!=this.BD)for(var b=0;b<this.wg;++b)for(var c=a[b],d=0;d<c.Lf;++d)ia.vA.UD[d]=c.ye[d].kd,ia.vA.mF[d]=
c.ye[d].li};ia.prototype.jt=function(a){a.uG=this.ce;this.Nh[this.ce++]=a};ia.prototype.Xw=function(a){this.ln[this.wg++]=a};ia.prototype.Yw=function(a){this.bh[this.Ze++]=a};m.Fc.push(function(){m.l.km.vA=new u});Y.ur=function(){};Y.prototype.R=function(a){this.Ya=a.Ya;this.ug=a.ug;this.yn=a.yn;this.Un=a.Un;this.Jg=a.Jg};C.Se=function(){this.AE=new aa;this.Ye=new K;this.ol=new qa;this.Tz=new ia};C.prototype.Se=function(a,b){this.Uj=this.dd=this.Vb=this.Oc=null;this.Bv=this.Ze=this.wg=this.ce=0;C.HD=
!0;C.rD=!0;this.oD=b;this.Rz=a;this.Sz=0;this.Ye.xd=this;this.xD=this.co(new t)};C.prototype.Hx=function(a){this.Ye.kn=a};C.prototype.co=function(a){if(1==this.Uq())return null;a=new p(a,this);a.wd=null;if(a.La=this.Oc)this.Oc.wd=a;this.Oc=a;++this.ce;return a};C.prototype.ex=function(a){if(1!=this.Uq()){for(var b=a.dd;b;){var c=b,b=b.next;this.fx(c.Ji)}for(b=a.Uj;b;)c=b,b=b.Wi,c.xy.Ax(a);for(b=a.Vb;b;)c=b,b=b.next,this.Ye.pd(c.Jc);a.Vb=null;for(b=a.Pc;b;)c=b,b=b.La,c.fo(this.Ye.hn),c.pd();a.Pc=null;
a.Qz=0;a.wd&&(a.wd.La=a.La);a.La&&(a.La.wd=a.wd);a==this.Oc&&(this.Oc=a.La);--this.ce}};C.prototype.tB=function(a){var b=Ea.Pe(a,null);b.wd=null;if(b.La=this.dd)this.dd.wd=b;this.dd=b;++this.Ze;b.Ke.Ji=b;b.Ke.$f=b.Ta;b.Ke.mc=null;if(b.Ke.next=b.Ka.dd)b.Ka.dd.mc=b.Ke;b.Ka.dd=b.Ke;b.Le.Ji=b;b.Le.$f=b.Ka;b.Le.mc=null;if(b.Le.next=b.Ta.dd)b.Ta.dd.mc=b.Le;b.Ta.dd=b.Le;var c=a.ob,d=a.yb;if(0==a.Dr)for(a=d.Vb;a;)a.$f==c&&a.Jc.jx(),a=a.next;return b};C.prototype.fx=function(a){var b=a.Mz;a.wd&&(a.wd.La=a.La);
a.La&&(a.La.wd=a.wd);a==this.dd&&(this.dd=a.La);var c=a.Ka,d=a.Ta;c.Wd(!0);d.Wd(!0);a.Ke.mc&&(a.Ke.mc.next=a.Ke.next);a.Ke.next&&(a.Ke.next.mc=a.Ke.mc);a.Ke==c.dd&&(c.dd=a.Ke.next);a.Ke.mc=null;a.Ke.next=null;a.Le.mc&&(a.Le.mc.next=a.Le.next);a.Le.next&&(a.Le.next.mc=a.Le.mc);a.Le==d.dd&&(d.dd=a.Le.next);a.Le.mc=null;a.Le.next=null;Ea.pd(a,null);--this.Ze;if(0==b)for(a=d.Vb;a;)a.$f==c&&a.Jc.jx(),a=a.next};C.prototype.kj=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.Q&
C.Pu&&(this.Ye.Oq(),this.Q&=~C.Pu);this.Q|=C.Ou;var d=C.EE;d.Ya=a;d.Un=b;d.yn=c;d.ug=0<a?1/a:0;d.Kc=this.Sz*a;d.Jg=C.HD;this.Ye.mB();0<d.Ya&&this.Dk(d);C.rD&&0<d.Ya&&this.Ft(d);0<d.Ya&&(this.Sz=d.ug);this.Q&=~C.Ou};C.prototype.Uq=function(){return 0<(this.Q&C.Ou)};C.prototype.Dk=function(a){for(var b,c=this.Uj;c;c=c.La)c.kj(a);c=this.Tz;c.qd(this.ce,this.wg,this.Ze,null,this.Ye.kn,this.ol);for(b=this.Oc;b;b=b.La)b.Q&=~p.Vc;for(var d=this.Vb;d;d=d.La)d.Q&=~Z.Vc;for(d=this.dd;d;d=d.La)d.pl=!1;parseInt(this.ce);
for(var d=this.AE,f=this.Oc;f;f=f.La)if(!(f.Q&p.Vc)&&0!=f.rd()&&0!=f.yk()&&f.Jb()!=p.uf){c.lt();var g=0;d[g++]=f;for(f.Q|=p.Vc;0<g;)if(b=d[--g],c.jt(b),0==b.rd()&&b.Wd(!0),b.Jb()!=p.uf){for(var h,M=b.Vb;M;M=M.next)M.Jc.Q&Z.Vc||1==M.Jc.zk()||0==M.Jc.Sq()||0==M.Jc.Vq()||(c.Xw(M.Jc),M.Jc.Q|=Z.Vc,h=M.$f,h.Q&p.Vc||(d[g++]=h,h.Q|=p.Vc));for(b=b.dd;b;b=b.next)1!=b.Ji.pl&&(h=b.$f,0!=h.yk()&&(c.Yw(b.Ji),b.Ji.pl=!0,h.Q&p.Vc||(d[g++]=h,h.Q|=p.Vc)))}c.Dk(a,this.Rz,this.oD);for(g=0;g<c.ce;++g)b=c.Nh[g],b.Jb()==
p.uf&&(b.Q&=~p.Vc)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(b=this.Oc;b;b=b.La)0==b.rd()||0==b.yk()||b.Jb()!=p.uf&&b.Mx();this.Ye.Oq()};C.prototype.Ft=function(a){var b,c,d,f=this.Tz;f.qd(this.ce,g.iC,g.jC,null,this.Ye.kn,this.ol);var h=C.wE;for(b=this.Oc;b;b=b.La)b.Q&=~p.Vc,b.h.Ad=0;for(d=this.Vb;d;d=d.La)d.Q&=~(Z.Rm|Z.Vc);for(d=this.dd;d;d=d.La)d.pl=!1;for(;;){var H=null,M=1;for(d=this.Vb;d;d=d.La)if(1!=d.zk()&&0!=d.Sq()&&0!=d.CB()){if(d.Q&Z.Rm)b=d.GD;else{b=d.rc;c=d.sc;b=b.hc;c=c.hc;if(!(b.Jb()==
p.Hd&&0!=b.rd()||c.Jb()==p.Hd&&0!=c.rd()))continue;var k=b.h.Ad;b.h.Ad<c.h.Ad?(k=c.h.Ad,b.h.ej(k)):c.h.Ad<b.h.Ad&&(k=b.h.Ad,c.h.ej(k));b=d.sB(b.h,c.h);g.kc(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*k+b,1<b&&(b=1));d.GD=b;d.Q|=Z.Rm}Number.MIN_VALUE<b&&b<M&&(H=d,M=b)}if(null==H||1-100*Number.MIN_VALUE<M)break;b=H.rc;c=H.sc;b=b.hc;c=c.hc;C.sA.R(b.h);C.tA.R(c.h);b.ej(M);c.ej(M);H.Nx(this.Ye.kn);H.Q&=~Z.Rm;if(1==H.zk()||0==H.Sq())b.h.R(C.sA),c.h.R(C.tA),b.xc(),c.xc();else if(0!=H.Vq()){b.Jb()!=p.Hd&&(b=c);f.lt();
H=d=0;h[d+H++]=b;for(b.Q|=p.Vc;0<H;)if(b=h[d++],--H,f.jt(b),0==b.rd()&&b.Wd(!0),b.Jb()==p.Hd){for(c=b.Vb;c&&f.wg!=f.qD;c=c.next)c.Jc.Q&Z.Vc||1==c.Jc.zk()||0==c.Jc.Sq()||0==c.Jc.Vq()||(f.Xw(c.Jc),c.Jc.Q|=Z.Vc,k=c.$f,k.Q&p.Vc||(k.Jb()!=p.uf&&(k.ej(M),k.Wd(!0)),h[d+H]=k,++H,k.Q|=p.Vc));for(b=b.dd;b;b=b.next)f.Ze!=f.AD&&1!=b.Ji.pl&&(k=b.$f,0!=k.yk()&&(f.Yw(b.Ji),b.Ji.pl=!0,k.Q&p.Vc||(k.Jb()!=p.uf&&(k.ej(M),k.Wd(!0)),h[d+H]=k,++H,k.Q|=p.Vc)))}d=C.DE;d.Jg=!1;d.Ya=(1-M)*a.Ya;d.ug=1/d.Ya;d.Kc=0;d.Un=a.Un;
d.yn=a.yn;f.Ft(d);for(M=M=0;M<f.ce;++M)if(b=f.Nh[M],b.Q&=~p.Vc,0!=b.rd()&&b.Jb()==p.Hd)for(b.Mx(),c=b.Vb;c;c=c.next)c.Jc.Q&=~Z.Rm;for(M=0;M<f.wg;++M)d=f.ln[M],d.Q&=~(Z.Rm|Z.Vc);for(M=0;M<f.Ze;++M)d=f.bh[M],d.pl=!1;this.Ye.Oq()}}};m.Fc.push(function(){m.l.Se.EE=new Y;m.l.Se.BG=new c;m.l.Se.sA=new b;m.l.Se.tA=new b;m.l.Se.DE=new Y;m.l.Se.wE=new aa;m.l.Se.zG=new f(.5,.8,.8);m.l.Se.Pu=1;m.l.Se.Ou=2})})();
(function(){var a=m.w.Wa.qj,b=m.w.Wa.vi,c=m.w.Wa.bc,d=m.l.ka.Rt,f=m.l.ka.ab,g=m.l.ka.Co,h=m.l.ka.Ut,k=m.l.ka.Vt,n=m.l.ka.fm,q=m.l.ka.Xt,p=m.l.ka.Yt,t=m.l.ka.rj,y=m.l.ka.cu,u=m.l.ka.So,x=m.l.ka.iu,K=m.l.ka.ju,L=m.l.ka.ku,ba=m.l.ka.Jk,U=m.l.ne,B=m.l.ur,X=m.aa.Sb,ia=m.aa.Math.ui,Y=m.aa.Math.Qf,C=m.aa.Math.og,Z=m.w.Gd,Da=m.w.gm,qa=m.w.ti,Ea=m.w.Re,w=m.w.tr,r=m.w.sm;m.Lb(d,m.l.ka.ab);d.prototype.na=m.l.ka.ab.prototype;d.Rt=function(){m.l.ka.ab.ab.apply(this,arguments)};d.Pe=function(){return new d};d.pd=
function(){};d.prototype.me=function(a,b){this.na.me.call(this,a,b)};d.prototype.Lg=function(){Z.nB(this.Yf,this.rc.eb instanceof a?this.rc.eb:null,this.rc.hc.g,this.sc.eb instanceof a?this.sc.eb:null,this.sc.hc.g)};f.ab=function(){this.de=new k;this.ee=new k;this.Yf=new qa;this.Zp=new qa};f.prototype.Vq=function(){return(this.Q&f.Sm)==f.Sm};f.prototype.CB=function(){return(this.Q&f.rp)==f.rp};f.prototype.zk=function(){return(this.Q&f.tp)==f.tp};f.prototype.JB=function(){this.Q&=~f.sp};f.prototype.Sq=
function(){return(this.Q&f.sp)==f.sp};f.prototype.jx=function(){this.Q|=f.Nu};f.prototype.ab=function(){};f.prototype.me=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.Q=f.sp;if(a&&b){if(a.zk()||b.zk())this.Q|=f.tp;var c=a.hc,d=b.hc;if(c.Jb()!=U.Hd||c.Rq()||d.Jb()!=U.Hd||d.Rq())this.Q|=f.rp;this.rc=a;this.sc=b;this.Yf.Qc=0;this.La=this.wd=null;this.de.Jc=null;this.de.mc=null;this.de.next=null;this.de.$f=null;this.ee.Jc=null;this.ee.mc=null;this.ee.next=null;this.ee.$f=null}else this.sc=
this.rc=null};f.prototype.Nx=function(a){var b=this.Zp;this.Zp=this.Yf;this.Yf=b;this.Q|=f.sp;var d=!1,b=(this.Q&f.Sm)==f.Sm,g=this.rc.hc,h=this.sc.hc,r=this.rc.gn.lj(this.sc.gn);if(this.Q&f.tp)r&&(d=this.rc.eb,r=this.sc.eb,g=g.mf(),h=h.mf(),d=c.lj(d,g,r,h)),this.Yf.Qc=0;else{this.Q=g.Jb()!=U.Hd||g.Rq()||h.Jb()!=U.Hd||h.Rq()?this.Q|f.rp:this.Q&~f.rp;if(r)for(this.Lg(),d=0<this.Yf.Qc,r=0;r<this.Yf.Qc;++r){var w=this.Yf.jb[r];w.sl=0;w.yl=0;for(var k=w.Qi,n=0;n<this.Zp.Qc;++n){var p=this.Zp.jb[n];if(p.Qi.key==
k.key){w.sl=p.sl;w.yl=p.yl;break}}}else this.Yf.Qc=0;d!=b&&(g.Wd(!0),h.Wd(!0))}this.Q=d?this.Q|f.Sm:this.Q&~f.Sm;0==b&&1==d&&a.kt(this);1==b&&0==d&&a.pt(this);0==(this.Q&f.tp)&&a.Ct(this,this.Zp)};f.prototype.Lg=function(){};f.prototype.sB=function(a,b){f.Hn.$h.R(this.rc.eb);f.Hn.ai.R(this.sc.eb);f.Hn.OA=a;f.Hn.PA=b;f.Hn.rF=X.Cb;return Ea.PB(f.Hn)};m.Fc.push(function(){m.l.ka.ab.tp=1;m.l.ka.ab.rp=2;m.l.ka.ab.Vc=4;m.l.ka.ab.Rm=8;m.l.ka.ab.Sm=16;m.l.ka.ab.sp=32;m.l.ka.ab.Nu=64;m.l.ka.ab.Hn=new w});
g.Co=function(){this.os=new C;this.Mh=new C;this.Zf=new C;this.tn=new ia;this.Cd=new ia};g.prototype.Co=function(){this.ye=new aa(X.tf);for(var a=0;a<X.tf;a++)this.ye[a]=new h};h.Ut=function(){this.Mh=new C;this.rb=new C;this.sb=new C};k.Vt=function(){};n.fm=function(){};n.prototype.fm=function(a){this.Tj=a;this.BB()};n.prototype.ao=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Th[c][d].yy=a;this.Th[c][d].Cy=b;this.Th[c][d].kA=!0;c!=d&&(this.Th[d][c].yy=a,this.Th[d][c].Cy=b,this.Th[d][c].kA=
!1)};n.prototype.BB=function(){this.Th=new aa(c.Pr);for(var a=0;a<c.Pr;a++){this.Th[a]=new aa(c.Pr);for(var b=0;b<c.Pr;b++)this.Th[a][b]=new q}this.ao(d.Pe,d.pd,c.Sk,c.Sk);this.ao(x.Pe,x.pd,c.xj,c.Sk);this.ao(L.Pe,L.pd,c.xj,c.xj);this.ao(y.Pe,y.pd,c.Nr,c.Sk);this.ao(K.Pe,K.pd,c.xj,c.Nr)};n.prototype.Pe=function(a,b){var c=parseInt(a.Jb()),d=parseInt(b.Jb()),c=this.Th[c][d];if(c.Cs)return d=c.Cs,c.Cs=d.La,c.fE--,d.me(a,b),d;d=c.yy;return null!=d?(c.kA?(d=d(this.Tj),d.me(a,b)):(d=d(this.Tj),d.me(b,
a)),d):null};n.prototype.pd=function(a){0<a.Yf.Qc&&(a.rc.hc.Wd(!0),a.sc.hc.Wd(!0));var b=parseInt(a.rc.Jb()),b=this.Th[b][parseInt(a.sc.Jb())];b.fE++;a.La=b.Cs;b.Cs=a;b=b.Cy;b(a,this.Tj)};q.Xt=function(){};p.Yt=function(){this.position=new C;this.Zf=new C;this.id=new Da};t.rj=function(){this.FD=new B;this.Oh=new aa};t.prototype.rj=function(){};t.prototype.qd=function(a,b,c,d){void 0===c&&(c=0);var f;this.FD.R(a);this.Tj=d;for(this.Rp=c;this.Oh.length<this.Rp;)this.Oh[this.Oh.length]=new g;for(a=0;a<
c;++a){f=b[a];d=f.rc;var h=f.sc,r=d.eb.Ha,w=h.eb.Ha,k=d.hc,n=h.hc,p=f.Yf,u=X.bC(d.Dv,h.Dv),q=X.cC(d.Kv,h.Kv),nb=k.p.x,y=k.p.y,x=n.p.x,B=n.p.y,U=k.I,K=n.I;X.kc(0<p.Qc);t.Jl.qd(p,k.g,r,n.g,w);h=t.Jl.Ua.x;f=t.Jl.Ua.y;d=this.Oh[a];d.ob=k;d.yb=n;d.ID=p;d.Zf.x=h;d.Zf.y=f;d.Lf=p.Qc;d.bn=u;d.En=q;d.os.x=p.Pd.x;d.os.y=p.Pd.y;d.Mh.x=p.ib.x;d.Mh.y=p.ib.y;d.jh=r+w;d.type=p.nb;for(r=0;r<d.Lf;++r){u=p.jb[r];w=d.ye[r];w.kd=u.sl;w.li=u.yl;w.Mh.N(u.ib);var u=w.rb.x=t.Jl.jb[r].x-k.h.o.x,q=w.rb.y=t.Jl.jb[r].y-k.h.o.y,
C=w.sb.x=t.Jl.jb[r].x-n.h.o.x,ba=w.sb.y=t.Jl.jb[r].y-n.h.o.y,L=u*f-q*h,Y=C*f-ba*h,L=L*L,Y=Y*Y;w.tn=1/(k.U+n.U+k.fa*L+n.fa*Y);var Z=k.Y*k.U+n.Y*n.U,Z=Z+(k.Y*k.fa*L+n.Y*n.fa*Y);w.KC=1/Z;Y=f;Z=-h;L=u*Z-q*Y;Y=C*Z-ba*Y;L*=L;Y*=Y;w.nF=1/(k.U+n.U+k.fa*L+n.fa*Y);w.Eq=0;u=d.Zf.x*(x+-K*ba-nb- -U*q)+d.Zf.y*(B+K*C-y-U*u);u<-X.oC&&(w.Eq+=-d.En*u)}2==d.Lf&&(B=d.ye[0],x=d.ye[1],p=k.U,k=k.fa,nb=n.U,n=n.fa,y=B.rb.x*f-B.rb.y*h,B=B.sb.x*f-B.sb.y*h,U=x.rb.x*f-x.rb.y*h,x=x.sb.x*f-x.sb.y*h,h=p+nb+k*y*y+n*B*B,f=p+nb+k*
U*U+n*x*x,n=p+nb+k*y*U+n*B*x,h*h<100*(h*f-n*n)?(d.Cd.j.R(h,n),d.Cd.k.R(n,f),d.Cd.vt(d.tn)):d.Lf=1)}};t.prototype.Pf=function(a){for(var b=0;b<this.Rp;++b){var c=this.Oh[b],d=c.ob,f=c.yb,g=d.U,h=d.fa,r=f.U,w=f.fa,k=c.Zf.x,n=c.Zf.y,p=n,t=-k,u=0,q=0;if(a.Jg)for(q=c.Lf,u=0;u<q;++u){var y=c.ye[u];y.kd*=a.Kc;y.li*=a.Kc;var x=y.kd*k+y.li*p,B=y.kd*n+y.li*t;d.I-=h*(y.rb.x*B-y.rb.y*x);d.p.x-=g*x;d.p.y-=g*B;f.I+=w*(y.sb.x*B-y.sb.y*x);f.p.x+=r*x;f.p.y+=r*B}else for(q=c.Lf,u=0;u<q;++u)d=c.ye[u],d.kd=0,d.li=0}};
t.prototype.of=function(){for(var a=0,b,c=0,d=0,f=0,g=0,h=0,r=0,w=0,k,n=0;n<this.Rp;++n){var f=this.Oh[n],p=f.ob,t=f.yb,u=p.I,q=t.I,y=p.p,x=t.p,B=p.U,U=p.fa,L=t.U,C=t.fa,r=f.Zf.x,K=w=f.Zf.y;k=-r;h=f.bn;for(a=0;a<f.Lf;a++)b=f.ye[a],c=x.x-q*b.sb.y-y.x+u*b.rb.y,d=x.y+q*b.sb.x-y.y-u*b.rb.x,c=c*K+d*k,c=b.nF*-c,d=h*b.kd,d=Y.Hb(b.li+c,-d,d),c=d-b.li,g=c*K,c*=k,y.x-=B*g,y.y-=B*c,u-=U*(b.rb.x*c-b.rb.y*g),x.x+=L*g,x.y+=L*c,q+=C*(b.sb.x*c-b.sb.y*g),b.li=d;parseInt(f.Lf);if(1==f.Lf)b=f.ye[0],c=x.x+-q*b.sb.y-
y.x- -u*b.rb.y,d=x.y+q*b.sb.x-y.y-u*b.rb.x,f=c*r+d*w,c=-b.tn*(f-b.Eq),d=b.kd+c,d=0<d?d:0,c=d-b.kd,g=c*r,c*=w,y.x-=B*g,y.y-=B*c,u-=U*(b.rb.x*c-b.rb.y*g),x.x+=L*g,x.y+=L*c,q+=C*(b.sb.x*c-b.sb.y*g),b.kd=d;else{b=f.ye[0];var a=f.ye[1],c=b.kd,h=a.kd,ba=(x.x-q*b.sb.y-y.x+u*b.rb.y)*r+(x.y+q*b.sb.x-y.y-u*b.rb.x)*w,X=(x.x-q*a.sb.y-y.x+u*a.rb.y)*r+(x.y+q*a.sb.x-y.y-u*a.rb.x)*w,d=ba-b.Eq,g=X-a.Eq;k=f.Cd;d-=k.j.x*c+k.k.x*h;for(g-=k.j.y*c+k.k.y*h;;){k=f.tn;K=-(k.j.x*d+k.k.x*g);k=-(k.j.y*d+k.k.y*g);if(0<=K&&0<=
k){c=K-c;h=k-h;f=c*r;c*=w;r*=h;w*=h;y.x-=B*(f+r);y.y-=B*(c+w);u-=U*(b.rb.x*c-b.rb.y*f+a.rb.x*w-a.rb.y*r);x.x+=L*(f+r);x.y+=L*(c+w);q+=C*(b.sb.x*c-b.sb.y*f+a.sb.x*w-a.sb.y*r);b.kd=K;a.kd=k;break}K=-b.tn*d;k=0;X=f.Cd.j.y*K+g;if(0<=K&&0<=X){c=K-c;h=k-h;f=c*r;c*=w;r*=h;w*=h;y.x-=B*(f+r);y.y-=B*(c+w);u-=U*(b.rb.x*c-b.rb.y*f+a.rb.x*w-a.rb.y*r);x.x+=L*(f+r);x.y+=L*(c+w);q+=C*(b.sb.x*c-b.sb.y*f+a.sb.x*w-a.sb.y*r);b.kd=K;a.kd=k;break}K=0;k=-a.tn*g;ba=f.Cd.k.x*k+d;if(0<=k&&0<=ba){c=K-c;h=k-h;f=c*r;c*=w;r*=
h;w*=h;y.x-=B*(f+r);y.y-=B*(c+w);u-=U*(b.rb.x*c-b.rb.y*f+a.rb.x*w-a.rb.y*r);x.x+=L*(f+r);x.y+=L*(c+w);q+=C*(b.sb.x*c-b.sb.y*f+a.sb.x*w-a.sb.y*r);b.kd=K;a.kd=k;break}k=K=0;ba=d;X=g;if(0<=ba&&0<=X){c=K-c;h=k-h;f=c*r;c*=w;r*=h;w*=h;y.x-=B*(f+r);y.y-=B*(c+w);u-=U*(b.rb.x*c-b.rb.y*f+a.rb.x*w-a.rb.y*r);x.x+=L*(f+r);x.y+=L*(c+w);q+=C*(b.sb.x*c-b.sb.y*f+a.sb.x*w-a.sb.y*r);b.kd=K;a.kd=k;break}break}}p.I=u;t.I=q}};t.prototype.st=function(){for(var a=0;a<this.Rp;++a)for(var b=this.Oh[a],c=b.ID,d=0;d<b.Lf;++d){var f=
c.jb[d],g=b.ye[d];f.sl=g.kd;f.yl=g.li}};t.prototype.nf=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.Rp;c++){var d=this.Oh[c],f=d.ob,g=d.yb,h=f.Y*f.U,r=f.Y*f.fa,w=g.Y*g.U,k=g.Y*g.fa;t.Os.qd(d);for(var n=t.Os.Ua,p=0;p<d.Lf;p++){var u=d.ye[p],q=t.Os.jb[p],y=t.Os.rs[p],x=q.x-f.h.o.x,B=q.y-f.h.o.y,K=q.x-g.h.o.x,q=q.y-g.h.o.y,b=b<y?b:y,y=Y.Hb(a*(y+X.Cb),-X.sf,0),y=-u.KC*y,u=y*n.x,y=y*n.y;f.h.o.x-=h*u;f.h.o.y-=h*y;f.h.T-=r*(x*y-B*u);f.xc();g.h.o.x+=w*u;g.h.o.y+=w*y;g.h.T+=k*(K*y-q*u);g.xc()}}return b>
-1.5*X.Cb};m.Fc.push(function(){m.l.ka.rj.Jl=new r;m.l.ka.rj.Os=new ba});m.Lb(y,m.l.ka.ab);y.prototype.na=m.l.ka.ab.prototype;y.cu=function(){m.l.ka.ab.ab.apply(this,arguments)};y.Pe=function(){return new y};y.pd=function(){};y.prototype.me=function(a,b){this.na.me.call(this,a,b)};y.prototype.Lg=function(){};m.Lb(u,m.l.ka.ab);u.prototype.na=m.l.ka.ab.prototype;u.So=function(){m.l.ka.ab.ab.apply(this,arguments)};u.prototype.So=function(){this.na.ab.call(this)};u.prototype.Lg=function(){};m.Lb(x,m.l.ka.ab);
x.prototype.na=m.l.ka.ab.prototype;x.iu=function(){m.l.ka.ab.ab.apply(this,arguments)};x.Pe=function(){return new x};x.pd=function(){};x.prototype.me=function(a,b){this.na.me.call(this,a,b);X.kc(a.Jb()==c.xj);X.kc(b.Jb()==c.Sk)};x.prototype.Lg=function(){Z.oB(this.Yf,this.rc.eb instanceof b?this.rc.eb:null,this.rc.hc.g,this.sc.eb instanceof a?this.sc.eb:null,this.sc.hc.g)};m.Lb(K,m.l.ka.ab);K.prototype.na=m.l.ka.ab.prototype;K.ju=function(){m.l.ka.ab.ab.apply(this,arguments)};K.Pe=function(){return new K};
K.pd=function(){};K.prototype.me=function(a,b){this.na.me.call(this,a,b);X.kc(a.Jb()==c.xj);X.kc(b.Jb()==c.Nr)};K.prototype.Lg=function(){};m.Lb(L,m.l.ka.ab);L.prototype.na=m.l.ka.ab.prototype;L.ku=function(){m.l.ka.ab.ab.apply(this,arguments)};L.Pe=function(){return new L};L.pd=function(){};L.prototype.me=function(a,b){this.na.me.call(this,a,b)};L.prototype.Lg=function(){Z.pB(this.Yf,this.rc.eb instanceof b?this.rc.eb:null,this.rc.hc.g,this.sc.eb instanceof b?this.sc.eb:null,this.sc.hc.g)};ba.Jk=
function(){};ba.prototype.Jk=function(){this.Ua=new C;this.rs=new ca(X.tf);this.jb=new aa(X.tf);for(var a=0;a<X.tf;a++)this.jb[a]=new C};ba.prototype.qd=function(a){X.kc(0<a.Lf);var b=0,c=0,d=0,f,g=0,h=0;switch(a.type){case qa.Mu:f=a.ob.g.G;d=a.Mh;b=a.ob.g.position.x+(f.j.x*d.x+f.k.x*d.y);c=a.ob.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.yb.g.G;d=a.ye[0].Mh;g=a.yb.g.position.x+(f.j.x*d.x+f.k.x*d.y);f=a.yb.g.position.y+(f.j.y*d.x+f.k.y*d.y);var d=g-b,h=f-c,r=d*d+h*h;r>Number.MIN_VALUE*Number.MIN_VALUE?
(r=Math.sqrt(r),this.Ua.x=d/r,this.Ua.y=h/r):(this.Ua.x=1,this.Ua.y=0);this.jb[0].x=.5*(b+g);this.jb[0].y=.5*(c+f);this.rs[0]=d*this.Ua.x+h*this.Ua.y-a.jh;break;case qa.Ug:f=a.ob.g.G;d=a.os;this.Ua.x=f.j.x*d.x+f.k.x*d.y;this.Ua.y=f.j.y*d.x+f.k.y*d.y;f=a.ob.g.G;d=a.Mh;g=a.ob.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.ob.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.yb.g.G;for(b=0;b<a.Lf;++b)d=a.ye[b].Mh,c=a.yb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.yb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.rs[b]=(c-g)*this.Ua.x+
(d-h)*this.Ua.y-a.jh,this.jb[b].x=c,this.jb[b].y=d;break;case qa.Tk:f=a.yb.g.G;d=a.os;this.Ua.x=f.j.x*d.x+f.k.x*d.y;this.Ua.y=f.j.y*d.x+f.k.y*d.y;f=a.yb.g.G;d=a.Mh;g=a.yb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.yb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.ob.g.G;for(b=0;b<a.Lf;++b)d=a.ye[b].Mh,c=a.ob.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.ob.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.rs[b]=(c-g)*this.Ua.x+(d-h)*this.Ua.y-a.jh,this.jb[b].R(c,d);this.Ua.x*=-1;this.Ua.y*=-1}};m.Fc.push(function(){m.l.ka.Jk.eG=
new C;m.l.ka.Jk.fG=new C})})();
(function(){var a=m.aa.Math.ui,b=m.aa.Math.Qf,c=m.aa.Math.og,d=m.l.ac.Qt,f=m.l.ac.St,g=m.l.ac.Tt,h=m.l.ac.Uc,k=m.l.ac.Zt,n=m.l.ac.eu,q=m.l.ac.pu;m.Lb(d,m.l.ac.Uc);d.prototype.na=m.l.ac.Uc.prototype;d.Qt=function(){m.l.ac.Uc.Uc.apply(this,arguments);this.Zf=new c(0,-1);this.vb=this.offset=0;this.uh=new c(0,0);this.mD=2;this.WB=1;this.uF=!0;this.hz=null};d.prototype.kj=function(){if(this.Oc){this.uF&&(this.hz=this.xd.Rz.Ib());for(var a=this.Oc;a;a=a.df){var b=a.body;if(0!=b.rd()){for(var d=new c,f=
new c,g=0,h=0,k=b.Pc;k;k=k.La){var n=new c,q=k.eb.Kq(this.Zf,this.offset,b.mf(),n),g=g+q;d.x+=q*n.x;d.y+=q*n.y;var B=0,B=1,h=h+q*B;f.x+=q*n.x*B;f.y+=q*n.y*B}d.x/=g;d.y/=g;f.x/=h;f.y/=h;g<Number.MIN_VALUE||(h=this.hz.gj(),h.ca(this.vb*g),b.xk(h,f),f=b.xB(d),f.ro(this.uh),f.ca(-this.mD*g),b.xk(f,d),b.lB(-b.Vf/b.Y*g*b.I*this.WB))}}}};m.Lb(f,m.l.ac.Uc);f.prototype.na=m.l.ac.Uc.prototype;f.St=function(){m.l.ac.Uc.Uc.apply(this,arguments);this.Vw=new c(0,0)};f.prototype.kj=function(a){a=new c(this.Vw.x*
a.Ya,this.Vw.y*a.Ya);for(var b=this.Oc;b;b=b.df){var d=b.body;d.rd()&&d.no(new c(d.p.x+a.x,d.p.y+a.y))}};m.Lb(g,m.l.ac.Uc);g.prototype.na=m.l.ac.Uc.prototype;g.Tt=function(){m.l.ac.Uc.Uc.apply(this,arguments);this.uB=new c(0,0)};g.prototype.kj=function(){for(var a=this.Oc;a;a=a.df){var b=a.body;b.rd()&&b.xk(this.uB,b.h.o)}};h.Uc=function(){};h.prototype.kj=function(){};h.prototype.jt=function(a){var b=new k;b.xy=this;b.body=a;b.df=this.Oc;b.lq=null;this.Oc=b;b.df&&(b.df.lq=b);this.ce++;b.Wi=a.Uj;
b.mq=null;a.Uj=b;b.Wi&&(b.Wi.mq=b);a.Bv++};h.prototype.Ax=function(a){for(var b=a.Uj;b&&b.xy!=this;)b=b.Wi;b.lq&&(b.lq.df=b.df);b.df&&(b.df.lq=b.lq);b.Wi&&(b.Wi.mq=b.mq);b.mq&&(b.mq.Wi=b.Wi);this.Oc==b&&(this.Oc=b.df);a.Uj==b&&(a.Uj=b.Wi);a.Bv--;this.ce--};h.prototype.lt=function(){for(;this.Oc;)this.Ax(this.Oc.body)};k.Zt=function(){};m.Lb(n,m.l.ac.Uc);n.prototype.na=m.l.ac.Uc.prototype;n.eu=function(){m.l.ac.Uc.Uc.apply(this,arguments);this.kx=1;this.gD=!0};n.prototype.kj=function(){var a=null,
b=null,d=null,f=0,g=null,h=null,k=null,n=0,q=0,B=0;if(this.gD)for(a=this.Oc;a;a=a.df)for(b=a.body,d=b.h.o,f=b.Y,g=this.Oc;g!=a;g=g.df)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,B=n*n+q*q,B<Number.MIN_VALUE||(n=new c(n,q),n.ca(this.kx/B/Math.sqrt(B)*f*h.Y),b.rd()&&b.xk(n,d),n.ca(-1),h.rd()&&h.xk(n,k));else for(a=this.Oc;a;a=a.df)for(b=a.body,d=b.h.o,f=b.Y,g=this.Oc;g!=a;g=g.df)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,B=n*n+q*q,B<Number.MIN_VALUE||(n=new c(n,q),n.ca(this.kx/B*f*h.Y),b.rd()&&b.xk(n,d),n.ca(-1),
h.rd()&&h.xk(n,k))};m.Lb(q,m.l.ac.Uc);q.prototype.na=m.l.ac.Uc.prototype;q.pu=function(){m.l.ac.Uc.Uc.apply(this,arguments);this.OB=new a;this.Ov=0};q.prototype.kj=function(a){a=a.Ya;if(!(a<=Number.MIN_VALUE)){a>this.Ov&&0<this.Ov&&(a=this.Ov);for(var d=this.Oc;d;d=d.df){var f=d.body;if(f.rd()){var g=f.yt(b.Dd(this.OB,f.wt(f.p)));f.no(new c(f.p.x+g.x*a,f.p.y+g.y*a))}}}}})();
(function(){var a=m.aa.Sb,b=m.aa.Math.ui,c=m.aa.Math.lm,d=m.aa.Math.Qf,f=m.aa.Math.og,g=m.aa.Math.rm,h=m.l.M.Eo,k=m.l.M.Fo,n=m.l.M.Jo,q=m.l.M.Ko,p=m.l.M.Lo,t=m.l.M.Mo,y=m.l.M.fu,u=m.l.M.ja,x=m.l.M.ya,K=m.l.M.gu,L=m.l.M.No,ba=m.l.M.Oo,U=m.l.M.Ro,B=m.l.M.mm,X=m.l.M.To,ia=m.l.M.Uo,Y=m.l.M.nm,C=m.l.M.Vo,Z=m.l.M.om,Da=m.l.M.pm,qa=m.l.M.Zo,Ea=m.l.M.$o;m.Lb(h,m.l.M.ja);h.prototype.na=m.l.M.ja.prototype;h.Eo=function(){m.l.M.ja.ja.apply(this,arguments);this.qa=new f;this.Ba=new f;this.jd=new f};h.prototype.Bd=
function(){return this.Ka.ig(this.qa)};h.prototype.Eo=function(a){this.na.ja.call(this,a);this.qa.N(a.bd);this.Ba.N(a.cd);this.Ev=a.length;this.Up=a.Xr;this.Cv=a.Fr;this.Lz=this.te=this.t=0};h.prototype.Pf=function(b){var c,d=0,f=this.Ka,g=this.Ta;c=f.g.G;var h=this.qa.x-f.h.W.x,k=this.qa.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var n=this.Ba.x-g.h.W.x,p=this.Ba.y-g.h.W.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;this.jd.x=g.h.o.x+n-f.h.o.x-h;this.jd.y=g.h.o.y+p-f.h.o.y-k;d=Math.sqrt(this.jd.x*
this.jd.x+this.jd.y*this.jd.y);d>a.Cb?this.jd.ca(1/d):this.jd.Oa();c=h*this.jd.y-k*this.jd.x;var S=n*this.jd.y-p*this.jd.x;c=f.U+f.fa*c*c+g.U+g.fa*S*S;this.Y=0!=c?1/c:0;if(0<this.Up){var d=d-this.Ev,S=2*Math.PI*this.Up,q=this.Y*S*S;this.te=b.Ya*(2*this.Y*this.Cv*S+b.Ya*q);this.te=0!=this.te?1/this.te:0;this.Lz=d*b.Ya*q*this.te;this.Y=c+this.te;this.Y=0!=this.Y?1/this.Y:0}b.Jg?(this.t*=b.Kc,b=this.t*this.jd.x,c=this.t*this.jd.y,f.p.x-=f.U*b,f.p.y-=f.U*c,f.I-=f.fa*(h*c-k*b),g.p.x+=g.U*b,g.p.y+=g.U*
c,g.I+=g.fa*(n*c-p*b)):this.t=0};h.prototype.of=function(){var a,b=this.Ka,c=this.Ta;a=b.g.G;var d=this.qa.x-b.h.W.x,f=this.qa.y-b.h.W.y,g=a.j.x*d+a.k.x*f,f=a.j.y*d+a.k.y*f,d=g;a=c.g.G;var h=this.Ba.x-c.h.W.x,k=this.Ba.y-c.h.W.y,g=a.j.x*h+a.k.x*k,k=a.j.y*h+a.k.y*k,h=g,g=-this.Y*(this.jd.x*(c.p.x+-c.I*k-(b.p.x+-b.I*f))+this.jd.y*(c.p.y+c.I*h-(b.p.y+b.I*d))+this.Lz+this.te*this.t);this.t+=g;a=g*this.jd.x;g*=this.jd.y;b.p.x-=b.U*a;b.p.y-=b.U*g;b.I-=b.fa*(d*g-f*a);c.p.x+=c.U*a;c.p.y+=c.U*g;c.I+=c.fa*
(h*g-k*a)};h.prototype.nf=function(){var b;if(0<this.Up)return!0;var c=this.Ka,f=this.Ta;b=c.g.G;var g=this.qa.x-c.h.W.x,h=this.qa.y-c.h.W.y,k=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=k;b=f.g.G;var n=this.Ba.x-f.h.W.x,M=this.Ba.y-f.h.W.y,k=b.j.x*n+b.k.x*M,M=b.j.y*n+b.k.y*M,n=k,k=f.h.o.x+n-c.h.o.x-g,p=f.h.o.y+M-c.h.o.y-h;b=Math.sqrt(k*k+p*p);k/=b;p/=b;b-=this.Ev;b=d.Hb(b,-a.sf,a.sf);var S=-this.Y*b;this.jd.R(k,p);k=S*this.jd.x;p=S*this.jd.y;c.h.o.x-=c.U*k;c.h.o.y-=c.U*p;c.h.T-=c.fa*(g*p-h*k);f.h.o.x+=f.U*
k;f.h.o.y+=f.U*p;f.h.T+=f.fa*(n*p-M*k);c.xc();f.xc();return d.od(b)<a.Cb};m.Lb(k,m.l.M.ya);k.prototype.na=m.l.M.ya.prototype;k.Fo=function(){m.l.M.ya.ya.apply(this,arguments);this.bd=new f;this.cd=new f};k.prototype.Fo=function(){this.na.ya.call(this);this.type=u.Iy;this.length=1;this.Fr=this.Xr=0};k.prototype.qd=function(a,b,c,d){this.ob=a;this.yb=b;this.bd.N(this.ob.lf(c));this.cd.N(this.yb.lf(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Fr=this.Xr=0};m.Lb(n,m.l.M.ja);n.prototype.na=
m.l.M.ja.prototype;n.Jo=function(){m.l.M.ja.ja.apply(this,arguments);this.$e=new f;this.Xf=new f;this.Hv=new b;this.Wf=new f};n.prototype.Bd=function(){return this.Ka.ig(this.$e)};n.prototype.Jo=function(a){this.na.ja.call(this,a);this.$e.N(a.bd);this.Xf.N(a.cd);this.Hv.Oa();this.Qp=0;this.Wf.Oa();this.Mi=0;this.Iv=a.Mv;this.DD=a.KD};n.prototype.Pf=function(a){var c,d=0,f=this.Ka,g=this.Ta;c=f.g.G;var h=this.$e.x-f.h.W.x,k=this.$e.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var n=this.Xf.x-
g.h.W.x,p=this.Xf.y-g.h.W.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;c=f.U;var d=g.U,S=f.fa,q=g.fa,u=new b;u.j.x=c+d;u.k.x=0;u.j.y=0;u.k.y=c+d;u.j.x+=S*k*k;u.k.x+=-S*h*k;u.j.y+=-S*h*k;u.k.y+=S*h*h;u.j.x+=q*p*p;u.k.x+=-q*n*p;u.j.y+=-q*n*p;u.k.y+=q*n*n;u.vt(this.Hv);this.Qp=S+q;0<this.Qp&&(this.Qp=1/this.Qp);a.Jg?(this.Wf.x*=a.Kc,this.Wf.y*=a.Kc,this.Mi*=a.Kc,a=this.Wf,f.p.x-=c*a.x,f.p.y-=c*a.y,f.I-=S*(h*a.y-k*a.x+this.Mi),g.p.x+=d*a.x,g.p.y+=d*a.y,g.I+=q*(n*a.y-p*a.x+this.Mi)):(this.Wf.Oa(),this.Mi=
0)};n.prototype.of=function(a){var b,c=0,g=this.Ka,h=this.Ta,k=g.p,n=g.I,M=h.p,p=h.I,q=g.U,u=h.U,t=g.fa,y=h.fa;b=g.g.G;var x=this.$e.x-g.h.W.x,B=this.$e.y-g.h.W.y,c=b.j.x*x+b.k.x*B,B=b.j.y*x+b.k.y*B,x=c;b=h.g.G;var C=this.Xf.x-h.h.W.x,K=this.Xf.y-h.h.W.y,c=b.j.x*C+b.k.x*K,K=b.j.y*C+b.k.y*K,C=c,c=-this.Qp*(p-n),L=this.Mi;b=a.Ya*this.DD;this.Mi=d.Hb(this.Mi+c,-b,b);c=this.Mi-L;n-=t*c;p+=y*c;b=d.Dd(this.Hv,new f(-(M.x-p*K-k.x+n*B),-(M.y+p*C-k.y-n*x)));c=this.Wf.Ib();this.Wf.Kg(b);b=a.Ya*this.Iv;this.Wf.Xq()>
b*b&&(this.Wf.fb(),this.Wf.ca(b));b=d.wc(this.Wf,c);k.x-=q*b.x;k.y-=q*b.y;n-=t*(x*b.y-B*b.x);M.x+=u*b.x;M.y+=u*b.y;p+=y*(C*b.y-K*b.x);g.I=n;h.I=p};n.prototype.nf=function(){return!0};m.Lb(q,m.l.M.ya);q.prototype.na=m.l.M.ya.prototype;q.Ko=function(){m.l.M.ya.ya.apply(this,arguments);this.bd=new f;this.cd=new f};q.prototype.Ko=function(){this.na.ya.call(this);this.type=u.Ky;this.KD=this.Mv=0};q.prototype.qd=function(a,b,c){this.ob=a;this.yb=b;this.bd.N(this.ob.lf(c));this.cd.N(this.yb.lf(c))};m.Lb(p,
m.l.M.ja);p.prototype.na=m.l.M.ja.prototype;p.Lo=function(){m.l.M.ja.ja.apply(this,arguments);this.Oi=new f;this.Pi=new f;this.qa=new f;this.Ba=new f;this.qc=new y};p.prototype.Bd=function(){return this.Ka.ig(this.qa)};p.prototype.Lo=function(a){this.na.ja.call(this,a);var b=parseInt(a.fl.nb),c=parseInt(a.gl.nb);this.on=this.wl=this.nn=this.vl=null;var d=0,f=0;this.vD=a.fl.Ka;this.Ka=a.fl.Ta;b==u.Or?(this.vl=a.fl instanceof Z?a.fl:null,this.Oi.N(this.vl.qa),this.qa.N(this.vl.Ba),d=this.vl.ke()):(this.nn=
a.fl instanceof X?a.fl:null,this.Oi.N(this.nn.qa),this.qa.N(this.nn.Ba),d=this.nn.jo());this.wD=a.gl.Ka;this.Ta=a.gl.Ta;c==u.Or?(this.wl=a.gl instanceof Z?a.gl:null,this.Pi.N(this.wl.qa),this.Ba.N(this.wl.Ba),f=this.wl.ke()):(this.on=a.gl instanceof X?a.gl:null,this.Pi.N(this.on.qa),this.Ba.N(this.on.Ba),f=this.on.jo());this.Ec=a.El;this.jn=d+this.Ec*f;this.t=0};p.prototype.Pf=function(a){var b=this.vD,c=this.wD,d=this.Ka,f=this.Ta,g=0,h=0,k=0,n=0,p=0,q=0;this.qc.Oa();this.vl?(this.qc.Gk=-1,q+=d.fa):
(b=b.g.G,h=this.nn.af,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=d.g.G,k=this.qa.x-d.h.W.x,n=this.qa.y-d.h.W.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.qc.Zg.R(-g,-h),this.qc.Gk=-k,q+=d.U+d.fa*k*k);this.wl?(this.qc.Hk=-this.Ec,q+=this.Ec*this.Ec*f.fa):(b=c.g.G,h=this.on.af,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=f.g.G,k=this.Ba.x-f.h.W.x,n=this.Ba.y-f.h.W.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.qc.$g.R(-this.Ec*g,-this.Ec*h),this.qc.Hk=-this.Ec*k,q+=this.Ec*this.Ec*
(f.U+f.fa*k*k));this.Y=0<q?1/q:0;a.Jg?(d.p.x+=d.U*this.t*this.qc.Zg.x,d.p.y+=d.U*this.t*this.qc.Zg.y,d.I+=d.fa*this.t*this.qc.Gk,f.p.x+=f.U*this.t*this.qc.$g.x,f.p.y+=f.U*this.t*this.qc.$g.y,f.I+=f.fa*this.t*this.qc.Hk):this.t=0};p.prototype.of=function(){var a=this.Ka,b=this.Ta,c=-this.Y*this.qc.qB(a.p,a.I,b.p,b.I);this.t+=c;a.p.x+=a.U*c*this.qc.Zg.x;a.p.y+=a.U*c*this.qc.Zg.y;a.I+=a.fa*c*this.qc.Gk;b.p.x+=b.U*c*this.qc.$g.x;b.p.y+=b.U*c*this.qc.$g.y;b.I+=b.fa*c*this.qc.Hk};p.prototype.nf=function(){var b=
this.Ka,c=this.Ta,d=0,f=0,d=this.vl?this.vl.ke():this.nn.jo(),f=this.wl?this.wl.ke():this.on.jo(),d=-this.Y*(this.jn-(d+this.Ec*f));b.h.o.x+=b.U*d*this.qc.Zg.x;b.h.o.y+=b.U*d*this.qc.Zg.y;b.h.T+=b.fa*d*this.qc.Gk;c.h.o.x+=c.U*d*this.qc.$g.x;c.h.o.y+=c.U*d*this.qc.$g.y;c.h.T+=c.fa*d*this.qc.Hk;b.xc();c.xc();return 0<a.Cb};m.Lb(t,m.l.M.ya);t.prototype.na=m.l.M.ya.prototype;t.Mo=function(){m.l.M.ya.ya.apply(this,arguments)};t.prototype.Mo=function(){this.na.ya.call(this);this.type=u.Ly;this.gl=this.fl=
null;this.El=1};y.fu=function(){this.Zg=new f;this.$g=new f};y.prototype.Oa=function(){this.Zg.Oa();this.Gk=0;this.$g.Oa();this.Hk=0};y.prototype.R=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.Zg.N(a);this.Gk=b;this.$g.N(c);this.Hk=d};y.prototype.qB=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.Zg.x*a.x+this.Zg.y*a.y+this.Gk*b+(this.$g.x*c.x+this.$g.y*c.y)+this.Hk*d};u.ja=function(){this.Ke=new K;this.Le=new K;this.Rh=new f;this.Sh=new f};u.prototype.Jb=function(){return this.nb};
u.prototype.Bd=function(){return null};u.prototype.Of=function(){return this.Si};u.prototype.oo=function(a){this.Si=a};u.prototype.yk=function(){return this.Ka.yk()&&this.Ta.yk()};u.Pe=function(a){var b=null;switch(a.type){case u.Iy:b=new h(a instanceof k?a:null);break;case u.Ny:b=new U(a instanceof B?a:null);break;case u.Py:b=new X(a instanceof ia?a:null);break;case u.Or:b=new Z(a instanceof Da?a:null);break;case u.Qy:b=new Y(a instanceof C?a:null);break;case u.Ly:b=new p(a instanceof t?a:null);
break;case u.My:b=new L(a instanceof ba?a:null);break;case u.Ry:b=new qa(a instanceof Ea?a:null);break;case u.Ky:b=new n(a instanceof q?a:null)}return b};u.pd=function(){};u.prototype.ja=function(b){a.kc(b.ob!=b.yb);this.nb=b.type;this.La=this.wd=null;this.Ka=b.ob;this.Ta=b.yb;this.Mz=b.Dr;this.pl=!1;this.Si=b.uk};u.prototype.Pf=function(){};u.prototype.of=function(){};u.prototype.st=function(){};u.prototype.nf=function(){return!1};m.Fc.push(function(){m.l.M.ja.DC=0;m.l.M.ja.Or=1;m.l.M.ja.Py=2;m.l.M.ja.Iy=
3;m.l.M.ja.Qy=4;m.l.M.ja.Ny=5;m.l.M.ja.Ly=6;m.l.M.ja.My=7;m.l.M.ja.Ry=8;m.l.M.ja.Ky=9;m.l.M.ja.He=0;m.l.M.ja.Eh=1;m.l.M.ja.Nd=2;m.l.M.ja.wj=3});x.ya=function(){};x.prototype.ya=function(){this.type=u.DC;this.yb=this.ob=this.uk=null;this.Dr=!1};K.gu=function(){};m.Lb(L,m.l.M.ja);L.prototype.na=m.l.M.ja.prototype;L.No=function(){m.l.M.ja.ja.apply(this,arguments);this.qa=new f;this.Ba=new f;this.af=new f;this.Ri=new f;this.ea=new f;this.Ga=new f;this.xa=new b;this.t=new f};L.prototype.Bd=function(){return this.Ka.ig(this.qa)};
L.prototype.jo=function(){var a=this.Ka,b=this.Ta,c=a.ig(this.qa),d=b.ig(this.Ba),b=d.x-c.x,c=d.y-c.y,a=a.yt(this.af);return a.x*b+a.y*c};L.prototype.vh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ka.Wd(!0);this.Ta.Wd(!0);this.bf=a;this.cf=b};L.prototype.No=function(a){this.na.ja.call(this,a);this.qa.N(a.bd);this.Ba.N(a.cd);this.af.N(a.nl);this.Ri.x=-this.af.y;this.Ri.y=this.af.x;this.t.Oa();this.qb=this.Me=0;this.bf=a.yv;this.cf=a.Nw;this.Jv=a.Nv;this.Yp=a.cq;this.ah=a.Um;this.Wj=a.up;
this.Za=u.He;this.ea.Oa();this.Ga.Oa()};L.prototype.Pf=function(b){var c=this.Ka,f=this.Ta,g,h=0;this.Rh.N(c.h.W);this.Sh.N(f.h.W);var k=c.mf();f.mf();g=c.g.G;var n=this.qa.x-this.Rh.x,p=this.qa.y-this.Rh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.G;var q=this.Ba.x-this.Sh.x,S=this.Ba.y-this.Sh.y,h=g.j.x*q+g.k.x*S,S=g.j.y*q+g.k.y*S,q=h;g=f.h.o.x+q-c.h.o.x-n;h=f.h.o.y+S-c.h.o.y-p;this.Cc=c.U;this.Dc=f.U;this.ue=c.fa;this.ve=f.fa;this.ea.N(d.Dd(k.G,this.af));this.Db=(g+n)*this.ea.y-(h+p)*this.ea.x;
this.Eb=q*this.ea.y-S*this.ea.x;this.Me=this.Cc+this.Dc+this.ue*this.Db*this.Db+this.ve*this.Eb*this.Eb;this.Me=this.Me>Number.MIN_VALUE?1/this.Me:0;this.Ga.N(d.Dd(k.G,this.Ri));this.Nb=(g+n)*this.Ga.y-(h+p)*this.Ga.x;this.Ob=q*this.Ga.y-S*this.Ga.x;k=this.Cc;n=this.Dc;p=this.ue;q=this.ve;this.xa.j.x=k+n+p*this.Nb*this.Nb+q*this.Ob*this.Ob;this.xa.j.y=p*this.Nb*this.Db+q*this.Ob*this.Eb;this.xa.k.x=this.xa.j.y;this.xa.k.y=k+n+p*this.Db*this.Db+q*this.Eb*this.Eb;this.ah?(g=this.ea.x*g+this.ea.y*h,
d.od(this.cf-this.bf)<2*a.Cb?this.Za=u.wj:g<=this.bf?this.Za!=u.Eh&&(this.Za=u.Eh,this.t.y=0):g>=this.cf?this.Za!=u.Nd&&(this.Za=u.Nd,this.t.y=0):(this.Za=u.He,this.t.y=0)):this.Za=u.He;0==this.Wj&&(this.qb=0);b.Jg?(this.t.x*=b.Kc,this.t.y*=b.Kc,this.qb*=b.Kc,b=this.t.x*this.Ga.x+(this.qb+this.t.y)*this.ea.x,g=this.t.x*this.Ga.y+(this.qb+this.t.y)*this.ea.y,h=this.t.x*this.Nb+(this.qb+this.t.y)*this.Db,k=this.t.x*this.Ob+(this.qb+this.t.y)*this.Eb,c.p.x-=this.Cc*b,c.p.y-=this.Cc*g,c.I-=this.ue*h,
f.p.x+=this.Dc*b,f.p.y+=this.Dc*g,f.I+=this.ve*k):(this.t.Oa(),this.qb=0)};L.prototype.of=function(a){var b=this.Ka,c=this.Ta,g=b.p,h=b.I,k=c.p,n=c.I,p=0,q=0,S=0,t=0;this.Wj&&this.Za!=u.wj&&(t=this.Me*(this.Yp-(this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Eb*n-this.Db*h)),p=this.qb,q=a.Ya*this.Jv,this.qb=d.Hb(this.qb+t,-q,q),t=this.qb-p,p=t*this.ea.x,q=t*this.ea.y,S=t*this.Db,t*=this.Eb,g.x-=this.Cc*p,g.y-=this.Cc*q,h-=this.ue*S,k.x+=this.Dc*p,k.y+=this.Dc*q,n+=this.ve*t);q=this.Ga.x*(k.x-g.x)+this.Ga.y*
(k.y-g.y)+this.Ob*n-this.Nb*h;this.ah&&this.Za!=u.He?(S=this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Eb*n-this.Db*h,p=this.t.Ib(),a=this.xa.Dk(new f,-q,-S),this.t.Kg(a),this.Za==u.Eh?this.t.y=d.le(this.t.y,0):this.Za==u.Nd&&(this.t.y=d.Ak(this.t.y,0)),q=-q-(this.t.y-p.y)*this.xa.k.x,S=0!=this.xa.j.x?q/this.xa.j.x+p.x:p.x,this.t.x=S,a.x=this.t.x-p.x,a.y=this.t.y-p.y,p=a.x*this.Ga.x+a.y*this.ea.x,q=a.x*this.Ga.y+a.y*this.ea.y,S=a.x*this.Nb+a.y*this.Db,t=a.x*this.Ob+a.y*this.Eb):(a=0!=this.xa.j.x?-q/
this.xa.j.x:0,this.t.x+=a,p=a*this.Ga.x,q=a*this.Ga.y,S=a*this.Nb,t=a*this.Ob);g.x-=this.Cc*p;g.y-=this.Cc*q;h-=this.ue*S;k.x+=this.Dc*p;k.y+=this.Dc*q;n+=this.ve*t;b.p.N(g);b.I=h;c.p.N(k);c.I=n};L.prototype.nf=function(){var c=this.Ka,g=this.Ta,h=c.h.o,k=c.h.T,n=g.h.o,p=g.h.T,H,M=0,q=0,u=0,t=0,y=0,x=0,q=!1,B=0,C=b.Pq(k),u=b.Pq(p);H=C;var x=this.qa.x-this.Rh.x,K=this.qa.y-this.Rh.y,M=H.j.x*x+H.k.x*K,K=H.j.y*x+H.k.y*K,x=M;H=u;u=this.Ba.x-this.Sh.x;t=this.Ba.y-this.Sh.y;M=H.j.x*u+H.k.x*t;t=H.j.y*u+
H.k.y*t;u=M;H=n.x+u-h.x-x;M=n.y+t-h.y-K;if(this.ah){this.ea=d.Dd(C,this.af);this.Db=(H+x)*this.ea.y-(M+K)*this.ea.x;this.Eb=u*this.ea.y-t*this.ea.x;var L=this.ea.x*H+this.ea.y*M;d.od(this.cf-this.bf)<2*a.Cb?(B=d.Hb(L,-a.sf,a.sf),y=d.od(L),q=!0):L<=this.bf?(B=d.Hb(L-this.bf+a.Cb,-a.sf,0),y=this.bf-L,q=!0):L>=this.cf&&(B=d.Hb(L-this.cf+a.Cb,0,a.sf),y=L-this.cf,q=!0)}this.Ga=d.Dd(C,this.Ri);this.Nb=(H+x)*this.Ga.y-(M+K)*this.Ga.x;this.Ob=u*this.Ga.y-t*this.Ga.x;C=new f;K=this.Ga.x*H+this.Ga.y*M;y=d.le(y,
d.od(K));x=0;q?(q=this.Cc,u=this.Dc,t=this.ue,H=this.ve,this.xa.j.x=q+u+t*this.Nb*this.Nb+H*this.Ob*this.Ob,this.xa.j.y=t*this.Nb*this.Db+H*this.Ob*this.Eb,this.xa.k.x=this.xa.j.y,this.xa.k.y=q+u+t*this.Db*this.Db+H*this.Eb*this.Eb,this.xa.Dk(C,-K,-B)):(q=this.Cc,u=this.Dc,t=this.ue,H=this.ve,B=q+u+t*this.Nb*this.Nb+H*this.Ob*this.Ob,C.x=0!=B?-K/B:0,C.y=0);B=C.x*this.Ga.x+C.y*this.ea.x;q=C.x*this.Ga.y+C.y*this.ea.y;K=C.x*this.Nb+C.y*this.Db;C=C.x*this.Ob+C.y*this.Eb;h.x-=this.Cc*B;h.y-=this.Cc*q;
k-=this.ue*K;n.x+=this.Dc*B;n.y+=this.Dc*q;p+=this.ve*C;c.h.T=k;g.h.T=p;c.xc();g.xc();return y<=a.Cb&&x<=a.Kk};m.Lb(ba,m.l.M.ya);ba.prototype.na=m.l.M.ya.prototype;ba.Oo=function(){m.l.M.ya.ya.apply(this,arguments);this.bd=new f;this.cd=new f;this.nl=new f};ba.prototype.Oo=function(){this.na.ya.call(this);this.type=u.My;this.nl.R(1,0);this.Um=!1;this.Nw=this.yv=0;this.up=!1;this.cq=this.Nv=0};ba.prototype.qd=function(a,b,c,d){this.ob=a;this.yb=b;this.bd=this.ob.lf(c);this.cd=this.yb.lf(c);this.nl=
this.ob.wt(d)};m.Lb(U,m.l.M.ja);U.prototype.na=m.l.M.ja.prototype;U.Ro=function(){m.l.M.ja.ja.apply(this,arguments);this.Cd=new b;this.Mg=new b;this.Ng=new b;this.mn=new f;this.pn=new f;this.t=new f;this.Y=new b;this.ps=new f};U.prototype.Bd=function(){return this.pn};U.prototype.Ro=function(a){this.na.ja.call(this,a);this.pn.N(a.target);var b=this.pn.x-this.Ta.g.position.x,c=this.pn.y-this.Ta.g.position.y,d=this.Ta.g.G;this.mn.x=b*d.j.x+c*d.j.y;this.mn.y=b*d.k.x+c*d.k.y;this.Iv=a.Mv;this.t.Oa();
this.Up=a.Xr;this.Cv=a.Fr;this.te=this.Av=0};U.prototype.Pf=function(a){var b=this.Ta,c=b.Y,d=2*Math.PI*this.Up,f=c*d*d;this.te=a.Ya*(2*c*this.Cv*d+a.Ya*f);this.te=0!=this.te?1/this.te:0;this.Av=a.Ya*f*this.te;var f=b.g.G,c=this.mn.x-b.h.W.x,d=this.mn.y-b.h.W.y,g=f.j.x*c+f.k.x*d,d=f.j.y*c+f.k.y*d,c=g,f=b.U,g=b.fa;this.Mg.j.x=f;this.Mg.k.x=0;this.Mg.j.y=0;this.Mg.k.y=f;this.Ng.j.x=g*d*d;this.Ng.k.x=-g*c*d;this.Ng.j.y=-g*c*d;this.Ng.k.y=g*c*c;this.Cd.Ck(this.Mg);this.Cd.Jq(this.Ng);this.Cd.j.x+=this.te;
this.Cd.k.y+=this.te;this.Cd.vt(this.Y);this.ps.x=b.h.o.x+c-this.pn.x;this.ps.y=b.h.o.y+d-this.pn.y;b.I*=.98;this.t.x*=a.Kc;this.t.y*=a.Kc;b.p.x+=f*this.t.x;b.p.y+=f*this.t.y;b.I+=g*(c*this.t.y-d*this.t.x)};U.prototype.of=function(a){var b=this.Ta,c,d=0,f=0;c=b.g.G;var g=this.mn.x-b.h.W.x,h=this.mn.y-b.h.W.y,d=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=d,d=b.p.x+-b.I*h,k=b.p.y+b.I*g;c=this.Y;d=d+this.Av*this.ps.x+this.te*this.t.x;f=k+this.Av*this.ps.y+this.te*this.t.y;k=-(c.j.x*d+c.k.x*f);f=-(c.j.y*d+c.k.y*
f);c=this.t.x;d=this.t.y;this.t.x+=k;this.t.y+=f;a=a.Ya*this.Iv;this.t.Xq()>a*a&&this.t.ca(a/this.t.jg());k=this.t.x-c;f=this.t.y-d;b.p.x+=b.U*k;b.p.y+=b.U*f;b.I+=b.fa*(g*f-h*k)};U.prototype.nf=function(){return!0};m.Lb(B,m.l.M.ya);B.prototype.na=m.l.M.ya.prototype;B.mm=function(){m.l.M.ya.ya.apply(this,arguments);this.target=new f};B.prototype.mm=function(){this.na.ya.call(this);this.type=u.Ny;this.Mv=0;this.Xr=5;this.Fr=.7};m.Lb(X,m.l.M.ja);X.prototype.na=m.l.M.ja.prototype;X.To=function(){m.l.M.ja.ja.apply(this,
arguments);this.qa=new f;this.Ba=new f;this.af=new f;this.Ri=new f;this.ea=new f;this.Ga=new f;this.xa=new c;this.t=new g};X.prototype.Bd=function(){return this.Ka.ig(this.qa)};X.prototype.jo=function(){var a=this.Ka,b=this.Ta,c=a.ig(this.qa),d=b.ig(this.Ba),b=d.x-c.x,c=d.y-c.y,a=a.yt(this.af);return a.x*b+a.y*c};X.prototype.vh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ka.Wd(!0);this.Ta.Wd(!0);this.bf=a;this.cf=b};X.prototype.To=function(a){this.na.ja.call(this,a);this.qa.N(a.bd);this.Ba.N(a.cd);
this.af.N(a.nl);this.Ri.x=-this.af.y;this.Ri.y=this.af.x;this.ED=a.ik;this.t.Oa();this.qb=this.Me=0;this.bf=a.yv;this.cf=a.Nw;this.Jv=a.Nv;this.Yp=a.cq;this.ah=a.Um;this.Wj=a.up;this.Za=u.He;this.ea.Oa();this.Ga.Oa()};X.prototype.Pf=function(b){var c=this.Ka,f=this.Ta,g,h=0;this.Rh.N(c.h.W);this.Sh.N(f.h.W);var k=c.mf();f.mf();g=c.g.G;var n=this.qa.x-this.Rh.x,p=this.qa.y-this.Rh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.G;var q=this.Ba.x-this.Sh.x,S=this.Ba.y-this.Sh.y,h=g.j.x*q+g.k.x*S,S=
g.j.y*q+g.k.y*S,q=h;g=f.h.o.x+q-c.h.o.x-n;h=f.h.o.y+S-c.h.o.y-p;this.Cc=c.U;this.Dc=f.U;this.ue=c.fa;this.ve=f.fa;this.ea.N(d.Dd(k.G,this.af));this.Db=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Eb=q*this.ea.y-S*this.ea.x;this.Me=this.Cc+this.Dc+this.ue*this.Db*this.Db+this.ve*this.Eb*this.Eb;this.Me>Number.MIN_VALUE&&(this.Me=1/this.Me);this.Ga.N(d.Dd(k.G,this.Ri));this.Nb=(g+n)*this.Ga.y-(h+p)*this.Ga.x;this.Ob=q*this.Ga.y-S*this.Ga.x;k=this.Cc;n=this.Dc;p=this.ue;q=this.ve;this.xa.j.x=k+n+p*this.Nb*this.Nb+
q*this.Ob*this.Ob;this.xa.j.y=p*this.Nb+q*this.Ob;this.xa.j.z=p*this.Nb*this.Db+q*this.Ob*this.Eb;this.xa.k.x=this.xa.j.y;this.xa.k.y=p+q;this.xa.k.z=p*this.Db+q*this.Eb;this.xa.Ja.x=this.xa.j.z;this.xa.Ja.y=this.xa.k.z;this.xa.Ja.z=k+n+p*this.Db*this.Db+q*this.Eb*this.Eb;this.ah?(g=this.ea.x*g+this.ea.y*h,d.od(this.cf-this.bf)<2*a.Cb?this.Za=u.wj:g<=this.bf?this.Za!=u.Eh&&(this.Za=u.Eh,this.t.z=0):g>=this.cf?this.Za!=u.Nd&&(this.Za=u.Nd,this.t.z=0):(this.Za=u.He,this.t.z=0)):this.Za=u.He;0==this.Wj&&
(this.qb=0);b.Jg?(this.t.x*=b.Kc,this.t.y*=b.Kc,this.qb*=b.Kc,b=this.t.x*this.Ga.x+(this.qb+this.t.z)*this.ea.x,g=this.t.x*this.Ga.y+(this.qb+this.t.z)*this.ea.y,h=this.t.x*this.Nb+this.t.y+(this.qb+this.t.z)*this.Db,k=this.t.x*this.Ob+this.t.y+(this.qb+this.t.z)*this.Eb,c.p.x-=this.Cc*b,c.p.y-=this.Cc*g,c.I-=this.ue*h,f.p.x+=this.Dc*b,f.p.y+=this.Dc*g,f.I+=this.ve*k):(this.t.Oa(),this.qb=0)};X.prototype.of=function(a){var b=this.Ka,c=this.Ta,h=b.p,k=b.I,n=c.p,p=c.I,q=0,t=0,S=0,y=0;this.Wj&&this.Za!=
u.wj&&(y=this.Me*(this.Yp-(this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Eb*p-this.Db*k)),q=this.qb,a=a.Ya*this.Jv,this.qb=d.Hb(this.qb+y,-a,a),y=this.qb-q,q=y*this.ea.x,t=y*this.ea.y,S=y*this.Db,y*=this.Eb,h.x-=this.Cc*q,h.y-=this.Cc*t,k-=this.ue*S,n.x+=this.Dc*q,n.y+=this.Dc*t,p+=this.ve*y);S=this.Ga.x*(n.x-h.x)+this.Ga.y*(n.y-h.y)+this.Ob*p-this.Nb*k;t=p-k;this.ah&&this.Za!=u.He?(a=this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Eb*p-this.Db*k,q=this.t.Ib(),a=this.xa.qo(new g,-S,-t,-a),this.t.Kg(a),
this.Za==u.Eh?this.t.z=d.le(this.t.z,0):this.Za==u.Nd&&(this.t.z=d.Ak(this.t.z,0)),S=-S-(this.t.z-q.z)*this.xa.Ja.x,t=-t-(this.t.z-q.z)*this.xa.Ja.y,t=this.xa.bm(new f,S,t),t.x+=q.x,t.y+=q.y,this.t.x=t.x,this.t.y=t.y,a.x=this.t.x-q.x,a.y=this.t.y-q.y,a.z=this.t.z-q.z,q=a.x*this.Ga.x+a.z*this.ea.x,t=a.x*this.Ga.y+a.z*this.ea.y,S=a.x*this.Nb+a.y+a.z*this.Db,y=a.x*this.Ob+a.y+a.z*this.Eb):(a=this.xa.bm(new f,-S,-t),this.t.x+=a.x,this.t.y+=a.y,q=a.x*this.Ga.x,t=a.x*this.Ga.y,S=a.x*this.Nb+a.y,y=a.x*this.Ob+
a.y);h.x-=this.Cc*q;h.y-=this.Cc*t;k-=this.ue*S;n.x+=this.Dc*q;n.y+=this.Dc*t;p+=this.ve*y;b.p.N(h);b.I=k;c.p.N(n);c.I=p};X.prototype.nf=function(){var c=this.Ka,h=this.Ta,k=c.h.o,n=c.h.T,p=h.h.o,q=h.h.T,H,u=0,t=0,S=0,y=0,x=0,t=!1,B=0,C=b.Pq(n),K=b.Pq(q);H=C;var x=this.qa.x-this.Rh.x,L=this.qa.y-this.Rh.y,u=H.j.x*x+H.k.x*L,L=H.j.y*x+H.k.y*L,x=u;H=K;K=this.Ba.x-this.Sh.x;S=this.Ba.y-this.Sh.y;u=H.j.x*K+H.k.x*S;S=H.j.y*K+H.k.y*S;K=u;H=p.x+K-k.x-x;u=p.y+S-k.y-L;if(this.ah){this.ea=d.Dd(C,this.af);this.Db=
(H+x)*this.ea.y-(u+L)*this.ea.x;this.Eb=K*this.ea.y-S*this.ea.x;var U=this.ea.x*H+this.ea.y*u;d.od(this.cf-this.bf)<2*a.Cb?(B=d.Hb(U,-a.sf,a.sf),y=d.od(U),t=!0):U<=this.bf?(B=d.Hb(U-this.bf+a.Cb,-a.sf,0),y=this.bf-U,t=!0):U>=this.cf&&(B=d.Hb(U-this.cf+a.Cb,0,a.sf),y=U-this.cf,t=!0)}this.Ga=d.Dd(C,this.Ri);this.Nb=(H+x)*this.Ga.y-(u+L)*this.Ga.x;this.Ob=K*this.Ga.y-S*this.Ga.x;C=new g;L=this.Ga.x*H+this.Ga.y*u;K=q-n-this.ED;y=d.le(y,d.od(L));x=d.od(K);t?(t=this.Cc,S=this.Dc,H=this.ue,u=this.ve,this.xa.j.x=
t+S+H*this.Nb*this.Nb+u*this.Ob*this.Ob,this.xa.j.y=H*this.Nb+u*this.Ob,this.xa.j.z=H*this.Nb*this.Db+u*this.Ob*this.Eb,this.xa.k.x=this.xa.j.y,this.xa.k.y=H+u,this.xa.k.z=H*this.Db+u*this.Eb,this.xa.Ja.x=this.xa.j.z,this.xa.Ja.y=this.xa.k.z,this.xa.Ja.z=t+S+H*this.Db*this.Db+u*this.Eb*this.Eb,this.xa.qo(C,-L,-K,-B)):(t=this.Cc,S=this.Dc,H=this.ue,u=this.ve,B=H*this.Nb+u*this.Ob,U=H+u,this.xa.j.R(t+S+H*this.Nb*this.Nb+u*this.Ob*this.Ob,B,0),this.xa.k.R(B,U,0),B=this.xa.bm(new f,-L,-K),C.x=B.x,C.y=
B.y,C.z=0);B=C.x*this.Ga.x+C.z*this.ea.x;t=C.x*this.Ga.y+C.z*this.ea.y;L=C.x*this.Nb+C.y+C.z*this.Db;C=C.x*this.Ob+C.y+C.z*this.Eb;k.x-=this.Cc*B;k.y-=this.Cc*t;n-=this.ue*L;p.x+=this.Dc*B;p.y+=this.Dc*t;q+=this.ve*C;c.h.T=n;h.h.T=q;c.xc();h.xc();return y<=a.Cb&&x<=a.Kk};m.Lb(ia,m.l.M.ya);ia.prototype.na=m.l.M.ya.prototype;ia.Uo=function(){m.l.M.ya.ya.apply(this,arguments);this.bd=new f;this.cd=new f;this.nl=new f};ia.prototype.Uo=function(){this.na.ya.call(this);this.type=u.Py;this.nl.R(1,0);this.ik=
0;this.Um=!1;this.Nw=this.yv=0;this.up=!1;this.cq=this.Nv=0};ia.prototype.qd=function(a,b,c,d){this.ob=a;this.yb=b;this.bd=this.ob.lf(c);this.cd=this.yb.lf(c);this.nl=this.ob.wt(d);this.ik=this.yb.ga()-this.ob.ga()};m.Lb(Y,m.l.M.ja);Y.prototype.na=m.l.M.ja.prototype;Y.nm=function(){m.l.M.ja.ja.apply(this,arguments);this.Oi=new f;this.Pi=new f;this.qa=new f;this.Ba=new f;this.Xb=new f;this.Yb=new f};Y.prototype.Bd=function(){return this.Ka.ig(this.qa)};Y.prototype.nm=function(a){this.na.ja.call(this,
a);this.xg=this.Ka.xd.xD;this.Oi.x=a.ds.x-this.xg.g.position.x;this.Oi.y=a.ds.y-this.xg.g.position.y;this.Pi.x=a.es.x-this.xg.g.position.x;this.Pi.y=a.es.y-this.xg.g.position.y;this.qa.N(a.bd);this.Ba.N(a.cd);this.Ec=a.El;this.jn=a.uv+this.Ec*a.vv;this.Vz=d.Ak(a.Xz,this.jn-this.Ec*Y.xr);this.Wz=d.Ak(a.Yz,(this.jn-Y.xr)/this.Ec);this.Qh=this.Ph=this.t=0};Y.prototype.Pf=function(b){var c=this.Ka,d=this.Ta,f;f=c.g.G;var g=this.qa.x-c.h.W.x,h=this.qa.y-c.h.W.y,k=f.j.x*g+f.k.x*h,h=f.j.y*g+f.k.y*h,g=k;
f=d.g.G;var n=this.Ba.x-d.h.W.x,p=this.Ba.y-d.h.W.y,k=f.j.x*n+f.k.x*p,p=f.j.y*n+f.k.y*p,n=k;f=d.h.o.x+n;var k=d.h.o.y+p,q=this.xg.g.position.x+this.Pi.x,t=this.xg.g.position.y+this.Pi.y;this.Xb.R(c.h.o.x+g-(this.xg.g.position.x+this.Oi.x),c.h.o.y+h-(this.xg.g.position.y+this.Oi.y));this.Yb.R(f-q,k-t);f=this.Xb.jg();k=this.Yb.jg();f>a.Cb?this.Xb.ca(1/f):this.Xb.Oa();k>a.Cb?this.Yb.ca(1/k):this.Yb.Oa();0<this.jn-f-this.Ec*k?(this.Lv=u.He,this.t=0):this.Lv=u.Nd;f<this.Vz?(this.Fv=u.He,this.Ph=0):this.Fv=
u.Nd;k<this.Wz?(this.Gv=u.He,this.Qh=0):this.Gv=u.Nd;f=g*this.Xb.y-h*this.Xb.x;k=n*this.Yb.y-p*this.Yb.x;this.Vp=c.U+c.fa*f*f;this.Wp=d.U+d.fa*k*k;this.qs=this.Vp+this.Ec*this.Ec*this.Wp;this.Vp=1/this.Vp;this.Wp=1/this.Wp;this.qs=1/this.qs;b.Jg?(this.t*=b.Kc,this.Ph*=b.Kc,this.Qh*=b.Kc,b=(-this.t-this.Ph)*this.Xb.x,f=(-this.t-this.Ph)*this.Xb.y,k=(-this.Ec*this.t-this.Qh)*this.Yb.x,q=(-this.Ec*this.t-this.Qh)*this.Yb.y,c.p.x+=c.U*b,c.p.y+=c.U*f,c.I+=c.fa*(g*f-h*b),d.p.x+=d.U*k,d.p.y+=d.U*q,d.I+=
d.fa*(n*q-p*k)):this.Qh=this.Ph=this.t=0};Y.prototype.of=function(){var a=this.Ka,b=this.Ta,c;c=a.g.G;var f=this.qa.x-a.h.W.x,g=this.qa.y-a.h.W.y,h=c.j.x*f+c.k.x*g,g=c.j.y*f+c.k.y*g,f=h;c=b.g.G;var k=this.Ba.x-b.h.W.x,n=this.Ba.y-b.h.W.y,h=c.j.x*k+c.k.x*n,n=c.j.y*k+c.k.y*n,k=h,p=0,q=0;this.Lv==u.Nd&&(c=a.p.x+-a.I*g,h=a.p.y+a.I*f,p=b.p.x+-b.I*n,q=b.p.y+b.I*k,c=-(this.Xb.x*c+this.Xb.y*h)-this.Ec*(this.Yb.x*p+this.Yb.y*q),q=this.qs*-c,c=this.t,this.t=d.le(0,this.t+q),q=this.t-c,c=-q*this.Xb.x,h=-q*this.Xb.y,
p=-this.Ec*q*this.Yb.x,q=-this.Ec*q*this.Yb.y,a.p.x+=a.U*c,a.p.y+=a.U*h,a.I+=a.fa*(f*h-g*c),b.p.x+=b.U*p,b.p.y+=b.U*q,b.I+=b.fa*(k*q-n*p));this.Fv==u.Nd&&(c=a.p.x+-a.I*g,h=a.p.y+a.I*f,c=-(this.Xb.x*c+this.Xb.y*h),q=-this.Vp*c,c=this.Ph,this.Ph=d.le(0,this.Ph+q),q=this.Ph-c,c=-q*this.Xb.x,h=-q*this.Xb.y,a.p.x+=a.U*c,a.p.y+=a.U*h,a.I+=a.fa*(f*h-g*c));this.Gv==u.Nd&&(p=b.p.x+-b.I*n,q=b.p.y+b.I*k,c=-(this.Yb.x*p+this.Yb.y*q),q=-this.Wp*c,c=this.Qh,this.Qh=d.le(0,this.Qh+q),q=this.Qh-c,p=-q*this.Yb.x,
q=-q*this.Yb.y,b.p.x+=b.U*p,b.p.y+=b.U*q,b.I+=b.fa*(k*q-n*p))};Y.prototype.nf=function(){var b=this.Ka,c=this.Ta,f,g=this.xg.g.position.x+this.Oi.x,h=this.xg.g.position.y+this.Oi.y,k=this.xg.g.position.x+this.Pi.x,n=this.xg.g.position.y+this.Pi.y,p=0,q=0,t=0,y=0,x=0,B=0,C=0,K=0;this.Lv==u.Nd&&(f=b.g.G,p=this.qa.x-b.h.W.x,q=this.qa.y-b.h.W.y,x=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=x,f=c.g.G,t=this.Ba.x-c.h.W.x,y=this.Ba.y-c.h.W.y,x=f.j.x*t+f.k.x*y,y=f.j.y*t+f.k.y*y,t=x,f=b.h.o.x+p,x=b.h.o.y+q,B=c.h.o.x+
t,C=c.h.o.y+y,this.Xb.R(f-g,x-h),this.Yb.R(B-k,C-n),f=this.Xb.jg(),x=this.Yb.jg(),f>a.Cb?this.Xb.ca(1/f):this.Xb.Oa(),x>a.Cb?this.Yb.ca(1/x):this.Yb.Oa(),f=this.jn-f-this.Ec*x,K=d.le(K,-f),f=d.Hb(f+a.Cb,-a.sf,0),C=-this.qs*f,f=-C*this.Xb.x,x=-C*this.Xb.y,B=-this.Ec*C*this.Yb.x,C=-this.Ec*C*this.Yb.y,b.h.o.x+=b.U*f,b.h.o.y+=b.U*x,b.h.T+=b.fa*(p*x-q*f),c.h.o.x+=c.U*B,c.h.o.y+=c.U*C,c.h.T+=c.fa*(t*C-y*B),b.xc(),c.xc());this.Fv==u.Nd&&(f=b.g.G,p=this.qa.x-b.h.W.x,q=this.qa.y-b.h.W.y,x=f.j.x*p+f.k.x*q,
q=f.j.y*p+f.k.y*q,p=x,f=b.h.o.x+p,x=b.h.o.y+q,this.Xb.R(f-g,x-h),f=this.Xb.jg(),f>a.Cb?(this.Xb.x*=1/f,this.Xb.y*=1/f):this.Xb.Oa(),f=this.Vz-f,K=d.le(K,-f),f=d.Hb(f+a.Cb,-a.sf,0),C=-this.Vp*f,f=-C*this.Xb.x,x=-C*this.Xb.y,b.h.o.x+=b.U*f,b.h.o.y+=b.U*x,b.h.T+=b.fa*(p*x-q*f),b.xc());this.Gv==u.Nd&&(f=c.g.G,t=this.Ba.x-c.h.W.x,y=this.Ba.y-c.h.W.y,x=f.j.x*t+f.k.x*y,y=f.j.y*t+f.k.y*y,t=x,B=c.h.o.x+t,C=c.h.o.y+y,this.Yb.R(B-k,C-n),x=this.Yb.jg(),x>a.Cb?(this.Yb.x*=1/x,this.Yb.y*=1/x):this.Yb.Oa(),f=this.Wz-
x,K=d.le(K,-f),f=d.Hb(f+a.Cb,-a.sf,0),C=-this.Wp*f,B=-C*this.Yb.x,C=-C*this.Yb.y,c.h.o.x+=c.U*B,c.h.o.y+=c.U*C,c.h.T+=c.fa*(t*C-y*B),c.xc());return K<a.Cb};m.Fc.push(function(){m.l.M.nm.xr=2});m.Lb(C,m.l.M.ya);C.prototype.na=m.l.M.ya.prototype;C.Vo=function(){m.l.M.ya.ya.apply(this,arguments);this.ds=new f;this.es=new f;this.bd=new f;this.cd=new f};C.prototype.Vo=function(){this.na.ya.call(this);this.type=u.Qy;this.ds.R(-1,1);this.es.R(1,1);this.bd.R(-1,0);this.cd.R(1,0);this.Yz=this.vv=this.Xz=this.uv=
0;this.El=1;this.Dr=!0};C.prototype.qd=function(a,b,c,d,f,g,h){void 0===h&&(h=0);this.ob=a;this.yb=b;this.ds.N(c);this.es.N(d);this.bd=this.ob.lf(f);this.cd=this.yb.lf(g);a=f.x-c.x;c=f.y-c.y;this.uv=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.vv=Math.sqrt(c*c+d*d);this.El=h;h=this.uv+this.El*this.vv;this.Xz=h-this.El*Y.xr;this.Yz=(h-Y.xr)/this.El};m.Lb(Z,m.l.M.ja);Z.prototype.na=m.l.M.ja.prototype;Z.om=function(){m.l.M.ja.ja.apply(this,arguments);this.Cd=new b;this.Mg=new b;this.Ng=new b;this.lo=
new b;this.sd=new g;this.Vg=new f;this.ei=new f;this.qa=new f;this.Ba=new f;this.t=new g;this.Y=new c};Z.prototype.Bd=function(){return this.Ka.ig(this.qa)};Z.prototype.ke=function(){return this.Ta.h.T-this.Ka.h.T-this.aq};Z.prototype.vh=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Xp=a;this.ss=b};Z.prototype.om=function(a){this.na.ja.call(this,a);this.qa.N(a.bd);this.Ba.N(a.cd);this.aq=a.ik;this.t.Oa();this.qb=0;this.Xp=a.Jz;this.ss=a.aB;this.CD=a.JD;this.Yp=a.cq;this.ah=a.Um;this.Wj=a.up;
this.Za=u.He};Z.prototype.Pf=function(b){var c=this.Ka,f=this.Ta,g,h=0;g=c.g.G;var k=this.qa.x-c.h.W.x,n=this.qa.y-c.h.W.y,h=g.j.x*k+g.k.x*n,n=g.j.y*k+g.k.y*n,k=h;g=f.g.G;var p=this.Ba.x-f.h.W.x,q=this.Ba.y-f.h.W.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=c.U;var h=f.U,t=c.fa,x=f.fa;this.Y.j.x=g+h+n*n*t+q*q*x;this.Y.k.x=-n*k*t-q*p*x;this.Y.Ja.x=-n*t-q*x;this.Y.j.y=this.Y.k.x;this.Y.k.y=g+h+k*k*t+p*p*x;this.Y.Ja.y=k*t+p*x;this.Y.j.z=this.Y.Ja.x;this.Y.k.z=this.Y.Ja.y;this.Y.Ja.z=t+x;this.Me=1/(t+
x);0==this.Wj&&(this.qb=0);if(this.ah){var y=f.h.T-c.h.T-this.aq;d.od(this.ss-this.Xp)<2*a.Kk?this.Za=u.wj:y<=this.Xp?(this.Za!=u.Eh&&(this.t.z=0),this.Za=u.Eh):y>=this.ss?(this.Za!=u.Nd&&(this.t.z=0),this.Za=u.Nd):(this.Za=u.He,this.t.z=0)}else this.Za=u.He;b.Jg?(this.t.x*=b.Kc,this.t.y*=b.Kc,this.qb*=b.Kc,b=this.t.x,y=this.t.y,c.p.x-=g*b,c.p.y-=g*y,c.I-=t*(k*y-n*b+this.qb+this.t.z),f.p.x+=h*b,f.p.y+=h*y,f.I+=x*(p*y-q*b+this.qb+this.t.z)):(this.t.Oa(),this.qb=0)};Z.prototype.of=function(a){var b=
this.Ka,c=this.Ta,f=0,g=0,h=0,k=0,n=0,p=b.p,q=b.I,t=c.p,x=c.I,y=b.U,C=c.U,B=b.fa,K=c.fa;this.Wj&&this.Za!=u.wj&&(g=this.Me*-(x-q-this.Yp),h=this.qb,k=a.Ya*this.CD,this.qb=d.Hb(this.qb+g,-k,k),g=this.qb-h,q-=B*g,x+=K*g);if(this.ah&&this.Za!=u.He){a=b.g.G;g=this.qa.x-b.h.W.x;h=this.qa.y-b.h.W.y;f=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=f;a=c.g.G;k=this.Ba.x-c.h.W.x;n=this.Ba.y-c.h.W.y;f=a.j.x*k+a.k.x*n;n=a.j.y*k+a.k.y*n;k=f;a=t.x+-x*n-p.x- -q*h;var L=t.y+x*k-p.y-q*g;this.Y.qo(this.sd,-a,-L,-(x-q));this.Za==
u.wj?this.t.Kg(this.sd):this.Za==u.Eh?(f=this.t.z+this.sd.z,0>f&&(this.Y.bm(this.ei,-a,-L),this.sd.x=this.ei.x,this.sd.y=this.ei.y,this.sd.z=-this.t.z,this.t.x+=this.ei.x,this.t.y+=this.ei.y,this.t.z=0)):this.Za==u.Nd&&(f=this.t.z+this.sd.z,0<f&&(this.Y.bm(this.ei,-a,-L),this.sd.x=this.ei.x,this.sd.y=this.ei.y,this.sd.z=-this.t.z,this.t.x+=this.ei.x,this.t.y+=this.ei.y,this.t.z=0));p.x-=y*this.sd.x;p.y-=y*this.sd.y;q-=B*(g*this.sd.y-h*this.sd.x+this.sd.z);t.x+=C*this.sd.x;t.y+=C*this.sd.y;x+=K*(k*
this.sd.y-n*this.sd.x+this.sd.z)}else a=b.g.G,g=this.qa.x-b.h.W.x,h=this.qa.y-b.h.W.y,f=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=f,a=c.g.G,k=this.Ba.x-c.h.W.x,n=this.Ba.y-c.h.W.y,f=a.j.x*k+a.k.x*n,n=a.j.y*k+a.k.y*n,k=f,this.Y.bm(this.Vg,-(t.x+-x*n-p.x- -q*h),-(t.y+x*k-p.y-q*g)),this.t.x+=this.Vg.x,this.t.y+=this.Vg.y,p.x-=y*this.Vg.x,p.y-=y*this.Vg.y,q-=B*(g*this.Vg.y-h*this.Vg.x),t.x+=C*this.Vg.x,t.y+=C*this.Vg.y,x+=K*(k*this.Vg.y-n*this.Vg.x);b.p.N(p);b.I=q;c.p.N(t);c.I=x};Z.prototype.nf=function(){var b=
0,c,f=this.Ka,g=this.Ta,h=0,k=0,n=0,p=0;if(this.ah&&this.Za!=u.He){var b=g.h.T-f.h.T-this.aq,q=0;this.Za==u.wj?(b=d.Hb(b-this.Xp,-a.wr,a.wr),q=-this.Me*b,h=d.od(b)):this.Za==u.Eh?(b-=this.Xp,h=-b,b=d.Hb(b+a.Kk,-a.wr,0),q=-this.Me*b):this.Za==u.Nd&&(h=b-=this.ss,b=d.Hb(b-a.Kk,0,a.wr),q=-this.Me*b);f.h.T-=f.fa*q;g.h.T+=g.fa*q;f.xc();g.xc()}c=f.g.G;q=this.qa.x-f.h.W.x;b=this.qa.y-f.h.W.y;k=c.j.x*q+c.k.x*b;b=c.j.y*q+c.k.y*b;q=k;c=g.g.G;var t=this.Ba.x-g.h.W.x,x=this.Ba.y-g.h.W.y,k=c.j.x*t+c.k.x*x,x=c.j.y*
t+c.k.y*x,t=k,n=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+x-f.h.o.y-b,y=n*n+p*p;c=Math.sqrt(y);var k=f.U,C=g.U,B=f.fa,K=g.fa,L=10*a.Cb;y>L*L&&(y=1/(k+C),n=y*-n,p=y*-p,f.h.o.x-=.5*k*n,f.h.o.y-=.5*k*p,g.h.o.x+=.5*C*n,g.h.o.y+=.5*C*p,n=g.h.o.x+t-f.h.o.x-q,p=g.h.o.y+x-f.h.o.y-b);this.Mg.j.x=k+C;this.Mg.k.x=0;this.Mg.j.y=0;this.Mg.k.y=k+C;this.Ng.j.x=B*b*b;this.Ng.k.x=-B*q*b;this.Ng.j.y=-B*q*b;this.Ng.k.y=B*q*q;this.lo.j.x=K*x*x;this.lo.k.x=-K*t*x;this.lo.j.y=-K*t*x;this.lo.k.y=K*t*t;this.Cd.Ck(this.Mg);this.Cd.Jq(this.Ng);
this.Cd.Jq(this.lo);this.Cd.Dk(Z.Ew,-n,-p);n=Z.Ew.x;p=Z.Ew.y;f.h.o.x-=f.U*n;f.h.o.y-=f.U*p;f.h.T-=f.fa*(q*p-b*n);g.h.o.x+=g.U*n;g.h.o.y+=g.U*p;g.h.T+=g.fa*(t*p-x*n);f.xc();g.xc();return c<=a.Cb&&h<=a.Kk};m.Fc.push(function(){m.l.M.om.Ew=new f});m.Lb(Da,m.l.M.ya);Da.prototype.na=m.l.M.ya.prototype;Da.pm=function(){m.l.M.ya.ya.apply(this,arguments);this.bd=new f;this.cd=new f};Da.prototype.pm=function(){this.na.ya.call(this);this.type=u.Or;this.bd.R(0,0);this.cd.R(0,0);this.cq=this.JD=this.aB=this.Jz=
this.ik=0;this.up=this.Um=!1};Da.prototype.qd=function(a,b,c){this.ob=a;this.yb=b;this.bd=this.ob.lf(c);this.cd=this.yb.lf(c);this.ik=this.yb.ga()-this.ob.ga()};m.Lb(qa,m.l.M.ja);qa.prototype.na=m.l.M.ja.prototype;qa.Zo=function(){m.l.M.ja.ja.apply(this,arguments);this.$e=new f;this.Xf=new f;this.t=new g;this.Y=new c};qa.prototype.Bd=function(){return this.Ka.ig(this.$e)};qa.prototype.Zo=function(a){this.na.ja.call(this,a);this.$e.N(a.bd);this.Xf.N(a.cd);this.aq=a.ik;this.t.Oa();this.Y=new c};qa.prototype.Pf=
function(a){var b,c=0,d=this.Ka,f=this.Ta;b=d.g.G;var g=this.$e.x-d.h.W.x,h=this.$e.y-d.h.W.y,c=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=c;b=f.g.G;var k=this.Xf.x-f.h.W.x,n=this.Xf.y-f.h.W.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=d.U;var c=f.U,p=d.fa,q=f.fa;this.Y.j.x=b+c+h*h*p+n*n*q;this.Y.k.x=-h*g*p-n*k*q;this.Y.Ja.x=-h*p-n*q;this.Y.j.y=this.Y.k.x;this.Y.k.y=b+c+g*g*p+k*k*q;this.Y.Ja.y=g*p+k*q;this.Y.j.z=this.Y.Ja.x;this.Y.k.z=this.Y.Ja.y;this.Y.Ja.z=p+q;a.Jg?(this.t.x*=a.Kc,this.t.y*=a.Kc,this.t.z*=
a.Kc,d.p.x-=b*this.t.x,d.p.y-=b*this.t.y,d.I-=p*(g*this.t.y-h*this.t.x+this.t.z),f.p.x+=c*this.t.x,f.p.y+=c*this.t.y,f.I+=q*(k*this.t.y-n*this.t.x+this.t.z)):this.t.Oa()};qa.prototype.of=function(){var a,b=0,c=this.Ka,d=this.Ta,f=c.p,h=c.I,k=d.p,n=d.I,p=c.U,q=d.U,t=c.fa,u=d.fa;a=c.g.G;var x=this.$e.x-c.h.W.x,y=this.$e.y-c.h.W.y,b=a.j.x*x+a.k.x*y,y=a.j.y*x+a.k.y*y,x=b;a=d.g.G;var C=this.Xf.x-d.h.W.x,B=this.Xf.y-d.h.W.y,b=a.j.x*C+a.k.x*B,B=a.j.y*C+a.k.y*B,C=b;a=k.x-n*B-f.x+h*y;var b=k.y+n*C-f.y-h*x,
K=n-h,L=new g;this.Y.qo(L,-a,-b,-K);this.t.Kg(L);f.x-=p*L.x;f.y-=p*L.y;h-=t*(x*L.y-y*L.x+L.z);k.x+=q*L.x;k.y+=q*L.y;n+=u*(C*L.y-B*L.x+L.z);c.I=h;d.I=n};qa.prototype.nf=function(){var b,c=0,f=this.Ka,h=this.Ta;b=f.g.G;var k=this.$e.x-f.h.W.x,n=this.$e.y-f.h.W.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=h.g.G;var p=this.Xf.x-h.h.W.x,q=this.Xf.y-h.h.W.y,c=b.j.x*p+b.k.x*q,q=b.j.y*p+b.k.y*q,p=c;b=f.U;var c=h.U,t=f.fa,u=h.fa,x=h.h.o.x+p-f.h.o.x-k,y=h.h.o.y+q-f.h.o.y-n,C=h.h.T-f.h.T-this.aq,B=10*a.Cb,K=
Math.sqrt(x*x+y*y),L=d.od(C);K>B&&(t*=1,u*=1);this.Y.j.x=b+c+n*n*t+q*q*u;this.Y.k.x=-n*k*t-q*p*u;this.Y.Ja.x=-n*t-q*u;this.Y.j.y=this.Y.k.x;this.Y.k.y=b+c+k*k*t+p*p*u;this.Y.Ja.y=k*t+p*u;this.Y.j.z=this.Y.Ja.x;this.Y.k.z=this.Y.Ja.y;this.Y.Ja.z=t+u;B=new g;this.Y.qo(B,-x,-y,-C);f.h.o.x-=b*B.x;f.h.o.y-=b*B.y;f.h.T-=t*(k*B.y-n*B.x+B.z);h.h.o.x+=c*B.x;h.h.o.y+=c*B.y;h.h.T+=u*(p*B.y-q*B.x+B.z);f.xc();h.xc();return K<=a.Cb&&L<=a.Kk};m.Lb(Ea,m.l.M.ya);Ea.prototype.na=m.l.M.ya.prototype;Ea.$o=function(){m.l.M.ya.ya.apply(this,
arguments);this.bd=new f;this.cd=new f};Ea.prototype.$o=function(){this.na.ya.call(this);this.type=u.Ry;this.ik=0};Ea.prototype.qd=function(a,b,c){this.ob=a;this.yb=b;this.bd.N(this.ob.lf(c));this.cd.N(this.yb.lf(c));this.ik=this.yb.ga()-this.ob.ga()}})();(function(){var a=m.l.Qe;a.Qe=function(){};a.prototype.Qe=function(){}})();var s;for(s=0;s<m.Fc.length;++s)m.Fc[s]();delete m.Fc;var da={autoplay:!1,duration:5E3,Wr:[],loop:!1,placeholder:"--",Ds:"metadata",volume:80},ea={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},fa=[],ga=document.createElement("audio");
function ha(a,b){function c(a,b){var c=document.createElement("source");c.src=b;ea[b.split(".").pop()]&&(c.type=ea[b.split(".").pop()]);a.appendChild(c)}b=b||{};var d=[],f=!!ga.canPlayType;this.load=function(){if(!f)return this;this.vc.load();return this};this.play=function(){if(!f)return this;this.vc.play();return this};this.pause=function(){if(!f)return this;this.vc.pause();return this};this.hD=function(){return f?this.vc.paused:null};this.stop=function(){if(!f)return this;this.setTime(0);this.vc.pause();
return this};this.loop=function(){if(!f)return this;this.vc.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()});return this};this.Vi=function(){if(!f)return this;this.vc.muted=!0;return this};this.kh=function(a){f&&(0>a&&(a=0),100<a&&(a=100),this.volume=a,this.vc.volume=a/100)};this.setTime=function(a){if(!f)return this;this.iB(function(){this.vc.currentTime=a});return this};this.getTime=function(){if(!f)return null;var a=Math.round(100*this.vc.currentTime)/100;return isNaN(a)?
da.placeholder:a};this.av=function(){if(!f)return null;var a=Math.round(100*this.vc.duration)/100;return isNaN(a)?da.placeholder:a};this.set=function(a,b){if(!f)return this;this.vc[a]=b;return this};this.get=function(a){return f?a?this.vc[a]:this.vc:null};this.bind=function(a,b){function c(a){b.call(g,a)}if(!f)return this;a=a.split(" ");for(var g=this,h=0;h<a.length;h++){var k=a[h],x=k,k=x.split(".")[0];d.push({sG:x,rG:c});this.vc.addEventListener(k,c,!0)}return this};this.NC=function(a,b){function c(){setTimeout(function(){0>
d&&0>h.volume?(h.kh(h.volume+=1),c()):0<d&&0<h.volume?(h.kh(--h.volume),c()):b instanceof Function&&b.apply(h)},g)}if(f){a instanceof Function?(b=a,a=da.duration):a=a||da.duration;var d=this.volume,g=a/Math.abs(d-0),h=this;this.play();this.iB(function(){c()})}};this.Wy=function(a,b){f&&this.NC(a,b)};this.iB=function(a){if(f){var b=this;0===this.vc.readyState?this.bind("canplay.buzzwhenready",function(){a.call(b)}):a.call(b)}};if(f&&a){for(var g in da)da.hasOwnProperty(g)&&(b[g]=b[g]||da[g]);this.vc=
document.createElement("audio");if(a instanceof Array)for(var h in a)a.hasOwnProperty(h)&&c(this.vc,a[h]);else if(b.Wr.length)for(var k in b.Wr)b.Wr.hasOwnProperty(k)&&c(this.vc,a+"."+b.Wr[k]);else c(this.vc,a);b.loop&&this.loop();b.autoplay&&(this.vc.autoplay="autoplay");this.vc.Ds=!0===b.Ds?"auto":!1===b.Ds?"none":b.Ds;this.kh(b.volume);fa.push(this)}};var ja={Menu:"complex",Interlude:"complex","Hive 1":"kickit","Hive 2":"breakthru","Hive 3":"emergence","Hive 4":"fire",Tessellation:"driven","Final Tessellation":"wicked"},ka={driven:27.46,wicked:2.922},la={impulse:"effects/impulse",pdeath:"effects/pdeath",ffrenzy:"effects/ffrenzy",sparks:"effects/sparks",ult:"effects/ult",pwheel:"effects/pwheel",goo:"effects/goo",sshot:"effects/sshot",deathray:"effects/deathray",b1hit:"effects/b1hit",b1shrink:"effects/b1shrink",b1grow:"effects/b1grow",b2bhole:"effects/b2bhole",
b3strike:"effects/b3strike",b3select:"effects/b3select",b4spawner:"effects/b4spawner",b4attacker:"effects/b4attacker",b4darkness:"effects/b4darkness"},ma={b3tick:{file:"effects/b3tick",Ui:2},sdeath:{file:"effects/sdeath",Ui:4},tdeath:{file:"effects/tdeath",Ui:4},hfire:{file:"effects/hfire",Ui:2},hhit:{file:"effects/hhit",Ui:2},fbullet:{file:"effects/fbullet",Ui:4},fbullethit:{file:"effects/fbullethit",Ui:4},b2eat:{file:"effects/b2eat",Ui:4},b4spawneract:{file:"effects/b4spawneract",Ui:2}},na={"Hive 0":"bg/hive0",
"Title Alt1":"bg/titlebg_alt1","Title Alt2":"bg/titlebg_alt2","Title Alt3":"bg/titlebg_alt3","Title Alt4":"bg/titlebg_alt4","Hive 1":"bg/hive1","Hive 2":"bg/hive2","Hive 3":"bg/hive3","Hive 4":"bg/hive4"},oa={1:"IGNAVIAM",2:"CONSUMENDI",3:"NEGLIGENTIA",4:"ADROGANTIA"},pa=[{Lp:4,Xc:500},{Lp:5,Xc:1E3},{Lp:6,Xc:2E3},{Lp:7,Xc:5E3},{Lp:8,Xc:7E3},{Lp:9,Xc:1E4}],sa=[{ct:1,Xc:50},{ct:2,Xc:3E3},{ct:3,Xc:8E3}],ta=[{hi:11,Xc:200},{hi:12,Xc:750},{hi:13,Xc:1500},{hi:14,Xc:4E3},{hi:15,Xc:6E3},{hi:16,Xc:9E3}],ua=
{},va,wa,xa;for(xa in ma)la[xa]=ma[xa].file;
var z={bronze:"#cc8032",silver:"#c0c0c0",impulse_target_blue:"rgba(0, 128, 255, 0.2)",impulse_blue:"rgb(0, 128, 255)",impulse_blue_dark:"#13527e",gold:"#edb900","world 0":"#333","world 0 lite":"#999","world 0 bright":"#fff","world 0 dark":"#080808","world 1":"#034903","world 1 lite":"#046a04","world 1 bright":"#00ff00","world 1 dark":"#000d00","world 2":"#0020b0","world 2 lite":"#0028dd","world 2 bright":"#003DFF","world 2 dark":"#010310","world 3":"#450555","world 3 lite":"#5f0775","world 3 dark":"#0f0013",
"world 3 bright":"#C000FF","world 4":"#600","world 4 lite":"#a00","world 4 dark":"#180000","world 4 bright":"#f00",player_color:"rgb(32, 140, 231)",boss:"red","boss dark":"#900","boss 1":"#05c205","boss 2":"#002eff","boss 3":"#C000FF","boss 4":"#f00"};
function ya(){var a=D.Kb+" "+D.zc;"left mouse"==a?ua={Wq:37,ar:38,Zq:39,Mq:40,ij:13,ut:71,Bk:27,Qq:16,zt:77,qt:70,hx:39,Dx:37,Yq:16,yx:39,gx:37,zx:39,dx:40,wx:13}:"right mouse"==a?ua={Wq:65,ar:87,Zq:68,Mq:83,ij:81,ut:71,Bk:27,Qq:32,zt:77,qt:70,hx:69,Yq:82,Dx:83,yx:81,gx:69,zx:82,dx:68,wx:32}:"right keyboard"==a&&(ua={Wq:37,ar:38,Zq:39,Mq:40,ij:81,ut:71,Bk:27,qx:65,sx:87,rx:68,px:83,Qq:32,zt:77,qt:70,hx:69,Yq:82,Dx:83,yx:81,gx:69,zx:82,dx:68,wx:32,UF:69})};function za(a,b,c,d,f){a.beginPath();a.moveTo(b+d*Math.cos(3*Math.PI/2),c+d*Math.sin(3*Math.PI/2));a.lineTo(b+d*Math.cos(1*Math.PI/6),c+d*Math.sin(1*Math.PI/6));a.lineTo(b+d*Math.cos(5*Math.PI/6),c+d*Math.sin(5*Math.PI/6));a.closePath();a.globalAlpha=.5;a.fillStyle=z[f];a.fill();a.globalAlpha=1;a.strokeStyle=z[f];a.lineWidth=Math.ceil(d/7.5);a.stroke()}
function Aa(a,b,c,d,f){a.beginPath();a.moveTo(b+d*Math.cos(3*Math.PI/2),c+d*Math.sin(3*Math.PI/2));a.lineTo(b+d*Math.cos(1*Math.PI/6),c+d*Math.sin(1*Math.PI/6));a.lineTo(b+d*Math.cos(5*Math.PI/6),c+d*Math.sin(5*Math.PI/6));a.closePath();a.strokeStyle=f?f:z.impulse_blue;a.lineWidth=Math.ceil(d/7.5);a.stroke()}function Ba(a,b,c,d,f,g,h){a.beginPath();a.arc(b*E,c*E,d*E*2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI*f,!0);a.lineWidth=h?h:2;a.strokeStyle=g;a.stroke()}
function Ca(a,b,c,d,f){a.moveTo(b*E,c*E-d*E*2);a.arc(b*E,c*E,d*E*2,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*f,!0)}
function Fa(a,b,c,d,f,g){void 0===g&&(g=1);a.save();for(var h=a.shadowBlur=0;h<c.length;h++)if(!1!==c[h].visible){var k=c[h],n=c[h].ba,q=c[h].color?c[h].color:f;a.beginPath();if("polygon"==k.type){a.moveTo(g*(k.x+k.X*n[0][0])*E,g*(k.y+k.X*n[0][1])*E);for(var p=1;p<n.length;p++)a.lineTo(g*(k.x+k.X*n[p][0])*E,g*(k.y+k.X*n[p][1])*E)}a.closePath();p=F[d].vz;a.fillStyle=q;"normal"==b&&p&&(a.fillStyle=p);a.fillStyle="black";"lighten"!=b&&a.fill();a.strokeStyle=q;a.lineWidth=2*Math.sqrt(g);"lighten"==b&&
(a.strokeStyle="black",a.lineWidth=4*Math.sqrt(g));a.stroke()}if(b=F[d].Uy){a.beginPath();for(p=0;p<b.length;p++)a.moveTo(g*b[p][0][0]*E,g*b[p][0][1]*E),a.lineTo(g*b[p][1][0]*E,g*b[p][1][1]*E);a.strokeStyle="black";a.lineWidth=3;a.globalAlpha=1;a.stroke()}b=F[d].Vy;d=F[d].K;if("undefined"!==typeof b)for(c=0;c<b.length;c++)a.beginPath(),f=b[c],a.moveTo(g*d*f.x1*E,g*d*f.y1*E),a.lineTo(g*d*f.x2*E,g*d*f.y2*E),a.lineWidth=2,a.strokeStyle=q,a.stroke();a.restore()}
function Ga(a,b,c,d,f,g,h,k){"boss"!=b.slice(b.length-4)&&(a.save(),a.translate(c,d),g&&a.rotate(g),void 0===h&&(h="normal"),c=F[b].K*E*Ha.prototype.Xm,f=null==f?c:f*Math.min(F[b].K/1.5,1),Ia(a,b,f,h,k),a.restore())}
function Ia(a,b,c,d,f){void 0===f&&(f=F[b].className.prototype.cl(d),f||(f=F[b].color));var g=F[b].Kr;g||(g=F[b].cc);Fa(a,d,g,b,f,c/(Ha.prototype.Xm*F[b].K*E));d=F[b].className.prototype.cl(d);d||(d=F[b].color);if("undefined"!==typeof F[b].Aj)for(f=0;f<F[b].Aj.length;f++)g=F[b].Aj[f],g.Du?Ja(a,0,0,g,c,d):Ja(a,0,0,g,c,d,1,0,"black")}function Ka(a,b,c,d,f,g){a.save();a.translate(c,d);g&&a.rotate(g);Ia(a,b,F[b].images.normal.height*f/2,"normal");a.restore()}var La={0:1.4,1:1,2:1.4,3:1.4,4:1.6};
function Ma(a,b,c,d,f,g,h){f*=La[b];a.save();g&&(a.globalAlpha*=.5,1==b&&G(a,c,d,Math.PI/4,2*f,2*f,Na[b],Oa[b]),G(a,c,d,Math.PI/4,1.5*f,1.5*f,Na[b],Oa[b]));a.restore();a.save();a.translate(c,d);a.rotate((h?h:0)+(4!=b&&2!=b?Math.PI/4:0));G(a,0,0,0,f,f,Pa[b],Oa[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle=z["boss "+b],a.stroke());a.restore()}
function Qa(a,b,c,d,f){f*=La[b];a.save();a.translate(c,d);4!=b&&2!=b&&a.rotate(Math.PI/4);G(a,0,0,0,f,f,Ra[b],Oa[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle="gray",a.stroke());a.restore()}
function Sa(a,b,c,d,f,g){a.save();a.shadowColor=f;a.shadowBlur=0;Ta(a,b,c-d,.9*d,.9*d,.2*d,f);Ta(a,b-d,c,.9*d,.9*d,.2*d,f);Ta(a,b,c,.9*d,.9*d,.2*d,f);Ta(a,b+d,c,.9*d,.9*d,.2*d,f);a.fillStyle=f;a.font=.4*d+"px Muli";a.textAlign="center";g?(a.fillText(g[0],b,c-1*d),a.fillText(g[1],b-d,c+0*d),a.fillText(g[2],b,c+0*d),a.fillText(g[3],b+d,c+0*d),Ua(a,b,c-.8*d,.3*d,"up",f),Ua(a,b-d,c+.2*d,.3*d,"left",f),Ua(a,b,c+.2*d,.3*d,"down",f),Ua(a,b+d,c+.2*d,.3*d,"right",f)):(Ua(a,b,c-d,.5*d,"up",f),Ua(a,b-d,c,.5*
d,"left",f),Ua(a,b,c-2,.5*d,"down",f),Ua(a,b+d,c,.5*d,"right",f));a.restore()}function Va(a,b,c,d,f,g){a.save();a.fillStyle=g;Ta(a,b,c,d,f,.25*f,g);a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Wa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Ta(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b-d/2,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Xa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Ta(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Ta(a,b,c,d,f,g,h){a.save();a.shadowColor=h;a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2+g,c-f/2);a.arcTo(b+d/2,c-f/2,b+d/2,c+f/2,g);a.arcTo(b+d/2,c+f/2,b-d/2,c+f/2,g);a.arcTo(b-d/2,c+f/2,b-d/2,c-f/2,g);a.arcTo(b-d/2,c-f/2,b+d/2,c-f/2,g);a.closePath();a.strokeStyle=h;a.lineWidth=2;a.stroke();a.restore()}function Ya(a,b,c,d){a.save();a.beginPath();a.rect(b-15,c-15,30,30);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.fillStyle=d;a.font="20px Muli";a.fillText("f",b,c+7.5);a.restore()}
function Za(a,b,c,d,f,g){a.save();var h=2*Math.PI/24;a.beginPath();for(var k=0;6>k;k++)0==k?a.moveTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))):a.lineTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))),a.lineTo(b-15*Math.cos(h*(4*k+.6)),c-15*Math.sin(h*(4*k+.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+1.6)),c-11.25*Math.sin(h*(4*k+1.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+2.6)),c-11.25*Math.sin(h*(4*k+2.6)));a.closePath();a.fillStyle=d;a.fill();g&&(a.globalAlpha/=2);a.beginPath();a.arc(b,
c,7.5,0,1.998*Math.PI);a.fillStyle=f;a.fill();a.restore()}function $a(a,b,c,d){a.save();a.beginPath();a.arc(b,c-5,5,0,2*Math.PI,!0);a.moveTo(b,c+12.5);a.arc(b,c+12.5,10,0,Math.PI,!0);a.fillStyle=d;a.fill();a.restore()}function ab(a,b,c,d){a.save();a.beginPath();a.moveTo(b,c-13/3);a.lineTo(b-13,c-26/3);a.lineTo(b-13,c+26/3);a.lineTo(b,c+13);a.moveTo(b,c+13);a.lineTo(b,c-13/3);a.lineTo(b+13,c-26/3);a.lineTo(b+13,c+26/3);a.lineTo(b,c+13);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.restore()}
function bb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,2*Math.PI/5,Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.arc(b,c,9.75,7*Math.PI/5,2*Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b-2.4375,c);a.lineTo(b-15.4375,c);a.lineTo(b-8.9375,c-6.5);a.moveTo(b+2.4375,c);a.lineTo(b+15.4375,c);a.lineTo(b+8.9375,c+6.5);a.fillStyle=d;a.fill();a.restore()}
function cb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,3*Math.PI/2,3*Math.PI/4);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b,c-2.4375);a.lineTo(b,c-15.4375);a.lineTo(b-6.5,c-8.9375);a.fillStyle=d;a.fill();a.restore()}function db(a,b,c,d,f){a.save();eb(a,b,c,d/2,f);a.beginPath();a.arc(b,c,d,7*Math.PI/6,11*Math.PI/6);a.lineWidth=Math.ceil(d/6);a.strokeStyle=f;a.stroke();a.restore()}
function eb(a,b,c,d,f){a.beginPath();a.arc(b,c,d,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill();a.beginPath();a.arc(b,c,4*d/5,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle="black";a.fill();a.beginPath();a.arc(b,c,11*d/20,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill()}
function fb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.moveTo(b-12,c-12);a.lineTo(b-12,c+12);a.lineTo(b+12,c+12);a.lineTo(b+12,c-12);a.lineTo(b,c-12);a.lineTo(b,c);a.lineWidth=5;a.stroke();a.beginPath();a.moveTo(b-7,c-3);a.lineTo(b+7,c-3);a.lineTo(b,c+4);a.fill();a.restore()}
function gb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.arc(b,c,12.6,0,2*Math.PI,!0);a.lineWidth=3;a.stroke();a.beginPath();a.lineWidth=4;a.moveTo(b,c-7.2);a.lineTo(b,c+3.6);a.moveTo(b,c+18*.3);a.lineTo(b,c+7.2);a.stroke();a.restore()}
function hb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-3*d/8,c-d/4);a.lineTo(b+3*d/8,c-d/4);a.moveTo(b-d/4,c-d/4);a.lineTo(b-d/4,c+d/2);a.lineTo(b+d/4,c+d/2);a.lineTo(b+d/4,c-d/4);a.moveTo(b-d/8,c-d/8);a.lineTo(b-d/8,c+3*d/8);a.moveTo(b,c-d/8);a.lineTo(b,c+3*d/8);a.moveTo(b+d/8,c-d/8);a.lineTo(b+d/8,c+3*d/8);a.moveTo(b-d/8,c-d/4);a.lineTo(b-d/8,c-3*d/8);a.lineTo(b+d/8,c-3*d/8);a.lineTo(b+d/8,c-d/4);a.strokeStyle=f;a.lineWidth=2;a.stroke();a.restore()}
function ib(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2,c-d/2);a.lineTo(b+d/2,c+d/2);a.moveTo(b-d/2,c+d/2);a.lineTo(b+d/2,c-d/2);a.strokeStyle=f;a.lineWidth=5;a.stroke();a.restore()}function jb(a,b,c,d){a.save();a.translate(b,c);a.transform(1,-.35,0,1,0,0);a.translate(-b,-c);a.beginPath();a.moveTo(b-10,c);a.lineTo(b+10,c);a.moveTo(b-10,c+10);a.lineTo(b+10,c+10);a.lineWidth=6;a.strokeStyle=d;a.stroke();a.restore()}
function kb(a,b,c,d){a.save();a.beginPath();a.rect(b-5,c-10,10,10);a.rect(b-10,c,10,10);a.rect(b,c,10,10);a.strokeStyle=d;a.lineWidth=4;a.stroke();a.restore()}
function lb(a,b,c,d){a.save();a.translate(20/3,0);a.beginPath();a.moveTo(b-20/3,c+10);a.lineTo(b-20/3,c-20/6);a.lineTo(b+20/3,c-40/6);a.lineTo(b+20/3,c+40/6);a.lineWidth=4;a.strokeStyle=d;a.stroke();var f=b-10,g=c+10;a.save();a.translate(f,g);a.scale(1.3,1);a.translate(-f,-g);a.beginPath();a.arc(f,g,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();a.restore();b+=20/6;c+=20/3;a.save();a.translate(b,c);a.scale(1.3,1);a.translate(-b,-c);a.beginPath();a.arc(b,c,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();
a.restore();a.restore()}
function mb(a,b,c,d,f,g){a.save();a.beginPath();a.moveTo(b-.3*d-d/2*.75,c-d/2*.6);a.lineTo(b-.3*d,c-d/2*.6);a.lineTo(b-.3*d+d/2*.75,c-.6*d);a.lineTo(b-.3*d+d/2*.75,c+.6*d);a.lineTo(b-.3*d,c+d/2*.6);a.lineTo(b-.3*d-d/2*.75,c+d/2*.6);a.fillStyle=f;a.fill();g?(a.beginPath(),a.arc(b-.3*d+.75*d,c,d/2*.45,0,2*Math.PI,!0),a.moveTo(b-.3*d+.75*d-Math.cos(Math.PI/4)*d/2*.45,c-Math.cos(Math.PI/4)*d/2*.45),a.lineTo(b-.3*d+.75*d+Math.cos(Math.PI/4)*d/2*.45,c+Math.cos(Math.PI/4)*d/2*.405),a.lineWidth=2,a.strokeStyle=
f):(a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2*.6,-Math.PI/3,Math.PI/3,!1),a.lineWidth=2,a.strokeStyle=f,a.stroke(),a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2,-Math.PI/3,Math.PI/3,!1));a.stroke();a.restore()}
function Ja(a,b,c,d,f,g,h,k,n){h="undefined"!==typeof h?h:1;k="undefined"!==typeof k?k:0;a.beginPath();a.save();0!=k&&(a.translate(b,c),a.rotate(k),a.translate(-b,-c));"circle"==d.type&&a.arc(b+d.x,c+d.y,f*d.X,0,1.998*Math.PI);if("polygon"==d.type){a.moveTo(b+(d.x+d.ba[0][0]*d.X)*f,c+(d.y+d.ba[0][1]*d.X)*f);for(k=1;k<d.ba.length;k++)a.lineTo(b+(d.x+d.ba[k][0]*d.X)*f,c+(d.y+d.ba[k][1]*d.X)*f);a.closePath()}a.globalAlpha*=h;a.fillStyle=g;n&&"none"!=n?a.fillStyle=n:a.globalAlpha/=3;"none"!=n&&a.fill();
n&&"none"!=n||(a.globalAlpha*=3);a.strokeStyle=g;a.lineWidth=2;a.stroke();a.restore()}
function Ua(a,b,c,d,f,g,h){h=void 0==h?!1:h;a.save();a.translate(b,c);"left"==f?a.rotate(Math.PI):"up"==f?a.rotate(3*Math.PI/2):"down"==f&&a.rotate(Math.PI/2);a.beginPath();a.moveTo(Math.cos(0)*d/2,Math.sin(0)*d/2);a.lineTo(Math.cos(2*Math.PI/3)*d/2,Math.sin(2*Math.PI/3)*d/2);a.lineTo(Math.cos(4*Math.PI/3)*d/2,Math.sin(4*Math.PI/3)*d/2);a.closePath();a.fillStyle=g;h?(a.shadowBlur=10,a.shadowColor=g):a.shadowBlur=0;a.fill();a.restore()}
function ob(a,b,c){a.save();a.textAlign="center";a.shadowColor=z.impulse_blue;a.shadowBlur=0;a.fillStyle="white";a.drawImage(pb,b-pb.width/2*.85,c-.6375*pb.height,.85*pb.width,.85*pb.height);a.font="16px Muli";a.fillText("MARK ZHANG",b,c+40);a.restore()}
function qb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.rect(c-100,d-75,200,150);a.clip();a.beginPath();a.rect(c-100,d-75,200,150);a.save();a.globalAlpha*=.3;a.fillStyle=f;a.fill();a.restore();var g=null;"easy"==J&&(g=N[b].gf);g||(g=N[b].Ma);if(g){for(b=0;b<g.length;b++){a.beginPath();a.moveTo(c-100+g[b][0][0]/O*200,d-75+g[b][0][1]/P*150);for(var h=1;h<g[b].length;h++)a.lineTo(c-100+g[b][h][0]/O*200,d-75+g[b][h][1]/P*150);a.closePath();a.fillStyle="black";a.strokeStyle=f;a.lineWidth=2;a.stroke();
a.fill()}a.restore();a.save();a.beginPath();a.shadowBlur=0;a.rect(c-100,d-75,200,150);a.lineWidth=2;a.strokeStyle=f;a.stroke();a.restore()}}
function rb(){var a=document.createElement("canvas");a.width=400;a.height=400;var b=a.getContext("2d");b.globalAlpha=.2;G(b,a.width/2,a.height/2,0,.7*a.width,.7*a.height,"ultimate");b.globalAlpha=1;for(var c=0;48>c;c++){var d=c%2?.4*a.width:.42*a.width;G(b,a.width/2+d*Math.cos(c*Math.PI*2/48),a.height/2+d*Math.sin(c*Math.PI*2/48),2*Math.PI/48*c,32,18,"ultimate_shard")}return a}function sb(a){var b=new Image;b.src=a;return b}
var tb=sb("art/sprites.png"),ub={player_normal:[0,0,40,40],player_red:[40,-1,40,40],player_yellow:[80,0,41,41],player_gray:[120,0,41,41],player_green:[160,0,41,41],player_white:[200,0,40,40],spark:[0,41,40,40],multi:[0,81,40,40],white_glow:[40,40,100,100],ultimate:[148,41,150,150],lives_icon:[0,0,40,40],sparks_icon:[0,41,40,40],ultimate_icon:[0,155,42,42],ultimate_icon_blue:[43,155,42,42],ultimate_shard:[0,121,18,32],world1_starblank:[85,199,41,38],world1_starhalf:[127,199,19,38],world1_star:[127,
199,41,38],world2_starblank:[85,237,41,38],world2_starhalf:[127,237,19,38],world2_star:[127,237,41,38],world3_starblank:[0,199,41,38],world3_starhalf:[42,199,19,38],world3_star:[42,199,41,38],world4_starblank:[0,237,41,38],world4_starhalf:[42,237,19,38],world4_star:[42,237,41,38],silver_trophy:[0,277,90,78],gold_trophy:[89,277,90,78],world1_timer:[189,211,48,61],world2_timer:[241,211,48,61],world3_timer:[189,277,48,62],world4_timer:[241,277,48,62],spark_powerup:[310,6,37,36],multi_powerup:[310,58,
37,36],ult_powerup:[304,105,49,48],immunitas_arm:[0,0,90,90],immunitas_arm_red:[150,135,90,90],immunitas_hand:[90,0,90,90],immunitas_hand_red:[240,135,90,90],immunitas_logo_gray:[330,135,90,90],immunitas_head:[0,90,108,108],immunitas_head_red:[450,123,108,108],immunitas_glow:[180,0,135,135],immunitas_red_glow:[315,0,135,135],immunitas_aura:[450,0,123,123],immunitas_aura_red:[573,0,123,123],immunitas_arrow:[0,200,70,70],immunitas_lockon:[573,123,120,120],consumendi_head:[0,0,180,180],consumendi_head_red:[720,
136,135,135],consumendi_aura:[181,0,269,269],consumendi_small_diamond:[94,180,30,56],consumendi_small_diamond_filled:[64,180,30,56],consumendi_small_arrow:[124,180,30,16],consumendi_glow:[720,0,135,135],consumendi_logo:[450,0,120,119],consumendi_mini:[450,119,120,120],consumendi_mini_gray:[570,0,120,120],negligentia_head:[0,0,180,180],negligentia_head_red:[0,180,180,180],negligentia_arm_striking:[180,0,244,100],negligentia_arm_striking_red:[180,100,244,100],negligentia_wheel:[424,0,134,134],negligentia_wheel_red:[424,
270,134,134],negligentia_wheel_complete:[423,135,135,135],negligentia_glow:[560,0,115,115],negligentia_glow_red:[560,115,115,115],negligentia_aura:[559,270,39,65],negligentia_aura_open:[598,270,39,65],negligentia_arm_ring:[180,200,180,180],negligentia_logo:[680,0,120,120],negligentia_logo_gray:[680,120,120,120],adrogantia_attack_bud:[0,0,80,80],adrogantia_spawner:[0,80,80,80],adrogantia_body_bud:[80,0,80,80],adrogantia_attack_bud_firing:[80,80,80,80],adrogantia_body_bud_red:[80,160,80,80],adrogantia_head:[181,
1,160,160],adrogantia_head_red:[181,161,160,160],adrogantia_glow:[340,0,135,135],adrogantia_logo:[476,0,125,125],adrogantia_logo_gray:[476,125,125,125],generated_ultimate:[0,0,400,400]},vb=sb("art/immunitas_sprite.png"),wb=sb("art/consumendi_sprite.png"),xb=sb("art/negligentia_sprite.png"),yb=sb("art/adrogantia_sprite.png"),pb=sb("art/logo.png"),Na={0:"white_glow",1:"immunitas_glow",2:"consumendi_glow",3:"negligentia_glow",4:"adrogantia_glow"},Pa={0:"ultimate",1:"immunitas_arm",2:"consumendi_logo",
3:"negligentia_logo",4:"adrogantia_logo"},Ra={0:"world_logo",1:"immunitas_logo_gray",2:"consumendi_mini_gray",3:"negligentia_logo_gray",4:"adrogantia_logo_gray"},Oa={0:tb,1:vb,2:wb,3:xb,4:yb},zb={},Ab;for(Ab in na)zb[Ab]=sb("art/"+na[Ab]+".png");function G(a,b,c,d,f,g,h,k){k="undefined"!==typeof k?k:tb;a.save();a.translate(b,c);a.rotate(d);a.drawImage(k,ub[h][0],ub[h][1],ub[h][2],ub[h][3],-f/2,-g/2,f,g);a.restore()}
function Bb(a,b,c,d,f,g,h){var k=h.width,n=h.height;a.save();a.translate(b,c);a.rotate(d);a.drawImage(h,0,0,k,n,-f/2,-g/2,f,g);a.restore()}function Cb(a,b,c,d,f){f=zb[f];var g=f.width,h=f.height;a.save();a.rect(0,b,c-0,d-b);a.clip();for(var k=0;k<c;k+=g)for(var n=b;n<d;n+=h)a.drawImage(f,0,0,g,h,k,n,g,h);a.restore()}
function Db(a,b,c,d,f){"half"==f?(G(a,b-24,c,0,20,20,"world"+d+"_starblank"),G(a,b-28.8,c,0,12*.8,20,"world"+d+"_starhalf"),G(a,b,c,0,20,20,"world"+d+"_starblank"),G(a,b+24,c,0,20,20,"world"+d+"_starblank")):"basic"==f?(G(a,b-24,c,0,20,20,"world"+d+"_star"),G(a,b,c,0,20,20,"world"+d+"_starblank"),G(a,b+24,c,0,20,20,"world"+d+"_starblank")):"silver"==f?(G(a,b-24,c,0,20,20,"world"+d+"_star"),G(a,b,c,0,20,20,"world"+d+"_star"),G(a,b+24,c,0,20,20,"world"+d+"_starblank")):"gold"==f&&(G(a,b-24,c,0,20,20,
"world"+d+"_star"),G(a,b,c,0,20,20,"world"+d+"_star"),G(a,b+24,c,0,20,20,"world"+d+"_star"))}function Eb(a,b,c,d,f){var g=z.gold;a.save();a.beginPath();a.translate(b-d,c-f);a.scale(d,f);a.arc(1,1,1,0,2*Math.PI,!1);a.restore();a.save();g&&(a.strokeStyle=g);a.stroke();a.restore()}
draw_enemy_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();a.save();a.globalAlpha*=.2;G(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();Ga(a,f,b,c,30)};
draw_quest_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();"beat_hive"==f&&(Ma(a,1,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=z.impulse_blue,a.stroke());"final_boss"==f&&(Ma(a,4,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+
.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=z.impulse_blue,a.stroke());"first_gold"==f&&(a.save(),a.globalAlpha*=.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c,0,.8*d,.8*d,"gold_trophy"));if("combo"==f){a.save();a.globalAlpha*=.2;G(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();G(a,b,c-d/4,0,.4*d,.4*d,"player_normal");a.beginPath();a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1);a.strokeStyle=z.impulse_blue;a.stroke();for(var g=[Math.PI/2,.36*Math.PI,.64*Math.PI,
.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++){var k=g[h];Bb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),k,10,10,F.stunner.images.normal)}}if("combo"==f)for(a.save(),a.globalAlpha*=.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=z.impulse_blue,a.stroke(),g=[Math.PI/2,.36*Math.PI,.64*Math.PI,.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++)k=g[h],Bb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),
k,10,10,F.stunner.images.normal);"high_roller"==f&&(a.save(),a.globalAlpha*=.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.65*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=z.impulse_blue,a.stroke(),a.fillStyle=z.gold,a.textAlign="center",a.font="12px Muli",a.fillText("250K",b,c+d/2));"blitz_hive"==f.substring(0,10)&&(a.save(),a.globalAlpha*=.2,g=f.substring(10),"1"==g?G(a,b,c,0,1.2*d,1.2*d,"immunitas_glow",vb):"2"==g?G(a,b,c,0,
1.2*d,1.2*d,"consumendi_glow",wb):"3"==g?G(a,b,c,0,1.2*d,1.2*d,"negligentia_glow",xb):"4"==g&&G(a,b,c,0,1.2*d,1.2*d,"adrogantia_glow",yb),a.restore(),G(a,b,c,0,.8*d,.8*d,"world"+f.substring(10)+"_timer"));if("survivor"==f)for(a.save(),a.globalAlpha*=.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c,0,.4*d,.4*d,"player_normal"),h=0;8>h;h++)k=2*Math.PI*h/4+Math.PI/4,Bb(a,b+.5*d*Math.cos(k),c+.5*d*Math.sin(k),Math.PI/2+k,15,15,F.spear.images.normal);"fast_time"==f&&(a.save(),a.globalAlpha*=
.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c,0,.7*d,.7*d,"timer_icon"));"pacifist"==f&&(a.save(),a.globalAlpha*=.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c+.2*d,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Eb(a,b,c-.2*d,d/6,d/12),a.restore());"beat_hard"==f&&(a.save(),a.globalAlpha*=.1,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,b,c,0,d,d,"ultimate_icon"));"untouchable"==f&&(a.save(),a.globalAlpha*=.2,G(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),G(a,
b,c,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Eb(a,b,c,.45*d,.45*d),Eb(a,b,c,.55*d,.55*d),a.restore())};var Fb={beat_hive:{Ab:["ult"],text:["DEFEAT A HIVE"]},final_boss:{Ab:["life"],text:["DEFEAT THE FINAL BOSS"]},untouchable:{Ab:["spark"],text:["BEAT ANY HIVE","WITHOUT GETTING HIT"]},high_roller:{Ab:["life"],KE:25E4,text:["SCORE 250000 PTS OR MORE","ON A SINGLE ENEMY"]},pacifist:{Ab:["life"],text:["BEAT ANY LEVEL","WITHOUT USING IMPULSE"]},blitz_hive1:{Ab:["spark"],text:["BEAT HIVE 1 IN HARD MODE","UNDER 5 MINUTES"],Bq:300},blitz_hive2:{Ab:["life"],text:["BEAT HIVE 2 IN HARD MODE","UNDER 6 MINUTES"],
Bq:400},blitz_hive3:{Ab:["life","spark"],text:["BEAT HIVE 3 IN HARD MODE","UNDER 7 MINUTES"],Bq:500},blitz_hive4:{Ab:["life","spark","ult"],text:["BEAT HIVE 4 IN HARD MODE","UNDER 8 MINUTES"],Bq:600},beat_hard:{Ab:["life","spark"],text:["DEFEAT ALL HIVES","IN HARD MODE"]}};function Gb(a,b){return a.x==b.x&&a.y==b.y}function Hb(a){var b=a%60;return Math.floor(a/60)+":"+(10>b?"0"+b:b)}function Ib(a,b,c,d){void 0===d&&(d=null);for(var f=0;f<c.length;f++)if(!(Gb(a,c[f].p1)||Gb(a,c[f].p2)||Gb(b,c[f].p1)||Gb(b,c[f].p2))&&c[f].p1.p_n!==d&&Jb(a,b,c[f].p1,c[f].p2))return!1;return!0}
function Kb(a,b){for(var c=a.length-1,d=!1,f=0;f<a.length;f++)(a[f].y<b.y&&a[c].y>=b.y||a[f].y>=b.y&&a[c].y<b.y)&&a[f].y!=a[c].y&&a[f].x+(b.y-a[f].y)/(a[c].y-a[f].y)*(a[c].x-a[f].x)<b.x&&(d=!d),c=f;return d}function Q(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function Jb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};a={x:c.x-a.x,y:c.y-a.y};c=Lb(b,d);if(0==c&&0==Lb(a,d))return!1;d=Lb(a,d)/c;b=Lb(a,b)/c;return 0<=d&&1>=d&&0<=b&&1>=b}
function Mb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};c={x:c.x-a.x,y:c.y-a.y};var f=Lb(b,d);if(0==f&&0==Lb(c,d))return null;d=Lb(c,d)/f;c=Lb(c,b)/f;return 0<=d&&1>=d&&0<=c&&1>=c?{x:a.x+b.x*d,y:a.y+b.y*d}:null}function Nb(a,b,c){return Math.abs(Lb({x:b.x-a.x,y:b.y-a.y},{x:c.x-a.x,y:c.y-a.y}))/Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Lb(a,b){return a.x*b.y-a.y*b.x}
function Ob(a){var b;a.pageX||a.pageY?(b=a.pageX,a=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);b-=offset_left;a-=offset_top;return{x:b,y:a}}function R(a,b){null!=a&&null!=b||console.log("ERROR");var c;if(a.x==b.x)return c=a.y>b.y?-Math.PI/2:Math.PI/2;c=Math.atan((a.y-b.y)/(a.x-b.x));a.x>b.x&&a.y<b.y?c+=Math.PI:a.x>b.x&&a.y>=b.y&&(c-=Math.PI);return c}
function Pb(a,b,c,d){for(var f=[],g=0;g<c.length;g++){var h=d(c[g]);Q(a,h)<b&&f.push(c[g])}return f}
function Qb(a,b){for(var c=a.length-1,d=[],f=0;f<a.length;f++){var g=(f+1)%a.length,h=new b2Vec2(a[f].y-a[c].y,a[c].x-a[f].x),c=new b2Vec2(a[f].x-a[c].x,a[f].y-a[c].y),k=new b2Vec2(a[g].y-a[f].y,a[f].x-a[g].x),g=new b2Vec2(a[f].x-a[g].x,a[f].y-a[g].y);h.fb();k.fb();c.fb();g.fb();var n=R({x:0,y:0},k),q=R({x:0,y:0},h),n=n-q,n=0>n?n+2*Math.PI:n,n=n>=2*Math.PI?n-2*Math.PI:n;n>Math.PI?d.push({x:a[f].x+h.x*b-1*c.x/Math.tan(n/2-Math.PI/2)*b,y:a[f].y+h.y*b-1*c.y/Math.tan(n/2-Math.PI/2)*b}):n>5*Math.PI/6?
(d.push({x:a[f].x+h.x*b+c.x*b,y:a[f].y+h.y*b+c.y*b}),d.push({x:a[f].x+k.x*b+g.x*b,y:a[f].y+k.y*b+g.y*b})):d.push({x:a[f].x+h.x*b+c.x*Math.tan(n/2)*b,y:a[f].y+h.y*b+c.y*Math.tan(n/2)*b});c=f}return d}function Rb(a,b){var c=E,c=c?c:1;return b.x>=a&&b.y>=a&&b.x<=O/c-a&&b.y<=P/c-a}function Sb(a,b,c){for(var d={x:Math.random()*(O/c-2*b)+b,y:Math.random()*(P/c-2*b)+b},f=!1,g=0;g<T.i.Ah.length;g++)s!=g&&Kb(T.i.Ah[g],d)&&(f=!0);return f||null==Tb(T.Rb,d,a).path?Sb(a,b,c):d}
function Ub(a,b,c){for(;a<c;)a+=2*Math.PI;for(;a>c;)a-=2*Math.PI;for(;b>c;)b-=2*Math.PI;for(;b<c;)b+=2*Math.PI;return b-a<=2*Math.PI}function Vb(a,b){for(;b-a>Math.PI;)b-=2*Math.PI;for(;b-a<-Math.PI;)b+=2*Math.PI;return b}function Wb(a,b){var c=a-b;c>2*Math.PI&&(c-=2*Math.PI);0>c&&(c+=2*Math.PI);c>Math.PI&&(c=2*Math.PI-c);return c}function Xb(a,b,c){return 0*Math.pow(1-c,3)+3*Math.pow(1-c,2)*c*a+3*(1-c)*Math.pow(c,2)*b+1*Math.pow(c,3)}
function Yb(a,b,c,d,f,g,h,k){var n=new b2BodyDef;n.type="static"==h?b2Body.uf:b2Body.Hd;n.position.x=c;n.position.y=d;n.ls=3;a=a.co(n);for(c=0;c<b.length;c++){d=b[c];h=null;"circle"==d.type&&(h=new b2CircleShape(d.X),h.Jx(new b2Vec2(d.x,d.y)));if("polygon"==d.type){n=[];for(h=0;h<d.ba.length;h++)n.push(new b2Vec2(d.x+d.X*d.ba[h][0],d.y+d.X*d.ba[h][1]));h=new b2PolygonShape;h.Et(n,n.length)}d=new b2FixtureDef;d.vb=f;d.bn=0;d.En=.7;d.filter.wf=g;d.filter.If=6;d.shape=h;a.Lq(d).oo({body:a,owner:k,self:null})}return a}
function Zb(a){var b=a%60;10>b&&(b="0"+b);return Math.floor(a/60)+":"+b};function $b(){this.Qb={};this.Bl={};this.Ra=null;for(var a in ma)ac(this,ma[a].file,ma[a].Ui);this.gk={};this.Vi=D.Tv;this.Tm=D.Tm}function bc(a){cc.play(la[a])}$b.prototype.play=function(a){if(!this.Tm)if(a in this.Bl)for(var b=0;b<this.Bl[a].length;b++){if(!this.Bl[a][b]){this.Qb[a+b].play();this.Qb[a+b].kh(D.Rr);this.Bl[a][b]=!0;break}}else a in this.Qb||(this.Qb[a]=new ha("audio/"+a+".ogg")),this.Qb[a].play(),this.Qb[a].kh(D.Rr)};
function ac(a,b,c){a.Bl[b]=[];for(var d=0;d<c;d++){a.Bl[b].push(!1);a.Qb[b+d]=new ha("audio/"+b+".ogg");var f=a;a.Qb[b+d].bind("ended",function(a,b){return function(){f.Bl[b][a]=!1}}(d,b))}}function dc(a,b){a.Ra&&a.Qb[a.Ra].stop();a.Ra=null;ec(a,b)}
function ec(a,b){null!=a.Ra&&a.Ra!=b?a.Qb[a.Ra].hD()?dc(a,b):(a.gk[a.Ra]=!1,a.gk[b]=!0,a.Qb[a.Ra].Wy(500,function(){dc(a,b)})):(b in a.Qb||(b in ka?(a.Qb[b]=new ha("audio/"+b+".ogg"),a.Qb[b].bind("ended",function(){this.setTime(ka[b]);this.play()})):a.Qb[b]=new ha("audio/"+b+".ogg",{loop:!0})),a.Vi?a.Qb[b].kh(0):a.Qb[b].kh(D.vm),a.Qb[b].play(),a.gk[b]=!0,a.Ra=b)}
function fc(){var a=cc;if(a.Ra){a.gk[a.Ra]=!1;var b=a.Ra;a.Qb[a.Ra].Wy(300,function(){a.Ra&&!a.gk[a.Ra]?(a.Qb[a.Ra].stop(),a.Ra=null):a.Ra==b&&a.gk[a.Ra]&&a.Qb[a.Ra].kh(D.vm)})}}function gc(){var a=cc;return{title:a.Ra,vc:a.Qb[a.Ra]}};function hc(a,b){void 0!==a&&(this.Od=ic()-1,this.dg=0,this.tk=jc(),this.Rg=0,this.hi=kc(),this.nz=!1,this.lc=b,0<a&&(this.ji=1E3*Fb["blitz_hive"+a].Bq),this.lc||(this.Od=0,1<this.tk&&(this.tk=1)),this.sh={},this.Az=this.Od,this.Bz=0,this.Ez=ic(),this.$A=jc(),this.Mk=null,this.H={},this.ma=a,this.gs=0==this.ma?"TUTORIAL":"HIVE "+oa[a],this.vu=oa[a],this.aE=0,this.oi=null)}hc.prototype.clone=function(a){var b=new hc,c;for(c in a)b[c]=a[c];return b};
function lc(a){a.Od+=ic()-a.Ez;a.tk+=jc()-a.$A;a.hi=kc();a.Ez=ic();a.$A=jc()}hc.prototype.continue=function(){this.Od=ic();this.dg=0;this.tk=jc();this.hi=kc();this.Az=this.Od;this.Bz=0;this.Rg+=1};function mc(a,b,c,d){this.ha(a,b,c,d)}l=mc.prototype;l.Aa=3.5;l.id=9999;l.Rn=1.2;l.qz=50;l.Wg=10;l.mv=.03125;l.bD=z.impulse_target_blue;l.pz=z.impulse_blue;l.vb=.5625;l.jh=.66;l.K=.66;
l.ha=function(a,b,c,d){if(null!=a){"easy"==J&&(this.vb*=1.5,this.Rn*=1.5);var f=new b2FixtureDef;f.vb=this.vb;f.bn=0;f.En=1;f.filter.wf=2;f.filter.If=29;var g=new b2BodyDef;g.type=b2Body.Hd;f.shape=new b2CircleShape(mc.prototype.jh);this.X=mc.prototype.jh;this.i=d.i;this.v=d;g.position.x=b;g.position.y=c;g.ls=this.Aa;this.body=a.co(g);this.body.Lq(f).oo({owner:this,body:this.body,self:this});this.shape=f.shape;this.gh=[];for(a=0;4>a;a++)this.gh.push({X:.5,qi:a*Math.PI/2});this.Dq=this.op=this.right=
this.left=!1;this.sk=this.Lh=this.Gh=this.Jh=this.Hh=null;this.Gi=0;this.vp=[];this.Jw=[];this.pj=!1;this.wh={};this.gd=0;this.oj=500;this.nj=0;this.sk=!1;this.th={};this.Tn=1E3;this.Sl=0;this.Kw=20;this.tF=250;this.nk=this.md=this.Eu=this.Fm=0;this.Rv={x:0,y:0};this.status="normal";this.r=[0,0,0,0,0,0];this.nh=.3;this.O=!1;this.gb=1E3;this.wb=0;this.color=z.player_color;this.sa=this.Rn;this.ky=5;this.yu=!1;this.Uf=1.5;this.tv=0;this.dq=!1;this.Mt=250;this.Nt=!0;this.wo=this.Mt}};
function nc(a,b){switch(b){case ua.Wq:a.left=!0;break;case ua.Zq:a.right=!0;break;case ua.Mq:a.op=!0;break;case ua.ar:a.Dq=!0;break;case ua.ij:case ua.Bk:a.Dq=!1;a.op=!1;a.left=!1;a.right=!1;a.Hh=null;a.Jh=null;a.Lh=null;a.Gh=null;break;case ua.qx:a.Hh=(new Date).getTime();break;case ua.sx:a.Lh=(new Date).getTime();break;case ua.rx:a.Jh=(new Date).getTime();break;case ua.px:a.Gh=(new Date).getTime()}}l.bj=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1])};
l.fc=function(a,b){b&&(this.md=Math.max(a,this.r[1]),this.nk=Math.max(a,this.r[1]));this.r[1]=Math.max(a,this.r[1])};l.ev=function(a){this.r[2]=Math.max(a,this.r[2])};l.Mp=function(a){this.r[3]=Math.max(a,this.r[3]);this.js=this.r[3];this.Np=1;this.jl=1/this.Uf};function oc(a,b){a.Fm=Math.max(b,a.r[4]);a.Eu=Math.max(b,a.r[4]);a.r[4]=Math.max(b,a.r[4])}
l.pa=function(a){if(this.O)this.wb-=a;else{this.Nt&&(this.wo-=a,0>this.wo&&(this.Nt=!1));0<this.md&&(this.md-=a);0<this.Fm&&(this.Fm-=a);0<this.r[0]&&(this.r[0]-=a);0<this.r[1]&&(this.r[1]-=a);0<this.r[2]?(this.r[2]-=a,this.body.Be(3*this.Aa),this.VC=!0):this.VC&&this.body.Be(this.Aa);if(0<this.r[3]){if(this.r[3]-=a,!this.Ii){this.Ii=!0;var b=this.body.Pc;void 0===b.length&&(b=[b]);for(var c=0;c<b.length;c++)b[c].eb.Ha/=this.Uf;this.body.kg();pc(this)}}else if(this.Ii){this.Ii=!1;b=this.body.Pc;void 0===
b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].eb.Ha*=this.Uf;this.body.kg();pc(this)}0<this.r[4]&&(this.r[4]-=a);if(0<this.r[5]){this.r[5]-=a;b=this.body.Pc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].Ix(this.vb*this.ky);pc(this);this.body.kg();this.yu=!0}else if(this.yu){this.yu=!1;b=this.body.Pc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].Ix(this.vb);pc(this);this.body.kg()}cur_time=(new Date).getTime();"mouse"==D.zc?((this.dq||100>cur_time-this.tv)&&!this.pj&&0>=this.r[1]&&
(this.pj=!0,this.v.H.nv=!0,this.wh=this.body.g.position.Ib(),this.gd=this.Gi,this.nj=this.oj,bc("impulse"),this.v instanceof qc&&(c=this.v,1==c.da&&"first_time_tutorial"==c.mode&&0==c.Xd&&"none"==c.lb&&(c.mg=c.Mm,c.Xd=!0)),this.v.mh&&rc(this.v,"player_impulsed")),this.Gi=R({x:this.body.g.position.x*E,y:this.body.g.position.y*E},this.Rv)):"keyboard"==D.zc&&!this.pj&&0>=this.r[1]&&(c=0,null!=this.Hh&&this.Hh>c&&(c=this.Hh),null!=this.Jh&&this.Jh>c&&(c=this.Jh),null!=this.Lh&&this.Lh>c&&(c=this.Lh),
null!=this.Gh&&this.Gh>c&&(c=this.Gh),0!=c&&40<(new Date).getTime()-c&&(null!=this.Hh&&null!=this.Lh?this.gd=5*Math.PI/4:null!=this.Hh&&null!=this.Gh?this.gd=3*Math.PI/4:null!=this.Jh&&null!=this.Lh?this.gd=7*Math.PI/4:null!=this.Jh&&null!=this.Gh?this.gd=1*Math.PI/4:null!=this.Hh?this.gd=Math.PI:null!=this.Jh?this.gd=0:null!=this.Lh?this.gd=3*Math.PI/2:null!=this.Gh&&(this.gd=1*Math.PI/2),0<this.r[4]&&(this.gd+=Math.PI),this.pj=!0,this.v.H.nv=!0,this.wh=this.body.g.position.Ib(),this.nj=this.oj,
bc("impulse")));this.body.ub(this.Gi);0<this.r[4]&&(this.Gi+=Math.PI);for(c=0;c<this.i.fe.length;c++)if(Kb(this.i.fe[c],this.body.g.position)){this.Tc();break}if(this.pj)if(0>this.nj)this.pj=!1,this.vp=[];else{for(c=0;c<this.i.s.length;c++)if(!(this.i.s[c]instanceof sc&&0>=this.i.s[c].r[1]||this.i.s[c]instanceof tc&&this.i.s[c].FC)){if(-1==this.vp.indexOf(this.i.s[c].id)&&!this.i.s[c].O)for(var b=this.i.s[c].Lj(),d=0;d<b.length;d++)if(uc(this,b[d])){if(vc(this,b[d],20<this.i.s[c].body.p.jg())){var f=
R(this.wh,b[d]);this.vp.push(this.i.s[c].id);this.i.s[c].Mf(this.wh,this.qz,f);break}this.i.s[c]instanceof wc&&"engaged"==this.i.s[c].pb&&xc(this.i.s[c])}if(this.i.s[c]instanceof wc&&"inactive"!=this.i.s[c].pb){var g=this.i.s[c].bb;if(-1==this.vp.indexOf(g.id))for(b=g.Lj(),d=0;d<b.length;d++)uc(this,b[d])&&vc(this,b[d],!0)&&(f=R(this.wh,b[d]),g.Mf(this.wh,this.qz,f),this.vp.push(g.id))}}this.nj-=a}this.sk&&(0>this.Sl?(yc(this,!0),this.sk=!1,this.Jw=[],this.v instanceof qc&&(a=this.v,1==a.da&&"ult_tutorial"==
a.mode&&0==a.Xd&&"none"==a.lb&&(a.mg=a.Mm,a.Xd=!0)),this.i.oa&&this.body.jj(this.th)):(yc(this,!1),this.Sl-=a));0>=this.r[0]&&(b=this.sa,c=a=0,this.left&&--a,this.right&&(a+=1),this.Dq&&--c,this.op&&(c+=1),b=2==Math.abs(a)+Math.abs(c)?b/Math.sqrt(2):b,0<this.r[4]&&(a*=-1,c*=-1),this.body.ia(new b2Vec2(b*a,b*c),this.body.h.o),this.v instanceof qc&&(0!=a||0!=c)&&(b=this.v,0==b.da&&"first_time_tutorial"==b.mode&&0==b.Xd&&"none"==b.lb&&(b.mg=b.Mm,b.Xd=!0)),!this.v.mh||0==a&&0==c||rc(this.v,"player_moved"))}};
function pc(a){a.sa=0<a.r[5]?a.Rn*a.ky:0<a.r[3]?a.Rn/a.Uf/a.Uf:a.Rn}
function yc(a,b){for(var c=0;c<a.i.s.length;c++){var d=a.i.s[c];if(!d.O){for(var f=d.Lj(),g=(b?1:.002)*a.tF,h=0;h<f.length;h++)if(zc(a,f[h])){var k=R(a.th,f[h]);-1==a.Jw.indexOf(d.id)?(a.Jw.push(d.id),Ac(d,!0)):Ac(d,!1);f=F[d.type];h=d.Gf?.02/d.Ih:1;"slingshot"==d.type&&(h*=2);d.Mf(a.th,1*g*h*d.body.Y*f.Aa,k,!0);break}d instanceof wc&&"engaged"==d.pb&&d.Wc==a&&xc(d)}if(d instanceof wc&&"inactive"!=d.pb)for(d=d.bb,f=d.Lj(),h=0;h<f.length;h++)zc(a,f[h])&&(k=R(a.th,f[h]),d.Mf(a.th,2*g,k))}}
function Bc(a){return a.sk?a.th:a.body.g.position}function uc(a,b){var c=R(a.wh,b);return a.gd<2*-Math.PI/3?c<=a.gd+Math.PI/3||c>=a.gd+5*Math.PI/3:a.gd>2*Math.PI/3?c<=a.gd-5*Math.PI/3||c>=a.gd-Math.PI/3:c>=a.gd-Math.PI/3&&c<=a.gd+Math.PI/3}function vc(a,b,c){var d=Cc(a),f=a.wh.Ib();f.ro(b);f=f.fb();b=c?4*a.mv:2*a.mv;return f>=a.Wg*d*((a.oj-a.nj)/a.oj-b)&&f<=a.Wg*d*((a.oj-a.nj)/a.oj+b)}function zc(a,b){var c=a.th.Ib();c.ro(b);c=c.fb();return c<=a.Kw*Xb(.15,.5,(a.Tn-a.Sl)/a.Tn)}
function Dc(a,b){b.save();if(a.O){var c=a.O?Math.min((a.gb-a.wb)/a.gb,1):0;b.globalAlpha*=1-c}a.sk&&0<a.Sl&&(b.save(),b.globalAlpha*=.3,c=Math.min(2-Math.abs((a.Sl-a.Tn/2)/(a.Tn/4)),1),b.globalAlpha*=c/2,b.fillStyle="white",b.fillRect(0,0,Ec,Fc),b.restore(),b.shadowBlur=10,b.shadowColor="#ccc",b.globalAlpha*=.5,c=Xb(.1,.5,(a.Tn-a.Sl)/a.Tn),.4<c&&(b.globalAlpha*=0>(1-c)/.4?0:(1-c)/.4),G(b,a.th.x*E,a.th.y*E,0,a.Kw*c*E*2,a.Kw*c*E*2,"generated_ultimate",va));b.restore()}
l.ih=function(a){this.O||Dc(this,a)};
l.V=function(a){if(!this.O){Dc(this,a);a.save();if(0<this.Fm){var b=Math.max((this.Eu-this.Fm)/this.Eu,0);Ba(a,this.body.g.position.x,this.body.g.position.y,this.jh,b,"#24ac40")}else 0<this.md&&(b=Math.max((this.nk-this.md)/this.nk,0),Ba(a,this.body.g.position.x,this.body.g.position.y,this.jh,b,"gray"));if(this.Nt){var b=this.wo/this.Mt,c=1+8*b;a.save();a.globalAlpha*=1-b;a.beginPath();a.lineWidth=Math.ceil(4-4*b);a.strokeStyle=z.impulse_blue;a.arc(this.body.g.position.x*E,this.body.g.position.y*
E,this.shape.Ha*c*E,0,2*Math.PI,!0);a.stroke();a.restore()}else this.sk?(c=Cc(this),G(a,this.th.x*E,this.th.y*E,this.body.ga(),this.shape.Ha*E*2.5*c,this.shape.Ha*E*2.5*c,"player_gray")):0<this.r[0]?Gc(this,a,"player_red"):0<this.r[4]?Gc(this,a,"player_green"):0<this.r[1]?Gc(this,a,"player_gray"):0<this.r[2]?Gc(this,a,"player_yellow"):Gc(this,a,"player_normal");c=Cc(this);0<this.r[3]&&(a.beginPath(),a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.jh*c*E,0,2*Math.PI,!1),a.strokeStyle=
"black",a.stroke());a.beginPath();D.hs&&(a.save(),b=this.wo/this.Mt,a.globalAlpha*=Math.max(0,1-b),0>=this.r[1]&&"mouse"==D.zc?(a.fillStyle=this.bD,a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.Wg*c*E,this.Gi-Math.PI/3,this.Gi+Math.PI/3),a.lineTo(this.body.g.position.x*E+Math.cos(this.Gi+Math.PI/3)*this.Wg*c*E,this.body.g.position.y*E+Math.sin(this.Gi+Math.PI/3)*this.Wg*c*E),a.lineTo(this.body.g.position.x*E,this.body.g.position.y*E),a.fill()):0>=this.r[1]&&"keyboard"==D.zc&&(a.beginPath(),
a.arc(this.body.g.position.x*E,this.body.g.position.y*E,this.Wg*c*E,0,2*Math.PI),a.globalAlpha/=6,a.lineWidth=2,a.strokeStyle=z.impulse_blue,a.stroke()),a.restore());this.pj&&(a.beginPath(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=10,a.shadowColor=this.pz,a.lineWidth=this.Wg*this.mv*E*c,b=(this.oj-this.nj)/this.oj,a.save(),.5<b&&(a.globalAlpha*=0>(1-b)/.5?0:(1-b)/.5),a.arc(this.wh.x*E,this.wh.y*E,this.Wg*c*b*E,this.gd-Math.PI/3,this.gd+Math.PI/3),a.strokeStyle=this.pz,a.lineWidth=5,a.stroke(),
a.restore());D.us&&!this.v.oa&&(a.font="16px Muli",a.fillStyle=z.impulse_blue,a.textAlign="center",a.shadowBlur=0,a.fillText("x"+this.v.H.zf,this.body.g.position.x*E,this.body.g.position.y*E+30));a.restore()}};function Gc(a,b,c){var d=Cc(a);G(b,a.body.g.position.x*E,a.body.g.position.y*E,a.body.ga(),a.shape.Ha*E*2.5*d,a.shape.Ha*E*2.5*d,c)}
function Cc(a){if(0>=a.r[3])return 1;var b=a.r[3]/a.js;.1>b?(b=1-b/.1,lighten_factor=a.Np*b+a.jl*(1-b)):.9<b?(b=(b-.9)/.1,lighten_factor=a.Np*b+a.jl*(1-b)):lighten_factor=a.jl;return lighten_factor}l.Te=function(){};l.Tc=function(a){this.O=!0;this.wb=this.gb;this.i.wG=!0;"absorbed"!=a&&bc("pdeath");Hc(this.i,"player",this.body.g.position,this.body.p,!0)};
l.cv=function(a,b){for(var c=this.gh.length-1,d=null,f=null,g=0;g<this.gh.length;g++){var h=Mb({x:this.body.g.position.x+this.gh[g].X*Math.cos(this.gh[g].qi+0),y:this.body.g.position.y+this.gh[g].X*Math.sin(this.gh[g].qi+0)},{x:this.body.g.position.x+this.gh[c].X*Math.cos(this.gh[c].qi+0),y:this.body.g.position.y+this.gh[c].X*Math.sin(this.gh[c].qi+0)},a,b);if(null!=h){c=Q(h,a);if(null==f||c<f)d=h,f=c;c=g}}return{dE:d,$d:f}};function Ha(){}l=Ha.prototype;l.Xm=1.5;
l.ha=function(a,b,c,d,f){this.bE=new b2Vec2(b,c);if(this.v=f)this.i=f.i,this.q=f.q;this.ma=a;for(g in F[this.type])this[g]=F[this.type][g];this.dw=[];this.dw.push(new b2Vec2(Math.cos(0*Math.PI),Math.sin(0*Math.PI)));this.dw.push(new b2Vec2(Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)));this.dw.push(new b2Vec2(Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)));this.eE=1E3;this.gz=3;this.Ju=this.ew=0;this.ck=1500;this.Fl=!0;this.Uf=1.5;this.ov=z.impulse_blue;g=new b2BodyDef;g.type=b2Body.Hd;g.position.x=
b;g.position.y=c;g.ls=this.Aa;g.$u=this.GG?!1:!0;g.$u||(g.Rx=50);a&&(this.body=a.co(g));this.QE=[];this.Dg=[];this.Ii=!1;this.Hp=500;for(var g=0;g<this.cc.length;g++){a=this.cc[g];b=null;"circle"==a.type&&(b=new b2CircleShape(a.X),b.Jx(new b2Vec2(a.x,a.y)));if("polygon"==a.type){c=[];for(b=0;b<a.ba.length;b++)c.push(new b2Vec2(a.x+a.X*a.ba[b][0],a.y+a.X*a.ba[b][1]));b=new b2PolygonShape;b.Et(c,c.length)}a=new b2FixtureDef;a.vb=this.vb;a.bn=0;a.En=.7;a.filter.wf=this.wf?this.wf:4;a.filter.If=this.If?
this.If:30;a.shape=b;this.body&&this.body.Lq(a).oo({owner:this,body:this.body,self:this});this.QE.push(b);b instanceof b2PolygonShape?this.Dg.push(b.Z):this.Dg.push(null)}this.Tf=!0;Ic(this);this.path=null;this.Tw=0;this.Sw=!1;this.id=d;this.Ok=this.O=!1;this.gb=this.zy=500;this.wb=0;this.r=[0,0,0,0];this.ua={};this.ua.open=0;this.ua.impulsed=0;this.wz=!0;this.Yc=!1;this.NA=0;this.np=!0;this.Rd=this.xe=40;this.CF=10;this.nh=.3;this.Md=!1;this.uj=!0;this.tw=this.sa/3;this.pv=!1;this.qv=this.rz=2E3;
this.Ge=2;this.js=0;this.kF="normal impulsed stunned silenced gooed lighten ulted white world1 world2 world3 world4 black".split(" ");this.er=[];this.gr=0;this.TB=4;this.fr=null;this.uo=.5;this.to=!0;this.dn=!1;this.Am=0;this.eA=this.oz=this.Zm=!1;this.mz=4;this.en=0;this.Ce=null;this.gi&&(this.Bf=!1,this.Gc=this.di=this.Fh=this.pg)};
l.Ar=function(){for(var a=0;a<this.i.fe.length;a++)if(Kb(this.i.fe[a],this.body.g.position)){if(0>=this.ua.open&&this.eA){this.body.jj(this.bE);break}0>=this.ua.open&&this.Fl?this.Tc("accident"):(this.v instanceof qc&&(a=this.v,3==a.da&&"first_time_tutorial"==a.mode&&0==a.Xd&&"none"==a.lb&&(a.mg=a.Mm,a.Xd=!0),4==a.da&&"first_time_tutorial"==a.mode&&0==a.Xd&&"none"==a.lb&&(a.mg=a.Mm,a.Xd=!0)),this.v.mh&&rc(this.v,"enemy_killed"),this.Tc("kill"));break}};
function Ic(a){a.rw=[];a.vC=[];if(a.q)for(var b=a.body.Pc;null!=b;){var c=b.eb,d=[];if(c instanceof b2PolygonShape){for(var c=c.Z,f=0;f<c.length;f++){var g=Q({x:0,y:0},c[f]),h=R({x:0,y:0},c[f]);d.push({X:g,qi:h})}a.vC.push(Qb(c,a.q.X+.1))}a.rw.push(d);b=b.La}}l.lA=function(a,b){this.Ok&&("hit_player"!=this.O||this.wb<this.gb-50)&&(this.Ok=!1,this.i.lp.push(a));return this.O&&0>this.wb?(this.i.zp.push(a),!0):this.O?(this.wb-=b,!0):!1};
l.pa=function(a,b){if(!this.lA(a,b))if(0==this.tb)this.$c(b);else if(this.Og)this.Lt(b);else{0<this.r[0]&&(this.r[0]-=b);0<this.r[1]?this.r[1]-=b:this.yf&&(this.yf=!1);for(status in this.ua)0<this.ua[status]&&(this.ua[status]-=b);0<this.r[2]?(this.r[2]-=b,this.body.Be(this.Aa*this.gz)):this.body.Be(this.Aa);if(0<this.r[3]){if(this.r[3]-=b,!this.Ii){this.Ii=!0;var c=this.body.Pc;void 0===c.length&&(c=[c]);for(var d=0;d<c.length;d++)for(var f=this.body.Pc.eb.Z,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x/
this.Uf,f[g].y/this.Uf);this.body.kg();this.sa=F[this.type].sa/this.Uf/this.Uf}}else if(this.Ii){this.Ii=!1;c=this.body.Pc;void 0===c.length&&(c=[c]);for(d=0;d<c.length;d++)for(f=this.body.Pc.eb.Z,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x*this.Uf,f[g].y*this.Uf);this.body.kg();this.sa=F[this.type].sa}1>this.ew&&(this.ew=Math.min(this.ew+b/this.eE,1));this.NA+=b;this.qv=this.pv?this.qv-b:this.rz;this.Ar();this.gr+=1;if(!(!this.to||0<this.ua.open&&"tank"==this.type||0<this.r[1])){if(this.gr>this.TB){this.gr=
0;c=!1;f=this.i.Ah;d=null;for(g=0;g<f.length;g++)if(Kb(f[g],this.body.g.position)){var h;h=f[g];for(var k=this.body.g.position,n=h.length-1,q={wn:null,xn:null,$d:null},p=0;p<h.length;p++){var t=Nb(h[p],h[n],k);if(null==q.$d||t<q.$d){var y=R(k,h[n]);Vb(y,R(k,h[p]))-y<Math.PI/2||(q.wn=h[n],q.xn=h[p],q.$d=t)}n=p}h=q;if(null!=h.$d)d=R({x:0,y:0},{x:h.xn.x-h.wn.x,y:h.xn.y-h.wn.y})-Math.PI/2,c=!0;else{f=f[g];g=this.body.g.position;h={gc:null,$d:null};for(k=0;k<f.length;k++)if(n=Q(f[k],g),null==h.$d||n<h.$d)h.$d=
n,h.gc=f[k];f=h;f.$d<N[this.i.P].Qa&&(d=R(f.gc,this.body.g.position),c=!0)}break}this.fr=c?d:null}null!=this.fr&&(c=new b2Vec2(Math.cos(this.fr),Math.sin(this.fr)),c.ca(this.sa*this.uo),0<this.ua.open&&"normal"==J&&this.Zm?c.ca(1.5):("goo"==this.type||"disabler"==this.type)&&0<this.ua.open?c.ca(0):"harpoon"==this.type&&0<this.ua.open&&c.ca(.6),this.body.ia(c,this.body.h.o))}this.gi&&(!this.Bf&&Rb(0,this.body.g.position)&&(this.fc(this.pg),this.Gc=this.di=this.pg,this.Bf=!0),0<this.Fh&&(this.Fh-=dt),
Rb(0,this.body.g.position)||(this.Bf=!1,this.fc(100,!0),this.Gc=0),0<this.Gc&&(this.Gc-=dt,this.fc(100,!0)));this.move();this.$c(b)}};l.$c=function(){};l.Lt=function(){};l.fz=function(){return this.q.body.g.position};
l.move=function(){if(!(this.q.O||0<this.r[0])){this.Rd+=1;if(0==this.Rd%4||this.Rd>=this.xe){var a=this.fz();if(!a)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a==this.q.body.g.position||this.Rd>=this.xe||this.path&&!Ib(this.body.g.position,this.path[0],this.i.ff)){var b=Tb(this.v.Rb,this.body.g.position,a,this.v.i.jq);this.path=null!=b.path?b.path:null;this.Rd=Math.floor(.25*Math.random()*this.xe)}}if(this.path){b=this.path[0];if(0==this.Rd%4){for(;0<this.path.length&&
1>Q(b,this.body.g.position);)this.path=this.path.slice(1),b=this.path[0];if(!b||!Ib(this.body.g.position,b,this.i.ff))return;a==this.q.body.g.position&&Ib(this.body.g.position,this.q.body.g.position,this.i.ff)&&(this.path=[this.q.body.g.position],b=this.path[0])}if(this.Md){if(this.Tw==this.CF){a=Pb(this.body.g.position,4*this.K,this.i.s,function(a){return a.body.g.position});this.Sw=!1;for(var c=0;c<a.length;c++)if(a[c].id>this.id&&"fighter_bullet"!=a[c].type){this.Sw=!0;break}this.Tw=0}this.Tw++}this.Md&&
this.Sw||!b||this.ts(b)}}};l.ts=function(a){var b=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);b.fb();this.$j(b);this.body.ia(b,this.body.h.o);this.Tf&&Jc(this,a)};l.$j=function(a){a.ca(this.sa)};function Jc(a,b){a.bg(R(a.body.g.position,b))}l.bg=function(a){--this.en;0>=this.en&&(this.body.ub(a),this.en=this.mz);this.Ce=a};
l.Tc=function(a){this.O=a;this.wb=this.gb="fade"==a?500:this.zy;this.Ok=!0;if("kill"==this.O&&!this.q.O&&(this.v.H.re+=1,F[this.type].Xi?F[F[this.type].Xi].re+=1:F[this.type].re+=1,!this.i.oa)){var b=this.v.H.zf*this.Rc;D.ic&&Kc(this.v,b,this.color,this.body.g.position.x,this.body.g.position.y);this.v.H.jf+=b;Lc(this.v);Mc(this.v);b>Fb.high_roller.KE&&Nc("high_roller")}"accident"!=this.O&&"fade"!=this.O&&"absorbed"!=this.O&&("tank"==this.type?bc("tdeath"):this.Gf?(bc("tdeath"),setTimeout(function(){bc("tdeath")},
150),setTimeout(function(){bc("tdeath")},300)):"troll"==this.type&&"hit_player"==this.O&&0>=this.r[1]||bc("sdeath"));"fade"!=this.O&&(Hc(this.i,this.type,this.body.g.position,this.body.p),this.Ek(a))};l.Ek=function(){};
l.Te=function(a){if(!this.O){if(0<this.ua.open&&("mote"==a.type||"troll"==a.type)){var b=this.body.p,c=this.body.Y/a.body.Y;a.body.ia(new b2Vec2(.2*b.x*c,.2*b.y*c),a.body.g.position);this.body.no(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))}a===this.q?(this.v.oa&&!this.Ii&&50<this.body.p.jg()&&(b=this.body.p,c=this.body.Y/a.body.Y,a.body.ia(new b2Vec2(b.x*c*.5,b.y*c*.5),a.body.g.position),this.body.no(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))),this.np&&this.Tc("hit_player"),(0>=this.r[1]||this.oz)&&this.ag(),
Oc(this.v)):a instanceof Ha&&0<a.ua.open&&this.open(a.ua.open)}};l.ag=function(){"easy"==J&&this.q.bj(300);"normal"==J&&this.q.bj(500)};
l.V=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0,d=this.body.g.position;a.save();a.translate(d.x*b,d.y*b);a.rotate(this.Ce);d=F[this.type].images.normal.height;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);var f=this.O&&"fade"!=this.O?1+this.Ge*c:1,g=d;if(0<this.r[3]){var c=this.r[3]/this.js,h=1;.1>c?(c=1-c/.1,h=this.Np*c+this.jl*(1-c)):.9<c?(c=(c-.9)/.1,h=this.Np*c+this.jl*(1-c)):h=this.jl;g*=
h}g*=f;a.drawImage(F[this.type].images[this.Kj()],0,0,d,d,-g/2,-g/2,g,g);0<this.r[3]&&a.drawImage(F[this.type].images[this.Kj()],0,0,d,d,-g/2,-g/2,g,g);a.restore();this.Fd(a,b)}};l.Fd=function(){};l.ih=function(){};l.Wu=function(){};l.Bm=function(){};l.ym=function(){};l.zm=function(){};l.Mf=function(a,b,c,d){d||(this.open(this.ck),this.ua.impulsed+=this.Hp);this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d&&!this.Gf||this.ze(a,b,c)};l.ze=function(){};
function Ac(a,b){a.bj(2E3);a.ua.open=0;a.ua.ulted=2E3;b&&a.body.no(new b2Vec2(0,0))}l.bj=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1])};l.fc=function(a,b){b&&(this.yf=b);this.r[1]=Math.max(a,this.r[1])};l.ev=function(a){this.r[2]=Math.max(a,this.r[2])};l.Mp=function(a){this.r[3]=Math.max(a,this.r[3]);this.js=this.r[3];this.Np=1;this.jl=1/this.Uf};l.open=function(a){this.ua.open=Math.max(a,this.ua.open)};
l.cv=function(a,b){for(var c=null,d=null,f="polygon"==this.CG?this.gG:0,g=0;g<this.rw.length;g++)for(var h=this.rw[g],k=h.length-1,n=0;n<h.length;n++){var q=Mb({x:this.body.g.position.x+h[n].X*Math.cos(h[n].qi+f),y:this.body.g.position.y+h[n].X*Math.sin(h[n].qi+f)},{x:this.body.g.position.x+h[k].X*Math.cos(h[k].qi+f),y:this.body.g.position.y+h[k].X*Math.sin(h[k].qi+f)},a,b);if(null!=q){k=Q(q,a);if(null==d||k<d)c=q,d=k;k=n}}return{dE:c,$d:d}};l.Lj=function(){return[this.body.g.position]};
l.Kj=function(){if(!this.O){if(0<this.ua.ulted)return"ulted";if(0<this.ua.impulsed)return"impulsed";if(0<this.r[0])return"stunned";if(this.yf)return"silenced";if(0<this.r[2])return"gooed"}return this.Dp()};l.Dp=function(){return"normal"};l.cl=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a||"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.ov:"ulted"==a?z.impulse_blue:"white"==a?"white":"black"==a?"black":"world"==a.slice(0,5)?z["world "+a.slice(5,6)+" lite"]:this.Cp(a)};
l.Cp=function(){};function Pc(){}Pc.prototype=new Ha;l=Pc.prototype;l.constructor=Pc;l.ha=function(a,b,c,d,f){this.JC(a,b,c,d,f);this.nd=1E3;this.Ih=10;this.v.Cj&&this.v.i.lc&&(this.nd=6600);this.Fl=!1;this.zy=2E3;this.nc=this.nd};l.JC=Ha.prototype.ha;l.Gf=!0;l.Mf=function(a,b,c){this.tb&&(this.body.ia(new b2Vec2(this.Ih*b*Math.cos(c),this.Ih*b*Math.sin(c)),this.body.h.o),this.ze(a,b,c))};l.ze=function(){this.pc=this.Jp};l.bj=function(){};l.fc=function(){};l.ev=function(){};l.Mp=function(){};l.open=function(){};Qc.prototype=new Pc;l=Qc.prototype;l.constructor=Qc;
function Qc(a,b,c,d,f){this.type="fourth boss";this.ha(a,b,c,d,f);this.Yc=!1;this.Ge=5;this.Md=!1;this.fi=!0;this.body.ub(Math.PI/2);this.visibility=0;this.nc=this.nd=2300;this.tb=!1;this.rf=0;this.VB=5;this.Px=1E3;this.vo=0;this.he=Math.PI/2;this.$E="#000000 #110000 #660000 #990000 #cc0000 #ff0000".split(" ");this.oh=0;this.HA=250;this.IA=2E4;"easy"==J&&(this.IA=3E4);this.aF=.2;this.eF={stunner:8,spear:5,tank:6,mote:6,goo:1,harpoon:4,orbiter:5,disabler:1,fighter:3,slingshot:4,troll:6,deathray:2};
this.fF={stunner:6,spear:4,tank:4,mote:4,goo:1,harpoon:3,orbiter:3,disabler:1,fighter:2,slingshot:2,troll:4,deathray:1};this.gF={stunner:10,spear:10,tank:75,mote:10,goo:20,harpoon:20,orbiter:8,disabler:20,fighter:30,slingshot:10,troll:10,deathray:50};this.JA="stunner spear fighter orbiter troll goo harpoon deathray slingshot mote tank disabler".split(" ");this.ww=0;this.dF=22E3;this.hF=0;this.sv=this.yz=2;this.xz=Math.PI/4;this.Aa=10;this.body.Be(10);this.bk=5;this.hd=[];this.LA=4;"easy"==J&&(this.LA=
4);this.Zx=1E4;"easy"==J&&(this.Zx=12E3);this.kr=!1;this.xo=this.Xx=1250;this.yo=0;this.Yx=1E3;"easy"==J&&(this.Yx=1500);this.Hi=!1;this.Ey=!0;this.tj=F[this.type].tj;for(a=0;a<this.bk;a++)b=(a+.5)/this.bk*Math.PI*2+this.body.ga(),c=Yb(this.ma,F[this.type].jy,this.body.g.position.x+1.5*this.K*Math.cos(Math.PI/5)*Math.cos(b),this.body.g.position.y+1.5*this.K*Math.cos(Math.PI/5)*Math.sin(b),10,17,"static",this),c.ub(b),this.hd.push({type:"body",se:a,body:c,size:this.tj*(.8+.2*Xb(.15,.85,Math.abs(1E3-
(new Date).getTime()%2E3)/1E3))});this.VA=4E3;this.cF=2E3;this.wu=0;this.Zc=100;J&&(this.Zc=70);this.Gu=25E3;this.Ld=this.Gu-1;this.kp=this.Nk=this.Tg=1E3;this.Ve=document.createElement("canvas");this.Im=this.Ve.getContext("2d");this.Ve.width=200;this.Ve.height=200;this.jp=0;this.Im.beginPath();this.Im.moveTo(100+100*Math.cos(8*Math.PI/5),100+100*Math.sin(8*Math.PI/5));for(a=0;5>a;a++)this.Im.lineTo(100+100*Math.cos(2*Math.PI*a/5),100+100*Math.sin(2*Math.PI*a/5));this.Im.closePath();this.Im.fillStyle=
"black";this.Im.fill();this.Hu=!1}
l.V=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;G(a,c.x*b,c.y*b,this.body.ga(),2*this.K*b,2*this.K*b,"adrogantia_head",yb);if(0<this.rf){a.save();a.beginPath();var d=this.body.ga();a.moveTo(c.x*b+this.K*b*Math.cos(d),c.y*b+this.K*b*Math.sin(d));for(var f=1;f<=this.rf;f++)a.lineTo(c.x*b+this.K*b*Math.cos(d+f*Math.PI*
2/5),c.y*b+this.K*b*Math.sin(d+f*Math.PI*2/5));5>this.rf&&a.lineTo(c.x*b,c.y*b);a.closePath();a.clip();G(a,c.x*b,c.y*b,this.body.ga(),2*this.K*b,2*this.K*b,"adrogantia_head_red",yb);a.restore()}this.Fd(a,b);a.restore()}};
l.Wu=function(a,b){a.save();a.globalAlpha=1;var c=this.body.g.position;if(0<this.Ld){var d=1-this.Ld/this.Gu,f=this.K*d*b;this.jp=this.body.ga();a.save();a.globalAlpha*=.5;a.translate(c.x*b,c.y*b);a.rotate(this.jp);a.drawImage(this.Ve,0,0,this.Ve.width,this.Ve.height,-f,-f,2*f,2*f);a.restore()}else this.Ld>-this.Tg?(this.Hu||(this.Hu=!0,bc("b4darkness")),d=this.Ld/-this.Tg,f=(this.K*(1-d)+60*d)*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.jp),a.drawImage(this.Ve,0,0,this.Ve.width,
this.Ve.height,-f,-f,2*f,2*f),a.restore()):this.Ld>-(this.Tg+this.Nk)?(f=60*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.jp),a.drawImage(this.Ve,0,0,this.Ve.width,this.Ve.height,-f,-f,2*f,2*f),a.restore()):this.Ld>-(this.Tg+this.Nk+this.kp)&&(d=1-(this.Ld+this.Tg+this.Nk)/-this.kp,f=60*b,a.save(),a.globalAlpha=.5*a.globalAlpha*d,a.translate(c.x*b,c.y*b),a.rotate(this.jp),a.drawImage(this.Ve,0,0,this.Ve.width,this.Ve.height,-f,-f,2*f,2*f),a.restore());a.restore()};
l.Fd=function(a,b){Rc(this);for(var c in this.hd)if("body"==this.hd[c].type){var d=this.hd[c],f=d.body.g.position,g=d.body.ga();a.save();G(a,f.x*b,f.y*b,g,d.size*b*2,d.size*b*2,d.se<this.rf?"adrogantia_body_bud_red":"adrogantia_body_bud",yb);a.restore()}};
l.$c=function(a){if(0<this.nc)this.nc=Math.max(this.nc-a,0),this.visibility=1-this.nc/this.nd;else{0==this.tb&&(this.tb=!0,this.visibility=1);0<this.yo&&(this.yo-=a);0<this.rf&&(this.vo-=a,0>this.vo&&(this.vo=this.Px,--this.rf));null!=this.ip&&this.ip instanceof Sc&&0>=this.ip.r[1]?(this.oh+=a/(this.HA*Math.pow(.8,this.rf)),1<this.oh&&(this.oh=1)):0<this.oh&&(this.oh-=a/this.HA,0>this.oh&&(this.oh=0));if(this.Ey){this.Hi=!0;for(var b=0;b<this.bk;b++){var c=null,c=0==b?{type:"attack",se:b,Lm:0,body:null,
Sr:null,Wk:null}:{type:"spawn",se:b,Lm:0,body:null,Sr:null,Wk:null};this.hd.push(c);Tc(this,c)}this.Ey=!1}var b=[],d;for(d in this.hd)if(c=this.hd[d],"attack"==c.type||"spawn"==c.type){var c=this.hd[d],f=this.hd[d].se,g=f/this.bk*Math.PI*2+this.body.ga();if(0<c.Lm&&!this.Hi)c.Lm-=a;else if(null==c.body)c.type=null,Tc(this,c);else{var h=Math.max(.1,Xb(.15,.85,Math.min(1,1-c.Wk/c.Sr))*F["boss four "+c.type+"er"].K),k=this.K+h,k={x:this.body.g.position.x+k*Math.cos(g),y:this.body.g.position.y+k*Math.sin(g)};
c.Af.Qs(h);c.body.ub(g);c.body.jj(k);c.Wk-=a;0>=this.yo&&0>c.Wk&&!this.ci&&("spawn"==c.type?(this.ci=c,this.Ot=f/this.bk*Math.PI*2):b.push(d))}}0<b.length&&!this.ci&&(f=b[Math.floor(Math.random()*b.length)],this.ci=c=this.hd[f],this.Ot=f/this.bk*Math.PI*2);d=R(this.body.g.position,Bc(this.q));for(var n in this.i.s)b=this.i.s[n],b.O||b==this||"boss four attacker"==b.type||"boss four spawner"==b.type||(6>Q(b.body.g.position,this.body.g.position)?b.Tc("absorbed"):8>Q(b.body.g.position,this.body.g.position)&&
(c=Vb(d,R(this.body.g.position,b.body.g.position)),b.body.ia(new b2Vec2(5*b.sa*Math.cos(c),5*b.sa*Math.sin(c)),b.body.h.o),c=c<d?c+Math.PI/2:c-Math.PI/2,b.body.ia(new b2Vec2(b.sa*Math.cos(c),b.sa*Math.sin(c)),b.body.h.o)));0>this.Ld&&this.Ld>-this.Tg?(n=this.Ld/-this.Tg,this.i.Ym=1-n):this.Ld<-(this.Tg+this.Nk)&&this.Ld>-(this.Tg+this.Nk+this.kp)?(n=(this.Ld+this.Tg+this.Nk)/-this.kp,this.i.Ym=n):0<=this.Ld&&(this.i.Ym=1);if(this.ci)if(this.kr)this.xo-=a,0>this.xo&&Uc(this,this.ci);else{n=this.body.ga();
if("attack"==this.ci.type)var q=Vb(n,R(this.body.g.position,Bc(this.q))-this.Ot);else"spawn"==this.ci.type&&(this.Hi?q=Vb(n,Math.PI/2):(null==this.Gw&&Vc(this),q=Vb(n,this.Gw-this.Ot)));d=this.VA;Wb(n,q)<2*Math.PI*a/d?(this.body.ub(q),this.kr=!0,this.Hi?this.xo=0:(this.xo=this.Xx,this.ci.Af.Vr=!0)):q>n?this.body.ub(this.body.ga()+2*Math.PI*a/d):this.body.ub(this.body.ga()-2*Math.PI*a/d)}this.hF<=this.dF-500&&(this.Aa=F["fourth boss"].Aa);Rc(this);this.he+=a/(this.IA*Math.pow(.8,this.rf))*Math.PI*
2;n=q=null;d={x:this.body.g.position.x+100*Math.cos(this.he),y:this.body.g.position.y+100*Math.sin(this.he)};if(0>=this.sv)for(this.sv=this.yz,b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b]instanceof Sc&&this.i.s[b].tb&&Ub(this.he-this.xz,this.he+this.xz,R(this.body.g.position,this.i.s[b].body.g.position))&&(c=this.i.s[b].cv(this.body.g.position,d).$d,null==q||null!=c&&c<q)&&(q=c,n=this.i.s[b]);else q=this.Fe,n=this.ip;--this.sv;c=this.q.cv(this.body.g.position,d).$d;if(null==q||null!=
c&&c<q)q=c,n=this.q;n instanceof Sc&&n.id!=this.ip.id&&n.tb&&(d=n,0>=d.r[1]&&(d.Us=!0,d.Kn=d.vw));this.ip=n;this.Fe=q;"normal"==J&&(this.Ld-=a,0>this.Ld&&this.Ld<-(this.Tg+this.Nk+this.kp)&&(this.Ld=this.Gu,this.Hu=!1))}};function Vc(a){var b=2*Math.random()*Math.PI,c={x:a.body.g.position.x+15*Math.cos(b),y:a.body.g.position.y+15*Math.sin(b)},d=Math.min(775/E-c.x,c.x-25/E),f=Math.min(575/E-c.y,c.y-25/E);Ib(a.body.g.position,c,a.i.ff)&&10<Math.min(d,f)?a.Gw=b:Vc(a)}
function Uc(a,b,c){if(a.Hi)for(a.Hi=!1,b=0;b<a.hd.length;b++)c=a.hd[b],"spawn"==c.type&&Uc(a,c,!0);else{if("attack"==b.type)b.Af.dir={x:b.body.g.position.x-a.body.g.position.x,y:b.body.g.position.y-a.body.g.position.y},b.body=null,b.Lm=0,a.ci=null,a.kr=!1,b.Af.body.kg(),b.Af=null,bc("b4attacker");else if("spawn"==b.type){a.ci=null;a.kr=!1;b.Lm=0;b.body=null;var d=R(a.body.g.position,b.Af.body.g.position),d=new b2Vec2(Math.cos(d),Math.sin(d));d.ca(a.cF);b.Af.body.ia(d,b.Af.body.h.o);b.Af.tb=!0;b.Af.Vr=
!1;1!=c&&b.Af.fc(5E3,!0,!0);Ic(b.Af);b.Af.body.kg();b.Af=null;a.Gw=null;bc("b4spawner")}a.yo=a.Yx}}
l.Ek=function(){for(var a=0;a<this.hd.length;a++){var b=this.hd[a],c=R(this.body.g.position,b.body.g.position);"body"==b.type?(b=Yb(this.ma,F[this.type].jy,this.body.g.position.x+1.5*this.K*Math.cos(Math.PI/5)*Math.cos(c),this.body.g.position.y+1.5*this.K*Math.cos(Math.PI/5)*Math.sin(c),.1,17,"dynamic",this),b.ub(c),this.hd[a].body=b,c=new b2Vec2(Math.cos(c),Math.sin(c)),c.fb(),c.ca(20),b.ia(c,b.h.o)):0<b.Wk&&(c=new b2Vec2(Math.cos(c),Math.sin(c)),c.fb(),c.ca(30),this.hd[a].body.ia(c,this.hd[a].body.h.o))}};
function Rc(a){if(!a.O){for(var b=.8+.2*Xb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3),c=[],d=0;5>d;d++)c.push({x:Math.cos(2*Math.PI*d/5)*b*a.tj,y:Math.sin(2*Math.PI*d/5)*b*a.tj});for(d in a.hd){var f=a.hd[d];if("body"==f.type){var f=a.hd[d],g=(a.hd[d].se+.5)/a.bk*Math.PI*2+a.body.ga();f.body.Pc.eb.Z=c;f.body.jj({x:a.body.g.position.x+(a.K+b*a.tj)*Math.cos(Math.PI/5)*Math.cos(g),y:a.body.g.position.y+(a.K+b*a.tj)*Math.cos(Math.PI/5)*Math.sin(g)});f.body.ub(g);f.size=b*a.tj}}}}
function Tc(a,b){null==b.type&&(a.wu+=1,b.type=0==a.wu%a.LA?"spawn":"attack");var c=b.se/a.bk*Math.PI*2+a.body.ga(),d=a.K+1.5*F["boss four "+b.type+"er"].tz,f=a.body.g.position.x+d*Math.cos(c),d=a.body.g.position.y+d*Math.sin(c),g=null;"attack"==b.type?g=new Wc(a.ma,f,d,a.i.Ac,a.v,.1):(a.ww+=1,g=a.JA[(a.ww-1)%a.JA.length],g=new Sc(a.ma,f,d,a.i.Ac,a.v,g,"easy"==J?a.fF[g]:a.eF[g],a.gF[g],a,.1));b.body=g.body;b.Af=g;b.body.ub(c);a.i.ii.push(g);a.i.Ac+=1;b.Sr=a.Hi&&"spawn"==b.type?1E3:a.Zx;b.Wk=b.Sr}
l.ih=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){a.save();var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Qk(a,b);this.tb&&(a.beginPath(),c=null!=this.Fe?this.Fe:100,a.moveTo((this.body.g.position.x+Xc(this)*Math.cos(this.he+Math.PI/2))*b,(this.body.g.position.y+Xc(this)*Math.sin(this.he+Math.PI/2))*b),a.lineTo((this.body.g.position.x+Xc(this)*Math.cos(this.he-Math.PI/2))*b,(this.body.g.position.y+
Xc(this)*Math.sin(this.he-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.he)+Xc(this)*Math.cos(this.he-Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.he)+Xc(this)*Math.sin(this.he-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.he)+Xc(this)*Math.cos(this.he+Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.he)+Xc(this)*Math.sin(this.he+Math.PI/2))*b),a.closePath(),a.globalAlpha*=.5,a.fillStyle=this.$E[this.rf],a.fill(),a.globalAlpha*=2,0<this.oh&&(a.save(),
a.globalAlpha*=this.oh,a.fillStyle="red",a.fill(),a.restore()));a.restore()}};l.Qk=function(a,b){var c=this.body.g.position;G(a,c.x*b,c.y*b,this.body.ga(),200,200,"adrogantia_glow",yb)};l.move=function(){};l.Te=function(a){this.O||a!==this.q||(a=R(this.body.g.position,Bc(this.q)),this.q.body.ia(new b2Vec2(this.Zc*Math.cos(a),this.Zc*Math.sin(a)),this.q.body.h.o),Oc(this.v))};l.Lj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Ib();c.Kg(this.Dg[0][b]);a.push(c)}return a};
l.ze=function(){this.pc=this.Jp;this.rf<this.VB&&(this.rf+=1);this.vo=this.Px};l.Tr=function(){};function Xc(a){return a.aF*Math.pow(1.2,a.rf)};Wc.prototype=new Ha;l=Wc.prototype;l.constructor=Wc;function Wc(a,b,c,d,f,g){this.type="boss four attacker";this.ha(a,b,c,d,f);this.size=g;this.Tf=!1;this.Zc=100;"easy"==J&&(this.Zc=70);this.MA=200;this.dir=null;this.to=this.Vr=!1}
l.V=function(a,b){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha*=1-c;this.Vr?G(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud_firing",yb):G(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud",yb);a.restore()};
l.$c=function(){if(this.dir){var a=new b2Vec2(this.dir.x,this.dir.y);a.fb();a.ca(this.sa);"easy"==J&&a.ca(.5);this.body.ia(a,this.body.h.o)}};l.move=function(){};
l.Te=function(a){if(!(this.O||0<this.r[1]))if(a===this.q){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.Zc*Math.cos(b),this.Zc*Math.sin(b)),this.q.body.h.o);Oc(this.v)}else if(this.dir&&"boss four spawner"==a.type){var b=R({x:0,y:0},this.dir),c=Vb(b,R(this.body.g.position,a.body.g.position)),b=b<c?b-Math.PI/2:b+Math.PI/2;a.body.ia(new b2Vec2(this.MA*Math.cos(b),this.MA*Math.sin(b)),a.body.h.o)}else this.dir&&"fourth boss"!=a.type&&(R(this.body.g.position,a.body.g.position),
b=new b2Vec2(this.dir.x,this.dir.y),b.fb(),b.ca(100*a.sa),a.body.ia(b,a.body.h.o))};l.Mf=function(){};l.Ar=function(){if(this.dir)for(var a=0;a<this.i.fe.length;a++)if(Kb(this.i.fe[a],this.body.g.position)){0>=this.ua.open&&this.Fl?this.Tc("accident"):this.Tc("kill");break}};l.Qs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Pc.eb.Z=b;this.size=a;this.body.kg()};Sc.prototype=new Ha;l=Sc.prototype;l.constructor=Sc;function Sc(a,b,c,d,f,g,h,k,n,q){this.type="boss four spawner";this.ha(a,b,c,d,f);this.yp=g;this.color="black";this.vz=F[this.yp].color;this.Us=!1;this.bF=h;this.iE=k;this.size=q;this.Tf=!1;this.parent=n;this.Vr=this.tb=!1;this.vw=1E3;this.Kn=0;this.Ih=2;this.Zc=100}
l.$c=function(a){if(!this.O&&(this.tb&&(0<this.Kn?(this.Qs(F[this.type].K*(1+Xb(.15,.85,.5-Math.abs(this.Kn/this.vw-.5)))),this.Kn-=a):this.size!=F[this.type].K&&this.Qs(F[this.type].K)),this.Us&&this.Kn<this.vw/2)){bc("b4spawneract");a=R(this.parent.body.g.position,this.body.g.position);for(var b=0,c=this.bF*(1+.2*this.parent.rf),d=Math.max(c,4),f=0;f<c;f++){if(this.i.Uk[this.yp]+f>=this.i.Vm[this.yp][6]){this.fc(500);this.Us=!1;return}for(var g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;!Ib(this.body.g.position,
{x:this.body.g.position.x+10*Math.cos(g),y:this.body.g.position.y+10*Math.sin(g)},this.i.ff);)b+=1,g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;var h=[this.body.g.position.x+2*this.K*Math.cos(g),this.body.g.position.y+2*this.K*Math.sin(g)],h=new F[this.yp].className(this.ma,h[0],h[1],this.i.Ac,this.v),g=new b2Vec2(Math.cos(g),Math.sin(g));g.ca(this.iE);h.body.ia(g,h.body.h.o);h.Rd=h.xe;this.i.ii.push(h);this.i.Ac+=1;b+=1}this.Us=!1;this.fc(1E3)}};
l.Qs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Pc.eb.Z=b;this.size=a;this.body.kg()};l.Fd=function(a,b){0<this.r[1]&&this.yf&&!this.O&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*b*1.5,-.5*Math.PI,-.5*Math.PI+this.r[1]/this.lD*Math.PI*1.998,!0),a.lineWidth=2,a.strokeStyle="red",a.stroke())};l.fc=function(a,b){b&&(this.yf=b);this.r[1]=Math.max(a,this.r[1]);this.lD=this.r[1]};
l.Te=function(a){this.O||a===this.q&&Oc(this.v)};l.Mf=function(a,b,c){this.tb&&(this.body.ia(new b2Vec2(this.Ih*b*Math.cos(c),this.Ih*b*Math.sin(c)),this.body.h.o),this.ze(a,b,c))};
l.V=function(a,b){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha*=1-c;G(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_spawner",yb);var d=this.yp,c=this.body.g.position.x*b,f=this.body.g.position.y*b,g=this.size*b*.7,h=this.body.ga();a.save();h&&(a.translate(c,f),a.rotate(h),a.translate(-c,-f));h=Math.min(1/F[d].K,1)*g/2;"boss"==d.slice(d.length-4)&&(h=2/F[d].K*g/2);for(g=0;g<F[d].cc.length;g++){var k=F[d].cc[g];
Ja(a,c,f,k,h,"black")}if("undefined"!==typeof F[d].Aj)for(g=0;g<F[d].Aj.length;g++)k=F[d].Aj[g],Ja(a,c,f,k,h,"black");d=F[d].Vy;if("undefined"!==typeof d)for(g=0;g<d.length;g++)a.beginPath(),k=d[g],a.moveTo(c+h*k.x1,f+h*k.y1),a.lineTo(c+h*k.x2,f+h*k.y2),a.lineWidth=2,a.strokeStyle="black",a.stroke();a.restore();a.restore();this.Fd(a,b)};l.move=function(){};Yc.prototype=new Pc;l=Yc.prototype;l.constructor=Yc;
function Yc(a,b,c,d,f){this.type="first boss";this.ma=a;this.ha(a,b,c,d,f);this.Yc=!1;this.Ge=5;this.Eg=this.Sc=562.5;this.Md=!1;this.fi=!0;this.Sc=3E3;this.BA=2;this.kl=9E3;this.be=this.kl-1;this.Li=4E3;this.tb=this.Op=!1;this.Wm=["stunner","spear","tank"];this.Mn={stunner:5,spear:3,tank:20};this.Tf=!1;this.body.ub(Math.PI/2);this.sz=Math.PI/2;this.visibility=0;this.WA=1E3;"easy"==J&&(this.WA=1500);this.Ih="easy"==J?20:15;this.VA=5E3;this.body.Be(100*F[this.type].Aa);this.Rf=30;"easy"==J&&(this.Rf=
30);this.kD=1;this.nA=8;this.Ox=750;this.Gz=this.Ay=400;this.qA=300;this.mA=400;this.hA=300;this.oE=(this.Ay+this.mA+this.qA+this.Gz+this.hA)/2;this.sF=1500;this.Jp=150;this.pc=0;this.il={left:0,right:0};this.fk={left:0,right:0};this.qf={left:this.Ox,right:this.Ox};this.data=F[this.type];this.state="turret";this.yc={left:"none",right:"none"};this.hb={};this.Pa={};a=F[this.type].Ow[0].X;b=F[this.type].zv[0].X;c=F[this.type].fv[0].X;d=this.K;f=this.body.g.position.x;var g=this.body.g.position.y,h=this.kD;
this.Pa.lu=Yb(this.ma,F[this.type].Ow,f+d+a-2*h,g,.01,8,"dynamic",this);this.hb.lu=Zc(this,new b2Vec2(f+d-h,g),this.body,this.Pa.lu);this.Pa.ll=Yb(this.ma,F[this.type].zv,f+d+2*a+b-4*h,g,.01,8,"dynamic",this);this.hb.ll=Zc(this,new b2Vec2(f+d+2*a-3*h,g),this.Pa.lu,this.Pa.ll);this.Pa.lh=Yb(this.ma,F[this.type].fv,f+d+2*a+2*b-4*h+.25*c,g,.01,8,"dynamic",this);this.Pa.lh.ub(Math.PI/4);this.hb.lh=Zc(this,new b2Vec2(f+d+2*a+2*b-4*h+.25*c,g),this.Pa.ll,this.Pa.lh);this.Pa.ru=Yb(this.ma,F[this.type].Ow,
f-(d+a-2*h),g,.01,8,"dynamic",this);this.hb.ru=Zc(this,new b2Vec2(f-(d-h),g),this.body,this.Pa.ru);this.Pa.rl=Yb(this.ma,F[this.type].zv,f-(d+2*a+b-4*h),g,.01,8,"dynamic",this);this.hb.rl=Zc(this,new b2Vec2(f-(d+2*a-3*h),g),this.Pa.ru,this.Pa.rl);this.Pa.rh=Yb(this.ma,F[this.type].fv,f-(d+2*a+2*b-4*h+.25*c),g,.01,8,"dynamic",this);this.Pa.rh.ub(Math.PI/4);this.hb.rh=Zc(this,new b2Vec2(f-(d+2*a+2*b-4*h+.25*c),g),this.Pa.rl,this.Pa.rh);this.hl={};this.Bg={};this.bi={left:"none",right:"none"};this.zz=
{left:0,right:0};this.Es=13;this.An={left:0,right:0};this.Dl=this.gw=13500;this.Cn=2E3;this.hw=200;this.oA=8;this.Bn=15;this.Fs=150;this.hE=!1;this.bA=1E4;this.Zz=12E3;this.$z=6E3;this.Al=this.bA/2;this.rn=this.Zz;this.Fl=!1;this.Hz=1E3;this.zw=this.Pp=0;this.bz=!0}
l.Ek=function(){var a="lu ll lh ru rl rh".split(" ");this.pc=0;this.il.left=0;for(var b=this.il.right=0;b<a.length;b++){this.ma.fx(this.hb[a[b]]);var c=R(this.body.g.position,this.Pa[a[b]].g.position),c=new b2Vec2(Math.cos(c),Math.sin(c));c.fb();c.ca(10);this.Pa[a[b]].ia(c,this.Pa[a[b]].h.o)}};
function $c(a,b){var c=arm;ad(a,c,a.Gz);if("left"==c){var d=a;a.yc[c]="loading";bd(a,"lu",.3*-Math.PI);bd(a,"lh",Math.PI/4);bd(a,"ll",function(){return Vb(d.hb.ll.ke(),R(d.hb.ll.Bd(),Bc(d.q))-d.hb.lu.ke()-(d.body.ga()-d.sz))});a.An[c]=R(a.hb.ll.Bd(),b);a.bi[c]={x:a.hb.ll.Bd().x+Math.cos(a.An[c])*a.Es,y:a.hb.ll.Bd().y+Math.sin(a.An[c])*a.Es};a.Pp=a.Hz}"right"==c&&(d=a,a.yc[c]="loading",bd(a,"ru",.3*Math.PI),bd(a,"rh",-Math.PI/4),bd(a,"rl",function(){return Vb(d.hb.rl.ke(),Math.PI+R(d.hb.rl.Bd(),Bc(d.q))-
d.hb.ru.ke()-(d.body.ga()-d.sz))}),a.An[c]=R(a.hb.rl.Bd(),b),a.bi[c]={x:a.hb.rl.Bd().x+Math.cos(a.An[c])*a.Es,y:a.hb.rl.Bd().y+Math.sin(a.An[c])*a.Es},a.Pp=a.Hz)}function cd(a,b,c){ad(a,b,a.Ay);"left"==b?(a.yc[b]="default",bd(a,"lu",-Math.PI/4),bd(a,"ll",Math.PI/2),bd(a,"lh",0)):"right"==b&&(a.yc[b]="default",c&&(a.yc[b]="delay_default"),bd(a,"ru",Math.PI/4),bd(a,"rl",-Math.PI/2),bd(a,"rh",0))}
function dd(a,b){ad(a,b,a.sF);"left"==b?(a.yc[b]="loading_turret",bd(a,"lu",Math.PI/2),bd(a,"ll",0),bd(a,"lh",0)):"right"==b&&(a.yc[b]="loading_turret",bd(a,"ru",-Math.PI/2),bd(a,"rl",0),bd(a,"rh",0))}function bd(a,b,c){a.hl[b]={start:a.hb[b].ke(),end:c}}function ad(a,b,c){a.qf[b]=c;a.zz[b]=c}function Zc(a,b,c,d){var f=new m.l.M.pm;f.qd(c,d,b);f.Um=!0;f.Jz=-Math.PI/2;f.aB=Math.PI/2;f.Dr=!1;return a.ma.tB(f)}
l.$c=function(a){this.zw+=a;1==this.i.s.length&&this.rn>this.$z&&(this.rn=this.$z);if(0<this.nc)this.nc=Math.max(this.nc-a,0),this.visibility=1-this.nc/this.nd;else{0==this.tb&&(this.tb=!0,this.visibility=1,this.body.Be(F[this.type].Aa));0<this.pc&&(this.pc-=a);0<this.Pp&&(this.Pp-=a);"turret"==this.state?(this.Al-=a,0>this.Al&&(this.state="punching",cd(this,"left",!0),this.fk.left=0,this.fk.right=0,cd(this,"right",!0),this.rn=this.Zz)):"punching"==this.state&&(this.rn-=a,0>this.rn&&ed(this));for(arm in this.yc){this.qf[arm]-=
a;0<this.il[arm]&&(this.il[arm]-=a);"none"==this.yc[arm]&&ed(this);if("turret"==this.state)var b=Vb(this.body.ga(),R(this.body.g.position,Bc(this.q))+(Math.abs(this.zw%2E3-1E3)-500)/500*Math.PI/8);else"punching"==this.state&&(b=Vb(this.body.ga(),R(this.body.g.position,Bc(this.q))));if("loading"==this.yc[arm])if(this.body.ub(b),0>this.qf[arm]){Bc(this.q).Ib();var c=arm;ad(this,c,this.mA);"left"==c&&"left"==c&&(this.Bg.ll=this.hb.ll.ke(),this.Bg.lu=this.hb.lu.ke(),this.Bg.lh=this.hb.lh.ke(),this.yc[c]=
"punching",this.hb.ll.vh(0,Math.PI),this.hb.lu.vh(-Math.PI,Math.PI),this.hb.lh.vh(0,0));"right"==c&&(this.Bg.rl=this.hb.rl.ke(),this.Bg.ru=this.hb.ru.ke(),this.Bg.rh=this.hb.rh.ke(),this.yc[c]="punching",this.hb.rl.vh(-Math.PI,0),this.hb.ru.vh(-Math.PI,Math.PI),this.hb.rh.vh(0,0))}else fd(this);"default"==this.yc[arm]&&(this.body.ub(b),0>this.qf[arm]?0<this.fk[arm]?this.fk[arm]-=a:$c(this,Bc(this.q)):fd(this));"delay_default"==this.yc[arm]&&(this.body.ub(b),this.qf[arm]<-this.oE?0<this.fk[arm]?this.fk[arm]-=
a:$c(this,Bc(this.q)):fd(this));if("punching"==this.yc[arm])if(0>this.qf[arm]){c=arm;this.yc[c]="paralyzed";if("right"==c)var d=["rl","ru","rh"];"left"==c&&(d=["ll","lu","lh"]);c=void 0;for(c in d){var f=d[c];this.hb[f].vh(this.hb[f].ke(),this.hb[f].ke())}this.qf[arm]=this.hA}else{c=arm;if("left"==c){var f=R(this.Pa.lh.g.position,this.bi[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Pa.lh.g.position,this.bi[c]);this.hb.lu.Bd();10>g&&f.ca(g/10);"punching"==this.yc[c]&&f.ca(this.nA);this.Pa.lh.ia(f,
this.Pa.lh.h.o)}"right"==c&&(f=R(this.Pa.rh.g.position,this.bi[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Pa.rh.g.position,this.bi[c]),this.hb.ru.Bd(),10>g&&f.ca(g/10),"punching"==this.yc[c]&&f.ca(this.nA),this.Pa.rh.ia(f,this.Pa.rh.h.o))}"retract"==this.yc[arm]&&(0>this.qf[arm]?cd(this,arm):fd(this));"paralyzed"==this.yc[arm]&&0>this.qf[arm]&&(c=arm,ad(this,c,this.qA),"left"==c?(this.bi.left=null,this.yc[c]="retract",bd(this,"lu",this.Bg.lu),bd(this,"ll",this.Bg.ll),bd(this,"lh",this.Bg.lh)):
"right"==c&&(this.bi.right=null,this.yc[c]="retract",bd(this,"ru",this.Bg.ru),bd(this,"rl",this.Bg.rl),bd(this,"rh",this.Bg.rh)));"loading_turret"==this.yc[arm]&&(this.body.ub(b),0>this.qf[arm]?this.yc[arm]="turret_firing":fd(this));if("turret_firing"==this.yc[arm]&&(this.body.ub(b),0>this.qf[arm])){g=arm;c=new b2Vec2(Math.cos(this.body.ga()),Math.sin(this.body.ga()));f=this.Wm[Math.floor(Math.random()*this.Wm.length)];"easy"==J&&"tank"==f&&.5>Math.random()&&(f=this.Wm[Math.floor(Math.random()*this.Wm.length)]);
c.fb();var h=null;"left"==g&&(h={x:this.Pa.lh.g.position.x+3*c.x,y:this.Pa.lh.g.position.y+3*c.y});"right"==g&&(h={x:this.Pa.rh.g.position.x+3*c.x,y:this.Pa.rh.g.position.y+3*c.y});c.ca(this.Mn[f]);g=new this.i.Ty[f](this.ma,h.x,h.y,this.i.Ac,this.v);this.i.ii.push(g);g.body.ia(c,g.body.h.o);g.bj(this.Al+2E3);"stunner"==f&&g.open(1500);g.Rd=2*g.xe;g.bg(this.body.ga());0>this.be&&g.Mp(this.be+this.Li);this.i.Ac+=1;this.qf[arm]=this.WA}}if("normal"==J){if(0>this.be&&this.be>.9*-this.Li&&!this.Op)for(this.Op=
!0,bc("b1shrink"),this.Eg>this.Sc/this.BA&&(this.Eg=this.Sc/this.BA),this.q.Mp(Math.round(this.Li)),b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b].Mp(Math.round(this.Li));this.be<.9*-this.Li&&this.Op&&(this.Op=!1,bc("b1grow"));this.be<-this.Li&&(this.be=this.kl);this.be-=a;if(!(this.be>.9*this.kl)&&this.be<.175*this.kl&&0<=this.be)for(a=this.be;a>.05*this.kl;)a-=.05*this.kl}}};
function fd(a){var b=arm,c=[];"left"==b&&(c=["lu","ll","lh"]);"right"==b&&(c=["ru","rl","rh"]);for(index in c){var d=c[index];if("undefined"!==typeof a.hl[d].start&&"undefined"!==typeof a.hl[d].end){var f=Math.max(a.qf[b]/a.zz[b],0),g=null,g="function"==typeof a.hl[d].end?a.hl[d].end():a.hl[d].end,f=f*a.hl[d].start+(1-f)*g;a.hb[d].vh(f,f)}}}
function gd(a,b,c,d,f){var g=b.g.position;0<a.pc||0<a.il[f]?G(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm_red",vb):G(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm",vb)}function hd(a,b,c,d,f){var g=b.g.position;0<a.pc||0<a.il[f]?G(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand_red",vb):G(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand",vb)}
l.Qk=function(a,b){var c=this.body.g.position;0<this.pc?G(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_red_glow",vb):G(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_glow",vb);var d=[];for(index in d)if(c=d[index],this.Pa[c]){var f=this.Pa[c],c=f.g.position;G(a,c.x*b,c.y*b,f.ga(),190,190,"immunitas_glow",vb)}};
l.V=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);gd(this,this.Pa.lu,a,b,"left");gd(this,this.Pa.ru,a,b,"right");gd(this,this.Pa.ll,a,b,"left");gd(this,this.Pa.rl,a,b,"right");hd(this,this.Pa.lh,a,b,"left");hd(this,this.Pa.rh,a,b,"right");c=this.body.g.position;0<this.pc?G(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head_red",vb):
G(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head",vb);a.restore();this.Fd(a,b)}};
l.Hy=function(a,b){var c=1-Math.max(this.be,0)/this.kl;a.beginPath();var d=b*this.body.g.position.x,f=b*this.body.g.position.y;0<c&&(a.moveTo(d,f-106),a.lineTo(d+106*Math.min(1,c/.25),f-106+106*Math.min(1,c/.25)));.25<c&&(a.moveTo(d+106,f),a.lineTo(d+106-106*Math.min(1,(c-.25)/.25),f+106*Math.min(1,(c-.25)/.25)));.5<c&&(a.moveTo(d,f+106),a.lineTo(d-106*Math.min(1,(c-.5)/.25),f+106-106*Math.min(1,(c-.5)/.25)));.75<c&&(a.moveTo(d-106,f),a.lineTo(d-106+106*Math.min(1,(c-.75)/.25),f-106*Math.min(1,(c-
.75)/.25)));a.lineWidth=15;a.strokeStyle=z["boss 1"];a.stroke()};function id(a,b,c){for(var d=0;d<a.oA;d++){var f=d/a.oA*Math.PI*2;G(b,a.body.g.position.x*c+(a.Bn+.9)*c*Math.cos(f),a.body.g.position.y*c+(a.Bn+.9)*c*Math.sin(f),f,70,70,"immunitas_arrow",vb);b.globalAlpha*=.8;b.beginPath();b.arc(a.body.g.position.x*c,a.body.g.position.y*c,a.Bn*c,0,2*Math.PI,!1);b.strokeStyle="black";b.lineWidth=2;b.stroke();b.globalAlpha/=.8}}
l.Fd=function(a,b){this.O||(a.save(),null!=this.Dl&&(this.Dl<this.Cn?(a.beginPath(),a.globalAlpha=(this.Cn-this.Dl)/this.Cn*.7,id(this,a,b)):this.Dl>this.gw-this.Cn/2&&this.hE&&(a.beginPath(),a.globalAlpha=(this.Dl-(this.gw-this.Cn/2))/this.Cn/2*.7,id(this,a,b)),this.Dl<this.hw&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,(this.hw-this.Dl)/this.hw*this.Bn*b,0,2*Math.PI,!1),globalAlpha=.7,a.lineWidth=4,a.strokeStyle=this.color,a.stroke())),a.restore())};
l.ih=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){a.save();if(this.O){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;this.Qk(a,b);c=this.body.g.position;a.globalAlpha*=.6;0<this.pc?G(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura_red",vb):G(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura",vb);a.globalAlpha/=.6;0<=this.be&&this.Hy(a,b);a.globalAlpha*=.8;0>this.be&&this.be>=-this.Li&&(c=Math.min(5-Math.abs((-this.be-
this.Li/2)/(this.Li/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Ec,Fc));a.restore()}};l.move=function(){var a=this.body.ga(),b=R(this.body.g.position,Bc(this.q));Math.min(250,Wb(a,b)/Math.PI*1E3);Ub(a-Math.PI,a,b)?this.body.ub(this.body.ga()-Math.PI/2E3):this.body.ub(this.body.ga()+Math.PI/2E3)};
l.Te=function(a,b){if(!this.O&&this.tb)if(a==this.q&&(bc("b1hit"),Oc(this.v)),b==this.body){var c=R(this.body.g.position,a.body.g.position);a.body.ia(new b2Vec2(4*this.Rf*Math.cos(c),4*this.Rf*Math.sin(c)),a.body.h.o)}else{var c=R(this.body.g.position,a.body.g.position),d=this.Rf;this.Op&&(d*=2);d="punching"==this.state?1.5*d:b!=this.Pa.lh&&b!=this.Pa.rh?2*d:1*d;a.body.ia(new b2Vec2(d*Math.cos(c),d*Math.sin(c)),a.body.h.o)}};
l.Lj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Ib();c.Kg({x:.6*this.Dg[0][b].x,y:.6*this.Dg[0][b].y});a.push(c)}return a};l.ag=function(){var a=R(this.body.g.position,Bc(this.q));this.q.body.ia(new b2Vec2(this.Rf*Math.cos(a),this.Rf*Math.sin(a)),this.q.body.h.o)};function ed(a){a.state="turret";dd(a,"left");dd(a,"right");a.Al=a.bA;a.bi.left=null;a.bi.right=null;a.bz&&(a.Al/=2,a.bz=!1)}
l.Tr=function(){if(Q(this.body.g.position,Bc(this.q))<=this.Bn){var a=R(this.body.g.position,Bc(this.q));this.q.body.ia(new b2Vec2(this.Fs*Math.cos(a),this.Fs*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.Bn){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ia(new b2Vec2(this.Fs*Math.cos(b),this.Fs*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a]instanceof jd||this.i.s[a].open(1500)}};kd.prototype=new Pc;l=kd.prototype;l.constructor=kd;
function kd(a,b,c,d,f){this.type="third boss";this.ha(a,b,c,d,f);this.Yc=!1;this.Ge=5;this.Sc=1500;this.Eg=5;this.Md=!1;this.fi=!0;this.tb=!1;this.body.ub(7*Math.PI/16);this.pc=this.visibility=0;this.Jp=150;this.Rf=200;"easy"==J&&(this.Rf=120);this.uc=16;this.jc={};this.pk=2200;"easy"==J&&(this.pk=2800);this.Aq=1500;"easy"==J&&(this.Aq=2E3);this.eg=this.Aq;this.Cw=.7;this.Tf=!1;this.ph=16*this.pk*(1-this.Cw);this.ft=4E3;"easy"==J&&(this.ft=6E3);this.Yn=this.ft;this.zF=16;this.je=0;this.$b="gap";this.hg=
this.Tl=1E3;this.Fq=this.AF=2E3;this.vk=4;this.Xn=4.3;this.Cz=-1;this.hB=1E3;this.pi=0;this.qk=this.Dw=4500;this.zq=.75;this.Uu=0;this.oc="extend";this.fg=this.Pl=500;this.Km=this.K+2;this.AC=18;this.mi=this.K;this.Gq=0;this.Sg=ld(this);this.Fg=[];this.Vs=this.xw=200;this.et=!1;this.Ln={stunner:12,spear:9,tank:5,mote:9,goo:1,harpoon:5,disabler:1,fighter:3,troll:9};if("easy"==J)for(var g in this.Ln)this.Ln[g]*=.5,this.Ln[g]=Math.ceil(this.Ln[g]);this.Mn={stunner:25,spear:18,tank:200,mote:10,goo:200,
harpoon:400,disabler:300,fighter:400,troll:20};this.ZE={stunner:500,spear:1E3,tank:2E3,mote:500,goo:0,harpoon:5E3,disabler:0,fighter:5E3,troll:2E3,frenzy:1E3};this.nk=2E4;this.Oe=this.nk-1;this.md=7E3;this.Yi=!1;this.Il=-1;this.Fn=!1;for(a=0;a<this.uc;a++)b=Yb(this.ma,F[this.type].Ux,this.body.g.position.x,this.body.g.position.y,.01,16,"static",this),b.ub(this.body.ga()+Math.PI/(this.uc/2)*a),this.jc[a]={interval:this.pk,duration:0,Ti:0,Fe:this.K,body:b,xf:this.Cw}}
function ld(a){var b=["tank","fighter","troll","harpoon"],c=["stunner","spear","goo","disabler"],d="mote harpoon stunner spear goo disabler tank fighter troll".split(" ");6<a.i.s.length&&(c.push("frenzy"),d.push("frenzy"));a=[];var f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b.splice(f,1);f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b=Math.floor(Math.random()*d.length);a.push(d[b]);-1!=c.indexOf(d[b])&&c.splice(c.indexOf(d[b]),1);
a.push(c[Math.floor(Math.random()*c.length)]);return a}
l.$c=function(a){if(0<this.nc)this.nc=Math.max(this.nc-a,0),this.visibility=1-this.nc/this.nd;else{0==this.tb&&(this.tb=!0,this.visibility=1,this.body.Be(F[this.type].Aa));this.Fn&&(0==this.Il%2?this.body.ub(this.body.ga()+2*Math.PI*a/this.ph):1==this.Il%2&&this.body.ub(this.body.ga()-2*Math.PI*a/this.ph));if("normal"==J){if(0>this.Oe&&!this.Yi&&"activate"!=this.$b&&"fadeout"!=this.$b&&"gap"!=this.$b){this.Oe=0;this.Yi=!0;this.q.fc(Math.round(this.md));for(var b=0;b<this.i.s.length;b++)this.i.s[b].id!=
this.id&&this.i.s[b].fc(Math.round(this.md),!0,!0);"fadein"==this.$b?(this.hg=this.Tl-this.hg,this.$b="fadeout",this.je=null):"spinning"==this.$b||"activate"==this.$b?(this.hg=this.Tl,this.$b="fadeout","spinning"==this.$b&&(this.je=null)):"gap"==this.$b&&(this.Fq=this.Oe+this.md);"retract"==this.oc?(this.fg=this.Pl-this.fg,this.oc="extend"):"gap"==this.oc?(this.fg=this.Pl,this.oc="extend"):"striking"==this.oc?(md(this),this.oc="frenzy",this.Fn=!1,this.qk=this.Oe+this.md):"frenzy"==this.oc&&(this.qk=
this.Oe+this.md);this.Fg=[]}this.Yi&&this.Oe<-this.md&&(this.Yi=!1,this.Oe=this.nk);this.Oe-=a}"extend"==this.oc?(this.fg-=a,b=Math.min(1-this.fg/this.Pl,1),this.mi=this.K+b*(this.Km-this.K),nd(this,this.mi),0>this.fg&&(this.Yi?(this.oc="frenzy",this.qk=this.Oe+this.md):(this.oc="striking",this.Fn=!0,this.Il+=1),this.eg=0)):"striking"==this.oc?(od(this),15>=Q(this.body.g.position,Bc(this.q))?(this.eg-=a,0>=this.eg&&!(0<this.pi&&"frenzy"==this.Sg[this.je])&&(this.eg=this.Aq,pd(this))):this.eg-=a):
"retract"==this.oc?(this.fg-=a,b=Math.max(this.fg/this.Pl,0),this.mi=this.K+b*(this.Km-this.K),nd(this,this.mi),od(this),0>this.fg&&(this.oc="gap")):"gap"==this.oc?od(this):"frenzy"==this.oc&&(od(this),this.eg-=a,this.qk-=a,0>=this.eg&&this.qk>this.zq*this.pk&&(this.eg=this.Aq*this.zq,pd(this)),0>this.qk&&(this.oc="striking",this.Fn=!0,this.Il+=1,this.eg=this.Aq));if("fadein"==this.$b)this.je=0,this.hg-=a,this.Gq=Math.min(1-this.hg/this.Tl,1),0>=this.hg&&(this.$b="spinning",this.Gq=1,this.Yn=this.ft);
else if("spinning"==this.$b)this.Yn-=a,b=Math.pow(Math.min(1-this.Yn/this.ft,1),1),this.je=Math.floor(b*this.zF)%this.vk,this.Cz!=this.je&&(this.Cz=this.je,bc("b3tick")),0>=this.Yn&&qd(this);else if("fadeout"==this.$b)this.hg-=a,this.Gq=Math.max(this.hg/this.Tl,0),0>=this.hg&&(this.$b="gap",this.Gq=0,this.Fq=this.Yi?this.Oe+this.md:this.ZE[this.Sg[this.je]]+this.Uu,this.Uu=0,this.je=null);else if("activate"==this.$b){if("striking"==this.oc&&"frenzy"!=this.Sg[this.je]&&(this.oc="retract",this.Fn=!1,
this.fg=this.Pl,md(this)),this.pi!=this.hB||"frenzy"!=this.Sg[this.je]||this.et||md(this),this.pi-=a,0>this.pi)if(this.et)this.$b="fadeout",this.hg=this.Tl,"gap"==this.oc&&"frenzy"!=this.Sg[this.je]&&(this.oc="extend",this.fg=this.Pl);else{b=this.Sg[this.je];if("frenzy"!=b)for(var c=0;c<this.Ln[b];c++)this.Fg.push(b),this.pi+=this.xw;else this.oc="frenzy",this.Fn=!1,this.qk=this.Dw,this.pi+=this.Dw,this.eg=0;this.et=!0}}else"gap"==this.$b&&(this.Fq-=a,0>=this.Fq&&(this.$b="fadein",this.hg=this.Tl,
this.Sg=ld(this)));0<this.Fg.length&&(this.Vs-=a,0>this.Vs&&(this.Ys(this.Fg[0]),this.Fg.splice(0,1),this.Vs=this.xw));0<this.pc&&(this.pc-=a);if(!this.O)for(var d in this.jc)a=this.jc[d],a.body.ub(this.body.ga()+Math.PI/(this.uc/2)*d),a.body.jj(this.body.g.position),a.body.Pc.eb.Z[1]={x:Math.cos(0)*a.Fe,y:Math.sin(0)*a.Fe},a.body.Pc.eb.Z[2]={x:Math.cos(Math.PI/8)*a.Fe,y:Math.sin(Math.PI/8)*a.Fe}}};
function od(a){for(var b in a.jc){var c=a.jc[b];0<c.duration&&(c.duration-=dt);if(0>=c.duration)c.Fe=c.yq;else{var d=1-c.duration/c.interval,f=0;null==c.Ti&&(c.Ti=Q(a.body.g.position,Bc(a.q))+5,20>c.Ti&&(c.Ti+=10));var f=c.xf,g=c.xf+.3*(1-c.xf),h=c.xf+.7*(1-c.xf);d<f?(f=d/f,c.Fe=c.yq*(1-f)+c.oy*f):d>=f&&d<g?(f=(d-f)/(g-f),f=Xb(.15,.85,f),c.Fe=c.Ti*f+c.oy*(1-f),c.FA||(c.FA=!0,bc("b3strike"))):d>=g&&d<h?c.Fe=c.Ti:d>=h&&1>d&&(f=(d-h)/(1-h),f=Xb(.15,.85,f),c.Fe=0<f?c.Ti*(1-f)+c.yq*f:c.yq)}}}
function nd(a,b){for(var c in a.jc){var d=a.jc[c];d.yq=b;0>=d.duration&&(d.Fe=b)}}function md(a){for(var b in a.jc){var c=a.jc[b];if(0<c.duration){var d=1-c.duration/c.interval;d<c.xf?c.duration=0:d>c.xf&&d<.5*c.xf+.5&&(c.duration=2*c.interval*(.5-.5*c.xf)-c.duration)}}}
function pd(a){if("striking"==a.oc){for(var b=R(a.body.g.position,Bc(a.q)),c=Math.floor((b-a.body.ga())/(Math.PI/8));0>c;)c+=a.uc;for(var b=a.AC,d=0==a.Il%2?[c-1,c-3,c-2]:[c+3,c+1,c+2],f=d.length-1;0<=f;f--)d[f]>=a.uc&&(d[f]-=a.uc),0>d[f]&&(d[f]+=a.uc),0<a.jc[d[f]].duration&&d.splice(f,1);f=Math.floor(Math.random()*d.length);rd(a,d[f],b,a.pk)}else if("frenzy"==a.oc){b=R(a.body.g.position,Bc(a.q));for(c=Math.floor((b-a.body.ga())/(Math.PI/8));0>c;)c+=a.uc;for(var b=null,d=[c-3,c-2,c-1,c,c+1,c+2,c+
3,c+4],g=!1,f=d.length-1;0<=f;f--)0<a.jc[sd(a,d[f])].duration&&(d.splice(f,1),2<=f&&4>=f&&(g=!0));g||d.splice(d.indexOf(c+Math.floor(3*Math.random()-1)),1);f=Math.floor(Math.random()*d.length);rd(a,d[f],b,a.pk*a.zq);d.splice(f,1);c=Math.floor(Math.random()*d.length);rd(a,d[c],b,a.pk*a.zq);d.splice(c,1);rd(a,d[Math.floor(Math.random()*d.length)],b,a.pk*a.zq)}}function sd(a,b){b>=a.uc&&(b-=a.uc);0>b&&(b+=a.uc);return b}
function rd(a,b,c,d){a.lF||(a.lF=b);b=sd(a,b);0>=a.jc[b].duration&&(a.jc[b].duration=d,a.jc[b].interval=d,a.jc[b].Ti=c,a.jc[b].yq=a.Km,a.jc[b].oy=.8*a.Km,a.jc[b].xf=a.Cw,a.jc[b].FA=!1)}l.Ek=function(){for(var a=0;a<this.uc;a++){var b=Yb(this.ma,F[this.type].Ux,this.body.g.position.x,this.body.g.position.y,1,16,"dynamic",this),c=this.body.ga()+Math.PI/(this.uc/2)*a;b.ub(c);this.jc[a].body=b;c=new b2Vec2(Math.cos(c),Math.sin(c));c.fb();c.ca(10);b.ia(c,b.h.o)}};
l.Lj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Ib();c.Kg({x:this.Dg[0][b].x,y:this.Dg[0][b].y});a.push(c)}return a};
l.V=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);var d=this.body.g.position,c=[];if(this.tb)for(var f in this.jc)if(0<this.jc[f].duration||this.O){var d=this.jc[f].body.g.position,g=this.jc[f].body.ga();a.save();a.translate(d.x*b,d.y*b);a.rotate(g+Math.PI/16);d=this.jc[f].Fe*Math.cos(Math.PI/16);G(a,d/2*b,0,0,d*b,this.jc[f].Fe*Math.sin(Math.PI/
16)*2*b,0<this.pc?"negligentia_arm_striking_red":"negligentia_arm_striking",xb);a.restore();c.push(f)}a.save();a.beginPath();d=this.body.g.position;f=this.mi*b;-1!==c.indexOf("0")&&(f=this.mi*b*.8);g=this.body.ga();a.moveTo(d.x*b+f*Math.cos(g),d.y*b+f*Math.sin(g));for(var h=0;h<this.uc;h++){var k=(h+1)%this.uc;a.lineTo(d.x*b+f*Math.cos(2*k*Math.PI/this.uc+g),d.y*b+f*Math.sin(2*k*Math.PI/this.uc+g));var n=this.mi*b;-1!==c.indexOf(""+k)&&(n=this.mi*b*.8);n!=f&&(a.lineTo(d.x*b+n*Math.cos(2*k*Math.PI/
this.uc+g),d.y*b+n*Math.sin(2*k*Math.PI/this.uc+g)),f=n)}a.closePath();a.clip();if(this.tb)if("extend"==this.oc||"retract"==this.oc)d=this.body.g.position,G(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.mi*b*2,this.mi*b*2,"negligentia_arm_ring",xb);else if("striking"==this.oc||"frenzy"==this.oc)d=this.body.g.position,G(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.Km*b*2,this.Km*b*2,"negligentia_arm_ring",xb);a.restore();0<this.pc?G(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.K*b,2*this.K*b,"negligentia_head_red",
xb):G(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.K*b,2*this.K*b,"negligentia_head",xb);this.Fd(a,b);a.restore()}};l.Qk=function(a,b){var c=this.body.g.position;0<this.pc?G(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow_red",xb):G(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow",xb)};
l.ih=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){a.save();var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Yi&&0>this.Oe&&this.Oe>=-this.md&&(a.save(),c=Math.min(5-Math.abs((-this.Oe-this.md/2)/(this.md/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Ec,Fc),a.restore());this.Qk(a,b);this.Yi||(a.globalAlpha*=.4);for(c=0;16>c;c++){var d=this.body.g.position,f=2*Math.PI*
(c/16+.03125-.25);1-this.Oe/this.nk>1-c/16&&(0!=c||this.Yi)?(a.globalAlpha*=2,G(a,(d.x+Math.cos(f)*this.K*1.8)*b,(d.y+Math.sin(f)*this.K*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura",xb),a.globalAlpha/=2):G(a,(d.x+Math.cos(f)*this.K*1.8)*b,(d.y+Math.sin(f)*this.K*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura_open",xb)}a.restore()}};
l.Fd=function(a,b){a.save();a.globalAlpha*=this.Gq;if("fadein"==this.$b||"spinning"==this.$b||"fadeout"==this.$b||"activate"==this.$b){var c=0<this.pc?"negligentia_wheel_red":"negligentia_wheel";if("fadeout"==this.$b||"activate"==this.$b)c="negligentia_wheel_complete";var d=this.body.ga()+Math.PI/16+Math.PI/4,f=Math.PI/(this.vk/2)*(this.je+.5)+d;G(a,this.body.g.position.x*b,this.body.g.position.y*b,d+Math.PI/2*((this.je+1)%4),2*this.Xn*Math.cos(Math.PI/4)*b,2*this.Xn*Math.cos(Math.PI/4)*b,c,xb);if("fadein"==
this.$b||"spinning"==this.$b)for(c=0;c<this.vk;c++)f=Math.PI/(this.vk/2)*(c+.5)+d,"frenzy"!=this.Sg[c]?Ga(a,this.Sg[c],this.body.g.position.x*b+Math.cos(f+Math.PI/(this.vk/2)/2)*this.Xn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.vk/2)/2)*this.Xn*.4*b,15,f+1*Math.PI/4):Ma(a,3,this.body.g.position.x*b+Math.cos(f+Math.PI/(this.vk/2)/2)*this.Xn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.vk/2)/2)*this.Xn*.4*b,20,!0,f);else("fadeout"==this.$b||"activate"==this.$b)&&null!=this.je&&
("frenzy"!=this.Sg[this.je]?Ga(a,this.Sg[this.je],this.body.g.position.x*b,this.body.g.position.y*b,20,f+1*Math.PI/4):Ma(a,3,this.body.g.position.x*b,this.body.g.position.y*b,50,!0,f))}a.restore()};l.Hy=function(a,b){a.beginPath();var c=Math.min(1-this.Oe/this.nk,1);a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*b*1.5,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c*.999);a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
l.Ys=function(a){var b=R(this.body.g.position,Bc(this.q)),c=new this.i.Ty[a](this.ma,(this.body.g.position.x+Math.cos(b)*this.K*1.25)*E/E,(this.body.g.position.y+Math.sin(b)*this.K*1.25)*E/E,this.i.Ac,this.v);this.i.ii.push(c);this.i.Ac+=1;"stunner"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"spear"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"tank"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.7-.35*Math.PI);"mote"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI-
.5*Math.PI);"troll"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.8-.4*Math.PI);"harpoon"==a&&(b+=Math.random()*Math.PI/10-Math.PI/20);var d=new b2Vec2(Math.cos(b),Math.sin(b));d.ca(this.Mn[a]);c.body.ia(d,c.body.h.o);c.body.ub(b);c.Rd=2*c.xe;c.pg=0;c.Fh=0;"harpoon"==a&&c.fc(500,!0)};
l.Te=function(a,b){if(!this.O&&this.tb)if(a===this.q&&Oc(this.v),b!==this.body)for(var c in this.jc){var d=this.jc[c],f=1-d.duration/d.interval;if(d.body==b&&(f>d.xf&&f<d.xf+.3*(1-d.xf)||1<=f||f<d.xf))if(d=R(this.body.g.position,a.body.g.position),a===this.q)a.body.ia(new b2Vec2(this.Rf*Math.cos(d),this.Rf*Math.sin(d)),a.body.h.o),Oc(this.v);else if("harpoonhead"==a.type)a.body.ia(new b2Vec2(this.Mn.harpoon*Math.cos(d),this.Mn.harpoon*Math.sin(d)),a.body.h.o);else{if(void 0!=this.Mn[a.type])var g=
F[a.type];g&&(f=a.body.Y*Math.sqrt(g.Aa)*this.Rf,a.body.ia(new b2Vec2(f*Math.cos(d),f*Math.sin(d)),a.body.h.o))}}else d=R(this.body.g.position,a.body.g.position),c=1,a===this.q&&"easy"==J&&(c=.5),a.body.ia(new b2Vec2(this.Rf*c*Math.cos(d),this.Rf*c*Math.sin(d)),a.body.h.o)};function qd(a){a.$b="activate";a.pi=a.hB;a.et=!1;bc("b3select")}l.ze=function(){this.pc=this.Jp;"spinning"==this.$b&&(qd(this),this.Uu=this.Yn)};td.prototype=new Pc;l=td.prototype;l.constructor=td;
function td(a,b,c,d,f){this.type="second boss";this.ha(a,b,c,d,f);this.Yc=!1;this.Ge=5;this.Md=!1;this.Df=[];this.rg=this.al=1E3;this.as=2E3;this.bs=8;this.fi=!0;this.ri=3*Math.PI/4;this.jr=3*Math.PI/16;"easy"==J&&(this.jr=5*Math.PI/32);this.YB=1*Math.PI/2;this.si=this.jr;this.Wx=1*Math.PI/8;this.ir=50;this.Vx=.9;this.uc=4;this.so=[];this.Tx=15E3;this.tb=!1;this.body.ub(this.ri);this.Tf=!1;this.ph=this.Tx;this.visibility=0;this.cp=13400;this.Id=this.cp-1;this.Lk=2E3;this.wm=0;this.hy=10;this.pC=1;
this.dp=1E3;this.bp=.7;this.su=!1;this.Jp=150;this.dh=this.pc=0;this.body.Be(2*F[this.type].Aa);this.Oj=2.5;this.vg=4;this.tu=.75;this.fp=.3;this.xm=1.2;"easy"==J&&(this.tu*=1.5,this.fp*=1.5,this.xm*=1.5);this.KA=!1;this.Ol=[];this.Mb=this.tg=1;this.UA=.2;this.iz=.125;this.RE=.025;this.Ru=1E4;"easy"==J&&(this.Ru=12E3);this.xp=2E3;this.Xs=[["stunner","mote"],["harpoon","spear"],["tank","goo"]];this.Qu={stunner:.4,spear:.4,tank:2,mote:.2,goo:2.5,harpoon:2};this.cw=!1;this.wp=[];this.Ml=0}
l.$c=function(a){if(!this.KA){this.KA=!0;for(var b=[[O-80,P-80],[80,80]],c=0;c<b.length;c++){var d=new ud(b[c][0],b[c][1],this,this.v);d.nc=c/b.length*d.nd;this.Ol.push(d)}}if(0<this.nc)this.nc=Math.max(this.nc-a,0),this.visibility=1-this.nc/this.nd;else{0==this.tb&&(this.tb=!0,this.visibility=1,this.body.Be(F[this.type].Aa));this.body.ub(this.ri);0<this.pc&&(this.pc-=a);this.xp-=a;0>this.xp&&(this.xp=this.Ru,vd(this.Ol[0],this.Xs[this.Ml][0]),vd(this.Ol[1],this.Xs[this.Ml][1]),this.Ml+=1,this.Ml%=
this.Xs.length);1<this.tg&&(this.tg=Math.max(1,this.tg-a/1E3*this.RE));if(this.Mb!=this.tg){this.Mb=this.Mb<this.tg?Math.min(this.Mb+this.UA*a/1E3,this.tg):Math.max(this.Mb-this.UA*a/1E3,this.tg);c=this.body.Pc;void 0===c.length&&(c=[c]);for(b=0;b<c.length;b++)for(var d=this.body.Pc.eb.Z,f=this.cc[b],g=0;g<d.length;g++)d[g]=new b2Vec2(f.x+f.X*f.ba[g][0]*this.Mb,f.y+f.X*f.ba[g][1]*this.Mb);this.body.kg()}this.zn(a);c=this.jr+Math.min(1,(this.tg-1)/2)*(this.YB-this.jr);this.si!=c&&(this.si=this.si<
c?Math.min(this.si+this.Wx*a/1E3,c):Math.max(this.si-this.Wx*a/1E3,c));for(var h in this.Ol)this.Ol[h].pa(a);this.WE&&(0>this.EA?this.WE=!1:this.EA-=a);this.ri+=2*Math.PI*a/(this.Tx/this.Mb);for(c=0;c<this.i.s.length;c++)this.i.s[c].id!=this.id&&(h=R(this.i.s[c].body.g.position,this.body.g.position),b=this.Qu[this.i.s[c].type]*this.Ep(this.i.s[c].body.g.position,!0),0<b&&this.i.s[c].body.ia(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.i.s[c].body.h.o));this.dh=0;h=R(Bc(this.q),this.body.g.position);
b=this.Ep(Bc(this.q));0<b&&(this.dh+=b,this.q.body.ia(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.q.body.h.o));if("normal"==J){if(0>this.Id)for(this.su||(this.su=!0,bc("b2bhole")),h=-this.Id/this.Lk,this.wm=h<this.bp?h/this.bp*this.K*this.vg*this.Mb:this.K*this.Mb*this.vg*(1-(h-this.bp)/(1-this.bp)),h=1,-this.Id/this.Lk<this.bp&&(h=.05),c=0,this.cw||(c=Q(this.body.g.position,Bc(this.q))<=this.wm?this.hy*h*this.pC:this.fp,b=R(this.body.g.position,Bc(this.q))+Math.PI,this.dh+=c,this.q.body.ia(new b2Vec2(c*
Math.cos(b),c*Math.sin(b)),this.q.body.h.o),this.dh+=c),c=0;c<this.i.s.length;c++)-1!=this.wp.indexOf(this.i.s[c])||this.i.s[c].O||this.i.s[c]===this||(Q(this.body.g.position,this.i.s[c].body.g.position)<=this.wm?(b=R(this.body.g.position,this.i.s[c].body.g.position)+Math.PI,d=this.hy*this.Qu[this.i.s[c].type]*h):(b=R(this.body.g.position,this.i.s[c].body.g.position)+Math.PI,d=this.fp*this.Qu[this.i.s[c].type]),this.i.s[c].body.ia(new b2Vec2(d*Math.cos(b),d*Math.sin(b)),this.i.s[c].body.h.o));this.Id<
-this.Lk&&(this.Id=this.cp,this.wm=0,this.cw=!1,this.wp=[],this.su=!1);this.Id-=a}}};l.Ep=function(a,b){for(var c=Q(a,this.body.g.position),d=wd(this),f=0;f<d.length;f++)if(Kb(d[f],a))return c<=this.K*this.Mb*this.Oj?2*this.xm:c<=this.K*this.Mb*this.vg?1.5*this.xm:b?.5*this.xm:this.xm;if(c<=this.K*this.Mb*this.Oj)return this.tu;if(c<=this.K*this.Mb*this.vg)return this.fp};
l.ih=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){a.save();if(this.O){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;0>this.Id&&this.Id>=-this.Lk&&(a.globalAlpha*=.5,c=Math.min(5-Math.abs((-this.Id-this.Lk/2)/(this.Lk/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Ec,Fc),a.globalAlpha*=2);this.Qm(a,b);0>this.Id&&this.Id>=-this.Lk&&(c=this.body.g.position,G(a,c.x*b,c.y*b,0,this.wm*b*2,this.wm*b*
2,"consumendi_aura",wb));var d=1;this.Id>=this.cp-this.dp?d=1-(this.Id-this.cp+this.dp)/this.dp:this.Id<=this.dp&&0<this.Id&&(d=this.Id/this.dp);c=this.body.g.position;0<this.Id&&G(a,c.x*b,c.y*b,0,90*d*this.Mb*this.Oj,90*d*this.Mb*this.Oj,"consumendi_aura",wb);a.save();a.globalAlpha*=.7;for(d=0;16>d;d++){var f=2*Math.PI*(d/16+.03125-.25);this.tb&&1-this.Id/this.cp>1-d/16?G(a,(c.x+Math.cos(f)*this.K*this.Mb*this.vg)*b,(c.y+Math.sin(f)*this.K*this.Mb*this.vg)*b,f,30,56,"consumendi_small_diamond_filled",
wb):G(a,(c.x+Math.cos(f)*this.K*this.Mb*this.vg)*b,(c.y+Math.sin(f)*this.K*this.Mb*this.vg)*b,f,30,56,"consumendi_small_diamond",wb)}a.restore();this.Qk(a,b);a.restore()}};
l.V=function(a,b){if(!(0==this.tb&&this.nc>.9*this.nd)){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;0<this.pc?G(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Mb,90*this.Mb,"consumendi_head_red",wb):G(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Mb,90*this.Mb,"consumendi_head",wb);this.Fd(a,b);a.restore()}};
l.Ek=function(){if(0!=this.so.length)for(var a=0;10>a;a++){var b=this.so[Math.floor(this.so.length/10*a)],c=R(this.body.g.position,this.q.body.g.position)+2*(Math.random()-.5)*Math.PI,c=new b2Vec2(Math.cos(c),Math.sin(c));c.fb();c.ca(100);Hc(this.i,b,this.body.g.position,c)}};l.Qk=function(a,b){var c=this.body.g.position;0<this.pc?G(a,c.x*b,c.y*b,this.body.ga(),200*this.Mb,200*this.Mb,"immunitas_red_glow",vb):G(a,c.x*b,c.y*b,this.body.ga(),200*this.Mb,200*this.Mb,"consumendi_glow",wb)};
l.Fd=function(a,b){for(var c in this.Ol)this.Ol[c].V(a,b,Math.max(this.xp,0)/this.Ru,this.Xs[this.Ml][c]);c=wd(this);a.save();a.beginPath();a.rect(0,0,O,P);a.clip();for(var d=0;d<c.length;d++){a.beginPath();a.moveTo(c[d][0].x*b,c[d][0].y*b);for(var f=1;f<c[d].length;f++)a.lineTo(c[d][f].x*b,c[d][f].y*b);a.closePath();a.save();a.globalAlpha*=this.visibility/4;a.fillStyle=this.color;a.fill();var f=this.body.g.position,g=2*Math.PI*d/this.uc+this.ri;G(a,(f.x+Math.cos(g)*this.K*this.Mb*this.vg*1.5)*b,
(f.y+Math.sin(g)*this.K*this.Mb*this.vg*1.5)*b,g+Math.PI/2,50,80,"consumendi_small_arrow",wb);a.restore()}a.restore();f=Bc(this.q);c=R(f,this.body.g.position);this.q.O||(.3<=this.dh&&G(a,(f.x+2*Math.cos(c))*b,(f.y+2*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",wb),.75<=this.dh&&G(a,(f.x+2.75*Math.cos(c))*b,(f.y+2.75*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",wb),1.2<=this.dh&&G(a,(f.x+3.5*Math.cos(c))*b,(f.y+3.5*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",
wb),2<=this.dh&&G(a,(f.x+4.25*Math.cos(c))*b,(f.y+4.25*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",wb))};
function wd(a){for(var b=[],c=0;c<a.uc;c++){var d=[];d.push({x:a.body.g.position.x,y:a.body.g.position.y});d.push({x:a.body.g.position.x+a.ir*a.Vx*Math.cos(2*Math.PI*c/a.uc+a.ri-a.si/2),y:a.body.g.position.y+a.ir*a.Vx*Math.sin(2*Math.PI*c/a.uc+a.ri-a.si/2)});d.push({x:a.body.g.position.x+a.ir*Math.cos(2*Math.PI*c/a.uc+a.ri+a.si/2),y:a.body.g.position.y+a.ir*Math.sin(2*Math.PI*c/a.uc+a.ri+a.si/2)});b.push(d)}return b}l.move=function(){};
l.Te=function(a){this.O||!this.tb||a.O||(a===this.q?(bc("b2eat"),R(this.body.g.position,a.body.g.position),this.cw=!0,a.Tc("absorbed"),Oc(this.v)):a!==this.q&&(bc("b2eat"),"harpoonhead"!=a.type?(a.Tc("absorbed"),this.tg+=this.iz,this.wp.push(a),this.so.push(a.type)):(this.so.push("harpoon"),a.Fi.Tc("absorbed"),this.tg+=this.iz,this.wp.push(a),this.wp.push(a.Fi))))};l.Lj=function(){for(var a=[],b=0;b<this.Dg[0].length;b++){var c=this.body.g.position.Ib();c.Kg(this.Dg[0][b]);a.push(c)}return a};
l.zn=function(a){for(var b=0;b<this.Df.length;b++){var c=this.Df[b];c.ld+=a/this.as;1<c.ld&&this.Df.splice(b,1)}this.rg-=a;0>this.rg&&(this.rg+=this.al,this.Bp(this.body.g.position.x,this.body.g.position.y,this.bs))};l.Bp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.Df.push({Aw:Math.cos(f)*this.K*this.Mb*this.Oj+a,Bw:Math.sin(f)*this.K*this.Mb*this.Oj+b,ld:0})}};
l.Qm=function(a,b){for(var c=0;c<this.Df.length;c++){var d=this.Df[c];a.save();a.globalAlpha=.25>d.ld?4*a.globalAlpha*d.ld:(1-d.ld)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.Aw*(1-d.ld)+this.body.g.position.x*d.ld)-3,b*(d.Bw*(1-d.ld)+this.body.g.position.y*d.ld)-3,6,6);a.fillStyle=z["world "+this.v.n+" bright"];a.fill();a.restore()}};function ud(a,b,c,d){this.x=a;this.y=b;this.Pg=c;this.color=this.Pg.color;this.ma=this.Pg.ma;this.v=d;this.i=this.v.i;this.q=this.v.q;this.size=60;this.visibility=0;this.Wm={stunner:3,spear:3,tank:2,mote:2,goo:1,harpoon:2};this.IC={stunner:3,spear:3,tank:2,mote:1,goo:1,harpoon:1};this.Oj=.75;this.vg=1.5;this.$C=.8;this.nD=.2}
ud.prototype.V=function(a,b,c,d){a.save();a.globalAlpha*=.5;G(a,this.x,this.y,Math.PI/4,2*this.size,2*this.size,"consumendi_glow",wb);G(a,this.x,this.y,Math.PI/4,this.size,this.size,"consumendi_mini",wb);0<c&&(a.beginPath(),a.arc(this.x,this.y,.75*this.size,-.5*Math.PI,-.5*Math.PI-2*Math.PI*(1-c),!0),a.lineWidth=4,a.strokeStyle=F[d].color,a.stroke());a.restore()};
ud.prototype.pa=function(){for(var a=0;a<this.i.s.length;a++)if(this.i.s[a].id!=this.id){var b=R(this.i.s[a].body.g.position,{x:this.x/E,y:this.y/E})+Math.PI,c=this.Ep(this.i.s[a].body.g.position);0<c&&this.i.s[a].body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.i.s[a].body.h.o)}b=R(this.q.body.g.position,{x:this.x/E,y:this.y/E})+Math.PI;c=this.Ep(this.q.body.g.position);0<c&&this.q.body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.q.body.h.o)};
ud.prototype.Ep=function(a){a=Q(a,{x:this.x/E,y:this.y/E});return a<=this.size/E*this.Oj?this.$C:a<=this.size/E*this.vg?this.nD:0};function vd(a,b){var c=a.Wm[b];"easy"==J&&(c=a.IC[b]);if(a.i.Uk[b]+1<=a.i.Vm[b][6])for(var d=0;d<c;d++){var f=R({x:a.x/E,y:a.y/E},a.Pg.body.g.position),f=[(a.x+a.size/2*Math.cos(f))/E,(a.y+a.size/2*Math.sin(f))/E],f=new F[b].className(a.ma,f[0],f[1],a.i.Ac,a.v);"harpoon"==f.type&&(f.CC=!0);a.i.ii.push(f);a.i.Ac+=1}};xd.prototype=new Ha;l=xd.prototype;l.constructor=xd;
function xd(a,b,c,d,f){void 0!==a&&(this.type="deathray",this.ha(a,b,c,d,f),null!==a&&(this.Md=!1,this.Ps=10,this.nw=2,this.fD=5,this.fi=!0,this.Rw=!1,this.Sc=1E3,"easy"==J&&(this.Sc=1400),this.Zm=!1,this.uo=.5,this.Eg=this.Sc,this.hr=.56,this.Ei=this.Zk=200,this.Bj=5,this.yd=null,this.Js=.8,this.Hs=-.5,this.Is=400,this.Ql=1500,"easy"==J&&(this.Ql=2E3),this.Xu=this.Fk=!1,this.Mj=null,this.Ks=100,this.Ls=Math.PI/48,this.Tf=!1,this.Ih=3,this.Zc=100,this.np=!1))}
l.bj=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1]);this.di=this.Gc=a};
l.$c=function(a){this.Fk?this.bg(this.yd):this.bg(R(this.body.g.position,this.q.body.g.position));this.fi!=Q(this.q.body.g.position,this.body.g.position)>this.Ps&&(this.fi=!this.fi);0<this.Ju&&(this.Ju-=a);this.Rw=Rb(this.fD,this.body.g.position);0<this.Gc&&(this.Gc-=a);if(0<this.r[1])yd(this);else if(0>=this.Eg)if(0>=this.Ei)yd(this),this.bj(this.Ql);else{if(this.Ei=Math.max(this.Ei-a,0),bc("deathray"),this.Ei<=this.Zk/2&&!this.Xu){a=zd(this);this.Xu=!0;if(Kb(a,this.q.body.g.position)){var b=1;0<
this.q.r[5]&&!this.q.sk&&(b*=10);0<this.q.r[2]&&(b*=.25);this.q.body.ia(new b2Vec2(b*this.Is*Math.cos(this.yd),b*this.Is*Math.sin(this.yd)),this.q.body.h.o);Oc(this.v)}for(b=0;b<this.i.s.length;b++)if(this.i.s[b]!=this&&Kb(a,this.i.s[b].body.g.position)){if("orbiter"==this.i.s[b].type){var c=this.i.s[b];c.Wn=c.Qw}this.i.s[b].body.ia(new b2Vec2(this.Is*Math.cos(this.yd),this.Is*Math.sin(this.yd)),this.i.s[b].body.h.o);this.i.s[b].open(2500)}}}else if(this.Fk||!this.Fk&&this.Rw&&!this.Sv)this.Eg=Math.max(this.Eg-
a,0),this.Eg<=this.Sc*this.hr&&!this.Fk&&(this.yd=R(this.body.g.position,this.q.body.g.position),this.Eg=this.Sc*this.hr,this.Fk=!0)};l.Fd=function(a){0<this.Gc&&!this.O&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Gc/this.di,"#444444",4)};function yd(a){a.Eg=a.Sc;a.Ei=a.Zk;a.Fk=!1;a.Xu=!1;a.yd=null}
function zd(a){var b=[];b.push({x:a.body.g.position.x+a.Hs*Math.cos(a.yd)+a.Js*Math.cos(a.yd+Math.PI/2),y:a.body.g.position.y+a.Hs*Math.sin(a.yd)+a.Js*Math.sin(a.yd+Math.PI/2)});b.push({x:a.body.g.position.x+a.Hs*Math.cos(a.yd)+a.Js*Math.cos(a.yd-Math.PI/2),y:a.body.g.position.y+a.Hs*Math.sin(a.yd)+a.Js*Math.sin(a.yd-Math.PI/2)});b.push({x:b[1].x+a.Ks*Math.cos(a.yd-a.Ls),y:b[1].y+a.Ks*Math.sin(a.yd-a.Ls)});b.push({x:b[0].x+a.Ks*Math.cos(a.yd+a.Ls),y:b[0].y+a.Ks*Math.sin(a.yd+a.Ls)});return b}
l.Mf=function(a,b,c,d){d||(this.open(this.ck),this.ua.impulsed+=this.Hp);this.body.ia(new b2Vec2(this.Ih*b*Math.cos(c),this.Ih*b*Math.sin(c)),this.body.h.o);d&&!this.Gf||this.ze(a,b,c)};l.fz=function(){if(this.fi)return null==this.Mj&&(this.Mj={x:this.i.aj.x/E,y:this.i.aj.y/E}),this.Mj;this.Mj=null;for(var a=N[this.v.P].Ca,b=null,c=1E3,d=0;d<a.length;d++){var f=Q({x:a[d][0]/E,y:a[d][1]/E},this.body.g.position);f<c&&(c=f,b=a[d])}return{x:b[0]/E,y:b[1]/E}};l.yj=Ha.prototype.move;
l.move=function(){this.Fk||(this.fi?this.Rw?(this.Mj=this.path=null,this.Sv=!1):Q(this.q.body.g.position,this.body.g.position)>this.Ps+this.nw?(null==this.path&&(this.Rd=2*this.xe),this.yj(),this.Sv=!0):this.Mj=null:(null==this.path&&(this.Rd=2*this.xe),this.Mj=null,this.yj(),this.Sv=!0))};
l.ih=function(a,b){if(0>=this.r[1]){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha*=1-c;var d=zd(this);if(this.Eg<=this.Sc*this.hr&&null!=this.yd){c=1-this.Eg/(this.Sc*this.hr);a.save();a.beginPath();a.globalAlpha*=Math.max(c,.2);a.moveTo(d[1].x*b,d[1].y*b);a.lineTo(d[2].x*b,d[2].y*b);a.moveTo(d[3].x*b,d[3].y*b);a.lineTo(d[0].x*b,d[0].y*b);a.lineWidth=1;a.strokeStyle=this.color;a.stroke();if(this.Ei<this.Zk){c=this.Ei>this.Zk/2?this.Zk-this.Ei:this.Ei;c/=this.Zk/2;a.globalAlpha*=
c;a.beginPath();a.moveTo(d[0].x*b,d[0].y*b);for(c=1;c<d.length;c++)a.lineTo(d[c].x*b,d[c].y*b);a.closePath();a.fillStyle=this.color;a.fill()}a.restore()}a.restore()}};l.cl=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a?"#444444":"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.ov:"ulted"==a?z.impulse_blue:"white"==a?"white":"world"==a.slice(0,5)?z["world "+a.slice(5,6)+" lite"]:this.Cp(a)};l.fc=function(a,b){b&&(this.yf=!0);this.r[1]=Math.max(a,this.r[1])};
l.$j=function(a){Rb(-3,this.body.g.position)||a.ca(this.Bj);for(var b=!1,c=0;c<this.i.fe.length;c++)Kb(this.i.fe[c],this.body.g.position)&&(b=!0);b?a.ca(this.tw):(0<this.r[1]&&a.ca(.5),0<this.r[2]&&a.ca(this.nh),a.ca(this.sa))};l.ag=function(){};Ad.prototype=new Ha;Ad.prototype.constructor=Ad;function Ad(a,b,c,d,f){this.type="dumb_stunner";this.gi=!1;this.ha(a,b,c,d,f)};Bd.prototype=new Ha;l=Bd.prototype;l.constructor=Bd;
function Bd(a,b,c,d,f){void 0!==a&&(this.type="fighter",this.ha(a,b,c,d,f),this.er=["frenzy"],null!==a&&(this.Ge=5,this.Sc=2E3,this.Ej=750,this.Ne=[this.Sc,2*this.Sc],this.yA=.15,this.Rs=[!1,!1],this.sw=400,this.Ll=0,this.xA=2.5*this.K,this.ov=this.color,this.Md=!1,this.Ps=10,this.nw=2,this.Bj=5,this.lv=!1,this.fi=!0,this.zA=this.K,this.AA=2*this.K,this.pe=0,this.dz=2500,"easy"==J&&(this.dz=3500),this.Dj=5,this.Je="normal",this.yh=3,this.Og=!1,this.Zc=100,"easy"==J&&(this.Zc=80),this.uj=!1,this.cE=
200,this.kq=0,this.np=!1))}function Cd(a,b){var c=a.Ce+Math.PI/2*(b%2*2-1);return{x:a.body.g.position.x+a.AA*Math.cos(c)+a.zA*Math.cos(a.Ce),y:a.body.g.position.y+a.AA*Math.sin(c)+a.zA*Math.sin(a.Ce)}}l.Cp=function(a){if("frenzy"==a)return"red"};l.Kj=function(){if(!this.O){if(0<this.r[0])return"stunned";if("frenzy"==this.Je)return"frenzy";if(this.yf)return"silenced";if(0<this.r[2])return"gooed";if(0<this.ua.impulsed)return"impulsed"}return this.Dp()};
l.$c=function(a){"normal"==this.Je&&this.pe>=this.Dj&&(bc("ffrenzy"),this.Je="frenzy",this.Ne=[this.Ej,this.Ej],this.color="red",this.body.Be(5*F[this.type].Aa));if(0>=this.r[1]&&0>=this.kq&&Q(this.body.g.position,this.q.body.g.position)<this.xA){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.Zc*Math.cos(b),this.Zc*Math.sin(b)),this.q.body.h.o);Oc(this.v);this.Ll=this.sw;this.kq=this.cE}0<this.r[1]?this.body.Be(.5*this.Aa):this.body.Be(this.Aa);0<this.kq&&(this.kq-=
a);"frenzy"==this.Je&&0>=this.pe&&(this.Je="normal",this.Ne=[this.Sc,2*this.Sc],this.color=F[this.type].color,this.body.Be(F[this.type].Aa));for(b=0;b<this.Ne.length;b++){if(0>=this.Ne[b]&&!this.Rs[b]&&0>=this.r[1]&&Rb(0,this.body.g.position)){var c=Cd(this,b);this.lv=Ib(c,this.q.body.g.position,this.i.ff);var d=R(c,this.q.body.g.position);this.lv?(this.Ne[b]="normal"==this.Je?2*this.Sc:this.Ej,bc("fbullet"),"frenzy"==this.Je?(this.pe-=.5,c=new Dd(this.ma,c.x,c.y,this.i.Ac,this.v,d,this.id),d=new b2Vec2(Math.cos(d),
Math.sin(d)),d.ca(2)):(c=new Ed(this.ma,c.x,c.y,this.i.Ac,this.v,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),d.ca(.5)),c.body.ia(d,c.body.h.o),this.i.ii.push(c),this.i.Ac+=1):this.Rs[b]=!0}this.Rs[b]&&this.Ne[b]<-this.yA*("normal"==this.Je?this.Sc:this.Ej)&&(this.Ne[b]="normal"==this.Je?2*this.Sc+this.Ne[b]:this.Ej,this.Rs[b]=!1);Rb(0,this.body.g.position)&&(this.Ne[b]-=a)}"normal"==this.Je&&0>=this.r[1]&&this.pe<this.Dj&&Rb(0,this.body.g.position)&&(this.pe+=a/this.dz);0<this.Ll&&(this.Ll-=
a)};l.ag=function(){};
l.Fd=function(a,b){if(!this.O){a.save();a.globalAlpha*=.7;if(0<this.pe){for(var c=0;c<Math.floor(this.pe);c++)a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.K*b,-Math.PI/2+2*Math.PI*(c+1)/this.Dj-Math.PI/24,-Math.PI/2+2*Math.PI*c/this.Dj+Math.PI/24,!0),a.strokeStyle="red",a.lineWidth=5,a.stroke();if(0>=this.r[1]&&this.pe<this.Dj){var c=Math.floor(this.pe),d=this.pe-c;a.beginPath();a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.K*b,-Math.PI/2+2*Math.PI*
c/this.Dj+Math.PI/24+(2*Math.PI/this.Dj-Math.PI/12)*d,-Math.PI/2+2*Math.PI*c/this.Dj+Math.PI/24,!0);a.lineWidth=5;a.strokeStyle="red";a.stroke()}}a.restore();for(c=0;c<this.Ne.length;c++){var d=Cd(this,c),f="normal"==this.Je?this.Sc:this.Ej,f=Math.max((f-this.Ne[c])/f,0);if(0<f&&1>f){a.save();a.globalAlpha*=f;var g="frenzy"==this.Je?"piercing_fighter_bullet":"fighter_bullet";this.Ce?Ga(a,g,d.x*b,d.y*b,null,this.Ce):Ga(a,g,d.x*b,d.y*b,null,this.body.ga());0<this.Ne[c]&&0<f&&(a.beginPath(),a.arc(d.x*
b,d.y*b,this.K*b*1,-.5*Math.PI,-.5*Math.PI+2*Math.PI*f*.999),a.lineWidth=2,a.strokeStyle=this.color,a.stroke());a.restore()}else 0>this.Ne[c]&&(f=1-Math.min((f-1)/this.yA,1),a.save(),a.globalAlpha*=f,g="frenzy"==this.Je?"piercing_fighter_bullet":"fighter_bullet",this.Ce?Ga(a,g,d.x*b,d.y*b,null,this.Ce):Ga(a,g,d.x*b,d.y*b,null,this.body.ga()),a.beginPath(),a.arc(d.x*b,d.y*b,this.K*b*1,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=2,a.strokeStyle=this.color,a.stroke(),a.restore())}0<this.Ll&&(c=
1-Math.abs(1-2*this.Ll/this.sw),a.save(),a.globalAlpha*=Xb(.15,.85,c),a.beginPath(),a.strokeStyle=this.color,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.xA*b,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=3,a.stroke(),a.fillStyle=this.color,a.globalAlpha/=4,a.fill(),a.restore())}};l.Lt=function(){};l.fc=function(a,b){b&&(this.yf=!0);this.r[1]=Math.max(a,this.r[1]);this.Ne[0]="normal"==this.Je?this.Sc:this.Ej;this.Ne[1]="normal"==this.Je?2*this.Sc:this.Ej};
l.$j=function(a){Rb(-3,this.body.g.position)||a.ca(this.Bj);for(var b=!1,c=0;c<this.i.fe.length;c++)Kb(this.i.fe[c],this.body.g.position)&&(b=!0);b?a.ca(this.tw):("frenzy"==this.Je&&0>=this.r[1]&&!this.lv&&a.ca(this.Bj),0<this.r[1]&&a.ca(.5),0<this.r[2]&&a.ca(this.nh),a.ca(this.sa))};
l.Tr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.K*this.yh){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.Zc*Math.cos(a),this.Zc*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.K*this.yh){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ia(new b2Vec2(this.Zc*Math.cos(b),this.Zc*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.Mf=function(a,b,c,d){d||this.open(this.ck);var f=1.5;0<this.r[1]||d||(f=.6);this.body.ia(new b2Vec2(f*b*Math.cos(c),f*b*Math.sin(c)),this.body.h.o);this.ua.impulsed+=this.Hp;this.ze(a,b,c)};l.ze=function(){0<this.pe&&(--this.pe,0>this.pe&&(this.pe=0));0>=this.r[1]&&(this.Ll=this.sw)};Ed.prototype=new Ha;l=Ed.prototype;l.constructor=Ed;function Ed(a,b,c,d,f,g,h){void 0!==a&&(this.type="fighter_bullet",this.ha(a,b,c,d,f),null!==a&&(this.Yc=!1,this.Ge=5,this.gc=new b2Vec2(Math.cos(g),Math.sin(g)),this.gc.fb(),this.gc.ca(this.sa),"easy"==J&&this.gc.ca(.5),this.Md=!1,this.gp=100,"easy"==J&&(this.gp=50),this.to=!1,this.zu=150,"easy"==J&&(this.zu=75),this.$v=h,this.iw=!1,this.body.Gx(),this.Md=!1,this.Au=.33))}l.Tc=function(a){this.O=a;this.wb=this.gb;this.Ok=!0};
l.Te=function(a){if(!this.O)if(a===this.q){if(this.Tc("hit_player"),0>=this.r[1]){bc("fbullethit");var b=this.body.p.Ib();b.fb();0<this.q.r[2]?b.ca(this.gp*this.Au):b.ca(this.gp);this.q.body.ia(b,this.q.body.h.o);Oc(this.v)}}else if(a.wz&&!(a instanceof Ed)&&(this.Tc("hit_enemy"),(a.id!=this.$v||this.iw)&&0>=this.r[1])){bc("fbullethit");a instanceof Bd&&(a.pe=0);b=this.body.p.Ib();b.fb();var c=1;a.id==this.$v?c*=3:a instanceof Bd?c*=.7:a instanceof Fd&&(a.Wn=a.Qw);b.ca(this.zu*a.sa*c);a.open(1500);
a.body.ia(b,a.body.h.o)}};l.move=function(){0<this.r[2]?this.body.ia(new b2Vec2(.7*this.gc.x,.7*this.gc.y),this.body.h.o):this.body.ia(this.gc,this.body.h.o);this.bg(R({x:0,y:0},this.gc))};l.Mf=function(a,b){var c=new b2Vec2(this.body.g.position.x-a.x,this.body.g.position.y-a.y);c.fb();c.ca(b);this.gc.Kg(c);this.iw=!0;this.open(this.ck)};
l.Ar=function(){for(var a=0;a<this.i.fe.length;a++)if(Kb(this.i.fe[a],this.body.g.position)){this.Tc("kill");return}(-5>=this.body.g.position.x||this.body.g.position.x>=Ec/E+5||-5>=this.body.g.position.y||this.body.g.position.y>=Ec/E+5)&&this.Tc("kill")};l.ag=function(){};Gd.prototype=new Ha;l=Gd.prototype;l.constructor=Gd;function Gd(a,b,c,d,f){void 0!==a&&(this.type="goo",this.gi=!1,this.ha(a,b,c,d,f),this.Ge=2,this.Md=!1,this.cn=3,this.Fp=10,this.sg=this.cn,this.Nj=500,this.dl=2500,"easy"==J&&(this.dl=3500),this.Ef="small",this.qe=0,this.nh=.2,this.Tf=!1,this.ph=6E3)}
l.$c=function(a){this.body.ub(this.body.ga()+2*Math.PI*a/this.ph);0<this.qe&&(this.qe-=a);"expanding"==this.Ef?0>=this.qe?(this.Ef="big",this.sg=this.Fp,this.qe=this.dl):(a=(this.Nj-this.qe)/this.Nj,a=Xb(.15,.85,a),this.sg=this.cn*(1-a)+a*this.Fp):"big"==this.Ef&&0>=this.qe?(this.Ef="shrinking",bc("goo"),this.qe=this.Nj):"shrinking"==this.Ef&&(0>=this.qe?(this.Ef="small",this.sg=this.cn,this.qe=this.dl):(a=(this.Nj-this.qe)/this.Nj,a=Xb(.15,.85,a),this.sg=this.cn*a+(1-a)*this.Fp));0>=this.r[1]?(this.body.Be(F[this.type].Aa),
this.sa=F[this.type].sa):(this.body.Be(.3*F[this.type].Aa),this.sa=.3*F[this.type].sa);this.qy()};l.qy=function(){0>=this.r[1]&&Q(this.body.g.position,this.q.body.g.position)<this.sg&&this.cm(this.q);for(var a=0;a<this.i.s.length;a++)0>=this.r[1]&&Q(this.body.g.position,this.i.s[a].body.g.position)<this.sg&&this.i.s[a].className!=this.className&&this.cm(this.i.s[a])};l.ag=function(){};l.cm=function(a){a.ev(100)};
l.Wu=function(a,b){0<this.r[1]||(this.O||(a.beginPath(),a.strokeStyle=this.color,a.fillStyle=this.color,a.lineWidth=2,a.save(),a.globalAlpha*=.3,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.sg*b,0,1.998*Math.PI),a.stroke(),a.fill(),a.restore()),"big"==this.Ef&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.qe/this.dl))};
l.ze=function(){0>=this.r[1]&&("shrinking"==this.Ef?(this.qe=this.Nj-this.qe,this.Ef="expanding"):"big"==this.Ef?this.qe=this.dl:"small"==this.Ef&&(this.qe=this.Nj,this.Ef="expanding",bc("goo")))};l.$j=function(a){"small"!=this.Ef&&0>=this.r[1]&&a.ca(this.nh);a.ca(this.sa)};Hd.prototype=new Ha;l=Hd.prototype;l.constructor=Hd;function Hd(a,b,c,d,f,g){void 0!==a&&(this.Fi=g,this.type="harpoonhead",this.ha(a,b,c,d,f),this.np=this.Fl=!1)}l.$c=function(){this.r=this.Fi.r};l.ze=function(){this.Fi.fc(this.Fi.sq)};l.bg=function(a){this.Ce=a};l.ag=function(){};l.open=function(){};sc.prototype=new Ha;sc.prototype.constructor=sc;function sc(a,b,c,d,f){this.type="mote";this.gi=!1;this.ha(a,b,c,d,f);this.Yc=!1;this.Ge=5;this.Tf=!1;this.ph=2E3;this.uj=!0;this.Zm=!1;this.uo=1;this.md=3E3;"easy"==J&&(this.md=2E3)}sc.prototype.ag=function(){0>=this.r[1]&&this.q.fc(this.md,!0)};sc.prototype.$c=function(a){this.body.ub(this.body.ga()+2*Math.PI*a/this.ph)};sc.prototype.Mf=function(a,b,c,d){0<this.r[1]&&(this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o),d||this.open(this.ck))};Fd.prototype=new Ha;l=Fd.prototype;l.constructor=Fd;function Fd(a,b,c,d,f){this.type="orbiter";this.gi=!0;this.pg=500;this.ha(a,b,c,d,f);f&&(this.Yc=!1,this.Ge=5,this.oq=1.25*this.q.Wg,this.ys=1,this.xe=18,this.dn=!0,this.Am=1,this.aw=18,this.bw=9,this.uj=!0,this.Bj=2,this.zo=!1,this.Bs=50,this.ZA=!0,this.UC=3,this.gA=[-1,1,-4,4,-8,8,-12,12,-16,16],this.Pv=4,this.Wn=0,this.Qw=250,this.Yv=F[this.type].Aa,this.Zm=!1,this.uo=.5,this.tC=200,this.Cr=100,this.fA=1.2*this.q.Wg,this.eA=!1,this.gz=2)}
l.Fd=function(){};
l.$c=function(a){this.xe=Q(this.body.g.position,this.q.body.g.position)<1.5*this.oq?this.bw:this.aw;this.Cr-=a;if(0>this.Cr){for(var b=!1,c=0;c<this.i.Ah.length;c++)Kb(this.i.Ah[c],this.body.g.position)&&(b=!0);this.pv=b;this.Cr=this.tC}0<this.Wn?(this.Wn-=a,this.Aa=3):this.Aa=this.Yv;Jc(this,this.q.body.g.position);!this.Bf&&Rb(0,this.body.g.position)&&(this.fc(this.pg,!0),this.Bf=!0);0<this.Fh&&(this.Fh-=a);Rb(0,this.body.g.position)||(this.Bf=!1,this.fc(100,!0));this.py=(this.zo=this.q.pj&&!uc(this.q,
this.body.g.position)||0<this.q.r[0]||0<this.q.r[1]||0<this.q.r[4])&&!this.O&&this.path&&1==this.path.length&&this.path[0]==this.q.body.g.position&&0>=this.r[1]&&this.Bf;this.uj=!this.py};
l.dv=function(){if(this.zo)return Tb(this.v.Rb,this.body.g.position,this.q.body.g.position,this.v.i.jq);var a=R(this.q.body.g.position,this.body.g.position),b=this.gA,c=0;this.ZA&&(this.ys*=-1);for(var d=!1,f=null,g=0;!d&&c<b.length;){for(var h=a+2*Math.PI/64*b[c]*this.ys,d=!0,h=new b2Vec2(this.q.body.g.position.x+Math.cos(h)*this.oq,this.q.body.g.position.y+Math.sin(h)*this.oq),k=0;k<this.i.Ah.length;k++)if(Kb(this.i.Ah[k],h)){d=!1;break}if(d)if(f=Tb(this.v.Rb,this.body.g.position,h,this.v.i.jq),
f.path){a:{h=f.path;for(k=0;k<h.length-1;k++)if(Nb(h[k],h[k+1],this.q.body.g.position)<this.fA){h=!1;break a}h=!0}if(!h&&(d=!1,g+=1,g>=this.Pv))break}else if(d=!1,g+=1,g>=this.Pv)break;if(d)return f;c+=1}if(this.v.oa)a={path:null,$d:null};else if(Q(this.body.g.position,this.q.body.g.position)<this.fA){a=this.v.Rb;b=this.body.g.position;c=N[this.v.P].Ca;d=null;f=0;g=R(this.body.g.position,this.q.body.g.position);for(h=0;h<c.length;h++)k=Vb(g,R(this.body.g.position,{x:c[h][0]/E,y:c[h][1]/E})),k=Math.abs(k-
g),k>f&&(f=k,d=c[h]);a=Tb(a,b,{x:d[0]/E,y:d[1]/E})}else a=Tb(this.v.Rb,this.body.g.position,this.q.body.g.position,this.v.i.jq);return a};
l.move=function(){if(!(this.q.O||0<this.r[0])){this.Rd+=1;if(null==this.path||this.Rd>=this.xe){var a=this.dv();if(!a.path)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a.path[a.length-1]==this.q.body.g.position||this.Rd>=this.xe||this.path&&!Ib(this.body.g.position,this.path[0],this.i.ff))null!=a.path&&(this.path=a.path,this.pF=this.path[this.path.length-1]),this.Rd=Math.floor(.1*Math.random()*this.xe)}if(this.path){a=this.path[0];if(0==this.Rd%4){for(;0<this.path.length&&
1>Q(a,this.body.g.position);)this.path=this.path.slice(1),a=this.path[0];if(!a||!Ib(this.body.g.position,a,this.i.ff))return;Ib(this.body.g.position,this.q.body.g.position,this.i.ff)&&this.pF==this.q.body.g.position&&(this.path=[this.q.body.g.position],a=this.path[0])}a&&this.ts(a)}}};l.$j=function(a){this.py?(a.ca(this.Bj),a.ca(this.sa)):this.pv&&this.uj&&0<this.qv||0<this.r[2]?a.ca(this.tw):(0<this.r[2]&&a.ca(this.UC),a.ca(this.sa))};
l.ts=function(a){a=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);a.fb();this.$j(a);this.body.ia(a,this.body.h.o)};l.ag=function(){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.Bs*Math.cos(a),this.Bs*Math.sin(a));this.q.body.ia(new b2Vec2(this.Bs*Math.cos(a),this.Bs*Math.sin(a)),this.q.body.h.o)};l.ze=function(){this.Wn=this.Qw};l.Bm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.ym=function(a,b,c){this.O||1==c&&(!(0<this.Gc)||this.O||0<this.r[0]||Ca(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Gc/this.di))};l.zm=function(a){a.stroke();a.restore()};Dd.prototype=new Ed;Dd.prototype.constructor=Dd;function Dd(a,b,c,d,f,g,h){this.type="piercing_fighter_bullet";this.ha(a,b,c,d,f);null!==a&&(this.Yc=!1,this.Ge=5,this.$v=h,this.gc=new b2Vec2(Math.cos(g),Math.sin(g)),this.gc.fb(),this.gc.ca(this.sa),"easy"==J&&this.gc.ca(.5),this.Md=!1,this.gp=100,"easy"==J&&(this.gp=50),this.iw=!1,this.body.Gx(),this.to=!1,this.Au=.33,this.zu=150,this.Au=.33)}Dd.prototype.Mf=function(){};Dd.prototype.Te=Ed.prototype.Te;tc.prototype=new Ha;l=tc.prototype;l.constructor=tc;function tc(a,b,c,d,f){this.type="slingshot";this.ha(a,b,c,d,f);this.Yc=!1;"easy"==J&&(this.sa*=.8);this.SE=50;this.Yu=!1;this.Ge=5;this.nh=.5;this.Md=!1;this.kE=this.color;this.uq=!1;this.Zi=null;this.tq=0;this.TE=100;this.VE=1;this.Ai=0;this.HC=750;this.GC=100;this.uj=!1;this.er=["empowered"];this.Yv=F[this.type].Aa;this.UE=6}l.yj=Ha.prototype.move;
l.move=function(){if(this.uq){if(0>=this.r[0]){var a=new b2Vec2(this.Zi.x-this.body.g.position.x,this.Zi.y-this.body.g.position.y);a.ca(this.VE);0<this.r[2]&&a.ca(this.nh);this.body.ia(a,this.body.h.o);a=R(this.body.g.position,this.Zi);this.body.ub(a)}}else this.yj()};l.$j=function(a){0<this.r[2]&&a.ca(this.nh);this.Yu||a.ca(this.nh);a.ca(this.sa)};
l.$c=function(a){if(this.uq&&0>=this.tq&&1>Q(this.Zi,this.body.g.position)||0<this.r[1])this.uq=!1,this.Aa=this.Yv;!this.Yu&&Rb(1,this.body.g.position)&&(this.Yu=!0);this.Yc=0<this.Ai;this.color=0<this.Ai?"red":this.kE;this.FC=0<this.Ai&&0>=this.r[1];0<this.tq&&(this.tq-=a);0<this.Ai&&(this.Ai-=a)};l.ag=function(){var a=R(this.body.g.position,this.q.body.g.position),a=new b2Vec2(Math.cos(a),Math.sin(a));0<this.Ai?a.ca(this.GC):a.ca(this.SE);this.q.body.ia(a,this.q.body.h.o)};
l.ze=function(){0>=this.r[1]&&(this.Zi=this.body.g.position.Ib(),this.uq=!0,this.tq=this.TE,this.Ai=this.HC,this.Aa=this.UE,bc("sshot"))};l.Kj=function(){if(!this.O){if(0<this.r[0])return"stunned";if(this.yf)return"silenced";if(0<this.r[2])return"gooed"}return this.Dp()};l.Cp=function(a){if("empowered"==a)return"red"};l.Dp=function(){return!this.O&&0<this.Ai?"empowered":"normal"};
function Id(a,b){var c=a.body.ga()+2*Math.PI/3*b;return{x:a.body.g.position.x+Math.cos(c)*a.K*3/4,y:a.body.g.position.y+Math.sin(c)*a.K*3/4}}l.Fd=function(a,b){if(this.uq&&!this.O){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.moveTo(this.Zi.x*b,this.Zi.y*b);var c=Id(this,1);a.lineTo(c.x*b,c.y*b);c=Id(this,2);a.moveTo(this.Zi.x*b,this.Zi.y*b);a.lineTo(c.x*b,c.y*b);a.stroke()}};Jd.prototype=new Ha;l=Jd.prototype;l.constructor=Jd;function Jd(a,b,c,d,f){this.type="spear";this.gi=!0;this.pg=500;this.ha(a,b,c,d,f);this.Bj=5;this.xq=30;"easy"==J&&(this.xq=40);this.Ge=5;this.Ql=3E3;this.dn=!0;this.Am=1;this.Md=!1;this.oz=this.Fl=!0}l.yj=Ha.prototype.move;l.move=function(){this.q.O||0<this.r[0]||(Ib(this.body.g.position,this.q.body.g.position,this.i.ff)?(this.path=[this.q.body.g.position],this.ts(this.q.body.g.position)):this.yj())};
l.$j=function(a){this.Yc&&a.ca(this.Bj);0<this.r[2]&&a.ca(this.nh);a.ca(this.sa)};l.$c=function(){this.Yc=!this.O&&this.path&&1==this.path.length&&0>=this.r[1]&&this.Bf};l.ag=function(){if(0>=this.r[1]){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.xq*Math.cos(a),this.xq*Math.sin(a));this.q.body.ia(new b2Vec2(this.xq*Math.cos(a),this.xq*Math.sin(a)),this.q.body.h.o)}};l.ze=function(){this.fc(this.Ql);this.Ql>this.Gc&&(this.Gc=this.di=this.Ql)};
l.bj=function(a){this.r[0]=Math.max(a,this.r[0]);this.fc(a)};l.fc=function(a,b){b&&(this.yf=b);this.r[1]=Math.max(a,this.r[1])};l.Fd=function(){};l.Bm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};l.ym=function(a,b,c){this.O||1==c&&(!(0<this.Gc)||this.O||0<this.r[0]||Ca(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Gc/this.di))};l.zm=function(a){a.stroke();a.restore()};Kd.prototype=new Ha;Kd.prototype.constructor=Kd;function Kd(a,b,c,d,f){this.type="stunner";this.gi=!1;this.ha(a,b,c,d,f);f&&(this.Md=!1,"normal"==J&&(this.sa*=1.3))};jd.prototype=new Ha;l=jd.prototype;l.constructor=jd;function jd(a,b,c,d,f){this.type="tank";this.gi=!1;this.ha(a,b,c,d,f);this.Yc=!1;this.Zc=100;"easy"==J&&(this.Zc=80);this.Ge=5;this.BC=this.Om=200;this.yh=6;"easy"==J&&(this.yh=5);this.oF=75;this.Og=!1;this.Dm=null;this.Tf=this.Md=!1;this.ph=4E3;this.Fl=!0;this.ck=500;this.er=["volatile"];this.ua["volatile"]=0;this.dn=!0;this.Am=1;this.yF=1500}
l.$c=function(a){this.Yc=0>=this.r[1];0<this.$s&&(this.$s-=a);0<this.ua["volatile"]&&(this.ua["volatile"]-=a)};l.Ek=function(){this.color="red"};l.Lt=function(a){this.Og&&(this.color="red",0>=this.Om&&!this.O&&(this.Tc(this.Dm),this.Tr()),0<this.Om&&(this.Om-=a))};l.Ar=function(){for(var a=0;a<this.i.fe.length;a++)if(Kb(this.i.fe[a],this.body.g.position)){0>=this.r[1]&&0<this.ua["volatile"]?(this.Og=!0,this.Dm="kill"):0<this.ua.open?this.Tc("kill"):this.Tc("accident");break}};
l.Mf=function(a,b,c,d){this.ua.impulsed+=this.Hp;this.ze(a,b,c);d||this.open(this.ck);0<this.r[2]?this.body.ia(new b2Vec2(1.3*b*Math.cos(c),1.3*b*Math.sin(c)),this.body.h.o):"easy"==J?this.body.ia(new b2Vec2(1.25*b*Math.cos(c),1.25*b*Math.sin(c)),this.body.h.o):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);0<this.$s&&!this.O&&!this.Og&&0>=this.r[1]&&(this.Og=!0,this.Dm="kill")};l.ze=function(){this.ua["volatile"]=this.yF};
l.Te=function(a){a instanceof jd&&(0<this.ua["volatile"]&&!this.O&&!this.Og&&0>=this.r[1]?(this.Og=!0,this.Dm="kill"):this.$s=this.oF);this.O||this.Og||(a===this.q?0>=this.r[1]?(this.Og=!0,this.Dm="hit_player",Oc(this.v)):this.Tc("hit_player"):a instanceof Ha&&0<a.ua.open&&this.open(a.ua.open))};
l.Tr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.K*this.yh){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ia(new b2Vec2(this.Zc*Math.cos(a),this.Zc*Math.sin(a)),this.q.body.h.o);"hit_player"!=this.Dm&&Oc(this.v)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.K*this.yh){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ia(new b2Vec2(this.Zc*Math.cos(b),this.Zc*Math.sin(b)),
this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.Fd=function(a,b){var c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0;a.save();a.globalAlpha*=1-c;this.Og&&0<this.Om?(a.beginPath(),a.strokeStyle="red",a.lineWidth=5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.yh*(1-this.Om/this.BC)*b,0,1.998*Math.PI),a.stroke()):0>=this.r[1]&&0<this.ua["volatile"]&&(a.beginPath(),a.strokeStyle="red",a.lineWidth=2,a.globalAlpha*=.5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.yh*b,0,1.998*Math.PI),a.stroke());a.restore()};
l.Bm=function(a){a.save();a.beginPath();a.lineWidth=2;a.globalAlpha*=.5;a.strokeStyle=F[this.type].color};l.ym=function(a,b){!this.O&&0>=this.ua["volatile"]&&0>=this.r[1]&&(a.moveTo(this.body.g.position.x*b+this.K*this.yh*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.K*this.yh*b,0,1.998*Math.PI))};l.zm=function(a){a.stroke();a.restore()};l.Cp=function(a){if("volatile"==a)return"red"};
l.Kj=function(){if(this.O)return"volatile";if(!this.O){if(0<this.r[0])return"stunned";if(this.yf)return"silenced";if(0<this.ua["volatile"])return"volatile";if(0<this.r[2])return"gooed";if(0<this.ua.impulsed)return"impulsed"}return this.Dp()};Ld.prototype=new Ha;l=Ld.prototype;l.constructor=Ld;function Ld(a,b,c,d,f){this.type="troll";this.gi=!0;this.pg=1E3;this.ha(a,b,c,d,f);this.Md=!1;this.ni=400;this.Qn=4;"easy"==J&&(this.ni=600,this.Qn=3);this.Tf=this.uj=!1;this.ph=1E3;this.Ch=[];this.vy=250;this.dn=!0;this.Am=2;this.CA=1E3;"easy"==J&&(this.CA=750);this.Zm=!0;this.Iz=5E3;"easy"==J&&(this.Iz=2500)}
l.$c=function(a){var b=(new Date).getTime();0>=this.r[1]&&this.bg(this.Ce+2*Math.PI*a/this.ph);b%(this.Qn*this.ni)<this.ni&&this.fc(this.ni-b%(this.Qn*this.ni),!0);for(b=this.Ch.length-1;0<=b;b--)this.Ch[b].qh-=a,0>=this.Ch[b].qh&&this.Ch.splice(b,1);!this.Bf&&Rb(0,this.body.g.position)&&(this.fc(this.pg,!0),this.Bf=!0);0<this.Fh&&(this.Fh-=a);Rb(0,this.body.g.position)||(this.Bf=!1)};
l.Fd=function(a,b){if(!(this.O||0<this.r[1])){a.save();for(var c in this.Ch){a.beginPath();var d=this.Ch[c].qh/this.vy;a.globalAlpha*=Math.max(0,(1-2*Math.abs(d-.5))/.5);a.moveTo(this.Ch[c].object.body.g.position.x*b,this.Ch[c].object.body.g.position.y*b);a.lineTo(this.body.g.position.x*b,this.body.g.position.y*b);a.lineWidth=3;a.strokeStyle=this.color;a.stroke();a.globalAlpha/=Math.max(0,(1-2*Math.abs(d-.5))/.5)}a.restore()}};
l.Mf=function(a,b,c,d){0>=this.r[1]&&this.Bf?(this.body.ia(new b2Vec2(.3*b*Math.cos(c),.3*b*Math.sin(c)),this.body.h.o),oc(this.q,this.CA),bc("pwheel"),this.Ch.push({object:this.q,qh:this.vy}),Oc(this.v)):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d||this.open(this.ck);this.ua.impulsed+=this.Hp};l.ag=function(){0>=this.r[1]&&(oc(this.q,this.Iz),bc("pwheel"))};
l.Bm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray");2==c&&(a.lineWidth=2,a.strokeStyle=this.color)};l.ym=function(a,b,c){this.O||(1==c&&(!(0<this.Gc)||this.O||0<this.r[0]||Ca(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Gc/this.di)),2==c&&(b=(new Date).getTime(),0>=this.r[1]&&b%(this.Qn*this.ni)>this.ni&&Ca(a,this.body.g.position.x,this.body.g.position.y,this.K,(b%(this.Qn*this.ni)-this.ni)/((this.Qn-1)*this.ni))))};
l.zm=function(a){a.stroke();a.restore()};Md.prototype=new Gd;Md.prototype.constructor=Md;function Md(a,b,c,d,f){this.type="disabler";this.ha(a,b,c,d,f);this.Ge=2;this.Md=!1;this.cn=3;this.Fp=9;"easy"==J&&(this.Fp=8);this.sg=this.cn;this.Nj=500;this.dl=2500;"easy"==J&&(this.dl=3500);this.Ef="small";this.qe=0;this.Tf=!1;this.ph=6E3;this.nh=0}
Md.prototype.qy=function(){0>=this.r[1]&&Q(this.body.g.position,this.q.body.g.position)<this.sg&&this.cm(this.q);for(var a=0;a<this.i.s.length;a++)0>=this.r[1]&&Q(this.body.g.position,this.i.s[a].body.g.position)<this.sg?this.i.s[a].className!=this.className&&this.cm(this.i.s[a]):"harpoon"==this.i.s[a].type&&(Q(this.i.s[a].bb.body.g.position,this.body.g.position)<this.sg||"engaged"==this.i.s[a].pb&&Q(this.i.s[a].Wc.body.g.position,this.body.g.position)<this.sg)&&this.cm(this.i.s[a])};
Md.prototype.cm=function(a){"harpoonhead"==a.type?a.Fi.fc(100,!0):a===this.q?(a.r[5]=Math.max(100,a.r[5]),a.fc(100)):a.fc(100,!0)};wc.prototype=new Ha;l=wc.prototype;l.constructor=wc;
function wc(a,b,c,d,f){if(void 0!==a){this.type="harpoon";var g=[];g.push(new b2Vec2(.3*Math.cos(0*Math.PI),.3*Math.sin(0*Math.PI)));g.push(new b2Vec2(.3*Math.cos(5*Math.PI/6),.3*Math.sin(5*Math.PI/6)));g.push(new b2Vec2(.3*Math.cos(7*Math.PI/6),.3*Math.sin(7*Math.PI/6)));this.gi=!0;this.pg=1E3;this.ha(a,b,c,d,f);null!=a&&(this.Ge=2,this.Gp=17,"easy"==J&&(this.Gp=13),this.Mj=null,this.pb="inactive",this.lz=6,"easy"==J&&(this.lz=4.5),this.ZC=.33,this.jv=400,"easy"==J&&(this.jv=50),this.kv=1.2,"easy"==
J&&(this.kv=.6),this.Ps=this.q.Wg,this.nw=2,this.oq=.8*this.Gp,this.aw=40,this.bw=20,this.xe=40,this.ys=.5>Math.random()?1:-1,this.sq=500,this.ZA=this.Md=!1,this.Br=this.ry=5,this.state="seek",this.Cu=this.sy=8,this.Tf=!1,this.Pv=4,this.iv=Math.sqrt(2)/2+Math.sqrt(6)/6-.4,a=Nd(this),this.bb=new Hd(this.ma,a.x,a.y,this.id+1E4,this.v,this),this.YC=3,this.hv=null,this.Hr=1E3,this.Wc=null,this.CC=this.uj=!1,this.zo=!0,this.Zm=!1,this.uo=1,this.gA=[0,-1,1,-2,2,-4,4,-8,8,-12,12,-16,16,-20,20],this.dn=!0,
this.Am=3,this.np=!1)}}l.dv=Fd.prototype.dv;l.yj=Fd.prototype.move;l.ag=function(){};
l.move=function(){if("inactive"==this.pb||"engaged"==this.pb)if("engaged"==this.pb){var a=new b2Vec2(this.body.g.position.x-this.Wc.body.g.position.x,this.body.g.position.y-this.Wc.body.g.position.y);a.fb();a.ca(this.lz);this.Wc==this.q&&0<this.q.r[2]&&a.ca(this.ZC);this.Wc.body.ia(a,this.body.h.o);this.Wc!=this.q&&(this.Wc.open(1500),"tank"==this.Wc.type&&(this.Wc.ua["volatile"]=1500))}else null==this.path&&(this.Rd=this.xe),this.yj()};
function Nd(a){return new b2Vec2(a.body.g.position.x+a.iv*F[a.type].K*Math.cos(a.Ce),a.body.g.position.y+a.iv*F[a.type].K*Math.sin(a.Ce))}l.bg=function(a){--this.en;0>=this.en&&(this.body.ub(a),this.en=this.mz,this.bb.body.ub(this.bb.Ce));this.Ce=a};l.fc=function(a,b){b&&(this.yf=!0);this.r[1]=Math.max(a,this.r[1])};
l.$c=function(a){"inactive"==this.pb?Jc(this,this.q.body.g.position):"engaged"==this.pb?Jc(this,this.Wc.body.g.position):Jc(this,this.bb.body.g.position);this.to="inactive"==this.pb;this.xe=Q(this.body.g.position,this.q.body.g.position)<1.5*this.oq?this.bw:this.aw;if("inactive"==this.pb)this.bb.body.jj(Nd(this)),this.bb.bg(this.Ce);else if("fire"==this.pb){var b=R(this.body.g.position,this.bb.body.g.position);this.bb.bg(b);1>this.bb.body.p.jg()&&(this.pb="retract")}else if("retract"==this.pb){if(0>=
this.r[1]||!Rb(0,this.body.g.position))b=R(this.bb.body.g.position,this.body.g.position),this.bb.body.ia(new b2Vec2(this.kv*Math.cos(b),this.kv*Math.sin(b)),this.bb.body.h.o),this.bb.bg(Math.PI+b),Q(this.bb.body.g.position,this.body.g.position)<1.1*this.iv&&(this.pb="inactive",this.fc(this.Hr,!0),this.Hr>this.Gc&&(this.Gc=this.di=this.Hr),this.hv=null)}else if("engaged"==this.pb)this.bb.body.jj(new b2Vec2(-100,-100));else if("retract_ready"==this.pb){b=new b2Vec2(this.q.body.g.position.x-this.body.g.position.x,
this.q.body.g.position.y-this.body.g.position.y);b.fb();b.ca(2*this.q.jh);var c=this.Wc.body.g.position.Ib();c.ro(b);this.bb.body.jj(c);b=R(this.body.g.position,this.bb.body.g.position);this.bb.bg(b);this.pb="retract";this.Wc=null}0>=this.Cu&&(this.zo=!1,this.Cu=this.sy);--this.Cu;0<this.Br&&--this.Br;0>=this.Br&&((!Ib(this.body.g.position,this.q.body.g.position,this.i.ff)||this.v.oa)&&0>=this.r[1]&&this.Bf&&!this.O&&"inactive"==this.pb&&Rb(0,this.body.g.position)&&Q(this.body.g.position,this.q.body.g.position)<=
this.Gp&&(bc("hfire"),this.pb="fire",this.gv=R(this.bb.body.g.position,this.q.body.g.position.Ib()),this.bb.body.ia(new b2Vec2(this.jv*Math.cos(this.gv),this.jv*Math.sin(this.gv)),this.bb.body.h.o),this.bb.bg(this.gv)),0<this.r[1]&&"inactive"!=this.pb&&xc(this),"engaged"==this.pb&&(!Rb(1,this.Wc.body.g.position)||this.Wc.O||Q(this.Wc.body.g.position,this.body.g.position)<this.YC)?xc(this):"engaged"==this.pb&&this.q.O&&xc(this),this.Br=this.ry);0<this.bb.ua.open&&(this.bb.ua.open-=a)};
l.lA=function(a,b){this.Ok&&("hit_player"!=this.O||this.wb<this.gb-50)&&(this.Ok=!1,this.i.lp.push(a));return this.O&&0>this.wb?(this.i.zp.push(a),!0):this.O?(this.wb-=b,this.bb.wb-=b,!0):!1};
l.Tc=function(a){xc(this);this.O=a;this.wb=this.gb;this.Ok=!0;if("kill"==this.O&&!this.q.O&&(this.v.H.re+=1,F[this.type].Xi?F[F[this.type].Xi].re+=1:F[this.type].re+=1,!this.i.oa)){var b=this.v.H.zf*this.Rc;D.ic&&Kc(this.v,b,this.color,this.body.g.position.x,this.body.g.position.y);this.v.H.jf+=b;Lc(this.v);Mc(this.v)}"fade"!=this.O&&(Hc(this.i,this.type,this.body.g.position,this.body.p),this.Ek(a),bc("sdeath"));this.bb.Tc("fade"==this.O?"fade":"accident")};
l.ih=function(a,b){var c=this.cl(this.Kj());if(c!=this.color||this.O)a.save(),a.strokeStyle=c,a.lineWidth=3,a.globalAlpha*=.5,c=this.O?Math.min((this.gb-this.wb)/this.gb,1):0,this.O&&(a.globalAlpha*=1-c),a.beginPath(),"engaged"!=this.pb&&"retract_ready"!=this.pb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.bb.body.g.position.x*b,this.bb.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Wc.body.g.position.x*b,this.Wc.body.g.position.y*
b)),a.stroke(),a.restore()};l.Fd=function(a,b){"engaged"!=this.pb&&"retract_ready"!=this.pb&&(this.bb.color=this.cl(this.Kj()),this.bb.yf=this.yf,this.bb.ua=this.ua,this.bb.V(a,b))};l.Bm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.globalAlpha*=.2);2==c&&(a.lineWidth=3,a.globalAlpha*=.5);3==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.ym=function(a,b,c){if(!this.O){1==c&&0>=this.r[1]&&this.Bf&&"inactive"==this.pb&&(a.moveTo(this.body.g.position.x*b+this.Gp*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.Gp*b,0,1.998*Math.PI));if(2==c){if(this.cl(this.Kj())!=this.color||this.O)return;"engaged"!=this.pb&&"retract_ready"!=this.pb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.bb.body.g.position.x*b,this.bb.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*
b,this.body.g.position.y*b),a.lineTo(this.Wc.body.g.position.x*b,this.Wc.body.g.position.y*b))}3==c&&(!(0<this.Gc)||this.O||0<this.r[0]||Ca(a,this.body.g.position.x,this.body.g.position.y,this.K,1-this.Gc/this.di))}};l.zm=function(a){a.stroke();a.restore()};l.ze=function(){this.fc(this.sq,!0);this.sq>this.Gc&&(this.Gc=this.di=this.sq)};function xc(a){"engaged"==a.pb&&(a.pb="retract_ready",a.hv=a.Wc.id)};var F={};
F.dumb_stunner={color:"#00ffff",vb:2.2,Aa:6,K:.5,sa:0,Rc:100,Yd:1,De:!0,Hg:"stunner",cc:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],Kr:[{type:"polygon",x:-.1,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],oe:"YES",Ie:["On collision, stuns you for a short period"],cg:"stuns on collision",
className:Ad};
F.stunner={color:"#00ffff",vb:1.5,Aa:4,K:.5,sa:.42,Rc:100,Yd:1,De:!0,cc:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],Kr:[{type:"polygon",x:-.1,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],oe:"YES",Ie:["On collision, stuns you for a short period"],Hg:"shocker",cg:"stuns on collision",
className:Kd};F.spear={color:"#f86003",vb:.7,Aa:4,K:.7,sa:.24,Rc:500,Yd:7,De:!0,cc:[{type:"polygon",x:0,y:0,X:.7,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)],[Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)]]}],oe:"YES",Ie:["Will dive at you if it has line of sight"],cg:"charges on sight",Gg:"Charges you on sight. Hurls you backward on impact.",zg:"Silenced for two seconds on entering or re-entering stage. When Impulsed, silenced for five seconds.",className:Jd};
F.tank={color:"#6f27cf",vb:2.5,Aa:3,K:1,sa:1.5,Rc:1E3,Yd:8,De:!0,cc:[{type:"polygon",x:0,y:0,X:1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Vy:[{x1:.5,y1:.5,x2:-.5,y2:-.5},{x1:.5,y1:-.5,x2:-.5,y2:.5}],oe:"YES",Ie:["Explodes on death or collision with player","Will explode on collision with another Tank if recently Impulsed","The explosion radius is outlined around the tank"],
cg:"explodes on death",className:jd};F.mote={color:"#ee42ae",vb:.5,Aa:3,K:.5,sa:.15,Rc:1E3,Yd:.5,De:!0,cc:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],oe:"YES",Ie:["Cannot be Impulsed # # On collision, disarms you for a few moments","Other enemies can be impulsed into the mote"],cg:"unaffected by impulse",className:sc};
F.goo={color:"#e6c43c",vb:7,Aa:9,K:.5,sa:3.5,Rc:3E3,Yd:.25,De:!0,cc:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],Aj:[{type:"circle",x:0,y:0,X:1.3,Du:!0}],oe:"YES",Ie:["All units within its radius are slowed","When Impulsed, expands its radius for a few moments"],cg:"slows all nearby units",
className:Gd};
F.harpoon={color:"#00aa00",vb:6,Aa:6,K:.7,sa:5.4,Rc:3E3,Yd:6,De:!0,cc:[{type:"polygon",x:0,y:0,X:.7,ba:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],Aj:[{type:"polygon",x:-.1,y:0,X:.7,Du:!1,ba:[[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)],[((Math.sqrt(2)+Math.sqrt(6))/2-.4)*Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4)-.4,Math.sin(1*
Math.PI/4)]]},{type:"polygon",x:-.1,y:0,X:.7,ba:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],Kr:[],oe:"NO",Ie:["Fires its hook at you and # attempts to yank you in # # Can only fire through the void","The hook range is outlined # around the Harpoon","If you are hooked, # impulse the harpoon to get free","While the hook is detached from the Harpoon, it cannot move",
"During boss battles, will fire at any time"],cg:"hooks through walls",className:wc};
F.harpoonhead={color:"#00dd00",vb:1.2,Aa:6,K:F.harpoon.K*Math.sqrt(6)/3,sa:1.5,Rc:1E3,Yd:6,De:!0,cc:[{type:"polygon",x:0,y:0,X:F.harpoon.K*Math.sqrt(6)/3,ba:[[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)]]}],oe:"NO",Gg:"Shoots a harpoon which can latch onto you. Once you are latched, the Harpoon will attempt to drag you to your death.",zg:"In normal levels, harpoons can only fire through obstacles and are harmless up close. In boss levels, harpoons can fire at any time. Impulsing a harpoon silences it for 1 second. Harpoons will flee from you.",
description:"Shoots a harpoon that can latch onto you. Once you are latched, it will attempt to drag you to your death.",className:Hd};
F.fighter={color:"#0000ff",vb:3,Aa:6,K:.75,sa:2.5,Rc:4E3,Yd:9,Hg:"hunter",De:!0,cc:[{type:"polygon",x:0,y:0,X:.75,ba:[[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:.75,ba:[[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,Math.sqrt(2)]]},
{type:"polygon",x:0,y:0,X:.75,ba:[[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,-Math.sqrt(2)]]}],Ie:["Fires projectiles at you on sight # # Is weak to its own projectiles","When its rage meter is full, # the hunter moves faster and its bullets cannot be impulsed","Impulse the hunter to lower its rage meter"],cg:"weak to projectiles",oe:"NO",Gg:"Fires bullets at you upon sight. Bullets fling you backwards on impact. For every 2 seconds that the Fighter is idle, it loads up a piercing bullet, which cannot be Impulsed.",
zg:"Normal bullets can be reflected to hit other enemies and even the Fighter itself.",className:Bd};F.fighter_bullet={color:"#0000ec",vb:1,Aa:3,K:.3,sa:.5,Rc:0,De:!0,cc:[{type:"polygon",x:0,y:0,X:.3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Ed};
F.piercing_fighter_bullet={color:"#ff0000",vb:1,Aa:3,K:.3,sa:1,Rc:0,De:!0,cc:[{type:"polygon",x:0,y:0,X:.3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Dd};
F.disabler={color:"#cccccc",vb:8,Aa:9,K:.5,sa:5,Rc:5E3,Yd:.25,De:!0,cc:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/3),Math.sin(1*Math.PI/3)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(3*Math.PI/3),Math.sin(3*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)]]}],Aj:[{type:"circle",x:0,y:0,X:1.3,Du:!0}],oe:"YES",Ie:["Disables all units within its radius","When Impulsed, expands its radius for a few moments"],
Hg:"equalizer",cg:"disables all nearby units",Gg:"Leaves behind a trail of crippling poison. Everything that passes through the poison is silenced.",zg:"Passing through goo will instantly slow you down, which may help you survive blasts from other enemies. Goos are not affected by each other.",className:Md};
F.troll={color:"#159d31",vb:1.3,Aa:3,K:.7,sa:.38,Rc:4E3,Yd:2,Hg:"pinwheel",De:!0,cc:[{type:"polygon",x:0,y:0,X:1,ba:[[0,0],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408),Math.sqrt(52)/8*Math.sin(-.408)],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ba:[[0,0],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3)],[.25*Math.cos(3*Math.PI/
3),.25*Math.sin(3*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ba:[[0,0],[.25*Math.cos(3*Math.PI/3),.25*Math.sin(3*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3)],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)]]}],Kr:[{type:"polygon",x:-.2,y:0,X:1,ba:[[0,0],[.25*Math.cos(5*Math.PI/3+.36),.25*Math.sin(5*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+.36),Math.sqrt(52)/8*Math.sin(-.408+.36)],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/
3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ba:[[0,0],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3+.36)],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ba:[[0,0],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3+.36)],[.25*Math.cos(5*Math.PI/3+.22),
.25*Math.sin(5*Math.PI/3+.22)]]}],Ie:["On collision or if impulsed while spinning, # reverses your controls"],cg:"reverses your controls",oe:"YES",Gg:"When active, impulsing the Troll will pull it towards you. Upon impact, reverses your movement and impulse controls.",zg:"The troll alternates between active and inactive every second.",className:Ld};
F.slingshot={color:"#a0522d",vb:.2,Aa:7,K:1,sa:.65,Rc:5E3,Yd:10,De:!0,cc:[{type:"polygon",x:-.25,y:0,X:1,ba:[[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(2*Math.PI/3)/2,1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3)/2,1*Math.sin(4*Math.PI/3)/2]]},{type:"polygon",x:-.25,y:0,X:1,ba:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4]]},
{type:"polygon",x:-.25,y:0,X:1,ba:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)]]}],Uy:[[[1*Math.cos(0*Math.PI)/4-.25,1*Math.sin(0*Math.PI)/4],[.75*Math.cos(0*Math.PI)-.25,3*Math.sin(0*Math.PI)/4]]],oe:"YES",Hg:"boomerang",Gg:"When Impulsed, it will hook onto the ground and slingshot back towards you, flinging you away if it hits you.",zg:"If the boomerang hits you while not slingshoting, it will still push you back a fair way.",
className:tc,Ie:["When Impulsed, latches onto its current position # and slingshots back at you","cannot be impulsed while latched"],cg:"slingshots when impulsed"};
F.orbiter={color:"red",vb:.3,Aa:15,K:.5,sa:.96,Rc:5E3,Yd:10,De:!0,cc:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3)+.4,Math.sin(2*Math.PI/3)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(4*Math.PI/3)+.4,Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ba:[[.4,0],[-.6,.3],[-1.6,0],[-.6,-.3]]}],Uy:[[[.5,0],[.2,0]]],Ie:["Intelligently avoids your Impulse # # Will charge at you opportunistically"],
cg:"intelligent and dangerous",oe:"YES",Gg:"Locks onto you. Actively avoids your Impulse. Charges you if you've shot your Impulse the other way.",zg:"Intelligent and dangerous.",className:Fd};
F.deathray={color:"#dddddd",vz:"black",vb:6,Aa:6,K:1,sa:7.2,Rc:7500,Yd:10,De:!0,cc:[{type:"polygon",x:0,y:0,X:1.5,ba:[[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*Math.PI/4)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:1.5,ba:[[.6*Math.cos(1*Math.PI/3)+.2,.6*Math.sin(1*Math.PI/3)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*
Math.PI/4)],[.8*Math.cos(1*Math.PI/3)+.2,.3*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1.5,ba:[[.8*Math.cos(5*Math.PI/3)+.2,.3*Math.sin(5*Math.PI/3)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.6*Math.cos(5*Math.PI/3)+.2,.6*Math.sin(5*Math.PI/3)]]}],Ie:["After firing, must recharge for a short period # # During this time, the deathray cannot move"],cg:"giant death ray",oe:"NO",Gg:"While in turret mode, sends a devastating ray across the level every 2 seconds.",
zg:"Death rays will only enter turret mode after they are a certain distance away from the walls. Death rays take 1 seconds to enter or leave turret mode.",className:xd};
F["first boss"]={color:z["boss 1"],vb:4.5,Aa:8,K:3,sa:0,Rc:[1E6,5E6,15E6],Yd:10,Gf:!0,wf:8,If:6,cc:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Gr:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/
2),Math.sin(3*Math.PI/2)]]}],Ow:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],zv:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],fv:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*
Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],oe:"NO",Gg:"Shoots stunners, spears, and tanks at you. Can cast a global lighten, which causes everything to lighter and much easier to push.",zg:"The color of the boss's guns reflect what it is shooting. During the global lighten, the boss will shoot faster. Use this time to clear the field of enemies.",className:Yc};
F["second boss"]={color:z["boss 2"],vb:4.5,Aa:8,K:3,sa:0,Rc:[1E6,5E6,15E6],Yd:10,Gf:!0,cc:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(2*Math.PI/4),Math.sin(2*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(6*Math.PI/4),Math.sin(6*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],Gr:[{type:"polygon",
x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[.5*Math.cos(2*Math.PI/4),.5*Math.sin(2*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[.5*Math.cos(6*Math.PI/4),.5*Math.sin(6*Math.PI/4)]]}],oe:"NO",Gg:"Exerts a gravity on the field, pulling everything towards it. The closer to the boss, the stronger the pull. The boss has four gravity arms, inside which the gravity is doubled. The boss can also send a massive shockwave through the field.",zg:"Enemies that collide with the boss will be absorbed, increasing the boss's shockwave range. If you touch the boss, you will be flung away.",
className:td};
F["third boss"]={color:"#C000FF",vb:2,Aa:8,K:4.5,sa:0,Yd:10,Rc:[1E6,5E6,15E6],Gf:!0,wf:16,If:6,cc:[{type:"polygon",x:0,y:0,X:4.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)],[Math.cos(2*Math.PI/8),Math.sin(2*Math.PI/8)],[Math.cos(3*Math.PI/8),Math.sin(3*Math.PI/8)],[Math.cos(4*Math.PI/8),Math.sin(4*Math.PI/8)],[Math.cos(5*Math.PI/8),Math.sin(5*Math.PI/8)],[Math.cos(6*Math.PI/8),Math.sin(6*Math.PI/8)],[Math.cos(7*Math.PI/8),Math.sin(7*Math.PI/8)],[Math.cos(8*
Math.PI/8),Math.sin(8*Math.PI/8)],[Math.cos(9*Math.PI/8),Math.sin(9*Math.PI/8)],[Math.cos(10*Math.PI/8),Math.sin(10*Math.PI/8)],[Math.cos(11*Math.PI/8),Math.sin(11*Math.PI/8)],[Math.cos(12*Math.PI/8),Math.sin(12*Math.PI/8)],[Math.cos(13*Math.PI/8),Math.sin(13*Math.PI/8)],[Math.cos(14*Math.PI/8),Math.sin(14*Math.PI/8)],[Math.cos(15*Math.PI/8),Math.sin(15*Math.PI/8)]]}],Gr:[{type:"polygon",x:0,y:0,X:4.5,ba:[[.8*Math.cos(1*Math.PI/3),.8*Math.sin(1*Math.PI/3)],[.6*Math.cos(2*Math.PI/3),.6*Math.sin(2*
Math.PI/3)],[.6*Math.cos(4*Math.PI/3),.6*Math.sin(4*Math.PI/3)],[.8*Math.cos(5*Math.PI/3),.8*Math.sin(5*Math.PI/3)]]}],Ux:[{type:"polygon",x:0,y:0,X:2,ba:[[0,0],[Math.cos(0*Math.PI/8),Math.sin(0*Math.PI/8)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)]]}],oe:"NO",Gg:"Has six turrets which fire bullets. Can cast a global silence and enter berserk mode, during which its attack speed is doubled.",zg:"Turrets which enter an obstacle cannot attack. Bullets can be reflected by Impulse to hit other enemies, including the boss.",
className:kd};
F["fourth boss"]={color:"#ff0000",vb:3,Aa:8,K:4,sa:0,Yd:10,Rc:[1E6,5E6,15E6],Gf:!0,wf:17,If:6,cc:[{type:"polygon",x:0,y:0,X:4,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],tj:2,jy:[{type:"polygon",x:0,y:0,X:2,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/
5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],Gr:[{type:"polygon",x:0,y:0,X:2,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],oe:"NO",Gg:"Periodically spawns capsules. Has a thin laser which sweeps around the field. When the sweep laser hits a capsule, the capsule spawns a large number of enemies. The boss has two additional lasers, one which paralyzes and one which exerts massive force.",
zg:"The sweep laser can be blocked, preventing capsules from spawning enemies.",className:Qc};F["boss four attacker"]={color:"white",vb:1.5,Aa:1,tz:.1,K:2.2,sa:360,Yd:10,Rc:[1E6,5E6,15E6],cc:[{type:"polygon",x:0,y:0,X:.1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Wc};
F["boss four spawner"]={color:"rgb(0, 255, 0)",vb:4,Aa:12,tz:.1,K:1,sa:0,Rc:5E3,cc:[{type:"polygon",x:0,y:0,X:.1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Sc};var Od={stunner:500,spear:250,tank:150,mote:150,goo:50,harpoon:50,disabler:50,fighter:50,slingshot:50,troll:50,deathray:25,orbiter:50};
function Pd(){for(var a in F)if(F[a].De){var b=new F[a].className(null,0,0,0,null),c=F[a],d={},f=b.cc,g=b.kF.concat(b.er);for(index in g){var h=g[index],k=document.createElement("canvas");k.width=2*F[b.type].K*b.Xm*E;k.height=2*F[b.type].K*b.Xm*E;var n=k.getContext("2d"),q=b.cl(h);q||(q=b.color);var p=F[b.type].K*Ha.prototype.Xm,t=F[b.type].K*Ha.prototype.Xm;n.translate(p*E,t*E);Fa(n,h,f,b.type,q);n.translate(-p*E,-t*E);d[h]=k}c.images=d}};function Qd(a,b,c){this.ha(a,b,c)}Qd.prototype.ha=function(a,b,c){this.cj=a;this.color=b;this.zC=c};Qd.prototype.pa=function(){};Qd.prototype.V=function(a,b){a.beginPath();a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=20;a.shadowColor=this.color;a.moveTo(this.cj[0].x*b,this.cj[0].y*b);for(var c=1;c<this.cj.length;c++)a.lineTo(this.cj[c].x*b,this.cj[c].y*b);a.closePath();a.fillStyle=this.zC;a.strokeStyle=this.color;a.lineWidth=6;a.stroke();a.fill();a.shadowBlur=0};function Rd(a,b,c,d,f,g,h){this.ha(a,b,c,d,f,g,h)}Rd.prototype.ha=function(a,b,c,d,f,g,h){this.i=a;this.xu=a.Ah;this.fe=a.fe;b&&(this.jA=b,this.ba=c,this.Ss=g,this.fB=h);this.Sj=(new Date).getTime()};function Sd(a,b,c,d){var f;if(f=Ib(b,c,a.jA,d)){if(!(d=c.p_n!=d))a:{a=a.fe[c.p_n];d=a.length-1;for(f=0;f<a.length;f++){if(Jb(b,c,a[f],a[d])){d=!1;break a}d=f}d=!0}f=d}return f}
function Tb(a,b,c,d){if(Ib(b,c,a.jA)&&Ib(b,c,a.i.ff))return{path:[c],$d:Q(b,c)};for(var f=null,g=null,h=0;h<a.xu.length;h++)Kb(a.xu[h],b)&&(f=h),Kb(a.xu[h],c)&&(g=h);var k=null,n=null,q=a.fB[50*Math.floor(b.x*E/50)+" "+50*Math.floor(b.y*E/50)],p=a.fB[50*Math.floor(c.x*E/50)+" "+50*Math.floor(c.y*E/50)];if(q){for(var t=[],h=0;h<q.length;h++)Sd(a,b,a.ba[q[h]],f)&&t.push(q[h]);q=t}if(!q||0==q.length)for(q=[],h=0;h<a.ba.length;h++)Sd(a,b,a.ba[h],f)&&q.push(h);if(p){f=[];for(h=0;h<p.length;h++)Sd(a,c,
a.ba[p[h]],g)&&f.push(p[h]);p=f}if(!p||0==p.length)for(p=[],h=0;h<a.ba.length;h++)Sd(a,c,a.ba[h],g)&&p.push(h);for(h=0;h<q.length;h++)for(g=0;g<p.length;g++)if(f=q[h]==p[g]?0:a.Ss[q[h]][p[g]].b,null!=f&&(f=Q(b,a.ba[q[h]])+f+Q(a.ba[p[g]],c),!k||f<k))k=f,n=q[h]==p[g]?[q[h]]:a.Ss[q[h]][p[g]].a;if(!n)return{path:null,$d:null};d&&(d=Math.floor(Math.random()*q.length*p.length),h=Math.floor(d/p.length),g=d%p.length,Q(b,5>a.ba[n[0]])&&(h=q.indexOf(n[0])),0!=q.length*p.length&&(f=q[h]==p[g]?0:a.Ss[q[h]][p[g]].b,
null!=f&&(f=Q(b,a.ba[q[h]])+f+Q(a.ba[p[g]],c),d=R(b,a.ba[n[0]]),t=R(b,a.ba[q[h]]),f<1.2*k&&Wb(d,t)<3*Math.PI/8&&!Ib(a.ba[n[0]],a.ba[q[h]])&&(k=f,n=q[h]==p[g]?[q[h]]:a.Ss[q[h]][p[g]].a))));q=[];for(h=0;h<n.length;h++)q.push(a.ba[n[h]]);q.push(c);return 2==q.length&&Ib(b,c,a.i.ff)?{path:[c],$d:Q(b,c)}:{path:q,$d:k}};var Td=!1,Ec=0,Fc=0,W=0,O=0,P=0,Ud=null,Vd=null,Wd=null,$=null,Xd=null,E=15,Ie=0,T=null,Je=null,Ke="impulse_save_data",D,J,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,cc=null,Ue=null,Ve,We,Xe,Ye,Ze,$e,af,bf,cf,df;
window.impulse_main=function(){b2Vec2=m.aa.Math.og;b2AABB=m.w.Ao;b2BodyDef=m.l.dm;b2Body=m.l.ne;b2FixtureDef=m.l.jm;b2Fixture=m.l.im;b2World=m.l.Se;b2MassData=m.w.Wa.Qo;b2PolygonShape=m.w.Wa.vi;b2CircleShape=m.w.Wa.qj;b2DebugDraw=m.l.Qe;b2MouseJointDef=m.l.M.mm;b2ContactListener=m.l.Do;Ec=1200;Fc=600;W=200;O=Ec-2*W;P=Fc;Vd=document.getElementById("canvas");var a=document.getElementById("canvas_container");Vd.width=Ec;Vd.height=Fc;a.style.width=Ec+"px";a.style.height=Fc+"px";Wd=document.getElementById("bg_canvas");
a=document.getElementById("bg_canvas_container");Wd.width=Ec;Wd.height=Fc;a.style.width=Ec+"px";a.style.height=Fc+"px";Ud=Vd.getContext("2d");$=Wd.getContext("2d");window.addEventListener("keydown",ef,!1);window.addEventListener("keyup",ff,!1);window.addEventListener("click",gf,!1);window.addEventListener("mousedown",hf,!1);window.addEventListener("mouseup",jf,!1);window.addEventListener("mousemove",kf,!1);window.addEventListener("resize",lf,!1);window.oncontextmenu=function(){return!1};lf();mf();
Pd();va=rb();Nf();wa=[];ya();cc=new $b;T=new Of;Ie=(new Date).getTime();Pf()};
function lf(){var a,b;a=800;b=600;document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth,b=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight);Ec<a?(offset_left=(a-Ec)/2,canvas_container.style.left=Math.round(offset_left)+"px",bg_canvas_container.style.left=
Math.round(offset_left)+"px"):offset_left=0;Fc<b?(offset_top=(b-Fc)/2,canvas_container.style.top=Math.round(offset_top)+"px",bg_canvas_container.style.top=Math.round(offset_top)+"px"):offset_top=0;message.style.display=""}function Nf(){var a=document.createElement("canvas");a.width=O;a.height=P;Ve=a;a=document.createElement("canvas");a.width=O;a.height=P;We=a;a=document.createElement("canvas");a.width=O;a.height=P;Xe=a}
function Qf(a,b){if(Ye!=a){Ze=Ue=250;var c=We.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Cb(c,0,O,P,a);$e=b;af=a}}function Rf(a,b){var c=Ve.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Cb(c,0,O,P,a);bf=b;Ye=a;$.clearRect(0,0,canvas.width,canvas.height);$.fillStyle="#000";$.fillRect(0,0,canvas.width,canvas.height);$.globalAlpha=bf;$.drawImage(Ve,0,0,O,P,W,0,O,P);$.globalAlpha=1}
function Sf(a){if(0<Ze){var b=Ze/Ue;$.clearRect(0,0,canvas.width,canvas.height);$.fillStyle="#000";$.fillRect(0,0,canvas.width,canvas.height);$.globalAlpha=b*bf;$.drawImage(Ve,0,0,O,P,W,0,O,P);$.globalAlpha=(1-b)*$e;$.drawImage(We,0,0,O,P,W,0,O,P);$.globalAlpha=1;Ze-=a}else null!=Ue&&(Ue=null,Rf(af,$e))}
function Pf(){var a=(new Date).getTime();Ud.globalAlpha=1;dt=a-Ie;T.pa(dt);null!=Je&&Je.pa(dt);null!=Xd&&(df-=dt,0>df&&(Xd=null));T instanceof Tf?T instanceof Tf&&T.ready&&(1!=T.zoom?(Ud.fillStyle=T.zi,Ud.fillRect(W,0,O,P)):Ud.clearRect(W,0,O,P)):Ud.clearRect(0,0,canvas.width,canvas.height);if(T instanceof Tf){T.V(Ud,$);Ud.save();Uf(T,Ud);for(var b=0;b<wa.length;b++)wa[b].V(Ud);Ud.restore()}else Ud.fillStyle="black",Ud.fillRect(0,0,W,Fc),Ud.fillRect(Ec-W,0,W,Fc),Ud.translate(W,0),T.V(Ud,$),Ud.translate(-W,
0);null!=Je&&(Ud.globalAlpha=1,Je.V(Ud));if(null!=Xd){b=Ud;b.save();var c=df/cf;b.globalAlpha=.2>c?5*b.globalAlpha*c:.9<c?10*b.globalAlpha*(1-c):1;Xd.V(b);b.restore()}Ie=a;setTimeout(Pf,Math.max(33-((new Date).getTime()-a),1))}function Vf(a,b,c,d){Xd=new Wf(a,c?c:"white",d?d:0);Xf(Xd,Ec/2,Fc-10-Xd.m);Xd.visible=!0;df=cf=b}function kf(a){a=Ob(a);Je&&Je.va(a.x,a.y);if(T instanceof Tf){T.va(a.x,a.y);for(var b=0;b<wa.length;b++)wa[b].va(a.x,a.y)}else T.va(a.x-W,a.y)}
function hf(a){a.preventDefault();var b=Ob(a);0==a.button&&(Je?Je.hf(b.x,b.y):T instanceof Tf?T.hf(b.x,b.y):T.hf(b.x-W,b.y))}function jf(a){a.preventDefault();var b=Ob(a);0==a.button&&(Je?Je.Kf(b.x,b.y):T instanceof Tf?T.Kf(b.x,b.y):T.Kf(b.x-W,b.y))}function gf(a){a.preventDefault();var b=Ob(a);if(0==a.button)if(Je){if(Je.Ia(b.x,b.y),T instanceof Tf)for(a=0;a<wa.length;a++)wa[a].Ia(b.x,b.y)}else if(T instanceof Tf){for(a=0;a<wa.length;a++)wa[a].Ia(b.x,b.y);T.Ia(b.x,b.y)}else T.Ia(b.x-W,b.y)}
function Yf(){return document.RC&&null!==document.RC||document.mozFullScreen||document.webkitIsFullScreen}function Zf(){var a=Yf(),b=document.documentElement;a?document.exitFullscreen?document.exitFullscreen():document.PD?document.PD():document.webkitExitFullscreen&&document.webkitExitFullscreen():b.requestFullscreen?b.requestFullscreen():b.QD?b.QD():b.webkitRequestFullscreen&&b.webkitRequestFullscreen();Je&&Je instanceof $f&&(Je.Yr.Qg.checked=!a)}
function ag(){if(cc.Vi){var a=cc;a.Vi=!1;D.Tv=!1;bg();a.Ra&&(a.Qb[a.Ra].kh(D.vm),a.gk[a.Ra]=!0);cc.Tm=!1;D.Tm=!1}else a=cc,a.Vi=!0,D.Tv=!0,bg(),a.Ra&&(a.Qb[a.Ra].kh(0),a.gk[a.Ra]=!1),cc.Tm=!0,D.Tm=!0;bg();if(Je&&Je instanceof $f){var a=Je,b=cc.Vi;a.Qr.Yc=b;a.vs.Yc=b}}function ef(a){a=null==a?window.event.keyCode:a.keyCode;a==ua.ut&&0==Td&&(Td=!0,Vf("god_mode_alert",2500,"white",0),T instanceof cg&&dg(T));a==ua.zt&&ag();a==ua.qt&&Zf();Je?Je.we(a):T.we(a)}
function ff(a){a=null==a?window.event.keyCode:a.keyCode;Je&&Je.vn(a);T.vn(a)}
function mf(){var a={};void 0===localStorage[Ke]||null===localStorage[Ke]?(Me=!0,a.difficulty_mode="easy"):(a=JSON.parse(localStorage[Ke]),Me=0==a.first_time?!1:!0);void 0!==a.hard_mode_unlocked?(Ne=a.hard_mode_unlocked)||(J="easy"):(Ne=!1,Le&&Le.easy&&void 0!==Le.easy["world 4"]&&(Ne=!0));a.levels||(a.levels={});a.enemies_seen||(a.enemies_seen={});a.enemies_killed||(a.enemies_killed={});a.world_rankings||(a.world_rankings={easy:{},normal:{}});var b={Rr:100,vm:100,Ur:!0,ic:!0,xG:!1,us:!1,hs:!0,ji:!1,
Kb:"right",zc:"mouse"};a.options||(a.options={});a.quests||(a.quests=[]);for(var c in b)a.options.hasOwnProperty(c)||(a.options[c]=b[c]);a.save_data||(a.save_data={easy:{},normal:{}});Oe=a.save_data;J=a.difficulty_mode?a.difficulty_mode:"normal";Pe=a.total_kills?a.total_kills:0;Qe=a.tutorial_shown?a.tutorial_shown:[];D=a.options;Re=a.quests;eg("easy",a);eg("normal",a);Le=a.world_rankings;for(difficulty in Le)for(world in Le[difficulty])b=Le[difficulty][world],"string"===typeof b&&(c=fg(b),gg(c)),
b.rank&&(c=fg(b.rank),gg(c));for(s in F)F[s].Cg=a.enemies_seen[s]?a.enemies_seen[s]:0,F[s].re=a.enemies_killed[s]?a.enemies_killed[s]:0;hg("easy");hg("normal")}
function eg(a,b){for(s in N)if("HOW TO PLAY"!=s.slice(0,11))if("undefined"===typeof N[s].ra&&(N[s].ra={}),N[s].ra[a]={},b.levels.hasOwnProperty(s)&&b.levels[s].save_state&&b.levels[s].save_state[a])if(N[s].ra[a].Mc=b.levels[s].save_state[a].high_score,N[s].ra[a].Cg=b.levels[s].save_state[a].seen,N[s].ra[a].Xa=b.levels[s].save_state[a].best_time,"HIVE"==s.slice(0,4)){for(var c=0;N[s].ra[a].Mc>=N[s].za[a][c];)c+=1;N[s].ra[a].Ea=c}else N[s].ra[a].Ea=1E3>N[s].ra[a].Xa?3:0;else N[s].ra[a].Mc=0,N[s].ra[a].Ea=
0,N[s].ra[a].Cg=!1,N[s].ra[a].Xa=1E3}function bg(){var a={levels:{}};ig("easy",a);ig("normal",a);a.enemies_seen={};a.enemies_killed={};for(s in F)a.enemies_seen[s]=F[s].Cg,a.enemies_killed[s]=F[s].re;a.total_kills=Pe;a.difficulty_mode=J;a.world_rankings=Le;a.save_data=Oe;a.options=D;a.first_time=Me;a.hard_mode_unlocked=Ne;a.tutorial_shown=Qe;a.quests=Re;localStorage[Ke]=JSON.stringify(a)}
function ig(a,b){for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&(b.levels.hasOwnProperty(s)||(b.levels[s]={},b.levels[s].save_state={}),b.levels[s].save_state[a]={},b.levels[s].save_state[a].high_score=N[s].ra[a].Mc,b.levels[s].save_state[a].best_time=N[s].ra[a].Xa,b.levels[s].save_state[a].seen=N[s].ra[a].Cg)}function hg(a){var b=0;for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&N[s].ra[a]&&(b+=N[s].ra[a].Ea);Se=0;for(s in Od)F[s].re>=Od[s]&&(Se+=1);"undefined"===typeof Te&&(Te={});Te[a]=b+Se}
function jg(a){Oe[J]=a;bg()}function ic(){for(var a=3,b=0;b<Re.length;b++){var c=Re[b];Fb[c]&&-1!=Fb[c].Ab.indexOf("life")&&(a+=1)}return a}function jc(){for(var a=0,b=0;b<Re.length;b++){var c=Re[b];Fb[c]&&-1!=Fb[c].Ab.indexOf("ult")&&(a+=1)}return a}function kc(){for(var a=10,b=0;b<Re.length;b++){var c=Re[b];Fb[c]&&-1!=Fb[c].Ab.indexOf("spark")&&(a+=1)}return a}
function kg(){for(var a=null,b=0;b<pa.length;b++)0<pa[b].Xc&&(pa[b].Xc<a||null==a)&&(a=pa[b].Xc);for(b=0;b<sa.length;b++)0<sa[b].Xc&&(sa[b].Xc<a||null==a)&&(a=sa[b].Xc);for(b=0;b<ta.length;b++)0<ta[b].Xc&&(ta[b].Xc<a||null==a)&&(a=ta[b].Xc)}function Nc(a){-1==Re.indexOf(a)&&(Re.push(a),bg(),Vf("quest_"+a,2500,"white",0))}function lg(a){return 2==a?.5:3==a?.4:.3};function mg(a,b,c,d,f,g,h,k){this.type=a;this.$k=b;this.wq=c;this.vq=d;this.Ws=f;this.XD=g;this.WD=h;this.MD=k;this.Nl=0==this.$k?1E3*this.wq:1}mg.prototype.pa=function(a,b){b>this.$k&&(this.Nl-=a)};function ng(a,b){this.ha(a,b)}l=ng.prototype;
l.ha=function(a,b){this.n=b.n;this.fn=b;this.v=null;this.$i=a.$i;this.Dn=!1;this.jw=500;"easy"==J&&(this.Vm=a.Tb);this.Vm?this.vF=!0:this.Vm=a.s;"easy"==J&&(this.Sa=a.Bc);this.Sa?this.wF=!0:this.Sa=a.Sa;this.Uk={};this.P=a.P;"easy"==J&&(this.Na=a.GA);this.Na||(this.Na=a.Na);this.jq=a.jq;this.aj=a.kb;"easy"==J&&a.iA&&(this.aj=a.iA);this.kb=this.aj;this.Ca=a.Ca;og(this);this.xs=a.xs;"easy"==J&&(this.Ma=a.gf);this.Ma||(this.Ma=a.Ma);this.cs=a.cs;this.color=z["world "+this.fn.n];this.zi=z["world "+this.fn.n+
" dark"];this.Nc=z["world "+this.fn.n+" lite"];this.J=z["world "+this.fn.n+" bright"];this.oa="BOSS"==this.P.slice(0,4);this.oa||(this.Dz=parseInt(this.P.slice(this.P.length-1,this.P.length)),this.za=a.za[J]);this.zh=!1;this.Qa=a.Qa;this.Ah=[];this.fe=[];this.Yh=[];this.ff=[];this.YD=[];this.Cf=[];this.Cq=0;this.ND=20;this.Hj=!1;this.Ty={stunner:Kd,spear:Jd,tank:jd,mote:sc,goo:Gd,disabler:Md,troll:Ld,fighter:Bd,harpoon:wc,orbiter:Fd,slingshot:tc,deathray:xd,"first boss":Yc,"second boss":td,"third boss":kd,
"fourth boss":Qc,"boss four spawner":Sc};this.Lc=a.Lc?{x:a.Lc.x/E,y:a.Lc.y/E}:{x:this.aj.x/E,y:this.aj.y/E};this.bl=4;this.SC=300;this.ez=1E3;this.Ij=null;this.Df=[];this.rg=this.al=1E3;this.as=2E3;this.bs=5;this.reset();this.zr={};this.PC=null;this.cz=0};
l.reset=function(){this.lc=this.v&&this.v.lc?!0:!1;this.Dn=!1;this.s=[];this.Cf=[];this.Ac=0;this.Zs=this.nd=200;this.Ym=1;this.Hj=!1;this.iq=0;this.rC=3;this.Pg=null;this.zh=this.iy=!1;this.Bi={};for(s in this.Vm){var a=this.Vm[s];this.Bi[s]=new mg(s,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);this.Uk[s]=0}this.lp=[];this.zp=[];this.ii=[];this.Fg=[];this.uz=!1;this.XE=this.ok=null;this.YE=1E4;this.eq=this.Jf=null;this.dA=1E4};
function pg(a){var b=Math.floor(Math.random()*a.Na.length);a.Jf={x:a.Na[b][0],y:a.Na[b][1]};for(var c={x:a.v.q.body.g.position.x*E,y:a.v.q.body.g.position.y*E};125>Q(c,a.Jf)||a.ok&&a.Jf.x==a.ok.x&&a.Jf.y==a.ok.y;)b+=1,b%=a.Na.length,a.Jf={x:a.Na[b][0],y:a.Na[b][1]};a.eq=a.dA}
l.pa=function(a){!this.oa&&0<this.Na.length&&(this.eq-=a,null==this.Jf||0>this.eq?pg(this):25>Q({x:this.v.q.body.g.position.x*E,y:this.v.q.body.g.position.y*E},this.Jf)&&(bc("sparks"),this.v.H.xh+=5,this.v.H.zf=this.v.H.xh+Math.floor(this.v.H.kf/10),Kc(this.v,"x"+this.v.H.zf,"white",this.Jf.x/E,this.Jf.y/E,2E3),pg(this)));null!=this.Ij&&(0<this.Ij?this.Ij-=a:($.translate(W,0),this.We($),$.translate(-W,0),this.Ij=null));this.Dn&&(this.Ms-=a);this.Hj&&this.zn(a);0>=this.iq&&1>this.hq?this.hq=Math.min(1,
this.hq+a/1E3):0<this.iq&&0<this.hq&&(this.hq=Math.max(0,this.hq-a/1E3));0<this.iq&&(this.iq-=a);this.lp=[];this.ii=[];this.zp=[];for(var b=0;b<this.s.length;b++)this.s[b].pa(b,a);for(;0<this.lp.length;)b=this.lp.pop(),this.v.ma.ex(this.s[b].body),this.s[b]instanceof wc&&this.v.ma.ex(this.s[b].bb.body),this.s[b]==this.Pg&&(this.zh=!0);for(b=this.Cf.length-1;0<=b;b--)this.Cf[b].pa(a),0>=this.Cf[b].ks&&(this.Cf.splice(b,1),this.Cq-=4);for(;0<this.zp.length;){b=this.zp.pop();--this.Uk[this.s[b].type];
if("goo"==this.s[b].type||"disabler"==this.s[b].type){var c=this.Bi[this.s[b].type];c.Nl=1E3*Math.max(c.wq-(this.v.H.kf-c.$k)/60*c.vq,c.Ws)}this.s.splice(b,1)}for(;0<this.ii.length;)b=this.ii.pop(),qg(this,b);if(!this.uz)this.Hi(),this.uz=!0;else if("HIVE 0-3"!=this.P||!this.v.Jj){if(!this.oa){var b=[],d;for(d in this.Bi){c=this.Bi[d];c.pa(a,this.v.H.kf);var f=this.v.H.kf;if(0>=c.Nl){c.Nl+=1E3*Math.max(c.wq-(f-c.$k)/60*c.vq,c.Ws);var g=0;0<c.vq&&(g=2*Math.max(0,(c.Ws-(c.wq-(f-c.$k)/60*c.vq))/c.vq)*
c.Ws/c.wq);c=c.XD+(f-c.$k)/60*c.WD+g}else c=void 0;if(0<c)for("easy"!=J||this.vF||(c=Math.max(1,.5*c)),this.v instanceof qc&&this.Fy&&(c*=2),this.v instanceof qc&&this.sn&&(c=0),f=1;f<=c;f++)b.push(d)}rg(this,b);if(0==this.s.length&&0==this.Fg.length){d=1E3;for(var h in this.Bi)b=this.Bi[h],this.v.H.kf>b.$k&&(d=Math.min(d,b.Nl));for(h in this.Bi)b=this.Bi[h],b.pa(d,this.v.H.kf)}}0<=this.Zs?this.Zs-=a:0<this.Fg.length&&(a=this.Fg[0].type,h=this.Fg[0].EG,this.Fg=this.Fg.slice(1),this.Ys(a,h),this.Zs=
this.nd)}if(this.zh)for(b=0;b<this.s.length;b++)this.s[b].O||this.s[b].Tc("kill")};function og(a){a.Ca.sort(function(a,c){var d=R({x:400,y:300},{x:a[0],y:a[1]}),f=R({x:400,y:300},{x:c[0],y:c[1]});return d-f})}l.Hi=function(){if(this.Sa){var a=[],b;for(b in this.Sa){var c=this.Sa[b];this.oa||"easy"!=J||this.wF||(c=Math.max(1,.5*c));for(var d=0;d<c;d++)a.push(b);"separate_by_type"==this.$i&&(rg(this,a),a=[])}"separate_by_type"!=this.$i&&rg(this,a)}};
function rg(a,b){var c;if("spread"==a.$i){c=0;for(var d=Math.floor(Math.random()*a.Ca.length),f=0;f<a.Ca.length;f++){for(var g={x:a.Ca[f][0]/E,y:a.Ca[f][1]/E},h=-1,k=0;k<a.s.length;k++){var n=Q(a.s[k].body.g.position,g);if(-1==h||n<h)h=n}h>c&&(c=h,d=f)}c=d}else c=Math.floor(Math.random()*a.Ca.length);d=b.slice(0);for(f=0;f<b.length;f++)g=Math.floor(Math.random()*d.length),a.Ys(d[g],c+Math.floor(f/b.length*a.Ca.length)),d.splice(g,1)}
function Hc(a,b,c,d,f){if("player"==b||"spark"==b||"multi"==b||"boss"==b.slice(b.length-4,b.length)||a.Cq<a.ND&&D.Ur)a.Cf.push(new sg(b,c,d,f)),a.Cq+=4}
l.Ys=function(a,b){if(!this.Dn){var c=F[a].className;if(!(c.prototype.Gf&&this.iy||this.Uk[a]>=this.Bi[a].MD)){if(c.prototype.Gf)this.Pg=c=new c(this.v.ma,O/E/2,P/E/2,this.Ac,this.v),this.iy=!0;else if(this.Ca)var d=this.Ca[b%this.Ca.length],c=new c(this.v.ma,d[0]/E,d[1]/E,this.Ac,this.v);else{var f;.5>Math.random()?(d=.5>Math.random()?-7:O/E+5,f=Math.random()*(P/E+12)-7):(f=.5>Math.random()?-7:P/E+5,d=Math.random()*(O/E+12)-7);d={x:d+2*Math.random(),y:f+2*Math.random()};c=new c(this.v.ma,d.x,d.y,
this.Ac,this.v)}qg(this,c)}}};function qg(a,b){a.s.push(b);a.Ac+=1;a.Uk[b.type]+=1;b.Gf&&(a.Pg=b);b.dn&&!a.zr.hasOwnProperty(b.type)&&(a.zr[b.type]=b.Am)}function tg(a){null==a.xs&&a.Ma.length&&(a.xs=a.Ma.length);for(var b=0;b<a.xs;b++){var c=a.cs(b);a.Yh.push(new Qd(c,a.Nc,a.zi));a.fe.push(c);for(var d=0;d<c.length;d++)a.YD.push(c[d]);a.Ah.push(Qb(c,a.Qa))}for(b=0;b<a.Yh.length;b++)for(var c=a.Yh[b],d=c.cj.length-1,f=0;f<c.cj.length;f++)a.ff.push({p1:c.cj[d],p2:c.cj[f]}),d=f}
l.ih=function(a,b){if(this.Lc&&!this.oa){a.save();if(null!=this.Ij&&4>=this.n){var c=Math.max(this.Ij/this.ez,0);a.globalAlpha*=.3+.2*(1-c);a.strokeStyle=this.J;"HIVE 0-1"!=this.P&&"HIVE 0-2"!=this.P&&(a.save(),a.globalAlpha=.5<c?.3+(1-c):Math.max(0,0+1.6*c),a.beginPath(),a.arc(this.Lc.x*b,this.Lc.y*b,this.SC*(1-c),0,2*Math.PI),a.lineWidth=2+8*c,a.stroke(),a.restore())}else a.globalAlpha=this.v&&this.Hj&&4>=this.n?.7*a.globalAlpha:.3*a.globalAlpha;Ma(a,this.n,this.Lc.x*b,this.Lc.y*b,this.bl*b,this.Hj,
0);this.Hj&&this.Qm(a,b);a.restore()}};
l.V=function(a,b){a.save();if(0<this.cz){a.save();a.globalAlpha=this.cz;for(var c=0;c<this.Yh.length;c++){var d=this.Yh[c].color;this.Yh[c].color=this.PC;this.Yh[c].V(a,E);this.Yh[c].color=d}a.restore()}if(this.ok){var f=this.XE/this.YE;a.save();a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7);this.Dn&&(a.globalAlpha*=Math.max(0,this.Ms/this.jw));G(a,this.ok.x,this.ok.y,0,36,36,"spark_powerup");a.restore()}this.Jf&&(f=this.eq/this.dA,a.save(),a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7),this.Dn&&
(a.globalAlpha*=Math.max(0,this.Ms/this.jw)),c=this.Jf.x,d=this.Jf.y,G(a,c+1,d,0,20,20,"multi_powerup"),a.strokeStyle="white",a.lineWidth=2,a.save(),a.globalAlpha*=.5,a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+.001,!0),a.stroke(),a.restore(),a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*(1-f),!0),a.stroke(),a.restore());this.lE&&($.translate(W,0),this.We($,!0),$.translate(-W,0),this.lE=!1);1!=this.Ym&&(a.save(),a.globalAlpha*=this.Ym);for(c=0;c<this.Cf.length;c++)this.Cf[c].V(a,
b);for(c=0;c<this.s.length;c++)this.s[c].ih(a,b);for(var g in this.zr)for(d=this.zr[g],f=1;f<=d;f++){for(var h=null,c=0;c<this.s.length;c++)this.s[c].type==g&&(null==h&&(h=this.s[c],h.Bm(a,b,f)),this.s[c].ym(a,b,f));null!=h&&h.zm(a,b,f)}for(c=0;c<this.s.length;c++)this.s[c].V(a,b);for(c=0;c<this.s.length;c++)this.s[c].Wu(a,b);1!=this.Ym&&a.restore();0<=this.qC&&(a.beginPath(),a.arc(O/b/2*b,P/b/2*b,2*this.rC*b,-.5*Math.PI,-.5*Math.PI+this.qC/this.dG*Math.PI*2,!0),a.lineWidth=2,a.strokeStyle="gray",
a.stroke(),a.globalAlpha=1);a.restore()};
l.We=function(a){a.save();a.rect(0,0,O,P);a.clip();null!=this.fn.n?Cb(a,0,O,P,"Hive "+this.fn.n):(a.fillStyle=z["world 0 bright"],a.fillRect(0,0,O,P));for(var b=0;b<this.Yh.length;b++)this.Yh[b].V(a,E);this.oa?(a.fillStyle=z["world "+this.n+" dark"],a.fillRect(375,0,50,25),a.fillRect(375,575,50,25),a.fillRect(0,275,25,50),a.fillRect(775,275,25,50)):"HIVE 0-3"==this.P?(a.fillStyle=z["world "+this.n+" dark"],a.fillRect(0,0,800,200),a.fillRect(0,400,800,200)):"HIVE 0-4"==this.P&&(a.fillStyle=z["world "+
this.n+" dark"],a.fillRect(0,0,800,50),a.fillRect(0,550,800,50));a.restore()};l.zn=function(a){for(var b=0;b<this.Df.length;b++){var c=this.Df[b];c.ld+=a/this.as;1<c.ld&&this.Df.splice(b,1)}this.rg-=a;0>this.rg&&(this.rg+=this.al,this.Bp(this.Lc.x,this.Lc.y,this.bs))};l.Bp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.Df.push({Aw:1.5*Math.cos(f)*this.bl+a,Bw:1.4*Math.sin(f)*this.bl+b,ld:0})}};
l.Qm=function(a,b){for(var c=0;c<this.Df.length;c++){var d=this.Df[c];a.save();a.globalAlpha=.25>d.ld?4*a.globalAlpha*d.ld:(1-d.ld)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.Aw*(1-d.ld)+this.Lc.x*d.ld)-3,b*(d.Bw*(1-d.ld)+this.Lc.y*d.ld)-3,6,6);a.fillStyle=z["world "+this.n+" bright"];a.fill();a.restore()}};var N={"HOW TO PLAY":{s:{stunner:[0,4,0,4,1,0,5]},mb:"stunner",Ma:[[[838,84],[-38,84],[-38,-45],[838,-45]],[[-38,175],[42,175],[42,258],[756,258],[756,175],[838,175],[838,645],[-38,645]]],Na:[[72,225],[728,225],[21,127],[779,127]],Ca:[[-100,127],[900,127]],Qa:1,za:{normal:[2500,1E4,2E4],easy:[2500,1E4,2E4]},kb:{x:400,y:170},Qa:1},"HIVE 0-1":{Tb:{},s:{},Bc:{},Sa:{},mb:"stunner",Ma:[],Na:[],Ca:[],Qa:1,zl:50,za:{normal:[0,3E5,12E5]},kb:{x:200,y:300},Lc:{x:600,y:300}},"HIVE 0-2":{Tb:{},s:{},Bc:{},Sa:{},
mb:"stunner",Ma:[[[-50,260],[370,260],[370,360],[-50,360]],[[50,420],[751,420],[750,520],[50,520]],[[850,360],[430,360],[430,260],[850,260]]],Na:[],Ca:[],Qa:1,zl:50,za:{normal:[0,3E5,12E5]},kb:{x:400,y:560},Lc:{x:400,y:200}},"HIVE 0-3":{Tb:{dumb_stunner:[0,1,0,1,1,0,1]},s:{dumb_stunner:[0,1,0,1,1,0,1]},Bc:{dumb_stunner:1},Sa:{dumb_stunner:1},mb:"dumb_stunner",Ma:[[[-50,-50],[850,-50],[850,200],[-50,200]],[[-50,400],[850,400],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],
[750,650],[850,650],[850,-50]]],Na:[],Ca:[[200,300]],Qa:1,zl:50,za:{easy:[1E3,3E5,12E5],normal:[1E3,3E5,12E5]},kb:{x:100,y:300},Lc:{x:600,y:300},DA:!0},"HIVE 0-4":{Tb:{dumb_stunner:[0,1,0,1,1,0,4]},s:{dumb_stunner:[0,1,0,1,1,0,4]},Bc:{dumb_stunner:4},Sa:{dumb_stunner:4},mb:"dumb_stunner",Ma:[[[-50,-50],[850,-50],[850,50],[-50,50]],[[-50,550],[850,550],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]]],Na:[[200,200],[600,200],[200,400],[600,400]],
Ca:[[300,300],[500,300],[400,200],[400,400]],Qa:1,zl:50,za:{easy:[2E3,1E4,2E4],normal:[2E3,1E4,2E4]},kb:{x:400,y:300},$i:"spread",qq:!0},"HIVE 1-1":{Tb:{stunner:[0,5,1,1,2,0,50]},s:{stunner:[0,1.5,.5,1,4,2,50]},Bc:{stunner:2},Sa:{stunner:4},mb:"stunner",Ma:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[144,367],[656,367],[656,626],[144,626]],[[144,-26],[656,-26],[656,233],[144,233]]],gf:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,
-26]],[[174,400],[626,400],[626,626],[174,626]],[[174,-26],[626,-26],[626,200],[174,200]]],Na:[[81,75],[81,525],[719,75],[719,525]],GA:[[250,250],[250,350],[550,250],[550,350]],Ca:[[50,-100],[750,-100],[50,700],[750,700]],Qa:1,zl:50,za:{easy:[2500,5E4,3E5],normal:[5E5,4E5,8E5]},kb:{x:400,y:300}},"HIVE 1-2":{s:{stunner:[3,3,0,3,3,2,25],spear:[0,3,0,3,2,2,25]},Tb:{stunner:[2,3,1,1,1,0,25],spear:[0,4,1,1,1,0,25]},Sa:{spear:4},Bc:{spear:1},mb:"spear",Ma:[[[112,-6],[688,-6],[688,26],[112,26]],[[-9,96],
[30,96],[30,505],[-9,505]],[[809,504],[770,504],[770,95],[809,95]],[[688,606],[112,606],[112,574],[688,574]],[[135,126],[330,126],[135,259]],[[135,341],[330,474],[135,474]],[[665,259],[470,126],[665,126]],[[665,474],[470,474],[665,341]]],Na:[[135,300],[665,300],[400,125],[400,475],[709,78],[91,78],[709,522],[91,522]],Ca:[[-50,-50],[850,650],[850,-50],[-50,650]],Qa:1,za:{easy:[15E3,8E4,4E5],normal:[5E5,4E5,1E6]},kb:{x:400,y:300}},"HIVE 1-3":{Tb:{stunner:[0,2.5,.5,1,2,0,40],spear:[30,6,1.5,1.5,1,0,
15]},s:{stunner:[0,3,1,1,4,0,50],spear:[4,4,0,4,1,1,15]},Bc:{stunner:4},Sa:{stunner:12},mb:"stunner",Ma:[[[466,300],[400,348],[335,300],[400,251]],[[-11,-10],[305,-10],[305,12],[10,236],[-11,236]],[[-11,364],[10,364],[305,588],[305,610],[-11,610]],[[811,236],[791,236],[495,12],[495,-10],[811,-10]],[[811,610],[495,610],[495,588],[791,364],[811,364]]],Ca:[[-100,300],[400,-100],[900,300],[400,700]],Na:[[400,50],[50,300],[400,550],[750,300]],Qa:1,za:{easy:[2E4,12E4,6E5],normal:[5E5,3E5,12E5]},kb:{x:400,
y:400}},"HIVE 1-4":{Tb:{spear:[0,5,2,1,2,0,40]},s:{spear:[0,4,1,2,3,4,40]},Sa:{spear:4},Bc:{spear:2},mb:"spear",Ma:[[[-15,73],[265,253],[-15,269]],[[336,426],[362,610],[-15,610]],[[464,175],[438,-10],[815,-10]],[[-15,331],[265,348],[-15,527]],[[815,269],[535,253],[815,73]],[[-15,-10],[362,-10],[336,175]],[[815,610],[438,610],[464,426]],[[815,527],[535,348],[815,331]]],Ca:[[-100,14],[900,14],[900,586],[-100,586],[-100,300],[400,-100],[900,300],[400,700]],Na:[[400,125],[400,475],[125,300],[675,300],
[177,145],[623,145],[177,455],[623,455]],Qa:1,za:{easy:[3E4,2E5,75E4],normal:[75E4,4E5,15E5]},kb:{x:400,y:300}},"HIVE 1-5":{s:{spear:[0,7,0,7,2,1,15],tank:[1,5,0,5,3,2,25]},Tb:{spear:[6,6,2,2,1.5,0,15],tank:[0,5,2,1,1,0,25]},mb:"tank",Sa:{spear:8},Bc:{tank:6},Ma:[[[103,1],[688,1],[688,27],[103,27]],[[799,483],[770,483],[770,116],[799,116]],[[103,573],[688,573],[688,599],[103,599]],[[1,116],[30,116],[30,483],[1,483]]],Ca:[[-100,-100],[900,-100],[900,700],[-100,700]],Na:[[66,528],[66,72],[734,528],
[66,528]],Qa:1,za:{easy:[4E4,2E5,6E5],normal:[1E6,4E5,125E4]},kb:{x:400,y:300}},"HIVE 1-6":{s:{stunner:[2,6,0,6,3,2,25],tank:[0,8,0,8,2,3,25]},Tb:{stunner:[0,6,2,2,1,0,25],tank:[0,6,2,2,1,0,25]},Sa:{tank:4},Bc:{tank:3,stunner:1},mb:"tank",Ma:[[[828,322],[518,8],[554,-32],[823,-32]],[[-28,278],[282,592],[246,632],[-23,632]],[[398,125],[575,300],[399,476],[223,300]],[[107,185],[-25,53],[-25,-34],[325,-34]],[[693,415],[825,547],[825,634],[475,634]]],Ca:[[400,-100],[400,700],[-100,150],[900,450]],Na:[[50,
240],[400,15],[400,585],[750,360]],Qa:1,za:{easy:[5E4,2E5,8E5],normal:[1E6,5E5,15E5]},kb:{x:250,y:150}},"HIVE 1-7":{Tb:{stunner:[0,5,1,2,1,0,30],spear:[0,6,1.2,2.4,1,0,15],tank:[0,10,2.5,5,1,0,15]},s:{stunner:[0,5,0,5,2,1,30],spear:[0,5,0,5,2,1,15],tank:[0,10,0,10,2,1,15]},Sa:{stunner:4,spear:2,tank:4},Bc:{stunner:2,spear:1,tank:1},mb:"tank",Ma:[[[243,110],[332,144],[243,179],[153,144]],[[310,-3],[400,-38],[489,-3],[400,31]],[[310,300],[400,265],[489,300],[400,334]],[[88,-38],[177,-3],[88,31],[-2,
-3]],[[-2,300],[88,265],[177,300],[88,334]],[[-21,125],[25,143],[-21,163]],[[-2,603],[88,569],[177,603],[88,638]],[[802,-3],[712,31],[623,-3],[712,-38]],[[-21,437],[25,457],[-21,475]],[[821,163],[775,143],[821,125]],[[153,456],[243,421],[332,456],[243,490]],[[647,144],[557,179],[468,144],[557,110]],[[712,334],[623,300],[712,265],[802,300]],[[557,490],[468,456],[557,421],[647,456]],[[712,638],[623,603],[712,569],[802,603]],[[400,569],[489,603],[400,638],[310,603]],[[821,475],[775,457],[821,437]]],
Ca:[[-100,50],[-100,300],[-100,550],[900,50],[900,300],[900,550],[240,-100],[560,-100],[240,700],[560,700]],Na:[[75,145],[235,34],[565,34],[725,145],[725,455],[565,566],[235,566],[75,455]],Qa:1,za:{easy:[5E4,15E4,75E4],normal:[1E6,4E5,15E5]},kb:{x:400,y:450}},"BOSS 1":{s:{"first boss":[0,1,0,1,0,0,1]},Sa:{"first boss":1},mb:"first boss",Ma:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,
-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Ca:[[60,62],[60,539],[740,62],[740,539]],Qa:1,kb:{x:400,y:550},Iu:40},"HIVE 2-1":{Tb:{stunner:[0,5,1.5,2,1,0,15],tank:[15,12,3,3,1,0,15],mote:[0,10,2,4,1,0,25]},s:{stunner:[1,4,0,4,2,2,15],tank:[0,8,0,8,2,1,15],mote:[0,6,0,6,2,2,25]},Sa:{mote:4,tank:2},Bc:{mote:2,stunner:2},mb:"mote",Ma:[[[-12,-8],[815,-8],[815,609],[748,609],[748,50],[51,50],[51,609],[-12,609]],[[176,609],[176,175],[288,174],[286,286],[228,286],[228,540],
[566,540],[566,287],[510,286],[510,175],[626,175],[626,609]],[[324,363],[469,363],[469,466],[324,466]]],Na:[[400,500],[687,450],[113,450]],Ca:[[100,700],[700,700]],Qa:1,za:{easy:[6E4,2E5,75E4],normal:[15E4,45E4,175E4]},$i:"separate_by_type",kb:{x:400,y:235}},"HIVE 2-2":{s:{stunner:[3,3,0,3,2,1,30],spear:[0,10,0,10,4,4,20],mote:[0,5,1,2,1,0,20]},Tb:{stunner:[5,5,1,2,1,0,30],spear:[0,12,0,12,2,1,20],mote:[0,9,2,3,1,0,20]},Sa:{spear:4,mote:2},mb:"mote",Ma:[[[-25,253],[143,253],[143,347],[-25,347]],[[825,
347],[656,347],[656,253],[825,253]],[[556,347],[454,347],[454,253],[557,253]],[[244,253],[346,253],[346,347],[243,347]],[[-25,-36],[825,-36],[825,148],[758,148],[758,23],[656,23],[658,148],[555,148],[557,23],[454,23],[455,148],[346,148],[346,23],[243,23],[244,148],[143,148],[143,23],[42,23],[42,148],[-25,148]],[[-25,452],[42,452],[42,577],[143,577],[143,452],[244,452],[243,577],[346,577],[346,452],[455,452],[454,577],[557,577],[555,452],[658,452],[656,577],[758,577],[758,452],[825,452],[825,636],
[-25,636]]],Ca:[[-100,175],[900,175],[900,425],[-100,425]],Na:[[95,85],[295,85],[505,85],[705,85],[95,515],[295,515],[505,515],[705,515]],Qa:1,za:{normal:[1E5,3E5,15E5]},kb:{x:400,y:300}},"HIVE 2-3":{Tb:{spear:[0,6,2,2,2,0,30],tank:[0,8,1,2,2,0,30],goo:[0,10,0,10,1,0,1]},s:{spear:[0,8,0,8,4,1,30],tank:[0,8,0,8,4,1,30],goo:[0,10,0,10,1,0,1]},mb:"goo",Ma:[[[169,549],[630,549],[706,621],[91,622]],[[631,51],[170,51],[94,-21],[709,-22]],[[-24,116],[58,184],[56,416],[-24,483]],[[824,484],[743,416],[744,
184],[824,117]]],Ca:[[-100,-100],[900,-100],[900,700],[-100,700]],Na:[[66,528],[66,72],[734,528],[66,528]],Qa:1,Sa:{tank:4,spear:8,goo:1},Bc:{tank:6,spear:4,goo:1},$i:"separate_by_type",za:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},kb:{x:400,y:300}},"HIVE 2-4":{s:{stunner:[6,6,0,6,2,2,10],spear:[0,2,.3,1,1.5,0,20],mote:[0,6,2,2,1,0,15],goo:[0,10,0,10,1,0,1]},Tb:{stunner:[8,8,0,8,2,1,10],spear:[0,12,3,2,2,0,20],mote:[0,8,1.5,2,1,0,15],goo:[0,10,0,10,1,0,1]},mb:"goo",Sa:{spear:3,goo:1,mote:2,stunner:2},
Bc:{spear:2,goo:1,mote:1,stunner:2},Ma:[[[-33,-54],[342,-54],[343,201],[191,384],[-33,536]],[[833,536],[609,384],[457,201],[458,-54],[833,-54]],[[526,478],[725,602],[725,641],[75,641],[75,602],[274,478]]],Ca:[[400,-100],[-125,700],[925,700]],Na:[[400,120],[180,460],[620,460]],Qa:1,za:{easy:[6E4,2E5,8E5],normal:[175E3,5E5,2E6]},$i:"separate_by_type",kb:{x:400,y:330}},"HIVE 2-5":{Tb:{stunner:[6,6,2,2,1,0,15],mote:[8,8,2,4,1,0,15],harpoon:[0,15,3,6,1,0,15]},s:{stunner:[0,6,0,6,1,2,15],mote:[0,8,1.6,
3.2,1,0,15],harpoon:[0,20,4,8,2,0,15]},mb:"harpoon",Sa:{stunner:2,mote:2,harpoon:2},Bc:{harpoon:1},Ma:[[[-32,-31],[49,-31],[49,631],[-32,631]],[[832,631],[751,631],[751,-31],[832,-31]],[[656,366],[629,366],[629,236],[656,236]],[[144,235],[171,235],[171,364],[144,364]],[[387,235],[414,235],[414,365],[387,365]],[[265,368],[292,368],[292,498],[265,498]],[[535,232],[508,232],[508,102],[535,102]],[[265,102],[292,102],[292,232],[265,232]],[[535,498],[508,498],[508,368],[535,368]],[[659,102],[628,102],[629,
18],[414,18],[414,102],[387,102],[387,18],[172,18],[172,102],[143,102],[145,-34],[659,-33]],[[141,498],[172,498],[171,582],[386,582],[386,498],[414,498],[413,582],[628,582],[628,498],[658,498],[655,634],[141,633]]],Qa:1,Ca:[[100,-50],[700,-50],[100,650],[700,650]],Na:[[100,50],[100,300],[100,550],[700,50],[700,300],[700,550]],za:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},kb:{x:400,y:425}},"HIVE 2-6":{s:{spear:[0,10,0,10,2,2,10],tank:[2,15,0,15,2,1,12],goo:[0,15,0,15,1,0,1],harpoon:[0,20,0,20,2,2,12]},
Tb:{spear:[0,8,2,4,1,0,10],tank:[2,12,4,3,1,0,12],goo:[0,20,0,20,1,0,1],harpoon:[0,15,4,6,1,0,12]},mb:"harpoon",Ma:[[[325,276],[374,276],[374,231],[427,231],[427,276],[475,276],[475,324],[426,324],[426,371],[373,371],[373,324],[325,324]],[[832,27],[-31,27],[-31,-18],[832,-18]],[[-32,573],[831,573],[831,618],[-32,618]],[[192,369],[246,369],[246,450],[325,450],[325,502],[192,502]],[[192,98],[325,98],[325,150],[246,150],[246,231],[192,231]],[[-25,98],[111,98],[111,502],[-25,502]],[[825,502],[689,502],
[689,98],[825,98]],[[608,231],[554,231],[554,150],[475,150],[475,98],[608,98]],[[608,502],[475,502],[475,450],[554,450],[554,369],[608,369]]],Ca:[[-100,50],[900,50],[-100,550],[900,550]],Na:[[90,63],[710,63],[90,537],[710,537]],Sa:{spear:4,harpoon:2,goo:1},Qa:1,za:{easy:[9E4,25E4,6E5],normal:[2E5,5E5,125E4]},kb:{x:400,y:450}},"HIVE 2-7":{Tb:{stunner:[0,30,0,30,2,1,16],spear:[2,30,0,30,2,1,16],tank:[12,30,0,30,2,1,16],mote:[6,30,0,30,2,1,16],goo:[18,30,0,30,1,0,1],harpoon:[20,30,0,30,2,1,16]},s:{stunner:[0,
30,0,30,4,2,16],spear:[22,30,0,30,4,2,16],tank:[2,30,0,30,4,2,16],mote:[6,30,0,30,4,2,16],goo:[16,30,0,30,1,0,1],harpoon:[10,30,0,30,4,2,16]},mb:"harpoon",Ma:[[[830,52],[-29,52],[-29,-27],[830,-27]],[[-30,548],[829,548],[829,627],[-30,627]],[[-30,133],[307,133],[307,186],[54,186],[54,415],[307,415],[307,467],[-30,466]],[[830,466],[493,467],[493,415],[746,415],[746,186],[493,186],[493,133],[830,133]],[[229,275],[571,275],[571,325],[229,325]]],Ca:[[-100,100],[900,100],[-100,500],[900,500]],Na:[[200,
93],[600,93],[200,507],[600,507]],Qa:1,za:{easy:[1E5,3E5,1E6],normal:[2E5,75E4,225E4]},Sa:{stunner:4},kb:{x:400,y:400}},"BOSS 2":{s:{"second boss":[0,1,0,1,0,0,1],stunner:[0,10,0,10,0,0,12],spear:[0,10,0,10,0,0,8],tank:[0,10,0,10,0,0,8],mote:[0,10,0,10,0,0,8],goo:[0,10,0,10,0,0,1],harpoon:[0,10,0,10,0,0,8]},Sa:{"second boss":1},mb:"second boss",Ma:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,
25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Ca:[[60,62],[60,539],[740,62],[740,539]],Qa:1,kb:{x:400,y:500},Iu:60},"HIVE 3-1":{Tb:{stunner:[7,12,2,6,2,0,20],tank:[8,12,3,3,1,0,10],mote:[6,12,2,4,1,0,15],fighter:[0,24,4,8,1,0,12]},s:{stunner:[0,10,1.5,4,4,0,20],tank:[0,12,2.4,4.8,1,0,10],mote:[0,12,2.4,4.8,1,0,15],fighter:[0,15,3,6,1,0,12]},mb:"fighter",Ma:[[[304,274],[426,204],[496,326],[374,396]],[[72,212],[193,142],[263,263],[142,333]],[[242,507],[363,
437],[433,558],[312,628]],[[558,93],[437,163],[367,42],[488,-28]],[[728,388],[607,458],[537,337],[658,267]],[[326,31],[204,101],[134,-20],[256,-90]],[[474,569],[596,499],[666,620],[544,690]],[[10,444],[131,374],[201,496],[80,566]],[[790,156],[669,226],[599,104],[720,34]],[[-160,150],[-39,80],[31,201],[-90,271]],[[960,450],[839,520],[769,399],[890,329]]],gf:[[[314,277],[423,214],[486,323],[377,386]],[[82,215],[190,152],[253,260],[145,323]],[[252,510],[360,447],[423,555],[315,618]],[[548,90],[440,153],
[377,45],[485,-18]],[[718,385],[610,448],[547,340],[655,277]],[[316,28],[207,91],[144,-17],[253,-80]],[[484,572],[593,509],[656,617],[547,680]],[[20,447],[128,384],[191,493],[83,556]],[[780,153],[672,216],[609,107],[717,44]],[[-150,153],[-42,90],[21,198],[-87,261]],[[950,447],[842,510],[779,402],[887,339]]],Ca:[[-100,360],[-100,-100],[900,200],[900,700],[200,700],[400,700],[360,-100],[600,-100]],Na:[[586,50],[83,88],[205,548],[715,515],[728,260],[83,330]],Qa:.8,za:{easy:[125E3,4E5,1E6],normal:[25E4,
75E4,225E4]},Sa:{fighter:1,tank:1,mote:1,stunner:4},Bc:{fighter:1,stunner:2},Bh:!0,kb:{x:250,y:380}},"HIVE 3-2":{s:{spear:[0,6,0,6,2,1,20],goo:[1,15,0,15,1,0,1],fighter:[0,18,0,18,2,2,12],harpoon:[0,15,3,6,1,0,12]},Tb:{spear:[10,10,1.5,3,1,0,20],goo:[0,15,0,15,1,0,1],fighter:[0,24,4,8,2,0,12],harpoon:[0,20,3,9,1,0,12]},mb:"fighter",Ma:[[[438,472],[393,455],[380,425],[413,411]],[[488,230],[474,198],[505,185],[548,205]],[[572,262],[555,307],[525,320],[512,287]],[[228,338],[245,293],[275,280],[288,313]],
[[312,370],[326,402],[295,415],[252,395]],[[470,388],[502,374],[515,405],[495,448]],[[330,212],[298,226],[285,195],[305,152]],[[362,128],[407,145],[420,175],[387,189]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],
[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],gf:[[[433,467],[395,453],[384,427],[412,416]],[[490,226],[479,199],[505,188],[541,205]],[[567,267],[553,305],[527,316],[516,288]],[[233,333],[247,295],[273,284],[284,312]],[[310,374],[321,401],[295,412],[259,395]],[[474,390],[501,379],[512,405],[495,441]],[[326,210],[299,221],[288,195],[305,159]],[[367,133],[405,147],[416,173],[388,184]],[[739,
714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],Ca:[[-156,410],
[-78,605],[110,-102],[317,-187],[886,-23],[972,193],[706,742],[482,820]],Na:[[190,84],[613,89],[610,521],[186,503]],Qa:1,za:{easy:[125E3,3E5,1E6],normal:[3E5,8E5,2E6]},Sa:{fighter:2,spear:2,harpoon:1},Bc:{fighter:2,harpoon:1,goo:1},Bh:!0,kb:{x:370,y:380}},"HIVE 3-3":{s:{tank:[0,10,2,4,1,0,20],harpoon:[0,16,4,6,1,0,15],mote:[0,8,1.6,3.2,1,0,10],disabler:[0,10,1,1,1,0,1]},Tb:{tank:[6,12,3,3,1,0,20],harpoon:[8,16,3,6,1,0,15],mote:[0,10,2,4,1,0,10],disabler:[0,5,0,5,1,0,1]},mb:"disabler",Ma:[[[-14,343],
[25,439],[175,439],[250,239],[325,439],[475,439],[550,239],[625,439],[775,439],[811,341],[850,629],[-50,629]],[[850,161],[775,161],[700,361],[625,161],[475,161],[400,361],[325,161],[175,161],[100,361],[25,161],[-50,161],[-50,-21],[850,-21]]],gf:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],Ca:[[-100,
166],[900,166]],Na:[[100,402],[700,402],[25,299],[775,299]],Qa:1.3,za:{easy:[125E3,3E5,9E5],normal:[25E4,6E5,175E4]},Sa:{disabler:1,harpoon:1,tank:2,mote:2},Bc:{disabler:1,mote:2},Bh:!0,kb:{x:400,y:400}},"HIVE 3-4":{s:{spear:[0,4,0,4,2,2,15],fighter:[0,10,0,10,2,1,10],mote:[0,8,0,8,2,1,20],disabler:[0,10,0,10,1,0,1]},Tb:{spear:[0,6,1,3,2,0,15],fighter:[0,20,3,6,2,0,10],mote:[0,10,0,10,2,1,20],disabler:[0,5,0,5,1,0,1]},mb:"disabler",Ma:[[[424,337],[540,368],[555,310],[613,326],[582,441],[640,457],
[624,515],[509,484],[493,541],[436,526],[467,410],[409,395]],[[420,584],[536,615],[551,558],[609,573],[578,689],[405,642]],[[428,90],[544,121],[559,63],[617,78],[586,194],[644,209],[629,267],[513,236],[498,294],[440,279],[471,163],[413,147]],[[177,333],[292,364],[308,306],[366,322],[335,437],[393,453],[377,510],[262,479],[246,537],[188,522],[219,406],[161,391]],[[173,580],[288,611],[304,553],[362,569],[331,685],[157,638]],[[181,86],[297,117],[312,59],[370,74],[339,190],[397,205],[381,263],[266,232],
[250,290],[192,274],[223,159],[166,143]],[[401,-42],[385,16],[270,-15],[254,43],[197,27],[228,-89]],[[648,-38],[633,20],[517,-11],[502,47],[444,31],[475,-84]],[[671,341],[787,372],[802,314],[860,330],[829,445],[887,461],[871,519],[756,488],[740,545],[683,530],[714,414],[656,399]],[[895,-34],[880,24],[764,-7],[749,51],[691,35],[722,-80]],[[154,-46],[138,12],[23,-19],[7,39],[-50,23],[-19,-93]],[[667,588],[783,619],[798,562],[856,577],[825,693],[652,646]],[[-66,82],[50,113],[65,55],[123,70],[92,186],
[150,201],[134,259],[19,228],[3,286],[-55,270],[-24,155],[-81,139]],[[-74,576],[41,607],[57,549],[115,565],[84,681],[-90,634]],[[-70,329],[45,360],[61,302],[119,318],[88,433],[146,449],[130,506],[15,475],[-1,533],[-59,518],[-28,402],[-86,387]],[[675,94],[791,125],[806,67],[864,82],[833,198],[891,213],[876,271],[760,240],[745,298],[687,283],[718,167],[660,151]]],gf:[[[434,346],[538,374],[552,322],[604,336],[576,439],[628,454],[614,506],[511,478],[496,529],[445,516],[473,412],[421,398]],[[430,587],
[534,615],[548,563],[600,577],[572,681],[416,639]],[[438,99],[542,127],[556,75],[608,88],[580,192],[632,206],[619,258],[515,230],[501,282],[449,269],[477,165],[425,150]],[[187,342],[291,370],[305,318],[357,332],[329,435],[381,450],[367,501],[264,473],[249,525],[197,512],[225,408],[173,394]],[[183,583],[286,611],[301,558],[353,573],[325,677],[168,635]],[[191,95],[295,123],[309,71],[361,84],[333,188],[385,202],[371,254],[268,226],[253,278],[201,264],[229,161],[178,146]],[[390,-39],[375,13],[272,-14],
[258,38],[206,23],[234,-81]],[[637,-35],[623,17],[519,-10],[505,42],[453,27],[481,-76]],[[681,350],[785,378],[799,326],[851,340],[823,443],[875,458],[861,510],[758,482],[743,533],[692,520],[720,416],[668,402]],[[884,-31],[870,21],[766,-6],[752,46],[700,31],[728,-72]],[[143,-43],[128,9],[25,-18],[11,34],[-41,19],[-13,-85]],[[677,591],[781,619],[795,567],[847,581],[819,685],[663,643]],[[-56,91],[48,119],[62,67],[114,80],[86,184],[138,198],[124,250],[21,222],[6,274],[-46,260],[-18,157],[-69,142]],[[-64,
579],[39,607],[54,554],[106,569],[78,673],[-79,631]],[[-60,338],[44,366],[58,314],[110,328],[82,431],[134,446],[120,497],[17,469],[2,521],[-50,508],[-22,404],[-74,390]],[[685,103],[789,131],[803,79],[855,92],[827,196],[879,210],[866,262],[762,234],[748,286],[696,273],[724,169],[672,154]]],Ca:[[-692,162],[958,574],[-114,43],[958,327],[-139,277],[941,70],[-125,530],[105,743],[-125,530],[344,745],[456,-148],[597,738],[203,-140]],Na:[[159,48],[646,551],[151,544],[653,58]],Qa:.8,za:{normal:[3E5,6E5,2E6]},
kb:{x:400,y:300},Sa:{spear:3,fighter:2,mote:2,disabler:1},Bc:{fighter:2,spear:2,disabler:1}},"HIVE 3-6":{s:{spear:[0,10,0,10,2,2,8],tank:[0,12,0,12,2,2,8],harpoon:[0,12,2.4,4.8,1,0,8],troll:[0,10,0,10,2,2,10]},Tb:{spear:[12,12,2,4,2,0,8],tank:[15,15,2.5,4,1,0,8],harpoon:[24,24,4,8,1,0,8],troll:[0,14,2,4,2,0,10]},mb:"troll",Ma:[[[350,123],[400,90],[450,123],[400,156]],[[256,300],[223,350],[190,300],[223,250]],[[400,444],[450,477],[400,510],[350,477]],[[577,250],[610,300],[577,350],[544,300]],[[400,
350],[250,450],[350,300],[250,150],[400,250],[550,150],[450,300],[550,450]],[[350,-54],[450,-54],[550,96],[400,-4],[250,96]],[[-4,123],[46,90],[96,123],[46,156]],[[46,444],[96,477],[46,510],[-4,477]],[[754,156],[704,123],[754,90],[804,123]],[[804,477],[754,510],[704,477],[754,444]],[[46,-4],[-41,55],[-4,-54],[96,-54],[196,96]],[[250,504],[400,604],[550,504],[450,654],[350,654]],[[196,150],[96,300],[196,450],[46,350],[-47,412],[-4,300],[-44,190],[46,250]],[[604,450],[704,300],[604,150],[754,250],[847,
188],[804,300],[844,410],[754,350]],[[196,504],[96,654],[-4,654],[-41,545],[46,604]],[[604,96],[704,-54],[804,-54],[841,55],[754,-4]],[[754,604],[841,545],[804,654],[704,654],[604,504]]],gf:[[[355,123],[400,93],[445,123],[400,153]],[[253,300],[223,345],[193,300],[223,255]],[[400,447],[445,477],[400,507],[355,477]],[[577,255],[607,300],[577,345],[547,300]],[[400,345],[265,435],[355,300],[265,165],[400,255],[535,165],[445,300],[535,435]],[[355,-47],[445,-47],[535,88],[400,-2],[265,88]],[[1,123],[46,
93],[91,123],[46,153]],[[46,447],[91,477],[46,507],[1,477]],[[754,153],[709,123],[754,93],[799,123]],[[799,477],[754,507],[709,477],[754,447]],[[47,-3],[-31,50],[2,-48],[92,-48],[182,87]],[[265,512],[400,602],[535,512],[445,647],[355,647]],[[182,165],[92,300],[182,435],[47,345],[-36,401],[2,300],[-34,201],[47,255]],[[618,435],[708,300],[618,165],[753,255],[836,199],[798,300],[834,399],[753,345]],[[182,513],[92,648],[2,648],[-31,550],[47,603]],[[618,87],[708,-48],[798,-48],[831,50],[753,-3]],[[753,
603],[831,550],[798,648],[708,648],[618,513]]],Ca:[[222,652],[-120,123],[-120,477],[920,123],[920,477],[222,-52],[578,652],[578,-52]],Na:[[223,58],[223,543],[577,58],[577,543]],Qa:1,za:{easy:[2E5,4E5,9E5],normal:[3E5,6E5,175E4]},kb:{x:400,y:400},Sa:{tank:1,spear:1,harpoon:1,troll:2},Bc:{troll:2,tank:1,harpoon:1}},"HIVE 3-5":{s:{stunner:[0,8,0,8,2,2,15],mote:[0,10,2,4,1,1,15],fighter:[7,20,4,8,1,1,10],troll:[0,10,0,10,2,2,10]},Tb:{stunner:[5,10,0,10,1,1,15],mote:[0,15,2.5,6,1,0,15],fighter:[10,20,
3,8,1,0,10],troll:[0,15,2.5,6,2,0,10]},mb:"troll",Na:[[100,100]],Ma:[[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[531,313],[525,325],[479,305],[498,259],[359,202],[340,248],[294,229],[300,216],[411,170],[486,201]],[[269,287],[275,275],[321,295],[302,341],[441,
398],[460,352],[506,371],[500,384],[389,430],[314,399]],[[828,504],[826,846],[-76,645],[-33,148],[136,218],[118,264],[163,284],[145,329],[99,310],[41,449],[178,506],[198,460],[245,479],[226,525],[364,582],[383,536],[430,556],[410,601],[606,520],[560,501],[579,455],[625,475],[645,428]],[[-28,96],[-26,-246],[876,-45],[833,452],[664,382],[682,336],[637,316],[655,271],[701,290],[759,151],[622,94],[602,140],[555,121],[574,75],[436,18],[417,64],[370,44],[390,-1],[194,80],[240,99],[221,145],[175,125],[155,
172]]],gf:[[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[269,287],[316,307],[302,341],[441,398],[454,365],[500,384],[389,430],[314,399]],[[531,313],[484,293],[498,259],[359,202],[345,235],[300,216],[411,170],[486,201]],[[-26,81],[-26,-246],[876,-45],[839,439],
[669,369],[682,336],[659,327],[678,281],[701,290],[759,151],[622,94],[612,119],[565,99],[574,75],[436,18],[426,42],[380,23],[390,-1],[194,80],[217,88],[198,135],[175,125],[162,159]],[[826,519],[826,846],[-76,645],[-40,160],[132,231],[118,264],[141,273],[122,319],[99,310],[41,449],[178,506],[188,481],[235,501],[226,525],[364,582],[374,558],[420,577],[410,601],[606,520],[583,512],[602,465],[625,475],[638,441]]],Ca:[[-103,88],[923,515]],Na:[[318,106],[482,495],[214,222],[586,379],[202,383],[598,218]],
Qa:1,za:{easy:[2E5,4E5,8E5],normal:[4E5,75E4,15E5]},Sa:{troll:2,stunner:2,mote:1},$i:"separate_by_type",Bc:{troll:2},kb:{x:400,y:300}},"HIVE 3-7":{s:{stunner:[4,30,0,30,2,1,10],spear:[18,30,0,30,4,2,10],tank:[8,30,0,30,2,2,8],mote:[16,30,0,30,2,2,10],goo:[10,30,0,30,1,0,1],harpoon:[2,30,0,30,4,4,6],fighter:[12,30,0,30,2,1,6],disabler:[20,30,0,30,1,0,1],troll:[0,30,0,30,4,2,10]},mb:"troll",Ma:[[[373,606],[439,691],[-20,688],[-20,-44],[211,-23],[206,-2],[17,459]],[[427,-6],[361,-91],[820,-88],[820,
644],[589,623],[594,602],[783,141]],[[309,78],[200,340],[144,363],[285,22],[626,163],[569,187]],[[600,260],[656,237],[515,578],[175,436],[230,413],[492,521]],[[468,364],[448,318],[467,272],[422,254],[402,207],[513,253]],[[332,236],[352,282],[333,328],[378,346],[398,393],[287,347]]],Ca:[[163,-99],[284,-112],[516,712],[638,699]],Na:[[171,492],[105,319],[629,109],[695,282]],Qa:1.5,za:{easy:[25E4,5E5,1E6],normal:[4E5,8E5,2E6]},Sa:{troll:4},Bh:!0,kb:{x:400,y:300}},"BOSS 3":{s:{"third boss":[0,1,0,1,1,
0,1],stunner:[0,6,0,6,0,0,15],spear:[0,10,0,10,0,0,10],tank:[0,12,0,12,0,0,10],troll:[0,8,0,8,0,0,10],goo:[0,12,0,12,0,0,2],mote:[0,8,0,8,0,0,10],disabler:[0,10,0,10,0,0,2],harpoon:[0,15,0,15,0,0,10]},mb:"third boss",Ma:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Ca:[[60,62],[60,539],[740,62],[740,539]],
Qa:1,kb:{x:400,y:500},Iu:60,Sa:{"third boss":1}},"HIVE 4-1":{s:{spear:[4,16,0,16,2,2,10],troll:[8,16,0,16,2,1,10],tank:[12,16,0,16,2,1,10],harpoon:[16,16,0,16,2,1,10],slingshot:[0,8,0,8,2,1,20]},Tb:{spear:[6,28,0,28,2,1,10],troll:[13,28,0,28,2,1,10],tank:[20,28,0,28,2,1,10],harpoon:[27,28,0,28,2,1,10],slingshot:[0,8,1,4,1,0,20]},mb:"slingshot",Ma:[[[-7,472],[61,471],[96,527],[61,581],[-7,581],[-41,526]],[[93,299],[59,354],[-9,354],[-44,300],[-9,244],[59,245]],[[329,74],[363,19],[431,19],[466,73],
[431,129],[363,128]],[[621,466],[553,467],[518,411],[553,357],[621,357],[655,412]],[[841,526],[807,581],[739,581],[704,527],[739,471],[807,472]],[[179,135],[247,134],[282,190],[247,244],[179,244],[145,189]],[[145,412],[179,357],[247,357],[282,411],[247,467],[179,466]],[[741,245],[809,244],[844,300],[809,354],[741,354],[707,299]],[[744,20],[812,19],[847,75],[812,129],[744,129],[710,74]],[[330,303],[364,248],[432,248],[467,302],[432,358],[364,357]],[[363,473],[431,472],[466,528],[431,582],[363,582],
[329,527]],[[655,189],[621,244],[553,244],[518,190],[553,134],[621,135]],[[90,74],[56,129],[-12,129],[-47,75],[-12,19],[56,20]]],Qa:.5,za:{easy:[25E4,6E5,15E5],normal:[5E5,125E4,3E6]},Sa:{slingshot:2},Bc:{slingshot:1},kb:{x:400,y:415},Na:[[210,75],[590,75],[210,525],[590,525]],Ca:[[-75,180],[-75,420],[215,650],[585,650],[215,-50],[585,-50],[875,180],[875,420]],Bh:!0},"HIVE 4-2":{Tb:{stunner:[8,8,1.2,2.4,1,0,15],mote:[7,14,2,4,1,0,10],fighter:[0,25,4,9,1,0,8],slingshot:[0,18,3,6,2,0,15],goo:[1,15,
0,15,1,0,1]},s:{stunner:[0,6,0,6,2,1,15],mote:[0,8,1.5,3,1,0,10],fighter:[0,15,3,6,1,0,8],slingshot:[0,5,.75,3,1,0,15],goo:[1,15,0,15,1,0,1]},mb:"slingshot",Ma:[[[282,254],[311,254],[311,280],[338,280],[338,319],[312,319],[312,347],[282,347]],[[354,418],[354,389],[380,389],[380,362],[419,362],[419,388],[447,388],[447,418]],[[447,182],[447,212],[419,212],[419,238],[380,238],[380,211],[354,211],[354,182]],[[820,619],[605,619],[605,542],[642,542],[642,505],[820,505]],[[282,619],[282,542],[354,542],[354,
505],[447,505],[446,542],[518,542],[518,619]],[[820,418],[642,418],[642,346],[605,346],[605,253],[642,254],[642,182],[820,182]],[[-20,505],[158,505],[158,542],[195,542],[195,619],[-20,619]],[[-20,-19],[195,-19],[195,58],[158,58],[158,95],[-20,95]],[[820,95],[642,95],[642,58],[605,58],[605,-19],[820,-19]],[[518,347],[488,347],[488,319],[462,319],[462,280],[489,280],[489,254],[518,254]],[[-20,182],[158,182],[158,254],[195,253],[195,346],[158,346],[158,418],[-20,418]],[[518,-19],[518,58],[446,58],[447,
95],[354,95],[354,58],[282,58],[282,-19]]],gf:[[[345,447],[345,412],[376,412],[376,379],[423,379],[423,411],[456,411],[456,447]],[[-94,536],[120,536],[120,580],[164,580],[164,673],[-94,673]],[[547,356],[511,356],[511,323],[479,323],[479,276],[512,276],[512,245],[547,245]],[[456,153],[456,189],[423,189],[423,221],[376,221],[376,188],[345,188],[345,153]],[[253,245],[288,245],[288,276],[321,276],[321,323],[289,323],[289,356],[253,356]],[[-94,-73],[164,-73],[164,20],[120,20],[120,64],[-94,64]],[[894,
673],[636,673],[636,580],[680,580],[680,536],[894,536]],[[894,64],[680,64],[680,20],[636,20],[636,-73],[894,-73]],[[904,447],[680,447],[680,355],[636,355],[636,244],[680,245],[680,153],[904,153]],[[-104,153],[120,153],[120,245],[164,245],[164,356],[120,355],[120,447],[-104,447]],[[253,673],[253,580],[345,580],[344,536],[455,536],[455,580],[547,580],[547,673]],[[547,-73],[547,20],[455,20],[455,64],[344,64],[345,20],[253,20],[253,-73]]],Ca:[[-100,450],[-100,150],[900,450],[900,150],[240,-100],[560,
-100],[240,700],[560,700]],Na:[[114,150],[114,451],[686,150],[686,451],[561,41],[561,560],[239,41],[239,560]],GA:[[61,107],[61,493],[739,107],[739,493]],Qa:1,za:{normal:[5E5,15E5,3E6]},Sa:{stunner:2,mote:2,slingshot:2,fighter:1},Bc:{slingshot:2,fighter:1},Bh:!0,kb:{x:400,y:300}},"HIVE 4-3":{Tb:{spear:[20,20,4,8,1,0,10],tank:[17,20,4,8,1,0,15],mote:[14,20,4,8,1,0,10],harpoon:[17,30,5,10,1,0,10],orbiter:[0,12,1.5,6,1,0,15]},s:{spear:[6,12,2.4,4.8,1,0,10],tank:[4,12,2.4,4.8,1,0,15],mote:[2,12,2.4,4.8,
1,0,10],harpoon:[4,15,3,6,1,0,10],orbiter:[0,12,0,12,2,1,15]},mb:"orbiter",Na:[[159,301],[641,301],[208,94],[208,507],[592,94],[592,507]],Ma:[[[309,161],[492,161],[492,249],[456,249],[456,199],[343,199],[343,249],[309,249]],[[309,351],[343,351],[343,401],[456,401],[456,351],[492,351],[492,440],[309,440]],[[230,209],[230,392],[141,392],[141,356],[191,356],[191,243],[141,243],[141,209]],[[571,391],[571,208],[659,208],[659,244],[609,244],[609,357],[659,357],[659,391]],[[191,-49],[609,-49],[609,68],[571,
68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,119],[191,119],[191,158],[37,158],[37,442],[191,442],[191,480],[-40,480]],[[840,481],[609,481],[609,442],[763,442],[763,158],[609,158],[609,120],[840,120]]],gf:[[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,120],[141,119],[141,158],[37,158],[37,442],[141,
442],[141,481],[-40,481]],[[840,480],[659,481],[659,442],[763,442],[763,158],[659,158],[659,119],[840,119]],[[481,269],[447,269],[447,219],[354,219],[354,269],[318,269],[318,180],[481,180]],[[481,420],[318,420],[318,331],[354,331],[354,381],[447,381],[447,331],[481,331]],[[568,381],[568,218],[657,218],[657,254],[607,254],[607,347],[656,347],[657,381]],[[232,219],[232,382],[143,382],[143,346],[193,346],[193,253],[144,253],[143,219]]],Ca:[[-100,-100],[-100,700],[900,700],[900,-100]],Qa:1.3,za:{normal:[4E5,
12E5,25E5]},Sa:{orbiter:2},Bc:{orbiter:1},Bh:!0,kb:{x:400,y:300}},"HIVE 4-4":{Tb:{goo:[1,10,0,10,1,0,1],troll:[4,20,3,6,1,0,5],fighter:[2,30,4,9,1,0,5],slingshot:[1,20,3,6,1,0,5],orbiter:[0,12,2,6,1,0,10]},s:{goo:[2,20,0,20,1,0,1],troll:[4,15,0,15,2,1,5],fighter:[2,15,3,6,1,0,5],slingshot:[1,12,2.4,4.8,1,0,5],orbiter:[0,12,0,12,2,2,10]},mb:"orbiter",Ma:[[[51,190],[76,190],[76,215],[51,215]],[[126,190],[151,190],[151,215],[126,215]],[[351,190],[376,190],[376,215],[351,215]],[[426,190],[451,190],[451,
215],[426,215]],[[676,215],[651,215],[651,190],[676,190]],[[751,215],[726,215],[726,190],[751,190]],[[237,115],[262,115],[262,140],[237,140]],[[488,140],[313,140],[313,115],[488,115]],[[563,140],[538,140],[538,115],[563,115]],[[-27,-30],[830,-30],[830,54],[-27,54]],[[-27,546],[830,546],[830,630],[-27,630]],[[237,460],[262,460],[262,485],[237,485]],[[488,485],[313,485],[313,460],[488,460]],[[563,485],[538,485],[538,460],[563,460]],[[751,410],[726,410],[726,385],[751,385]],[[676,410],[651,410],[651,
385],[676,385]],[[426,385],[451,385],[451,410],[426,410]],[[351,385],[376,385],[376,410],[351,410]],[[126,385],[151,385],[151,410],[126,410]],[[51,385],[76,385],[76,410],[51,410]],[[51,460],[188,460],[188,485],[51,485]],[[749,140],[612,140],[612,115],[749,115]],[[749,485],[612,485],[612,460],[749,460]],[[51,115],[188,115],[188,140],[51,140]],[[201,385],[301,385],[301,410],[201,410]],[[599,216],[499,216],[499,190],[599,191]],[[599,410],[499,410],[499,385],[599,385]],[[201,191],[301,190],[301,216],
[201,216]]],gf:[[[327,190],[364,190],[364,215],[327,215]],[[439,190],[477,190],[477,215],[439,215]],[[156,115],[193,115],[193,140],[156,140]],[[532,140],[270,140],[270,115],[532,115]],[[645,140],[607,140],[607,115],[645,115]],[[-51,-30],[847,-30],[847,54],[-51,54]],[[156,460],[193,460],[193,485],[156,485]],[[532,485],[270,485],[270,460],[532,460]],[[645,485],[607,485],[607,460],[645,460]],[[439,385],[477,385],[477,410],[439,410]],[[327,385],[364,385],[364,410],[327,410]],[[102,385],[252,385],[252,
410],[102,410]],[[699,216],[549,216],[549,190],[699,191]],[[699,410],[549,410],[549,385],[699,385]],[[102,191],[252,190],[252,216],[102,216]],[[-51,546],[847,546],[847,630],[-51,630]]],Ca:[[-100,350],[900,350],[-100,250],[900,250]],Na:[[117,83],[117,518],[683,83],[683,518]],Qa:1,za:{normal:[5E5,1E6,2E6]},Sa:{orbiter:2},Bc:{orbiter:1},Bh:!0,kb:{x:400,y:300}},"HIVE 4-6":{s:{tank:[2,12,0,12,2,1,15],mote:[3,10,0,10,2,1,15],harpoon:[5,14,0,14,2,1,10],fighter:[1,18,0,18,2,1,6],disabler:[0,16,0,16,1,0,1],
deathray:[30,30,6,12,1,0,3]},Tb:{tank:[2,15,3,6,1,0,15],mote:[4,12,2.5,4,1,0,15],harpoon:[6,18,3,6,1,0,10],fighter:[8,24,4,8,1,0,6],disabler:[0,16,0,16,1,0,1],deathray:[40,40,8,24,1,0,3]},mb:"deathray",Ma:[[[180,104],[244,104],[244,142],[180,142]],[[430,104],[494,104],[494,142],[430,142]],[[120,459],[120,497],[-50,497],[-50,459]],[[680,142],[680,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[620,50],[620,400],[556,400],[556,50],[370,50],[370,400],[306,400],[306,50],[120,50],[120,400],[-50,
400]],[[370,496],[306,496],[306,458],[370,458]],[[620,496],[556,496],[556,458],[620,458]],[[850,650],[-50,650],[-50,550],[180,550],[180,200],[244,200],[244,550],[430,550],[430,200],[494,200],[494,550],[680,550],[680,200],[850,200]]],gf:[[[187,104],[237,104],[237,142],[187,142]],[[613,497],[563,497],[563,459],[613,459]],[[437,104],[487,104],[487,142],[437,142]],[[313,459],[363,459],[363,497],[313,497]],[[850,650],[-50,650],[-50,550],[187,550],[187,200],[237,200],[237,550],[437,550],[437,200],[487,
200],[487,550],[687,550],[687,200],[850,200]],[[113,459],[113,497],[-50,497],[-50,459]],[[687,142],[687,104],[850,104],[850,142]],[[-50,-50],[850,-50],[850,50],[613,50],[613,400],[563,400],[563,50],[363,50],[363,400],[313,400],[313,50],[113,50],[113,400],[-50,400]]],Ca:[[-100,430],[900,80],[-100,520],[900,170]],Na:[[150,430],[650,170],[210,75],[590,525]],Qa:1,za:{easy:[3E5,1E6,25E5],normal:[5E5,1E6,25E5]},Sa:{deathray:1,disabler:1},Bh:!0,kb:{x:400,y:300}},"HIVE 4-5":{Tb:{stunner:[6,8,2,3,1,0,40],
spear:[13,10,2,4,1,0,20],troll:[9,20,4,8,1,0,10],slingshot:[11,20,4,8,1,0,10],orbiter:[15,15,3,6,1,0,10],deathray:[30,30,5,10,1,1,3]},s:{stunner:[2,8,0,8,2,2,40],spear:[1,10,2,4,1,1,20],troll:[5,15,3,6,1,1,10],slingshot:[3,15,3,6,1,1,10],orbiter:[1,8,1.6,3.2,1,1,10],deathray:[30,30,6,12,1,1,3]},mb:"deathray",Na:[[82,69],[82,532],[718,69],[718,532]],Ma:[[[326,261],[326,339],[284,362],[284,238]],[[516,238],[516,362],[474,339],[474,261]],[[521,180],[484,216],[316,216],[279,180]],[[279,420],[316,384],
[484,384],[521,420]],[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],gf:[[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,
470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Ca:[[-100,-100],[900,-100],[900,700],[-100,700]],Qa:.8,za:{normal:[6E5,12E5,25E5]},Sa:{deathray:1},Bh:!0,kb:{x:400,y:300}},"HIVE 4-7":{Tb:{stunner:[1,30,6,12,2,0,6],spear:[5,30,6,12,2,0,6],tank:[3,30,5,10,1,0,5],mote:[10,30,5,10,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[18,30,8,16,1,0,6],fighter:[12,30,8,16,1,0,4],disabler:[14,
15,3,6,1,0,1],troll:[16,30,6,12,1,0,4],slingshot:[28,30,8,16,1,0,4],orbiter:[30,30,6,12,1,0,5],deathray:[2,35,9,18,1,0,3]},s:{stunner:[1,20,3,8,4,0,6],spear:[3,20,3,8,4,0,6],tank:[4,25,4,9,3,0,5],mote:[5,20,3,12,3,0,6],goo:[8,20,0,20,1,0,1],harpoon:[10,25,5,10,1,0,6],fighter:[6,25,5,10,1,0,4],disabler:[9,15,0,15,1,0,1],troll:[8,20,3,12,2,0,4],slingshot:[2,25,5,10,1,0,4],orbiter:[30,20,3,8,2,0,5],deathray:[1,30,6,12,1,0,3]},mb:"deathray",Ma:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],
[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[277,208],[335,208],[335,243],[277,243]],[[277,358],[335,358],[335,393],[277,393]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[523,243],[466,243],[466,208],[523,208]],[[523,393],[466,393],[466,358],[523,358]],[[-32,358],[150,358],[150,
393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[370,433],[430,433],[430,468],[370,468]],[[430,168],[370,168],[370,133],[430,133]],[[185,283],[245,283],[245,318],[185,316]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[615,316],[555,318],[555,283],[615,283]],[[430,318],[370,318],[370,283],[430,283]]],gf:[[[-34,-17],[833,-17],
[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],
[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[430,243],[369,243],[369,208],[430,208]],[[466,283],[527,283],[527,318],[466,318]],[[334,318],[273,318],[273,283],[334,283]],[[430,392],[369,392],[369,357],[430,357]]],Ca:[[869,37],[869,563],[-69,37],[-69,563],[-69,112],[-69,489],[869,112],[869,489],[869,190],[869,411],[-69,190],[-69,411],[-69,336],[-69,264],[869,336],[869,264]],Na:[[314,37],[486,563],[314,563],[486,
37]],Qa:1,za:{easy:[3E5,6E5,125E4],normal:[75E4,125E4,25E5]},Sa:{orbiter:2},Bh:!0,kb:{x:400,y:370},iA:{x:400,y:300}},"BOSS 4":{s:{"fourth boss":[0,1,0,0,1,0,1],stunner:[0,0,0,0,0,0,15],spear:[0,0,0,0,0,0,15],tank:[0,0,0,0,0,0,10],mote:[0,0,0,0,0,0,15],goo:[0,0,0,0,0,0,2],disabler:[0,0,0,0,0,0,1],troll:[0,0,0,0,0,0,12],orbiter:[0,0,0,0,0,0,10],fighter:[0,0,0,0,0,0,8],harpoon:[0,0,0,0,0,0,12],slingshot:[0,0,0,0,0,0,12],deathray:[0,0,0,0,0,0,4]},mb:"fourth boss",Ma:[[[-25,-25],[400,-25],[400,25],[25,
25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Ca:[[60,62],[60,539],[740,62],[740,539]],Qa:1,kb:{x:400,y:500},Iu:90,Sa:{"fourth boss":1}}};
for(s in N)N[s].P=s,N[s].za&&"undefined"===typeof N[s].za.easy&&(N[s].za.easy=N[s].za.normal.map(function(a){return a/2})),"undefined"===typeof N[s].zl&&("BOSS"==s.slice(0,4)?N[s].zl=100*parseInt(s.slice(5,6)):"HIVE"==s.slice(0,4)&&(N[s].zl=100*parseInt(s.slice(5,6)))),"undefined"===typeof N.cs&&(N[s].cs=function(a){a=this.Ma[a];for(var b=[],c=0;c<a.length;c++)b.push(new b2Vec2(a[c][0]/E,a[c][1]/E));return b});function ug(){}l=ug.prototype;l.pa=function(){};l.V=function(){};l.va=function(){};l.Ia=function(){};l.hf=function(){};l.Kf=function(){};l.we=function(){};l.vn=function(){};function vg(){}vg.prototype=new ug;vg.prototype.constructor=vg;vg.prototype.ml=function(a){var b=new ng(a,this);tg(b);a=new Worker("js/lib/worker.js");a.postMessage({a:b.Ah,b:b.ff,c:E,d:O,e:P});this.ns=0;a.onmessage=function(a){return function(d){d.data.z?a.ns=d.data.z:d.data.a&&(a.Rb=new Rd(b,d.data.a,d.data.b,d.data.c,d.data.d,d.data.e,d.data.f),a.ns=1,a.ms())}}(this);return b};vg.prototype.ms=function(){};wg.prototype=new ug;l=wg.prototype;l.constructor=wg;function wg(a){this.xb=!1;this.color=z.impulse_blue;a?(this.buttons=[],this.buttons.push(new xg("MAIN MENU",20,O/2,P/2+270,200,50,this.color,"blue",function(){setTimeout(function(){T=new Of},20)})),this.Yg=[],yg(this,a)):(this.buttons=[],this.buttons.push(new xg("MAIN MENU",20,O/2,P/2+270,200,50,this.color,"blue",function(){setTimeout(function(){T=new Of},20)})),this.Yg=[],zg(this));ec(cc,ja.Menu)}l.pa=function(){};
function zg(a){a.buttons=[a.buttons[0]];a.Yg=[];for(var b=(P/2+140-30)/2,c=(O-90)/2,d=0;4>d;d++)a.Yg.push(new Ag(d+1,20,d%2*(30+c)+30+c/2,(30+b)*Math.floor(d/2)+30+b/2,c,b,a.color,function(a,b){return function(){setTimeout(function(){yg(a,b+1)},20)}}(a,d)))}
function yg(a,b){a.buttons.push(new xg("WORLD SELECT",20,O/2,P/2+220,200,50,a.color,"blue",function(a){return function(){zg(a)}}(a)));a.Yg=[];for(var c=(P/2+200-90)/2,d=(O-150)/4,f=0;8>f;f++){var g=new Bg(7==f?"BOSS "+b:"HIVE "+b+"-"+(f+1),20,f%4*(30+d)+30+d/2,(30+c)*Math.floor(f/4)+30+c/2,d,c,a.color,b);Cg(g);a.Yg.push(g)}}
l.V=function(a,b){this.xb||(bg_canvas.setAttribute("style",""),b.clearRect(0,0,canvas.width,canvas.height),b.fillStyle="black",b.fillRect(0,0,canvas.width,canvas.height),this.xb=!0);a.beginPath();a.font="20px Muli";Aa(a,O-20,P-15,15,"black");a.textAlign="right";a.fillStyle="black";a.fillText(Te[J],O-40,P-10);for(var c=0;c<this.buttons.length;c++)this.buttons[c].V(a);for(c=0;c<this.Yg.length;c++)this.Yg[c].V(a)};
l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b);for(c=0;c<this.Yg.length;c++)this.Yg[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b);for(c=0;c<this.Yg.length;c++)this.Yg[c].Ia(a,b)};function Dg(a){this.Sx=a;this.Ic=null;this.qh=0}function Eg(a,b,c){null==a.Ic&&(a.Ic=b,a.qh=a.Sx[b],a.my=c)}Dg.prototype.pa=function(a){null!=this.Ic&&0<this.qh&&(this.qh-=a);null!=this.Ic&&0>=this.qh&&(this.my&&this.my(),this.Ic=null)};function Fg(a){return a.Ic?Math.min(1-a.qh/a.Sx[a.Ic],1):0};Gg.prototype=new ug;l=Gg.prototype;l.constructor=Gg;
function Gg(a,b,c,d,f){this.i=b;this.P=this.i.P;this.buttons=[];this.n=c;this.Rb=d;this.xb=!1;this.wa=f.wa;this.color=z["world "+this.n+" bright"];this.Gl=new Hg("RETRY",16,O-70,P-40,60,65,this.color,"white",function(a){return function(){var b=new hc(a.n,!1);Eg(a.$,"fade_out",function(){T=new Tf(a.n,a.i,a.Rb,b,!1,!1)})}}(this),"start");this.buttons.push(this.Gl);this.Gl.keyCode=ua.Yq;this.Gl.Ci="right"==D.Kb?"R KEY":"SHIFT KEY";this.buttons.push(new Hg("MENU",16,70,P/2+260,60,65,this.color,"white",
function(a){return function(){a.n?Eg(a.$,"fade_out",function(){T=new cg(a.n,!0);"normal"==J?Rf("Title Alt"+a.n,.15):Rf("Hive 0",.3)}):Eg(a.$,"fade_out",function(){T=new Of;Rf("Hive 0",.3)})}}(this),"back"));this.H=a;this.i.oa?(this.Xa=f.Xa?f.Xa:0,this.Ea=f.Ea?f.Ea:0):(this.Mc=f.Mc,this.Ea=f.Ea?f.Ea:0,this.Xa=f.Xa?f.Xa:0);Pe+=this.H.re;bg();hg(J);this.ki=["world "+this.n+" bright","silver","gold"];fc();this.$=new Dg({fade_in:500,fade_out:250});Eg(this.$,"fade_in")}l.pa=function(a){this.$.pa(a)};
l.V=function(a,b){if(!this.xb){this.i.v=null;bg_canvas.setAttribute("style","display:none");b.translate(W,0);this.i.We(b);var c=Xe.getContext("2d");Cb(c,0,O,P,"Hive "+this.n);this.xb=!0;b.translate(-W,0);this.xb=!0}a.save();a.fillStyle=z["world "+this.n+" dark"];a.fillRect(0,0,O,P);a.globalAlpha*=lg(this.n);a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();a.save();"fade_in"==this.$.Ic?a.globalAlpha*=Fg(this.$):"fade_out"==this.$.Ic&&(a.globalAlpha*=1-Fg(this.$));if(this.i.oa)a.globalAlpha/=3,Ma(a,this.n,
O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==J&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=this.color,a.textAlign="center",a.font="32px Muli",a.fillText(oa[this.n],O/2,240),a.fill(),a.font="48px Muli",this.i.zh?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300)),d=420,a.fillStyle=this.color,a.font="20px Muli",a.fillText("GAME TIME ",O/2,380),a.font="42px Muli",
a.fillText(this.H.Sj,O/2,d),c=440,this.Xa||(a.beginPath(),a.moveTo(350,c),a.lineTo(450,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke()),c=445,d=500,f=470,this.Xa?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2,f),a.font="28px Muli",1E3>N[this.P].ra[J].Xa?(a.font="28px Muli",a.fillText(Zb(N[this.P].ra[J].Xa),O/2,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2,d)),
a.restore());else{a.globalAlpha/=3;Ma(a,this.n,O/2,230,80,!0);a.globalAlpha*=3;a.save();a.globalAlpha*=.5;a.fillStyle="white";a.font="20px Muli";"normal"==J&&a.fillText("HARD MODE",O/2,180);a.restore();a.beginPath();a.fillStyle=this.color;a.font="42px Muli";a.textAlign="center";a.fillText(this.P,O/2,240);a.fill();a.font="36px Muli";this.wa?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300));var c=380,d=420;a.fillStyle=this.color;a.font="20px Muli";
a.fillText("GAME TIME ",O/2+100,c);a.font="42px Muli";a.fillText(this.H.Sj,O/2+100,d);a.fillStyle=0<this.Ea?z[this.ki[this.Ea-1]]:this.color;a.font="20px Muli";a.fillText("SCORE",O/2-100,c);a.font="42px Muli";a.fillText(this.H.jf,O/2-100,d);c=440;this.Mc||(a.beginPath(),a.moveTo(250,c),a.lineTo(350,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());this.Xa||(a.beginPath(),a.moveTo(450,c),a.lineTo(550,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());var c=445,d=500,f=470;this.Mc?(a.fillStyle=
this.color,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,f),a.font="28px Muli",a.fillText(N[this.P].ra[J].Mc,O/2-100,d),a.restore());this.Xa?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,f),a.font="28px Muli",1E3>N[this.P].ra[J].Xa?(a.font="28px Muli",
a.fillText(Zb(N[this.P].ra[J].Xa),O/2+100,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,d)),a.restore())}for(c=0;c<this.buttons.length;c++)this.buttons[c].V(a);a.restore()};l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};l.we=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].we(a)};Tf.prototype=new ug;l=Tf.prototype;l.constructor=Tf;function Tf(a,b,c,d,f,g){null!=a&&void 0!=a&&this.ha(a,b,c,g,d,f)}
l.ha=function(a,b,c,d,f,g){this.H={jf:0,zf:1,xh:1,kf:0,re:0,Ap:0,Sj:null,nv:!1};this.L=f;if(this.lc=g)this.L.dg=Math.floor(this.L.dg),this.L.Od=Math.floor(this.L.Od);this.pause=!0;this.ready=!1;this.buttons=[];this.an=null;this.ic=[];this.wA=1E3;this.qw=30;this.Qa=1;this.xb=!1;this.Ff=1<=jc();this.uu=!1;this.Ea=0;this.n=a;this.ki=["world "+this.n+" lite","silver","gold"];this.hk=0;this.gE=3E3;a=new b2Vec2(0,0);this.ma=new b2World(a,!1);b&&(this.i=b,this.i.v=this,this.i.reset(),this.P=this.i.P,this.oa=
"BOSS"==this.P.slice(0,4),Ig(this),"BOSS 4"==this.P?ec(cc,ja["Final Tessellation"]):"BOSS"==this.P.slice(0,4)?ec(cc,ja.Tessellation):0!=this.n&&ec(cc,ja["Hive "+this.n]));void 0===this.L.sh[this.P]&&(this.L.sh[this.P]=0);this.Rb=c;this.color=this.oa?z["boss "+this.n]:z["world "+this.n+" lite"];this.zi=z["world "+this.n+" dark"];this.Nc=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.ep=6E3;this.xi=0;this.Zv=this.fw=!1;Jg(this);c=new b2ContactListener;c.kt=this.jz;c.Ct=this.$y;
c.pt=this.XC;this.ma.Hx(c);this.pause=!1;this.jB=this.ready=!0;this.$n=1;this.Zd={x:O/2,y:P/2};this.uw=1500;this.Zy=750;this.wk=0;this.Td="none";this.gt={x:O,y:P};this.Hq={x:O,y:P};this.ht=.1;this.Iq=1;this.zoom=.1;this.Wl=!0;(this.Cj=d)?Kg(this,1,this.uw):Kg(this,1,this.Zy);this.Xk="in";this.Jj=this.wa=!1;this.Jr=this.Gy=100;this.wv=!1;this.Uv=3E4;this.ak=0;this.Cl=null;this.ow=5E3;this.mk=0;this.bq=document.createElement("canvas");this.bq.width=120;this.bq.height=160;this.bq.getContext("2d");!b||
this instanceof qc||Lg(this);for(b=0;b<wa.length;b++)wa[b].color=this.color,wa[b].cb=this.J;this.mh=0==this.n||Qe.length<Mg.prototype.As.length;this.oa&&1==this.n&&"easy"==J&&3>N[this.P].ra[J].Ea&&(this.mh=!0);this.mh&&(this.Iw=new Mg(this),this.gg={},this.Sn={},this.XA=500);!this.oa&&this.i&&Mc(this);0==this.n&&this.L&&(this.L.Od=99)};
l.reset=function(){this.H={jf:0,zf:1,xh:1,kf:0,re:0,Ap:0,Sj:null};this.Uv=1E4;this.ak=0;this.Cl=null;this.Zv=this.Cj=this.fw=!1;var a=new b2Vec2(0,0);this.ma=new b2World(a,!1);Jg(this);a=new b2ContactListener;a.kt=this.jz;a.Ct=this.$y;this.ma.Hx(a);this.ow=1E4;this.Ea=this.mk=0;this.wa=this.Jj=!1;this.i.reset();!this.i||this instanceof qc||Lg(this);$.translate(W,0);this.i.We($);$.translate(-W,0);this.hk=0;this.uu=!1;this.oa&&this.mh&&(this.Iw=new Mg(this),this.gg={},this.Sn={},this.XA=500);!this.oa&&
this.i&&Mc(this)};function Lg(a){if(0!=a.n)for(var b in N[a.P].s)F[b].Cg+=1,bg(),F[b].Gf||1!=F[b].Cg||(Vf("enemy_"+b,5E3,a.J,a.n),a.Cl=b)}function Ig(a){if(a.i.aj)a.q=new mc(a.ma,a.i.aj.x/E,a.i.aj.y/E,a);else{var b=Sb({x:-10,y:-10},a.Qa,E);a.q=new mc(a.ma,b.x,b.y,a)}}function Kg(a,b,c){var d={x:O/2,y:P/2};a.Td="in";a.it=c;a.wk=c;a.Hq=d;a.Iq=b;a.gt={x:a.Zd.x,y:a.Zd.y};a.ht=a.zoom;a.Wl=!1}function Ng(a,b,c,d){a.Td="out";a.it=d;a.wk=d;a.Hq=b;a.Iq=c;a.gt={x:a.Zd.x,y:a.Zd.y};a.ht=a.zoom;a.Wl=!1}
l.pa=function(a){if(this.ready){null==this.an?this.an=0:100==this.an&&(this.an=0);this.an+=1;for(var b in this.Sn)this.Sn[b]-=a,0>this.Sn[b]&&(this.gg[b]="timeout");if(!this.pause){this.mh&&(this.Iw.pa(a),this.Jj&&Q(this.i.Lc,this.q.body.g.position)<this.i.bl&&rc(this,"moved_to_gateway"));document.webkitHidden&&(this.pause=!0,Je=new Og(this.i,this.n,this.H,this,this.Rb));this.Jr-=a;0<this.ak?this.ak-=a:this.Cl&&(this.pw=this.Cl=null);0<this.mk?this.mk-=a:this.pw&&(this.pw=this.Cl=null);this.Uw?this.Zd=
{x:this.q.body.g.position.x*E,y:this.q.body.g.position.y*E}:"none"!=this.Td&&(0>=this.wk?(this.Td="none",this.zoom=this.Iq,this.Zd=this.Hq,this.Wl=!1):(b=this.wk/this.it,this.zoom=1/(1/this.ht*b+1/this.Iq*(1-b)),this.Zd.x=this.gt.x*b+this.Hq.x*(1-b),this.Zd.y=this.gt.y*b+this.Hq.y*(1-b),this.wk-=a));"none"==this.Td&&1==this.zoom&&this.oa&&!this.uu&&(this.xi=this.ep,4==this.n&&(this.xi/=2,this.ep/=2),this.uu=!0);0<this.xi&&(this.xi-=a);if(this.q.O&&0<this.q.wb&&!this.fw){this.fw=!0;b=this.i;b.Dn=!0;
b.Ms=b.jw;for(var c=0;c<b.s.length;c++)b.s[c].Tc("fade");this.H.jf=0;this.H.zf=1;this.Ea=0;this.lc&&0<this.n&&(this.L.H[this.i.P].Jm+=1,jg(this.L))}if(this.q.O&&0>this.q.wb||this.Su)this.Su||this.Zv&&this.lc?"none"==this.Td&&1==this.zoom?(Ng(this,{x:O/2,y:P/2},.1,this.Zy),this.Xk="out"):"none"==this.Td&&(this.ready=!1,this.$r()):(this.reset(),Ig(this));else if(this.i.Pg&&this.i.Pg.O&&0>this.i.Pg.wb&&"fade"!=this.i.Pg.O&&!this.q.O)"none"==this.Td&&1==this.zoom?(Kg(this,10,this.uw),this.Xk="out",Pg(this),
this.wa=!0,this.i.zh=!0):"none"==this.Td&&(this.ready=!1,this.$r());else if(this.wa)"none"==this.Td&&1==this.zoom?(Ng(this,{x:this.q.body.g.position.x*E,y:this.q.body.g.position.y*E},10,this.uw),this.Xk="out"):"none"==this.Td&&(this.ready=!1,this.$r(!0));else{this.oa||(b=Math.min(this.H.jf/this.i.za[0],1),c=this.gE,this.q.O&&(c/=3),this.hk>b?this.hk=Math.max(this.hk-a/c,b):this.hk<b&&(this.hk=Math.min(this.hk+a/c,b)));this.jB&&1>this.$n?this.$n=Math.min(1,this.$n+a/1E3):!this.jB&&0<this.$n&&(this.$n=
Math.max(0,this.$n-a/1E3));this.q.pa(a);this.H.zf=this.H.xh+Math.floor(this.H.kf/10);this.H.Sj=Hb(this.H.kf);this.H.Ap+=a;0<this.n&&(this.L.ji-=a);this.L.sh[this.i.P]+=a;this.H.kf=Math.floor(this.H.Ap/1E3);this.H.sh+=a;this.i.pa(a);for(b=this.ic.length-1;0<=b;b--)this.ic[b].duration-=a,0>=this.ic[b].duration&&this.ic.splice(b,1);this.ma.kj(1/60,1,10);this.$c(a)}}}};l.$c=function(){};
function Uf(a,b){if("in"==a.Xk){var c=Xb(.1,.5,a.wk/a.it);b.globalAlpha=Math.min(1-c,1)}else"out"==a.Xk&&(c=Xb(.1,.5,a.wk/a.it),b.globalAlpha=Math.max(c,0))}
l.V=function(a,b){if(this.ready&&!this.pause){this.Ed(a,b);a.save();a.translate(W,0);"none"!=this.Td&&(a.rect(0,0,O,P),a.clip());a.fillStyle=this.zi;a.scale(this.zoom,this.zoom);a.translate((O/2-this.Zd.x*this.zoom)/this.zoom,(P/2-this.Zd.y*this.zoom)/this.zoom);a.beginPath();"none"!=this.Td&&(a.rect(2,2,O-4,P-4),a.clip());Uf(this,a);"none"!=this.Td&&a.drawImage(bg_canvas,W,0,O,P,0,0,O,P);this.i.ih(a,E);this.q.ih(a);this.i.V(a,E);1!=this.zoom&&this.wa?(a.save(),a.translate(this.q.body.g.position.x*
E,this.q.body.g.position.y*E),a.scale(1/this.zoom,1/this.zoom),a.translate(-this.q.body.g.position.x*E,-this.q.body.g.position.y*E),this.q.V(a),a.restore()):this.q.V(a);if(this.wv){var c=this.i;c.Ij=c.ez;c.Hj=!0;this.wv=!1}a.beginPath();"none"==this.Td&&(a.rect(2,2,O-4,P-4),a.clip());0<this.xi&&this.xi<this.ep&&this.lc&&1==this.zoom&&4>=this.n&&this.Cj&&(a.globalAlpha=Math.min(1,(1-2*Math.abs(this.xi/this.ep-.5))/.5),a.beginPath(),a.fillStyle=z["boss "+this.n],a.textAlign="center",a.font="42px Muli",
a.fillText(this.L.vu,O/2,P/2-150),a.fill());if(!this.oa)for(c=0;c<this.ic.length;c++){a.save();a.beginPath();a.font=this.ic[c].size+"px Muli";var d=this.ic[c].duration/this.ic[c].LD;a.globalAlpha*=d;a.fillStyle=this.ic[c].color;this.ic[c].jD?(a.textAlign="left",G(a,this.ic[c].x*E+20,this.ic[c].y*E-(1-d)*this.qw-7,0,.8*this.ic[c].size,.8*this.ic[c].size,"spark"),a.fillText(this.ic[c].text,this.ic[c].x*E-25,this.ic[c].y*E-(1-d)*this.qw)):(a.textAlign="center",a.fillText(this.ic[c].text,this.ic[c].x*
E,this.ic[c].y*E-(1-d)*this.qw));a.restore()}a.restore();a.clearRect(0,0,W,Fc);a.clearRect(Ec-W,0,W,Fc);1==this.zoom&&"none"==this.Td?0>this.Jr&&(Qg(this,b),this.Jr=this.Gy):Qg(this,a);if(0==!this.n||N[this.P].qq)null!=this.Cl&&(a.save(),Uf(this,a),500>this.ak?a.globalAlpha*=Math.max(0,this.ak/500):this.ak>this.Uv-500&&(a.globalAlpha*=Math.max(0,(this.Uv-this.ak)/500)),a.drawImage(this.bq,0,0,120,160,W/2-60,Fc/2,120,160),a.restore()),null!=this.pw&&(a.save(),Uf(this,a),500>this.mk?a.globalAlpha*=
Math.max(0,this.mk/500):this.mk>this.ow-500&&(a.globalAlpha*=Math.max(0,(this.ow-this.mk)/500)),a.drawImage(this.bq,0,0,120,160,W/2-60,Fc/2-30,120,160),a.restore());if(0!=this.n||N[this.P].qq||N[this.P].DA){a.save();Uf(this,a);if(!this.oa){var c=this.hk,d=this.color,f=Ec-W/2,g=Fc/2,h=3*Fc/4-50;a.save();a.shadowBlur=0;a.beginPath();a.rect(f-20,g-.5*h,40,h);a.fillStyle="black";a.fill();a.restore();a.save();a.beginPath();a.rect(f-20,g-.5*h,40,h);a.strokeStyle=d;a.fillStyle=d;a.lineWidth=4;a.save();a.globalAlpha/=
10;a.fill();a.restore();a.stroke();a.beginPath();a.rect(f-20,g+.5*h-c*h,40,h*c);a.fillStyle=d;a.fill();a.restore();a.textAlign="center";a.font="72px Muli";a.fillStyle=this.bv(this.H.zf);(0!=this.n||N[this.P].qq)&&a.fillText("x"+this.H.zf,Ec-W/2,Fc/2)}a.restore()}a.save();Uf(this,a);for(c=0;c<this.buttons.length;c++)this.buttons[c].V(a);a.restore();a.save();a.translate(W,0);Uf(this,a);this.mh&&this.Iw.V(a);a.restore();this.Wl||(1==this.zoom&&"none"==this.Td?bg_canvas.setAttribute("style",""):bg_canvas.setAttribute("style",
"display: none"),this.Wl=!0)}};l.Ed=function(){};
function Qg(a,b){b.save();b.globalAlpha=1;b.beginPath();b.fillStyle="black";b.clearRect(0,0,W,Fc);b.clearRect(Ec-W,0,W,Fc);Uf(a,b);b.fillStyle=a.color;b.textAlign="center";a instanceof qc||0!=!a.n||"normal"!=J||a.oa||(b.font="20px Muli",b.save(),b.globalAlpha*=1,b.fillText("HARD MODE",W/2,170),b.restore());0==a.n||a.oa?0==a.n&&(b.font="40px Muli",b.fillText("TUTORIAL",W/2,70)):(b.font="64px Muli",type=a.P.split(" ")[0],"HOW"!=type?b.fillText(type,W/2,70):(b.font="40px Muli",b.fillText("HOW TO",W/
2,70)),b.font="80px Muli","BOSS"==type?b.fillText(a.n,W/2,140):"HOW"==type?(b.font="60px Muli",b.fillText("PLAY",W/2,130)):b.fillText(a.P.slice(5,a.P.length),W/2,140));var c=Fc-15;a.oa||(b.fillStyle=a.J,b.font="18px Muli",b.save(),b.globalAlpha*=.4,"right"==D.Kb?b.fillText("Q FOR MENU",W/2,c):b.fillText("ENTER FOR MENU",W/2,c),b.restore());c=Fc/2-20;if(0!=a.n||N[a.P].qq)if("normal"==J&&0<a.n&&a.lc&&D.ji){b.fillStyle="white";b.font="16px Muli";b.fillText("SPEED RUN",W/2,c-30);b.fillText("TIME LEFT",
W/2,c-10);b.font="32px Muli";var d=Hb(Math.max(0,Math.ceil(a.L.ji/1E3)));b.fillText(d,W/2,c+22)}else a.oa||(b.fillStyle=a.color,b.font="16px Muli",b.fillText("LEVEL TIME",W/2,c-10),b.font="32px Muli",b.fillText(a.H.Sj,W/2,c+22));a.oa||0!=!a.n&&!N[a.P].qq&&!N[a.P].DA||(b.font="21px Muli",b.fillText("SCORE",Ec-W/2,Fc-10),b.font="40px Muli",b.fillText(a.H.jf,Ec-W/2,Fc-35),3>a.Ea&&(a.Jj?(b.fillStyle=a.J,b.font="21px Muli",b.fillText("GATEWAY",Ec-W/2,45),b.font="42px Muli",b.fillText("OPEN",Ec-W/2,85)):
(b.fillStyle=a.Nc,b.font="21px Muli",b.fillText("GOAL",Ec-W/2,45),b.font="42px Muli",b.fillText(a.i.za[0],Ec-W/2,85))));b.restore()}l.bv=function(){return"white"};l.Pn=function(a){return{x:(a.x-(O/2-this.Zd.x*this.zoom))/this.zoom,y:(a.y-(P/2-this.Zd.y*this.zoom))/this.zoom}};l.va=function(a,b){if(this.ready){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b);this.pause||(this.q.Rv=this.Pn({x:a-W,y:b}))}};
l.hf=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b);this.pause||(c=this.q,c.tv=(new Date).getTime(),c.dq=!0)};l.Kf=function(){this.pause||(this.q.dq=!1)};function Rg(a){a.pause=!a.pause;a.pause?(nc(a.q,ua.ij),a.q.dq=!1,Je=new Og(a.i,a.n,a.H,a,a.Rb)):Je=null}
l.we=function(a){if(this.ready){if(90==a)if(this.wa=!0,this.oa?this.i.zh=!0:this.H.jf=this.i.za[2],Pg(this),this.lc&&0<this.n&&!this.oa){this.L.Mk=Sg(this.i,this.n);for(var b in this.H)this.L.H[this.i.P][b]=this.H[b];jg(this.L);Vf("saved_alert",1500,"white",this.n)}else this.lc&&0<this.n&&this.oa&&jg({});if(a==ua.ij||a==ua.Bk)this.oa&&this.wa||this.Zv||Rg(this);else if(a==ua.Qq&&this.Jj&&Q(this.i.Lc,this.q.body.g.position)<this.i.bl)if(this.wa=!0,Pg(this),this.oa&&(this.i.zh=!0),this.lc&&0<this.n&&
!this.oa){this.L.Mk=Sg(this.i,this.n);for(b in this.H)this.L.H[this.i.P][b]=this.H[b];jg(this.L);Vf("saved_alert",1E3,"white",this.n)}else this.lc&&0<this.n&&this.oa&&jg({});else 69==a?(this.Uw=!this.Uw)?(this.zoom=1.7,this.Td="player"):(this.zoom=1,this.Zd={x:O/2,y:P/2},this.Xk=this.Td="none",this.Wl=!1):nc(this.q,a)}};
l.vn=function(a){if(this.ready){var b=this.q;switch(a){case ua.Wq:b.left=!1;break;case ua.Zq:b.right=!1;break;case ua.Mq:b.op=!1;break;case ua.ar:b.Dq=!1;break;case ua.qx:b.Hh=null;break;case ua.sx:b.Lh=null;break;case ua.rx:b.Jh=null;break;case ua.px:b.Gh=null;break;case ua.ij:case ua.Bk:b.Dq=!1,b.op=!1,b.left=!1,b.right=!1,b.Hh=null,b.Jh=null,b.Lh=null,b.Gh=null}}};
function Jg(a){var b,c;b=[{x:O/E/2,y:2},{x:O/E/2,y:2},{x:2,y:P/E/2},{x:2,y:P/E/2}];c=[{x:O/E/2,y:-2},{x:O/E/2,y:P/E+2},{x:-2,y:P/E/2},{x:O/E+2,y:P/E/2}];for(var d=0;4>d;d++){var f=new b2FixtureDef;f.filter.wf=1;f.filter.If=2;var g=new b2BodyDef;g.type=b2Body.uf;f.shape=new b2PolygonShape;f.shape.Ex(b[d].x,b[d].y);g.position.R(c[d].x,c[d].y);a.ma.co(g).Lq(f)}}l.jz=function(a){var b=a.rc.Of();a=a.sc.Of();b&&a&&(b.owner.Te(a.owner,b.body,a.body),a.owner.Te(b.owner,a.body,b.body))};
l.XC=function(a){var b=a.rc.Of();a=a.sc.Of();b&&a&&"tank"==b.owner.type&&"tank"==a.owner.type&&(b.owner.Te(a.owner,b.body,a.body),a.owner.Te(b.owner,a.body,b.body))};
l.$y=function(a){var b=a.rc.Of(),c=a.sc.Of();if(null!=b&&null!=c){var d=b.self,f=c.self;if(null!=d&&null!=f){var b=[d,f],g=[f,d],h;for(h in b)if(d=b[h],"harpoonhead"==d.type&&"inactive"!=d.Fi.pb){f=g[h];if(f!=d.Fi&&"harpoonhead"!=f.type&&!f.Gf&&!c.owner.Gf){if(("boss four spawner"==f.type||"boss four attacker"==f.type)&&!f.tb)continue;Q(d.body.g.position,f.body.g.position)<d.K+f.K&&(f.wz&&f.open(3E3),d=d.Fi,"engaged"!=d.pb&&!d.O&&0>=d.r[1]&&f.id!==d.hv&&(bc("hhit"),d.pb="engaged",d.Wc=f,d.Wc==d.q&&
Oc(d.v)))}a.JB()}}}};function Kc(a,b,c,d,f,g){a.ic.push({text:b,color:c,x:d,y:f,duration:g?g:a.wA,LD:g?g:a.wA,size:20,jD:void 0})}function Mc(a){a.H.jf>=a.i.za[0]&&0==a.Ea&&(a.Ea=1,a.Jj=!0,a.wv=!0,a instanceof qc&&a.Hj(),a.mh&&rc(a,"gateway_opened"))}function Lc(a){a.H.xh+=1;a.H.zf=a.H.xh+Math.floor(a.H.kf/10)}function Oc(a){a.q.sk||(a.mh&&!a.i.oa&&rc(a,"multiplier_reset"),a.L.nz=!0,a.H.xh=1,a.H.zf=a.H.xh+Math.floor(a.H.kf/10))}
l.$r=function(){T=this.lc?new Tg(this.n,this.i,this.wa||this.i.zh,this.H,this.Rb,this.L):new Ug(this.L,this.lc,{H:this.H,i:this.i,n:this.n,Rb:this.Rb,wa:this.wa})};
function Pg(a){if(a.i.oa){var b=a.i.P,c=a.H.kf,d=J,f={};c<N[b].ra[d].Xa?(f.Xa=!0,N[b].ra[d].Xa=c):f.Xa=!1;N[b].ra[d].Ea=3;f.Ea=3;f.Xa&&bg();b=f;a.H.Xa=b.Xa;a.H.Ea=b.Ea;a.H.jf="WIN"}else{var b=a.i.P,c=a.H.jf,g=a.H.kf,d=J,f={};c>N[b].ra[d].Mc?(f.Mc=!0,N[b].ra[d].Mc=c):f.Mc=!1;g<N[b].ra[d].Xa?(f.Xa=!0,N[b].ra[d].Xa=g):f.Xa=!1;for(g=0;c>=N[b].za[d][g];)g+=1;f.Ea=g;f.Mc&&(N[b].ra[d].Ea=f.Ea,bg());f.Xa&&bg();b=f;a.H.Mc=b.Mc;a.H.Ea=b.Ea;a.H.Xa=b.Xa}}
function rc(a,b){a.mh&&(a.gg[b]="fresh",a.Sn[b]=a.XA)};Vg.prototype=new ug;l=Vg.prototype;l.constructor=Vg;function Vg(){this.la=[];this.ge=[];this.$a=[];this.pp=this.Gb=this.ec=null;this.xb=this.Ku=!1;this.zoom=1;this.Zd={x:O/2,y:P/2}}l.pa=function(){};
l.V=function(a,b){this.xb||(b.clearRect(0,0,Ec,Fc),b.fillStyle="white",b.fillRect(0,0,Ec,Fc),this.xb=!0);a.save();a.scale(this.zoom,this.zoom);a.translate((O/2-this.Zd.x*this.zoom)/this.zoom,(P/2-this.Zd.y*this.zoom)/this.zoom);a.beginPath();a.rect(0,0,800,600);a.strokeStyle="gray";a.stroke();for(var c=0;c<this.la.length;c++){a.beginPath();a.moveTo(this.la[c][0].x,this.la[c][0].y);for(var d=1;d<this.la[c].length;d++)a.lineTo(this.la[c][d].x,this.la[c][d].y);a.closePath();a.strokeStyle="black";a.stroke();
a.fillStyle=null!=this.Gb&&this.Gb==c?"red":"black";a.globalAlpha=.5;a.fill();a.globalAlpha=1;a.beginPath();a.arc(this.la[c][0].x,this.la[c][0].y,5,0,1.998*Math.PI);a.fillStyle=this.ec&&this.ec[0]==c&&0==this.ec[1]?"red":"black";a.fill();for(d=1;d<this.la[c].length;d++)a.beginPath(),a.arc(this.la[c][d].x,this.la[c][d].y,5,0,1.998*Math.PI),a.fillStyle=this.ec&&this.ec[0]==c&&this.ec[1]==d?"red":"black",a.fill();a.globalAlpha=1}for(c=0;c<this.$a.length;c++)a.beginPath(),a.fillStyle=null!=this.ed&&this.ed==
c?"red":"black",a.arc(this.$a[c].x,this.$a[c].y,5,0,1.998*Math.PI),a.fill();for(c=0;c<this.ge.length;c++){a.beginPath();a.moveTo(this.ge[c][0].x,this.ge[c][0].y);for(d=1;d<this.ge[c].length;d++)a.lineTo(this.ge[c][d].x,this.ge[c][d].y);a.closePath();a.strokeStyle="cyan";a.stroke();a.fillStyle="cyan";a.globalAlpha=.2;a.fill();for(d=0;d<this.ge[c].length;d++)a.beginPath(),a.arc(this.ge[c][d].x,this.ge[c][d].y,5,0,1.998*Math.PI),a.fillStyle="cyan",a.fill();a.globalAlpha=1}a.restore()};
l.Pn=function(a){return{x:(a.x-(O/2-this.Zd.x*this.zoom))/this.zoom,y:(a.y-(P/2-this.Zd.y*this.zoom))/this.zoom}};l.va=function(a,b){var c=this.Pn({x:a,y:b});if(this.Ku){for(var d=0;d<this.la[this.Gb].length;d++)this.la[this.Gb][d].x+=c.x-this.pp.x,this.la[this.Gb][d].y+=c.y-this.pp.y;this.pp=c}};l.Kf=function(){this.Ku=!1;this.pp=null};l.hf=function(a,b){var c=this.Pn({x:a,y:b});null!=this.Gb&&Kb(this.la[this.Gb],c)&&(this.pp=c,this.Ku=!0)};
l.Ia=function(a,b){var c=this.Pn({x:a,y:b});console.log(c.x+" "+c.y);if(null!=this.ec)this.la[this.ec[0]][this.ec[1]].x=c.x,this.la[this.ec[0]][this.ec[1]].y=c.y;else if(null!=this.ed)this.$a[this.ed].x=c.x,this.$a[this.ed].y=c.y;else if(null==this.Gb){for(var d=0;d<this.la.length;d++)for(var f=0;f<this.la[d].length;f++)if(Q({x:this.la[d][f].x,y:this.la[d][f].y},c)<5/this.zoom){this.ec=[d,f];return}for(d=0;d<this.la.length;d++)if(Kb(this.la[d],c)){this.Gb=d;console.log("CLICKED ON POLYGON "+d);return}for(d=
0;d<this.$a.length;d++)if(Q({x:this.$a[d].x,y:this.$a[d].y},c)<5/this.zoom){this.ed=d;return}this.$a.push(c)}};
function Wg(a,b,c){for(var d=0,f=0,g=0;g<a.la.length;g++)for(var h=0;h<a.la[g].length;h++)0!=Math.abs(a.la[g][h].x-b)&&Math.abs(a.la[g][h].x-b)<Math.abs(b-d)&&(d=a.la[g][h].x),0!=Math.abs(a.la[g][h].y-c)&&Math.abs(a.la[g][h].y-c)<Math.abs(c-f)&&(f=a.la[g][h].y);for(g=0;g<a.ge.length;g++)for(h=0;h<a.ge[g].length;h++)0!=Math.abs(a.ge[g][h].x-b)&&Math.abs(a.ge[g][h].x-b)<Math.abs(b-d)&&(d=a.ge[g][h].x),0!=Math.abs(a.ge[g][h].y-c)&&Math.abs(a.ge[g][h].y-c)<Math.abs(c-f)&&(f=a.ge[g][h].y);for(g=0;g<a.$a.length;g++)0!=
Math.abs(a.$a[g].x-b)&&Math.abs(a.$a[g].x-b)<Math.abs(b-d)&&(d=a.$a[g].x),0!=Math.abs(a.$a[g].y-c)&&Math.abs(a.$a[g].y-c)<Math.abs(c-f)&&(f=a.$a[g].y);return{x:d,y:f}}
l.we=function(a){if(65==a){if(null!=this.ec){var b=this.la[this.ec[0]][this.ec[1]],c=Wg(this,b.x,b.y);b.x=c.x;b.y=c.y}null!=this.ed&&(b=this.$a[this.ed],c=Wg(this,b.x,b.y),b.x=c.x,b.y=c.y)}67==a&&(Math.min(this.$a[0].x,this.$a[1].x),Math.min(this.$a[0].y,this.$a[1].y),Math.max(this.$a[0].x,this.$a[1].x),Math.max(this.$a[0].y,this.$a[1].y),this.$a=[]);79==a&&null!=this.Gb&&(this.ge.push(this.la[this.Gb]),this.la.splice(this.Gb,1),this.Gb=null);81==a&&(this.ed=this.Gb=this.ec=null);68==a&&(null!=this.Gb&&
(this.la.splice(this.Gb,1),this.Gb=null),null!=this.ec&&(this.la[this.ec[0]].splice(this.ec[1],1),this.ec=null),null!=this.ed&&(this.$a.splice(this.ed,1),this.ed=null));if(88==a){if(null!=this.ed){this.$a.push({x:O-this.$a[this.ed].x,y:this.$a[this.ed].y});return}if(null!=this.Gb){a=[];for(b=this.la[this.Gb].length-1;0<=b;b--)a.push({x:O-this.la[this.Gb][b].x,y:this.la[this.Gb][b].y});this.la.push(a);return}}if(90==a){if(null!=this.ed){this.$a.push({x:this.$a[this.ed].x,y:P-this.$a[this.ed].y});return}if(null!=
this.Gb){a=[];for(b=this.la[this.Gb].length-1;0<=b;b--)a.push({x:this.la[this.Gb][b].x,y:P-this.la[this.Gb][b].y});this.la.push(a);return}}console.log(a);78==a&&(this.la.push(this.$a),this.$a=[]);80==a&&Xg(this);if(37<=a&&40>=a){c=b=0;37==a&&(b=-1);38==a&&(c=-1);39==a&&(b=1);40==a&&(c=1);if(null!=this.Gb){for(a=0;a<this.la[this.Gb].length;a++)this.la[this.Gb][a].x+=b,this.la[this.Gb][a].y+=c;return}if(null!=this.ec){this.la[this.ec[0]][this.ec[1]].x+=b;this.la[this.ec[0]][this.ec[1]].y+=c;return}if(null!=
this.ed){this.$a[this.ed].x+=b;this.$a[this.ed].y+=c;return}}187==a&&(this.zoom*=1.25);189==a&&(this.zoom/=1.25)};l.vn=function(){};function Xg(a){for(var b=[],c=0;c<a.la.length;c++){for(var d=[],f=0;f<a.la[c].length;f++)d.push([Math.round(a.la[c][f].x),Math.round(a.la[c][f].y)]);b.push(d)}console.log(JSON.stringify(b));return JSON.stringify(b)}l.save=function(a){localStorage[a]=Xg(this)};
l.load=function(a){a=JSON.parse(localStorage[a]);this.la=[];for(var b=0;b<a.length;b++){for(var c=[],d=0;d<a[b].length;d++)c.push({x:a[b][d][0],y:a[b][d][1]});this.la.push(c)}};l.ml=function(a,b){var c=null;"easy"==(b?b:J)&&(c=N[a].gf);c||(c=N[a].Ma);this.la=[];for(var d=0;d<c.length;d++){for(var f=[],g=0;g<c[d].length;g++)f.push({x:c[d][g][0],y:c[d][g][1]});this.la.push(f)}};Yg.prototype=new vg;l=Yg.prototype;l.constructor=Yg;
function Yg(a,b){this.P=a;this.buttons=[];this.n=b;this.xb=!1;this.color=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.oa="BOSS"==this.P.slice(0,4);this.buttons.push(new Hg("BACK",16,70,P/2+260,60,65,this.J,"white",function(a){return function(){$.fillStyle=z["world "+a.n+" dark"];$.translate(W,0);$.fillRect(0,0,O,P);$.globalAlpha*=lg(0);Cb($,0,O,P,"Hive "+a.n);$.translate(-W,0);Wd.setAttribute("style","");Eg(a.$,"fade_out_to_main",function(){T=a.n?new cg(a.n,!0):new Of;Ye=null;
"normal"==J?Rf("Title Alt"+a.n,.15):Rf("Hive 0",.3)})}}(this),"back"));this.ki=["bronze","silver","gold"];this.Ea=N[this.P].ra[J].Mc.Ea;this.Rk=null;if(this.oa)this.Rk={};else{this.Rk=N[this.P].s;this.ef=0;for(var c in N[this.P].s)this.ef+=1}this.ae=40;this.i=this.ml(N[this.P]);var d=0;for(c in this.Rk){for(var f=0,g=0;f<d+1&&f<this.ef;)f+=12;g=f<=this.ef?12:this.ef-(f-12);this.buttons.push(new Zg(c,this.ae,O/2+(this.ae+10)*(d-(f-12)-(g-1)/2),400+this.ae*(Math.floor(d/12)-(Math.ceil(this.ef/12)-1)/
2),this.ae,this.ae,z["world "+this.n+" lite"],function(a,b){return function(){Eg(b.$,"fade_out",function(){Je=new $g(a,b)})}}(c,this)));d+=1}this.$=new Dg({fade_in:500,fade_out:250,fade_out_to_main:250});Eg(this.$,"fade_in")}l.pa=function(a){this.$.pa(a);Sf(a)};
l.V=function(a,b){if(!this.xb){var c=Xe.getContext("2d");c.clearRect(0,0,O,P);Cb(c,0,O,P,"Hive "+this.n);b.translate(W,0);this.i.We(b);this.xb=!0;b.translate(-W,0);bg_canvas.setAttribute("style","display:none")}"fade_out_to_main"!=this.$.Ic?(a.save(),a.fillStyle=z["world "+this.n+" dark"],a.fillRect(0,0,O,P),a.globalAlpha*=lg(this.n)):(a.save(),a.globalAlpha*=Fg(this.$),a.fillStyle="black",a.fillRect(0,0,O,P),a.globalAlpha*=lg(0));a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();a.save();if("fade_in"==
this.$.Ic)a.globalAlpha*=Fg(this.$);else if("fade_out"==this.$.Ic||"fade_out_to_main"==this.$.Ic)a.globalAlpha*=1-Fg(this.$);if(this.oa)for(a.fillStyle=z["world "+this.n+" bright"],a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.save(),a.globalAlpha*=.3,Ma(a,this.n,O/2,P/2-50,100),a.restore(),a.font="16px Muli",a.fillText(this.i.P,O/2,P/2-60),a.font="40px Muli",a.fillText(oa[this.n],O/2,P/2-20),a.font="24px Muli",3==N[this.P].ra[J].Ea?(a.font="12px Muli",a.fillText("BEST TIME",O/2,390),a.font=
"28px Muli",a.fillText(Zb(N[this.P].ra[J].Xa),O/2,415)):(a.fillStyle=z["boss "+this.n],a.fillText("UNDEFEATED",O/2,400)),c=0;c<this.buttons.length;c++)this.buttons[c].V(a);else{a.globalAlpha/=3;Ma(a,this.n,O/2,130,40,!0);a.globalAlpha*=3;a.fillStyle="white";a.font="18px Muli";"normal"==J&&a.fillText("HARD MODE",O/2,100);a.beginPath();a.fillStyle=z["world "+this.n+" bright"];a.font="30px Muli";a.textAlign="center";a.fillText(this.P,O/2,140);a.fill();for(c=0;c<this.buttons.length;c++)this.buttons[c].V(a);
qb(a,this.P,O/2,255,z["world "+this.n+" lite"]);a.beginPath();a.rect(O/2-100,100,250,150);a.strokeStyle="rgba(0, 0, 0, .3)";a.stroke();if(1>this.ns){a.textAlign="center";var c=this.ns,d=O-70,f=P-53;a.save();eb(a,d,f,10,"gray");a.beginPath();a.arc(d,f,15,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI*c);a.lineWidth=2;a.strokeStyle="gray";a.stroke();a.restore();a.font="16px Muli";a.fillStyle="gray";a.fillText("LOADING",O-70,P-19)}if("HOW TO PLAY"!=this.P.slice(0,11)){a.fillStyle=this.J;a.font="12px Muli";a.fillText("ENEMIES",
O/2,370);for(score_color=0;N[this.P].ra[J].Mc>N[this.P].za[J][score_color];)score_color+=1;a.fillStyle=this.J;a.textAlign="center";a.font="12px Muli";a.fillText("HIGH SCORE",O/2-100,480);a.font="28px Muli";a.fillText(N[this.P].ra[J].Mc,O/2-100,505);a.fillStyle=this.J;a.font="12px Muli";a.fillText("BEST TIME",O/2+100,480);1E3>N[this.P].ra[J].Xa?(a.font="28px Muli",a.fillText(Zb(N[this.P].ra[J].Xa),O/2+100,505)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,505))}}a.restore()};
l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};l.ms=function(){var a=new hc(this.n,!1);this.buttons.push(new Hg("START",16,O-70,P/2+260,100,65,this.J,"white",function(b){return function(){Eg(b.$,"fade_out",function(){T=new Tf(b.n,b.i,b.Rb,a,!1,!0)})}}(this),"start"))};ah.prototype=new ug;l=ah.prototype;l.constructor=ah;l.jE={F:0,D:10,"D+":11,"C-":13,C:14,"C+":15,"B-":16,B:17,"B+":18,"A-":20,A:21,"A+":22,S:24,"S+":25};l.Pw=["half","basic","silver","gold"];
function ah(a,b,c,d,f,g,h){this.Rj=h;this.lk=g;this.buttons=[];this.xb=!1;this.L=c;this.i=d;this.Rb=f;this.n=a;this.wa=b;this.Ff=1<=jc();g&&(this.L=hc.prototype.clone(Oe[J]),lc(this.L),bg(),this.n=this.L.ma,this.wa=null);this.Fa=this.Sd=250;this.lb="in";this.buttons=[];this.oi="half";this.color=z["world "+this.n];this.Nc=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.zi=z["world "+this.n+" dark"];0<this.n&&(this.sh=Math.ceil((1E3*Fb["blitz_hive"+this.n].Bq-this.L.ji)/1E3),this.On=
0);for(a=0;8>a;a++)f=7==a?"BOSS "+this.n:"HIVE "+this.n+"-"+(a+1),this.L.H[f]&&(this.On+=this.L.H[f].Jm);if(b){bh(this);this.xF="HIVE "+this.L.vu+" DEFEATED";b=3;for(d in c.H)c.H[d].Ea<b&&(b=c.H[d].Ea);c.Rg||(this.oi=this.Pw[b],this.L.oi=this.oi);(d=Le[J]["world "+this.n])&&d.rank&&gg(fg(d.rank));if(!d||this.Pw.indexOf(this.oi)>this.Pw.indexOf(d.victory_type)||this.oi==d.victory_type&&("half"==this.oi&&c.Rg<d.continues||"gold"==this.oi&&this.On<d.deaths))Le[J]["world "+this.n]={victory_type:this.oi,
continues:c.Rg,deaths:this.On,first_victory:void 0===d},bg()}this.lk&&!this.Rj&&(this.Hl=new Hg("RESUME",16,730,P/2+260,100,65,this.J,this.J,function(a){return function(){Oe[J]={};bg();a.L.aE=0;T=new Tg(a.n,null,null,null,null,a.L,!0,!0)}}(this),"start"),this.Hl.Kl=!1,this.buttons.push(this.Hl),this.Nm=new Hg("DELETE",16,O/2,P/2+260,100,65,this.J,this.J,function(a){return function(){Oe[J]={};bg();T=new cg(a.n)}}(this),"delete_small"),this.buttons.push(this.Nm),this.Nm.Kl=!1,this.nE=new Hg("EXIT",
16,70,P/2+260,60,65,this.J,this.J,function(){return function(){T=new Of}}(this),"back"),this.buttons.push(this.nE));0!=this.n&&fc();this.ki=["bronze","silver","gold"];!this.lk&&this.wa&&ch(this)}function fg(a){a=ah.prototype.jE[a];var b="half";0<a&&(b="basic");16<=a&&(b="silver");24<=a&&(b="gold");return b}function gg(a){Le[difficulty][world]={victory_type:a,continues:"half"==a?1:0,deaths:9,first_victory:!0};bg()}
function bh(a){for(var b=0,c=0;8>c;c++){var d=7==c?"BOSS "+a.n:"HIVE "+a.n+"-"+(c+1);a.L.H[d]&&(b+=a.L.H[d].Jm)}a.On=b}
l.V=function(a){if(0!=this.n||this.lk){this.xb||(bg_canvas.setAttribute("style","display:none"),this.xb=!0,Cb(Xe.getContext("2d"),0,O,P,"Hive "+this.n));a.save();this.Fa-=dt;0>this.Fa&&("in"==this.lb&&(this.lb="none"),"out"==this.lb&&dh(this));a.fillStyle=this.zi;a.fillRect(0,0,O,P);if("in"==this.lb){var b=this.Fa/this.Sd;a.globalAlpha=1-b}else"out"==this.lb&&(b=this.Fa/this.Sd,a.globalAlpha=Math.max(0,b));a.save();a.globalAlpha*=lg(this.n);a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();for(b=0;b<this.buttons.length;b++)this.buttons[b].V(a);
a.shadowBlur=0;a.textAlign="center";a.font="20px Muli";this.wa?(a.globalAlpha*=.3,Ma(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle=this.J,a.font="40px Muli",a.fillText(this.xF,O/2,130)):this.lk?(a.globalAlpha*=.3,Ma(a,this.n,O/2,220,80),a.globalAlpha/=.3,a.fillStyle="white",a.fillText("GAME SAVED",O/2,210),a.fillStyle=this.J,a.font="40px Muli",a.fillText(this.L.gs,O/2,250),a.font="24px Muli",a.fillText(this.L.Mk,O/2,280),a.textAlign="center",a.fillStyle=this.J,a.font="20px Muli",a.fillText("TOTAL TIME ",
O/2-100,380),a.font="42px Muli",a.fillText(Hb(this.sh),O/2-100,420),a.fillStyle=this.J,a.font="20px Muli",a.fillText("DEATHS",O/2+100,380),a.font="42px Muli",a.fillText(this.On,O/2+100,420)):(a.globalAlpha*=.3,Ma(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle="red",a.fillText("GAME OVER",O/2,80),a.fillStyle=this.J,0<this.L.Rg&&(a.font="18px Muli",a.fillText("CONTINUES: "+this.L.Rg,O/2,175)),a.font="40px Muli",a.fillText(this.L.gs,O/2,130));this.wa&&this.L.Rg&&(a.fillStyle=this.J,a.font="18px Muli",
a.fillText("CONTINUES: "+this.L.Rg,O/2,250));this.wa&&(a.fillStyle=this.J,a.font="14px Muli",a.fillText("TOTAL TIME",O/2,167),a.font="24px Muli",a.fillText(Hb(this.sh),O/2,190));if(!this.lk)for(a.shadowBlur=0,a.font="18px Muli",a.textAlign="center",a.fillStyle=this.J,a.fillText("LEVEL",260,250),a.fillText("TIME",400,250),a.fillText("DEATHS",540,250),b=0;8>b;b++){var c=7==b?"BOSS "+this.n:"HIVE "+this.n+"-"+(b+1),d=c;7==b&&(d=this.L.vu);var f;f=this.L.H[c]?this.L.H[c]:{};a.fillStyle=f.gB?this.J:"#666";
var g=280+27*b;a.fillText(d,260,g);a.fillStyle=f.gB?this.J:"#666";void 0!=this.L.sh[c]?a.fillText(Hb(Math.floor(this.L.sh[c]/1E3)),400,g):a.fillText("---",400,g);void 0!=f.Jm?a.fillText(f.Jm,540,g):a.fillText("---",540,g)}a.font="16px Muli";a.fillStyle=this.Nc;this.lk?this.Rj&&a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30):a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30);for(b=0;b<this.buttons.length;b++)this.buttons[b].V(a);for(b=0;b<this.buttons.length;b++)eh(this.buttons[b],a);a.restore()}};
l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};l.we=function(){"none"!=this.lb||this.lk&&!this.Rj||(this.lb="out",this.Fa=this.Sd)};l.vn=function(){};l.pa=function(){0!=this.n||this.lk||dh(this)};
function ch(a){if(!(0>=a.n)){if("normal"==J)for(var b=3,c=["half","basic","silver","gold"],d=1;4>=d;d++)if(Le.normal["world "+d]){var f=Le.normal["world "+d].oi;c.indexOf(f)<b&&(b=c.indexOf(f))}else b=-1;"normal"==J&&0<a.L.ji&&Nc("blitz_hive"+a.n);a.L.nz||Nc("untouchable");Le[J]["world "+a.L.ma]&&Le[J]["world "+a.L.ma].first_victory&&(4>a.L.ma&&Nc("beat_hive"),4==a.L.ma&&Nc("final_boss"))}}
function dh(a){T=a.wa?new Ug(a.L,!0,{wa:!0,Ip:0==a.n,Zu:Me,Rj:a.Rj}):new Ug(a.L,!0,{wa:!1,Ip:0==a.n,Zu:Me,Rj:a.Rj})};Tg.prototype=new vg;l=Tg.prototype;l.constructor=Tg;
function Tg(a,b,c,d,f,g,h,k){this.L=g;this.wa=c;this.H=d;this.az=!1;this.QC=k;this.Vl=3700;this.Xe=2200;this.Xg=4E3;this.ad=null;this.Ki=!0;this.Ff=1<=jc();this.n=a;this.color=z["world "+a];this.Nc=z["world "+a+" lite"];this.J=z["world "+a+" bright"];this.zi=z["world "+a+" dark"];this.Rb=f;this.buttons=[];this.xb=!1;this.ki=["bronze","silver","gold"];this.wy=this.Cj=!1;if(b)if(this.H){this.ad=b;this.Kp=b.P;this.wa?(this.state="last_level_summary",this.Fa=this.Xg):(this.state="level_intro",this.Fa=
D.DG?this.Xg:this.Xe);a=0;if(!this.ad.oa)for(;this.H.jf>N[this.ad.P].za[J][a];)a+=1;this.Ea=a;if(this.wa){this.QA=Math.floor(this.H.kf/5);this.uy=Math.floor(this.H.zf/2);this.at=this.L.dg+this.QA+this.uy;for(this.Fw=this.L.Od;100<=this.at;)this.at-=100,this.Fw+=1;0==this.L.H[this.ad.P].nv&&Nc("pacifist")}}else this.state="level_intro",this.i=this.ad=b,this.Kp=b.P,this.Fa=this.Xe/=2,this.wy=!0;else this.state="level_intro",this.L=h?g:new hc(a,!0),this.Fa=this.Xe;if(!this.wy){if(this.wa||!this.ad){if(this.ad&&
this.ad.oa||0==this.n&&this.wa&&this.ad&&"HIVE 0-4"==this.ad.P)return;this.Ki=!1;this.i=h?this.ml(N[this.L.Mk]):this.ml(N[Sg(this.ad,this.n)]);this.Cj=!N[this.i.P].ra[J].Cg;N[this.i.P].ra[J].Cg=!0;bg();this.L.H.hasOwnProperty(this.i.P)||(this.L.H[this.i.P]={},this.L.H[this.i.P].gB=!0,this.L.H[this.i.P].Jm=0);this.L.Mk=this.i.P;0<this.n&&jg(this.L)}else this.i=this.ad,this.i.v=null,$.translate(W,0),this.i.We($),this.xb=!0,$.translate(-W,0);this.i.oa&&(this.Xe=this.wa?1E3:500)}0==this.n||this.ad&&this.ad.oa||
h&&this.L.Mk&&"BOSS"==this.L.Mk.substring(0,4)||ec(cc,ja["Hive "+this.n])}function Sg(a,b){return a?7>a.Dz?"HIVE "+b+"-"+(a.Dz+1):"BOSS "+b:0==b?"HIVE 0-1":"HIVE "+b+"-1"}
l.pa=function(a){this.az=!0;if(0>this.L.Od)T=new ah(this.n,!1,this.L,this.i,this.Rb);else if(0==this.n&&this.wa&&this.ad&&"HIVE 0-4"==this.ad.P)T=new ah(this.n,!0,this.L);else if(0==this.n)this.Ki&&(T=new Tf(this.n,this.i,this.Rb,this.L,!0,null===this.wa?!0:this.wa));else if(this.ad&&this.ad.oa&&this.ad.zh)T=new ah(this.n,!0,this.L);else if(this.ad&&this.ad.oa&&!this.ad.zh)T=new Tf(this.n,this.i,this.Rb,this.L,!0,null===this.wa?!0:this.wa);else{var b=this.Fa/this.Xg;"last_level_summary"==this.state&&
this.wa&&.3<b&&.7>b?(this.L.dg+=a/(.4*this.Xg)*(this.QA+this.uy),100<=this.L.dg&&(this.L.dg-=100,this.L.Od+=1)):"last_level_summary"==this.state&&this.wa&&.3>b&&(this.L.dg=Math.floor(this.at),this.L.Od=Math.floor(this.Fw),this.L.Bz=this.L.dg,this.L.Az=this.L.Od);if(this.Ki||"world_intro"==this.state&&this.Fa>=this.Vl/2||"last_level_summary"==this.state&&this.Fa>=this.Xg/2||"level_intro"==this.state&&this.Fa>=this.Xe/2)this.Fa-=a;0>this.Fa&&("world_intro"==this.state&&this.Ki?0==this.n?T=new Tf(this.n,
this.i,this.Rb,this.L,!0,null===this.wa?!0:this.wa):(this.state="level_intro",this.Fa=this.Xe):"last_level_summary"==this.state&&this.Ki?(this.wa&&this.i.oa&&fc(),this.state="level_intro",this.Fa=this.Xe):"level_intro"==this.state&&(T=new Tf(this.n,this.i,this.Rb,this.L,!0,null===this.wa?!0:this.wa)))}};
l.V=function(a,b){!this.xb&&this.i&&(this.xb=!0,bg_canvas.setAttribute("style","display:none"),b.translate(W,0),this.i.We(b),b.translate(-W,0),Cb(Xe.getContext("2d"),0,O,P,"Hive "+this.n));a.fillStyle=z["world "+this.n+" dark"];a.fillRect(0,0,O,P);if(0!=this.n){a.save();a.globalAlpha*=lg(this.n);if("world_intro"!=this.state||this.QC)"level_intro"==this.state?(c=this.Fa/this.Xe,.5>c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))):"last_level_summary"==this.state&&(c=this.Fa/this.Xg,.5<c&&(a.globalAlpha*=
Math.min(1,(1-2*Math.abs(c-.5))/.5)));else{var c=this.Fa/this.Vl;.5<c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))}a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();this.az&&("world_intro"==this.state?(c=this.Fa/this.Vl,a.save(),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.textAlign="center",a.shadowBlur=0,a.fillStyle=this.J,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ma(a,this.n,O/2,P/2,130),a.restore(),a.font="54px Muli",a.fillText(this.L.gs,O/2,P/2+25),a.shadowBlur=0,a.fillStyle=
this.Nc,a.shadowColor=a.fillStyle,a.font="12px Muli",this.Ki?a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270):a.fillText("LOADING LEVEL",O/2,P/2+270),a.restore()):"level_intro"==this.state?this.i.oa||(a.save(),c=this.Fa/this.Xe,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.fillStyle=this.J,a.textAlign="center",a.shadowBlur=0,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ma(a,this.n,O/2,300,100),a.restore(),a.font="24px Muli",a.save(),a.globalAlpha*=.5,a.fillText(this.L.gs,O/2,250),a.restore(),
a.font="56px Muli",a.fillText(this.i.P,O/2,320),a.shadowBlur=0,a.fillStyle=this.Nc,a.shadowColor=a.fillStyle,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270),a.restore()):"last_level_summary"==this.state&&(a.save(),c=this.Fa/this.Xg,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.globalAlpha/=3,Ma(a,this.n,O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==J&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=
this.J,a.font="42px Muli",a.textAlign="center",a.fillText(this.Kp,O/2,240),a.fill(),a.font="36px Muli",a.fillStyle="white",a.fillText("VICTORY",O/2,300),a.fillStyle=this.J,a.font="20px Muli",a.fillText("GAME TIME ",O/2+100,380),a.font="42px Muli",a.fillText(this.H.Sj,O/2+100,420),a.fillStyle=this.J,a.font="20px Muli",a.fillText("SCORE",O/2-100,380),a.font="42px Muli",a.fillText(this.H.jf,O/2-100,420),this.H.Mc||(a.beginPath(),a.moveTo(250,440),a.lineTo(350,440),a.lineWidth=3,a.strokeStyle=this.J,
a.stroke()),this.H.Xa||(a.beginPath(),a.moveTo(450,440),a.lineTo(550,440),a.lineWidth=3,a.strokeStyle=this.J,a.stroke()),this.H.Mc?(a.fillStyle=this.J,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,445)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.J,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,470),a.font="28px Muli",a.fillText(N[this.Kp].ra[J].Mc,O/2-100,500),a.restore()),this.H.Xa?(a.fillStyle=this.J,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,445)):(a.save(),a.globalAlpha*=
.6,a.fillStyle=this.J,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,470),a.font="28px Muli",1E3>N[this.Kp].ra[J].Xa?(a.font="28px Muli",a.fillText(Zb(N[this.Kp].ra[J].Xa),O/2+100,500)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,500)),a.restore(),a.shadowBlur=0,a.fillStyle=this.Nc,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270)),a.restore()))}};l.we=function(){this.Ki&&(this.Vl/=4,this.Xe/=4,this.Xg/=4,this.Fa/=4)};
l.Ia=function(){this.Ki&&(this.Vl/=4,this.Xe/=4,this.Xg/=4,this.Fa/=4)};l.ms=function(){bg_canvas.setAttribute("style","display:none");this.Ki=!0;$.translate(W,0);this.i.We($);$.translate(-W,0);Cb(Xe.getContext("2d"),0,O,P,"Hive "+this.n)};l.bv=function(a){return 100>a?(a/=100,"rgb("+Math.round(190*(1-a)+0*a)+","+Math.round(190*(1-a)+128*a)+","+Math.round(190*(1-a)+255*a)+")"):this.bv(Math.abs(400-this.H.Ap%800)/400*99.99)};fh.prototype=new ug;l=fh.prototype;l.constructor=fh;function fh(){this.buttons=[];this.OC=3*O/8;this.NE=5*O/8;this.xC=300;this.wC=50;this.hp=z.impulse_blue;gh(this);this.Ra=null;fc()}
l.V=function(a,b){this.xb||(bg_canvas.setAttribute("style",""),b.clearRect(0,0,canvas.width,canvas.height),b.fillStyle="black",b.fillRect(0,0,canvas.width,canvas.height),this.xb=!0);for(var c=0;c<this.buttons.length;c++)this.buttons[c].V(a);this.Ae.V(a);if(null!=this.Ra){a.beginPath();a.textAlign="center";a.font="12px Muli";a.fillStyle=z.impulse_blue;a.fillText("Currently Playing: "+this.Ra,O/2,175);var c=Math.round(gc().vc.av()),d=Math.round(gc().vc.getTime()),f=Math.floor(c%60);10>f&&(f="0"+f);
var g=Math.floor(d%60);10>g&&(g="0"+g);a.fillText(Math.floor(d/60)+":"+g,1*O/4,220);a.fillText(Math.floor(c/60)+":"+f,3*O/4,220)}};
function gh(a){a.Ae=new hh(O/2,200,O/2,5,a.hp);a.Ae.value=0;a.Ae.Hc=!1;a.buttons.push(new xg("PLAY",20,O/2-50,250,100,50,a.hp,"blue",function(){var a=cc;a.Ra in a.Qb&&a.Qb[a.Ra].play()}));a.buttons.push(new xg("PAUSE",20,O/2+50,250,100,50,a.hp,"blue",function(){var a=cc;a.Ra in a.Qb&&a.Qb[a.Ra].pause()}));ih(a);a.buttons.push(new xg("MAIN MENU",20,O/2,P/2+270,200,50,a.hp,"blue",function(){setTimeout(function(){T=new Of},20)}))}
function ih(a){var b=0;for(song in ja){var c=a;a.buttons.push(new xg(song,20,0==b%2?a.OC:a.NE,a.xC+Math.floor(b/2)*a.wC,200,50,a.hp,"blue",function(a){return function(){c.Ra=a;ec(cc,ja[c.Ra])}}(song)));b++}}l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b);this.Ae.va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};l.hf=function(a,b){this.Ae.hf(a,b)};
l.Kf=function(a,b){if(null!=gc().vc&&this.Ae.Ir){var c=cc;c.Qb[c.Ra].setTime(gc().vc.av()*this.Ae.value)}this.Ae.Kf(a,b)};l.pa=function(){if(null!=this.Ra&&!this.Ae.Ir){var a=cc;this.Ae.value=a.Qb[a.Ra].getTime()/a.Qb[a.Ra].av()}};jh.prototype=new ug;l=jh.prototype;l.constructor=jh;
function jh(){this.Ff=1<=jc();this.$=new Dg({fade_in:500,fade_out:250});Eg(this.$,"fade_in");this.buttons=[];this.buttons.push(new Hg("BACK",16,O/2,P/2+260,60,65,"white",z.impulse_blue,function(a){return function(){Eg(a.$,"fade_out",function(){T=new Of})}}(this),"back"));this.buttons.push(new kh("beat_hive",O/2-300,200,50));this.buttons.push(new kh("final_boss",O/2-150,200,50));this.buttons.push(new kh("untouchable",O/2+0,200,50));this.buttons.push(new kh("pacifist",O/2+150,200,50));this.buttons.push(new kh("high_roller",
O/2+300,200,50));this.buttons.push(new kh("beat_hard",O/2-300,350,50));this.buttons.push(new kh("blitz_hive1",O/2-150,350,50));this.buttons.push(new kh("blitz_hive2",O/2-0,350,50));this.buttons.push(new kh("blitz_hive3",O/2+150,350,50));this.buttons.push(new kh("blitz_hive4",O/2+300,350,50))}l.pa=function(a){this.$.pa(a)};
l.V=function(a){this.xb||(Wd.setAttribute("style",""),Rf("Hive 0",.3),this.xb=!0);"fade_in"==this.$.Ic?a.globalAlpha*=Fg(this.$):"fade_out"==this.$.Ic&&(a.globalAlpha*=1-Fg(this.$));a.textAlign="center";a.font="24px Muli";a.fillStyle="white";a.fillText("ACHIEVEMENTS",O/2,50);a.font="12px Muli";a.fillText("MOUSE OVER TO VIEW",O/2,75);for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a);for(b=0;b<this.buttons.length;b++)eh(this.buttons[b],a)};
l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};Ug.prototype=new ug;l=Ug.prototype;l.constructor=Ug;
function Ug(a,b,c){this.L=a;this.lc=b;this.ng=c;this.Ab=[];this.Kd=-1;this.Fa=this.Sd=250;this.lb="in";this.Cj=Me;this.wa=c.wa;this.kz=this.xb=!1;this.Ea=0;var d=this;this.Pj=J;this.un=new Hg("NORMAL MODE",20,O/2-150,300,250,125,"white",z.impulse_blue,function(){d.Em("easy")},"easy_mode");this.Bu=new Hg("CHALLENGE MODE",20,O/2+150,300,250,125,"white",z.impulse_blue,function(){d.Em("normal")},"normal_mode");this.debug();if(this.ng.Ip){if("first_time_tutorial"==this.ng.YA||this.ng.Zu)this.Ab.push({type:"first_time_tutorial"}),
Me=!1,bg()}else this.lc&&Le[this.Pj]["world "+this.L.ma]&&Le[this.Pj]["world "+this.L.ma].first_victory&&(4==this.L.ma&&(this.Ab.push({type:"final_victory"}),"easy"==this.Pj&&(this.kz=Ne=!0,J="normal",bg())),Le[this.Pj]["world "+this.L.ma].first_victory=!1,bg());this.Kd+=1;0<this.Ab.length&&fc();this.ZB=3E3;this.lr=0}l.Em=function(a){"none"==this.lb&&(J=a,bg(),this.WF(),this.lb="out",this.Fa=4*this.Sd)};
l.V=function(a){if(0!=this.Ab.length){var b=this.Ab[this.Kd];if(!this.xb){bg_canvas.setAttribute("style","display:none");var c=Xe.getContext("2d");"world_victory"==b.type?Cb(c,0,O,P,"Hive "+(b.data+1)):"final_victory"==b.type?Cb(c,0,O,P,"Title Alt4"):Cb(c,0,O,P,"Hive 0");this.xb=!0}a.save();a.globalAlpha="world_victory"==b.type?a.globalAlpha*lg(b.data+1):"final_victory"==b.type?lg(0)/2*a.globalAlpha:a.globalAlpha*lg(0);a.drawImage(Xe,0,0,O,P,0,0,O,P);a.restore();a.save();"in"==this.lb?(c=this.Fa/
this.Sd,a.globalAlpha=1-c):"out"==this.lb&&(c=this.Fa/this.Sd,a.globalAlpha=Math.max(0,c));if("quest"!=b.type&&"ult_tutorial"!=b.type&&"select_difficulty"!=b.type&&"share"!=b.type){var d="world_victory"==b.type?b.data+1:0;a.save();a.globalAlpha*=.2;Ma(a,d,O/2,250,100);a.restore()}var f=c="",g=32;"world_victory"==b.type&&(a.fillStyle=z["world "+(b.data+1)+" bright"],g=24,c="NEW HIVE UNLOCKED",f="easy"==this.Pj?"STANDARD MODE":"CHALLENGE MODE",a.textAlign="center",a.font="48px Muli",a.fillText("HIVE "+
oa[b.data+1],O/2,270));"final_victory"==b.type&&(final_message="easy"==this.Pj?"HARD MODE UNLOCKED FOR ALL HIVES":"CHALLENGE MODE COMPLETED",final_message_teaser="easy"==this.Pj?"THE REAL GAME BEGINS":"INCREDIBLE",a.textAlign="center",a.fillStyle="white",a.font="24px Muli",a.fillText(final_message,O/2,240),a.font="20px Muli",a.fillStyle="red",a.fillText(final_message_teaser,O/2,280),a.font="16px Muli",a.fillStyle="white","easy"!=this.Pj&&a.fillText("THANKS FOR PLAYING IMPULSE",O/2,320));"rating"==
b.type&&(c="YOUR SKILL RATING WENT UP",f="CONGRATULATIONS!",g=32,a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Pm,O/2,270),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW SKILL RATING",O/2,405),a.font="48px Muli",a.fillText(b.data.vG,O/2,455));"lives"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA LIFE",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Pm,O/2-25,270),G(a,O/2+35,250,0,40,40,"lives_icon"),
a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("LIVES",O/2-d,400),G(a,O/2-d,422,0,30,30,"lives_icon"),a.fillText("LIVES",O/2+d,400),G(a,O/2+d,422,0,30,30,"lives_icon"),a.font="36px Muli",a.fillText(b.data.RD-b.data.Pm,O/2-d,470),Ua(a,O/2,430,20,"right","white",!1),a.fillText(b.data.RD,O/2+d,470));"ult"==b.type&&(a.textAlign="center",f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA ULTIMATE",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Pm,O/2-25,270),G(a,O/2+35,250,
0,40,40,"ultimate_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("ULT",O/2-d,400),G(a,O/2-d,422,0,30,30,"ultimate_icon"),a.fillText("ULT",O/2+d,400),G(a,O/2+d,422,0,30,30,"ultimate_icon"),a.font="36px Muli",a.fillText(b.data.TD-b.data.Pm,O/2-d,470),Ua(a,O/2,430,20,"right","white",!1),a.fillText(b.data.TD,O/2+d,470));if("quest"==b.type)for(d=0,a.save(),Ma(a,d,O/2,250,150),a.restore(),a.textAlign="center",a.fillStyle=z.impulse_blue,a.font="32px Muli",a.fillText("CHALLENGE COMPLETE!",
O/2,120),draw_quest_button(a,O/2,250,60,b.data.type),a.font="24px Muli",a.fillStyle="white",d=0;d<Fb[b.data.type].text.length;d++)a.fillText(Fb[b.data.type].text[d],O/2,400+36*d);"spark_val"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="SPARK VALUE INCREASED",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Pm,O/2-25,270),G(a,O/2+35,250,0,40,40,"sparks_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillStyle="white",a.fillText("SPARK",O/2-d,
390),a.fillText("VALUE",O/2-d,405),G(a,O/2-d,424,0,22,22,"sparks_icon"),a.fillText("SPARK",O/2+d,390),a.fillText("VALUE",O/2+d,405),G(a,O/2+d,424,0,22,22,"sparks_icon"),a.font="36px Muli",a.fillText(b.data.SD-b.data.Pm,O/2-d,470),Ua(a,O/2,430,20,"right","white",!1),a.fillText(b.data.SD,O/2+d,470));"first_time_tutorial"==b.type&&(a.font="30px Muli",a.textAlign="center",a.fillStyle="white",a.fillText("INTRO TUTORIAL COMPLETE",O/2,250),a.fillStyle="white",a.font="16px Muli",a.fillText("INITIALIZING MAIN GAME...",
O/2,550));"select_difficulty"==b.type&&(f="LET'S DO THIS",g=36,c="SELECT DIFFICULTY",this.un.V(a),this.Bu.V(a));c&&(a.fillStyle="white",a.textAlign="center",a.font="16px Muli",a.fillText(f,O/2,70),a.font=g+"px Muli",a.fillStyle="world_victory"==b.type?z["world "+(b.data+1)+" bright"]:z.impulse_blue,a.fillText(c,O/2,120));"select_difficulty"!=b.type?(a.textAlign="center",a.fillStyle="world_victory"==b.type?z["world "+(b.data+1)+" bright"]:"white",a.font="16px Muli","first_time_tutorial"!=b.type&&("ult"!=
b.type?a.fillText("PRESS ANY KEY TO CONTINUE",O/2,P-30):a.fillText("PRESS ANY KEY FOR ULT TUTORIAL",O/2,P-30))):(a.font="16px Muli",a.textAlign="center",a.fillStyle=z.impulse_blue,a.fillText("YOU CAN SWITCH DIFFICULTY ON THE TITLE SCREEN OPTIONS MENU",O/2,P-75));a.restore()}};l.debug=function(){};
l.pa=function(a){0==this.Ab.length&&lh(this);this.Kd<this.Ab.length&&0<=this.Kd&&"first_time_tutorial"==this.Ab[this.Kd].type&&(this.lr-=a,0>=this.lr&&"none"==this.lb&&(this.lb="out",this.Fa=this.Sd));this.Fa-=a;0>this.Fa&&("in"==this.lb&&(this.lb="none",this.lr=this.ZB),"out"==this.lb&&(this.Kd+=1,this.Kd>=this.Ab.length?lh(this):(this.lb="in",this.Fa=this.Sd,this.xb=!1)))};function mh(a,b){var c=a.kz?1:a.L.ma;"normal"!=J||Me?Rf("Hive 0",.3):Rf("Title Alt"+c,.15);T=new cg(c,b)}
function lh(a){a.FG?T=new qc("ult_tutorial"):a.lc?a.wa&&1<=a.L.ma&&3>=a.L.ma?T=new Tg(a.L.ma+1,null,null,null,null):a.wa&&0==a.L.ma&&a.Cj?T=new Tg(a.L.ma+1,null,null,null,null):a.wa&&4==a.L.ma?mh(a,!1):a.ng.Rj?T=new Of:mh(a,!1):a.ng.Ip?"ult_tutorial"==a.ng.YA?T=new Tg(2,null,null,null,null):mh(a,!1):a.wa?T=new Gg(a.ng.H,a.ng.i,a.ng.n,a.ng.Rb,{Xa:a.ng.H.Xa,Mc:a.ng.H.Mc,Ea:a.Ea,wa:a.wa}):mh(a,!0)}
l.we=function(){0!=this.Ab.length&&"none"==this.lb&&"select_difficulty"!=this.Ab[this.Kd].type&&"first_time_tutorial"!=this.Ab[this.Kd].type&&(this.lb="out",this.Fa=this.Sd)};
l.Ia=function(a,b){0==this.Ab.length||0<=this.Kd&&this.Kd<this.Ab.length&&"share"==this.Ab[this.Kd].type||"first_time_tutorial"==this.Ab[this.Kd].type||this.Kd>=this.Ab.length||("select_difficulty"==this.Ab[this.Kd].type&&(this.un.Ia(a,b),this.Bu.Ia(a,b)),"none"==this.lb&&"select_difficulty"!=this.Ab[this.Kd].type&&(this.lb="out",this.Fa=this.Sd))};l.va=function(a,b){0!=this.Ab.length&&"select_difficulty"==this.Ab[this.Kd].type&&(this.un.va(a,b),this.Bu.va(a,b))};Of.prototype=new ug;l=Of.prototype;l.constructor=Of;function Of(){this.buttons={menu:[],enter:[],options:[]};this.aD=new Image;this.xb=!1;this.visibility=0;this.state="menu";this.aD.src="impulse_logo.png";nh(this);ec(cc,ja.Menu);this.$=new Dg({fade_in:500,fade_out:250});Eg(this.$,"fade_in")}l.pa=function(a){this.$.pa(a);Sf(a)};
l.V=function(a){this.xb||(Wd.setAttribute("style",""),Rf("Hive 0",.3),this.xb=!0);a.save();"fade_in"==this.$.Ic?a.globalAlpha*=Fg(this.$):"fade_out"==this.$.Ic&&(a.globalAlpha*=1-Fg(this.$));a.shadowColor=z.impulse_blue;a.shadowBlur=0;ob(a,O/2,150);for(var b=0;b<this.buttons[this.state].length;b++)this.buttons[this.state][b].V(a);for(b=0;b<this.buttons[this.state].length;b++)eh(this.buttons[this.state][b],a);a.restore()};
l.va=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Ia(a,b)};
function nh(a){a.buttons.menu=[];a.buttons.menu.push(new xg("MAIN GAME",20,O/2-100,P/2-30,200,100,"white","blue",function(){for(var a=1;4>a&&Le[J]["world "+a];)a+=1;T=Oe[J].H?new ah(null,null,null,null,null,!0):new cg(a)}));a.buttons.menu.push(new xg("PRACTICE",20,O/2-100,P/2+20,200,50,"white","blue",function(){T=new wg}));a.buttons.menu.push(new xg("TUTORIAL",20,O/2-100,P/2+220,200,50,"white","blue",function(){T=new qc("normal_tutorial")}));a.buttons.menu.push(new xg("OPTIONS",20,O/2-100,P/2+120,
200,50,"white","blue",function(){setTimeout(function(){a.state="options"},50)}));a.buttons.menu.push(new xg("JUKEBOX",20,O/2-100,P/2+170,200,50,"white","blue",function(){T=new fh}));a.buttons.menu.push(new xg("LEVEL EDITOR",20,O/2-100,P/2+270,200,50,"white","blue",function(){T=new Vg}));a.buttons.menu.push(new xg("QUESTS",20,O/2-100,P/2+70,200,50,"white","blue",function(){T=new jh}));a.buttons.enter.push(new xg("CLICK TO BEGIN",20,O/2,P/2+150,200,50,"white","blue",function(){setTimeout(function(){a.state=
"menu"},20)}));a.Sy=new xg("NORMAL MODE",20,O/2-100,P/2+120,200,50,"white","blue",function(){a.Em("easy")});a.buttons.options.push(a.Sy);a.un=new xg("CHALLENGE MODE",20,O/2+100,P/2+120,200,50,"white","blue",function(){a.Em("normal")});a.buttons.options.push(a.un);oh(a);a.uC=new xg("CLEAR DATA",20,O/2,P/2+170,200,50,"white","blue",function(){ph()});a.buttons.options.push(a.uC);a.buttons.options.push(new xg("BACK",20,O/2,P/2+220,200,50,"white","blue",function(){setTimeout(function(){a.state="menu"},
50)}));var b=new Hg("",20,O-20,20,30,30,"white",z.impulse_blue,function(){Zf()},"fullscreen_in_game");qh(b,new Wf("fullscreen_msg",z["world 0 bright"],0));a.buttons.menu.push(b);b=new Hg("",20,O-50,20,30,30,"white",z.impulse_blue,function(){ag()},"mute_in_game");qh(b,new Wf("mute_msg",z["world 0 bright"],0));a.buttons.menu.push(b)}l.Em=function(a){J=a;bg();oh(this);hg(J)};function oh(a){a.Sy.Lw="easy"==J;a.un.Lw="normal"==J};cg.prototype=new ug;l=cg.prototype;l.constructor=cg;
function cg(a,b){this.Kh=b;this.xb=!1;this.color="white";this.Ff=1<=jc();this.n=a;this.Vv=null;this.Gm=J;this.ws=null;this.buttons=[];var c=this;this.buttons.push(new Hg("BACK",16,70,P/2+260,60,65,this.color,z.impulse_blue,function(){Eg(c.$,"fade_out",function(){T=new Of});Qf("Hive 0",.3)},"back"));this.Dh=["easy","normal"];this.OE=new rh(16,730,P/2+260,100,65,this.color,z.impulse_blue,this);this.buttons.push(this.OE);this.VD=5;this.Ul=P/2;dg(this);ec(cc,ja.Menu);this.Xy=500;this.Yy=250;this.Di=this.$m=
null;kg();this.$=new Dg({fade_in:250,fade_across:250,fade_out:250});Eg(this.$,"fade_in");this.Df=[];this.rg=this.al=1E3;this.as=2E3;this.Lc={x:O/2/E,y:this.Ul/E};this.bl=5;this.bs=8;Me&&setTimeout(function(){T=new Tg(0,null,null,null,null,null,!1,!0)})}
function dg(a){a.Zn={};for(var b=0;b<a.Dh.length;b++){var c=a.Dh[b];a.Zn[c]={0:!0,1:!0,2:Le[c]["world 1"]||!0,3:Le[c]["world 2"]||!0,4:Le[c]["world 3"]||!0}}a.dj={};a.Wh={};a.hh={};for(b=0;b<a.Dh.length;b++)if(a.dj[a.Dh[b]]={},a.Wh[a.Dh[b]]=[],a.hh[a.Dh[b]]={},sh(a,a.Dh[b]),a.Kh)th(a,a.Dh[b]),uh(a,0,a.Ul,!0,a.Dh[b]);else for(var c=a,d=a.Dh[b],f=0;4>=f;f++)uh(c,f,c.Ul,c.Zn[d][f],d)}
function sh(a,b){for(var c=["T","1","2","3","4"],d=2,f=2;f<a.VD&&(!(1<f)||a.Zn[b][f]);f++)d+=1;for(var g=O/2-37.5*(d-1),f=0;f<d;f++){var h=a;a.Wh[b].push(new Hg(c[f],16,g+75*f,P/2+250,60,60,z["world "+f+" bright"],z.impulse_blue,function(a){return function(){h.n!=a&&(Eg(h.$,"fade_across",function(){h.n=a}),vh(h,a,h.Gm),h.Vv=a,h.ws=h.Gm)}}(f),"world"+f))}}
function wh(a){var b=J;if(a.Gm!=b){for(var c=a.n;1<c&&!a.Zn[b][c];)--c;Eg(a.$,"fade_across",function(){a.Gm=a.ws;a.n=c});vh(a,c,b);a.Vv=c;a.ws=b}}function vh(a,b,c){void 0==b&&(b=a.n);0!=b&&"normal"==c?Qf("Title Alt"+b,.15):Qf("Hive 0",.3)}
function th(a,b){for(var c=1;4>=c;c++){a.hh[b][c]=[];for(var d=0;8>d;d++){var f="HIVE "+c+"-"+(d+1);7==d&&(f="BOSS "+c);var g=a,h=z["world "+c+" bright"],h=new Hg(d+1,30,O/2+150*(-1.5+d%4),4<=d?P/2+100:P/2,75,75,h,h,function(a,b){return function(){g.$m=g.Yy;g.Di=g.$m;g.Vu=z["world "+b+" dark"];var c=Xe.getContext("2d");Cb(c,0,O,P,"Hive "+g.n);setTimeout(function(){T=new Yg(a,b)},g.Yy)}}(f,c),"practice"+c);h.Mw=!1;h.P=f;a.hh[b][c].push(h);h.Hc=N[f].ra[b].Cg||0==d&&a.Zn[b][c]||!0;h.Hc||(h.color="gray")}}}
function uh(a,b,c,d,f){a.dj[f][b]=new Hg(d?"START":"LOCKED",50,O/2,c,150,150,z["world "+b+" bright"],z["world "+b+" bright"],function(){a.$m=a.Xy;a.Di=a.$m;a.Vu=z["world "+b+" dark"];var c=Xe.getContext("2d");Cb(c,0,O,P,"Hive "+a.n);setTimeout(function(){T=new Tg(b,null,null,null,null,null,!1,!0)},a.Xy)},"world"+b);a.dj[f][b].Hc=d}
l.V=function(a){if(!Me){this.Vu&&(a.save(),a.globalAlpha=1-this.Di/this.$m,a.fillStyle=this.Vu,a.fillRect(0,0,O,P),a.globalAlpha*=lg(this.n),a.drawImage(Xe,0,0,O,P,0,0,O,P),a.restore());a.save();null!=this.Di&&(a.globalAlpha*=Math.max(this.Di/this.$m,0));"fade_in"==this.$.Ic?a.globalAlpha*=Fg(this.$):"fade_out"==this.$.Ic&&(a.globalAlpha*=1-Fg(this.$));this.xb||(bg_canvas.setAttribute("style",""),this.xb=!0);for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a);!this.Kh&&this.Zn[J][this.n]&&
this.Qm(a,E);a.font="13px Muli";a.fillStyle="white";a.fillText("SELECT HIVE",O/2,P/2+215);"fade_across"==this.$.Ic?(a.save(),a.globalAlpha*=1-Fg(this.$),xh(this,a,this.n,this.Gm),a.restore(),a.save(),a.globalAlpha*=Fg(this.$),xh(this,a,this.Vv,this.ws),a.restore()):xh(this,a,this.n,this.Gm)}};
function xh(a,b,c,d){a.Kh&&0!=c||a.dj[d][c].V(b);if(0<c&&a.Kh&&0!=c)for(var f=0;f<a.hh[d][c].length;f++)a.hh[d][c][f].V(b);0!=c&&(a.Kh?(b.fillStyle="white",b.font="20px Muli",b.fillText("PRACTICE MODE",O/2,a.Ul-170)):"normal"==J&&(b.fillStyle="white",b.font="24px Muli",b.fillText("HARD MODE",O/2,a.Ul-170)));b.fillStyle=z["world "+c+" bright"];b.font="42px Muli";b.textAlign="center";0<c?b.fillText("HIVE "+oa[c],O/2,a.Ul-125):b.fillText("TUTORIAL",O/2,a.Ul-125);for(f=0;f<a.Wh[d].length;f++)a.Wh[d][f].V(b),
a.Wh[d][f].Xh&&(b.textAlign="center",b.font="15px Muli",0==f?(b.fillStyle=z["world "+f+" bright"],b.fillText("TUTORIAL",O/2,P-8)):a.Wh[d][f].Hc&&(b.fillStyle=z["world "+f+" bright"],b.fillText("HIVE "+oa[f],O/2,P-8)));a.Kh&&0!=c||eh(a.dj[d][c],b);if(0<c&&a.Kh)for(f=0;f<a.hh[d][c].length;f++)eh(a.hh[d][c][f],b)}l.pa=function(a){Me||(null!=this.Di&&(this.Di-=a),this.Kh||this.zn(a),this.$.pa(a),Sf(a))};
l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b);var d=J;if(this.Kh)if(0!=this.n)for(c=0;c<this.hh[d][this.n].length;c++)this.hh[d][this.n][c].va(a,b);else this.dj[d][this.n].va(a,b);else this.dj[d][this.n].va(a,b);for(c=0;c<this.Wh[d].length;c++)this.Wh[d][c].va(a,b)};
l.Ia=function(a,b){if(null==this.Di){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b);var d=J;if(this.Kh)if(0!=this.n)for(c=0;c<this.hh[d][this.n].length;c++)this.hh[d][this.n][c].Ia(a,b);else this.dj[d][this.n].Ia(a,b);else this.dj[d][this.n].Ia(a,b);for(c=0;c<this.Wh[d].length;c++)this.Wh[d][c].Ia(a,b)}};l.zn=ng.prototype.zn;l.Bp=ng.prototype.Bp;l.Qm=ng.prototype.Qm;qc.prototype=new Tf;l=qc.prototype;l.constructor=qc;function qc(a){this.P="HOW TO PLAY";this.ha(0,null,null,!0,this.L,!1);this.mode=a;this.ready=!1;this.i=this.ml(N["HOW TO PLAY"]);this.i.sn=!0;this.L=new hc(0,!1);this.Xd=!1;this.mg=0;this.Mm=100;this.RA=3E3;this.Fa=this.Sd=500;this.lb="in"}l.ml=vg.prototype.ml;
l.ms=function(){this.ready=!0;this.i.v=this;this.i.reset();this.P=this.i.P;this.oa=!1;Ig(this);Wd.setAttribute("style","display:none");$.translate(W,0);this.i.We($);$.translate(-W,0);ec(cc,ja.Interlude);this.color=this.oa?z["boss "+this.n]:z["world "+this.n+" lite"];this.zi=z["world "+this.n+" dark"];this.Nc=z["world "+this.n+" lite"];this.J=z["world "+this.n+" bright"];this.Qd=12;"normal_tutorial"==this.mode?this.da=0:"first_time_tutorial"==this.mode?(this.da=-1,this.mg=this.RA,this.Xd=!0):"ult_tutorial"==
this.mode&&(this.da=0,this.mg=.5*this.RA,this.Xd=!0);this.Nn=null;this.nq=document.createElement("canvas");this.nq.width=150;this.nq.height=150;this.Zb=this.nq.getContext("2d");this.pq=document.createElement("canvas");this.pq.width=150;this.pq.height=150;this.zd=this.pq.getContext("2d");this.JE=["white","silver","gold"];this.LE=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];this.ME=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"];this.ki=["white","silver","gold"];var a=this;this.Vk=new Hg("EXIT TUTORIAL",
20,400,440,125,85,this.Nc,"white",function(){a.Su=!0},"quit");this.Rl=(this.Ff=1<=jc())?2:0;this.Qd+=this.Rl;this.Ff&&(this.L.tk=99)};l.Em=function(a){J=a;bg()};
l.$c=function(a){if(!this.pause&&1==this.zoom){var b=this.q;b.r[5]=Math.max(1E3,b.r[5]);this.Xd&&(0>=this.mg?(this.Xd=!1,this.lb="out",this.Fa=this.Sd):this.mg-=a);this.Fa-=a;0>this.Fa&&"none"!=this.lb&&1==this.zoom&&("in"==this.lb?this.lb="none":"out"==this.lb&&(yh(this,this.da+1),2==this.da&&"ult_tutorial"==this.mode&&(this.Vk.y=550),this.lb="in",this.Fa=this.Sd))}};
l.Ed=function(a){if(1==this.zoom){a.save();a.translate(W,0);if("in"==this.lb){var b=this.Fa/this.Sd;a.globalAlpha=1-b}else"out"==this.lb&&(b=this.Fa/this.Sd,a.globalAlpha=Math.max(0,b));if("first_time_tutorial"==this.mode)if(a.font="24px Muli",a.textAlign="center",a.fillStyle="white",-1==this.da&&(ob(a,400,380),a.font="24px Muli",a.fillText("INTRO TUTORIAL",400,500),a.font="18px Muli",a.fillStyle=z.impulse_blue,a.fillText("PRESS Q TO PAUSE AND QUIT",400,535)),0==this.da&&("right"==D.Kb&&Sa(a,400,
430,60,"white",["W","A","S","D"]),"left"==D.Kb&&"mouse"==D.zc&&Sa(a,400,430,60,"white"),a.fillText("MOVE",400,500)),1==this.da&&("mouse"==D.zc?Wa(a,400,400,83,125,"white"):Sa(a,400,430,60,"white"),a.fillText("IMPULSE",400,500),a.save(),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",400,550),a.restore()),2==this.da&&zh(this,a),3==this.da&&Ah(this,a),4==this.da&&Bh(a),5==this.da&&Ch(a),6==this.da&&Dh(a),7==this.da&&Eh(this,a),8==this.da&&Bh(a),9==this.da&&Fh(this,
a),-1!=[2,5,6,7].indexOf(this.da))a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Gh()),a.font="16px Muli",a.fillText("PRESS SPACEBAR TO CONTINUE",400,580),a.restore();else if(0==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Gh()),a.font="16px Muli",a.fillText("TRY MOVING NOW",400,580),a.restore();else if(1==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Gh()),a.font="16px Muli",a.fillText("TRY IMPULSING NOW",400,580),a.restore();
else if(3==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Gh()),a.font="16px Muli",a.fillText("TRY KILLING AN ENEMY NOW",400,580),a.restore();else if(4==this.da||8==this.da)a.save(),a.fillStyle=z.impulse_blue,a.globalAlpha*=Math.min(1,1.5*Gh()),a.font="16px Muli",a.fillText("GET THE GATEWAY SCORE",400,580),a.restore();if("normal_tutorial"==this.mode){a.font="20px Muli";a.textAlign="center";a.fillStyle="white";0==this.da&&(ob(a,400,380),a.font="24px Muli",a.fillStyle="white",
a.fillText("TUTORIAL",400,500));1==this.da&&("right"==D.Kb&&Sa(a,400,430,60,"white",["W","A","S","D"]),"left"==D.Kb&&"mouse"==D.zc&&Sa(a,400,430,60,"white"),a.fillText("MOVE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillStyle="white",a.fillText("ALTERNATE CONTROLS AVAILABLE IN PAUSE MENU",400,550));2==this.da&&(a.font="20px Muli","mouse"==D.zc?Wa(a,400,400,83,125,"white"):Sa(a,400,430,60,"white"),a.fillText("USE IMPULSE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",
400,550));3==this.da&&zh(this,a);4==this.da&&Ah(this,a);if(5==this.da){for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=z[this.JE[b]],a.shadowColor=a.fillStyle,a.font="25px Muli",a.fillText(N["HOW TO PLAY"].za[J][b],600,40*b+337),a.textAlign="left",a.font="20px Muli",a.fillText(this.LE[b],200,330+40*b),a.font="12px Muli",a.fillText(this.ME[b],200,40*b+345);a.beginPath();a.rect(190,308,420,45);a.strokeStyle="red";a.lineWidth=8;a.stroke();a.beginPath();a.rect(825,515,150,80);a.strokeStyle=
"red";a.lineWidth=6;a.stroke();a.font="20px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE...",400,500);a.shadowColor="red";a.fillStyle="red"}6==this.da&&Fh(this,a);this.da==7+this.Rl&&Ch(a);this.da==8+this.Rl&&Dh(a);this.da==9+this.Rl&&Eh(this,a);this.Ff&&(a.fillStyle="white",a.textAlign="center",7==this.da&&Hh(a),8==this.da&&Ih(this,a));this.da==10+this.Rl&&(a.font="20px Muli",a.fillStyle="white","right"==D.Kb?(Ta(a,250,406,55,55,10,"white"),a.fillText("Q",250,
412)):"left"==D.Kb&&(Ta(a,250,406,125,55,10,"white"),a.fillText("ENTER",250,412)),Ta(a,400,406,55,55,10,"white"),a.fillText("X",400,412),Ta(a,550,406,55,55,10,"white"),a.fillText("C",550,412),a.font="16px Muli",a.fillText("PAUSE",250,462),a.fillText("MUTE MUSIC",400,462),a.fillText("FULLSCREEN",550,462),a.font="12px Muli",a.fillText("ENEMY INFO AND GAME OPTIONS IN THE PAUSE MENU",400,530));this.da==11+this.Rl&&(this.Vk.V(a),a.fillStyle=z.impulse_blue,a.font="16px Muli",a.fillText("THANKS FOR PLAYING IMPULSE!",
400,335),a.font="12px Muli",a.fillText("- MARK -",400,360));a.globalAlpha=1;0<this.da&&(Ua(a,100,420,20,"left","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("BACK",98,450));this.da<this.Qd-1&&(Ua(a,700,420,20,"right","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("NEXT",702,450));for(b=0;b<this.Qd;b++){var c=(this.Qd-1)/2-b;a.beginPath();a.arc(400-25*c,580,4,0,2*Math.PI,!0);a.fillStyle="white";this.da==b?(a.fillStyle="white",a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=
5,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=5)}}"ult_tutorial"==this.mode&&(a.fillStyle="white",a.textAlign="center",0==this.da&&(ob(a,400,380),a.font="24px Muli",a.fillText("ULT TUTORIAL",400,500)),1==this.da&&Hh(a),2==this.da&&Ih(this,a));a.restore()}};
function Bh(a){a.beginPath();a.rect(825,515,150,80);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.font="24px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE TO BEAT THE LEVEL",400,420);a.save();a.globalAlpha*=Gh();Jh(a,735,555,50,"red");a.restore()}
function Jh(a,b,c,d,f,g){a.save();g&&(a.translate(b,c),"left"==g&&a.rotate(Math.PI),"up"==g&&a.rotate(3*Math.PI/2),"down"==g&&a.rotate(Math.PI/2),a.translate(-b,-c));a.beginPath();a.moveTo(b-d/2,c);a.lineTo(b+.355*d,c);a.lineWidth=d/5;a.strokeStyle=f;a.stroke();Ua(a,b+d/2,c,.6*d,"right",f,!1);a.restore()}
function Ch(a){a.font="24px Muli";a.fillStyle="white";a.fillText("YOUR MULTIPLIER INCREASES THE POINTS",400,340);a.fillText("YOU GET FROM KILLING ENEMIES",400,375);a.fillStyle=z.impulse_blue;a.font="48px Muli";a.fillText("100",250,450);a.fillStyle="white";a.font="12px Muli";a.fillText("BASE POINT VALUE",250,480);a.fillText("OF ENEMY",250,500);Jh(a,325,435,30,"white");a.fillStyle=z.impulse_blue;a.font="48px Muli";a.textAlign="center";a.fillText("x5",400,450);a.fillStyle="white";a.font="12px Muli";
a.fillText("YOUR CURRENT",400,480);a.fillText("MULTIPLIER",400,500);Jh(a,475,435,30,"white");a.fillStyle=z.impulse_blue;a.font="48px Muli";a.fillText("+500",565,450);a.fillStyle="white";a.font="12px Muli";a.fillText("TOTAL POINTS",565,480);a.fillText("GAINED",565,500);a.beginPath();a.rect(825,225,150,100);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.save();a.globalAlpha*=Gh();Jh(a,735,280,50,"red");a.restore()}
function Dh(a){a.fillStyle="white";a.font="16px Muli";a.fillText("KILLING ENEMIES",250,360);a.fillStyle=z.impulse_blue;a.font="36px Muli";a.fillText("INCREASES",250,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",250,430);a.fillText("TOUCHING ENEMIES",550,360);a.fillStyle="red";a.font="36px Muli";a.fillText("RESETS",550,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",550,430);a.fillStyle="white";a.save();a.globalAlpha*=.5;a.font="12px Muli";a.fillText("MULTIPLIER PERMANENTLY +1 EVERY 10 SECONDS",
400,500);a.restore()}
function Eh(a,b){b.beginPath();b.arc(a.i.ok.x,a.i.ok.y,25,0,2*Math.PI);b.lineWidth=4;b.strokeStyle="red";b.stroke();b.beginPath();b.arc(a.i.Jf.x,a.i.Jf.y,25,0,2*Math.PI);b.stroke();G(b,300,440,void 0,25,25,"spark");b.font="16px Muli";b.fillStyle=z.impulse_blue;b.fillText("+10 SPARKS",300,475);G(b,500,440,void 0,25,25,"multi");b.font="16px Muli";b.fillStyle="white";b.fillText("+5 MULTIPLIER",500,475);b.font="24px Muli";b.fillText("POWERUPS",400,350);b.font="12px Muli";b.fillStyle=z.impulse_blue;b.fillText("100 SPARKS = EXTRA LIFE",
300,495);b.beginPath();b.rect(-160,Fc-140,120,80);b.strokeStyle="red";b.lineWidth=4;b.stroke()}function Hh(a){"mouse"==D.zc?(Xa(a,400,400,83,125,"white"),a.font="20px Muli",a.fillText("USE ULTIMATE",400,500)):(Ta(a,400,400,55,55,10,"white"),a.font="20px Muli",a.fillText("E",400,406),a.fillText("USE ULTIMATE",400,470))}
function Ih(a,b){G(b,400,330,0,60,60,"ultimate");b.font="16px Muli";b.textAlign="center";b.fillStyle="white";b.shadowBlur=0;b.fillText("YOU GET NO POINTS FOR KILLING ENEMIES WITH YOUR ULTIMATE",400,430);b.fillText("WHILE USING YOUR ULTIMATE, YOU ARE INVINCIBLE",400,480);"ult_tutorial"==a.mode&&a.Vk.V(b)}function Gh(){return Math.abs(((new Date).getTime()%2E3-1E3)/1E3)}
function Ah(a,b){b.drawImage(a.nq,0,0,150,150,225,300,150,150);b.drawImage(a.pq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.restore();b.shadowBlur=0;b.beginPath();b.moveTo(385,375);b.lineTo(400,375);b.lineWidth=8;b.strokeStyle="white";b.stroke();Ua(b,408,375,20,"right","white",!1);b.font="20px Muli";b.fillStyle="white";b.textAlign="center";b.fillText("IMPULSE ENEMIES INTO THE VOID TO KILL THEM",
400,500);0<a.i.s.length&&(b.save(),b.globalAlpha*=Gh(),b.beginPath(),b.arc(a.i.s[0].body.g.position.x*E,a.i.s[0].body.g.position.y*E,25,0,2*Math.PI),b.lineWidth=6,b.strokeStyle=z.impulse_blue,b.stroke(),b.beginPath(),b.moveTo(a.i.s[0].body.g.position.x*E,a.i.s[0].body.g.position.y*E-25),b.lineTo(a.i.s[0].body.g.position.x*E,66),b.lineWidth=6,b.stroke(),Ua(b,a.i.s[0].body.g.position.x*E,60,25,"up",z.impulse_blue,!1),b.restore())}
function zh(a,b){b.drawImage(a.nq,0,0,150,150,225,300,150,150);b.drawImage(a.pq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.shadowBlur=0;Jh(b,400,375,25,"white");b.shadowBlur=0;b.font="20px Muli";b.fillText("TOUCHING THE BLACK VOID WILL KILL YOU",400,500);for(var c=0;6>c;c++)Jh(b,150+100*c,220,35,"red","down"),Jh(b,150+100*c,120,35,"red","up");b.restore()}
function Fh(a,b){Ua(b,355,170,25,"right","red",!1);Ua(b,445,170,25,"left","red",!1);Ua(b,400,125,25,"down","red",!1);Ua(b,400,215,25,"up","red",!1);b.beginPath();b.arc(400,170,50,0,2*Math.PI);b.lineWidth=8;b.shadowBlur=0;b.strokeStyle="red";b.stroke();"first_time_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",
400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");"normal_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("...THEN MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");b.fillStyle="white";"right"==D.Kb&&(Ta(b,400,445,300,50,10,"white"),b.fillText("SPACEBAR",400,451));"left"==D.Kb&&
(Ta(b,400,445,120,50,10,"white"),b.fillText("SHIFT",400,451))}function Kh(a,b){b.save();b.beginPath();b.rect(0,0,150,75);b.fillStyle=a.zi;b.fill();Cb(b,75,150,150,"Hive 0");b.beginPath();b.moveTo(0,75);b.lineTo(150,75);b.lineWidth=6;b.strokeStyle=z["world 0 lite"];b.stroke();b.restore()}l.va=function(a,b){!this.pause&&this.ready&&1==this.zoom&&("normal_tutorial"==this.mode&&this.da==this.Qd-1&&this.Vk.va(a-W,b),this.q.Rv=this.Pn({x:a-W,y:b}),"ult_tutorial"==this.mode&&2==this.da&&this.Vk.va(a-W,b))};
l.we=function(a){this.ready&&1==this.zoom&&(a==ua.ij||a==ua.Bk?(this.pause=!this.pause)&&(Je=new Og(this.i,this.n,this.H,this,this.Rb)):a==ua.Qq&&this.L&&this.Jj&&Q(this.i.Lc,this.q.body.g.position)<this.i.bl?"first_time_tutorial"==this.mode&&9>this.da||(this.wa=!0):nc(this.q,a),32==a&&-1!=[2,5,6,7].indexOf(this.da)&&"first_time_tutorial"==this.mode&&0==this.Xd&&"none"==this.lb&&(this.mg=0,this.Xd=!0))};
function yh(a,b){if("normal_tutorial"==a.mode&&4<=b||"first_time_tutorial"==a.mode&&3==b)a.i.sn=!1;"first_time_tutorial"==a.mode&&4==b&&(a.i.sn=!1);"ult_tutorial"==a.mode&&1==b&&(a.i.sn=!1,a.i.Fy=!0);"first_time_tutorial"==a.mode&&5==b&&(a.i.sn=!0);if("first_time_tutorial"==a.mode&&8==b&&(a.i.sn=!1,a.i.Fy=!0,a.Jj)){yh(a,b+1);return}if("normal_tutorial"==a.mode&&3==b&&3!=a.da||"first_time_tutorial"==a.mode&&2==b)a.Nn=new sg("player",{x:75/E,y:73/E},{x:0,y:0},!1),a.Nn.pa(300);if("normal_tutorial"==
a.mode&&4==b&&4!=a.da||"first_time_tutorial"==a.mode&&3==b)a.Nn=new sg("stunner",{x:75/E,y:60/E},{x:0,y:-5},!1),a.Nn.pa(100);a.da=b;if("normal_tutorial"==a.mode&&3==a.da||"first_time_tutorial"==a.mode&&2==a.da)a.Zb.clearRect(0,0,150,150),a.zd.clearRect(0,0,150,150),Kh(a,a.Zb),Kh(a,a.zd),Jh(a.Zb,30,110,35,"red","up"),Jh(a.Zb,120,110,35,"red","up"),Jh(a.zd,30,110,35,"red","up"),Jh(a.zd,120,110,35,"red","up"),G(a.Zb,75,75,0,30,30,"player_normal"),a.Zb.beginPath(),a.Zb.moveTo(75,55),a.Zb.lineTo(75,40),
a.Zb.lineWidth=4,a.Zb.strokeStyle=z.impulse_blue,a.Zb.stroke(),Ua(a.Zb,75,40,13,"up",z.impulse_blue,!1),a.Nn.V(a.zd);if("normal_tutorial"==a.mode&&4==a.da||"first_time_tutorial"==a.mode&&3==a.da)a.Zb.clearRect(0,0,150,150),a.zd.clearRect(0,0,150,150),Kh(a,a.Zb),Kh(a,a.zd),G(a.Zb,75,120,0,30,30,"player_normal"),a.Zb.beginPath(),a.Zb.shadowOffsetX=0,a.Zb.shadowOffsetY=0,a.Zb.lineWidth=5,a.Zb.strokeStyle=z.impulse_blue,a.Zb.arc(75,120,40,7*Math.PI/6,11*Math.PI/6),a.Zb.shadowBlur=0,a.Zb.stroke(),Ka(a.Zb,
"stunner",75,77,1,Math.PI/2),a.Zb.beginPath(),a.Zb.moveTo(75,58),a.Zb.lineTo(75,43),a.Zb.lineWidth=4,a.Zb.strokeStyle="cyan",a.Zb.stroke(),Ua(a.Zb,75,40,13,"up","cyan",!1),G(a.zd,75,120,0,30,30,"player_normal"),a.zd.globalAlpha=.5,a.zd.globalAlpha=1,a.zd.beginPath(),a.zd.shadowOffsetX=0,a.zd.shadowOffsetY=0,a.zd.lineWidth=5,a.zd.strokeStyle=a.zd.shadowColor,a.zd.arc(75,120,50,7*Math.PI/6,11*Math.PI/6),a.zd.shadowBlur=0,a.zd.stroke(),a.Nn.V(a.zd)}
l.hf=function(a,b){if(!(null!=this.Cl&&120>Math.abs(a-W/2)&&160>Math.abs(b-(Fc/2+60)))){if(!this.pause&&this.ready&&1==this.zoom)if("normal_tutorial"==this.mode&&a>W&&(a<Ec-W&&400<b||this.da==10+this.Rl&&350<b)){if(this.da==this.Qd-1&&this.Vk.Ia(a-W,b),400>a&&0<this.da&&yh(this,this.da-1),800<a&&this.da<this.Qd-1&&yh(this,this.da+1),565<b&&595>b){var c=Math.round((this.Qd-1)/2-(600-a)/25);0<=c&&c<this.Qd&&yh(this,c)}}else c=this.q,c.tv=(new Date).getTime(),c.dq=!0;"ult_tutorial"==this.mode&&2==this.da&&
this.Vk.Ia(a-W,b)}};l.$r=function(){"first_time_tutorial"==this.mode&&this.wa||this.Su?T=new Ug(this.L,this.lc,{H:this.H,i:this.i,n:this.n,Rb:this.Rb,Ip:!0,YA:this.mode}):(this.ht=.1,this.Iq=1,this.zoom=.1,this.Wl=!0,Kg(this,1,1E3),this.Xk="in",this.ready=!0,this.L=new hc(this.n,!1),this.i.reset(),this.reset(),Ig(this),this.i.lc=!1)};l.Hj=function(){8==this.da&&"first_time_tutorial"==this.mode&&0==this.Xd&&"none"==this.lb&&(this.mg=this.Mm,this.Xd=!0)};function Lh(a,b,c,d,f,g,h){f&&this.ha(a,b,c,d,f,g,h)}l=Lh.prototype;l.ha=function(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.action=f;this.Hc=!0;this.border=g;this.color=h;this.ta=!1;this.cb=null;this.Ub};l.V=function(a){a.save();this.border&&(a.beginPath(),a.strokeStyle=this.Hc?this.ta&&this.cb?this.cb:this.color:"gray",a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=4,a.stroke());this.Ed(a);a.restore()};function eh(a,b){a.Ub&&a.Ub.V(b)}l.Ed=function(){};
l.va=function(a,b){a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.Hc&&(this.ta=!0),this.Xh=!0):this.Xh=this.ta=!1;this.Ub&&(this.Ub.visible=this.Xh,Xf(this.Ub,a,b))};l.Ia=function(a,b){return this.Hc&&a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.action(),!0):!1};function Mh(a,b){a.Hc=b;a.Hc||(a.color="gray")}l.we=function(a){(this.Hc&&this.keyCode&&this.keyCode==a||this.rA&&this.rA==a)&&this.action()};
function qh(a,b){a.Ub=b}l.hf=function(){};l.Kf=function(){};Nh.prototype=new Lh;Nh.prototype.constructor=Nh;function Nh(a,b,c,d,f,g,h,k,n){this.text=a;this.ha(b,c,d,f,null,!1,g);this.fs=h;this.Qg=new Oh(this.x+this.u/2-20,this.y,20,20,this.color);this.Qg.checked=n();this.ny=!0;this.action=function(){k(this.Qg.checked);this.ny&&(this.Qg.checked=!this.Qg.checked)}}
Nh.prototype.Ed=function(a){a.save();this.Xh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Xh?this.fs:this.color;a.fillText(this.text,this.x-this.u/2+10,this.y+7);this.Qg.color=this.Xh?this.fs:this.color;this.Qg.V(a);a.restore()};function Ph(){}l=Ph.prototype;l.ha=function(a,b){this.u=a;this.m=b;this.x=Ec/2;this.y=Fc/2;this.buttons=[];this.Jn=!0;this.$=new Dg({fade_in:500,fade_out:250})};l.pa=function(a){this.$.pa(a)};
l.V=function(a){a.save();a.fillStyle=z["world "+this.n+" dark"];a.fillRect(W,0,O,P);a.globalAlpha*=lg(this.n?this.n:0);a.drawImage(Xe,0,0,O,P,W,0,O,P);a.restore();a.save();"fade_in"==this.$.Ic?a.globalAlpha*=Fg(this.$):"fade_out"==this.$.Ic&&(a.globalAlpha*=1-Fg(this.$));this.Jn&&(a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fillStyle="white",a.fill(),a.lineWidth=2,a.strokeStyle="black",a.stroke());this.Ed(a);a.restore()};l.We=function(){};l.Ed=function(){};l.va=function(){};
l.hf=function(){};l.Kf=function(){};l.Ia=function(){};l.we=function(){};l.vn=function(){};Og.prototype=new Ph;l=Og.prototype;l.constructor=Og;
function Og(a,b,c,d,f){this.i=a;this.H=c;this.zb=d;this.n=b;this.P=this.i.P;this.oa="BOSS"==this.P.slice(0,4);this.Rb=f;this.ha(800,600);this.Jn=!1;this.vf="black";this.J=z["world "+this.n+" bright"];this.color=z["world "+this.n];this.Nc=this.zb.Nc;this.Rk=null;if(this.oa)this.Rk={},this.ef=0;else{this.Rk=N[this.P].s;this.ef=0;for(var g in N[this.P].s)this.ef+=1}this.ae=40;Qh(this)}l.We=function(){};
function Qh(a){a.buttons=[];var b="white";if(0==a.n||void 0==a.n)b=z.impulse_blue;"HOW TO PLAY"!=a.P.slice(0,11)&&0!=a.n?(a.i.lc?(a.IE=new Hg("SAVE & QUIT",16,a.x+170,a.y-a.m/2+500,120,65,a.J,b,function(a){return function(){jg(a.zb.L);T=new ah(a.zb.n,!1,a.zb.L,null,null,!0,!0);Je=null}}(a),"save"),a.buttons.push(a.IE),a.Gs=new Hg("QUIT",16,a.x-170,a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){jg({});T=new ah(a.zb.n,!1,a.zb.L,null,null);Je=null}}(a),"quit")):(a.Gl=new Hg("RETRY",16,a.x-173,
a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){$.translate(W,0);a.i.v=null;a.i.We($);$.translate(-W,0);var b=new hc(a.zb.n,!1);T=new Tf(a.zb.n,a.i,a.Rb,b,!1,!1);Je=null}}(a),"retry"),a.buttons.push(a.Gl),a.Gl.keyCode=ua.Yq,a.Gl.Ci="right"==D.Kb?"R KEY":"SHIFT KEY",a.Gs=new Hg("QUIT",16,a.x+180,a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){T=new Ug(a.zb.L,a.zb.lc,{H:a.zb.H,i:a.zb.i,n:a.zb.n,Rb:a.zb.Rb,wa:!1});Je=null}}(a),"quit")),a.buttons.push(a.Gs),a.Xv=new Hg("OPTIONS",16,a.x,
a.y-a.m/2+500,100,65,a.J,b,function(a){return function(){Eg(a.$,"fade_out",function(){Je=new $f(a)})}}(a),"options")):(a.Gs=new Hg(0==a.n&&Me?"SKIP TUTORIAL":"QUIT",16,a.x+100,a.y-a.m/2+500,60,65,a.J,b,function(a){return function(){T=new Ug(a.zb.L,a.zb.lc,{H:a.zb.H,i:a.zb.i,n:a.zb.n,Rb:a.zb.Rb,Ip:!0,Zu:Me,wa:!0});Je=null}}(a),"quit"),a.buttons.push(a.Gs),a.Xv=new Hg("OPTIONS",16,a.x-100,a.y-a.m/2+500,100,65,a.J,b,function(a){return function(){Eg(a.$,"fade_out",function(){Je=new $f(a)})}}(a),"options"));
a.Xv.vf=a.vf;a.buttons.push(a.Xv);a.Hl=new Hg("RESUME",24,a.x,a.y-a.m/2+350,150,100,a.J,b,function(a){return function(){Rg(a.zb)}}(a),"resume");a.Hl.keyCode=ua.ij;a.Hl.rA=ua.Bk;a.Hl.Ci="right"==D.Kb?"Q KEY":"ENTER KEY";a.buttons.push(a.Hl);var b=0,c;for(c in a.Rk){for(var d=0,f=0;d<b+1&&d<a.ef;)d+=12;f=d<=a.ef?12:a.ef-(d-12);d=new Zg(c,a.ae,a.x+(a.ae+10)*(b-(d-12)-(f-1)/2),a.y-a.m/2+200+a.ae*(Math.floor(b/12)-(Math.ceil(a.ef/12)-1)/2),a.ae,a.ae,a.i.Nc,function(a,b){return function(){Eg(b.$,"fade_out",
function(){Je=new $g(a,b)})}}(c,a));d.gy=a.J;a.buttons.push(d);b+=1}c=new Hg("",20,a.x+a.u/2-20,a.y-a.m/2+20,30,30,a.J,"white",function(){Zf()},"fullscreen_in_game");a.buttons.push(c);c=new Hg("",20,a.x+a.u/2-50,a.y-a.m/2+20,30,30,a.J,"white",function(){ag()},"mute_in_game");a.buttons.push(c)}
l.Ed=function(a){a.save();a.beginPath();a.textAlign="center";this.i.lc&&0<this.zb.L.Rg&&(a.font="14px Muli",a.fillStyle="red",a.shadowBlur=10,a.shadowColor=a.fillStyle,a.fillText("CONTINUES: "+this.zb.L.Rg,this.x,this.y-this.m/2+70));a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.J;a.fillStyle=this.J;a.fillText("MENU",this.x,this.y-this.m/2+100);a.font="16px Muli";0<this.ef&&a.fillText("DETAILED ENEMY INFO",this.x,this.y-this.m/2+165);a.textAlign="center";for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);
a.restore()};l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};l.we=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].we(a)};$f.prototype=new Ph;l=$f.prototype;l.constructor=$f;
function $f(a){this.ha(800,600);this.zb=a.zb;this.Jn=!1;this.n=a.n;this.Zh=133;var b="white";if(0==this.n||void 0==this.n)b=z.impulse_blue;this.dc=a;this.dc instanceof Og?(this.vf=this.dc.vf,this.color=this.dc.color,this.Nc=this.dc.Nc,this.J=this.dc.J):(this.vf=z["world 0 dark"],this.color=z["world 0"],this.Nc=z["world 0 lite"],this.J=z["world 0 bright"],this.We());this.wi=new Hg("BACK",16,this.x,this.y-this.m/2+560,60,65,this.J,b,function(a){return function(){Eg(a.$,"fade_out",function(){a.dc instanceof
Og?(Qh(a.dc),Je=a.dc,Eg(a.dc.$,"fade_in")):(a.dc instanceof Of&&Eg(a.dc.$,"fade_in"),Je=null)})}}(this),"back");a=this.x;this.dc instanceof Of&&(this.Nm=new Hg("DELETE GAME DATA",20,this.x+150,this.y+120,200,100,this.J,"red",function(a){return function(){Eg(a.$,"fade_out",function(){Je=new Rh(a)})}}(this),"delete"),this.buttons.push(this.Nm),a=this.x-150);this.buttons.push(this.wi);this.yC=new Hg("CHANGE CONTROLS",20,a,this.y+120,200,100,this.J,b,function(a){return function(){Eg(a.$,"fade_out",function(){Je=
new Sh(a)})}}(this),"controls");this.buttons.push(this.yC);this.Fu="";this.vs=new Th("GAME MUSIC",this.x,this.y-this.m/2+this.Zh,300,30,this.J,"white",function(a){var b=cc;D.vm=Math.ceil(100*Math.pow(a,2));b.Ra&&!b.Vi&&b.Qb[b.Ra].kh(D.vm);bg()},Math.pow(D.vm/100,.5));this.vs.Yc=cc.Vi;qh(this.vs,new Wf("option_game_music","white",this.n));this.buttons.push(this.vs);this.Qr=new Th("SOUND EFFECTS",this.x,this.y-this.m/2+this.Zh+30,300,30,this.J,"white",function(a){D.Rr=Math.ceil(100*Math.pow(a,3));bg()},
Math.pow(D.Rr/100,.333));this.Qr.Yc=cc.Vi;qh(this.Qr,new Wf("option_sound_effects","white",this.n));this.buttons.push(this.Qr);this.Yr=new Nh("FULLSCREEN",this.x,this.y-this.m/2+this.Zh+60,300,30,this.J,"white",function(){Zf()},function(){return Yf()});qh(this.Yr,new Wf("option_fullscreen","white",this.n));this.Yr.ny=!1;this.buttons.push(this.Yr);button=new Nh("PARTICLE EFFECTS",this.x,this.y-this.m/2+this.Zh+90,300,30,this.J,"white",function(){D.Ur=!D.Ur},function(){return D.Ur});qh(button,new Wf("option_particle_effects",
"white",this.n));this.buttons.push(button);button=new Nh("SCORE LABELS",this.x,this.y-this.m/2+this.Zh+120,300,30,this.J,"white",function(){D.ic=!D.ic},function(){return D.ic});qh(button,new Wf("option_score_labels","white",this.n));this.buttons.push(button);button=new Nh("MULTIPLIER DISPLAY",this.x,this.y-this.m/2+this.Zh+150,300,30,this.J,"white",function(){D.us=!D.us},function(){return D.us});qh(button,new Wf("option_multiplier_display","white",this.n));this.buttons.push(button);button=new Nh("IMPULSE SHADOW",
this.x,this.y-this.m/2+this.Zh+180,300,30,this.J,"white",function(){D.hs=!D.hs},function(){return D.hs});qh(button,new Wf("option_impulse_shadow","white",this.n));this.buttons.push(button);this.zb instanceof Tf&&this.zb.i.lc&&0<this.n&&"normal"==J&&(button=new Nh("SPEED RUN COUNTDOWN",this.x,this.y-this.m/2+this.Zh+210,300,30,this.J,"white",function(){D.ji=!D.ji},function(){return D.ji}),qh(button,new Wf("option_speed_run","white",this.n)),this.buttons.push(button));Eg(this.$,"fade_in")}
l.We=function(){var a=Xe.getContext("2d");Cb(a,0,O,P,"Hive 0")};
l.Ed=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.J;a.fillStyle=this.J;a.fillText("OPTIONS",this.x,this.y-this.m/2+100);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);for(b=0;b<this.buttons.length;b++)eh(this.buttons[b],a);a.textAlign="center";this.Fu&&(a.font="14px Muli",this.zb instanceof Tf&&this.zb.i.lc?a.fillText(this.Fu,this.x,this.y-this.m/2+this.Zh+180):a.fillText(this.Fu,this.x,this.y-this.m/2+this.Zh+150));a.restore()};
l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};l.we=function(){};l.hf=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].hf(a,b)};l.Kf=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Kf(a,b)};Sh.prototype=new Ph;l=Sh.prototype;l.constructor=Sh;
function Sh(a){this.ha(800,600);this.zb=a.zb;this.Jn=!1;this.dc=a;this.vf=this.dc.vf;this.Nc=this.dc.Nc;this.J=this.dc.J;this.color=this.dc.color;this.n=a.n;a="white";if(0==this.n||void 0==this.n)a=z.impulse_blue;this.wi=new Hg("BACK",16,this.x,this.y-this.m/2+560,60,65,this.J,a,function(a){return function(){Eg(a.$,"fade_out",function(){Je=a.dc;Eg(a.dc.$,"fade_in")})}}(this),"back");this.Ue={};this.Ue["left mouse"]=new Hg("LEFT-HAND MOUSE",16,this.x-200,this.y-this.m/2+135,200,100,this.J,a,function(){return function(){D.Kb=
"left";D.zc="mouse";bg();ya()}}(this),"left_mouse");this.Ue["right keyboard"]=new Hg("KEYBOARD-ONLY",16,this.x,this.y-this.m/2+135,200,100,this.J,a,function(){return function(){D.Kb="right";D.zc="keyboard";bg();ya()}}(this),"keyboard");this.Ue["right mouse"]=new Hg("RIGHT-HAND MOUSE",16,this.x+200,this.y-this.m/2+135,200,100,this.J,a,function(){return function(){D.Kb="right";D.zc="mouse";bg();ya()}}(this),"right_mouse");this.buttons.push(this.Ue["left mouse"]);this.buttons.push(this.Ue["right mouse"]);
this.buttons.push(this.Ue["right keyboard"]);this.Ff=1<=jc();this.buttons.push(this.wi);Uh(this);Eg(this.$,"fade_in")}l.va=function(a,b){this.Er=null;for(var c in this.Ue)this.Ue[c].va(a,b),this.Ue[c].Xh&&(this.Er=c);this.wi.va(a,b);Uh(this)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};function Uh(a){for(var b in a.Ue)a.Ue[b].color=a.J,a.Ue[b].border=!1;a.Er?a.Ue[a.Er].color=a.J:a.Ue[D.Kb+" "+D.zc].color=a.J;a.Ue[D.Kb+" "+D.zc].border=!0}
l.Ed=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowColor=this.J;a.fillStyle=this.J;a.fillText("CONTROLS",this.x,this.y-this.m/2+50);a.font="18px Muli";a.fillText("SELECT SCHEME",this.x,this.y-this.m/2+75);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);b=this.Er;null==b&&("right"==D.Kb&&"mouse"==D.zc&&(b="right mouse"),"left"==D.Kb&&"mouse"==D.zc&&(b="left mouse"),"right"==D.Kb&&"keyboard"==D.zc&&(b="right keyboard"));a.globalAlpha*=.6;"right mouse"==
b&&(Sa(a,this.x-200,this.y-this.m/2+300,50,this.J,["W","A","S","D"]),a.fillText("MOVE",this.x-200,this.y-this.m/2+360),this.Ff?(Wa(a,this.x,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x,this.y-this.m/2+360),Xa(a,this.x+200,this.y-this.m/2+270,75,100,this.J),a.fillText("ULTIMATE",this.x+200,this.y-this.m/2+360)):(Wa(a,this.x+200,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x+200,this.y-this.m/2+360)),Ta(a,this.x,this.y-this.m/2+430,300,40,10,this.J),a.fillText("SPACEBAR",
this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"left mouse"==b&&(this.Ff?(Wa(a,this.x-200,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),Xa(a,this.x,this.y-this.m/2+270,75,100,this.J),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)):(Wa(a,this.x-200,this.y-this.m/2+270,75,100,this.J),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360)),Sa(a,this.x+200,this.y-this.m/2+300,50,this.J),a.fillText("MOVE",this.x+
200,this.y-this.m/2+360),Ta(a,this.x,this.y-this.m/2+430,120,40,10,this.J),a.fillText("SHIFT",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"right keyboard"==b&&(Sa(a,this.x-200,this.y-this.m/2+300,50,this.J,["W","A","S","D"]),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),this.Ff&&(Ta(a,this.x,this.y-this.m/2+280,45,45,10,this.J),a.font="18px Muli",a.fillText("F",this.x,this.y-this.m/2+286),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)),
Sa(a,this.x+200,this.y-this.m/2+300,50,this.J),a.fillText("MOVE",this.x+200,this.y-this.m/2+360),Ta(a,this.x,this.y-this.m/2+430,300,40,10,this.J),a.fillText("SPACEBAR",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));a.restore()};l.we=function(){};$g.prototype=new Ph;l=$g.prototype;l.constructor=$g;
function $g(a,b){this.ha(800,600);this.Jn=!1;b instanceof Ph?(this.zb=b.zb,this.vf=b.vf,this.color=b.color,this.Nc=b.Nc,this.J=b.J,this.n=this.zb.n):b instanceof ug&&(this.vf="black",this.Nc=z["world "+b.n+" lite"],this.J=z["world "+b.n+" bright"],this.color=z["world "+b.n],this.n=b.n);var c="white";if(0==this.n||void 0==this.n)c=z.impulse_blue;this.dc=b;this.Hg=this.zj=a;F[this.zj].Hg&&(this.Hg=F[this.zj].Hg);this.zg=this.Gg=null;this.Cg=F[this.zj].Cg;this.u=600;this.wi=new Hg("BACK",16,this.x,this.y-
this.m/2+560,60,65,this.J,c,function(a){return function(){Eg(a.$,"fade_out",function(){a.dc instanceof Ph?(Je=a.dc,Eg(a.dc.$,"fade_in")):a.dc instanceof ug&&(Je=null,Eg(a.dc.$,"fade_in"))})}}(this),"back");this.buttons.push(this.wi);this.color=z["world "+this.n];this.Hw=500;this.Ie=F[this.zj].Ie;this.Hm=null;this.Qd=this.Ie.length;this.da=0;Eg(this.$,"fade_in")}
l.Ed=function(a){a.save();if(null==this.Hm){var b;b=this.Hw;var c=this.Ie[this.da].toUpperCase().split(" "),d=[],f=c[0],g=0;if(1==c.length)b=c;else{a.font="20px Muli";for(var h=1;h<c.length;h++){var k=c[h],g=a.measureText(f+k).width;g<b&&"#"!=k?f+=" "+k:(d.push(f),f="#"!=k?k:"");if(h===c.length-1){d.push(f);break}}b=d}this.Hm=b}a.beginPath();a.textAlign="center";a.fillStyle=this.J;a.font="16px Muli";a.fillText("ENEMY INFO",this.x,this.y-this.m/2+70);a.font="30px Muli";a.fillText(this.Hg.toUpperCase(),
this.x,this.y-this.m/2+120);a.globalAlpha/=3;Ma(a,this.n,this.x,this.y-this.m/2+215,80);a.globalAlpha*=3;Ka(a,this.zj,this.x,this.y-this.m/2+215,1.5);a.font="12px Muli";a.fillText("BASE POINTS",this.x,this.y-this.m/2+310);a.font="24px Muli";a.fillText(F[this.zj].Rc,this.x,this.y-this.m/2+335);a.font="20px Muli";for(b=0;b<this.Hm.length;b++)c=b-(this.Hm.length-1)/2,a.fillText(this.Hm[b],this.x,this.y-this.m/2+427+25*c);if(1<this.Qd)for(Ua(a,this.x-300,this.y-this.m/2+420,20,"left",this.J,!1),a.font=
"10px Muli",a.fillStyle=this.J,a.fillText("NEXT",this.x+302,this.y-this.m/2+450),a.fillText("PREV",this.x-302,this.y-this.m/2+450),Ua(a,this.x+300,this.y-this.m/2+420,20,"right",this.J,!1),b=0;b<this.Qd;b++)c=(this.Qd-1)/2-b,a.beginPath(),a.shadowBlur=5,a.arc(this.x-25*c,this.y-this.m/2+515,4,0,2*Math.PI,!0),this.da==b?(a.fillStyle=this.J,a.shadowColor=a.fillStyle,a.fill()):(a.save(),a.globalAlpha*=.5,a.fillStyle=this.color,a.shadowColor=a.fillStyle,a.fill(),a.restore());for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].V(a);
a.restore()};l.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};l.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b);a<this.x-this.Hw/2?Vh(this,this.da-1):a>this.x+this.Hw/2&&Vh(this,this.da+1);500<b&&530>b&&(c=Math.round((this.Qd-1)/2-(this.x-a)/25),0<=c&&c<this.Qd&&Vh(this,c))};function Vh(a,b){a.da=b;0>a.da&&(a.da+=a.Qd);a.da>=a.Qd&&(a.da-=a.Qd);a.Hm=null}l.we=function(){};Rh.prototype=new Ph;Rh.prototype.constructor=Rh;
function Rh(a){this.ha(800,600);this.dc=a;this.Jn=!1;this.Nc=a.Nc;this.J=a.J;this.By=!1;this.buttons=[];this.Nm=new Hg("DELETE GAME DATA",20,this.x,this.y+90,200,100,"white","red",function(a){return function(){ph();a.By=!0}}(this),"delete");this.buttons.push(this.Nm);this.wi=new Hg("BACK",16,this.x,this.y-this.m/2+560,60,65,"white","white",function(a){return function(){Eg(a.$,"fade_out",function(){Je=a.dc;a.dc.We();Eg(a.dc.$,"fade_in")})}}(this),"back");this.buttons.push(this.wi);Eg(this.$,"fade_in")}
Rh.prototype.Ed=function(a){if(this.By)a.fillStyle="red",a.textAlign="center",a.font="24px Muli",a.fillText("ALL GAME DATA HAS BEEN DELETED",this.x,210),this.wi.V(a);else{a.fillStyle="red";a.textAlign="center";a.font="24px Muli";a.fillText("ARE YOU SURE",this.x,200);a.font="24px Muli";a.fillText(" YOU WANT TO DELETE ALL YOUR GAME DATA?",this.x,230);a.font="16px Muli";a.fillText("THIS ACTION CANNOT BE UNDONE.",this.x,290);for(var b=0;b<this.buttons.length;b++)this.buttons[b].V(a)}};
Rh.prototype.va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].va(a,b)};Rh.prototype.Ia=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ia(a,b)};function ph(){localStorage.removeItem(Ke);var a=D,b=Qe;mf();D=a;Qe=b;Me=!1;bg()};new Lh;function sg(a,b,c,d){this.ha(a,b,c,d)}
sg.prototype.ha=function(a,b,c,d){this.PE=d?!0:!1;this.Cf=[];if("spark"==a||"multi"==a)c={x:0,y:0};this.Vn=1;d=Math.min(1,10/Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y+.01)));c={x:c.x*d,y:c.y*d};this.xv=1E3;this.color="black";"boss"==a.slice(a.length-4,a.length)?(this.shape=F[a].Gr[0],this.color=F[a].color,this.ek=.5,this.gq=50,this.Cm=10,"boss_two"==a&&(this.Cm=20),this.Vn=5,this.xv=2E3):"player"==a?(this.shape={type:"circle",x:0,y:0,X:mc.prototype.jh},this.color=z.player_color,this.ek=.5,this.gq=12,this.Vn=
this.Cm=2):"harpoon"==a||"harpoonhead"==a?(this.shape=F[a].cc[0],this.color=F[a].color,this.ek=.3,this.gq=4,this.Cm=2):"spark"==a||"multi"==a?(this.gq=6,this.Cm=20,this.ek=1,this.shape=a):(this.shape=F[a].cc[0],this.color=F[a].color,"tanker"==a&&(this.color="red"),this.ek=.3,this.gq=4,this.Cm=2);this.ks=this.xv;this.ly=this.Cm*Math.max(3,Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y)));this.dB=.5;this.Ee={x:b.x,y:b.y};this.vj={x:this.ek*c.x,y:this.ek*c.y};for(a=0;a<this.Vn;a++){d=this.gq/this.Vn;for(var f=
0;f<d;f++)dir=2*Math.PI*f/d+2*(Math.random()-.5)*Math.PI/d,new_v={x:this.ek*c.x+Math.cos(dir)*(a+1)/this.Vn*this.ly,y:this.ek*c.y+Math.sin(dir)*(a+1)/this.Vn*this.ly},this.Cf.push(new Wh(this.shape,E/3,{x:b.x*E,y:b.y*E},{x:new_v.x*E,y:new_v.y*E},this.color))}};sg.prototype.pa=function(a){this.ks-=a;this.Ee.x+=this.vj.x*a/1E3;this.Ee.y+=this.vj.y*a/1E3;this.vj.x-=this.dB*this.vj.x*a/1E3;this.vj.y-=this.dB*this.vj.y*a/1E3;for(var b=0;b<this.Cf.length;b++)this.Cf[b].pa(a)};
sg.prototype.V=function(a){this.PE&&(a.shadowColor=this.color,a.shadowBlur=15);for(var b=0;b<this.Cf.length;b++)this.Cf[b].V(a,this.ks/this.xv);a.shadowBlur=0};function Wh(a,b,c,d,f){this.ha(a,b,c,d,f)}Wh.prototype.ha=function(a,b,c,d,f){this.se=c;this.shape=a;this.size=b;this.uh=d;this.color=f;this.eB=500};Wh.prototype.pa=function(a){this.se.x+=this.uh.x*a/1E3;this.se.y+=this.uh.y*a/1E3;this.uh.x*=Math.pow(.5,a/this.eB);this.uh.y*=Math.pow(.5,a/this.eB)};
Wh.prototype.V=function(a,b){if("spark"==this.shape||"multi"==this.shape){a.save();a.globalAlpha*=b;var c=R({x:0,y:0},this.uh);"spark"==this.shape?G(a,this.se.x/E,this.se.y/E,c,12,12,"spark"):"multi"==this.shape&&G(a,this.se.x/E,this.se.y/E,c,12,12,"multi")}else a.save(),c=R({x:0,y:0},this.uh),Ja(a,this.se.x,this.se.y,this.shape,this.size,this.color,b,c);a.restore()};Hg.prototype=new Lh;Hg.prototype.constructor=Hg;function Hg(a,b,c,d,f,g,h,k,n,q){this.text=a;this.size=b;this.ha(c,d,f,g,n,!1,h);this.cb=k;this.Kl=!1;this.icon=q;this.Hc=!0;this.vf=null;this.Mw=!0;"world"==this.icon.slice(0,5)&&(this.Mw=!1)}
Hg.prototype.Ed=function(a){a.save();if(this.icon){a.save();a.shadowBlur=0;if("player"==this.icon)this.ta?G(a,this.x,this.y-this.m/8,0,40,40,"player_normal"):G(a,this.x,this.y-this.m/8,0,40,40,"player_white");else if("gear"==this.icon)this.ta?Za(a,this.x,this.y-this.m/8,z.impulse_blue,"#080808",!1):Za(a,this.x,this.y-this.m/8,"white","#080808",!1);else if("credit"==this.icon)this.ta?$a(a,this.x,this.y-this.m/8,z.impulse_blue):$a(a,this.x,this.y-this.m/8,"white");else if("tutorial"==this.icon)this.ta?
ab(a,this.x,this.y-this.m/8,z.impulse_blue):ab(a,this.x,this.y-this.m/8,"white");else if("note"==this.icon)this.ta?lb(a,this.x,this.y-this.m/6,z.impulse_blue):lb(a,this.x,this.y-this.m/6,"white");else if("texture"==this.icon)this.ta?jb(a,this.x,this.y-this.m/4,z.impulse_blue):jb(a,this.x,this.y-this.m/4,"white");else if("physics_engine"==this.icon)this.ta?kb(a,this.x,this.y-this.m/6,z.impulse_blue):kb(a,this.x,this.y-this.m/6,"white");else if("audio"==this.icon)this.ta?mb(a,this.x,this.y-this.m/6,
20,z.impulse_blue,!1):mb(a,this.x,this.y-this.m/6,20,"white",!1);else if("back"==this.icon)this.ta?cb(a,this.x,this.y-this.m/8,this.cb):cb(a,this.x,this.y-this.m/8,this.color);else if("start"==this.icon)this.ta?db(a,this.x,this.y-this.m/8,20,this.cb):db(a,this.x,this.y-this.m/8,20,this.color);else if("resume"==this.icon)this.ta?db(a,this.x,this.y-this.m/8,30,this.cb):db(a,this.x,this.y-this.m/8,30,this.color);else if("retry"==this.icon)this.ta?bb(a,this.x,this.y-this.m/8,this.cb):bb(a,this.x,this.y-
this.m/8,this.color);else if("options"==this.icon)this.ta?Za(a,this.x,this.y-this.m/8,this.cb,this.vf):Za(a,this.x,this.y-this.m/8,this.color,this.vf);else if("fb"==this.icon)this.ta?Ya(a,this.x,this.y-this.m/8,this.cb):Ya(a,this.x,this.y-this.m/8,this.color);else if("save"==this.icon)this.ta?fb(a,this.x,this.y-this.m/8,this.cb):fb(a,this.x,this.y-this.m/8,this.color);else if("quest"==this.icon)this.ta?gb(a,this.x,this.y-this.m/8,this.cb):gb(a,this.x,this.y-this.m/8,this.color);else if("quit"==this.icon)this.ta?
ib(a,this.x,this.y-this.m/6,24,this.cb):ib(a,this.x,this.y-this.m/6,24,this.color);else if("delete"==this.icon)this.ta?hb(a,this.x,this.y-this.m/8,36,this.cb):hb(a,this.x,this.y-this.m/8,36,this.color);else if("delete_small"==this.icon)this.ta?hb(a,this.x,this.y-this.m/5,30,this.cb):hb(a,this.x,this.y-this.m/5,30,this.color);else if("close_dialog"==this.icon)this.ta?ib(a,this.x,this.y-this.m/6,36,this.cb):ib(a,this.x,this.y-this.m/6,36,this.color);else if("mute_in_game"==this.icon)mb(a,this.x,this.y,
15,this.ta?this.cb:this.color,D.Tv);else if("pause_in_game"==this.icon){var b=this.x,c=this.y,d=this.ta?this.cb:this.color;a.save();a.clearRect(b-15,c-15,45,45);a.beginPath();a.rect(b-5.625,c-7.5,3.75,15);a.rect(b+1.875,c-7.5,3.75,15);a.fillStyle=d;a.fill();a.font="10px Muli";a.textAlign="center";"left"==D.Kb?a.fillText("ENTER",b+15,c+15):a.fillText("Q",b+15,c+15);a.restore()}else"fullscreen_in_game"==this.icon?(b=this.x,c=this.y,d=this.ta?this.cb:this.color,a.save(),a.beginPath(),a.globalAlpha/=
2,a.rect(b-11.25,c-11.25,22.5,22.5),a.strokeStyle=d,a.fillStyle=d,a.lineWidth=2,a.stroke(),a.globalAlpha*=2,a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b-0,c-7.5),a.lineTo(b-7.5,c-0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b+7.5,c+7.5),a.lineTo(b+0,c+7.5),a.lineTo(b+7.5,c+0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b+7.5,c+7.5),a.stroke(),a.restore()):"easy_mode"==this.icon?Ga(a,"goo",this.x,this.y-this.m/8,30,Math.PI/2,this.ta?"ulted":"white",this.ta?z.impulse_blue:
"white"):"normal_mode"==this.icon?G(a,this.x,this.y-this.m/8,0,40,40,this.ta?"ultimate_icon_blue":"ultimate_icon"):"left_mouse"==this.icon?(Va(a,this.x-.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.ta?this.cb:this.color),Sa(a,this.x+.17*this.u,this.y,.2*this.m,this.ta?this.cb:this.color)):"keyboard"==this.icon?(Sa(a,this.x-.23*this.u,this.y,.2*this.m,this.ta?this.cb:this.color),Sa(a,this.x+.23*this.u,this.y,.2*this.m,this.ta?this.cb:this.color)):"right_mouse"==this.icon?(Sa(a,this.x-.17*this.u,
this.y,.2*this.m,this.ta?this.cb:this.color),Va(a,this.x+.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.ta?this.cb:this.color)):"help_icon"==this.icon?(a.beginPath(),a.arc(this.x,this.y,this.u/2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI,!1),a.strokeStyle=this.ta?this.cb:this.color,a.lineWidth=2,a.fillStyle="black",a.stroke(),a.fill(),a.beginPath(),a.arc(this.x,this.y-this.u/8,this.u/8,-Math.PI,0,!1),a.lineTo(this.x,this.y+this.u/8),a.stroke(),a.beginPath(),a.arc(this.x,this.y+this.u/2-4,1,0,2*
Math.PI),a.fillStyle=this.ta?this.cb:this.color,a.fill()):"controls"==this.icon?(a.shadowBlur=0,"right"==D.Kb&&"mouse"==D.zc&&(Sa(a,this.x-.15*this.u,this.y,.2*this.m,this.ta?this.cb:this.color),Va(a,this.x+.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.ta?this.cb:this.color)),"left"==D.Kb&&"mouse"==D.zc&&(Va(a,this.x-.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.ta?this.cb:this.color),Sa(a,this.x+.15*this.u,this.y,.2*this.m,this.ta?this.cb:this.color)),"right"==D.Kb&&"keyboard"==D.zc&&
(Sa(a,this.x-.2*this.u,this.y,.2*this.m,this.ta?this.cb:this.color),Sa(a,this.x+.2*this.u,this.y,.2*this.m,this.ta?this.cb:this.color))):"world"==this.icon.slice(0,5)?(b=parseInt(this.icon.slice(5)),a.save(),a.globalAlpha=this.ta&&this.Hc?.5*a.globalAlpha:this.Hc?.3*a.globalAlpha:.15*a.globalAlpha,this.Hc?Ma(a,b,this.x,this.y,2*this.size,this.ta):Qa(a,b,this.x,this.y,2*this.size),a.restore(),a.save(),this.Hc||(a.globalAlpha*=.3),a.textAlign="center",a.font="32px Muli",a.fillStyle=this.Hc?this.color:
"gray",a.fillText(this.text,this.x,this.y+10),a.restore()):"practice"==this.icon.slice(0,8)&&(b=parseInt(this.icon.slice(8)),this.Hc?(a.globalAlpha=this.ta?3==b?.6*a.globalAlpha:.7*a.globalAlpha:.3*a.globalAlpha,Ma(a,b,this.x,this.y,1.4*this.size)):(a.globalAlpha*=.3,Qa(a,b,this.x,this.y,1.4*this.size)));a.restore()}a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";this.ta&&this.Mw&&(a.beginPath(),b=a.measureText(this.text).width,a.moveTo(this.x-b/2,this.y+.4*this.m),a.lineTo(this.x+b/
2,this.y+.4*this.m),a.strokeStyle=this.cb?this.cb:this.color,a.lineWidth=2,a.stroke());this.Hc||"practice"!=this.icon.slice(0,8)||(a.globalAlpha*=.4);a.fillStyle=this.ta?this.cb:this.color;this.Kl?(a.shadowBlur=5,a.shadowColor=a.fillStyle):a.shadowBlur=0;"practice"==this.icon.slice(0,8)?a.fillText(this.text,this.x-1,this.y+this.m/6):"world"!=this.icon.slice(0,5)&&a.fillText(this.text,this.x,this.y+this.m/3);this.Ci&&(a.font=this.MC?this.MC:.7*this.size+"px Muli",a.fillText(this.Ci,this.x,this.y+this.m/
3+1*this.size));a.fill();a.restore()};Bg.prototype=new Lh;Bg.prototype.constructor=Bg;function Bg(a,b,c,d,f,g,h,k){this.state=null;this.ma=k;this.P=a;this.oa="BOSS"==this.P.slice(0,4);this.size=b;this.ha(c,d,f,g,function(){T=new Yg(a,k)},!0,h);N[a]?this.state="unlocked":(Mh(this,!1),this.state="unavailable");this.ae=25;this.buffer=5;this.ki=["bronze","silver","gold"]}function Cg(a){a.Fj=400;a.Gj=535;a.Zr=740;a.Yk=70}
Bg.prototype.Ed=function(a){a.beginPath();a.strokeStyle=this.color;a.beginPath();a.textAlign="center";a.font=this.ta?1.25*this.size+"px Muli":this.size+"px Muli";a.fillStyle=this.oa?"red":z["world "+this.ma+" lite"];a.fillText(this.P,this.x,this.y-this.m/2+this.size+10);a.fill();if("unavailable"==this.state)a.beginPath(),a.textAlign="center",a.font=this.size+"px Muli",a.fillStyle="gray",a.fillText("UNAVAILABLE",this.x,this.y),a.fill();else if("locked"==this.state)a.beginPath(),a.textAlign="center",
a.font=this.size+"px Muli",a.fillStyle="gray",a.fillText("LOCKED",this.x,this.y),a.fill();else{0<N[this.P].ra[J].Ea?za(a,this.x,this.y,30,this.ki[N[this.P].ra[J].Ea-1]):Aa(a,this.x,this.y,30);var b=Math.floor((this.u-2*this.buffer)/this.ae),c=0,d;for(d in N[this.P].s)c+=1;var f=0,g=null;this.oa?(g={},g[N[this.P].mb]=null,c=1):g=N[this.P].s;for(d in g){for(var h=g=0;g<f+1&&g<c;)g+=b;h=g<=c?b:c-(g-b);Ga(a,d,this.x+this.ae*(f-(g-b)-(h-1)/2),this.y+.28*this.m+this.ae*(Math.floor(f/b)-(Math.ceil(c/b)-
1)/2),this.ae);f+=1}if(this.ta){a.beginPath();a.rect(this.Fj-this.Zr/2,this.Gj-this.Yk/2,this.Zr,this.Yk);a.lineWidth=2;a.strokeStyle="black";a.fillStyle="white";a.fill();a.stroke();a.beginPath();a.textAlign="left";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText(this.P,this.Fj-this.Zr/2+10,this.Gj-this.Yk/2+this.size);a.fill();a.beginPath();a.textAlign="right";if(!this.oa){for(f=0;3>f;f++)a.fillStyle=z[this.ki[f]],a.fillText(N[this.P].za[J][f],this.Fj+this.Zr/2-10,this.Gj-this.Yk/2+this.size+
f*(this.size+3));a.fill()}a.beginPath();a.textAlign="center";a.fillStyle="black";this.oa?3==N[this.P].ra[J].Ea?a.fillText("BEST TIME: "+Zb(N[this.P].ra[J].Xa),this.Fj,this.Gj-this.Yk/2+this.size):(a.fillStyle=z["boss "+this.ma],a.fillText("UNDEFEATED",this.Fj,this.Gj-this.Yk/2+this.size)):a.fillText("HIGH SCORE: "+N[this.P].ra[J].Mc,this.Fj,this.Gj-this.Yk/2+this.size);for(f=0;3>f;f++)N[this.P].ra[J].Ea>f?za(a,this.Fj-50+50*f,this.Gj+14,20,this.ki[f]):Aa(a,this.Fj-50+50*f,this.Gj+14,20)}}};function Wf(a,b,c,d){b&&this.ha(a,b,c,d)}
Wf.prototype.ha=function(a,b,c){this.type=a;this.color=b;this.y=this.x=0;this.cA=this.visible=!1;this.Ts=!0;"rank_explanation"==this.type?(this.u=360,this.m=105):"rank_explanation_normal"==this.type?(this.u=360,this.m=140):"fullscreen_msg"==this.type?(this.u=230,this.m=40):"mute_msg"==this.type?(this.u=130,this.m=40):"final_boss"==this.type?(this.u=220,this.m=50):"blitz_hive"==this.type.substring(0,10)?(this.u=250,this.m=75):"beat_hive"==this.type.substring(0,9)?(this.u=150,this.m=50):"high_roller"==
this.type?(this.u=250,this.m=75):"untouchable"==this.type?(this.u=200,this.m=75):"combo"==this.type||"pacifist"==this.type||"survivor"==this.type?(this.u=250,this.m=75):"fast_time"==this.type?(this.u=220,this.m=150):"0star"==this.type?(this.u=250,this.m=75):"beat_hard"==this.type?(this.u=180,this.m=75):"option_game_music"==this.type?(this.u=300,this.m=40):"option_sound_effects"==this.type?(this.u=250,this.m=40):"option_fullscreen"==this.type?(this.u=150,this.m=40):"option_particle_effects"==this.type?
(this.u=250,this.m=40):"option_score_labels"==this.type?(this.u=350,this.m=40):"option_multiplier_display"==this.type?(this.u=300,this.m=40):"option_impulse_shadow"==this.type?(this.u=350,this.m=40):"option_speed_run"==this.type?(this.u=500,this.m=40):"tutorial_move"==this.type?(this.u=200,this.m=150):"tutorial_impulse"==this.type?(this.u=180,this.m=150):"tutorial_pause"==this.type?(this.u=220,this.m=40):"tutorial_gateway_move"==this.type?(this.u=220,this.m=80):"tutorial_score_points"==this.type?
(this.u=450,this.m=40):"tutorial_enemy_incr"==this.type?(this.u=420,this.m=40):"tutorial_enter_gateway"==this.type?(this.u=200,this.m=120):"tutorial_void"==this.type?(this.u=300,this.m=40):"tutorial_kill_enemy"==this.type?(this.u=300,this.m=40):"tutorial_incr_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_reset_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_one_up"==this.type?(this.u=250,this.m=40):"tutorial_kill_boss"==this.type?(this.u=250,this.m=40):"lives_and_sparks"==this.type?
(this.u=150,this.m=110,this.Ff=1<=jc(),this.Od=ic(),this.tk=jc(),this.hi=kc()):"god_mode_alert"==this.type?(this.u=250,this.m=40,this.message="ALL LEVELS UNLOCKED",this.cA=!0):"saved_alert"==this.type?(this.u=250,this.m=75,this.Ts=!1):"level_preview_"==this.type.substring(0,14)?(this.u=200,this.m=150):"quest_"==this.type.substring(0,6)?(this.u=420,this.m=90,this.Ts=!1):"enemy_"==this.type.substring(0,6)&&(this.u=420,this.m=90,this.Ts=!1);this.opacity=0;this.n=c};
Wf.prototype.V=function(a){if(this.visible){a.save();this.Ts&&(a.beginPath(),a.strokeStyle=this.color,a.fillStyle="tutorial"==this.type.substring(0,8)?"#111":"black",a.shadowBlur=0,a.lineWidth=2,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.stroke());"option_game_music"==this.type&&(this.dk="BACKGROUND MUSIC VOLUME");"option_sound_effects"==this.type&&(this.dk="SOUND EFFECTS VOLUME");"option_fullscreen"==this.type&&(this.dk="GO FULLSCREEN");"option_particle_effects"==this.type&&
(this.dk="SHOW PARTICLE EFFECTS");"option_score_labels"==this.type&&(this.dk="SHOW SCORE VALUE WHEN ENEMIES DIE");"option_multiplier_display"==this.type&&(this.dk="SHOW MULTIPLIER BELOW PLAYER");"option_impulse_shadow"==this.type&&(this.dk="SHOW AIMING SHADOW FOR IMPULSE");"option_speed_run"==this.type&&(this.dk="SHOW COUNTDOWN FOR BEATING SPEED RUN CHALLENGE");"tutorial_move"==this.type&&("right"==D.Kb&&"mouse"==D.zc&&Sa(a,this.x,this.y,40,"white",["W","A","S","D"]),"right"==D.Kb&&"keyboard"==D.zc&&
Sa(a,this.x,this.y,40,"white"),"left"==D.Kb&&"mouse"==D.zc&&Sa(a,this.x,this.y,40,"white"),this.Nf="MOVE");"tutorial_impulse"==this.type&&("mouse"==D.zc?Wa(a,this.x,this.y-20,56,82,"white"):Sa(a,this.x,this.y,40,"white",["W","A","S","D"]),this.Nf="IMPULSE");"tutorial_pause"==this.type&&("right"==D.Kb?this.Nf="ESC TO PAUSE":"left"==D.Kb&&(this.Nf="ENTER TO PAUSE"));"tutorial_score_points"==this.type&&(this.Nf="GET THE GOAL SCORE TO OPEN THE GATEWAY");"tutorial_incr_multiplier"==this.type&&(this.Nf=
"KILLING ENEMIES INCREASES YOUR MULTIPLIER");"tutorial_reset_multiplier"==this.type&&(this.Nf="TOUCHING ENEMIES RESETS YOUR MULTIPLIER");"tutorial_enemy_incr"==this.type&&(this.Nf="ENEMIES SPAWN FASTER OVER TIME");"tutorial_one_up"==this.type&&(this.Nf="100 SPARKS = 1UP");"tutorial_kill_boss"==this.type&&(this.Nf="PUSH THE BOSS INTO THE VOID");"tutorial_void"==this.type&&(this.Nf="DO NOT TOUCH THE VOID");"tutorial_kill_enemy"==this.type&&(this.Nf="IMPULSE THE ENEMY INTO THE VOID");"tutorial_enter_gateway"==
this.type&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,"right"==D.Kb&&(Ta(a,this.x,this.y-10,160,34,7,"white"),a.fillText("SPACEBAR",this.x,this.y-4)),"left"==D.Kb&&(Ta(a,this.x,this.y-10,80,34,7,"white"),a.fillText("SHIFT",this.x,this.y-4)),this.Nf="ENTER GATEWAY");if("tutorial_gateway_move"==this.type){a.textAlign="center";a.font="16px Muli";a.fillStyle=this.color;a.fillText("MOVE TO THE GATEWAY",this.x,this.y-this.m/2+25);var b=this.x,c=this.y+12;a.save();a.translate(b,c);a.scale(1,
1);a.beginPath();a.moveTo(-8,-12);a.lineTo(8,-12);a.lineTo(8,-2);a.lineTo(16,-2);a.lineTo(0,13);a.lineTo(-16,-2);a.lineTo(-8,-2);a.closePath();a.fillStyle="white";a.fill();a.restore()}if("fullscreen_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("TOGGLE FULLSCREEN (F)",this.x,this.y-this.m/2+25);else if("mute_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("MUTE (M)",this.x,this.y-this.m/2+25);else if("tutorial"==
this.type.substring(0,8))this.Nf&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Nf,this.x,this.y+this.m/2-15));else if("rank_explanation_normal"==this.type){var b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7;Db(a,this.x-this.u/2+h,b-k+d,this.n,"half");Db(a,this.x-this.u/2+h,b-k+d+c,this.n,"basic");Db(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"silver");Db(a,this.x-this.u/2+h,b-k+d+3*c,this.n,"gold");a.textAlign="right";a.font="16px Muli";a.fillStyle="white";
a.fillText("ONE OR MORE CONTINUES",f-g,b+d);a.fillText("NO CONTINUES USED",f-g,b+d+c);a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+2*c);a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+3*c)}else if("rank_explanation"==this.type)b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7,Db(a,this.x-this.u/2+h,b-k+d,this.n,"basic"),Db(a,this.x-this.u/2+h,b-k+d+1*c,this.n,"silver"),Db(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"gold"),a.textAlign="right",a.font="16px Muli",a.fillStyle="white",a.fillText("DEFEAT HIVE",
f-g,b+d),a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+1*c),a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+2*c);else if("option"==this.type.substring(0,6))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.dk,this.x,this.y-this.m/2+25);else if("lives_and_sparks"==this.type){a.textAlign="center";a.font="12px Muli";a.fillStyle="white";a.fillText("STARTING VALUES",this.x,this.y-this.m/2+20);b=this.Od;c=this.hi;d=this.tk;f=this.x;g=this.y+5;h={labels:!0,jF:!0,ct:this.Ff,
dg:!0,Od:!0};k=[];h.Od&&k.push("lives");h.dg&&k.push("sparks");h.ct&&k.push("ult");a.save();for(var n=0;n<k.length;n++){var q=k[n],p=f-(k.length-1)/2*36+36*n;a.font="20px Muli";a.fillStyle="ult"==q?"white":z.impulse_blue;a.shadowBlur=0;a.textAlign="center";h.Kl&&(a.shadowBlur=10,a.shadowColor=a.fillStyle);"lives"==q&&(G(a,p,g,0,26,26,"lives_icon"),a.fillText(b,p,g+32));"sparks"==q&&(G(a,p+1,g+1,0,16,16,"spark"),a.fillText(c,p,g+32));"ult"==q&&(G(a,p,g,0,24,24,"ultimate_icon"),a.fillText(d,p,g+32));
a.font=Math.max(8,20/3)+"px Muli";"lives"==q&&a.fillText("LIVES",p,g-16);"sparks"==q&&(h.jF?(a.fillText("SPARK",p,g-26),a.fillText("VALUE",p,g-16)):a.fillText("SPARKS",p,g-16));"ult"==q&&a.fillText("ULT",p,g-16)}a.restore()}else if(this.cA)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.message,this.x,this.y-this.m/2+25);else if("saved_alert"==this.type)a.globalAlpha*=.5,a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.save(),a.globalAlpha*=.5,fb(a,this.x,
this.y-this.m/2+10,this.color),a.restore(),a.fillText("GAME SAVED",this.x,this.y+this.m/2-33);else if("level_preview_"==this.type.substring(0,14))qb(a,this.type.substring(14),this.x,this.y,z["world "+this.n+" lite"]),a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=6,a.strokeStyle=z["world "+this.n+" lite"],a.stroke();else if("quest_"==this.type.substring(0,6)){a.beginPath();a.fillStyle="black";a.shadowBlur=0;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.fill();
a.beginPath();b=this.x-this.u/2+75;a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(this.x+this.u/2,this.y+this.m/2);a.lineTo(b,this.y+this.m/2);a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(b,this.y-this.m/2);a.strokeStyle="white";a.lineWidth=2;a.stroke();b=50;c=this.type.substring(6);a.textAlign="center";a.font="16px Muli";a.fillStyle="white";a.fillText("NEW ACHIEVEMENT",this.x+b,this.y-this.m/2+30);a.font="12px Muli";d="";if(Fb[c])for(f=0;f<Fb[c].text.length;f++)d+=Fb[c].text[f]+" ";a.fillText(d,
this.x+b,this.y+this.m/2-20);draw_quest_button(a,this.x-this.u/2+40,this.y,60,c)}else if("enemy_"==this.type.substring(0,6))a.beginPath(),a.fillStyle="black",a.shadowBlur=0,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.beginPath(),b=this.x-this.u/2+75,a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.lineTo(b,this.y+this.m/2),a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(b,this.y-this.m/2),a.strokeStyle="white",a.lineWidth=2,a.stroke(),b=
50,d=c=this.type.substring(6),F[c].Hg&&(d=F[c].Hg),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW ENEMY",this.x+b,this.y-this.m/2+20),a.fillStyle=F[c].color,a.font="24px Muli",a.fillText(d.toUpperCase(),this.x+b,this.y-this.m/2+45),a.fillStyle="white",a.font="16px Muli",a.fillText(F[c].cg.toUpperCase(),this.x+b,this.y+this.m/2-15),draw_enemy_button(a,this.x-this.u/2+40,this.y,60,c);else for(a.textAlign="center",a.font="16px Muli",a.fillStyle="white",f=0;f<Fb[this.type].text.length;f++)a.fillText(Fb[this.type].text[f],
this.x,this.y-this.m/2+30+24*f);a.restore()}};function Xf(a,b,c){a.x=b;a.y=c+a.m/2;"option"==a.type.substring(0,6)&&(a.y+=20);"tutorial"==a.type.substring(0,8)&&(a.x=b,a.y=c-a.m/2-50)};kh.prototype=new Lh;kh.prototype.constructor=kh;
function kh(a,b,c,d){this.type=a;this.x=b;this.y=c;this.X=d;this.u=2*d;this.m=2*d;this.fq=document.createElement("canvas");this.fq.width=this.u;this.fq.height=this.m;b=this.fq.getContext("2d");draw_quest_button(b,this.X,this.X,this.X,this.type);b=this.fq;b=b.getContext("2d").getImageData(0,0,b.width,b.height);for(c=0;c<b.height;c++)for(d=0;d<b.width;d++){var f=4*c*b.width+4*d,g=(b.data[f]+b.data[f+1]+b.data[f+2])/3;b.data[f]=g;b.data[f+1]=g;b.data[f+2]=g;b.data[f+3]=b.data[f+3]?255:0}c=document.createElement("canvas");
c.width=b.width;c.height=b.height;c.getContext("2d").putImageData(b,0,0,0,0,b.width,b.height);this.WC=c;this.pA=-1!=Re.indexOf(a);this.Ub=new Wf(this.type,"white",0,this.pA)}
kh.prototype.V=function(a){this.pA?a.drawImage(this.fq,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m):(a.save(),a.globalAlpha*=.4,a.drawImage(this.WC,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m),a.restore());this.Xh&&(a.save(),a.globalAlpha*=.2,a.beginPath(),a.arc(this.x,this.y,this.X,0,2*Math.PI,!1),a.fillStyle="#fff",a.fill(),a.beginPath(),a.restore())};kh.prototype.pa=function(){};rh.prototype=new Lh;rh.prototype.constructor=rh;function rh(a,b,c,d,f,g,h,k){this.size=a;this.ha(b,c,d,f,this.ZD,!1,g);this.cb=h;this.Kl=!1;this.Hc=!0;this.vf=null;this.Qg=new Oh(this.x,this.y-this.m/8,20,20,this.color);this.BF=k;this.Qg.checked="normal"==J}rh.prototype.ZD=function(){J="easy"==J?"normal":"easy";bg();wh(this.BF);this.Qg.checked="normal"==J};
rh.prototype.Ed=function(a){this.Qg.V(a);a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText("HARD MODE",this.x,this.y+this.m/3)};function hh(a,b,c,d,f){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.Hc=!0;this.value=0;this.rk=20}l=hh.prototype;l.V=function(a){a.beginPath();a.strokeStyle=this.color;a.fillStyle=this.color;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.lineWidth=1;a.save();a.globalAlpha*=.75;a.fill();a.restore();a.stroke();a.beginPath();a.rect(this.x-this.u/2+this.u*this.value-this.rk/2,this.y-this.rk/2,this.rk,this.rk);a.fill()};
l.hf=function(a,b){a>this.x-this.u/2-this.rk/2&&a<this.x+this.u/2+this.rk/2&&b>this.y-this.m/2-this.rk/2&&b<this.y+this.m/2+this.rk/2&&(Xh(this,(a-(this.x-this.u/2))/this.u),this.Ir=!0)};function Xh(a,b){a.value=b;0>a.value&&(a.value=0);1<a.value&&(a.value=1)}l.Kf=function(){this.onselect(this.value);this.Ir=!1};l.onselect=function(){};l.va=function(a){this.Ir&&Xh(this,(a-(this.x-this.u/2))/this.u)};
function Oh(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.Hc=!0;this.checked=h?h:!1;this.qF=g}Oh.prototype.V=function(a){a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);this.checked&&(a.moveTo(this.x-this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.moveTo(this.x-this.u/2,this.y+this.m/2),a.lineTo(this.x+this.u/2,this.y-this.m/2));a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
Oh.prototype.Ia=function(a,b){a>this.x-this.u/2&&a<this.x+this.u/2&&b>this.y-this.m/2&&b<this.y+this.m/2&&(this.checked=!this.checked,this.qF(this.checked))};Th.prototype=new Lh;l=Th.prototype;l.constructor=Th;function Th(a,b,c,d,f,g,h,k,n){this.text=a;this.ha(b,c,d+90,f,function(){},!1,g);this.Ae=new hh(this.x+this.u/2-65,this.y,100,5,this.color);this.Ae.value=n;this.Ae.onselect=k;this.fs=h;this.Yc=!1;this.iF="MUTED (M)"}
l.Ed=function(a){a.save();this.Xh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Xh?this.fs:this.color;a.fillText(this.text,this.x-this.u/2+55,this.y+7);this.Yc?(a.textAlign="center",a.fillText(this.iF,this.x+this.u/2-20,this.y+7)):this.Ae.V(a);a.restore()};l.hf=function(a,b){this.Yc||this.Ae.hf(a,b)};l.Kf=function(a,b){this.Yc||this.Ae.Kf(a,b)};l.$D=Lh.prototype.va;l.va=function(a,b){this.$D(a,b);this.Yc||this.Ae.va(a,b)};xg.prototype=new Lh;xg.prototype.constructor=xg;function xg(a,b,c,d,f,g,h,k,n){this.text=a;this.size=b;this.ha(c,d,f,g,n,!1,h);this.cb=k;this.Lw=!1;this.dt=null;this.Ci="";this.Kl=!1;this.shadowColor=this.color;this.Dy=!1}
xg.prototype.Ed=function(a){a.save();a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.ta?this.cb:this.color;this.Kl?(a.shadowBlur=5,a.shadowColor=this.shadowColor):a.shadowBlur=0;a.fillText(this.text,this.x,this.y);a.fill();if(!this.ta&&!this.Lw)if(null!=this.dt&&this.dt<this.text.length){a.globalAlpha*=.5;a.beginPath();var b=a.measureText(this.text.slice(0,this.dt)).width,c=a.measureText(this.text.slice(0,this.dt+1)).width,d=a.measureText(this.text).width;a.moveTo(this.x-
d/2+b,this.y+this.size/4);a.lineTo(this.x-d/2+c,this.y+this.size/4);a.strokeStyle=this.color;a.lineWidth=1;a.stroke();a.globalAlpha/=.5;""!=this.Ci&&(a.globalAlpha*=.5,this.Dy&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.Ci,this.x-d/2+(b+c)/2,this.y+3*this.size/4))}else""!=this.Ci&&(a.globalAlpha*=.5,this.Dy&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.Ci,this.x,this.y+3*this.size/4));a.restore();a.shadowBlur=0};Zg.prototype=new Lh;Zg.prototype.constructor=Zg;function Zg(a,b,c,d,f,g,h,k){this.state=null;this.zj=a;this.size=b;this.ha(c,d,f,g,k,!0,h);this.ae=30}Zg.prototype.Ed=function(a){a.save();a.save();a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.globalAlpha*=this.ta?1:.5;a.fillStyle=this.color;a.fill();a.restore();this.gy&&(a.strokeStyle=this.gy,a.lineWidth=2,a.stroke());Ga(a,this.zj,this.x,this.y,this.ae);a.restore()};function Mg(a){this.Fb=[];this.v=a;this.rv=2E3;"HIVE 0"==a.P.substring(0,6)&&(this.bt=parseInt(a.P.substring(7)));this.v.oa&&1==this.v.n&&"easy"==J&&3>N[this.v.P].ra[J].Ea&&this.Fb.push(new Yh(this.v));if(1==this.bt)this.Fb.push(new Zh(this.v)),this.Fb.push(new $h(this.v)),this.Fb.push(new ai(this.v));else if(2==this.bt)this.Fb.push(new bi(this.v)),this.Fb.push(new $h(this.v)),this.Fb.push(new ai(this.v));else if(3==this.bt)this.Fb.push(new ci(this.v)),this.Fb.push(new di(this.v)),this.Fb.push(new ei(this.v)),
this.Fb.push(new fi(this.v)),this.Fb.push(new $h(this.v)),this.Fb.push(new ai(this.v));else if(4==this.bt)this.Fb.push(new gi(this.v)),this.Fb.push(new hi(this.v)),this.Fb.push(new ii(this.v)),this.Fb.push(new ji(this.v));else for(a=0;a<this.As.length;a++)-1==Qe.indexOf(this.As[a].type)&&this.Fb.push(new this.As[a].ty(this.v))}Mg.prototype.As=[{type:"reset_multiplier",ty:ii},{type:"one_up",ty:ji}];
Mg.prototype.V=function(a){if(0!=this.Fb.length){var b=this.Fb[0];a.save();"fade_in"==b.$.Ic?a.globalAlpha*=Fg(b.$):"fade_out"==b.$.Ic?a.globalAlpha*=1-Fg(b.$):b.rq||(a.globalAlpha=0);a.globalAlpha*=.8;b.Ub&&b.Ub.V(a);b.V(a);a.restore()}};
Mg.prototype.pa=function(a){if(0<this.rv)this.rv-=a;else if(0!=this.Fb.length){ki(this.Fb[0],a);if(!this.Fb[0].Qj())for(a=1;a<this.Fb.length;a++)if(this.Fb[a].zs&&this.Fb[a].Qj()){var b=this.Fb.splice(a,1)[0];this.Fb.unshift(b)}if(this.Fb[0].Tu)for(this.Fb.shift();0<this.Fb.length&&li(this.Fb[0]);)this.Fb.shift()}};function mi(){}l=mi.prototype;l.ha=function(a){this.v=a;this.$=new Dg({fade_in:500,fade_out:500});this.Tu=!1;this.duration=null;this.rq=!1;this.mp=0;this.zs=!1};l.Qj=function(){return!0};
l.V=function(){};function ki(a,b){if(a.Qj()){if(!a.rq)if(li(a))a.Tu=!0;else{if(0<a.mp){a.mp-=b;return}a.rq=!0;Eg(a.$,"fade_in");a.Ub&&(a.Ub.visible=!0)}0<a.duration&&(a.duration-=b);if(a.Ub){var c=a.v.q.body.g.position.x*E,d=a.v.q.body.g.position.y*E;c<a.Ub.u/2+5?c=a.Ub.u/2+5:c>O-a.Ub.u/2-5&&(c=O-a.Ub.u/2-5);d<a.Ub.m+55&&(d+=a.Ub.m+100);Xf(a.Ub,c,d)}a.$.pa(b);a.pa(b);li(a)&&Eg(a.$,"fade_out",function(){a.Tu=!0;a.Wv()})}}l.Wv=function(){};l.In=function(){return!1};
function li(a){return a.In()||null!=a.duration&&0>=a.duration}l.pa=function(){};Zh.prototype=new mi;Zh.prototype.constructor=Zh;function Zh(a){this.ha(a);this.Ub=new Wf("tutorial_move",a.J,a.n)}Zh.prototype.V=function(){};Zh.prototype.pa=function(){};Zh.prototype.In=function(){return this.v.gg.player_moved};bi.prototype=new mi;bi.prototype.constructor=bi;function bi(a){this.ha(a);this.Ub=new Wf("tutorial_void",a.J,a.n);this.duration=3E3}bi.prototype.V=function(){};bi.prototype.pa=function(){};
ci.prototype=new mi;ci.prototype.constructor=ci;function ci(a){this.ha(a);this.Ub=new Wf("tutorial_impulse",a.J,a.n)}ci.prototype.V=function(){};ci.prototype.pa=function(){};ci.prototype.In=function(){return this.v.gg.player_impulsed};di.prototype=new mi;di.prototype.constructor=di;function di(a){this.ha(a);this.Ub=new Wf("tutorial_kill_enemy",a.J,a.n);this.mp=4E3}di.prototype.V=function(){};di.prototype.pa=function(){};di.prototype.In=function(){return this.v.gg.enemy_killed};ei.prototype=new mi;
ei.prototype.constructor=ei;function ei(a){this.ha(a);this.duration=5E3;this.Ub=new Wf("tutorial_score_points",a.J,a.n)}ei.prototype.Qj=function(){return this.v.gg.enemy_killed};ei.prototype.V=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+W/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+W/2,45);a.font="42px Muli";a.fillText(this.v.i.za[this.v.Ea],O+W/2,85)};fi.prototype=new mi;fi.prototype.constructor=fi;
function fi(a){this.ha(a);this.Ub=new Wf("tutorial_score_points",a.J,a.n);this.mp=5E3}fi.prototype.V=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+W/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+W/2,45);a.font="42px Muli";a.fillText(this.v.i.za[this.v.Ea],O+W/2,85)};fi.prototype.In=function(){return this.v.gg.gateway_opened};gi.prototype=new mi;gi.prototype.constructor=gi;
function gi(a){this.ha(a);this.zs=!0;this.duration=5E3;this.Ub=new Wf("tutorial_enemy_incr",a.J,a.n)}gi.prototype.V=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(-W/2-60,Fc/2-20-35,120,70);a.stroke();a.font="16px Muli";a.fillText("LEVEL TIME",-W/2,Fc/2-30);a.font="32px Muli";a.fillText(this.v.H.Sj,-W/2,Fc/2+2)};gi.prototype.pa=function(){};hi.prototype=new mi;hi.prototype.constructor=hi;
function hi(a){this.ha(a);this.duration=3E3;this.Ub=new Wf("tutorial_incr_multiplier",a.J,a.n)}hi.prototype.Qj=function(){return"fresh"==this.v.gg.enemy_killed||this.rq};hi.prototype.V=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(O+W/2-50,Fc/2-50-20,100,100);a.stroke();a.font="72px Muli";a.fillText("x"+this.v.H.zf,O+W/2,Fc/2)};hi.prototype.pa=function(){};ii.prototype=new mi;l=ii.prototype;l.constructor=ii;
function ii(a){this.ha(a);this.duration=3E3;this.zs=!0;this.Ub=new Wf("tutorial_reset_multiplier",a.J,a.n)}l.Qj=function(){return"fresh"==this.v.gg.multiplier_reset||this.rq};l.V=function(){};l.pa=function(){};l.Wv=function(){-1==Qe.indexOf("reset_multiplier")&&(Qe.push("reset_multiplier"),bg())};ji.prototype=new mi;l=ji.prototype;l.constructor=ji;function ji(a){this.ha(a);this.duration=3E3;this.zs=!0;this.Ub=new Wf("tutorial_one_up",a.J,a.n)}l.Qj=function(){return this.v.gg.got_spark};l.V=function(){};
l.pa=function(){};l.Wv=function(){-1==Qe.indexOf("one_up")&&(Qe.push("one_up"),bg())};$h.prototype=new mi;l=$h.prototype;l.constructor=$h;function $h(a){this.ha(a);this.Lc={x:this.v.i.Lc.x*E,y:this.v.i.Lc.y*E};this.Qv=new Wf("tutorial_gateway_move",a.J,a.n);Xf(this.Qv,this.Lc.x,this.Lc.y-30);this.Qv.visible=!0}l.V=function(a){this.Qv.V(a)};l.pa=function(){};l.Qj=function(){return this.v.gg.gateway_opened};l.In=function(){return this.v.gg.moved_to_gateway};ai.prototype=new mi;
ai.prototype.constructor=ai;function ai(a){this.ha(a);this.duration=3E3;this.Ub=new Wf("tutorial_enter_gateway",a.J,a.n)}ai.prototype.V=function(){};ai.prototype.pa=function(){};Yh.prototype=new mi;Yh.prototype.constructor=Yh;function Yh(a){this.ha(a);this.duration=3E3;this.Ub=new Wf("tutorial_kill_boss",a.J,a.n)}Yh.prototype.V=function(){};Yh.prototype.pa=function(){};Ag.prototype=new Lh;Ag.prototype.constructor=Ag;function Ag(a,b,c,d,f,g,h,k){if(a){this.P="WORLD "+a;this.ma=a;this.size=b;this.ha(c,d,f,g,k,!0,h);c=b=0;d=!1;for(f=1;7>=f;f++)N["HIVE "+a+"-"+f].ra[J]&&(d=!0,b+=N["HIVE "+a+"-"+f].ra[J].Ea,c+=3);N["BOSS "+a].ra[J]&&(d=!0,b+=N["BOSS "+a].ra[J].Ea,c+=3);d?(this.Ea=b,this.aA=c,Mh(this,!0),this.state="unlocked"):(Mh(this,!1),this.state="unavailable");for(f=1;7>=f;f++);}}
Ag.prototype.Ed=function(a){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.stroke();a.beginPath();a.textAlign="center";a.fillStyle=z["world "+this.ma+" lite"];a.font=this.ta?1.56*this.size+"px Muli":1.25*this.size+"px Muli";a.fillText(this.P,this.x,this.y-this.m/2+this.size+10);a.fill();if("locked"==this.state)a.beginPath(),a.textAlign="center",a.font=this.size+"px Muli",a.fillStyle="gray",a.fillText("LOCKED",this.x,this.y),a.fill();else if("unavailable"==this.state)a.beginPath(),a.textAlign=
"center",a.font=this.size+"px Muli",a.fillStyle="gray",a.fillText("UNAVAILABLE",this.x,this.y),a.fill();else{a.beginPath();Aa(a,this.x+30,this.y+20,15,z["world "+this.ma]+" lite");a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=z["world "+this.ma+""];a.fillText(this.Ea+"/"+this.aA,this.x-20,this.y+25);a.fill();var b=this.x,c=this.y+.25*this.m-5,d=2*this.u/3,f=this.Ea/this.aA,g=z["world "+this.ma],h=z["world "+this.ma+" lite"];a.save();a.beginPath();a.rect(b-.5*d,c-5,d*f,
10);a.fillStyle=g;a.fill();a.restore();a.beginPath();a.rect(b-.5*d,c-5,d,10);a.strokeStyle=h?h:"black";a.lineWidth=2;a.stroke()}};
var l,m={};
(function(a,b){function c(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});a.Fb=function(a,b){c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.wC=function(a,b){return function(){b.apply(a,arguments)}};a.lB=function(a){a===
b&&(a=0);for(var c=Array(a||0),g=0;g<a;++g)c[g]=0;return c};a.is=function(a,c){return null===a?!1:c instanceof Function&&a instanceof c||a.constructor.rt!=b&&a.constructor.rt[c]?!0:!1};a.vg=function(a){return Math.abs(parseInt(a))}})(m);var aa=Array,ba=m.lB;"undefined"===typeof m&&(m={});"undefined"===typeof m.v&&(m.v={});"undefined"===typeof m.v.Ta&&(m.v.Ta={});"undefined"===typeof m.aa&&(m.aa={});"undefined"===typeof m.aa.Math&&(m.aa.Math={});"undefined"===typeof m.l&&(m.l={});
"undefined"===typeof m.l.ka&&(m.l.ka={});"undefined"===typeof m.l.Ub&&(m.l.Ub={});"undefined"===typeof m.l.L&&(m.l.L={});
(function(){function a(){a.no.apply(this,arguments)}function b(){b.zt.apply(this,arguments)}function c(){c.oo.apply(this,arguments);this.constructor===c&&this.oo.apply(this,arguments)}function d(){d.Bd.apply(this,arguments)}function f(){f.Wl.apply(this,arguments);this.constructor===f&&this.Wl.apply(this,arguments)}function g(){g.br.apply(this,arguments)}function h(){h.yk.apply(this,arguments)}function k(){k.cr.apply(this,arguments)}function n(){n.dr.apply(this,arguments)}function q(){q.er.apply(this,
arguments)}function p(){p.to.apply(this,arguments);this.constructor===p&&this.to.apply(this,arguments)}function u(){u.fr.apply(this,arguments)}function z(){z.Lt.apply(this,arguments)}function t(){t.Mt.apply(this,arguments)}function w(){w.mi.apply(this,arguments);this.constructor===w&&this.mi.apply(this,arguments)}function L(){L.Co.apply(this,arguments);this.constructor===L&&this.Co.apply(this,arguments)}function M(){M.St.apply(this,arguments)}function ca(){ca.Jo.apply(this,arguments);this.constructor===
ca&&this.Jo.apply(this,arguments)}function T(){T.Wt.apply(this,arguments)}function C(){C.Xt.apply(this,arguments)}function V(){V.fm.apply(this,arguments)}function ja(){ja.Ko.apply(this,arguments);this.constructor===ja&&this.Ko.apply(this,arguments)}function W(){W.gr.apply(this,arguments)}function D(){D.Yt.apply(this,arguments)}function Z(){Z.Ke.apply(this,arguments)}function Ca(){Ca.hr.apply(this,arguments)}function pa(){pa.hm.apply(this,arguments);this.constructor===pa&&this.hm.apply(this,arguments)}
function Da(){Da.Ys.apply(this,arguments)}function v(){v.ct.apply(this,arguments)}function r(){r.jj.apply(this,arguments);this.constructor===r&&this.jj.apply(this,arguments)}function y(){y.uo.apply(this,arguments);this.constructor===y&&this.uo.apply(this,arguments)}function A(){A.vo.apply(this,arguments);this.constructor===A&&this.vo.apply(this,arguments)}function G(){G.Do.apply(this,arguments)}function U(){U.oi.apply(this,arguments);this.constructor===U&&this.oi.apply(this,arguments)}function H(){H.Vb.apply(this,
arguments);this.constructor===H&&this.Vb.apply(this,arguments)}function ea(){ea.Ul.apply(this,arguments);this.constructor===ea&&this.Ul.apply(this,arguments)}function B(){B.Lb.apply(this,arguments)}function ua(){ua.ni.apply(this,arguments);this.constructor===ua&&this.ni.apply(this,arguments)}function Rd(){Rd.am.apply(this,arguments);this.constructor===Rd&&this.am.apply(this,arguments)}function ef(){ef.Hf.apply(this,arguments)}function ff(){ff.Lo.apply(this,arguments)}function Sd(){Sd.lj.apply(this,
arguments);this.constructor===Sd&&this.lj.apply(this,arguments)}function Td(){Td.hg.apply(this,arguments);this.constructor===Td&&this.hg.apply(this,arguments)}function kb(){kb.gm.apply(this,arguments);this.constructor===kb&&this.gm.apply(this,arguments)}function Ud(){Ud.ge.apply(this,arguments);this.constructor===Ud&&this.ge.apply(this,arguments)}function Vd(){Vd.Tl.apply(this,arguments);this.constructor===Vd&&this.Tl.apply(this,arguments)}function gf(){gf.ar.apply(this,arguments)}function hf(){hf.Gt.apply(this,
arguments)}function jf(){jf.qo.apply(this,arguments)}function Wd(){Wd.Xl.apply(this,arguments);this.constructor===Wd&&this.Xl.apply(this,arguments)}function Xd(){Xd.Je.apply(this,arguments);this.constructor===Xd&&this.Je.apply(this,arguments)}function kf(){kf.Kt.apply(this,arguments)}function lf(){lf.Ot.apply(this,arguments)}function Yd(){Yd.Yl.apply(this,arguments);this.constructor===Yd&&this.Yl.apply(this,arguments)}function Zd(){Zd.Zl.apply(this,arguments);this.constructor===Zd&&this.Zl.apply(this,
arguments)}function $d(){$d.$l.apply(this,arguments);this.constructor===$d&&this.$l.apply(this,arguments)}function mf(){mf.ir.apply(this,arguments)}function ae(){ae.Le.apply(this,arguments);this.constructor===ae&&this.Le.apply(this,arguments)}function nf(){nf.Bt.apply(this,arguments)}function be(){be.Xa.apply(this,arguments);this.constructor===be&&this.Xa.apply(this,arguments)}function ce(){ce.po.apply(this,arguments);this.constructor===ce&&this.po.apply(this,arguments)}function of(){of.Et.apply(this,
arguments)}function pf(){pf.Ft.apply(this,arguments)}function de(){de.Vl.apply(this,arguments);this.constructor===de&&this.Vl.apply(this,arguments)}function qf(){qf.Ht.apply(this,arguments)}function rf(){rf.It.apply(this,arguments)}function ee(){ee.kj.apply(this,arguments);this.constructor===ee&&this.kj.apply(this,arguments)}function sf(){sf.Nt.apply(this,arguments)}function fe(){fe.Fo.apply(this,arguments);this.constructor===fe&&this.Fo.apply(this,arguments)}function tf(){tf.Tt.apply(this,arguments)}
function uf(){uf.Ut.apply(this,arguments)}function vf(){vf.Vt.apply(this,arguments)}function ge(){ge.zk.apply(this,arguments);this.constructor===ge&&this.zk.apply(this,arguments)}function wf(){wf.At.apply(this,arguments)}function xf(){xf.Ct.apply(this,arguments)}function yf(){yf.Dt.apply(this,arguments)}function zf(){zf.Oc.apply(this,arguments)}function Af(){Af.Jt.apply(this,arguments)}function Bf(){Bf.Pt.apply(this,arguments)}function Cf(){Cf.Zt.apply(this,arguments)}function he(){he.ro.apply(this,
arguments);this.constructor===he&&this.ro.apply(this,arguments)}function ie(){ie.so.apply(this,arguments);this.constructor===ie&&this.so.apply(this,arguments)}function je(){je.wo.apply(this,arguments);this.constructor===je&&this.wo.apply(this,arguments)}function ke(){ke.xo.apply(this,arguments);this.constructor===ke&&this.xo.apply(this,arguments)}function le(){le.yo.apply(this,arguments);this.constructor===le&&this.yo.apply(this,arguments)}function me(){me.zo.apply(this,arguments);this.constructor===
me&&this.zo.apply(this,arguments)}function Df(){Df.Qt.apply(this,arguments)}function ne(){ne.ja.apply(this,arguments);this.constructor===ne&&this.ja.apply(this,arguments)}function oe(){oe.ua.apply(this,arguments);this.constructor===oe&&this.ua.apply(this,arguments)}function Ef(){Ef.Rt.apply(this,arguments)}function pe(){pe.Ao.apply(this,arguments);this.constructor===pe&&this.Ao.apply(this,arguments)}function qe(){qe.Bo.apply(this,arguments);this.constructor===qe&&this.Bo.apply(this,arguments)}function re(){re.Eo.apply(this,
arguments);this.constructor===re&&this.Eo.apply(this,arguments)}function se(){se.bm.apply(this,arguments);this.constructor===se&&this.bm.apply(this,arguments)}function te(){te.Go.apply(this,arguments);this.constructor===te&&this.Go.apply(this,arguments)}function ue(){ue.Ho.apply(this,arguments);this.constructor===ue&&this.Ho.apply(this,arguments)}function ve(){ve.cm.apply(this,arguments);this.constructor===ve&&this.cm.apply(this,arguments)}function we(){we.Io.apply(this,arguments);this.constructor===
we&&this.Io.apply(this,arguments)}function xe(){xe.dm.apply(this,arguments);this.constructor===xe&&this.dm.apply(this,arguments)}function ye(){ye.em.apply(this,arguments);this.constructor===ye&&this.em.apply(this,arguments)}function ze(){ze.Mo.apply(this,arguments);this.constructor===ze&&this.Mo.apply(this,arguments)}function Ae(){Ae.No.apply(this,arguments);this.constructor===Ae&&this.No.apply(this,arguments)}m.v.gB="Box2D.Collision.IBroadPhase";m.v.no=a;m.v.zt=b;m.v.oo=c;m.v.Bd=d;m.v.Wl=f;m.v.br=
g;m.v.yk=h;m.v.cr=k;m.v.dr=n;m.v.er=q;m.v.to=p;m.v.fr=u;m.v.Lt=z;m.v.Mt=t;m.v.mi=w;m.v.Co=L;m.v.St=M;m.v.Jo=ca;m.v.Wt=T;m.v.Xt=C;m.v.fm=V;m.v.Ko=ja;m.v.gr=W;m.v.Yt=D;m.v.Ke=Z;m.v.hr=Ca;m.v.hm=pa;m.v.Ys=Da;m.v.ct=v;m.v.Ta.jj=r;m.v.Ta.uo=y;m.v.Ta.vo=A;m.v.Ta.Do=G;m.v.Ta.oi=U;m.v.Ta.Vb=H;m.aa.FF="Box2D.Common.b2internal";m.aa.Ul=ea;m.aa.Lb=B;m.aa.Math.ni=ua;m.aa.Math.am=Rd;m.aa.Math.Hf=ef;m.aa.Math.Lo=ff;m.aa.Math.lj=Sd;m.aa.Math.hg=Td;m.aa.Math.gm=kb;m.l.ge=Ud;m.l.Tl=Vd;m.l.ar=gf;m.l.Gt=hf;m.l.qo=jf;
m.l.Xl=Wd;m.l.Je=Xd;m.l.Kt=kf;m.l.Ot=lf;m.l.Yl=Yd;m.l.Zl=Zd;m.l.$l=$d;m.l.ir=mf;m.l.Le=ae;m.l.ka.Bt=nf;m.l.ka.Xa=be;m.l.ka.po=ce;m.l.ka.Et=of;m.l.ka.Ft=pf;m.l.ka.Vl=de;m.l.ka.Ht=qf;m.l.ka.It=rf;m.l.ka.kj=ee;m.l.ka.Nt=sf;m.l.ka.Fo=fe;m.l.ka.Tt=tf;m.l.ka.Ut=uf;m.l.ka.Vt=vf;m.l.ka.zk=ge;m.l.Ub.At=wf;m.l.Ub.Ct=xf;m.l.Ub.Dt=yf;m.l.Ub.Oc=zf;m.l.Ub.Jt=Af;m.l.Ub.Pt=Bf;m.l.Ub.Zt=Cf;m.l.L.ro=he;m.l.L.so=ie;m.l.L.wo=je;m.l.L.xo=ke;m.l.L.yo=le;m.l.L.zo=me;m.l.L.Qt=Df;m.l.L.ja=ne;m.l.L.ua=oe;m.l.L.Rt=Ef;m.l.L.Ao=
pe;m.l.L.Bo=qe;m.l.L.Eo=re;m.l.L.bm=se;m.l.L.Go=te;m.l.L.Ho=ue;m.l.L.cm=ve;m.l.L.Io=we;m.l.L.dm=xe;m.l.L.em=ye;m.l.L.Mo=ze;m.l.L.No=Ae})();m.Cc=[];
(function(){var a=m.v.Ta.jj,b=m.v.Ta.oi,c=m.v.Ta.Vb,d=m.aa.Lb,f=m.aa.Math.Hf,g=m.aa.Math.Lo,h=m.aa.Math.lj,k=m.aa.Math.hg,n=m.v.no,q=m.v.zt,p=m.v.oo,u=m.v.Bd,z=m.v.Wl,t=m.v.br,w=m.v.yk,L=m.v.cr,M=m.v.dr,ca=m.v.er,T=m.v.to,C=m.v.fr,V=m.v.Lt,ja=m.v.Mt,W=m.v.mi,D=m.v.Co,Z=m.v.St,Ca=m.v.Jo,pa=m.v.Wt,Da=m.v.Xt,v=m.v.fm,r=m.v.Ko,y=m.v.gr,A=m.v.Yt,G=m.v.Ke,U=m.v.hr,H=m.v.hm,ea=m.v.Ys,B=m.v.ct,ua=m.v.gB;n.no=function(){this.lowerBound=new k;this.upperBound=new k};n.prototype.Ql=function(){var a=this.upperBound.y-
this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=a&&this.lowerBound.Ql()&&this.upperBound.Ql()};n.prototype.cB=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};n.prototype.Zs=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};n.prototype.dj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;
return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};n.Ml=function(a,b){var c=new n;c.Ml(a,b);return c};n.prototype.Ml=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};q.zt=function(){};q.prototype.tB=function(a){var b=this.value,c=this.Oi,d=this.ew;this.value=
a.value;this.Oi=a.Oi;this.ew=a.ew;a.value=b;a.Oi=c;a.ew=d};p.oo=function(){};p.prototype.oo=function(){this.sz=new ba;this.sz[0]=0;this.sz[1]=0;this.IA=new ba;this.IA[0]=0;this.IA[1]=0};u.Bd=function(){};u.Hw=function(a,b,c,d){void 0===d&&(d=0);var f,v=0;f=b[0];var y=f.ac;f=b[1];var r=f.ac,g=c.x*y.x+c.y*y.y-d;f=c.x*r.x+c.y*r.y-d;0>=g&&a[v++].Q(b[0]);0>=f&&a[v++].Q(b[1]);0>g*f&&(c=g/(g-f),f=a[v],f=f.ac,f.x=y.x+c*(r.x-y.x),f.y=y.y+c*(r.y-y.y),f=a[v],f.id=(0<g?b[0]:b[1]).id,++v);return v};u.Cq=function(a,
b,c,d,f){void 0===c&&(c=0);parseInt(a.Jb);var v=a.$;a=a.qc;var y=parseInt(d.Jb),r=d.$,g,A;g=b.G;A=a[c];a=g.j.x*A.x+g.k.x*A.y;d=g.j.y*A.x+g.k.y*A.y;g=f.G;var k=g.j.x*a+g.j.y*d;g=g.k.x*a+g.k.y*d;for(var G=0,h=Number.MAX_VALUE,H=0;H<y;++H)A=r[H],A=A.x*k+A.y*g,A<h&&(h=A,G=H);A=v[c];g=b.G;c=b.position.x+(g.j.x*A.x+g.k.x*A.y);b=b.position.y+(g.j.y*A.x+g.k.y*A.y);A=r[G];g=f.G;v=f.position.x+(g.j.x*A.x+g.k.x*A.y);f=f.position.y+(g.j.y*A.x+g.k.y*A.y);return(v-c)*a+(f-b)*d};u.Ow=function(a,b,c,d,f){var v=parseInt(b.Jb),
y=b.qc,r,g;g=f.G;r=d.Ei;var A=f.position.x+(g.j.x*r.x+g.k.x*r.y),k=f.position.y+(g.j.y*r.x+g.k.y*r.y);g=c.G;r=b.Ei;A-=c.position.x+(g.j.x*r.x+g.k.x*r.y);k-=c.position.y+(g.j.y*r.x+g.k.y*r.y);g=A*c.G.j.x+k*c.G.j.y;for(var k=A*c.G.k.x+k*c.G.k.y,A=0,G=-Number.MAX_VALUE,H=0;H<v;++H)r=y[H],r=r.x*g+r.y*k,r>G&&(G=r,A=H);y=u.Cq(b,c,A,d,f);r=parseInt(0<=A-1?A-1:v-1);g=u.Cq(b,c,r,d,f);var k=parseInt(A+1<v?A+1:0),G=u.Cq(b,c,k,d,f),h=0,U=0;if(g>y&&g>G)U=-1,H=r,h=g;else if(G>y)U=1,H=k,h=G;else return a[0]=A,y;
for(;;)if(A=-1==U?0<=H-1?H-1:v-1:H+1<v?H+1:0,y=u.Cq(b,c,A,d,f),y>h)H=A,h=y;else break;a[0]=H;return h};u.bB=function(a,b,c,d,f,v){void 0===d&&(d=0);parseInt(b.Jb);var y=b.qc,r=parseInt(f.Jb);b=f.$;f=f.qc;var g;g=c.G;c=y[d];var y=g.j.x*c.x+g.k.x*c.y,A=g.j.y*c.x+g.k.y*c.y;g=v.G;c=g.j.x*y+g.j.y*A;A=g.k.x*y+g.k.y*A;y=c;g=0;for(var k=Number.MAX_VALUE,G=0;G<r;++G)c=f[G],c=y*c.x+A*c.y,c<k&&(k=c,g=G);f=parseInt(g);y=parseInt(f+1<r?f+1:0);r=a[0];c=b[f];g=v.G;r.ac.x=v.position.x+(g.j.x*c.x+g.k.x*c.y);r.ac.y=
v.position.y+(g.j.y*c.x+g.k.y*c.y);r.id.kg.PD=d;r.id.kg.FC=f;r.id.kg.GC=0;r=a[1];c=b[y];g=v.G;r.ac.x=v.position.x+(g.j.x*c.x+g.k.x*c.y);r.ac.y=v.position.y+(g.j.y*c.x+g.k.y*c.y);r.id.kg.PD=d;r.id.kg.FC=y;r.id.kg.GC=1};u.lt=function(){var a=new aa(2);a[0]=new ea;a[1]=new ea;return a};u.WA=function(a,b,c,f,v){var r;a.Kc=0;var y=b.Da+f.Da;u.Sv[0]=0;var g=u.Ow(u.Sv,b,c,f,v);r=u.Sv[0];if(!(g>y)){var A;u.Tv[0]=0;var k=u.Ow(u.Tv,f,v,b,c);A=u.Tv[0];if(!(k>y)){var G=0,H=0;k>.98*g+.001?(g=f,f=b,b=v,G=A,a.ib=
W.Jk,H=1):(g=b,b=c,c=v,G=r,a.ib=W.Og,H=0);r=u.UD;u.bB(r,g,b,G,f,c);A=parseInt(g.Jb);v=g.$;var g=v[G],h;h=G+1<A?v[parseInt(G+1)]:v[0];G=u.WD;G.Q(h.x-g.x,h.y-g.y);G.ab();v=u.VD;v.x=G.y;v.y=-G.x;f=u.YD;f.Q(.5*(g.x+h.x),.5*(g.y+h.y));k=u.dE;A=b.G;k.x=A.j.x*G.x+A.k.x*G.y;k.y=A.j.y*G.x+A.k.y*G.y;var U=u.eE;U.x=-k.x;U.y=-k.y;G=u.XD;G.x=k.y;G.y=-k.x;var n=u.hE,ea=u.iE;n.x=b.position.x+(A.j.x*g.x+A.k.x*g.y);n.y=b.position.y+(A.j.y*g.x+A.k.y*g.y);ea.x=b.position.x+(A.j.x*h.x+A.k.x*h.y);ea.y=b.position.y+(A.j.y*
h.x+A.k.y*h.y);b=G.x*n.x+G.y*n.y;A=k.x*ea.x+k.y*ea.y+y;h=u.SD;g=u.TD;ea=u.Hw(h,r,U,-k.x*n.x-k.y*n.y+y);if(!(2>ea||(ea=u.Hw(g,h,k,A),2>ea))){a.Kd.N(v);a.eb.N(f);for(f=v=0;f<d.kf;++f)r=g[f],G.x*r.ac.x+G.y*r.ac.y-b<=y&&(k=a.fb[v],A=c.G,U=r.ac.x-c.position.x,n=r.ac.y-c.position.y,k.eb.x=U*A.j.x+n*A.j.y,k.eb.y=U*A.k.x+n*A.k.y,k.Hi.Q(r.id),k.Hi.kg.TF=H,++v);a.Kc=v}}}};u.UA=function(a,b,c,d,f){a.Kc=0;var v,g;v=c.G;g=b.qd;var r=c.position.x+(v.j.x*g.x+v.k.x*g.y);c=c.position.y+(v.j.y*g.x+v.k.y*g.y);v=f.G;
g=d.qd;r=f.position.x+(v.j.x*g.x+v.k.x*g.y)-r;f=f.position.y+(v.j.y*g.x+v.k.y*g.y)-c;v=b.Da+d.Da;r*r+f*f>v*v||(a.ib=W.uu,a.eb.N(b.qd),a.Kd.La(),a.Kc=1,a.fb[0].eb.N(d.qd),a.fb[0].Hi.key=0)};u.VA=function(a,b,c,d,f){var v=a.Kc=0,g=0,r,y;y=f.G;r=d.qd;var A=f.position.y+(y.j.y*r.x+y.k.y*r.y),v=f.position.x+(y.j.x*r.x+y.k.x*r.y)-c.position.x,g=A-c.position.y;y=c.G;c=v*y.j.x+g*y.j.y;y=v*y.k.x+g*y.k.y;var k=0,A=-Number.MAX_VALUE;f=b.Da+d.Da;var G=parseInt(b.Jb),h=b.$;b=b.qc;for(var H=0;H<G;++H){r=h[H];v=
c-r.x;g=y-r.y;r=b[H];v=r.x*v+r.y*g;if(v>f)return;v>A&&(A=v,k=H)}v=parseInt(k);g=parseInt(v+1<G?v+1:0);r=h[v];h=h[g];if(A<Number.MIN_VALUE)a.Kc=1,a.ib=W.Og,a.Kd.N(b[k]),a.eb.x=.5*(r.x+h.x),a.eb.y=.5*(r.y+h.y);else if(A=(c-h.x)*(r.x-h.x)+(y-h.y)*(r.y-h.y),0>=(c-r.x)*(h.x-r.x)+(y-r.y)*(h.y-r.y)){if((c-r.x)*(c-r.x)+(y-r.y)*(y-r.y)>f*f)return;a.Kc=1;a.ib=W.Og;a.Kd.x=c-r.x;a.Kd.y=y-r.y;a.Kd.ab();a.eb.N(r)}else if(0>=A){if((c-h.x)*(c-h.x)+(y-h.y)*(y-h.y)>f*f)return;a.Kc=1;a.ib=W.Og;a.Kd.x=c-h.x;a.Kd.y=y-
h.y;a.Kd.ab();a.eb.N(h)}else{k=.5*(r.x+h.x);r=.5*(r.y+h.y);A=(c-k)*b[v].x+(y-r)*b[v].y;if(A>f)return;a.Kc=1;a.ib=W.Og;a.Kd.x=b[v].x;a.Kd.y=b[v].y;a.Kd.ab();a.eb.Q(k,r)}a.fb[0].eb.N(d.qd);a.fb[0].Hi.key=0};u.dj=function(a,b){var c=b.lowerBound,d=a.upperBound,f=c.x-d.x,v=c.y-d.y,c=a.lowerBound,d=b.upperBound,r=c.y-d.y;return 0<f||0<v||0<c.x-d.x||0<r?!1:!0};m.Cc.push(function(){m.v.Bd.UD=u.lt();m.v.Bd.SD=u.lt();m.v.Bd.TD=u.lt();m.v.Bd.Sv=new ba(1);m.v.Bd.Tv=new ba(1);m.v.Bd.WD=new k;m.v.Bd.VD=new k;
m.v.Bd.YD=new k;m.v.Bd.XD=new k;m.v.Bd.dE=new k;m.v.Bd.eE=new k;m.v.Bd.hE=new k;m.v.Bd.iE=new k;m.v.Bd.zF=new k;m.v.Bd.DF=255});z.Wl=function(){this.kg=new B};z.prototype.Wl=function(){this.kg.ej=this};z.prototype.Q=function(a){this.key=a.ff};z.prototype.Cb=function(){var a=new z;a.key=this.key;return a};Object.defineProperty(z.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.ff}});Object.defineProperty(z.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===
a&&(a=0);this.ff=a;this.kg.vt=this.ff&255;this.kg.tt=(this.ff&65280)>>8&255;this.kg.ut=(this.ff&16711680)>>16&255;this.kg.st=(this.ff&4278190080)>>24&255}});t.br=function(){this.position=new k;this.oh=new k;this.Sf=new k;this.id=new z};w.yk=function(){};w.$s=function(a,b,c){++w.BF;var v=c.Vh,r=c.Wh,g=c.yA,y=c.zA,A=w.bE;A.mB(b,v,g,r,y);var G=A.$,h=w.$D,H=w.aE,U=0;A.Rw();for(var n=0,ea,B=0;20>B;){U=A.Ob;for(n=0;n<U;n++)h[n]=G[n].od,H[n]=G[n].pd;switch(A.Ob){case 1:break;case 2:A.rB();break;case 3:A.sB();
break;default:d.hc(!1)}if(3==A.Ob)break;A.Rw();n=A.eB();if(n.Mq()<Number.MIN_VALUE*Number.MIN_VALUE)break;ea=G[A.Ob];ea.od=v.it(f.$i(g.G,n.Zi()));ea.ae=f.Zc(g,v.Qd(ea.od));ea.pd=r.it(f.$i(y.G,n));ea.Dg=f.Zc(y,r.Qd(ea.pd));ea.u=f.sc(ea.Dg,ea.ae);++B;++w.CF;for(var p=!1,n=0;n<U;n++)if(ea.od==h[n]&&ea.pd==H[n]){p=!0;break}if(p)break;++A.Ob}w.NB=f.de(w.NB,B);A.fB(a.Zg,a.$g);a.Fk=f.sc(a.Zg,a.$g).cg();a.WF=B;A.yB(b);c.JA&&(b=v.Da,r=r.Da,a.Fk>b+r&&a.Fk>Number.MIN_VALUE?(a.Fk-=b+r,c=f.sc(a.$g,a.Zg),c.ab(),
a.Zg.x+=b*c.x,a.Zg.y+=b*c.y,a.$g.x-=r*c.x,a.$g.y-=r*c.y):(ea=new k,ea.x=.5*(a.Zg.x+a.$g.x),ea.y=.5*(a.Zg.y+a.$g.y),a.Zg.x=a.$g.x=ea.x,a.Zg.y=a.$g.y=ea.y,a.Fk=0))};m.Cc.push(function(){m.v.yk.bE=new r;m.v.yk.$D=new ba(3);m.v.yk.aE=new ba(3)});L.cr=function(){};M.dr=function(){this.Zg=new k;this.$g=new k};ca.er=function(){};ca.prototype.Q=function(f){switch(f.Db()){case c.Ik:f=f instanceof a?f:null;this.$=new aa(1,!0);this.$[0]=f.qd;this.Ob=1;this.Da=f.Da;break;case c.qj:f=f instanceof b?f:null;this.$=
f.$;this.Ob=f.Jb;this.Da=f.Da;break;default:d.hc(!1)}};ca.prototype.it=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Ob;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return b};ca.prototype.Wn=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Ob;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return this.$[b]};ca.prototype.Qd=function(a){void 0===a&&(a=0);d.hc(0<=a&&a<this.Ob);return this.$[a]};T.to=function(){};T.prototype.to=function(){this.Cp=
this.Ph=null};T.prototype.Rn=function(a,b){var c=this.Fw(),f=d.jr,v=d.jr;c.xb.lowerBound.x=a.lowerBound.x-f;c.xb.lowerBound.y=a.lowerBound.y-v;c.xb.upperBound.x=a.upperBound.x+f;c.xb.upperBound.y=a.upperBound.y+v;c.lk=b;this.Zw(c);return c};T.prototype.Sn=function(a){this.gx(a);this.et(a)};T.prototype.mt=function(a,b,c){d.hc(a.Iq());if(a.xb.Zs(b))return!1;this.gx(a);var f=d.jr+d.Fx*(0<c.x?c.x:-c.x);c=d.jr+d.Fx*(0<c.y?c.y:-c.y);a.xb.lowerBound.x=b.lowerBound.x-f;a.xb.lowerBound.y=b.lowerBound.y-c;
a.xb.upperBound.x=b.upperBound.x+f;a.xb.upperBound.y=b.upperBound.y+c;this.Zw(a);return!0};T.prototype.Un=function(a){return a.xb};T.prototype.Ff=function(a){return a.lk};T.prototype.ot=function(a,b){if(null!=this.Ph){var c=new aa,d=0;for(c[d++]=this.Ph;0<d;){var f=c[--d];if(f.xb.dj(b))if(f.Iq()){if(!a(f))break}else c[d++]=f.Kf,c[d++]=f.qi}}};T.prototype.Fw=function(){if(this.Cp){var a=this.Cp;this.Cp=a.parent;a.parent=null;a.Kf=null;a.qi=null;return a}return new V};T.prototype.et=function(a){a.parent=
this.Cp;this.Cp=a};T.prototype.Zw=function(a){if(null==this.Ph)this.Ph=a,this.Ph.parent=null;else{var b=a.xb.cB(),c=this.Ph;if(0==c.Iq()){do var d=c.Kf,c=c.qi,c=Math.abs((d.xb.lowerBound.x+d.xb.upperBound.x)/2-b.x)+Math.abs((d.xb.lowerBound.y+d.xb.upperBound.y)/2-b.y)<Math.abs((c.xb.lowerBound.x+c.xb.upperBound.x)/2-b.x)+Math.abs((c.xb.lowerBound.y+c.xb.upperBound.y)/2-b.y)?d:c;while(0==c.Iq())}b=c.parent;d=this.Fw();d.parent=b;d.lk=null;d.xb.Ml(a.xb,c.xb);if(b){c.parent.Kf==c?b.Kf=d:b.qi=d;d.Kf=
c;d.qi=a;c.parent=d;a.parent=d;do{if(b.xb.Zs(d.xb))break;b.xb.Ml(b.Kf.xb,b.qi.xb);d=b;b=b.parent}while(b)}else d.Kf=c,d.qi=a,c.parent=d,this.Ph=a.parent=d}};T.prototype.gx=function(a){if(a==this.Ph)this.Ph=null;else{var b=a.parent,c=b.parent;a=b.Kf==a?b.qi:b.Kf;if(c)for(c.Kf==b?c.Kf=a:c.qi=a,a.parent=c,this.et(b);c;){b=c.xb;c.xb=n.Ml(c.Kf.xb,c.qi.xb);if(b.Zs(c.xb))break;c=c.parent}else this.Ph=a,a.parent=null,this.et(b)}};C.fr=function(){this.sg=new T;this.cl=new aa;this.Jp=new aa;this.el=0};C.prototype.Rn=
function(a,b){var c=this.sg.Rn(a,b);this.Gw(c);return c};C.prototype.Sn=function(a){this.wB(a);this.sg.Sn(a)};C.prototype.mt=function(a,b,c){this.sg.mt(a,b,c)&&this.Gw(a)};C.prototype.dj=function(a,b){return this.sg.Un(a).dj(this.sg.Un(b))};C.prototype.Ff=function(a){return this.sg.Ff(a)};C.prototype.Un=function(a){return this.sg.Un(a)};C.prototype.xB=function(a){for(var b=this,c=b.el=0,d,c=0;c<b.cl.length;++c){d=b.cl[c];var f=b.sg.Un(d);b.sg.ot(function(a){if(a==d)return!0;b.el==b.Jp.length&&(b.Jp[b.el]=
new ja);var c=b.Jp[b.el];c.Vh=a<d?a:d;c.Wh=a>=d?a:d;++b.el;return!0},f)}for(c=b.cl.length=0;c<b.el;){var f=b.Jp[c],v=b.sg.Ff(f.Vh);a(v,b.sg.Ff(f.Wh));for(++c;c<b.el;){v=b.Jp[c];if(v.Vh!=f.Vh||v.Wh!=f.Wh)break;++c}}};C.prototype.ot=function(a,b){this.sg.ot(a,b)};C.prototype.Gw=function(a){this.cl[this.cl.length]=a};C.prototype.wB=function(a){this.cl.splice(parseInt(this.cl.indexOf(a)),1)};C.rt={};C.rt[ua]=!0;V.Lt=function(){this.xb=new n};V.prototype.Iq=function(){return null==this.Kf};ja.Mt=function(){};
W.mi=function(){this.Kc=0};W.prototype.mi=function(){this.fb=new aa(d.kf);for(var a=0;a<d.kf;a++)this.fb[a]=new D;this.Kd=new k;this.eb=new k};W.prototype.ee=function(){for(var a=0;a<d.kf;a++)(this.fb[a]instanceof D?this.fb[a]:null).ee();this.Kd.La();this.eb.La();this.Kc=this.ib=0};W.prototype.Q=function(a){this.Kc=a.Kc;for(var b=0;b<d.kf;b++)(this.fb[b]instanceof D?this.fb[b]:null).Q(a.fb[b]);this.Kd.N(a.Kd);this.eb.N(a.eb);this.ib=a.ib};W.prototype.Cb=function(){var a=new W;a.Q(this);return a};
m.Cc.push(function(){m.v.mi.uu=1;m.v.mi.Og=2;m.v.mi.Jk=4});D.Co=function(){this.eb=new k;this.Hi=new z};D.prototype.Co=function(){this.ee()};D.prototype.ee=function(){this.eb.La();this.jl=this.dl=0;this.Hi.key=0};D.prototype.Q=function(a){this.eb.N(a.eb);this.dl=a.dl;this.jl=a.jl;this.Hi.Q(a.Hi)};Z.St=function(){new k};Ca.Jo=function(){this.ln=new k;this.mn=new k};Ca.prototype.Jo=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&this.ln.N(a);b&&this.mn.N(b)};pa.Wt=function(){this.Sf=new k};
Da.Xt=function(){this.ln=new k;this.mn=new k};v.fm=function(){this.eb=new k;this.ea=new k};v.prototype.kd=function(a,b,c,r,g){this.Pj=b;this.Qj=r;var y=parseInt(a.count);d.hc(0<y&&3>y);var A,G,h,H,U=0,n=0;1==y?(this.ib=v.vy,A=this.Pj.Qd(a.od[0]),G=this.Qj.Qd(a.pd[0]),y=A,a=c.G,b=c.position.x+(a.j.x*y.x+a.k.x*y.y),r=c.position.y+(a.j.y*y.x+a.k.y*y.y),y=G,a=g.G,h=g.position.x+(a.j.x*y.x+a.k.x*y.y),H=g.position.y+(a.j.y*y.x+a.k.y*y.y),this.ea.x=h-b,this.ea.y=H-r,this.ea.ab()):(a.pd[0]==a.pd[1]?(this.ib=
v.Og,b=this.Pj.Qd(a.od[0]),r=this.Pj.Qd(a.od[1]),G=this.Qj.Qd(a.pd[0]),this.eb.x=.5*(b.x+r.x),this.eb.y=.5*(b.y+r.y),this.ea=f.Yi(f.sc(r,b),1),this.ea.ab(),y=this.ea,a=c.G,U=a.j.x*y.x+a.k.x*y.y,n=a.j.y*y.x+a.k.y*y.y,y=this.eb,a=c.G,b=c.position.x+(a.j.x*y.x+a.k.x*y.y),r=c.position.y+(a.j.y*y.x+a.k.y*y.y),y=G,a=g.G,h=g.position.x+(a.j.x*y.x+a.k.x*y.y),H=g.position.y+(a.j.y*y.x+a.k.y*y.y),U=(h-b)*U+(H-r)*n):a.od[0]==a.od[0]?(this.ib=v.Jk,h=this.Qj.Qd(a.pd[0]),H=this.Qj.Qd(a.pd[1]),A=this.Pj.Qd(a.od[0]),
this.eb.x=.5*(h.x+H.x),this.eb.y=.5*(h.y+H.y),this.ea=f.Yi(f.sc(H,h),1),this.ea.ab(),y=this.ea,a=g.G,U=a.j.x*y.x+a.k.x*y.y,n=a.j.y*y.x+a.k.y*y.y,y=this.eb,a=g.G,h=g.position.x+(a.j.x*y.x+a.k.x*y.y),H=g.position.y+(a.j.y*y.x+a.k.y*y.y),y=A,a=c.G,b=c.position.x+(a.j.x*y.x+a.k.x*y.y),r=c.position.y+(a.j.y*y.x+a.k.y*y.y),U=(b-h)*U+(r-H)*n):(b=this.Pj.Qd(a.od[0]),r=this.Pj.Qd(a.od[1]),h=this.Qj.Qd(a.pd[0]),H=this.Qj.Qd(a.pd[1]),f.Zc(c,A),A=f.zd(c.G,f.sc(r,b)),f.Zc(g,G),U=f.zd(g.G,f.sc(H,h)),g=A.x*A.x+
A.y*A.y,G=U.x*U.x+U.y*U.y,a=f.sc(U,A),c=A.x*a.x+A.y*a.y,a=U.x*a.x+U.y*a.y,A=A.x*U.x+A.y*U.y,n=g*G-A*A,U=0,0!=n&&(U=f.Bb((A*a-c*G)/n,0,1)),0>(A*U+a)/G&&(U=f.Bb((A-c)/g,0,1)),A=new k,A.x=b.x+U*(r.x-b.x),A.y=b.y+U*(r.y-b.y),G=new k,G.x=h.x+U*(H.x-h.x),G.y=h.y+U*(H.y-h.y),0==U||1==U?(this.ib=v.Jk,this.ea=f.Yi(f.sc(H,h),1),this.ea.ab(),this.eb=G):(this.ib=v.Og,this.ea=f.Yi(f.sc(r,b),1),this.eb=A)),0>U&&this.ea.cx())};v.prototype.Gg=function(a,b){var c,r,y=0;switch(this.ib){case v.vy:return c=f.$i(a.G,
this.ea),r=f.$i(b.G,this.ea.Zi()),c=this.Pj.Wn(c),r=this.Qj.Wn(r),c=f.Zc(a,c),r=f.Zc(b,r),(r.x-c.x)*this.ea.x+(r.y-c.y)*this.ea.y;case v.Og:return y=f.zd(a.G,this.ea),c=f.Zc(a,this.eb),r=f.$i(b.G,y.Zi()),r=this.Qj.Wn(r),r=f.Zc(b,r),(r.x-c.x)*y.x+(r.y-c.y)*y.y;case v.Jk:return y=f.zd(b.G,this.ea),r=f.Zc(b,this.eb),c=f.$i(a.G,y.Zi()),c=this.Pj.Wn(c),c=f.Zc(a,c),(c.x-r.x)*y.x+(c.y-r.y)*y.y;default:return d.hc(!1),0}};m.Cc.push(function(){m.v.fm.vy=1;m.v.fm.Og=2;m.v.fm.Jk=4});r.Ko=function(){this.ya=
new A;this.Sa=new A;this.zf=new A;this.$=new aa(3)};r.prototype.Ko=function(){this.$[0]=this.ya;this.$[1]=this.Sa;this.$[2]=this.zf};r.prototype.mB=function(a,b,c,v,r){d.hc(0<=a.count&&3>=a.count);var y,g;this.Ob=a.count;for(var A=this.$,k=0;k<this.Ob;k++){var G=A[k];G.od=a.od[k];G.pd=a.pd[k];y=b.Qd(G.od);g=v.Qd(G.pd);G.ae=f.Zc(c,y);G.Dg=f.Zc(r,g);G.u=f.sc(G.Dg,G.ae);G.R=0}1<this.Ob&&(a=a.qD,y=this.Uw(),y<.5*a||2*a<y||y<Number.MIN_VALUE)&&(this.Ob=0);0==this.Ob&&(G=A[0],G.od=0,G.pd=0,y=b.Qd(0),g=
v.Qd(0),G.ae=f.Zc(c,y),G.Dg=f.Zc(r,g),G.u=f.sc(G.Dg,G.ae),this.Ob=1)};r.prototype.yB=function(a){a.qD=this.Uw();a.count=m.vg(this.Ob);for(var b=this.$,c=0;c<this.Ob;c++)a.od[c]=m.vg(b[c].od),a.pd[c]=m.vg(b[c].pd)};r.prototype.eB=function(){switch(this.Ob){case 1:return this.ya.u.Zi();case 2:var a=f.sc(this.Sa.u,this.ya.u);return 0<f.Ol(a,this.ya.u.Zi())?f.Iw(1,a):f.Yi(a,1);default:return d.hc(!1),new k}};r.prototype.Rw=function(){switch(this.Ob){case 0:d.hc(!1);new k;break;case 1:break;case 2:new k(this.ya.R*
this.ya.u.x+this.Sa.R*this.Sa.u.x,this.ya.R*this.ya.u.y+this.Sa.R*this.Sa.u.y);break;default:d.hc(!1),new k}};r.prototype.fB=function(a,b){switch(this.Ob){case 0:d.hc(!1);break;case 1:a.N(this.ya.ae);b.N(this.ya.Dg);break;case 2:a.x=this.ya.R*this.ya.ae.x+this.Sa.R*this.Sa.ae.x;a.y=this.ya.R*this.ya.ae.y+this.Sa.R*this.Sa.ae.y;b.x=this.ya.R*this.ya.Dg.x+this.Sa.R*this.Sa.Dg.x;b.y=this.ya.R*this.ya.Dg.y+this.Sa.R*this.Sa.Dg.y;break;case 3:b.x=a.x=this.ya.R*this.ya.ae.x+this.Sa.R*this.Sa.ae.x+this.zf.R*
this.zf.ae.x;b.y=a.y=this.ya.R*this.ya.ae.y+this.Sa.R*this.Sa.ae.y+this.zf.R*this.zf.ae.y;break;default:d.hc(!1)}};r.prototype.Uw=function(){switch(this.Ob){case 0:return d.hc(!1),0;case 1:return 0;case 2:return f.sc(this.ya.u,this.Sa.u).cg();case 3:return f.Ol(f.sc(this.Sa.u,this.ya.u),f.sc(this.zf.u,this.ya.u));default:return d.hc(!1),0}};r.prototype.rB=function(){var a=this.ya.u,b=this.Sa.u,c=f.sc(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Ob=this.ya.R=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Ob=this.Sa.R=1,this.ya.Q(this.Sa)):
(c=1/(b+a),this.ya.R=b*c,this.Sa.R=a*c,this.Ob=2))};r.prototype.sB=function(){var a=this.ya.u,b=this.Sa.u,c=this.zf.u,d=f.sc(b,a),v=f.Pd(a,d),r=f.Pd(b,d),v=-v,y=f.sc(c,a),g=f.Pd(a,y),A=f.Pd(c,y),g=-g,k=f.sc(c,b),G=f.Pd(b,k),k=f.Pd(c,k),G=-G,y=f.Ol(d,y),d=y*f.Ol(b,c),c=y*f.Ol(c,a),a=y*f.Ol(a,b);0>=v&&0>=g?this.Ob=this.ya.R=1:0<r&&0<v&&0>=a?(A=1/(r+v),this.ya.R=r*A,this.Sa.R=v*A,this.Ob=2):0<A&&0<g&&0>=c?(r=1/(A+g),this.ya.R=A*r,this.zf.R=g*r,this.Ob=2,this.Sa.Q(this.zf)):0>=r&&0>=G?(this.Ob=this.Sa.R=
1,this.ya.Q(this.Sa)):0>=A&&0>=k?(this.Ob=this.zf.R=1,this.ya.Q(this.zf)):0<k&&0<G&&0>=d?(r=1/(k+G),this.Sa.R=k*r,this.zf.R=G*r,this.Ob=2,this.ya.Q(this.zf)):(r=1/(d+c+a),this.ya.R=d*r,this.Sa.R=c*r,this.zf.R=a*r,this.Ob=3)};y.gr=function(){this.od=new ba(3);this.pd=new ba(3)};A.Yt=function(){};A.prototype.Q=function(a){this.ae.N(a.ae);this.Dg.N(a.Dg);this.u.N(a.u);this.R=a.R;this.od=a.od;this.pd=a.pd};G.Ke=function(){};G.vB=function(a){++G.SB;var b=a.Vh,c=a.Wh,v=a.uA,r=a.vA;d.hc(v.wd==r.wd);d.hc(1-
v.wd>Number.MIN_VALUE);var y=b.Da+c.Da;a=a.TE;var g=0,A=0,k=0;G.Rv.count=0;for(G.vn.JA=!1;;){v.cf(G.ak,g);r.cf(G.bk,g);G.vn.Vh=b;G.vn.Wh=c;G.vn.yA=G.ak;G.vn.zA=G.bk;w.$s(G.bA,G.Rv,G.vn);if(0>=G.bA.Fk){g=1;break}G.ys.kd(G.Rv,b,G.ak,c,G.bk);var h=G.ys.Gg(G.ak,G.bk);if(0>=h){g=1;break}0==A&&(k=h>y?f.de(y-a,.75*y):f.de(h-a,.02*y));if(h-k<.5*a){if(0==A){g=1;break}break}var H=g,U=g,n=1;v.cf(G.ak,n);r.cf(G.bk,n);var ea=G.ys.Gg(G.ak,G.bk);if(ea>=k){g=1;break}for(var B=0;;){var p=0,p=B&1?U+(k-h)*(n-U)/(ea-
h):.5*(U+n);v.cf(G.ak,p);r.cf(G.bk,p);var ua=G.ys.Gg(G.ak,G.bk);if(f.hd(ua-k)<.025*a){H=p;break}ua>k?(U=p,h=ua):(n=p,ea=ua);++B;++G.UB;if(50==B)break}G.Lx=f.de(G.Lx,B);if(H<(1+100*Number.MIN_VALUE)*g)break;g=H;A++;++G.TB;if(1E3==A)break}G.Kx=f.de(G.Kx,A);return g};m.Cc.push(function(){m.v.Ke.SB=0;m.v.Ke.TB=0;m.v.Ke.Kx=0;m.v.Ke.UB=0;m.v.Ke.Lx=0;m.v.Ke.Rv=new y;m.v.Ke.vn=new L;m.v.Ke.ak=new h;m.v.Ke.bk=new h;m.v.Ke.ys=new v;m.v.Ke.bA=new M});U.hr=function(){this.Vh=new ca;this.Wh=new ca;this.uA=new g;
this.vA=new g};H.hm=function(){this.Ra=new k};H.prototype.hm=function(){this.fb=new aa(d.kf);for(var a=0;a<d.kf;a++)this.fb[a]=new k};H.prototype.kd=function(a,b,c,d,f){void 0===c&&(c=0);void 0===f&&(f=0);if(0!=a.Kc){var v=0,r,y,g=0,A=0,k=0,G=0,h=0;switch(a.ib){case W.uu:y=b.G;r=a.eb;v=b.position.x+y.j.x*r.x+y.k.x*r.y;b=b.position.y+y.j.y*r.x+y.k.y*r.y;y=d.G;r=a.fb[0].eb;a=d.position.x+y.j.x*r.x+y.k.x*r.y;d=d.position.y+y.j.y*r.x+y.k.y*r.y;r=a-v;y=d-b;g=r*r+y*y;g>Number.MIN_VALUE*Number.MIN_VALUE?
(g=Math.sqrt(g),this.Ra.x=r/g,this.Ra.y=y/g):(this.Ra.x=1,this.Ra.y=0);r=b+c*this.Ra.y;d-=f*this.Ra.y;this.fb[0].x=.5*(v+c*this.Ra.x+(a-f*this.Ra.x));this.fb[0].y=.5*(r+d);break;case W.Og:y=b.G;r=a.Kd;g=y.j.x*r.x+y.k.x*r.y;A=y.j.y*r.x+y.k.y*r.y;y=b.G;r=a.eb;k=b.position.x+y.j.x*r.x+y.k.x*r.y;G=b.position.y+y.j.y*r.x+y.k.y*r.y;this.Ra.x=g;this.Ra.y=A;for(v=0;v<a.Kc;v++)y=d.G,r=a.fb[v].eb,h=d.position.x+y.j.x*r.x+y.k.x*r.y,r=d.position.y+y.j.y*r.x+y.k.y*r.y,this.fb[v].x=h+.5*(c-(h-k)*g-(r-G)*A-f)*g,
this.fb[v].y=r+.5*(c-(h-k)*g-(r-G)*A-f)*A;break;case W.Jk:for(y=d.G,r=a.Kd,g=y.j.x*r.x+y.k.x*r.y,A=y.j.y*r.x+y.k.y*r.y,y=d.G,r=a.eb,k=d.position.x+y.j.x*r.x+y.k.x*r.y,G=d.position.y+y.j.y*r.x+y.k.y*r.y,this.Ra.x=-g,this.Ra.y=-A,v=0;v<a.Kc;v++)y=b.G,r=a.fb[v].eb,h=b.position.x+y.j.x*r.x+y.k.x*r.y,r=b.position.y+y.j.y*r.x+y.k.y*r.y,this.fb[v].x=h+.5*(f-(h-k)*g-(r-G)*A-c)*g,this.fb[v].y=r+.5*(f-(h-k)*g-(r-G)*A-c)*A}}};ea.Ys=function(){this.ac=new k;this.id=new z};ea.prototype.Q=function(a){this.ac.N(a.ac);
this.id.Q(a.id)};B.ct=function(){};Object.defineProperty(B.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.vt}});Object.defineProperty(B.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.vt=a;this.ej.ff=this.ej.ff&4294967040|this.vt&255}});Object.defineProperty(B.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.tt}});Object.defineProperty(B.prototype,"incidentEdge",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.tt=a;this.ej.ff=this.ej.ff&4294902015|this.tt<<8&65280}});Object.defineProperty(B.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.ut}});Object.defineProperty(B.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.ut=a;this.ej.ff=this.ej.ff&4278255615|this.ut<<16&16711680}});Object.defineProperty(B.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.st}});Object.defineProperty(B.prototype,
"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.st=a;this.ej.ff=this.ej.ff&16777215|this.st<<24&4278190080}})})();
(function(){var a=m.aa.Lb,b=m.v.Ta.jj,c=m.v.Ta.uo,d=m.v.Ta.vo,f=m.v.Ta.Do,g=m.v.Ta.oi,h=m.v.Ta.Vb,k=m.aa.Math.ni,n=m.aa.Math.Hf,q=m.aa.Math.lj,p=m.aa.Math.hg,u=m.v.yk,z=m.v.cr,t=m.v.dr,w=m.v.er,L=m.v.gr;m.Fb(b,m.v.Ta.Vb);b.prototype.la=m.v.Ta.Vb.prototype;b.jj=function(){m.v.Ta.Vb.Vb.apply(this,arguments);this.qd=new p};b.prototype.Cb=function(){var a=new b;a.Q(this);return a};b.prototype.Q=function(a){this.la.Q.call(this,a);m.is(a,b)&&this.qd.N((a instanceof b?a:null).qd)};b.prototype.Nl=function(a,
b){var c=b.G,d=b.position.x+(c.j.x*this.qd.x+c.k.x*this.qd.y),c=b.position.y+(c.j.y*this.qd.x+c.k.y*this.qd.y);a.lowerBound.Q(d-this.Da,c-this.Da);a.upperBound.Q(d+this.Da,c+this.Da)};b.prototype.Pn=function(b,c){void 0===c&&(c=0);b.Qh=c*a.Oo*this.Da*this.Da;b.xe.N(this.qd);b.Pl=b.Qh*(.5*this.Da*this.Da+(this.qd.x*this.qd.x+this.qd.y*this.qd.y))};b.prototype.zq=function(a,b,c,d){void 0===b&&(b=0);c=n.Zc(c,this.qd);var f=-(n.Pd(a,c)-b);if(f<-this.Da+Number.MIN_VALUE)return 0;if(f>this.Da)return d.N(c),
Math.PI*this.Da*this.Da;b=this.Da*this.Da;var g=f*f,f=b*(Math.asin(f/this.Da)+Math.PI/2)+f*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/f;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return f};b.prototype.ox=function(a){this.qd.N(a)};b.prototype.jj=function(a){void 0===a&&(a=0);this.la.Vb.call(this);this.ib=h.Ik;this.Da=a};c.uo=function(){};c.prototype.uo=function(){this.ba=[]};m.Fb(d,m.v.Ta.Vb);d.prototype.la=m.v.Ta.Vb.prototype;d.vo=function(){m.v.Ta.Vb.Vb.apply(this,arguments);new p;this.ya=new p;this.Sa=new p;this.VC=
new p;this.WC=new p;this.Ra=new p;this.Mj=new p;new p;this.XC=new p};d.prototype.Nl=function(a,b){var c=b.G,d=b.position.x+(c.j.x*this.ya.x+c.k.x*this.ya.y),f=b.position.y+(c.j.y*this.ya.x+c.k.y*this.ya.y),g=b.position.x+(c.j.x*this.Sa.x+c.k.x*this.Sa.y),c=b.position.y+(c.j.y*this.Sa.x+c.k.y*this.Sa.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);f<c?(a.lowerBound.y=f,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=f)};d.prototype.Pn=function(a){a.Qh=0;a.xe.N(this.ya);
a.Pl=0};d.prototype.zq=function(a,b,c,d){void 0===b&&(b=0);var f=new p(a.x*b,a.y*b),g=n.Zc(c,this.ya);c=n.Zc(c,this.Sa);var k=n.Pd(a,g)-b;a=n.Pd(a,c)-b;if(0<k){if(0<a)return 0;g.x=-a/(k-a)*g.x+k/(k-a)*c.x;g.y=-a/(k-a)*g.y+k/(k-a)*c.y}else 0<a&&(c.x=-a/(k-a)*g.x+k/(k-a)*c.x,c.y=-a/(k-a)*g.y+k/(k-a)*c.y);d.x=(f.x+g.x+c.x)/3;d.y=(f.y+g.y+c.y)/3;return.5*((g.x-f.x)*(c.y-f.y)-(g.y-f.y)*(c.x-f.x))};d.prototype.vo=function(b,c){this.la.Vb.call(this);this.ib=h.Br;this.ya=b;this.Sa=c;this.Mj.Q(this.Sa.x-this.ya.x,
this.Sa.y-this.ya.y);this.kv=this.Mj.ab();this.Ra.Q(this.Mj.y,-this.Mj.x);this.VC.Q(-a.mr*(this.Ra.x-this.Mj.x)+this.ya.x,-a.mr*(this.Ra.y-this.Mj.y)+this.ya.y);this.WC.Q(-a.mr*(this.Ra.x+this.Mj.x)+this.Sa.x,-a.mr*(this.Ra.y+this.Mj.y)+this.Sa.y);this.XC.Q(-this.Ra.x,-this.Ra.y)};f.Do=function(){this.Qh=0;this.xe=new p(0,0);this.Pl=0};m.Fb(g,m.v.Ta.Vb);g.prototype.la=m.v.Ta.Vb.prototype;g.oi=function(){m.v.Ta.Vb.Vb.apply(this,arguments)};g.prototype.Cb=function(){var a=new g;a.Q(this);return a};
g.prototype.Q=function(a){this.la.Q.call(this,a);if(m.is(a,g)){a=a instanceof g?a:null;this.Ei.N(a.Ei);this.Jb=a.Jb;this.Yn(this.Jb);for(var b=0;b<this.Jb;b++)this.$[b].N(a.$[b]),this.qc[b].N(a.qc[b])}};g.prototype.pt=function(a,b){void 0===b&&(b=0);for(var c=new aa,d=0,f,d=0;d<a.length;++d)f=a[d],c.push(f);this.kx(c,b)};g.hF=function(a,b){void 0===b&&(b=0);var c=new g;c.pt(a,b);return c};g.prototype.kx=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);a.hc(2<=c);this.Jb=c;this.Yn(c);for(var d=0,
d=0;d<this.Jb;d++)this.$[d].N(b[d]);for(d=0;d<this.Jb;++d){var f=parseInt(d),f=n.sc(this.$[parseInt(d+1<this.Jb?d+1:0)],this.$[f]);a.hc(f.Mq()>Number.MIN_VALUE);this.qc[d].N(n.Yi(f,1));this.qc[d].ab()}this.Ei=g.YA(this.$,this.Jb)};g.lF=function(a,b){void 0===b&&(b=0);var c=new g;c.kx(a,b);return c};g.prototype.jx=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Jb=4;this.Yn(4);this.$[0].Q(-a,-b);this.$[1].Q(a,-b);this.$[2].Q(a,b);this.$[3].Q(-a,b);this.qc[0].Q(0,-1);this.qc[1].Q(1,0);this.qc[2].Q(0,
1);this.qc[3].Q(-1,0);this.Ei.La()};g.iF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new g;c.jx(a,b);return c};g.prototype.oB=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.Jb=4;this.Yn(4);this.$[0].Q(-a,-b);this.$[1].Q(a,-b);this.$[2].Q(a,b);this.$[3].Q(-a,b);this.qc[0].Q(0,-1);this.qc[1].Q(1,0);this.qc[2].Q(0,1);this.qc[3].Q(-1,0);this.Ei=c;a=new q;a.position=c;a.G.Q(d);for(c=0;c<this.Jb;++c)this.$[c]=n.Zc(a,this.$[c]),this.qc[c]=n.zd(a.G,
this.qc[c])};g.kF=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var f=new g;f.oB(a,b,c,d);return f};g.prototype.nB=function(a,b){this.Jb=2;this.Yn(2);this.$[0].N(a);this.$[1].N(b);this.Ei.x=.5*(a.x+b.x);this.Ei.y=.5*(a.y+b.y);this.qc[0]=n.Yi(n.sc(b,a),1);this.qc[0].ab();this.qc[1].x=-this.qc[0].x;this.qc[1].y=-this.qc[0].y};g.jF=function(a,b){var c=new g;c.nB(a,b);return c};g.prototype.Nl=function(a,b){for(var c=b.G,d=this.$[0],f=b.position.x+(c.j.x*
d.x+c.k.x*d.y),g=b.position.y+(c.j.y*d.x+c.k.y*d.y),k=f,h=g,n=1;n<this.Jb;++n)var d=this.$[n],p=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),f=f<p?f:p,g=g<d?g:d,k=k>p?k:p,h=h>d?h:d;a.lowerBound.x=f-this.Da;a.lowerBound.y=g-this.Da;a.upperBound.x=k+this.Da;a.upperBound.y=h+this.Da};g.prototype.Pn=function(a,b){void 0===b&&(b=0);if(2==this.Jb)a.xe.x=.5*(this.$[0].x+this.$[1].x),a.xe.y=.5*(this.$[0].y+this.$[1].y),a.Qh=0,a.Pl=0;else{for(var c=0,d=0,f=0,g=0,k=1/3,h=0;h<this.Jb;++h)var n=
this.$[h],p=h+1<this.Jb?this.$[parseInt(h+1)]:this.$[0],q=n.x-0,u=n.y-0,v=p.x-0,r=p.y-0,y=q*r-u*v,A=.5*y,f=f+A,c=c+A*k*(0+n.x+p.x),d=d+A*k*(0+n.y+p.y),n=q,g=g+y*(k*(.25*(n*n+v*n+v*v)+(0*n+0*v))+0+(k*(.25*(u*u+r*u+r*r)+(0*u+0*r))+0));a.Qh=b*f;a.xe.Q(1/f*c,1/f*d);a.Pl=b*g}};g.prototype.zq=function(a,b,c,d){void 0===b&&(b=0);var g=n.$i(c.G,a),k=b-n.Pd(a,c.position),h=new ba,q=0,u=-1;b=-1;var t=!1;for(a=a=0;a<this.Jb;++a){h[a]=n.Pd(g,this.$[a])-k;var z=h[a]<-Number.MIN_VALUE;0<a&&(z?t||(u=a-1,q++):t&&
(b=a-1,q++));t=z}switch(q){case 0:return t?(a=new f,this.Pn(a,1),d.N(n.Zc(c,a.xe)),a.Qh):0;case 1:-1==u?u=this.Jb-1:b=this.Jb-1}a=parseInt((u+1)%this.Jb);g=parseInt((b+1)%this.Jb);k=(0-h[u])/(h[a]-h[u]);h=(0-h[b])/(h[g]-h[b]);u=new p(this.$[u].x*(1-k)+this.$[a].x*k,this.$[u].y*(1-k)+this.$[a].y*k);b=new p(this.$[b].x*(1-h)+this.$[g].x*h,this.$[b].y*(1-h)+this.$[g].y*h);h=0;k=new p;for(q=this.$[a];a!=g;)a=(a+1)%this.Jb,t=a==g?b:this.$[a],z=.5*((q.x-u.x)*(t.y-u.y)-(q.y-u.y)*(t.x-u.x)),h+=z,k.x+=z*(u.x+
q.x+t.x)/3,k.y+=z*(u.y+q.y+t.y)/3,q=t;k.ca(1/h);d.N(n.Zc(c,k));return h};g.prototype.it=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Jb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return b};g.prototype.Wn=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Jb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return this.$[b]};g.prototype.oi=function(){this.la.Vb.call(this);this.ib=h.qj;this.Ei=new p;this.$=new aa;this.qc=new aa};g.prototype.Yn=
function(a){void 0===a&&(a=0);for(var b=parseInt(this.$.length);b<a;b++)this.$[b]=new p,this.qc[b]=new p};g.YA=function(a,b){void 0===b&&(b=0);for(var c=new p,d=0,f=1/3,g=0;g<b;++g){var k=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],n=.5*((k.x-0)*(h.y-0)-(k.y-0)*(h.x-0)),d=d+n;c.x+=n*f*(0+k.x+h.x);c.y+=n*f*(0+k.y+h.y)}c.x*=1/d;c.y*=1/d;return c};g.nF=function(a,b,c){void 0===c&&(c=0);for(var d=0,f=new aa(c+1),d=0;d<c;++d)f[d]=b[d];f[c]=f[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=f[parseInt(d-1)],k=
f[d].x-g.x,h=f[d].y-g.y,n=Math.sqrt(k*k+h*h),k=k/n,h=h/n,p=-h,u=k,q=n=Number.MAX_VALUE,v=-Number.MAX_VALUE,r=-Number.MAX_VALUE,y=0;y<c;++y){var A=f[y].x-g.x,G=f[y].y-g.y,U=k*A+h*G,A=p*A+u*G;U<n&&(n=U);A<q&&(q=A);U>v&&(v=U);A>r&&(r=A)}y=(v-n)*(r-q);y<.95*b&&(b=y,a.G.j.x=k,a.G.j.y=h,a.G.k.x=p,a.G.k.y=u,k=.5*(n+v),h=.5*(q+r),p=a.G,a.xe.x=g.x+(p.j.x*k+p.k.x*h),a.xe.y=g.y+(p.j.y*k+p.k.y*h),a.pC.x=.5*(v-n),a.pC.y=.5*(r-q))}};m.Cc.push(function(){m.v.Ta.oi.cG=new k});h.Vb=function(){};h.prototype.Cb=function(){return null};
h.prototype.Q=function(a){this.Da=a.Da};h.prototype.Db=function(){return this.ib};h.prototype.Nl=function(){};h.prototype.Pn=function(){};h.prototype.zq=function(){return 0};h.dj=function(a,b,c,d){var f=new z;f.Vh=new w;f.Vh.Q(a);f.Wh=new w;f.Wh.Q(c);f.yA=b;f.zA=d;f.JA=!0;a=new L;a.count=0;b=new t;u.$s(b,a,f);return b.Fk<10*Number.MIN_VALUE};h.prototype.Vb=function(){this.ib=h.iC;this.Da=a.yb};m.Cc.push(function(){m.v.Ta.Vb.iC=-1;m.v.Ta.Vb.Ik=0;m.v.Ta.Vb.qj=1;m.v.Ta.Vb.Br=2;m.v.Ta.Vb.Dr=3;m.v.Ta.Vb.NF=
1;m.v.Ta.Vb.PF=0;m.v.Ta.Vb.SF=-1})})();
(function(){var a=m.aa.Ul,b=m.aa.Lb,c=m.aa.Math.Hf;a.Ul=function(){this.Rq=this.Sq=this.Tq=0};a.prototype.Ul=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.Tq=m.vg(255*c.Bb(a,0,1));this.Sq=m.vg(255*c.Bb(b,0,1));this.Rq=m.vg(255*c.Bb(g,0,1))};a.prototype.Q=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.Tq=m.vg(255*c.Bb(a,0,1));this.Sq=m.vg(255*c.Bb(b,0,1));this.Rq=m.vg(255*c.Bb(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.Tq=m.vg(255*c.Bb(a,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Sq=m.vg(255*c.Bb(a,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Rq=m.vg(255*c.Bb(a,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.Tq<<16|this.Sq<<8|this.Rq}});b.Lb=function(){};b.IB=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};b.JB=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};b.hc=function(a){if(!a)throw"Assertion Failed";};m.Cc.push(function(){m.aa.Lb.VERSION="2.1alpha";m.aa.Lb.xF=65535;m.aa.Lb.Oo=Math.PI;m.aa.Lb.kf=2;m.aa.Lb.jr=.1;m.aa.Lb.Fx=2;m.aa.Lb.EF=2*b.yb;m.aa.Lb.yb=.005;m.aa.Lb.Ak=2/180*b.Oo;m.aa.Lb.mr=8*b.yb;m.aa.Lb.PB=32;m.aa.Lb.QB=32;m.aa.Lb.VB=1;m.aa.Lb.jf=.2;m.aa.Lb.kr=8/180*b.Oo;m.aa.Lb.jm=2;m.aa.Lb.Jx=b.jm*b.jm;m.aa.Lb.im=
.5*b.Oo;m.aa.Lb.Ix=b.im*b.im;m.aa.Lb.$t=.2;m.aa.Lb.RB=.5;m.aa.Lb.Hx=.01;m.aa.Lb.Gx=2/180*b.Oo})})();
(function(){var a=m.aa.Math.ni,b=m.aa.Math.am,c=m.aa.Math.Hf,d=m.aa.Math.Lo,f=m.aa.Math.lj,g=m.aa.Math.hg,h=m.aa.Math.gm;a.ni=function(){this.j=new g;this.k=new g};a.prototype.ni=function(){this.Pq()};a.Eq=function(b){void 0===b&&(b=0);var c=new a;c.Q(b);return c};a.Tn=function(b,c){var d=new a;d.qB(b,c);return d};a.prototype.Q=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};a.prototype.qB=function(a,b){this.j.N(a);this.k.N(b)};a.prototype.Cb=
function(){var b=new a;b.tk(this);return b};a.prototype.tk=function(a){this.j.N(a.j);this.k.N(a.k)};a.prototype.yq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};a.prototype.Pq=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};a.prototype.La=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};a.prototype.ga=function(){return Math.atan2(this.j.y,this.j.x)};a.prototype.gt=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,f=this.k.y,g=b*f-c*d;0!=g&&(g=1/g);a.j.x=
g*f;a.k.x=-g*c;a.j.y=-g*d;a.k.y=g*b};a.prototype.uk=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,w=d*h-f*g;0!=w&&(w=1/w);a.x=w*(h*b-f*c);a.y=w*(d*c-g*b);return a};a.prototype.hd=function(){this.j.hd();this.k.hd()};b.am=function(){this.j=new h;this.k=new h;this.Fa=new h};b.prototype.am=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.j.N(a),this.k.N(b),this.Fa.N(c)):(this.j.La(),this.k.La(),this.Fa.La())};
b.prototype.Cb=function(){return new b(this.j,this.k,this.Fa)};b.prototype.tk=function(a){this.j.N(a.j);this.k.N(a.k);this.Fa.N(a.Fa)};b.prototype.yq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.Fa.x+=a.Fa.x;this.Fa.y+=a.Fa.y;this.Fa.z+=a.Fa.z};b.prototype.Pq=function(){this.j.x=1;this.k.x=0;this.Fa.x=0;this.j.y=0;this.k.y=1;this.Fa.y=0;this.j.z=0;this.k.z=0;this.Fa.z=1};b.prototype.La=function(){this.j.x=0;this.k.x=0;this.Fa.x=0;
this.j.y=0;this.k.y=0;this.Fa.y=0;this.j.z=0;this.k.z=0;this.Fa.z=0};b.prototype.Rl=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,w=d*h-f*g;0!=w&&(w=1/w);a.x=w*(h*b-f*c);a.y=w*(d*c-g*b);return a};b.prototype.bo=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.j.x,g=this.j.y,h=this.j.z,w=this.k.x,L=this.k.y,M=this.k.z,ca=this.Fa.x,T=this.Fa.y,C=this.Fa.z,V=f*(L*C-M*T)+g*(M*ca-w*C)+h*(w*T-L*ca);0!=V&&(V=1/V);a.x=
V*(b*(L*C-M*T)+c*(M*ca-w*C)+d*(w*T-L*ca));a.y=V*(f*(c*C-d*T)+g*(d*ca-b*C)+h*(b*T-c*ca));a.z=V*(f*(L*d-M*c)+g*(M*b-w*d)+h*(w*c-L*b));return a};c.Hf=function(){};c.Ql=function(a){void 0===a&&(a=0);return isFinite(a)};c.Pd=function(a,b){return a.x*b.x+a.y*b.y};c.Ol=function(a,b){return a.x*b.y-a.y*b.x};c.Yi=function(a,b){void 0===b&&(b=0);return new g(b*a.y,-b*a.x)};c.Iw=function(a,b){void 0===a&&(a=0);return new g(-a*b.y,a*b.x)};c.zd=function(a,b){return new g(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};
c.$i=function(a,b){return new g(c.Pd(b,a.j),c.Pd(b,a.k))};c.Zc=function(a,b){var d=c.zd(a.G,b);d.x+=a.position.x;d.y+=a.position.y;return d};c.kB=function(a,b){var d=c.sc(b,a.position),f=d.x*a.G.j.x+d.y*a.G.j.y;d.y=d.x*a.G.k.x+d.y*a.G.k.y;d.x=f;return d};c.Ew=function(a,b){return new g(a.x+b.x,a.y+b.y)};c.sc=function(a,b){return new g(a.x-b.x,a.y-b.y)};c.$s=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};c.oF=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};c.qF=function(a,b){void 0===
a&&(a=0);return new g(a*b.x,a*b.y)};c.gF=function(b,d){return a.Tn(c.Ew(b.j,d.j),c.Ew(b.k,d.k))};c.rF=function(b,d){return a.Tn(c.zd(b,d.j),c.zd(b,d.k))};c.sF=function(b,d){var f=new g(c.Pd(b.j,d.j),c.Pd(b.k,d.j)),h=new g(c.Pd(b.j,d.k),c.Pd(b.k,d.k));return a.Tn(f,h)};c.hd=function(a){void 0===a&&(a=0);return 0<a?a:-a};c.Bw=function(a){return new g(c.hd(a.x),c.hd(a.y))};c.fF=function(b){return a.Tn(c.Bw(b.j),c.Bw(b.k))};c.rk=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};c.ax=function(a,
b){return new g(c.rk(a.x,b.x),c.rk(a.y,b.y))};c.de=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};c.$w=function(a,b){return new g(c.de(a.x,b.x),c.de(a.y,b.y))};c.Bb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};c.mF=function(a,b,d){return c.$w(b,c.ax(a,d))};c.tB=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};c.uF=function(){return 2*Math.random()-1};c.vF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return(b-a)*Math.random()+a};c.tF=
function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};c.pF=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};m.Cc.push(function(){m.aa.Math.Hf.KB=new g(0,0);m.aa.Math.Hf.HB=a.Tn(new g(1,0),new g(0,1));m.aa.Math.Hf.AF=new f(c.KB,c.HB)});d.Lo=function(){this.V=new g;this.Ed=new g;this.o=new g};d.prototype.Q=function(a){this.V.N(a.V);this.Ed.N(a.Ed);this.o.N(a.o);this.eg=a.eg;this.R=a.R;this.wd=a.wd};d.prototype.Cb=function(){var a=
new d;a.V.N(this.V);a.Ed.N(this.Ed);a.o.N(this.o);a.eg=this.eg;a.R=this.R;a.wd=this.wd;return a};d.prototype.cf=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Ed.x+b*this.o.x;a.position.y=(1-b)*this.Ed.y+b*this.o.y;a.G.Q((1-b)*this.eg+b*this.R);var c=a.G;a.position.x-=c.j.x*this.V.x+c.k.x*this.V.y;a.position.y-=c.j.y*this.V.x+c.k.y*this.V.y};d.prototype.Xi=function(a){void 0===a&&(a=0);if(this.wd<a&&1-this.wd>Number.MIN_VALUE){var b=(a-this.wd)/(1-this.wd);this.Ed.x=(1-b)*this.Ed.x+b*this.o.x;
this.Ed.y=(1-b)*this.Ed.y+b*this.o.y;this.eg=(1-b)*this.eg+b*this.R;this.wd=a}};f.lj=function(){this.position=new g;this.G=new a};f.prototype.lj=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.N(a),this.G.tk(b))};f.prototype.kd=function(a,b){this.position.N(a);this.G.tk(b)};f.prototype.Pq=function(){this.position.La();this.G.Pq()};f.prototype.Q=function(a){this.position.N(a.position);this.G.tk(a.G)};f.prototype.ga=function(){return Math.atan2(this.G.j.y,this.G.j.x)};g.hg=
function(){};g.prototype.hg=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.La=function(){this.y=this.x=0};g.prototype.Q=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.N=function(a){this.x=a.x;this.y=a.y};g.prototype.Zi=function(){return new g(-this.x,-this.y)};g.prototype.cx=function(){this.x=-this.x;this.y=-this.y};g.jB=function(){var a=0,b=0;void 0===a&&(a=0);void 0===b&&(b=0);return new g(a,b)};g.prototype.Cb=function(){return new g(this.x,
this.y)};g.prototype.Fg=function(a){this.x+=a.x;this.y+=a.y};g.prototype.co=function(a){this.x-=a.x;this.y-=a.y};g.prototype.ca=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};g.prototype.Yi=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};g.prototype.Iw=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};g.prototype.ax=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};g.prototype.$w=function(a){this.x=this.x>a.x?this.x:a.x;this.y=
this.y>a.y?this.y:a.y};g.prototype.hd=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.cg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.Mq=function(){return this.x*this.x+this.y*this.y};g.prototype.ab=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};g.prototype.Ql=function(){return c.Ql(this.x)&&c.Ql(this.y)};h.gm=function(){};h.prototype.gm=function(a,b,c){void 0===a&&
(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.La=function(){this.x=this.y=this.z=0};h.prototype.Q=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.N=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.Zi=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.cx=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.Cb=function(){return new h(this.x,this.y,this.z)};h.prototype.Fg=
function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};h.prototype.co=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};h.prototype.ca=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var a=m.aa.Math.Hf,b=m.aa.Math.Lo,c=m.aa.Math.lj,d=m.aa.Math.hg,f=m.aa.Ul,g=m.aa.Lb,h=m.v.no,k=m.v.br,n=m.v.fr,q=m.v.Ta.Do,p=m.l.ge,u=m.l.Tl,z=m.l.ar,t=m.l.Gt,w=m.l.qo,L=m.l.Xl,M=m.l.Je,ca=m.l.Kt,T=m.l.Ot,C=m.l.Yl,V=m.l.Zl,ja=m.l.$l,W=m.l.ir,D=m.l.Le,Z=m.l.ka.Xa,Ca=m.l.ka.Vl,pa=m.l.ka.kj,Da=m.l.L.ja;p.ge=function(){this.g=new c;this.h=new b;this.p=new d;this.Oj=new d};p.prototype.Aq=function(a){if(1==this.sd.Jq())return null;var b=new C;b.Ie(this,this.g,a);this.P&p.zr&&b.Rn(this.sd.Re.Ym,
this.g);b.Ha=this.Jc;this.Jc=b;++this.yz;b.dc=this;0<b.Bp&&this.dg();this.sd.P|=D.xu;return b};p.prototype.px=function(a,b){void 0===b&&(b=0);var c;if(1!=this.sd.Jq()){this.g.G.Q(b);this.g.position.N(a);c=this.g.G;var d=this.h.V;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Ed.N(this.h.o);this.h.eg=this.h.R=b;d=this.sd.Re.Ym;for(c=this.Jc;c;c=c.Ha)c.qx(d,this.g,this.g);this.sd.Re.Dq()}};p.prototype.cf=function(){return this.g};
p.prototype.bj=function(a){this.px(a,this.ga())};p.prototype.ga=function(){return this.h.R};p.prototype.rb=function(a){void 0===a&&(a=0);this.px(this.g.position,a)};p.prototype.Zn=function(a){this.ib!=p.lf&&this.p.N(a)};p.prototype.ok=function(a,b){this.ib==p.Cd&&(0==this.ld()&&this.Rd(!0),this.Oj.x+=a.x,this.Oj.y+=a.y,this.fn+=(b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x)};p.prototype.SA=function(a){void 0===a&&(a=0);this.ib==p.Cd&&(0==this.ld()&&this.Rd(!0),this.fn+=a)};p.prototype.ha=function(a,b){this.ib==
p.Cd&&(0==this.ld()&&this.Rd(!0),this.p.x+=this.T*a.x,this.p.y+=this.T*a.y,this.J+=this.fa*((b.x-this.h.o.x)*a.y-(b.y-this.h.o.y)*a.x))};p.prototype.Tw=function(a){a.Qh=this.Z;a.Pl=this.Of;a.xe.N(this.h.V)};p.prototype.dg=function(){this.fa=this.Of=this.T=this.Z=0;this.h.V.La();if(this.ib!=p.lf&&this.ib!=p.OB){for(var b=d.jB(),c=this.Jc;c;c=c.Ha)if(0!=c.Bp){var f=c.Tw();this.Z+=f.Qh;b.x+=f.xe.x*f.Qh;b.y+=f.xe.y*f.Qh;this.Of+=f.Pl}0<this.Z?(this.T=1/this.Z,b.x*=this.T,b.y*=this.T):this.T=this.Z=1;
0<this.Of&&0==(this.P&p.qy)?(this.Of-=this.Z*(b.x*b.x+b.y*b.y),this.Of*=this.aD,g.hc(0<this.Of),this.fa=1/this.Of):this.fa=this.Of=0;c=this.h.o.Cb();this.h.V.N(b);this.h.Ed.N(a.Zc(this.g,this.h.V));this.h.o.N(this.h.Ed);this.p.x+=this.J*-(this.h.o.y-c.y);this.p.y+=this.J*+(this.h.o.x-c.x)}};p.prototype.bg=function(a){var b=this.g.G;a=new d(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.g.position.x;a.y+=this.g.position.y;return a};p.prototype.jt=function(b){return a.zd(this.g.G,b)};p.prototype.bf=
function(b){return a.kB(this.g,b)};p.prototype.ht=function(b){return a.$i(this.g.G,b)};p.prototype.dB=function(a){return new d(this.p.x-this.J*(a.y-this.h.o.y),this.p.y+this.J*(a.x-this.h.o.x))};p.prototype.ue=function(a){void 0===a&&(a=0);this.Cz=a};p.prototype.Db=function(){return this.ib};p.prototype.lx=function(){this.P|=p.Ar};p.prototype.Gq=function(){return(this.P&p.Ar)==p.Ar};p.prototype.Rd=function(a){a?(this.P|=p.$o,this.il=0):(this.P&=~p.$o,this.il=0,this.p.La(),this.J=0,this.Oj.La(),this.fn=
0)};p.prototype.ld=function(){return(this.P&p.$o)==p.$o};p.prototype.pk=function(){return(this.P&p.zr)==p.zr};p.prototype.Ff=function(){return this.Ji};p.prototype.$n=function(a){this.Ji=a};p.prototype.ge=function(a,b){this.P=0;a.ZB&&(this.P|=p.Ar);a.Gu&&(this.P|=p.qy);a.AB&&(this.P|=p.tu);a.GB&&(this.P|=p.$o);a.$c&&(this.P|=p.zr);this.sd=b;this.g.position.N(a.position);this.g.G.Q(a.vx);this.h.V.La();this.h.wd=1;this.h.eg=this.h.R=a.vx;var c=this.g.G,d=this.h.V;this.h.o.x=c.j.x*d.x+c.k.x*d.y;this.h.o.y=
c.j.y*d.x+c.k.y*d.y;this.h.o.x+=this.g.position.x;this.h.o.y+=this.g.position.y;this.h.Ed.N(this.h.o);this.Nb=this.Lj=this.Yc=null;this.hv=0;this.Ha=this.rd=null;this.p.N(a.nz);this.J=a.DB;this.Cz=a.Zr;this.SC=a.wx;this.Oj.Q(0,0);this.il=this.fn=0;this.ib=a.type;this.T=this.ib==p.Cd?this.Z=1:this.Z=0;this.fa=this.Of=0;this.aD=a.HC;this.Ji=a.lk;this.Jc=null;this.yz=0};p.prototype.rx=function(){var a=p.jE;a.G.Q(this.h.eg);var b=a.G,c=this.h.V;a.position.x=this.h.Ed.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=
this.h.Ed.y-(b.j.y*c.x+b.k.y*c.y);c=this.sd.Re.Ym;for(b=this.Jc;b;b=b.Ha)b.qx(c,a,this.g)};p.prototype.tc=function(){this.g.G.Q(this.h.R);var a=this.g.G,b=this.h.V;this.g.position.x=this.h.o.x-(a.j.x*b.x+a.k.x*b.y);this.g.position.y=this.h.o.y-(a.j.y*b.x+a.k.y*b.y)};p.prototype.ao=function(a){if(this.ib!=p.Cd&&a.ib!=p.Cd)return!1;for(var b=this.Yc;b;b=b.next)if(b.Tf==a&&0==b.Ai.uz)return!1;return!0};p.prototype.Xi=function(a){void 0===a&&(a=0);this.h.Xi(a);this.h.o.N(this.h.Ed);this.h.R=this.h.eg;
this.tc()};m.Cc.push(function(){m.l.ge.jE=new c;m.l.ge.Pc=1;m.l.ge.$o=2;m.l.ge.tu=4;m.l.ge.Ar=8;m.l.ge.qy=16;m.l.ge.zr=32;m.l.ge.lf=0;m.l.ge.OB=1;m.l.ge.Cd=2});u.Tl=function(){this.position=new d;this.nz=new d};u.prototype.Tl=function(){this.lk=null;this.position.Q(0,0);this.vx=0;this.nz.Q(0,0);this.wx=this.Zr=this.DB=0;this.GB=this.AB=!0;this.ZB=this.Gu=!1;this.type=p.lf;this.$c=!0;this.HC=1};z.ar=function(){};z.prototype.ao=function(a,b){var c=a.Sw(),d=b.Sw();return c.Tk==d.Tk&&0!=c.Tk?0<c.Tk:0!=
(c.Af&d.nf)&&0!=(c.nf&d.Af)};m.Cc.push(function(){m.l.ar.LB=new z});t.Gt=function(){this.wD=new ba(g.kf);this.OE=new ba(g.kf)};w.qo=function(){};w.prototype.Ws=function(){};w.prototype.at=function(){};w.prototype.nt=function(){};m.Cc.push(function(){m.l.qo.MB=new w});L.Xl=function(){};L.prototype.Xl=function(){this.sd=null;this.qg=0;this.wz=z.LB;this.$m=w.MB;this.vz=new Ca(this.Kj);this.Ym=new n};L.prototype.RA=function(a,b){var c=a instanceof C?a:null,d=b instanceof C?b:null,f=c.dc,g=d.dc;if(f!=
g){for(var h=g.Nb;h;){if(h.Tf==f){var k=h.Ec.oc,B=h.Ec.pc;if(k==c&&B==d||k==d&&B==c)return}h=h.next}0!=g.ao(f)&&0!=this.wz.ao(c,d)&&(h=this.vz.Ie(c,d),c=h.oc,d=h.pc,f=c.dc,g=d.dc,h.rd=null,h.Ha=this.sd.Nb,null!=this.sd.Nb&&(this.sd.Nb.rd=h),this.sd.Nb=h,h.Xd.Ec=h,h.Xd.Tf=g,h.Xd.ic=null,h.Xd.next=f.Nb,null!=f.Nb&&(f.Nb.ic=h.Xd),f.Nb=h.Xd,h.Yd.Ec=h,h.Yd.Tf=f,h.Yd.ic=null,h.Yd.next=g.Nb,null!=g.Nb&&(g.Nb.ic=h.Yd),g.Nb=h.Yd,++this.sd.qg)}};L.prototype.Dq=function(){this.Ym.xB(m.wC(this,this.RA))};L.prototype.jd=
function(a){var b=a.oc,c=a.pc,b=b.dc,c=c.dc;a.Kq()&&this.$m.at(a);a.rd&&(a.rd.Ha=a.Ha);a.Ha&&(a.Ha.rd=a.rd);a==this.sd.Nb&&(this.sd.Nb=a.Ha);a.Xd.ic&&(a.Xd.ic.next=a.Xd.next);a.Xd.next&&(a.Xd.next.ic=a.Xd.ic);a.Xd==b.Nb&&(b.Nb=a.Xd.next);a.Yd.ic&&(a.Yd.ic.next=a.Yd.next);a.Yd.next&&(a.Yd.next.ic=a.Yd.ic);a.Yd==c.Nb&&(c.Nb=a.Yd.next);this.vz.jd(a);--this.qg};L.prototype.TA=function(){for(var a=this.sd.Nb;a;){var b=a.oc,c=a.pc,d=b.dc,f=c.dc;if(0==d.ld()&&0==f.ld())a=a.Ha;else{if(a.P&Z.vu){if(0==f.ao(d)){b=
a;a=b.Ha;this.jd(b);continue}if(0==this.wz.ao(b,c)){b=a;a=b.Ha;this.jd(b);continue}a.P&=~Z.vu}0==this.Ym.dj(b.fl,c.fl)?(b=a,a=b.Ha,this.jd(b)):(a.sx(this.$m),a=a.Ha)}}};m.Cc.push(function(){m.l.Xl.aG=new k});M.Je=function(){};M.prototype.Je=function(){};m.Cc.push(function(){m.l.Je.RF=1;m.l.Je.OF=2;m.l.Je.KF=4;m.l.Je.QF=8;m.l.Je.LF=16;m.l.Je.MF=32});ca.Kt=function(){};T.Ot=function(){this.nf=1;this.Af=65535;this.Tk=0};T.prototype.Cb=function(){var a=new T;a.nf=this.nf;a.Af=this.Af;a.Tk=this.Tk;return a};
C.Yl=function(){this.xz=new T};C.prototype.Db=function(){return this.$a.Db()};C.prototype.qk=function(){return this.bD};C.prototype.Sw=function(){return this.xz.Cb()};C.prototype.Ff=function(){return this.Ji};C.prototype.$n=function(a){this.Ji=a};C.prototype.Tw=function(a){void 0===a&&(a=null);null==a&&(a=new q);this.$a.Pn(a,this.Bp);return a};C.prototype.nx=function(a){void 0===a&&(a=0);this.Bp=a};C.prototype.Yl=function(){this.Xm=new h;this.$a=this.Ha=this.dc=this.Ji=null;this.qv=this.jv=this.Bp=
0};C.prototype.Ie=function(a,b,c){this.Ji=c.lk;this.jv=c.Rm;this.qv=c.tn;this.dc=a;this.Ha=null;this.xz=c.filter.Cb();this.bD=c.LC;this.$a=c.shape.Cb();this.Bp=c.sb};C.prototype.jd=function(){this.$a=null};C.prototype.Rn=function(a,b){this.$a.Nl(this.Xm,b);this.fl=a.Rn(this.Xm,this)};C.prototype.Sn=function(a){null!=this.fl&&(a.Sn(this.fl),this.fl=null)};C.prototype.qx=function(b,c,d){if(this.fl){var f=new h,g=new h;this.$a.Nl(f,c);this.$a.Nl(g,d);this.Xm.Ml(f,g);c=a.sc(d.position,c.position);b.mt(this.fl,
this.Xm,c)}};V.Zl=function(){this.filter=new T};V.prototype.Zl=function(){this.lk=this.shape=null;this.Rm=.2;this.sb=this.tn=0;this.filter.nf=1;this.filter.Af=65535;this.filter.Tk=0;this.LC=!1};ja.$l=function(){};ja.prototype.$l=function(){this.Ih=new aa;this.an=new aa;this.Wg=new aa};ja.prototype.kd=function(a,b,c,d,f,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var h=0;this.TC=b;this.cD=c;this.Se=this.qg=this.Wd=0;this.Kj=d;this.dD=f;this.al=g;for(h=this.Ih.length;h<a;h++)this.Ih[h]=
null;for(h=this.an.length;h<b;h++)this.an[h]=null;for(h=this.Wg.length;h<c;h++)this.Wg[h]=null};ja.prototype.Xs=function(){this.Se=this.qg=this.Wd=0};ja.prototype.uk=function(b,c,d){for(var f=0,h=0,U,f=0;f<this.Wd;++f)h=this.Ih[f],h.Db()==p.Cd&&(h.p.x+=b.Ua*(c.x+h.T*h.Oj.x),h.p.y+=b.Ua*(c.y+h.T*h.Oj.y),h.J+=b.Ua*h.fa*h.fn,h.p.ca(a.Bb(1-b.Ua*h.Cz,0,1)),h.J*=a.Bb(1-b.Ua*h.SC,0,1));this.al.kd(b,this.an,this.qg,this.Kj);c=this.al;c.Gf(b);for(f=0;f<this.Se;++f)U=this.Wg[f],U.Gf(b);for(f=0;f<b.Hn;++f){for(h=
0;h<this.Se;++h)U=this.Wg[h],U.ef(b);c.ef()}for(f=0;f<this.Se;++f)U=this.Wg[f],U.dt();c.dt();for(f=0;f<this.Wd;++f)if(h=this.Ih[f],h.Db()!=p.lf){var H=b.Ua*h.p.x,k=b.Ua*h.p.y;H*H+k*k>g.Jx&&(h.p.ab(),h.p.x=h.p.x*g.jm*b.og,h.p.y=h.p.y*g.jm*b.og);H=b.Ua*h.J;H*H>g.Ix&&(h.J=0>h.J?-g.im*b.og:g.im*b.og);h.h.Ed.N(h.h.o);h.h.eg=h.h.R;h.h.o.x+=b.Ua*h.p.x;h.h.o.y+=b.Ua*h.p.y;h.h.R+=b.Ua*h.J;h.tc()}for(f=0;f<b.nn;++f){H=c.df(g.$t);k=!0;for(h=0;h<this.Se;++h)U=this.Wg[h],U=U.df(g.$t),k=k&&U;if(H&&k)break}this.hx(c.Jh);
if(d){d=Number.MAX_VALUE;c=g.Hx*g.Hx;H=g.Gx*g.Gx;for(f=0;f<this.Wd;++f)h=this.Ih[f],h.Db()!=p.lf&&(0==(h.P&p.tu)&&(d=h.il=0),0==(h.P&p.tu)||h.J*h.J>H||a.Pd(h.p,h.p)>c?d=h.il=0:(h.il+=b.Ua,d=a.rk(d,h.il)));if(d>=g.RB)for(f=0;f<this.Wd;++f)h=this.Ih[f],h.Rd(!1)}};ja.prototype.qt=function(a){var b=0,c=0;this.al.kd(a,this.an,this.qg,this.Kj);for(var d=this.al,b=0;b<this.Se;++b)this.Wg[b].Gf(a);for(b=0;b<a.Hn;++b)for(d.ef(),c=0;c<this.Se;++c)this.Wg[c].ef(a);for(b=0;b<this.Wd;++b)if(c=this.Ih[b],c.Db()!=
p.lf){var f=a.Ua*c.p.x,h=a.Ua*c.p.y;f*f+h*h>g.Jx&&(c.p.ab(),c.p.x=c.p.x*g.jm*a.og,c.p.y=c.p.y*g.jm*a.og);f=a.Ua*c.J;f*f>g.Ix&&(c.J=0>c.J?-g.im*a.og:g.im*a.og);c.h.Ed.N(c.h.o);c.h.eg=c.h.R;c.h.o.x+=a.Ua*c.p.x;c.h.o.y+=a.Ua*c.p.y;c.h.R+=a.Ua*c.J;c.tc()}for(b=0;b<a.nn;++b){f=d.df(.75);h=!0;for(c=0;c<this.Se;++c)var H=this.Wg[c].df(g.$t),h=h&&H;if(f&&h)break}this.hx(d.Jh)};ja.prototype.hx=function(a){if(null!=this.dD)for(var b=0;b<this.qg;++b)for(var c=a[b],d=0;d<c.Df;++d)ja.cA.wD[d]=c.re[d].cd,ja.cA.OE[d]=
c.re[d].ei};ja.prototype.Vs=function(a){a.XF=this.Wd;this.Ih[this.Wd++]=a};ja.prototype.Cw=function(a){this.an[this.qg++]=a};ja.prototype.Dw=function(a){this.Wg[this.Se++]=a};m.Cc.push(function(){m.l.$l.cA=new t});W.ir=function(){};W.prototype.Q=function(a){this.Ua=a.Ua;this.og=a.og;this.nn=a.nn;this.Hn=a.Hn;this.Eg=a.Eg};D.Le=function(){this.cE=new aa;this.Re=new L;this.al=new pa;this.Bz=new ja};D.prototype.Le=function(a,b){this.Lj=this.Yc=this.Nb=this.Ic=null;this.hv=this.Se=this.qg=this.Wd=0;D.jD=
!0;D.UC=!0;this.RC=b;this.zz=a;this.Az=0;this.Re.sd=this;this.$C=this.Qn(new u)};D.prototype.mx=function(a){this.Re.$m=a};D.prototype.Qn=function(a){if(1==this.Jq())return null;a=new p(a,this);a.rd=null;if(a.Ha=this.Ic)this.Ic.rd=a;this.Ic=a;++this.Wd;return a};D.prototype.Kw=function(a){if(1!=this.Jq()){for(var b=a.Yc;b;){var c=b,b=b.next;this.Lw(c.Ai)}for(b=a.Lj;b;)c=b,b=b.Ni,c.dy.fx(a);for(b=a.Nb;b;)c=b,b=b.next,this.Re.jd(c.Ec);a.Nb=null;for(b=a.Jc;b;)c=b,b=b.Ha,c.Sn(this.Re.Ym),c.jd();a.Jc=null;
a.yz=0;a.rd&&(a.rd.Ha=a.Ha);a.Ha&&(a.Ha.rd=a.rd);a==this.Ic&&(this.Ic=a.Ha);--this.Wd}};D.prototype.$A=function(a){var b=Da.Ie(a,null);b.rd=null;if(b.Ha=this.Yc)this.Yc.rd=b;this.Yc=b;++this.Se;b.De.Ai=b;b.De.Tf=b.Qa;b.De.ic=null;if(b.De.next=b.Ga.Yc)b.Ga.Yc.ic=b.De;b.Ga.Yc=b.De;b.Ee.Ai=b;b.Ee.Tf=b.Ga;b.Ee.ic=null;if(b.Ee.next=b.Qa.Yc)b.Qa.Yc.ic=b.Ee;b.Qa.Yc=b.Ee;var c=a.kb,d=a.ub;if(0==a.rr)for(a=d.Nb;a;)a.Tf==c&&a.Ec.Pw(),a=a.next;return b};D.prototype.Lw=function(a){var b=a.uz;a.rd&&(a.rd.Ha=a.Ha);
a.Ha&&(a.Ha.rd=a.rd);a==this.Yc&&(this.Yc=a.Ha);var c=a.Ga,d=a.Qa;c.Rd(!0);d.Rd(!0);a.De.ic&&(a.De.ic.next=a.De.next);a.De.next&&(a.De.next.ic=a.De.ic);a.De==c.Yc&&(c.Yc=a.De.next);a.De.ic=null;a.De.next=null;a.Ee.ic&&(a.Ee.ic.next=a.Ee.next);a.Ee.next&&(a.Ee.next.ic=a.Ee.ic);a.Ee==d.Yc&&(d.Yc=a.Ee.next);a.Ee.ic=null;a.Ee.next=null;Da.jd(a,null);--this.Se;if(0==b)for(a=d.Nb;a;)a.Tf==c&&a.Ec.Pw(),a=a.next};D.prototype.cj=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.P&
D.xu&&(this.Re.Dq(),this.P&=~D.xu);this.P|=D.wu;var d=D.gE;d.Ua=a;d.Hn=b;d.nn=c;d.og=0<a?1/a:0;d.Fc=this.Az*a;d.Eg=D.jD;this.Re.TA();0<d.Ua&&this.uk(d);D.UC&&0<d.Ua&&this.qt(d);0<d.Ua&&(this.Az=d.og);this.P&=~D.wu};D.prototype.Jq=function(){return 0<(this.P&D.wu)};D.prototype.uk=function(a){for(var b,c=this.Lj;c;c=c.Ha)c.cj(a);c=this.Bz;c.kd(this.Wd,this.qg,this.Se,null,this.Re.$m,this.al);for(b=this.Ic;b;b=b.Ha)b.P&=~p.Pc;for(var d=this.Nb;d;d=d.Ha)d.P&=~Z.Pc;for(d=this.Yc;d;d=d.Ha)d.bl=!1;parseInt(this.Wd);
for(var d=this.cE,f=this.Ic;f;f=f.Ha)if(!(f.P&p.Pc)&&0!=f.ld()&&0!=f.pk()&&f.Db()!=p.lf){c.Xs();var g=0;d[g++]=f;for(f.P|=p.Pc;0<g;)if(b=d[--g],c.Vs(b),0==b.ld()&&b.Rd(!0),b.Db()!=p.lf){for(var h,k=b.Nb;k;k=k.next)k.Ec.P&Z.Pc||1==k.Ec.qk()||0==k.Ec.Hq()||0==k.Ec.Kq()||(c.Cw(k.Ec),k.Ec.P|=Z.Pc,h=k.Tf,h.P&p.Pc||(d[g++]=h,h.P|=p.Pc));for(b=b.Yc;b;b=b.next)1!=b.Ai.bl&&(h=b.Tf,0!=h.pk()&&(c.Dw(b.Ai),b.Ai.bl=!0,h.P&p.Pc||(d[g++]=h,h.P|=p.Pc)))}c.uk(a,this.zz,this.RC);for(g=0;g<c.Wd;++g)b=c.Ih[g],b.Db()==
p.lf&&(b.P&=~p.Pc)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(b=this.Ic;b;b=b.Ha)0==b.ld()||0==b.pk()||b.Db()!=p.lf&&b.rx();this.Re.Dq()};D.prototype.qt=function(a){var b,c,d,f=this.Bz;f.kd(this.Wd,g.PB,g.QB,null,this.Re.$m,this.al);var h=D.ZD;for(b=this.Ic;b;b=b.Ha)b.P&=~p.Pc,b.h.wd=0;for(d=this.Nb;d;d=d.Ha)d.P&=~(Z.Gm|Z.Pc);for(d=this.Yc;d;d=d.Ha)d.bl=!1;for(;;){var H=null,k=1;for(d=this.Nb;d;d=d.Ha)if(1!=d.qk()&&0!=d.Hq()&&0!=d.iB()){if(d.P&Z.Gm)b=d.iD;else{b=d.oc;c=d.pc;b=b.dc;c=c.dc;if(!(b.Db()==
p.Cd&&0!=b.ld()||c.Db()==p.Cd&&0!=c.ld()))continue;var B=b.h.wd;b.h.wd<c.h.wd?(B=c.h.wd,b.h.Xi(B)):c.h.wd<b.h.wd&&(B=b.h.wd,c.h.Xi(B));b=d.ZA(b.h,c.h);g.hc(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*B+b,1<b&&(b=1));d.iD=b;d.P|=Z.Gm}Number.MIN_VALUE<b&&b<k&&(H=d,k=b)}if(null==H||1-100*Number.MIN_VALUE<k)break;b=H.oc;c=H.pc;b=b.dc;c=c.dc;D.$z.Q(b.h);D.aA.Q(c.h);b.Xi(k);c.Xi(k);H.sx(this.Re.$m);H.P&=~Z.Gm;if(1==H.qk()||0==H.Hq())b.h.Q(D.$z),c.h.Q(D.aA),b.tc(),c.tc();else if(0!=H.Kq()){b.Db()!=p.Cd&&(b=c);f.Xs();
H=d=0;h[d+H++]=b;for(b.P|=p.Pc;0<H;)if(b=h[d++],--H,f.Vs(b),0==b.ld()&&b.Rd(!0),b.Db()==p.Cd){for(c=b.Nb;c&&f.qg!=f.TC;c=c.next)c.Ec.P&Z.Pc||1==c.Ec.qk()||0==c.Ec.Hq()||0==c.Ec.Kq()||(f.Cw(c.Ec),c.Ec.P|=Z.Pc,B=c.Tf,B.P&p.Pc||(B.Db()!=p.lf&&(B.Xi(k),B.Rd(!0)),h[d+H]=B,++H,B.P|=p.Pc));for(b=b.Yc;b;b=b.next)f.Se!=f.cD&&1!=b.Ai.bl&&(B=b.Tf,0!=B.pk()&&(f.Dw(b.Ai),b.Ai.bl=!0,B.P&p.Pc||(B.Db()!=p.lf&&(B.Xi(k),B.Rd(!0)),h[d+H]=B,++H,B.P|=p.Pc)))}d=D.fE;d.Eg=!1;d.Ua=(1-k)*a.Ua;d.og=1/d.Ua;d.Fc=0;d.Hn=a.Hn;
d.nn=a.nn;f.qt(d);for(k=k=0;k<f.Wd;++k)if(b=f.Ih[k],b.P&=~p.Pc,0!=b.ld()&&b.Db()==p.Cd)for(b.rx(),c=b.Nb;c;c=c.next)c.Ec.P&=~Z.Gm;for(k=0;k<f.qg;++k)d=f.an[k],d.P&=~(Z.Gm|Z.Pc);for(k=0;k<f.Se;++k)d=f.Wg[k],d.bl=!1;this.Re.Dq()}}};m.Cc.push(function(){m.l.Le.gE=new W;m.l.Le.dG=new c;m.l.Le.$z=new b;m.l.Le.aA=new b;m.l.Le.fE=new W;m.l.Le.ZD=new aa;m.l.Le.bG=new f(.5,.8,.8);m.l.Le.xu=1;m.l.Le.wu=2})})();
(function(){var a=m.v.Ta.jj,b=m.v.Ta.oi,c=m.v.Ta.Vb,d=m.l.ka.Bt,f=m.l.ka.Xa,g=m.l.ka.po,h=m.l.ka.Et,k=m.l.ka.Ft,n=m.l.ka.Vl,q=m.l.ka.Ht,p=m.l.ka.It,u=m.l.ka.kj,z=m.l.ka.Nt,t=m.l.ka.Fo,w=m.l.ka.Tt,L=m.l.ka.Ut,M=m.l.ka.Vt,ca=m.l.ka.zk,T=m.l.ge,C=m.l.ir,V=m.aa.Lb,ja=m.aa.Math.ni,W=m.aa.Math.Hf,D=m.aa.Math.hg,Z=m.v.Bd,Ca=m.v.Wl,pa=m.v.mi,Da=m.v.Ke,v=m.v.hr,r=m.v.hm;m.Fb(d,m.l.ka.Xa);d.prototype.la=m.l.ka.Xa.prototype;d.Bt=function(){m.l.ka.Xa.Xa.apply(this,arguments)};d.Ie=function(){return new d};d.jd=
function(){};d.prototype.ee=function(a,b){this.la.ee.call(this,a,b)};d.prototype.Gg=function(){Z.UA(this.Rf,this.oc.$a instanceof a?this.oc.$a:null,this.oc.dc.g,this.pc.$a instanceof a?this.pc.$a:null,this.pc.dc.g)};f.Xa=function(){this.Xd=new k;this.Yd=new k;this.Rf=new pa;this.Ip=new pa};f.prototype.Kq=function(){return(this.P&f.Hm)==f.Hm};f.prototype.iB=function(){return(this.P&f.ap)==f.ap};f.prototype.qk=function(){return(this.P&f.cp)==f.cp};f.prototype.pB=function(){this.P&=~f.bp};f.prototype.Hq=
function(){return(this.P&f.bp)==f.bp};f.prototype.Pw=function(){this.P|=f.vu};f.prototype.Xa=function(){};f.prototype.ee=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.P=f.bp;if(a&&b){if(a.qk()||b.qk())this.P|=f.cp;var c=a.dc,d=b.dc;if(c.Db()!=T.Cd||c.Gq()||d.Db()!=T.Cd||d.Gq())this.P|=f.ap;this.oc=a;this.pc=b;this.Rf.Kc=0;this.Ha=this.rd=null;this.Xd.Ec=null;this.Xd.ic=null;this.Xd.next=null;this.Xd.Tf=null;this.Yd.Ec=null;this.Yd.ic=null;this.Yd.next=null;this.Yd.Tf=null}else this.pc=
this.oc=null};f.prototype.sx=function(a){var b=this.Ip;this.Ip=this.Rf;this.Rf=b;this.P|=f.bp;var d=!1,b=(this.P&f.Hm)==f.Hm,g=this.oc.dc,h=this.pc.dc,r=this.oc.Xm.dj(this.pc.Xm);if(this.P&f.cp)r&&(d=this.oc.$a,r=this.pc.$a,g=g.cf(),h=h.cf(),d=c.dj(d,g,r,h)),this.Rf.Kc=0;else{this.P=g.Db()!=T.Cd||g.Gq()||h.Db()!=T.Cd||h.Gq()?this.P|f.ap:this.P&~f.ap;if(r)for(this.Gg(),d=0<this.Rf.Kc,r=0;r<this.Rf.Kc;++r){var v=this.Rf.fb[r];v.dl=0;v.jl=0;for(var k=v.Hi,p=0;p<this.Ip.Kc;++p){var n=this.Ip.fb[p];if(n.Hi.key==
k.key){v.dl=n.dl;v.jl=n.jl;break}}}else this.Rf.Kc=0;d!=b&&(g.Rd(!0),h.Rd(!0))}this.P=d?this.P|f.Hm:this.P&~f.Hm;0==b&&1==d&&a.Ws(this);1==b&&0==d&&a.at(this);0==(this.P&f.cp)&&a.nt(this,this.Ip)};f.prototype.Gg=function(){};f.prototype.ZA=function(a,b){f.wn.Vh.Q(this.oc.$a);f.wn.Wh.Q(this.pc.$a);f.wn.uA=a;f.wn.vA=b;f.wn.TE=V.yb;return Da.vB(f.wn)};m.Cc.push(function(){m.l.ka.Xa.cp=1;m.l.ka.Xa.ap=2;m.l.ka.Xa.Pc=4;m.l.ka.Xa.Gm=8;m.l.ka.Xa.Hm=16;m.l.ka.Xa.bp=32;m.l.ka.Xa.vu=64;m.l.ka.Xa.wn=new v});
g.po=function(){this.bs=new D;this.Hh=new D;this.Sf=new D;this.jn=new ja;this.yd=new ja};g.prototype.po=function(){this.re=new aa(V.kf);for(var a=0;a<V.kf;a++)this.re[a]=new h};h.Et=function(){this.Hh=new D;this.ob=new D;this.pb=new D};k.Ft=function(){};n.Vl=function(){};n.prototype.Vl=function(a){this.Kj=a;this.hB()};n.prototype.On=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Oh[c][d].ey=a;this.Oh[c][d].iy=b;this.Oh[c][d].Sz=!0;c!=d&&(this.Oh[d][c].ey=a,this.Oh[d][c].iy=b,this.Oh[d][c].Sz=
!1)};n.prototype.hB=function(){this.Oh=new aa(c.Dr);for(var a=0;a<c.Dr;a++){this.Oh[a]=new aa(c.Dr);for(var b=0;b<c.Dr;b++)this.Oh[a][b]=new q}this.On(d.Ie,d.jd,c.Ik,c.Ik);this.On(w.Ie,w.jd,c.qj,c.Ik);this.On(M.Ie,M.jd,c.qj,c.qj);this.On(z.Ie,z.jd,c.Br,c.Ik);this.On(L.Ie,L.jd,c.qj,c.Br)};n.prototype.Ie=function(a,b){var c=parseInt(a.Db()),d=parseInt(b.Db()),c=this.Oh[c][d];if(c.qs)return d=c.qs,c.qs=d.Ha,c.ID--,d.ee(a,b),d;d=c.ey;return null!=d?(c.Sz?(d=d(this.Kj),d.ee(a,b)):(d=d(this.Kj),d.ee(b,
a)),d):null};n.prototype.jd=function(a){0<a.Rf.Kc&&(a.oc.dc.Rd(!0),a.pc.dc.Rd(!0));var b=parseInt(a.oc.Db()),b=this.Oh[b][parseInt(a.pc.Db())];b.ID++;a.Ha=b.qs;b.qs=a;b=b.iy;b(a,this.Kj)};q.Ht=function(){};p.It=function(){this.position=new D;this.Sf=new D;this.id=new Ca};u.kj=function(){this.hD=new C;this.Jh=new aa};u.prototype.kj=function(){};u.prototype.kd=function(a,b,c,d){void 0===c&&(c=0);var f;this.hD.Q(a);this.Kj=d;for(this.Ap=c;this.Jh.length<this.Ap;)this.Jh[this.Jh.length]=new g;for(a=0;a<
c;++a){f=b[a];d=f.oc;var h=f.pc,r=d.$a.Da,v=h.$a.Da,k=d.dc,p=h.dc,n=f.Rf,t=V.IB(d.jv,h.jv),q=V.JB(d.qv,h.qv),kb=k.p.x,z=k.p.y,w=p.p.x,C=p.p.y,T=k.J,L=p.J;V.hc(0<n.Kc);u.xl.kd(n,k.g,r,p.g,v);h=u.xl.Ra.x;f=u.xl.Ra.y;d=this.Jh[a];d.kb=k;d.ub=p;d.kD=n;d.Sf.x=h;d.Sf.y=f;d.Df=n.Kc;d.Rm=t;d.tn=q;d.bs.x=n.Kd.x;d.bs.y=n.Kd.y;d.Hh.x=n.eb.x;d.Hh.y=n.eb.y;d.eh=r+v;d.type=n.ib;for(r=0;r<d.Df;++r){t=n.fb[r];v=d.re[r];v.cd=t.dl;v.ei=t.jl;v.Hh.N(t.eb);var t=v.ob.x=u.xl.fb[r].x-k.h.o.x,q=v.ob.y=u.xl.fb[r].y-k.h.o.y,
D=v.pb.x=u.xl.fb[r].x-p.h.o.x,ca=v.pb.y=u.xl.fb[r].y-p.h.o.y,M=t*f-q*h,W=D*f-ca*h,M=M*M,W=W*W;v.jn=1/(k.T+p.T+k.fa*M+p.fa*W);var Z=k.Z*k.T+p.Z*p.T,Z=Z+(k.Z*k.fa*M+p.Z*p.fa*W);v.oC=1/Z;W=f;Z=-h;M=t*Z-q*W;W=D*Z-ca*W;M*=M;W*=W;v.PE=1/(k.T+p.T+k.fa*M+p.fa*W);v.tq=0;t=d.Sf.x*(w+-L*ca-kb- -T*q)+d.Sf.y*(C+L*D-z-T*t);t<-V.VB&&(v.tq+=-d.tn*t)}2==d.Df&&(C=d.re[0],w=d.re[1],n=k.T,k=k.fa,kb=p.T,p=p.fa,z=C.ob.x*f-C.ob.y*h,C=C.pb.x*f-C.pb.y*h,T=w.ob.x*f-w.ob.y*h,w=w.pb.x*f-w.pb.y*h,h=n+kb+k*z*z+p*C*C,f=n+kb+k*
T*T+p*w*w,p=n+kb+k*z*T+p*C*w,h*h<100*(h*f-p*p)?(d.yd.j.Q(h,p),d.yd.k.Q(p,f),d.yd.gt(d.jn)):d.Df=1)}};u.prototype.Gf=function(a){for(var b=0;b<this.Ap;++b){var c=this.Jh[b],d=c.kb,f=c.ub,g=d.T,h=d.fa,r=f.T,v=f.fa,k=c.Sf.x,p=c.Sf.y,n=p,u=-k,t=0,q=0;if(a.Eg)for(q=c.Df,t=0;t<q;++t){var z=c.re[t];z.cd*=a.Fc;z.ei*=a.Fc;var w=z.cd*k+z.ei*n,C=z.cd*p+z.ei*u;d.J-=h*(z.ob.x*C-z.ob.y*w);d.p.x-=g*w;d.p.y-=g*C;f.J+=v*(z.pb.x*C-z.pb.y*w);f.p.x+=r*w;f.p.y+=r*C}else for(q=c.Df,t=0;t<q;++t)d=c.re[t],d.cd=0,d.ei=0}};
u.prototype.ef=function(){for(var a=0,b,c=0,d=0,f=0,g=0,h=0,r=0,v=0,k,p=0;p<this.Ap;++p){var f=this.Jh[p],n=f.kb,u=f.ub,t=n.J,q=u.J,z=n.p,w=u.p,C=n.T,T=n.fa,M=u.T,D=u.fa,r=f.Sf.x,L=v=f.Sf.y;k=-r;h=f.Rm;for(a=0;a<f.Df;a++)b=f.re[a],c=w.x-q*b.pb.y-z.x+t*b.ob.y,d=w.y+q*b.pb.x-z.y-t*b.ob.x,c=c*L+d*k,c=b.PE*-c,d=h*b.cd,d=W.Bb(b.ei+c,-d,d),c=d-b.ei,g=c*L,c*=k,z.x-=C*g,z.y-=C*c,t-=T*(b.ob.x*c-b.ob.y*g),w.x+=M*g,w.y+=M*c,q+=D*(b.pb.x*c-b.pb.y*g),b.ei=d;parseInt(f.Df);if(1==f.Df)b=f.re[0],c=w.x+-q*b.pb.y-
z.x- -t*b.ob.y,d=w.y+q*b.pb.x-z.y-t*b.ob.x,f=c*r+d*v,c=-b.jn*(f-b.tq),d=b.cd+c,d=0<d?d:0,c=d-b.cd,g=c*r,c*=v,z.x-=C*g,z.y-=C*c,t-=T*(b.ob.x*c-b.ob.y*g),w.x+=M*g,w.y+=M*c,q+=D*(b.pb.x*c-b.pb.y*g),b.cd=d;else{b=f.re[0];var a=f.re[1],c=b.cd,h=a.cd,ca=(w.x-q*b.pb.y-z.x+t*b.ob.y)*r+(w.y+q*b.pb.x-z.y-t*b.ob.x)*v,V=(w.x-q*a.pb.y-z.x+t*a.ob.y)*r+(w.y+q*a.pb.x-z.y-t*a.ob.x)*v,d=ca-b.tq,g=V-a.tq;k=f.yd;d-=k.j.x*c+k.k.x*h;for(g-=k.j.y*c+k.k.y*h;;){k=f.jn;L=-(k.j.x*d+k.k.x*g);k=-(k.j.y*d+k.k.y*g);if(0<=L&&0<=
k){c=L-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;z.x-=C*(f+r);z.y-=C*(c+v);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=D*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.cd=L;a.cd=k;break}L=-b.jn*d;k=0;V=f.yd.j.y*L+g;if(0<=L&&0<=V){c=L-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;z.x-=C*(f+r);z.y-=C*(c+v);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=D*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.cd=L;a.cd=k;break}L=0;k=-a.jn*g;ca=f.yd.k.x*k+d;if(0<=k&&0<=ca){c=L-c;h=k-h;f=c*r;c*=v;r*=
h;v*=h;z.x-=C*(f+r);z.y-=C*(c+v);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=D*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.cd=L;a.cd=k;break}k=L=0;ca=d;V=g;if(0<=ca&&0<=V){c=L-c;h=k-h;f=c*r;c*=v;r*=h;v*=h;z.x-=C*(f+r);z.y-=C*(c+v);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*v-a.ob.y*r);w.x+=M*(f+r);w.y+=M*(c+v);q+=D*(b.pb.x*c-b.pb.y*f+a.pb.x*v-a.pb.y*r);b.cd=L;a.cd=k;break}break}}n.J=t;u.J=q}};u.prototype.dt=function(){for(var a=0;a<this.Ap;++a)for(var b=this.Jh[a],c=b.kD,d=0;d<b.Df;++d){var f=
c.fb[d],g=b.re[d];f.dl=g.cd;f.jl=g.ei}};u.prototype.df=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.Ap;c++){var d=this.Jh[c],f=d.kb,g=d.ub,h=f.Z*f.T,r=f.Z*f.fa,v=g.Z*g.T,k=g.Z*g.fa;u.zs.kd(d);for(var p=u.zs.Ra,n=0;n<d.Df;n++){var t=d.re[n],q=u.zs.fb[n],z=u.zs.es[n],w=q.x-f.h.o.x,C=q.y-f.h.o.y,L=q.x-g.h.o.x,q=q.y-g.h.o.y,b=b<z?b:z,z=W.Bb(a*(z+V.yb),-V.jf,0),z=-t.oC*z,t=z*p.x,z=z*p.y;f.h.o.x-=h*t;f.h.o.y-=h*z;f.h.R-=r*(w*z-C*t);f.tc();g.h.o.x+=v*t;g.h.o.y+=v*z;g.h.R+=k*(L*z-q*t);g.tc()}}return b>
-1.5*V.yb};m.Cc.push(function(){m.l.ka.kj.xl=new r;m.l.ka.kj.zs=new ca});m.Fb(z,m.l.ka.Xa);z.prototype.la=m.l.ka.Xa.prototype;z.Nt=function(){m.l.ka.Xa.Xa.apply(this,arguments)};z.Ie=function(){return new z};z.jd=function(){};z.prototype.ee=function(a,b){this.la.ee.call(this,a,b)};z.prototype.Gg=function(){};m.Fb(t,m.l.ka.Xa);t.prototype.la=m.l.ka.Xa.prototype;t.Fo=function(){m.l.ka.Xa.Xa.apply(this,arguments)};t.prototype.Fo=function(){this.la.Xa.call(this)};t.prototype.Gg=function(){};m.Fb(w,m.l.ka.Xa);
w.prototype.la=m.l.ka.Xa.prototype;w.Tt=function(){m.l.ka.Xa.Xa.apply(this,arguments)};w.Ie=function(){return new w};w.jd=function(){};w.prototype.ee=function(a,b){this.la.ee.call(this,a,b);V.hc(a.Db()==c.qj);V.hc(b.Db()==c.Ik)};w.prototype.Gg=function(){Z.VA(this.Rf,this.oc.$a instanceof b?this.oc.$a:null,this.oc.dc.g,this.pc.$a instanceof a?this.pc.$a:null,this.pc.dc.g)};m.Fb(L,m.l.ka.Xa);L.prototype.la=m.l.ka.Xa.prototype;L.Ut=function(){m.l.ka.Xa.Xa.apply(this,arguments)};L.Ie=function(){return new L};
L.jd=function(){};L.prototype.ee=function(a,b){this.la.ee.call(this,a,b);V.hc(a.Db()==c.qj);V.hc(b.Db()==c.Br)};L.prototype.Gg=function(){};m.Fb(M,m.l.ka.Xa);M.prototype.la=m.l.ka.Xa.prototype;M.Vt=function(){m.l.ka.Xa.Xa.apply(this,arguments)};M.Ie=function(){return new M};M.jd=function(){};M.prototype.ee=function(a,b){this.la.ee.call(this,a,b)};M.prototype.Gg=function(){Z.WA(this.Rf,this.oc.$a instanceof b?this.oc.$a:null,this.oc.dc.g,this.pc.$a instanceof b?this.pc.$a:null,this.pc.dc.g)};ca.zk=
function(){};ca.prototype.zk=function(){this.Ra=new D;this.es=new ba(V.kf);this.fb=new aa(V.kf);for(var a=0;a<V.kf;a++)this.fb[a]=new D};ca.prototype.kd=function(a){V.hc(0<a.Df);var b=0,c=0,d=0,f,g=0,h=0;switch(a.type){case pa.uu:f=a.kb.g.G;d=a.Hh;b=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);c=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.ub.g.G;d=a.re[0].Hh;g=a.ub.g.position.x+(f.j.x*d.x+f.k.x*d.y);f=a.ub.g.position.y+(f.j.y*d.x+f.k.y*d.y);var d=g-b,h=f-c,r=d*d+h*h;r>Number.MIN_VALUE*Number.MIN_VALUE?
(r=Math.sqrt(r),this.Ra.x=d/r,this.Ra.y=h/r):(this.Ra.x=1,this.Ra.y=0);this.fb[0].x=.5*(b+g);this.fb[0].y=.5*(c+f);this.es[0]=d*this.Ra.x+h*this.Ra.y-a.eh;break;case pa.Og:f=a.kb.g.G;d=a.bs;this.Ra.x=f.j.x*d.x+f.k.x*d.y;this.Ra.y=f.j.y*d.x+f.k.y*d.y;f=a.kb.g.G;d=a.Hh;g=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.ub.g.G;for(b=0;b<a.Df;++b)d=a.re[b].Hh,c=a.ub.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.ub.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.es[b]=(c-g)*this.Ra.x+
(d-h)*this.Ra.y-a.eh,this.fb[b].x=c,this.fb[b].y=d;break;case pa.Jk:f=a.ub.g.G;d=a.bs;this.Ra.x=f.j.x*d.x+f.k.x*d.y;this.Ra.y=f.j.y*d.x+f.k.y*d.y;f=a.ub.g.G;d=a.Hh;g=a.ub.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.ub.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.kb.g.G;for(b=0;b<a.Df;++b)d=a.re[b].Hh,c=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.es[b]=(c-g)*this.Ra.x+(d-h)*this.Ra.y-a.eh,this.fb[b].Q(c,d);this.Ra.x*=-1;this.Ra.y*=-1}};m.Cc.push(function(){m.l.ka.zk.HF=
new D;m.l.ka.zk.IF=new D})})();
(function(){var a=m.aa.Math.ni,b=m.aa.Math.Hf,c=m.aa.Math.hg,d=m.l.Ub.At,f=m.l.Ub.Ct,g=m.l.Ub.Dt,h=m.l.Ub.Oc,k=m.l.Ub.Jt,n=m.l.Ub.Pt,q=m.l.Ub.Zt;m.Fb(d,m.l.Ub.Oc);d.prototype.la=m.l.Ub.Oc.prototype;d.At=function(){m.l.Ub.Oc.Oc.apply(this,arguments);this.Sf=new c(0,-1);this.sb=this.offset=0;this.oh=new c(0,0);this.PC=2;this.CB=1;this.XE=!0;this.Qy=null};d.prototype.cj=function(){if(this.Ic){this.XE&&(this.Qy=this.sd.zz.Cb());for(var a=this.Ic;a;a=a.Xe){var b=a.body;if(0!=b.ld()){for(var d=new c,f=
new c,g=0,h=0,k=b.Jc;k;k=k.Ha){var n=new c,q=k.$a.zq(this.Sf,this.offset,b.cf(),n),g=g+q;d.x+=q*n.x;d.y+=q*n.y;var C=0,C=1,h=h+q*C;f.x+=q*n.x*C;f.y+=q*n.y*C}d.x/=g;d.y/=g;f.x/=h;f.y/=h;g<Number.MIN_VALUE||(h=this.Qy.Zi(),h.ca(this.sb*g),b.ok(h,f),f=b.dB(d),f.co(this.oh),f.ca(-this.PC*g),b.ok(f,d),b.SA(-b.Of/b.Z*g*b.J*this.CB))}}}};m.Fb(f,m.l.Ub.Oc);f.prototype.la=m.l.Ub.Oc.prototype;f.Ct=function(){m.l.Ub.Oc.Oc.apply(this,arguments);this.Aw=new c(0,0)};f.prototype.cj=function(a){a=new c(this.Aw.x*
a.Ua,this.Aw.y*a.Ua);for(var b=this.Ic;b;b=b.Xe){var d=b.body;d.ld()&&d.Zn(new c(d.p.x+a.x,d.p.y+a.y))}};m.Fb(g,m.l.Ub.Oc);g.prototype.la=m.l.Ub.Oc.prototype;g.Dt=function(){m.l.Ub.Oc.Oc.apply(this,arguments);this.aB=new c(0,0)};g.prototype.cj=function(){for(var a=this.Ic;a;a=a.Xe){var b=a.body;b.ld()&&b.ok(this.aB,b.h.o)}};h.Oc=function(){};h.prototype.cj=function(){};h.prototype.Vs=function(a){var b=new k;b.dy=this;b.body=a;b.Xe=this.Ic;b.Wp=null;this.Ic=b;b.Xe&&(b.Xe.Wp=b);this.Wd++;b.Ni=a.Lj;
b.Xp=null;a.Lj=b;b.Ni&&(b.Ni.Xp=b);a.hv++};h.prototype.fx=function(a){for(var b=a.Lj;b&&b.dy!=this;)b=b.Ni;b.Wp&&(b.Wp.Xe=b.Xe);b.Xe&&(b.Xe.Wp=b.Wp);b.Ni&&(b.Ni.Xp=b.Xp);b.Xp&&(b.Xp.Ni=b.Ni);this.Ic==b&&(this.Ic=b.Xe);a.Lj==b&&(a.Lj=b.Ni);a.hv--;this.Wd--};h.prototype.Xs=function(){for(;this.Ic;)this.fx(this.Ic.body)};k.Jt=function(){};m.Fb(n,m.l.Ub.Oc);n.prototype.la=m.l.Ub.Oc.prototype;n.Pt=function(){m.l.Ub.Oc.Oc.apply(this,arguments);this.Qw=1;this.JC=!0};n.prototype.cj=function(){var a=null,
b=null,d=null,f=0,g=null,h=null,k=null,n=0,q=0,C=0;if(this.JC)for(a=this.Ic;a;a=a.Xe)for(b=a.body,d=b.h.o,f=b.Z,g=this.Ic;g!=a;g=g.Xe)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,C=n*n+q*q,C<Number.MIN_VALUE||(n=new c(n,q),n.ca(this.Qw/C/Math.sqrt(C)*f*h.Z),b.ld()&&b.ok(n,d),n.ca(-1),h.ld()&&h.ok(n,k));else for(a=this.Ic;a;a=a.Xe)for(b=a.body,d=b.h.o,f=b.Z,g=this.Ic;g!=a;g=g.Xe)h=g.body,k=h.h.o,n=k.x-d.x,q=k.y-d.y,C=n*n+q*q,C<Number.MIN_VALUE||(n=new c(n,q),n.ca(this.Qw/C*f*h.Z),b.ld()&&b.ok(n,d),n.ca(-1),
h.ld()&&h.ok(n,k))};m.Fb(q,m.l.Ub.Oc);q.prototype.la=m.l.Ub.Oc.prototype;q.Zt=function(){m.l.Ub.Oc.Oc.apply(this,arguments);this.uB=new a;this.uv=0};q.prototype.cj=function(a){a=a.Ua;if(!(a<=Number.MIN_VALUE)){a>this.uv&&0<this.uv&&(a=this.uv);for(var d=this.Ic;d;d=d.Xe){var f=d.body;if(f.ld()){var g=f.jt(b.zd(this.uB,f.ht(f.p)));f.Zn(new c(f.p.x+g.x*a,f.p.y+g.y*a))}}}}})();
(function(){var a=m.aa.Lb,b=m.aa.Math.ni,c=m.aa.Math.am,d=m.aa.Math.Hf,f=m.aa.Math.hg,g=m.aa.Math.gm,h=m.l.L.ro,k=m.l.L.so,n=m.l.L.wo,q=m.l.L.xo,p=m.l.L.yo,u=m.l.L.zo,z=m.l.L.Qt,t=m.l.L.ja,w=m.l.L.ua,L=m.l.L.Rt,M=m.l.L.Ao,ca=m.l.L.Bo,T=m.l.L.Eo,C=m.l.L.bm,V=m.l.L.Go,ja=m.l.L.Ho,W=m.l.L.cm,D=m.l.L.Io,Z=m.l.L.dm,Ca=m.l.L.em,pa=m.l.L.Mo,Da=m.l.L.No;m.Fb(h,m.l.L.ja);h.prototype.la=m.l.L.ja.prototype;h.ro=function(){m.l.L.ja.ja.apply(this,arguments);this.ma=new f;this.wa=new f;this.bd=new f};h.prototype.xd=
function(){return this.Ga.bg(this.ma)};h.prototype.ro=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.wa.N(a.Xc);this.kv=a.length;this.Dp=a.Mr;this.iv=a.tr;this.tz=this.ne=this.t=0};h.prototype.Gf=function(b){var c,d=0,f=this.Ga,g=this.Qa;c=f.g.G;var h=this.ma.x-f.h.V.x,k=this.ma.y-f.h.V.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var n=this.wa.x-g.h.V.x,B=this.wa.y-g.h.V.y,d=c.j.x*n+c.k.x*B,B=c.j.y*n+c.k.y*B,n=d;this.bd.x=g.h.o.x+n-f.h.o.x-h;this.bd.y=g.h.o.y+B-f.h.o.y-k;d=Math.sqrt(this.bd.x*
this.bd.x+this.bd.y*this.bd.y);d>a.yb?this.bd.ca(1/d):this.bd.La();c=h*this.bd.y-k*this.bd.x;var p=n*this.bd.y-B*this.bd.x;c=f.T+f.fa*c*c+g.T+g.fa*p*p;this.Z=0!=c?1/c:0;if(0<this.Dp){var d=d-this.kv,p=2*Math.PI*this.Dp,q=this.Z*p*p;this.ne=b.Ua*(2*this.Z*this.iv*p+b.Ua*q);this.ne=0!=this.ne?1/this.ne:0;this.tz=d*b.Ua*q*this.ne;this.Z=c+this.ne;this.Z=0!=this.Z?1/this.Z:0}b.Eg?(this.t*=b.Fc,b=this.t*this.bd.x,c=this.t*this.bd.y,f.p.x-=f.T*b,f.p.y-=f.T*c,f.J-=f.fa*(h*c-k*b),g.p.x+=g.T*b,g.p.y+=g.T*
c,g.J+=g.fa*(n*c-B*b)):this.t=0};h.prototype.ef=function(){var a,b=this.Ga,c=this.Qa;a=b.g.G;var d=this.ma.x-b.h.V.x,f=this.ma.y-b.h.V.y,g=a.j.x*d+a.k.x*f,f=a.j.y*d+a.k.y*f,d=g;a=c.g.G;var h=this.wa.x-c.h.V.x,k=this.wa.y-c.h.V.y,g=a.j.x*h+a.k.x*k,k=a.j.y*h+a.k.y*k,h=g,g=-this.Z*(this.bd.x*(c.p.x+-c.J*k-(b.p.x+-b.J*f))+this.bd.y*(c.p.y+c.J*h-(b.p.y+b.J*d))+this.tz+this.ne*this.t);this.t+=g;a=g*this.bd.x;g*=this.bd.y;b.p.x-=b.T*a;b.p.y-=b.T*g;b.J-=b.fa*(d*g-f*a);c.p.x+=c.T*a;c.p.y+=c.T*g;c.J+=c.fa*
(h*g-k*a)};h.prototype.df=function(){var b;if(0<this.Dp)return!0;var c=this.Ga,f=this.Qa;b=c.g.G;var g=this.ma.x-c.h.V.x,h=this.ma.y-c.h.V.y,k=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=k;b=f.g.G;var n=this.wa.x-f.h.V.x,p=this.wa.y-f.h.V.y,k=b.j.x*n+b.k.x*p,p=b.j.y*n+b.k.y*p,n=k,k=f.h.o.x+n-c.h.o.x-g,B=f.h.o.y+p-c.h.o.y-h;b=Math.sqrt(k*k+B*B);k/=b;B/=b;b-=this.kv;b=d.Bb(b,-a.jf,a.jf);var ua=-this.Z*b;this.bd.Q(k,B);k=ua*this.bd.x;B=ua*this.bd.y;c.h.o.x-=c.T*k;c.h.o.y-=c.T*B;c.h.R-=c.fa*(g*B-h*k);f.h.o.x+=
f.T*k;f.h.o.y+=f.T*B;f.h.R+=f.fa*(n*B-p*k);c.tc();f.tc();return d.hd(b)<a.yb};m.Fb(k,m.l.L.ua);k.prototype.la=m.l.L.ua.prototype;k.so=function(){m.l.L.ua.ua.apply(this,arguments);this.Wc=new f;this.Xc=new f};k.prototype.so=function(){this.la.ua.call(this);this.type=t.py;this.length=1;this.tr=this.Mr=0};k.prototype.kd=function(a,b,c,d){this.kb=a;this.ub=b;this.Wc.N(this.kb.bf(c));this.Xc.N(this.ub.bf(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.tr=this.Mr=0};m.Fb(n,m.l.L.ja);n.prototype.la=
m.l.L.ja.prototype;n.wo=function(){m.l.L.ja.ja.apply(this,arguments);this.Te=new f;this.Qf=new f;this.nv=new b;this.Pf=new f};n.prototype.xd=function(){return this.Ga.bg(this.Te)};n.prototype.wo=function(a){this.la.ja.call(this,a);this.Te.N(a.Wc);this.Qf.N(a.Xc);this.nv.La();this.zp=0;this.Pf.La();this.Di=0;this.ov=a.sv;this.fD=a.mD};n.prototype.Gf=function(a){var c,d=0,f=this.Ga,g=this.Qa;c=f.g.G;var h=this.Te.x-f.h.V.x,k=this.Te.y-f.h.V.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var n=this.Qf.x-
g.h.V.x,p=this.Qf.y-g.h.V.y,d=c.j.x*n+c.k.x*p,p=c.j.y*n+c.k.y*p,n=d;c=f.T;var d=g.T,ua=f.fa,q=g.fa,t=new b;t.j.x=c+d;t.k.x=0;t.j.y=0;t.k.y=c+d;t.j.x+=ua*k*k;t.k.x+=-ua*h*k;t.j.y+=-ua*h*k;t.k.y+=ua*h*h;t.j.x+=q*p*p;t.k.x+=-q*n*p;t.j.y+=-q*n*p;t.k.y+=q*n*n;t.gt(this.nv);this.zp=ua+q;0<this.zp&&(this.zp=1/this.zp);a.Eg?(this.Pf.x*=a.Fc,this.Pf.y*=a.Fc,this.Di*=a.Fc,a=this.Pf,f.p.x-=c*a.x,f.p.y-=c*a.y,f.J-=ua*(h*a.y-k*a.x+this.Di),g.p.x+=d*a.x,g.p.y+=d*a.y,g.J+=q*(n*a.y-p*a.x+this.Di)):(this.Pf.La(),
this.Di=0)};n.prototype.ef=function(a){var b,c=0,g=this.Ga,h=this.Qa,k=g.p,n=g.J,p=h.p,B=h.J,t=g.T,q=h.T,u=g.fa,z=h.fa;b=g.g.G;var w=this.Te.x-g.h.V.x,C=this.Te.y-g.h.V.y,c=b.j.x*w+b.k.x*C,C=b.j.y*w+b.k.y*C,w=c;b=h.g.G;var D=this.Qf.x-h.h.V.x,L=this.Qf.y-h.h.V.y,c=b.j.x*D+b.k.x*L,L=b.j.y*D+b.k.y*L,D=c,c=-this.zp*(B-n),M=this.Di;b=a.Ua*this.fD;this.Di=d.Bb(this.Di+c,-b,b);c=this.Di-M;n-=u*c;B+=z*c;b=d.zd(this.nv,new f(-(p.x-B*L-k.x+n*C),-(p.y+B*D-k.y-n*w)));c=this.Pf.Cb();this.Pf.Fg(b);b=a.Ua*this.ov;
this.Pf.Mq()>b*b&&(this.Pf.ab(),this.Pf.ca(b));b=d.sc(this.Pf,c);k.x-=t*b.x;k.y-=t*b.y;n-=u*(w*b.y-C*b.x);p.x+=q*b.x;p.y+=q*b.y;B+=z*(D*b.y-L*b.x);g.J=n;h.J=B};n.prototype.df=function(){return!0};m.Fb(q,m.l.L.ua);q.prototype.la=m.l.L.ua.prototype;q.xo=function(){m.l.L.ua.ua.apply(this,arguments);this.Wc=new f;this.Xc=new f};q.prototype.xo=function(){this.la.ua.call(this);this.type=t.ry;this.mD=this.sv=0};q.prototype.kd=function(a,b,c){this.kb=a;this.ub=b;this.Wc.N(this.kb.bf(c));this.Xc.N(this.ub.bf(c))};
m.Fb(p,m.l.L.ja);p.prototype.la=m.l.L.ja.prototype;p.yo=function(){m.l.L.ja.ja.apply(this,arguments);this.Fi=new f;this.Gi=new f;this.ma=new f;this.wa=new f;this.nc=new z};p.prototype.xd=function(){return this.Ga.bg(this.ma)};p.prototype.yo=function(a){this.la.ja.call(this,a);var b=parseInt(a.Uk.ib),c=parseInt(a.Vk.ib);this.dn=this.hl=this.cn=this.gl=null;var d=0,f=0;this.YC=a.Uk.Ga;this.Ga=a.Uk.Qa;b==t.Cr?(this.gl=a.Uk instanceof Z?a.Uk:null,this.Fi.N(this.gl.ma),this.ma.N(this.gl.wa),d=this.gl.ce()):
(this.cn=a.Uk instanceof V?a.Uk:null,this.Fi.N(this.cn.ma),this.ma.N(this.cn.wa),d=this.cn.Vn());this.ZC=a.Vk.Ga;this.Qa=a.Vk.Qa;c==t.Cr?(this.hl=a.Vk instanceof Z?a.Vk:null,this.Gi.N(this.hl.ma),this.wa.N(this.hl.wa),f=this.hl.ce()):(this.dn=a.Vk instanceof V?a.Vk:null,this.Gi.N(this.dn.ma),this.wa.N(this.dn.wa),f=this.dn.Vn());this.Bc=a.sl;this.Zm=d+this.Bc*f;this.t=0};p.prototype.Gf=function(a){var b=this.YC,c=this.ZC,d=this.Ga,f=this.Qa,g=0,h=0,k=0,n=0,p=0,t=0;this.nc.La();this.gl?(this.nc.wk=
-1,t+=d.fa):(b=b.g.G,h=this.cn.Ue,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=d.g.G,k=this.ma.x-d.h.V.x,n=this.ma.y-d.h.V.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.nc.Tg.Q(-g,-h),this.nc.wk=-k,t+=d.T+d.fa*k*k);this.hl?(this.nc.xk=-this.Bc,t+=this.Bc*this.Bc*f.fa):(b=c.g.G,h=this.dn.Ue,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=f.g.G,k=this.wa.x-f.h.V.x,n=this.wa.y-f.h.V.y,p=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=p*h-n*g,this.nc.Ug.Q(-this.Bc*g,-this.Bc*h),this.nc.xk=-this.Bc*k,t+=this.Bc*
this.Bc*(f.T+f.fa*k*k));this.Z=0<t?1/t:0;a.Eg?(d.p.x+=d.T*this.t*this.nc.Tg.x,d.p.y+=d.T*this.t*this.nc.Tg.y,d.J+=d.fa*this.t*this.nc.wk,f.p.x+=f.T*this.t*this.nc.Ug.x,f.p.y+=f.T*this.t*this.nc.Ug.y,f.J+=f.fa*this.t*this.nc.xk):this.t=0};p.prototype.ef=function(){var a=this.Ga,b=this.Qa,c=-this.Z*this.nc.XA(a.p,a.J,b.p,b.J);this.t+=c;a.p.x+=a.T*c*this.nc.Tg.x;a.p.y+=a.T*c*this.nc.Tg.y;a.J+=a.fa*c*this.nc.wk;b.p.x+=b.T*c*this.nc.Ug.x;b.p.y+=b.T*c*this.nc.Ug.y;b.J+=b.fa*c*this.nc.xk};p.prototype.df=
function(){var b=this.Ga,c=this.Qa,d=0,f=0,d=this.gl?this.gl.ce():this.cn.Vn(),f=this.hl?this.hl.ce():this.dn.Vn(),d=-this.Z*(this.Zm-(d+this.Bc*f));b.h.o.x+=b.T*d*this.nc.Tg.x;b.h.o.y+=b.T*d*this.nc.Tg.y;b.h.R+=b.fa*d*this.nc.wk;c.h.o.x+=c.T*d*this.nc.Ug.x;c.h.o.y+=c.T*d*this.nc.Ug.y;c.h.R+=c.fa*d*this.nc.xk;b.tc();c.tc();return 0<a.yb};m.Fb(u,m.l.L.ua);u.prototype.la=m.l.L.ua.prototype;u.zo=function(){m.l.L.ua.ua.apply(this,arguments)};u.prototype.zo=function(){this.la.ua.call(this);this.type=t.sy;
this.Vk=this.Uk=null;this.sl=1};z.Qt=function(){this.Tg=new f;this.Ug=new f};z.prototype.La=function(){this.Tg.La();this.wk=0;this.Ug.La();this.xk=0};z.prototype.Q=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.Tg.N(a);this.wk=b;this.Ug.N(c);this.xk=d};z.prototype.XA=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.Tg.x*a.x+this.Tg.y*a.y+this.wk*b+(this.Ug.x*c.x+this.Ug.y*c.y)+this.xk*d};t.ja=function(){this.De=new L;this.Ee=new L;this.Mh=new f;this.Nh=new f};t.prototype.Db=
function(){return this.ib};t.prototype.xd=function(){return null};t.prototype.Ff=function(){return this.Ji};t.prototype.$n=function(a){this.Ji=a};t.prototype.pk=function(){return this.Ga.pk()&&this.Qa.pk()};t.Ie=function(a){var b=null;switch(a.type){case t.py:b=new h(a instanceof k?a:null);break;case t.uy:b=new T(a instanceof C?a:null);break;case t.wy:b=new V(a instanceof ja?a:null);break;case t.Cr:b=new Z(a instanceof Ca?a:null);break;case t.xy:b=new W(a instanceof D?a:null);break;case t.sy:b=new p(a instanceof
u?a:null);break;case t.ty:b=new M(a instanceof ca?a:null);break;case t.yy:b=new pa(a instanceof Da?a:null);break;case t.ry:b=new n(a instanceof q?a:null)}return b};t.jd=function(){};t.prototype.ja=function(b){a.hc(b.kb!=b.ub);this.ib=b.type;this.Ha=this.rd=null;this.Ga=b.kb;this.Qa=b.ub;this.uz=b.rr;this.bl=!1;this.Ji=b.lk};t.prototype.Gf=function(){};t.prototype.ef=function(){};t.prototype.dt=function(){};t.prototype.df=function(){return!1};m.Cc.push(function(){m.l.L.ja.hC=0;m.l.L.ja.Cr=1;m.l.L.ja.wy=
2;m.l.L.ja.py=3;m.l.L.ja.xy=4;m.l.L.ja.uy=5;m.l.L.ja.sy=6;m.l.L.ja.ty=7;m.l.L.ja.yy=8;m.l.L.ja.ry=9;m.l.L.ja.Ae=0;m.l.L.ja.zh=1;m.l.L.ja.Id=2;m.l.L.ja.pj=3});w.ua=function(){};w.prototype.ua=function(){this.type=t.hC;this.ub=this.kb=this.lk=null;this.rr=!1};L.Rt=function(){};m.Fb(M,m.l.L.ja);M.prototype.la=m.l.L.ja.prototype;M.Ao=function(){m.l.L.ja.ja.apply(this,arguments);this.ma=new f;this.wa=new f;this.Ue=new f;this.Ii=new f;this.ea=new f;this.Ca=new f;this.ta=new b;this.t=new f};M.prototype.xd=
function(){return this.Ga.bg(this.ma)};M.prototype.Vn=function(){var a=this.Ga,b=this.Qa,c=a.bg(this.ma),d=b.bg(this.wa),b=d.x-c.x,c=d.y-c.y,a=a.jt(this.Ue);return a.x*b+a.y*c};M.prototype.ph=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ga.Rd(!0);this.Qa.Rd(!0);this.Ve=a;this.We=b};M.prototype.Ao=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.wa.N(a.Xc);this.Ue.N(a.$k);this.Ii.x=-this.Ue.y;this.Ii.y=this.Ue.x;this.t.La();this.nb=this.Fe=0;this.Ve=a.ev;this.We=a.sw;this.pv=a.tv;
this.Hp=a.Mp;this.Vg=a.Jm;this.Nj=a.dp;this.Wa=t.Ae;this.ea.La();this.Ca.La()};M.prototype.Gf=function(b){var c=this.Ga,f=this.Qa,g,h=0;this.Mh.N(c.h.V);this.Nh.N(f.h.V);var k=c.cf();f.cf();g=c.g.G;var n=this.ma.x-this.Mh.x,p=this.ma.y-this.Mh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.G;var B=this.wa.x-this.Nh.x,q=this.wa.y-this.Nh.y,h=g.j.x*B+g.k.x*q,q=g.j.y*B+g.k.y*q,B=h;g=f.h.o.x+B-c.h.o.x-n;h=f.h.o.y+q-c.h.o.y-p;this.zc=c.T;this.Ac=f.T;this.oe=c.fa;this.pe=f.fa;this.ea.N(d.zd(k.G,this.Ue));
this.zb=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Ab=B*this.ea.y-q*this.ea.x;this.Fe=this.zc+this.Ac+this.oe*this.zb*this.zb+this.pe*this.Ab*this.Ab;this.Fe=this.Fe>Number.MIN_VALUE?1/this.Fe:0;this.Ca.N(d.zd(k.G,this.Ii));this.Hb=(g+n)*this.Ca.y-(h+p)*this.Ca.x;this.Ib=B*this.Ca.y-q*this.Ca.x;k=this.zc;n=this.Ac;p=this.oe;B=this.pe;this.ta.j.x=k+n+p*this.Hb*this.Hb+B*this.Ib*this.Ib;this.ta.j.y=p*this.Hb*this.zb+B*this.Ib*this.Ab;this.ta.k.x=this.ta.j.y;this.ta.k.y=k+n+p*this.zb*this.zb+B*this.Ab*this.Ab;
this.Vg?(g=this.ea.x*g+this.ea.y*h,d.hd(this.We-this.Ve)<2*a.yb?this.Wa=t.pj:g<=this.Ve?this.Wa!=t.zh&&(this.Wa=t.zh,this.t.y=0):g>=this.We?this.Wa!=t.Id&&(this.Wa=t.Id,this.t.y=0):(this.Wa=t.Ae,this.t.y=0)):this.Wa=t.Ae;0==this.Nj&&(this.nb=0);b.Eg?(this.t.x*=b.Fc,this.t.y*=b.Fc,this.nb*=b.Fc,b=this.t.x*this.Ca.x+(this.nb+this.t.y)*this.ea.x,g=this.t.x*this.Ca.y+(this.nb+this.t.y)*this.ea.y,h=this.t.x*this.Hb+(this.nb+this.t.y)*this.zb,k=this.t.x*this.Ib+(this.nb+this.t.y)*this.Ab,c.p.x-=this.zc*
b,c.p.y-=this.zc*g,c.J-=this.oe*h,f.p.x+=this.Ac*b,f.p.y+=this.Ac*g,f.J+=this.pe*k):(this.t.La(),this.nb=0)};M.prototype.ef=function(a){var b=this.Ga,c=this.Qa,g=b.p,h=b.J,k=c.p,n=c.J,p=0,B=0,q=0,u=0;this.Nj&&this.Wa!=t.pj&&(u=this.Fe*(this.Hp-(this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Ab*n-this.zb*h)),p=this.nb,B=a.Ua*this.pv,this.nb=d.Bb(this.nb+u,-B,B),u=this.nb-p,p=u*this.ea.x,B=u*this.ea.y,q=u*this.zb,u*=this.Ab,g.x-=this.zc*p,g.y-=this.zc*B,h-=this.oe*q,k.x+=this.Ac*p,k.y+=this.Ac*B,n+=this.pe*
u);B=this.Ca.x*(k.x-g.x)+this.Ca.y*(k.y-g.y)+this.Ib*n-this.Hb*h;this.Vg&&this.Wa!=t.Ae?(q=this.ea.x*(k.x-g.x)+this.ea.y*(k.y-g.y)+this.Ab*n-this.zb*h,p=this.t.Cb(),a=this.ta.uk(new f,-B,-q),this.t.Fg(a),this.Wa==t.zh?this.t.y=d.de(this.t.y,0):this.Wa==t.Id&&(this.t.y=d.rk(this.t.y,0)),B=-B-(this.t.y-p.y)*this.ta.k.x,q=0!=this.ta.j.x?B/this.ta.j.x+p.x:p.x,this.t.x=q,a.x=this.t.x-p.x,a.y=this.t.y-p.y,p=a.x*this.Ca.x+a.y*this.ea.x,B=a.x*this.Ca.y+a.y*this.ea.y,q=a.x*this.Hb+a.y*this.zb,u=a.x*this.Ib+
a.y*this.Ab):(a=0!=this.ta.j.x?-B/this.ta.j.x:0,this.t.x+=a,p=a*this.Ca.x,B=a*this.Ca.y,q=a*this.Hb,u=a*this.Ib);g.x-=this.zc*p;g.y-=this.zc*B;h-=this.oe*q;k.x+=this.Ac*p;k.y+=this.Ac*B;n+=this.pe*u;b.p.N(g);b.J=h;c.p.N(k);c.J=n};M.prototype.df=function(){var c=this.Ga,g=this.Qa,h=c.h.o,k=c.h.R,n=g.h.o,p=g.h.R,H,q=0,B=0,t=0,u=0,z=0,w=0,B=!1,C=0,D=b.Eq(k),t=b.Eq(p);H=D;var w=this.ma.x-this.Mh.x,L=this.ma.y-this.Mh.y,q=H.j.x*w+H.k.x*L,L=H.j.y*w+H.k.y*L,w=q;H=t;t=this.wa.x-this.Nh.x;u=this.wa.y-this.Nh.y;
q=H.j.x*t+H.k.x*u;u=H.j.y*t+H.k.y*u;t=q;H=n.x+t-h.x-w;q=n.y+u-h.y-L;if(this.Vg){this.ea=d.zd(D,this.Ue);this.zb=(H+w)*this.ea.y-(q+L)*this.ea.x;this.Ab=t*this.ea.y-u*this.ea.x;var M=this.ea.x*H+this.ea.y*q;d.hd(this.We-this.Ve)<2*a.yb?(C=d.Bb(M,-a.jf,a.jf),z=d.hd(M),B=!0):M<=this.Ve?(C=d.Bb(M-this.Ve+a.yb,-a.jf,0),z=this.Ve-M,B=!0):M>=this.We&&(C=d.Bb(M-this.We+a.yb,0,a.jf),z=M-this.We,B=!0)}this.Ca=d.zd(D,this.Ii);this.Hb=(H+w)*this.Ca.y-(q+L)*this.Ca.x;this.Ib=t*this.Ca.y-u*this.Ca.x;D=new f;L=
this.Ca.x*H+this.Ca.y*q;z=d.de(z,d.hd(L));w=0;B?(B=this.zc,t=this.Ac,u=this.oe,H=this.pe,this.ta.j.x=B+t+u*this.Hb*this.Hb+H*this.Ib*this.Ib,this.ta.j.y=u*this.Hb*this.zb+H*this.Ib*this.Ab,this.ta.k.x=this.ta.j.y,this.ta.k.y=B+t+u*this.zb*this.zb+H*this.Ab*this.Ab,this.ta.uk(D,-L,-C)):(B=this.zc,t=this.Ac,u=this.oe,H=this.pe,C=B+t+u*this.Hb*this.Hb+H*this.Ib*this.Ib,D.x=0!=C?-L/C:0,D.y=0);C=D.x*this.Ca.x+D.y*this.ea.x;B=D.x*this.Ca.y+D.y*this.ea.y;L=D.x*this.Hb+D.y*this.zb;D=D.x*this.Ib+D.y*this.Ab;
h.x-=this.zc*C;h.y-=this.zc*B;k-=this.oe*L;n.x+=this.Ac*C;n.y+=this.Ac*B;p+=this.pe*D;c.h.R=k;g.h.R=p;c.tc();g.tc();return z<=a.yb&&w<=a.Ak};m.Fb(ca,m.l.L.ua);ca.prototype.la=m.l.L.ua.prototype;ca.Bo=function(){m.l.L.ua.ua.apply(this,arguments);this.Wc=new f;this.Xc=new f;this.$k=new f};ca.prototype.Bo=function(){this.la.ua.call(this);this.type=t.ty;this.$k.Q(1,0);this.Jm=!1;this.sw=this.ev=0;this.dp=!1;this.Mp=this.tv=0};ca.prototype.kd=function(a,b,c,d){this.kb=a;this.ub=b;this.Wc=this.kb.bf(c);
this.Xc=this.ub.bf(c);this.$k=this.kb.ht(d)};m.Fb(T,m.l.L.ja);T.prototype.la=m.l.L.ja.prototype;T.Eo=function(){m.l.L.ja.ja.apply(this,arguments);this.yd=new b;this.Hg=new b;this.Ig=new b;this.bn=new f;this.en=new f;this.t=new f;this.Z=new b;this.cs=new f};T.prototype.xd=function(){return this.en};T.prototype.Eo=function(a){this.la.ja.call(this,a);this.en.N(a.target);var b=this.en.x-this.Qa.g.position.x,c=this.en.y-this.Qa.g.position.y,d=this.Qa.g.G;this.bn.x=b*d.j.x+c*d.j.y;this.bn.y=b*d.k.x+c*d.k.y;
this.ov=a.sv;this.t.La();this.Dp=a.Mr;this.iv=a.tr;this.ne=this.gv=0};T.prototype.Gf=function(a){var b=this.Qa,c=b.Z,d=2*Math.PI*this.Dp,f=c*d*d;this.ne=a.Ua*(2*c*this.iv*d+a.Ua*f);this.ne=0!=this.ne?1/this.ne:0;this.gv=a.Ua*f*this.ne;var f=b.g.G,c=this.bn.x-b.h.V.x,d=this.bn.y-b.h.V.y,g=f.j.x*c+f.k.x*d,d=f.j.y*c+f.k.y*d,c=g,f=b.T,g=b.fa;this.Hg.j.x=f;this.Hg.k.x=0;this.Hg.j.y=0;this.Hg.k.y=f;this.Ig.j.x=g*d*d;this.Ig.k.x=-g*c*d;this.Ig.j.y=-g*c*d;this.Ig.k.y=g*c*c;this.yd.tk(this.Hg);this.yd.yq(this.Ig);
this.yd.j.x+=this.ne;this.yd.k.y+=this.ne;this.yd.gt(this.Z);this.cs.x=b.h.o.x+c-this.en.x;this.cs.y=b.h.o.y+d-this.en.y;b.J*=.98;this.t.x*=a.Fc;this.t.y*=a.Fc;b.p.x+=f*this.t.x;b.p.y+=f*this.t.y;b.J+=g*(c*this.t.y-d*this.t.x)};T.prototype.ef=function(a){var b=this.Qa,c,d=0,f=0;c=b.g.G;var g=this.bn.x-b.h.V.x,h=this.bn.y-b.h.V.y,d=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=d,d=b.p.x+-b.J*h,k=b.p.y+b.J*g;c=this.Z;d=d+this.gv*this.cs.x+this.ne*this.t.x;f=k+this.gv*this.cs.y+this.ne*this.t.y;k=-(c.j.x*d+c.k.x*
f);f=-(c.j.y*d+c.k.y*f);c=this.t.x;d=this.t.y;this.t.x+=k;this.t.y+=f;a=a.Ua*this.ov;this.t.Mq()>a*a&&this.t.ca(a/this.t.cg());k=this.t.x-c;f=this.t.y-d;b.p.x+=b.T*k;b.p.y+=b.T*f;b.J+=b.fa*(g*f-h*k)};T.prototype.df=function(){return!0};m.Fb(C,m.l.L.ua);C.prototype.la=m.l.L.ua.prototype;C.bm=function(){m.l.L.ua.ua.apply(this,arguments);this.target=new f};C.prototype.bm=function(){this.la.ua.call(this);this.type=t.uy;this.sv=0;this.Mr=5;this.tr=.7};m.Fb(V,m.l.L.ja);V.prototype.la=m.l.L.ja.prototype;
V.Go=function(){m.l.L.ja.ja.apply(this,arguments);this.ma=new f;this.wa=new f;this.Ue=new f;this.Ii=new f;this.ea=new f;this.Ca=new f;this.ta=new c;this.t=new g};V.prototype.xd=function(){return this.Ga.bg(this.ma)};V.prototype.Vn=function(){var a=this.Ga,b=this.Qa,c=a.bg(this.ma),d=b.bg(this.wa),b=d.x-c.x,c=d.y-c.y,a=a.jt(this.Ue);return a.x*b+a.y*c};V.prototype.ph=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ga.Rd(!0);this.Qa.Rd(!0);this.Ve=a;this.We=b};V.prototype.Go=function(a){this.la.ja.call(this,
a);this.ma.N(a.Wc);this.wa.N(a.Xc);this.Ue.N(a.$k);this.Ii.x=-this.Ue.y;this.Ii.y=this.Ue.x;this.gD=a.$j;this.t.La();this.nb=this.Fe=0;this.Ve=a.ev;this.We=a.sw;this.pv=a.tv;this.Hp=a.Mp;this.Vg=a.Jm;this.Nj=a.dp;this.Wa=t.Ae;this.ea.La();this.Ca.La()};V.prototype.Gf=function(b){var c=this.Ga,f=this.Qa,g,h=0;this.Mh.N(c.h.V);this.Nh.N(f.h.V);var k=c.cf();f.cf();g=c.g.G;var n=this.ma.x-this.Mh.x,p=this.ma.y-this.Mh.y,h=g.j.x*n+g.k.x*p,p=g.j.y*n+g.k.y*p,n=h;g=f.g.G;var B=this.wa.x-this.Nh.x,q=this.wa.y-
this.Nh.y,h=g.j.x*B+g.k.x*q,q=g.j.y*B+g.k.y*q,B=h;g=f.h.o.x+B-c.h.o.x-n;h=f.h.o.y+q-c.h.o.y-p;this.zc=c.T;this.Ac=f.T;this.oe=c.fa;this.pe=f.fa;this.ea.N(d.zd(k.G,this.Ue));this.zb=(g+n)*this.ea.y-(h+p)*this.ea.x;this.Ab=B*this.ea.y-q*this.ea.x;this.Fe=this.zc+this.Ac+this.oe*this.zb*this.zb+this.pe*this.Ab*this.Ab;this.Fe>Number.MIN_VALUE&&(this.Fe=1/this.Fe);this.Ca.N(d.zd(k.G,this.Ii));this.Hb=(g+n)*this.Ca.y-(h+p)*this.Ca.x;this.Ib=B*this.Ca.y-q*this.Ca.x;k=this.zc;n=this.Ac;p=this.oe;B=this.pe;
this.ta.j.x=k+n+p*this.Hb*this.Hb+B*this.Ib*this.Ib;this.ta.j.y=p*this.Hb+B*this.Ib;this.ta.j.z=p*this.Hb*this.zb+B*this.Ib*this.Ab;this.ta.k.x=this.ta.j.y;this.ta.k.y=p+B;this.ta.k.z=p*this.zb+B*this.Ab;this.ta.Fa.x=this.ta.j.z;this.ta.Fa.y=this.ta.k.z;this.ta.Fa.z=k+n+p*this.zb*this.zb+B*this.Ab*this.Ab;this.Vg?(g=this.ea.x*g+this.ea.y*h,d.hd(this.We-this.Ve)<2*a.yb?this.Wa=t.pj:g<=this.Ve?this.Wa!=t.zh&&(this.Wa=t.zh,this.t.z=0):g>=this.We?this.Wa!=t.Id&&(this.Wa=t.Id,this.t.z=0):(this.Wa=t.Ae,
this.t.z=0)):this.Wa=t.Ae;0==this.Nj&&(this.nb=0);b.Eg?(this.t.x*=b.Fc,this.t.y*=b.Fc,this.nb*=b.Fc,b=this.t.x*this.Ca.x+(this.nb+this.t.z)*this.ea.x,g=this.t.x*this.Ca.y+(this.nb+this.t.z)*this.ea.y,h=this.t.x*this.Hb+this.t.y+(this.nb+this.t.z)*this.zb,k=this.t.x*this.Ib+this.t.y+(this.nb+this.t.z)*this.Ab,c.p.x-=this.zc*b,c.p.y-=this.zc*g,c.J-=this.oe*h,f.p.x+=this.Ac*b,f.p.y+=this.Ac*g,f.J+=this.pe*k):(this.t.La(),this.nb=0)};V.prototype.ef=function(a){var b=this.Ga,c=this.Qa,h=b.p,k=b.J,n=c.p,
p=c.J,q=0,B=0,u=0,z=0;this.Nj&&this.Wa!=t.pj&&(z=this.Fe*(this.Hp-(this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Ab*p-this.zb*k)),q=this.nb,a=a.Ua*this.pv,this.nb=d.Bb(this.nb+z,-a,a),z=this.nb-q,q=z*this.ea.x,B=z*this.ea.y,u=z*this.zb,z*=this.Ab,h.x-=this.zc*q,h.y-=this.zc*B,k-=this.oe*u,n.x+=this.Ac*q,n.y+=this.Ac*B,p+=this.pe*z);u=this.Ca.x*(n.x-h.x)+this.Ca.y*(n.y-h.y)+this.Ib*p-this.Hb*k;B=p-k;this.Vg&&this.Wa!=t.Ae?(a=this.ea.x*(n.x-h.x)+this.ea.y*(n.y-h.y)+this.Ab*p-this.zb*k,q=this.t.Cb(),
a=this.ta.bo(new g,-u,-B,-a),this.t.Fg(a),this.Wa==t.zh?this.t.z=d.de(this.t.z,0):this.Wa==t.Id&&(this.t.z=d.rk(this.t.z,0)),u=-u-(this.t.z-q.z)*this.ta.Fa.x,B=-B-(this.t.z-q.z)*this.ta.Fa.y,B=this.ta.Rl(new f,u,B),B.x+=q.x,B.y+=q.y,this.t.x=B.x,this.t.y=B.y,a.x=this.t.x-q.x,a.y=this.t.y-q.y,a.z=this.t.z-q.z,q=a.x*this.Ca.x+a.z*this.ea.x,B=a.x*this.Ca.y+a.z*this.ea.y,u=a.x*this.Hb+a.y+a.z*this.zb,z=a.x*this.Ib+a.y+a.z*this.Ab):(a=this.ta.Rl(new f,-u,-B),this.t.x+=a.x,this.t.y+=a.y,q=a.x*this.Ca.x,
B=a.x*this.Ca.y,u=a.x*this.Hb+a.y,z=a.x*this.Ib+a.y);h.x-=this.zc*q;h.y-=this.zc*B;k-=this.oe*u;n.x+=this.Ac*q;n.y+=this.Ac*B;p+=this.pe*z;b.p.N(h);b.J=k;c.p.N(n);c.J=p};V.prototype.df=function(){var c=this.Ga,h=this.Qa,k=c.h.o,n=c.h.R,p=h.h.o,q=h.h.R,H,t=0,B=0,u=0,z=0,w=0,B=!1,C=0,D=b.Eq(n),L=b.Eq(q);H=D;var w=this.ma.x-this.Mh.x,M=this.ma.y-this.Mh.y,t=H.j.x*w+H.k.x*M,M=H.j.y*w+H.k.y*M,w=t;H=L;L=this.wa.x-this.Nh.x;u=this.wa.y-this.Nh.y;t=H.j.x*L+H.k.x*u;u=H.j.y*L+H.k.y*u;L=t;H=p.x+L-k.x-w;t=p.y+
u-k.y-M;if(this.Vg){this.ea=d.zd(D,this.Ue);this.zb=(H+w)*this.ea.y-(t+M)*this.ea.x;this.Ab=L*this.ea.y-u*this.ea.x;var T=this.ea.x*H+this.ea.y*t;d.hd(this.We-this.Ve)<2*a.yb?(C=d.Bb(T,-a.jf,a.jf),z=d.hd(T),B=!0):T<=this.Ve?(C=d.Bb(T-this.Ve+a.yb,-a.jf,0),z=this.Ve-T,B=!0):T>=this.We&&(C=d.Bb(T-this.We+a.yb,0,a.jf),z=T-this.We,B=!0)}this.Ca=d.zd(D,this.Ii);this.Hb=(H+w)*this.Ca.y-(t+M)*this.Ca.x;this.Ib=L*this.Ca.y-u*this.Ca.x;D=new g;M=this.Ca.x*H+this.Ca.y*t;L=q-n-this.gD;z=d.de(z,d.hd(M));w=d.hd(L);
B?(B=this.zc,u=this.Ac,H=this.oe,t=this.pe,this.ta.j.x=B+u+H*this.Hb*this.Hb+t*this.Ib*this.Ib,this.ta.j.y=H*this.Hb+t*this.Ib,this.ta.j.z=H*this.Hb*this.zb+t*this.Ib*this.Ab,this.ta.k.x=this.ta.j.y,this.ta.k.y=H+t,this.ta.k.z=H*this.zb+t*this.Ab,this.ta.Fa.x=this.ta.j.z,this.ta.Fa.y=this.ta.k.z,this.ta.Fa.z=B+u+H*this.zb*this.zb+t*this.Ab*this.Ab,this.ta.bo(D,-M,-L,-C)):(B=this.zc,u=this.Ac,H=this.oe,t=this.pe,C=H*this.Hb+t*this.Ib,T=H+t,this.ta.j.Q(B+u+H*this.Hb*this.Hb+t*this.Ib*this.Ib,C,0),this.ta.k.Q(C,
T,0),C=this.ta.Rl(new f,-M,-L),D.x=C.x,D.y=C.y,D.z=0);C=D.x*this.Ca.x+D.z*this.ea.x;B=D.x*this.Ca.y+D.z*this.ea.y;M=D.x*this.Hb+D.y+D.z*this.zb;D=D.x*this.Ib+D.y+D.z*this.Ab;k.x-=this.zc*C;k.y-=this.zc*B;n-=this.oe*M;p.x+=this.Ac*C;p.y+=this.Ac*B;q+=this.pe*D;c.h.R=n;h.h.R=q;c.tc();h.tc();return z<=a.yb&&w<=a.Ak};m.Fb(ja,m.l.L.ua);ja.prototype.la=m.l.L.ua.prototype;ja.Ho=function(){m.l.L.ua.ua.apply(this,arguments);this.Wc=new f;this.Xc=new f;this.$k=new f};ja.prototype.Ho=function(){this.la.ua.call(this);
this.type=t.wy;this.$k.Q(1,0);this.$j=0;this.Jm=!1;this.sw=this.ev=0;this.dp=!1;this.Mp=this.tv=0};ja.prototype.kd=function(a,b,c,d){this.kb=a;this.ub=b;this.Wc=this.kb.bf(c);this.Xc=this.ub.bf(c);this.$k=this.kb.ht(d);this.$j=this.ub.ga()-this.kb.ga()};m.Fb(W,m.l.L.ja);W.prototype.la=m.l.L.ja.prototype;W.cm=function(){m.l.L.ja.ja.apply(this,arguments);this.Fi=new f;this.Gi=new f;this.ma=new f;this.wa=new f;this.Pb=new f;this.Qb=new f};W.prototype.xd=function(){return this.Ga.bg(this.ma)};W.prototype.cm=
function(a){this.la.ja.call(this,a);this.rg=this.Ga.sd.$C;this.Fi.x=a.Sr.x-this.rg.g.position.x;this.Fi.y=a.Sr.y-this.rg.g.position.y;this.Gi.x=a.Tr.x-this.rg.g.position.x;this.Gi.y=a.Tr.y-this.rg.g.position.y;this.ma.N(a.Wc);this.wa.N(a.Xc);this.Bc=a.sl;this.Zm=a.av+this.Bc*a.bv;this.Dz=d.rk(a.Fz,this.Zm-this.Bc*W.lr);this.Ez=d.rk(a.Gz,(this.Zm-W.lr)/this.Bc);this.Lh=this.Kh=this.t=0};W.prototype.Gf=function(b){var c=this.Ga,d=this.Qa,f;f=c.g.G;var g=this.ma.x-c.h.V.x,h=this.ma.y-c.h.V.y,k=f.j.x*
g+f.k.x*h,h=f.j.y*g+f.k.y*h,g=k;f=d.g.G;var n=this.wa.x-d.h.V.x,p=this.wa.y-d.h.V.y,k=f.j.x*n+f.k.x*p,p=f.j.y*n+f.k.y*p,n=k;f=d.h.o.x+n;var k=d.h.o.y+p,q=this.rg.g.position.x+this.Gi.x,u=this.rg.g.position.y+this.Gi.y;this.Pb.Q(c.h.o.x+g-(this.rg.g.position.x+this.Fi.x),c.h.o.y+h-(this.rg.g.position.y+this.Fi.y));this.Qb.Q(f-q,k-u);f=this.Pb.cg();k=this.Qb.cg();f>a.yb?this.Pb.ca(1/f):this.Pb.La();k>a.yb?this.Qb.ca(1/k):this.Qb.La();0<this.Zm-f-this.Bc*k?(this.rv=t.Ae,this.t=0):this.rv=t.Id;f<this.Dz?
(this.lv=t.Ae,this.Kh=0):this.lv=t.Id;k<this.Ez?(this.mv=t.Ae,this.Lh=0):this.mv=t.Id;f=g*this.Pb.y-h*this.Pb.x;k=n*this.Qb.y-p*this.Qb.x;this.Ep=c.T+c.fa*f*f;this.Fp=d.T+d.fa*k*k;this.ds=this.Ep+this.Bc*this.Bc*this.Fp;this.Ep=1/this.Ep;this.Fp=1/this.Fp;this.ds=1/this.ds;b.Eg?(this.t*=b.Fc,this.Kh*=b.Fc,this.Lh*=b.Fc,b=(-this.t-this.Kh)*this.Pb.x,f=(-this.t-this.Kh)*this.Pb.y,k=(-this.Bc*this.t-this.Lh)*this.Qb.x,q=(-this.Bc*this.t-this.Lh)*this.Qb.y,c.p.x+=c.T*b,c.p.y+=c.T*f,c.J+=c.fa*(g*f-h*b),
d.p.x+=d.T*k,d.p.y+=d.T*q,d.J+=d.fa*(n*q-p*k)):this.Lh=this.Kh=this.t=0};W.prototype.ef=function(){var a=this.Ga,b=this.Qa,c;c=a.g.G;var f=this.ma.x-a.h.V.x,g=this.ma.y-a.h.V.y,h=c.j.x*f+c.k.x*g,g=c.j.y*f+c.k.y*g,f=h;c=b.g.G;var k=this.wa.x-b.h.V.x,n=this.wa.y-b.h.V.y,h=c.j.x*k+c.k.x*n,n=c.j.y*k+c.k.y*n,k=h,p=0,q=0;this.rv==t.Id&&(c=a.p.x+-a.J*g,h=a.p.y+a.J*f,p=b.p.x+-b.J*n,q=b.p.y+b.J*k,c=-(this.Pb.x*c+this.Pb.y*h)-this.Bc*(this.Qb.x*p+this.Qb.y*q),q=this.ds*-c,c=this.t,this.t=d.de(0,this.t+q),q=
this.t-c,c=-q*this.Pb.x,h=-q*this.Pb.y,p=-this.Bc*q*this.Qb.x,q=-this.Bc*q*this.Qb.y,a.p.x+=a.T*c,a.p.y+=a.T*h,a.J+=a.fa*(f*h-g*c),b.p.x+=b.T*p,b.p.y+=b.T*q,b.J+=b.fa*(k*q-n*p));this.lv==t.Id&&(c=a.p.x+-a.J*g,h=a.p.y+a.J*f,c=-(this.Pb.x*c+this.Pb.y*h),q=-this.Ep*c,c=this.Kh,this.Kh=d.de(0,this.Kh+q),q=this.Kh-c,c=-q*this.Pb.x,h=-q*this.Pb.y,a.p.x+=a.T*c,a.p.y+=a.T*h,a.J+=a.fa*(f*h-g*c));this.mv==t.Id&&(p=b.p.x+-b.J*n,q=b.p.y+b.J*k,c=-(this.Qb.x*p+this.Qb.y*q),q=-this.Fp*c,c=this.Lh,this.Lh=d.de(0,
this.Lh+q),q=this.Lh-c,p=-q*this.Qb.x,q=-q*this.Qb.y,b.p.x+=b.T*p,b.p.y+=b.T*q,b.J+=b.fa*(k*q-n*p))};W.prototype.df=function(){var b=this.Ga,c=this.Qa,f,g=this.rg.g.position.x+this.Fi.x,h=this.rg.g.position.y+this.Fi.y,k=this.rg.g.position.x+this.Gi.x,n=this.rg.g.position.y+this.Gi.y,p=0,q=0,u=0,z=0,w=0,C=0,D=0,L=0;this.rv==t.Id&&(f=b.g.G,p=this.ma.x-b.h.V.x,q=this.ma.y-b.h.V.y,w=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=w,f=c.g.G,u=this.wa.x-c.h.V.x,z=this.wa.y-c.h.V.y,w=f.j.x*u+f.k.x*z,z=f.j.y*u+f.k.y*
z,u=w,f=b.h.o.x+p,w=b.h.o.y+q,C=c.h.o.x+u,D=c.h.o.y+z,this.Pb.Q(f-g,w-h),this.Qb.Q(C-k,D-n),f=this.Pb.cg(),w=this.Qb.cg(),f>a.yb?this.Pb.ca(1/f):this.Pb.La(),w>a.yb?this.Qb.ca(1/w):this.Qb.La(),f=this.Zm-f-this.Bc*w,L=d.de(L,-f),f=d.Bb(f+a.yb,-a.jf,0),D=-this.ds*f,f=-D*this.Pb.x,w=-D*this.Pb.y,C=-this.Bc*D*this.Qb.x,D=-this.Bc*D*this.Qb.y,b.h.o.x+=b.T*f,b.h.o.y+=b.T*w,b.h.R+=b.fa*(p*w-q*f),c.h.o.x+=c.T*C,c.h.o.y+=c.T*D,c.h.R+=c.fa*(u*D-z*C),b.tc(),c.tc());this.lv==t.Id&&(f=b.g.G,p=this.ma.x-b.h.V.x,
q=this.ma.y-b.h.V.y,w=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=w,f=b.h.o.x+p,w=b.h.o.y+q,this.Pb.Q(f-g,w-h),f=this.Pb.cg(),f>a.yb?(this.Pb.x*=1/f,this.Pb.y*=1/f):this.Pb.La(),f=this.Dz-f,L=d.de(L,-f),f=d.Bb(f+a.yb,-a.jf,0),D=-this.Ep*f,f=-D*this.Pb.x,w=-D*this.Pb.y,b.h.o.x+=b.T*f,b.h.o.y+=b.T*w,b.h.R+=b.fa*(p*w-q*f),b.tc());this.mv==t.Id&&(f=c.g.G,u=this.wa.x-c.h.V.x,z=this.wa.y-c.h.V.y,w=f.j.x*u+f.k.x*z,z=f.j.y*u+f.k.y*z,u=w,C=c.h.o.x+u,D=c.h.o.y+z,this.Qb.Q(C-k,D-n),w=this.Qb.cg(),w>a.yb?(this.Qb.x*=
1/w,this.Qb.y*=1/w):this.Qb.La(),f=this.Ez-w,L=d.de(L,-f),f=d.Bb(f+a.yb,-a.jf,0),D=-this.Fp*f,C=-D*this.Qb.x,D=-D*this.Qb.y,c.h.o.x+=c.T*C,c.h.o.y+=c.T*D,c.h.R+=c.fa*(u*D-z*C),c.tc());return L<a.yb};m.Cc.push(function(){m.l.L.cm.lr=2});m.Fb(D,m.l.L.ua);D.prototype.la=m.l.L.ua.prototype;D.Io=function(){m.l.L.ua.ua.apply(this,arguments);this.Sr=new f;this.Tr=new f;this.Wc=new f;this.Xc=new f};D.prototype.Io=function(){this.la.ua.call(this);this.type=t.xy;this.Sr.Q(-1,1);this.Tr.Q(1,1);this.Wc.Q(-1,
0);this.Xc.Q(1,0);this.Gz=this.bv=this.Fz=this.av=0;this.sl=1;this.rr=!0};D.prototype.kd=function(a,b,c,d,f,g,h){void 0===h&&(h=0);this.kb=a;this.ub=b;this.Sr.N(c);this.Tr.N(d);this.Wc=this.kb.bf(f);this.Xc=this.ub.bf(g);a=f.x-c.x;c=f.y-c.y;this.av=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.bv=Math.sqrt(c*c+d*d);this.sl=h;h=this.av+this.sl*this.bv;this.Fz=h-this.sl*W.lr;this.Gz=(h-W.lr)/this.sl};m.Fb(Z,m.l.L.ja);Z.prototype.la=m.l.L.ja.prototype;Z.dm=function(){m.l.L.ja.ja.apply(this,arguments);
this.yd=new b;this.Hg=new b;this.Ig=new b;this.Xn=new b;this.nd=new g;this.Pg=new f;this.Zh=new f;this.ma=new f;this.wa=new f;this.t=new g;this.Z=new c};Z.prototype.xd=function(){return this.Ga.bg(this.ma)};Z.prototype.ce=function(){return this.Qa.h.R-this.Ga.h.R-this.Kp};Z.prototype.ph=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Gp=a;this.fs=b};Z.prototype.dm=function(a){this.la.ja.call(this,a);this.ma.N(a.Wc);this.wa.N(a.Xc);this.Kp=a.$j;this.t.La();this.nb=0;this.Gp=a.rz;this.fs=a.HA;
this.eD=a.lD;this.Hp=a.Mp;this.Vg=a.Jm;this.Nj=a.dp;this.Wa=t.Ae};Z.prototype.Gf=function(b){var c=this.Ga,f=this.Qa,g,h=0;g=c.g.G;var k=this.ma.x-c.h.V.x,n=this.ma.y-c.h.V.y,h=g.j.x*k+g.k.x*n,n=g.j.y*k+g.k.y*n,k=h;g=f.g.G;var p=this.wa.x-f.h.V.x,q=this.wa.y-f.h.V.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=c.T;var h=f.T,u=c.fa,w=f.fa;this.Z.j.x=g+h+n*n*u+q*q*w;this.Z.k.x=-n*k*u-q*p*w;this.Z.Fa.x=-n*u-q*w;this.Z.j.y=this.Z.k.x;this.Z.k.y=g+h+k*k*u+p*p*w;this.Z.Fa.y=k*u+p*w;this.Z.j.z=this.Z.Fa.x;
this.Z.k.z=this.Z.Fa.y;this.Z.Fa.z=u+w;this.Fe=1/(u+w);0==this.Nj&&(this.nb=0);if(this.Vg){var z=f.h.R-c.h.R-this.Kp;d.hd(this.fs-this.Gp)<2*a.Ak?this.Wa=t.pj:z<=this.Gp?(this.Wa!=t.zh&&(this.t.z=0),this.Wa=t.zh):z>=this.fs?(this.Wa!=t.Id&&(this.t.z=0),this.Wa=t.Id):(this.Wa=t.Ae,this.t.z=0)}else this.Wa=t.Ae;b.Eg?(this.t.x*=b.Fc,this.t.y*=b.Fc,this.nb*=b.Fc,b=this.t.x,z=this.t.y,c.p.x-=g*b,c.p.y-=g*z,c.J-=u*(k*z-n*b+this.nb+this.t.z),f.p.x+=h*b,f.p.y+=h*z,f.J+=w*(p*z-q*b+this.nb+this.t.z)):(this.t.La(),
this.nb=0)};Z.prototype.ef=function(a){var b=this.Ga,c=this.Qa,f=0,g=0,h=0,k=0,n=0,p=b.p,q=b.J,u=c.p,w=c.J,z=b.T,D=c.T,C=b.fa,L=c.fa;this.Nj&&this.Wa!=t.pj&&(g=this.Fe*-(w-q-this.Hp),h=this.nb,k=a.Ua*this.eD,this.nb=d.Bb(this.nb+g,-k,k),g=this.nb-h,q-=C*g,w+=L*g);if(this.Vg&&this.Wa!=t.Ae){a=b.g.G;g=this.ma.x-b.h.V.x;h=this.ma.y-b.h.V.y;f=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=f;a=c.g.G;k=this.wa.x-c.h.V.x;n=this.wa.y-c.h.V.y;f=a.j.x*k+a.k.x*n;n=a.j.y*k+a.k.y*n;k=f;a=u.x+-w*n-p.x- -q*h;var M=u.y+w*k-
p.y-q*g;this.Z.bo(this.nd,-a,-M,-(w-q));this.Wa==t.pj?this.t.Fg(this.nd):this.Wa==t.zh?(f=this.t.z+this.nd.z,0>f&&(this.Z.Rl(this.Zh,-a,-M),this.nd.x=this.Zh.x,this.nd.y=this.Zh.y,this.nd.z=-this.t.z,this.t.x+=this.Zh.x,this.t.y+=this.Zh.y,this.t.z=0)):this.Wa==t.Id&&(f=this.t.z+this.nd.z,0<f&&(this.Z.Rl(this.Zh,-a,-M),this.nd.x=this.Zh.x,this.nd.y=this.Zh.y,this.nd.z=-this.t.z,this.t.x+=this.Zh.x,this.t.y+=this.Zh.y,this.t.z=0));p.x-=z*this.nd.x;p.y-=z*this.nd.y;q-=C*(g*this.nd.y-h*this.nd.x+this.nd.z);
u.x+=D*this.nd.x;u.y+=D*this.nd.y;w+=L*(k*this.nd.y-n*this.nd.x+this.nd.z)}else a=b.g.G,g=this.ma.x-b.h.V.x,h=this.ma.y-b.h.V.y,f=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=f,a=c.g.G,k=this.wa.x-c.h.V.x,n=this.wa.y-c.h.V.y,f=a.j.x*k+a.k.x*n,n=a.j.y*k+a.k.y*n,k=f,this.Z.Rl(this.Pg,-(u.x+-w*n-p.x- -q*h),-(u.y+w*k-p.y-q*g)),this.t.x+=this.Pg.x,this.t.y+=this.Pg.y,p.x-=z*this.Pg.x,p.y-=z*this.Pg.y,q-=C*(g*this.Pg.y-h*this.Pg.x),u.x+=D*this.Pg.x,u.y+=D*this.Pg.y,w+=L*(k*this.Pg.y-n*this.Pg.x);b.p.N(p);b.J=q;
c.p.N(u);c.J=w};Z.prototype.df=function(){var b=0,c,f=this.Ga,g=this.Qa,h=0,k=0,n=0,p=0;if(this.Vg&&this.Wa!=t.Ae){var b=g.h.R-f.h.R-this.Kp,q=0;this.Wa==t.pj?(b=d.Bb(b-this.Gp,-a.kr,a.kr),q=-this.Fe*b,h=d.hd(b)):this.Wa==t.zh?(b-=this.Gp,h=-b,b=d.Bb(b+a.Ak,-a.kr,0),q=-this.Fe*b):this.Wa==t.Id&&(h=b-=this.fs,b=d.Bb(b-a.Ak,0,a.kr),q=-this.Fe*b);f.h.R-=f.fa*q;g.h.R+=g.fa*q;f.tc();g.tc()}c=f.g.G;q=this.ma.x-f.h.V.x;b=this.ma.y-f.h.V.y;k=c.j.x*q+c.k.x*b;b=c.j.y*q+c.k.y*b;q=k;c=g.g.G;var u=this.wa.x-g.h.V.x,
w=this.wa.y-g.h.V.y,k=c.j.x*u+c.k.x*w,w=c.j.y*u+c.k.y*w,u=k,n=g.h.o.x+u-f.h.o.x-q,p=g.h.o.y+w-f.h.o.y-b,z=n*n+p*p;c=Math.sqrt(z);var k=f.T,D=g.T,C=f.fa,L=g.fa,M=10*a.yb;z>M*M&&(z=1/(k+D),n=z*-n,p=z*-p,f.h.o.x-=.5*k*n,f.h.o.y-=.5*k*p,g.h.o.x+=.5*D*n,g.h.o.y+=.5*D*p,n=g.h.o.x+u-f.h.o.x-q,p=g.h.o.y+w-f.h.o.y-b);this.Hg.j.x=k+D;this.Hg.k.x=0;this.Hg.j.y=0;this.Hg.k.y=k+D;this.Ig.j.x=C*b*b;this.Ig.k.x=-C*q*b;this.Ig.j.y=-C*q*b;this.Ig.k.y=C*q*q;this.Xn.j.x=L*w*w;this.Xn.k.x=-L*u*w;this.Xn.j.y=-L*u*w;this.Xn.k.y=
L*u*u;this.yd.tk(this.Hg);this.yd.yq(this.Ig);this.yd.yq(this.Xn);this.yd.uk(Z.kw,-n,-p);n=Z.kw.x;p=Z.kw.y;f.h.o.x-=f.T*n;f.h.o.y-=f.T*p;f.h.R-=f.fa*(q*p-b*n);g.h.o.x+=g.T*n;g.h.o.y+=g.T*p;g.h.R+=g.fa*(u*p-w*n);f.tc();g.tc();return c<=a.yb&&h<=a.Ak};m.Cc.push(function(){m.l.L.dm.kw=new f});m.Fb(Ca,m.l.L.ua);Ca.prototype.la=m.l.L.ua.prototype;Ca.em=function(){m.l.L.ua.ua.apply(this,arguments);this.Wc=new f;this.Xc=new f};Ca.prototype.em=function(){this.la.ua.call(this);this.type=t.Cr;this.Wc.Q(0,0);
this.Xc.Q(0,0);this.Mp=this.lD=this.HA=this.rz=this.$j=0;this.dp=this.Jm=!1};Ca.prototype.kd=function(a,b,c){this.kb=a;this.ub=b;this.Wc=this.kb.bf(c);this.Xc=this.ub.bf(c);this.$j=this.ub.ga()-this.kb.ga()};m.Fb(pa,m.l.L.ja);pa.prototype.la=m.l.L.ja.prototype;pa.Mo=function(){m.l.L.ja.ja.apply(this,arguments);this.Te=new f;this.Qf=new f;this.t=new g;this.Z=new c};pa.prototype.xd=function(){return this.Ga.bg(this.Te)};pa.prototype.Mo=function(a){this.la.ja.call(this,a);this.Te.N(a.Wc);this.Qf.N(a.Xc);
this.Kp=a.$j;this.t.La();this.Z=new c};pa.prototype.Gf=function(a){var b,c=0,d=this.Ga,f=this.Qa;b=d.g.G;var g=this.Te.x-d.h.V.x,h=this.Te.y-d.h.V.y,c=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=c;b=f.g.G;var k=this.Qf.x-f.h.V.x,n=this.Qf.y-f.h.V.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=d.T;var c=f.T,p=d.fa,q=f.fa;this.Z.j.x=b+c+h*h*p+n*n*q;this.Z.k.x=-h*g*p-n*k*q;this.Z.Fa.x=-h*p-n*q;this.Z.j.y=this.Z.k.x;this.Z.k.y=b+c+g*g*p+k*k*q;this.Z.Fa.y=g*p+k*q;this.Z.j.z=this.Z.Fa.x;this.Z.k.z=this.Z.Fa.y;this.Z.Fa.z=
p+q;a.Eg?(this.t.x*=a.Fc,this.t.y*=a.Fc,this.t.z*=a.Fc,d.p.x-=b*this.t.x,d.p.y-=b*this.t.y,d.J-=p*(g*this.t.y-h*this.t.x+this.t.z),f.p.x+=c*this.t.x,f.p.y+=c*this.t.y,f.J+=q*(k*this.t.y-n*this.t.x+this.t.z)):this.t.La()};pa.prototype.ef=function(){var a,b=0,c=this.Ga,d=this.Qa,f=c.p,h=c.J,k=d.p,n=d.J,p=c.T,q=d.T,t=c.fa,u=d.fa;a=c.g.G;var w=this.Te.x-c.h.V.x,z=this.Te.y-c.h.V.y,b=a.j.x*w+a.k.x*z,z=a.j.y*w+a.k.y*z,w=b;a=d.g.G;var D=this.Qf.x-d.h.V.x,C=this.Qf.y-d.h.V.y,b=a.j.x*D+a.k.x*C,C=a.j.y*D+a.k.y*
C,D=b;a=k.x-n*C-f.x+h*z;var b=k.y+n*D-f.y-h*w,L=n-h,M=new g;this.Z.bo(M,-a,-b,-L);this.t.Fg(M);f.x-=p*M.x;f.y-=p*M.y;h-=t*(w*M.y-z*M.x+M.z);k.x+=q*M.x;k.y+=q*M.y;n+=u*(D*M.y-C*M.x+M.z);c.J=h;d.J=n};pa.prototype.df=function(){var b,c=0,f=this.Ga,h=this.Qa;b=f.g.G;var k=this.Te.x-f.h.V.x,n=this.Te.y-f.h.V.y,c=b.j.x*k+b.k.x*n,n=b.j.y*k+b.k.y*n,k=c;b=h.g.G;var p=this.Qf.x-h.h.V.x,q=this.Qf.y-h.h.V.y,c=b.j.x*p+b.k.x*q,q=b.j.y*p+b.k.y*q,p=c;b=f.T;var c=h.T,t=f.fa,u=h.fa,w=h.h.o.x+p-f.h.o.x-k,z=h.h.o.y+
q-f.h.o.y-n,D=h.h.R-f.h.R-this.Kp,C=10*a.yb,L=Math.sqrt(w*w+z*z),M=d.hd(D);L>C&&(t*=1,u*=1);this.Z.j.x=b+c+n*n*t+q*q*u;this.Z.k.x=-n*k*t-q*p*u;this.Z.Fa.x=-n*t-q*u;this.Z.j.y=this.Z.k.x;this.Z.k.y=b+c+k*k*t+p*p*u;this.Z.Fa.y=k*t+p*u;this.Z.j.z=this.Z.Fa.x;this.Z.k.z=this.Z.Fa.y;this.Z.Fa.z=t+u;C=new g;this.Z.bo(C,-w,-z,-D);f.h.o.x-=b*C.x;f.h.o.y-=b*C.y;f.h.R-=t*(k*C.y-n*C.x+C.z);h.h.o.x+=c*C.x;h.h.o.y+=c*C.y;h.h.R+=u*(p*C.y-q*C.x+C.z);f.tc();h.tc();return L<=a.yb&&M<=a.Ak};m.Fb(Da,m.l.L.ua);Da.prototype.la=
m.l.L.ua.prototype;Da.No=function(){m.l.L.ua.ua.apply(this,arguments);this.Wc=new f;this.Xc=new f};Da.prototype.No=function(){this.la.ua.call(this);this.type=t.yy;this.$j=0};Da.prototype.kd=function(a,b,c){this.kb=a;this.ub=b;this.Wc.N(this.kb.bf(c));this.Xc.N(this.ub.bf(c));this.$j=this.ub.ga()-this.kb.ga()}})();(function(){var a=m.l.Je;a.Je=function(){};a.prototype.Je=function(){}})();var s;for(s=0;s<m.Cc.length;++s)m.Cc[s]();delete m.Cc;var da={autoplay:!1,duration:5E3,Lr:[],loop:!1,placeholder:"--",rs:"metadata",volume:80},fa={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},ga=[],ha=document.createElement("audio");
function ia(a,b){function c(a,b){var c=document.createElement("source");c.src=b;fa[b.split(".").pop()]&&(c.type=fa[b.split(".").pop()]);a.appendChild(c)}b=b||{};var d=[],f=!!ha.canPlayType;this.load=function(){if(!f)return this;this.vd.load();return this};this.play=function(){if(!f)return this;this.vd.play();return this};this.pause=function(){if(!f)return this;this.vd.pause();return this};this.KC=function(){return f?this.vd.paused:null};this.stop=function(){if(!f)return this;this.setTime(0);this.vd.pause();
return this};this.loop=function(){if(!f)return this;this.vd.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()});return this};this.Mi=function(){if(!f)return this;this.vd.muted=!0;return this};this.fh=function(a){f&&(0>a&&(a=0),100<a&&(a=100),this.volume=a,this.vd.volume=a/100)};this.setTime=function(a){if(!f)return this;this.PA(function(){this.vd.currentTime=a});return this};this.getTime=function(){if(!f)return null;var a=Math.round(100*this.vd.currentTime)/100;return isNaN(a)?
da.placeholder:a};this.set=function(a,b){if(!f)return this;this.vd[a]=b;return this};this.get=function(a){return f?a?this.vd[a]:this.vd:null};this.bind=function(a,b){function c(a){b.call(g,a)}if(!f)return this;a=a.split(" ");for(var g=this,h=0;h<a.length;h++){var k=a[h],w=k,k=w.split(".")[0];d.push({VF:w,UF:c});this.vd.addEventListener(k,c,!0)}return this};this.rC=function(a,b){function c(){setTimeout(function(){0>d&&0>h.volume?(h.fh(h.volume+=1),c()):0<d&&0<h.volume?(h.fh(--h.volume),c()):b instanceof
Function&&b.apply(h)},g)}if(f){a instanceof Function?(b=a,a=da.duration):a=a||da.duration;var d=this.volume,g=a/Math.abs(d-0),h=this;this.play();this.PA(function(){c()})}};this.Ey=function(a,b){f&&this.rC(a,b)};this.PA=function(a){if(f){var b=this;0===this.vd.readyState?this.bind("canplay.buzzwhenready",function(){a.call(b)}):a.call(b)}};if(f&&a){for(var g in da)da.hasOwnProperty(g)&&(b[g]=b[g]||da[g]);this.vd=document.createElement("audio");if(a instanceof Array)for(var h in a)a.hasOwnProperty(h)&&
c(this.vd,a[h]);else if(b.Lr.length)for(var k in b.Lr)b.Lr.hasOwnProperty(k)&&c(this.vd,a+"."+b.Lr[k]);else c(this.vd,a);b.loop&&this.loop();b.autoplay&&(this.vd.autoplay="autoplay");this.vd.rs=!0===b.rs?"auto":!1===b.rs?"none":b.rs;this.fh(b.volume);ga.push(this)}};var ka={Menu:"complex",Interlude:"complex","Hive 1":"kickit","Hive 2":"breakthru","Hive 3":"emergence","Hive 4":"fire",Tessellation:"driven","Final Tessellation":"wicked"},la={driven:27.46,wicked:2.922},ma={impulse:"effects/impulse",pdeath:"effects/pdeath",ffrenzy:"effects/ffrenzy",sparks:"effects/sparks",ult:"effects/ult",pwheel:"effects/pwheel",goo:"effects/goo",sshot:"effects/sshot",deathray:"effects/deathray",b1hit:"effects/b1hit",b1shrink:"effects/b1shrink",b1grow:"effects/b1grow",b2bhole:"effects/b2bhole",
b3strike:"effects/b3strike",b3select:"effects/b3select",b4spawner:"effects/b4spawner",b4attacker:"effects/b4attacker",b4darkness:"effects/b4darkness"},na={b3tick:{file:"effects/b3tick",Li:2},sdeath:{file:"effects/sdeath",Li:4},tdeath:{file:"effects/tdeath",Li:4},hfire:{file:"effects/hfire",Li:2},hhit:{file:"effects/hhit",Li:2},fbullet:{file:"effects/fbullet",Li:4},fbullethit:{file:"effects/fbullethit",Li:4},b2eat:{file:"effects/b2eat",Li:4},b4spawneract:{file:"effects/b4spawneract",Li:2}},oa={"Hive 0":"bg/hive0",
"Title Alt1":"bg/titlebg_alt1","Title Alt2":"bg/titlebg_alt2","Title Alt3":"bg/titlebg_alt3","Title Alt4":"bg/titlebg_alt4","Hive 1":"bg/hive1","Hive 2":"bg/hive2","Hive 3":"bg/hive3","Hive 4":"bg/hive4"},qa={1:"IGNAVIAM",2:"CONSUMENDI",3:"NEGLIGENTIA",4:"ADROGANTIA"},ra=[{up:4,Sc:500},{up:5,Sc:1E3},{up:6,Sc:2E3},{up:7,Sc:5E3},{up:8,Sc:7E3},{up:9,Sc:1E4}],sa=[{Os:1,Sc:50},{Os:2,Sc:3E3},{Os:3,Sc:8E3}],ta=[{bi:11,Sc:200},{bi:12,Sc:750},{bi:13,Sc:1500},{bi:14,Sc:4E3},{bi:15,Sc:6E3},{bi:16,Sc:9E3}],va=
{},wa,xa,ya;for(ya in na)ma[ya]=na[ya].file;
var x={bronze:"#cc8032",silver:"#c0c0c0",impulse_target_blue:"rgba(0, 128, 255, 0.2)",impulse_blue:"rgb(0, 128, 255)",impulse_blue_dark:"#13527e",gold:"#edb900","world 0":"#333","world 0 lite":"#999","world 0 bright":"#fff","world 0 dark":"#080808","world 1":"#034903","world 1 lite":"#046a04","world 1 bright":"#00ff00","world 1 dark":"#000d00","world 2":"#0020b0","world 2 lite":"#0028dd","world 2 bright":"#003DFF","world 2 dark":"#010310","world 3":"#450555","world 3 lite":"#5f0775","world 3 dark":"#0f0013",
"world 3 bright":"#C000FF","world 4":"#600","world 4 lite":"#a00","world 4 dark":"#180000","world 4 bright":"#f00",player_color:"rgb(32, 140, 231)",boss:"red","boss dark":"#900","boss 1":"#05c205","boss 2":"#002eff","boss 3":"#C000FF","boss 4":"#f00"};
function za(){var a=E.Eb+" "+E.wc;"left mouse"==a?va={Lq:37,Qq:38,Oq:39,Bq:40,aj:13,ft:71,sk:27,Fq:16,kt:77,bt:70,Nw:39,ix:37,Nq:16,dx:39,Mw:37,ex:39,Jw:40,bx:13}:"right mouse"==a?va={Lq:65,Qq:87,Oq:68,Bq:83,aj:81,ft:71,sk:27,Fq:32,kt:77,bt:70,Nw:69,Nq:82,ix:83,dx:81,Mw:69,ex:82,Jw:68,bx:32}:"right keyboard"==a&&(va={Lq:37,Qq:38,Oq:39,Bq:40,aj:81,ft:71,sk:27,Ww:65,Yw:87,Xw:68,Vw:83,Fq:32,kt:77,bt:70,Nw:69,Nq:82,ix:83,dx:81,Mw:69,ex:82,Jw:68,bx:32,wF:69})};function Aa(a,b,c,d,f,g,h){a.beginPath();a.arc(b*F,c*F,d*F*2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI*f,!0);a.lineWidth=h?h:2;a.strokeStyle=g;a.stroke()}function Ba(a,b,c,d,f){a.moveTo(b*F,c*F-d*F*2);a.arc(b*F,c*F,d*F*2,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*f,!0)}
function Ea(a,b,c,d,f,g){void 0===g&&(g=1);a.save();for(var h=a.shadowBlur=0;h<c.length;h++)if(!1!==c[h].visible){var k=c[h],n=c[h].ba,q=c[h].color?c[h].color:f;a.beginPath();if("polygon"==k.type){a.moveTo(g*(k.x+k.X*n[0][0])*F,g*(k.y+k.X*n[0][1])*F);for(var p=1;p<n.length;p++)a.lineTo(g*(k.x+k.X*n[p][0])*F,g*(k.y+k.X*n[p][1])*F)}a.closePath();p=I[d].dz;a.fillStyle=q;"normal"==b&&p&&(a.fillStyle=p);a.fillStyle="black";"lighten"!=b&&a.fill();a.strokeStyle=q;a.lineWidth=2*Math.sqrt(g);"lighten"==b&&
(a.strokeStyle="black",a.lineWidth=4*Math.sqrt(g));a.stroke()}if(b=I[d].Cy){a.beginPath();for(p=0;p<b.length;p++)a.moveTo(g*b[p][0][0]*F,g*b[p][0][1]*F),a.lineTo(g*b[p][1][0]*F,g*b[p][1][1]*F);a.strokeStyle="black";a.lineWidth=3;a.globalAlpha=1;a.stroke()}b=I[d].Dy;d=I[d].H;if("undefined"!==typeof b)for(c=0;c<b.length;c++)a.beginPath(),f=b[c],a.moveTo(g*d*f.x1*F,g*d*f.y1*F),a.lineTo(g*d*f.x2*F,g*d*f.y2*F),a.lineWidth=2,a.strokeStyle=q,a.stroke();a.restore()}
function Fa(a,b,c,d,f,g,h,k){"boss"!=b.slice(b.length-4)&&(a.save(),a.translate(c,d),g&&a.rotate(g),void 0===h&&(h="normal"),c=I[b].H*F*Ga.prototype.Mm,f=null==f?c:f*Math.min(I[b].H/1.5,1),Ha(a,b,f,h,k),a.restore())}
function Ha(a,b,c,d,f){void 0===f&&(f=I[b].className.prototype.Rk(d),f||(f=I[b].color));var g=I[b].yr;g||(g=I[b].Wb);Ea(a,d,g,b,f,c/(Ga.prototype.Mm*I[b].H*F));d=I[b].className.prototype.Rk(d);d||(d=I[b].color);if("undefined"!==typeof I[b].tj)for(f=0;f<I[b].tj.length;f++)g=I[b].tj[f],g.ku?Ia(a,0,0,g,c,d):Ia(a,0,0,g,c,d,1,0,"black")}function Ja(a,b,c,d,f,g){a.save();a.translate(c,d);g&&a.rotate(g);Ha(a,b,I[b].images.normal.height*f/2,"normal");a.restore()}var Ka={0:1.4,1:1,2:1.4,3:1.4,4:1.6};
function La(a,b,c,d,f,g,h){f*=Ka[b];a.save();g&&(a.globalAlpha*=.5,1==b&&J(a,c,d,Math.PI/4,2*f,2*f,Ma[b],Na[b]),J(a,c,d,Math.PI/4,1.5*f,1.5*f,Ma[b],Na[b]));a.restore();a.save();a.translate(c,d);a.rotate((h?h:0)+(4!=b&&2!=b?Math.PI/4:0));J(a,0,0,0,f,f,Oa[b],Na[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle=x["boss "+b],a.stroke());a.restore()}
function Pa(a,b,c,d,f){f*=Ka[b];a.save();a.translate(c,d);4!=b&&2!=b&&a.rotate(Math.PI/4);J(a,0,0,0,f,f,Qa[b],Na[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle="gray",a.stroke());a.restore()}
function Ra(a,b,c,d,f,g){a.save();a.shadowColor=f;a.shadowBlur=0;Sa(a,b,c-d,.9*d,.9*d,.2*d,f);Sa(a,b-d,c,.9*d,.9*d,.2*d,f);Sa(a,b,c,.9*d,.9*d,.2*d,f);Sa(a,b+d,c,.9*d,.9*d,.2*d,f);a.fillStyle=f;a.font=.4*d+"px Muli";a.textAlign="center";g?(a.fillText(g[0],b,c-1*d),a.fillText(g[1],b-d,c+0*d),a.fillText(g[2],b,c+0*d),a.fillText(g[3],b+d,c+0*d),Ta(a,b,c-.8*d,.3*d,"up",f),Ta(a,b-d,c+.2*d,.3*d,"left",f),Ta(a,b,c+.2*d,.3*d,"down",f),Ta(a,b+d,c+.2*d,.3*d,"right",f)):(Ta(a,b,c-d,.5*d,"up",f),Ta(a,b-d,c,.5*
d,"left",f),Ta(a,b,c-2,.5*d,"down",f),Ta(a,b+d,c,.5*d,"right",f));a.restore()}function Ua(a,b,c,d,f,g){a.save();a.fillStyle=g;Sa(a,b,c,d,f,.25*f,g);a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Va(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Sa(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b-d/2,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Wa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Sa(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Sa(a,b,c,d,f,g,h){a.save();a.shadowColor=h;a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2+g,c-f/2);a.arcTo(b+d/2,c-f/2,b+d/2,c+f/2,g);a.arcTo(b+d/2,c+f/2,b-d/2,c+f/2,g);a.arcTo(b-d/2,c+f/2,b-d/2,c-f/2,g);a.arcTo(b-d/2,c-f/2,b+d/2,c-f/2,g);a.closePath();a.strokeStyle=h;a.lineWidth=2;a.stroke();a.restore()}function Xa(a,b,c,d){a.save();a.beginPath();a.rect(b-15,c-15,30,30);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.fillStyle=d;a.font="20px Muli";a.fillText("f",b,c+7.5);a.restore()}
function Ya(a,b,c,d,f,g){a.save();var h=2*Math.PI/24;a.beginPath();for(var k=0;6>k;k++)0==k?a.moveTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))):a.lineTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))),a.lineTo(b-15*Math.cos(h*(4*k+.6)),c-15*Math.sin(h*(4*k+.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+1.6)),c-11.25*Math.sin(h*(4*k+1.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+2.6)),c-11.25*Math.sin(h*(4*k+2.6)));a.closePath();a.fillStyle=d;a.fill();g&&(a.globalAlpha/=2);a.beginPath();a.arc(b,
c,7.5,0,1.998*Math.PI);a.fillStyle=f;a.fill();a.restore()}function Za(a,b,c,d){a.save();a.beginPath();a.arc(b,c-5,5,0,2*Math.PI,!0);a.moveTo(b,c+12.5);a.arc(b,c+12.5,10,0,Math.PI,!0);a.fillStyle=d;a.fill();a.restore()}function $a(a,b,c,d){a.save();a.beginPath();a.moveTo(b,c-13/3);a.lineTo(b-13,c-26/3);a.lineTo(b-13,c+26/3);a.lineTo(b,c+13);a.moveTo(b,c+13);a.lineTo(b,c-13/3);a.lineTo(b+13,c-26/3);a.lineTo(b+13,c+26/3);a.lineTo(b,c+13);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.restore()}
function ab(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,2*Math.PI/5,Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.arc(b,c,9.75,7*Math.PI/5,2*Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b-2.4375,c);a.lineTo(b-15.4375,c);a.lineTo(b-8.9375,c-6.5);a.moveTo(b+2.4375,c);a.lineTo(b+15.4375,c);a.lineTo(b+8.9375,c+6.5);a.fillStyle=d;a.fill();a.restore()}
function bb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,3*Math.PI/2,3*Math.PI/4);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b,c-2.4375);a.lineTo(b,c-15.4375);a.lineTo(b-6.5,c-8.9375);a.fillStyle=d;a.fill();a.restore()}function cb(a,b,c,d,f){a.save();db(a,b,c,d/2,f);a.beginPath();a.arc(b,c,d,7*Math.PI/6,11*Math.PI/6);a.lineWidth=Math.ceil(d/6);a.strokeStyle=f;a.stroke();a.restore()}
function db(a,b,c,d,f){a.beginPath();a.arc(b,c,d,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill();a.beginPath();a.arc(b,c,4*d/5,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle="black";a.fill();a.beginPath();a.arc(b,c,11*d/20,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=f;a.fill()}
function eb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.moveTo(b-12,c-12);a.lineTo(b-12,c+12);a.lineTo(b+12,c+12);a.lineTo(b+12,c-12);a.lineTo(b,c-12);a.lineTo(b,c);a.lineWidth=5;a.stroke();a.beginPath();a.moveTo(b-7,c-3);a.lineTo(b+7,c-3);a.lineTo(b,c+4);a.fill();a.restore()}
function fb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.arc(b,c,12.6,0,2*Math.PI,!0);a.lineWidth=3;a.stroke();a.beginPath();a.lineWidth=4;a.moveTo(b,c-7.2);a.lineTo(b,c+3.6);a.moveTo(b,c+18*.3);a.lineTo(b,c+7.2);a.stroke();a.restore()}
function gb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-3*d/8,c-d/4);a.lineTo(b+3*d/8,c-d/4);a.moveTo(b-d/4,c-d/4);a.lineTo(b-d/4,c+d/2);a.lineTo(b+d/4,c+d/2);a.lineTo(b+d/4,c-d/4);a.moveTo(b-d/8,c-d/8);a.lineTo(b-d/8,c+3*d/8);a.moveTo(b,c-d/8);a.lineTo(b,c+3*d/8);a.moveTo(b+d/8,c-d/8);a.lineTo(b+d/8,c+3*d/8);a.moveTo(b-d/8,c-d/4);a.lineTo(b-d/8,c-3*d/8);a.lineTo(b+d/8,c-3*d/8);a.lineTo(b+d/8,c-d/4);a.strokeStyle=f;a.lineWidth=2;a.stroke();a.restore()}
function hb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2,c-d/2);a.lineTo(b+d/2,c+d/2);a.moveTo(b-d/2,c+d/2);a.lineTo(b+d/2,c-d/2);a.strokeStyle=f;a.lineWidth=5;a.stroke();a.restore()}function ib(a,b,c,d){a.save();a.translate(b,c);a.transform(1,-.35,0,1,0,0);a.translate(-b,-c);a.beginPath();a.moveTo(b-10,c);a.lineTo(b+10,c);a.moveTo(b-10,c+10);a.lineTo(b+10,c+10);a.lineWidth=6;a.strokeStyle=d;a.stroke();a.restore()}
function jb(a,b,c,d){a.save();a.beginPath();a.rect(b-5,c-10,10,10);a.rect(b-10,c,10,10);a.rect(b,c,10,10);a.strokeStyle=d;a.lineWidth=4;a.stroke();a.restore()}
function lb(a,b,c,d){a.save();a.translate(20/3,0);a.beginPath();a.moveTo(b-20/3,c+10);a.lineTo(b-20/3,c-20/6);a.lineTo(b+20/3,c-40/6);a.lineTo(b+20/3,c+40/6);a.lineWidth=4;a.strokeStyle=d;a.stroke();var f=b-10,g=c+10;a.save();a.translate(f,g);a.scale(1.3,1);a.translate(-f,-g);a.beginPath();a.arc(f,g,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();a.restore();b+=20/6;c+=20/3;a.save();a.translate(b,c);a.scale(1.3,1);a.translate(-b,-c);a.beginPath();a.arc(b,c,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();
a.restore();a.restore()}
function mb(a,b,c,d,f,g){a.save();a.beginPath();a.moveTo(b-.3*d-d/2*.75,c-d/2*.6);a.lineTo(b-.3*d,c-d/2*.6);a.lineTo(b-.3*d+d/2*.75,c-.6*d);a.lineTo(b-.3*d+d/2*.75,c+.6*d);a.lineTo(b-.3*d,c+d/2*.6);a.lineTo(b-.3*d-d/2*.75,c+d/2*.6);a.fillStyle=f;a.fill();g?(a.beginPath(),a.arc(b-.3*d+.75*d,c,d/2*.45,0,2*Math.PI,!0),a.moveTo(b-.3*d+.75*d-Math.cos(Math.PI/4)*d/2*.45,c-Math.cos(Math.PI/4)*d/2*.45),a.lineTo(b-.3*d+.75*d+Math.cos(Math.PI/4)*d/2*.45,c+Math.cos(Math.PI/4)*d/2*.405),a.lineWidth=2,a.strokeStyle=
f):(a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2*.6,-Math.PI/3,Math.PI/3,!1),a.lineWidth=2,a.strokeStyle=f,a.stroke(),a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2,-Math.PI/3,Math.PI/3,!1));a.stroke();a.restore()}
function Ia(a,b,c,d,f,g,h,k,n){h="undefined"!==typeof h?h:1;k="undefined"!==typeof k?k:0;a.beginPath();a.save();0!=k&&(a.translate(b,c),a.rotate(k),a.translate(-b,-c));"circle"==d.type&&a.arc(b+d.x,c+d.y,f*d.X,0,1.998*Math.PI);if("polygon"==d.type){a.moveTo(b+(d.x+d.ba[0][0]*d.X)*f,c+(d.y+d.ba[0][1]*d.X)*f);for(k=1;k<d.ba.length;k++)a.lineTo(b+(d.x+d.ba[k][0]*d.X)*f,c+(d.y+d.ba[k][1]*d.X)*f);a.closePath()}a.globalAlpha*=h;a.fillStyle=g;n&&"none"!=n?a.fillStyle=n:a.globalAlpha/=3;"none"!=n&&a.fill();
n&&"none"!=n||(a.globalAlpha*=3);a.strokeStyle=g;a.lineWidth=2;a.stroke();a.restore()}function nb(a,b,c,d,f,g,h){a.save();a.shadowBlur=0;a.beginPath();a.rect(b-20,c-.5*d,40,d);a.fillStyle="black";a.fill();a.restore();a.save();a.beginPath();a.rect(b-20,c-.5*d,40,d);a.strokeStyle=g;a.fillStyle=g;a.lineWidth=4;a.save();a.globalAlpha/=10;a.fill();a.restore();a.stroke();a.beginPath();h?a.rect(b-20,c+.5*d-f*d,40,d*f):a.rect(b-20,c-.5*d,40,d*f);a.fillStyle=g;a.fill();a.restore()}
function Ta(a,b,c,d,f,g,h){h=void 0==h?!1:h;a.save();a.translate(b,c);"left"==f?a.rotate(Math.PI):"up"==f?a.rotate(3*Math.PI/2):"down"==f&&a.rotate(Math.PI/2);a.beginPath();a.moveTo(Math.cos(0)*d/2,Math.sin(0)*d/2);a.lineTo(Math.cos(2*Math.PI/3)*d/2,Math.sin(2*Math.PI/3)*d/2);a.lineTo(Math.cos(4*Math.PI/3)*d/2,Math.sin(4*Math.PI/3)*d/2);a.closePath();a.fillStyle=g;h?(a.shadowBlur=10,a.shadowColor=g):a.shadowBlur=0;a.fill();a.restore()}
function ob(a,b,c,d){a.save();a.textAlign="center";a.shadowColor=x.impulse_blue;a.shadowBlur=0;a.fillStyle="white";a.drawImage(pb,b-pb.width/2*.85,c-.6375*pb.height,.85*pb.width,.85*pb.height);d&&(a.font="16px Muli",a.fillText(d,b,c+40));a.restore()}
function qb(a,b,c,d,f){a.save();a.shadowBlur=0;a.beginPath();a.rect(c-100,d-75,200,150);a.clip();a.beginPath();a.rect(c-100,d-75,200,150);a.save();a.globalAlpha*=.3;a.fillStyle=f;a.fill();a.restore();var g=null;"easy"==K&&(g=N[b].Cf);g||(g=N[b].Ja);if(g){for(b=0;b<g.length;b++){a.beginPath();a.moveTo(c-100+g[b][0][0]/O*200,d-75+g[b][0][1]/P*150);for(var h=1;h<g[b].length;h++)a.lineTo(c-100+g[b][h][0]/O*200,d-75+g[b][h][1]/P*150);a.closePath();a.fillStyle="black";a.strokeStyle=f;a.lineWidth=2;a.stroke();
a.fill()}a.restore();a.save();a.beginPath();a.shadowBlur=0;a.rect(c-100,d-75,200,150);a.lineWidth=2;a.strokeStyle=f;a.stroke();a.restore()}}
function rb(){var a=document.createElement("canvas");a.width=400;a.height=400;var b=a.getContext("2d");b.globalAlpha=.2;J(b,a.width/2,a.height/2,0,.7*a.width,.7*a.height,"ultimate");b.globalAlpha=1;for(var c=0;48>c;c++){var d=c%2?.4*a.width:.42*a.width;J(b,a.width/2+d*Math.cos(c*Math.PI*2/48),a.height/2+d*Math.sin(c*Math.PI*2/48),2*Math.PI/48*c,32,18,"ultimate_shard")}return a}function sb(a){var b=new Image;b.src=a;return b}
var tb=sb("art/sprites.png"),ub={player_normal:[0,0,40,40],player_red:[40,-1,40,40],player_yellow:[80,0,41,41],player_gray:[120,0,41,41],player_green:[160,0,41,41],player_white:[200,0,40,40],spark:[0,41,40,40],multi:[0,81,40,40],white_glow:[40,40,100,100],ultimate:[148,41,150,150],lives_icon:[0,0,40,40],sparks_icon:[0,41,40,40],ultimate_icon:[0,155,42,42],ultimate_icon_blue:[43,155,42,42],ultimate_shard:[0,121,18,32],world1_starblank:[85,199,41,38],world1_starhalf:[127,199,19,38],world1_star:[127,
199,41,38],world2_starblank:[85,237,41,38],world2_starhalf:[127,237,19,38],world2_star:[127,237,41,38],world3_starblank:[0,199,41,38],world3_starhalf:[42,199,19,38],world3_star:[42,199,41,38],world4_starblank:[0,237,41,38],world4_starhalf:[42,237,19,38],world4_star:[42,237,41,38],silver_trophy:[0,277,90,78],gold_trophy:[89,277,90,78],world1_timer:[189,211,48,61],world2_timer:[241,211,48,61],world3_timer:[189,277,48,62],world4_timer:[241,277,48,62],spark_powerup:[310,6,37,36],multi_powerup:[310,58,
37,36],ult_powerup:[304,105,49,48],immunitas_arm:[0,0,90,90],immunitas_arm_red:[150,135,90,90],immunitas_hand:[90,0,90,90],immunitas_hand_red:[240,135,90,90],immunitas_logo_gray:[330,135,90,90],immunitas_head:[0,90,108,108],immunitas_head_red:[450,123,108,108],immunitas_glow:[180,0,135,135],immunitas_red_glow:[315,0,135,135],immunitas_aura:[450,0,123,123],immunitas_aura_red:[573,0,123,123],immunitas_arrow:[0,200,70,70],immunitas_lockon:[573,123,120,120],consumendi_head:[0,0,180,180],consumendi_head_red:[720,
136,135,135],consumendi_aura:[181,0,269,269],consumendi_small_diamond:[94,180,30,56],consumendi_small_diamond_filled:[64,180,30,56],consumendi_small_arrow:[124,180,30,16],consumendi_glow:[720,0,135,135],consumendi_logo:[450,0,120,119],consumendi_mini:[450,119,120,120],consumendi_mini_gray:[570,0,120,120],negligentia_head:[0,0,180,180],negligentia_head_red:[0,180,180,180],negligentia_arm_striking:[180,0,244,100],negligentia_arm_striking_red:[180,100,244,100],negligentia_wheel:[424,0,134,134],negligentia_wheel_red:[424,
270,134,134],negligentia_wheel_complete:[423,135,135,135],negligentia_glow:[560,0,115,115],negligentia_glow_red:[560,115,115,115],negligentia_aura:[559,270,39,65],negligentia_aura_open:[598,270,39,65],negligentia_arm_ring:[180,200,180,180],negligentia_logo:[680,0,120,120],negligentia_logo_gray:[680,120,120,120],adrogantia_attack_bud:[0,0,80,80],adrogantia_spawner:[0,80,80,80],adrogantia_body_bud:[80,0,80,80],adrogantia_attack_bud_firing:[80,80,80,80],adrogantia_body_bud_red:[80,160,80,80],adrogantia_head:[181,
1,160,160],adrogantia_head_red:[181,161,160,160],adrogantia_glow:[340,0,135,135],adrogantia_logo:[476,0,125,125],adrogantia_logo_gray:[476,125,125,125],generated_ultimate:[0,0,400,400]},vb=sb("art/immunitas_sprite.png"),wb=sb("art/consumendi_sprite.png"),xb=sb("art/negligentia_sprite.png"),yb=sb("art/adrogantia_sprite.png"),pb=sb("art/logo.png"),Ma={0:"white_glow",1:"immunitas_glow",2:"consumendi_glow",3:"negligentia_glow",4:"adrogantia_glow"},Oa={0:"ultimate",1:"immunitas_arm",2:"consumendi_logo",
3:"negligentia_logo",4:"adrogantia_logo"},Qa={0:"world_logo",1:"immunitas_logo_gray",2:"consumendi_mini_gray",3:"negligentia_logo_gray",4:"adrogantia_logo_gray"},Na={0:tb,1:vb,2:wb,3:xb,4:yb},zb={},Ab;for(Ab in oa)zb[Ab]=sb("art/"+oa[Ab]+".png");function J(a,b,c,d,f,g,h,k){k="undefined"!==typeof k?k:tb;a.save();a.translate(b,c);a.rotate(d);a.drawImage(k,ub[h][0],ub[h][1],ub[h][2],ub[h][3],-f/2,-g/2,f,g);a.restore()}
function Bb(a,b,c,d,f,g,h){var k=h.width,n=h.height;a.save();a.translate(b,c);a.rotate(d);a.drawImage(h,0,0,k,n,-f/2,-g/2,f,g);a.restore()}function Cb(a,b,c,d,f){f=zb[f];var g=f.width,h=f.height;a.save();a.rect(0,b,c-0,d-b);a.clip();for(var k=0;k<c;k+=g)for(var n=b;n<d;n+=h)a.drawImage(f,0,0,g,h,k,n,g,h);a.restore()}
function Db(a,b,c,d,f){"half"==f?(J(a,b-24,c,0,20,20,"world"+d+"_starblank"),J(a,b-28.8,c,0,12*.8,20,"world"+d+"_starhalf"),J(a,b,c,0,20,20,"world"+d+"_starblank"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"basic"==f?(J(a,b-24,c,0,20,20,"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_starblank"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"silver"==f?(J(a,b-24,c,0,20,20,"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_star"),J(a,b+24,c,0,20,20,"world"+d+"_starblank")):"gold"==f&&(J(a,b-24,c,0,20,20,
"world"+d+"_star"),J(a,b,c,0,20,20,"world"+d+"_star"),J(a,b+24,c,0,20,20,"world"+d+"_star"))}function Eb(a,b,c,d,f){var g=x.gold;a.save();a.beginPath();a.translate(b-d,c-f);a.scale(d,f);a.arc(1,1,1,0,2*Math.PI,!1);a.restore();a.save();g&&(a.strokeStyle=g);a.stroke();a.restore()}
draw_enemy_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();Fa(a,f,b,c,30)};
draw_quest_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();"beat_hive"==f&&(La(a,1,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=x.impulse_blue,a.stroke());"final_boss"==f&&(La(a,4,b,c,.6*d,!0,0),a.beginPath(),a.lineWidth=6,a.moveTo(b-.4*d,c-.4*d),a.lineTo(b+
.4*d,c+.4*d),a.moveTo(b+.4*d,c-.4*d),a.lineTo(b-.4*d,c+.4*d),a.strokeStyle=x.impulse_blue,a.stroke());"first_gold"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.8*d,.8*d,"gold_trophy"));if("combo"==f){a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();J(a,b,c-d/4,0,.4*d,.4*d,"player_normal");a.beginPath();a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1);a.strokeStyle=x.impulse_blue;a.stroke();for(var g=[Math.PI/2,.36*Math.PI,.64*Math.PI,
.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++){var k=g[h];Bb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),k,10,10,I.stunner.images.normal)}}if("combo"==f)for(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=x.impulse_blue,a.stroke(),g=[Math.PI/2,.36*Math.PI,.64*Math.PI,.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++)k=g[h],Bb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),
k,10,10,I.stunner.images.normal);"high_roller"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c-d/4,0,.4*d,.4*d,"player_normal"),a.beginPath(),a.arc(b,c-d/2,.65*d,Math.PI/3,2*Math.PI/3,!1),a.strokeStyle=x.impulse_blue,a.stroke(),a.fillStyle=x.gold,a.textAlign="center",a.font="12px Muli",a.fillText("250K",b,c+d/2));"blitz_hive"==f.substring(0,10)&&(a.save(),a.globalAlpha*=.2,g=f.substring(10),"1"==g?J(a,b,c,0,1.2*d,1.2*d,"immunitas_glow",vb):"2"==g?J(a,b,c,0,
1.2*d,1.2*d,"consumendi_glow",wb):"3"==g?J(a,b,c,0,1.2*d,1.2*d,"negligentia_glow",xb):"4"==g&&J(a,b,c,0,1.2*d,1.2*d,"adrogantia_glow",yb),a.restore(),J(a,b,c,0,.8*d,.8*d,"world"+f.substring(10)+"_timer"));if("survivor"==f)for(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.4*d,.4*d,"player_normal"),h=0;8>h;h++)k=2*Math.PI*h/4+Math.PI/4,Bb(a,b+.5*d*Math.cos(k),c+.5*d*Math.sin(k),Math.PI/2+k,15,15,I.spear.images.normal);"fast_time"==f&&(a.save(),a.globalAlpha*=
.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.7*d,.7*d,"timer_icon"));"pacifist"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c+.2*d,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Eb(a,b,c-.2*d,d/6,d/12),a.restore());"beat_hard"==f&&(a.save(),a.globalAlpha*=.1,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,d,d,"ultimate_icon"));"untouchable"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,
b,c,0,.4*d,.4*d,"player_normal"),a.save(),a.lineWidth=3,Eb(a,b,c,.45*d,.45*d),Eb(a,b,c,.55*d,.55*d),a.restore())};var Fb={beat_hive:{wb:["ult"],text:["DEFEAT A HIVE"]},final_boss:{wb:["life"],text:["DEFEAT THE FINAL BOSS"]},untouchable:{wb:["spark"],text:["BEAT ANY HIVE","WITHOUT GETTING HIT"]},high_roller:{wb:["life"],mE:25E4,text:["SCORE 250000 PTS OR MORE","ON A SINGLE ENEMY"]},pacifist:{wb:["life"],text:["BEAT ANY LEVEL","WITHOUT USING IMPULSE"]},blitz_hive1:{wb:["spark"],text:["BEAT HIVE 1 IN HARD MODE","UNDER 5 MINUTES"],pq:300},blitz_hive2:{wb:["life"],text:["BEAT HIVE 2 IN HARD MODE","UNDER 6 MINUTES"],
pq:400},blitz_hive3:{wb:["life","spark"],text:["BEAT HIVE 3 IN HARD MODE","UNDER 7 MINUTES"],pq:500},blitz_hive4:{wb:["life","spark","ult"],text:["BEAT HIVE 4 IN HARD MODE","UNDER 8 MINUTES"],pq:600},beat_hard:{wb:["life","spark"],text:["DEFEAT ALL HIVES","IN HARD MODE"]}};function Gb(a,b){return a.x==b.x&&a.y==b.y}function Hb(a){var b=a%60;return Math.floor(a/60)+":"+(10>b?"0"+b:b)}function Ib(a,b,c,d){void 0===d&&(d=null);for(var f=0;f<c.length;f++)if(!(Gb(a,c[f].p1)||Gb(a,c[f].p2)||Gb(b,c[f].p1)||Gb(b,c[f].p2))&&c[f].p1.p_n!==d&&Jb(a,b,c[f].p1,c[f].p2))return!1;return!0}
function Kb(a,b){for(var c=a.length-1,d=!1,f=0;f<a.length;f++)(a[f].y<b.y&&a[c].y>=b.y||a[f].y>=b.y&&a[c].y<b.y)&&a[f].y!=a[c].y&&a[f].x+(b.y-a[f].y)/(a[c].y-a[f].y)*(a[c].x-a[f].x)<b.x&&(d=!d),c=f;return d}function Q(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function Jb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};a={x:c.x-a.x,y:c.y-a.y};c=Lb(b,d);if(0==c&&0==Lb(a,d))return!1;d=Lb(a,d)/c;b=Lb(a,b)/c;return 0<=d&&1>=d&&0<=b&&1>=b}
function Mb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};c={x:c.x-a.x,y:c.y-a.y};var f=Lb(b,d);if(0==f&&0==Lb(c,d))return null;d=Lb(c,d)/f;c=Lb(c,b)/f;return 0<=d&&1>=d&&0<=c&&1>=c?{x:a.x+b.x*d,y:a.y+b.y*d}:null}function Nb(a,b,c){return Math.abs(Lb({x:b.x-a.x,y:b.y-a.y},{x:c.x-a.x,y:c.y-a.y}))/Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Lb(a,b){return a.x*b.y-a.y*b.x}
function Ob(a){var b;a.pageX||a.pageY?(b=a.pageX,a=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);b-=offset_left;a-=offset_top;return{x:b,y:a}}function R(a,b){null!=a&&null!=b||console.log("ERROR");var c;if(a.x==b.x)return c=a.y>b.y?-Math.PI/2:Math.PI/2;c=Math.atan((a.y-b.y)/(a.x-b.x));a.x>b.x&&a.y<b.y?c+=Math.PI:a.x>b.x&&a.y>=b.y&&(c-=Math.PI);return c}
function Pb(a,b,c,d){for(var f=[],g=0;g<c.length;g++){var h=d(c[g]);Q(a,h)<b&&f.push(c[g])}return f}
function Qb(a,b){for(var c=a.length-1,d=[],f=0;f<a.length;f++){var g=(f+1)%a.length,h=new b2Vec2(a[f].y-a[c].y,a[c].x-a[f].x),c=new b2Vec2(a[f].x-a[c].x,a[f].y-a[c].y),k=new b2Vec2(a[g].y-a[f].y,a[f].x-a[g].x),g=new b2Vec2(a[f].x-a[g].x,a[f].y-a[g].y);h.ab();k.ab();c.ab();g.ab();var n=R({x:0,y:0},k),q=R({x:0,y:0},h),n=n-q,n=0>n?n+2*Math.PI:n,n=n>=2*Math.PI?n-2*Math.PI:n;n>Math.PI?d.push({x:a[f].x+h.x*b-1*c.x/Math.tan(n/2-Math.PI/2)*b,y:a[f].y+h.y*b-1*c.y/Math.tan(n/2-Math.PI/2)*b}):n>5*Math.PI/6?
(d.push({x:a[f].x+h.x*b+c.x*b,y:a[f].y+h.y*b+c.y*b}),d.push({x:a[f].x+k.x*b+g.x*b,y:a[f].y+k.y*b+g.y*b})):d.push({x:a[f].x+h.x*b+c.x*Math.tan(n/2)*b,y:a[f].y+h.y*b+c.y*Math.tan(n/2)*b});c=f}return d}function Rb(a,b){var c=F,c=c?c:1;return b.x>=a&&b.y>=a&&b.x<=O/c-a&&b.y<=P/c-a}function Sb(a,b,c){for(var d={x:Math.random()*(O/c-2*b)+b,y:Math.random()*(P/c-2*b)+b},f=!1,g=0;g<S.i.vh.length;g++)s!=g&&Kb(S.i.vh[g],d)&&(f=!0);return f||null==Tb(S.Kb,d,a).path?Sb(a,b,c):d}
function Ub(a,b,c){for(;a<c;)a+=2*Math.PI;for(;a>c;)a-=2*Math.PI;for(;b>c;)b-=2*Math.PI;for(;b<c;)b+=2*Math.PI;return b-a<=2*Math.PI}function Vb(a,b){for(;b-a>Math.PI;)b-=2*Math.PI;for(;b-a<-Math.PI;)b+=2*Math.PI;return b}function Wb(a,b){var c=a-b;c>2*Math.PI&&(c-=2*Math.PI);0>c&&(c+=2*Math.PI);c>Math.PI&&(c=2*Math.PI-c);return c}function Xb(a,b,c){return 0*Math.pow(1-c,3)+3*Math.pow(1-c,2)*c*a+3*(1-c)*Math.pow(c,2)*b+1*Math.pow(c,3)}
function Yb(a,b,c,d,f,g,h,k){var n=new b2BodyDef;n.type="static"==h?b2Body.lf:b2Body.Cd;n.position.x=c;n.position.y=d;n.Zr=3;a=a.Qn(n);for(c=0;c<b.length;c++){d=b[c];h=null;"circle"==d.type&&(h=new b2CircleShape(d.X),h.ox(new b2Vec2(d.x,d.y)));if("polygon"==d.type){n=[];for(h=0;h<d.ba.length;h++)n.push(new b2Vec2(d.x+d.X*d.ba[h][0],d.y+d.X*d.ba[h][1]));h=new b2PolygonShape;h.pt(n,n.length)}d=new b2FixtureDef;d.sb=f;d.Rm=0;d.tn=.7;d.filter.nf=g;d.filter.Af=6;d.shape=h;a.Aq(d).$n({body:a,owner:k,self:null})}return a}
function Zb(a){var b=a%60;10>b&&(b="0"+b);return Math.floor(a/60)+":"+b};function $b(){this.Mc={};this.nl={};this.cc=null;for(var a in na)ac(this,na[a].file,na[a].Li);this.Xj={};this.Mi=E.zv;this.Im=E.Im}function bc(a){cc.play(ma[a])}$b.prototype.play=function(a){if(!this.Im)if(a in this.nl)for(var b=0;b<this.nl[a].length;b++){if(!this.nl[a][b]){this.Mc[a+b].play();this.Mc[a+b].fh(E.Fr);this.nl[a][b]=!0;break}}else a in this.Mc||(this.Mc[a]=new ia("audio/"+a+".ogg")),this.Mc[a].play(),this.Mc[a].fh(E.Fr)};
function ac(a,b,c){a.nl[b]=[];for(var d=0;d<c;d++){a.nl[b].push(!1);a.Mc[b+d]=new ia("audio/"+b+".ogg");var f=a;a.Mc[b+d].bind("ended",function(a,b){return function(){f.nl[b][a]=!1}}(d,b))}}function dc(a,b){a.cc&&a.Mc[a.cc].stop();a.cc=null;ec(a,b)}
function ec(a,b){null!=a.cc&&a.cc!=b?a.Mc[a.cc].KC()?dc(a,b):(a.Xj[a.cc]=!1,a.Xj[b]=!0,a.Mc[a.cc].Ey(500,function(){dc(a,b)})):(b in a.Mc||(b in la?(a.Mc[b]=new ia("audio/"+b+".ogg"),a.Mc[b].bind("ended",function(){this.setTime(la[b]);this.play()})):a.Mc[b]=new ia("audio/"+b+".ogg",{loop:!0})),a.Mi?a.Mc[b].fh(0):a.Mc[b].fh(E.km),a.Mc[b].play(),a.Xj[b]=!0,a.cc=b)}
function fc(){var a=cc;if(a.cc){a.Xj[a.cc]=!1;var b=a.cc;a.Mc[a.cc].Ey(300,function(){a.cc&&!a.Xj[a.cc]?(a.Mc[a.cc].stop(),a.cc=null):a.cc==b&&a.Xj[a.cc]&&a.Mc[a.cc].fh(E.km)})}};function gc(a,b){void 0!==a&&(this.Jd=hc()-1,this.Xf=0,this.kk=ic(),this.Lg=0,this.bi=jc(),this.Wy=!1,this.ec=b,0<a&&(this.di=1E3*Fb["blitz_hive"+a].pq),this.ec||(this.Jd=0,1<this.kk&&(this.kk=1)),this.kh={},this.iz=this.Jd,this.jz=0,this.mz=hc(),this.GA=ic(),this.Ck=null,this.I={},this.pa=a,this.Vr=0==this.pa?"TUTORIAL":"HIVE "+qa[a],this.du=qa[a],this.DD=0,this.hi=null)}gc.prototype.clone=function(a){var b=new gc,c;for(c in a)b[c]=a[c];return b};
function kc(a){a.Jd+=hc()-a.mz;a.kk+=ic()-a.GA;a.bi=jc();a.mz=hc();a.GA=ic()}gc.prototype.continue=function(){this.Jd=hc();this.Xf=0;this.kk=ic();this.bi=jc();this.iz=this.Jd;this.jz=0;this.Lg+=1};function lc(a,b,c,d){this.ia(a,b,c,d)}l=lc.prototype;l.va=3.5;l.id=9999;l.Fn=1.2;l.Zy=50;l.Rg=10;l.Tu=.03125;l.EC=x.impulse_target_blue;l.Yy=x.impulse_blue;l.sb=.5625;l.eh=.66;l.H=.66;
l.ia=function(a,b,c,d){if(null!=a){"easy"==K&&(this.sb*=1.5,this.Fn*=1.5);var f=new b2FixtureDef;f.sb=this.sb;f.Rm=0;f.tn=1;f.filter.nf=2;f.filter.Af=29;var g=new b2BodyDef;g.type=b2Body.Cd;f.shape=new b2CircleShape(lc.prototype.eh);this.X=lc.prototype.eh;this.i=d.i;this.w=d;g.position.x=b;g.position.y=c;g.Zr=this.va;this.body=a.Qn(g);this.body.Aq(f).$n({owner:this,body:this.body,self:this});this.shape=f.shape;this.ah=[];for(a=0;4>a;a++)this.ah.push({X:.5,ji:a*Math.PI/2});this.sq=this.Zo=this.right=
this.left=!1;this.jk=this.Gh=this.Ch=this.Eh=this.Dh=null;this.xi=0;this.ep=[];this.ow=[];this.ij=!1;this.qh={};this.ad=0;this.hj=500;this.gj=0;this.jk=!1;this.nh={};this.Gn=1E3;this.Hl=0;this.pw=20;this.WE=250;this.ek=this.ed=this.mu=this.um=0;this.xv={x:0,y:0};this.status="normal";this.r=[0,0,0,0,0,0];this.gh=.3;this.O=!1;this.bb=1E3;this.tb=0;this.color=x.player_color;this.oa=this.Fn;this.Qx=5;this.gu=!1;this.Nf=1.5;this.$u=0;this.Np=!1;this.xt=250;this.yt=!0;this.ko=this.xt}};
function mc(a,b){switch(b){case va.Lq:a.left=!0;break;case va.Oq:a.right=!0;break;case va.Bq:a.Zo=!0;break;case va.Qq:a.sq=!0;break;case va.aj:case va.sk:a.sq=!1;a.Zo=!1;a.left=!1;a.right=!1;a.Dh=null;a.Eh=null;a.Gh=null;a.Ch=null;break;case va.Ww:a.Dh=(new Date).getTime();break;case va.Yw:a.Gh=(new Date).getTime();break;case va.Xw:a.Eh=(new Date).getTime();break;case va.Vw:a.Ch=(new Date).getTime()}}l.Ui=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1])};
l.$b=function(a,b){b&&(this.ed=Math.max(a,this.r[1]),this.ek=Math.max(a,this.r[1]));this.r[1]=Math.max(a,this.r[1])};l.Ku=function(a){this.r[2]=Math.max(a,this.r[2])};l.vp=function(a){this.r[3]=Math.max(a,this.r[3]);this.Xr=this.r[3];this.wp=1;this.Yk=1/this.Nf};function nc(a,b){a.um=Math.max(b,a.r[4]);a.mu=Math.max(b,a.r[4]);a.r[4]=Math.max(b,a.r[4])}
l.na=function(a){if(this.O)this.tb-=a;else{this.yt&&(this.ko-=a,0>this.ko&&(this.yt=!1));0<this.ed&&(this.ed-=a);0<this.um&&(this.um-=a);0<this.r[0]&&(this.r[0]-=a);0<this.r[1]&&(this.r[1]-=a);0<this.r[2]?(this.r[2]-=a,this.body.ue(3*this.va),this.yC=!0):this.yC&&this.body.ue(this.va);if(0<this.r[3]){if(this.r[3]-=a,!this.zi){this.zi=!0;var b=this.body.Jc;void 0===b.length&&(b=[b]);for(var c=0;c<b.length;c++)b[c].$a.Da/=this.Nf;this.body.dg();oc(this)}}else if(this.zi){this.zi=!1;b=this.body.Jc;void 0===
b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].$a.Da*=this.Nf;this.body.dg();oc(this)}0<this.r[4]&&(this.r[4]-=a);if(0<this.r[5]){this.r[5]-=a;b=this.body.Jc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].nx(this.sb*this.Qx);oc(this);this.body.dg();this.gu=!0}else if(this.gu){this.gu=!1;b=this.body.Jc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].nx(this.sb);oc(this);this.body.dg()}cur_time=(new Date).getTime();"mouse"==E.wc?((this.Np||100>cur_time-this.$u)&&!this.ij&&0>=this.r[1]&&
(this.ij=!0,this.w.I.Uu=!0,this.qh=this.body.g.position.Cb(),this.ad=this.xi,this.gj=this.hj,bc("impulse"),this.w instanceof pc&&(c=this.w,1==c.da&&"first_time_tutorial"==c.mode&&0==c.Sd&&"none"==c.hb&&(c.fg=c.Bm,c.Sd=!0)),this.w.Pi&&qc(this.w,"player_impulsed")),this.xi=R({x:this.body.g.position.x*F,y:this.body.g.position.y*F},this.xv)):"keyboard"==E.wc&&!this.ij&&0>=this.r[1]&&(c=0,null!=this.Dh&&this.Dh>c&&(c=this.Dh),null!=this.Eh&&this.Eh>c&&(c=this.Eh),null!=this.Gh&&this.Gh>c&&(c=this.Gh),
null!=this.Ch&&this.Ch>c&&(c=this.Ch),0!=c&&40<(new Date).getTime()-c&&(null!=this.Dh&&null!=this.Gh?this.ad=5*Math.PI/4:null!=this.Dh&&null!=this.Ch?this.ad=3*Math.PI/4:null!=this.Eh&&null!=this.Gh?this.ad=7*Math.PI/4:null!=this.Eh&&null!=this.Ch?this.ad=1*Math.PI/4:null!=this.Dh?this.ad=Math.PI:null!=this.Eh?this.ad=0:null!=this.Gh?this.ad=3*Math.PI/2:null!=this.Ch&&(this.ad=1*Math.PI/2),0<this.r[4]&&(this.ad+=Math.PI),this.ij=!0,this.w.I.Uu=!0,this.qh=this.body.g.position.Cb(),this.gj=this.hj,
bc("impulse")));this.body.rb(this.xi);0<this.r[4]&&(this.xi+=Math.PI);for(c=0;c<this.i.Zd.length;c++)if(Kb(this.i.Zd[c],this.body.g.position)){this.Nc();break}if(this.ij)if(0>this.gj)this.ij=!1,this.ep=[];else{for(c=0;c<this.i.s.length;c++)if(!(this.i.s[c]instanceof rc&&0>=this.i.s[c].r[1]||this.i.s[c]instanceof sc&&this.i.s[c].jC)){if(-1==this.ep.indexOf(this.i.s[c].id)&&!this.i.s[c].O)for(var b=this.i.s[c].Cj(),d=0;d<b.length;d++)if(tc(this,b[d])){if(uc(this,b[d],20<this.i.s[c].body.p.cg())){var f=
R(this.qh,b[d]);this.ep.push(this.i.s[c].id);this.i.s[c].Ef(this.qh,this.Zy,f);break}this.i.s[c]instanceof vc&&"engaged"==this.i.s[c].mb&&wc(this.i.s[c])}if(this.i.s[c]instanceof vc&&"inactive"!=this.i.s[c].mb){var g=this.i.s[c].Ya;if(-1==this.ep.indexOf(g.id))for(b=g.Cj(),d=0;d<b.length;d++)tc(this,b[d])&&uc(this,b[d],!0)&&(f=R(this.qh,b[d]),g.Ef(this.qh,this.Zy,f),this.ep.push(g.id))}}this.gj-=a}this.jk&&(0>this.Hl?(xc(this,!0),this.jk=!1,this.ow=[],this.w instanceof pc&&(a=this.w,1==a.da&&"ult_tutorial"==
a.mode&&0==a.Sd&&"none"==a.hb&&(a.fg=a.Bm,a.Sd=!0)),this.i.Aa&&this.body.bj(this.nh)):(xc(this,!1),this.Hl-=a));0>=this.r[0]&&(b=this.oa,c=a=0,this.left&&--a,this.right&&(a+=1),this.sq&&--c,this.Zo&&(c+=1),b=2==Math.abs(a)+Math.abs(c)?b/Math.sqrt(2):b,0<this.r[4]&&(a*=-1,c*=-1),this.body.ha(new b2Vec2(b*a,b*c),this.body.h.o),this.w instanceof pc&&(0!=a||0!=c)&&(b=this.w,0==b.da&&"first_time_tutorial"==b.mode&&0==b.Sd&&"none"==b.hb&&(b.fg=b.Bm,b.Sd=!0)),!this.w.Pi||0==a&&0==c||qc(this.w,"player_moved"))}};
function oc(a){a.oa=0<a.r[5]?a.Fn*a.Qx:0<a.r[3]?a.Fn/a.Nf/a.Nf:a.Fn}
function xc(a,b){for(var c=0;c<a.i.s.length;c++){var d=a.i.s[c];if(!d.O){for(var f=d.Cj(),g=(b?1:.002)*a.WE,h=0;h<f.length;h++)if(yc(a,f[h])){var k=R(a.nh,f[h]);-1==a.ow.indexOf(d.id)?(a.ow.push(d.id),zc(d,!0)):zc(d,!1);f=I[d.type];h=d.yf?.02/d.Qg:1;"slingshot"==d.type&&(h*=2);d.Ef(a.nh,1*g*h*d.body.Z*f.va,k,!0);break}d instanceof vc&&"engaged"==d.mb&&d.Qc==a&&wc(d)}if(d instanceof vc&&"inactive"!=d.mb)for(d=d.Ya,f=d.Cj(),h=0;h<f.length;h++)yc(a,f[h])&&(k=R(a.nh,f[h]),d.Ef(a.nh,2*g,k))}}
function Ac(a){return a.jk?a.nh:a.body.g.position}function tc(a,b){var c=R(a.qh,b);return a.ad<2*-Math.PI/3?c<=a.ad+Math.PI/3||c>=a.ad+5*Math.PI/3:a.ad>2*Math.PI/3?c<=a.ad-5*Math.PI/3||c>=a.ad-Math.PI/3:c>=a.ad-Math.PI/3&&c<=a.ad+Math.PI/3}function uc(a,b,c){var d=Bc(a),f=a.qh.Cb();f.co(b);f=f.ab();b=c?4*a.Tu:2*a.Tu;return f>=a.Rg*d*((a.hj-a.gj)/a.hj-b)&&f<=a.Rg*d*((a.hj-a.gj)/a.hj+b)}function yc(a,b){var c=a.nh.Cb();c.co(b);c=c.ab();return c<=a.pw*Xb(.15,.5,(a.Gn-a.Hl)/a.Gn)}
function Cc(a,b){b.save();if(a.O){var c=a.O?Math.min((a.bb-a.tb)/a.bb,1):0;b.globalAlpha*=1-c}a.jk&&0<a.Hl&&(b.save(),b.globalAlpha*=.3,c=Math.min(2-Math.abs((a.Hl-a.Gn/2)/(a.Gn/4)),1),b.globalAlpha*=c/2,b.fillStyle="white",b.fillRect(0,0,Dc,Ec),b.restore(),b.shadowBlur=10,b.shadowColor="#ccc",b.globalAlpha*=.5,c=Xb(.1,.5,(a.Gn-a.Hl)/a.Gn),.4<c&&(b.globalAlpha*=0>(1-c)/.4?0:(1-c)/.4),J(b,a.nh.x*F,a.nh.y*F,0,a.pw*c*F*2,a.pw*c*F*2,"generated_ultimate",wa));b.restore()}
l.dh=function(a){this.O||Cc(this,a)};
l.Y=function(a){if(!this.O){Cc(this,a);a.save();if(0<this.um){var b=Math.max((this.mu-this.um)/this.mu,0);Aa(a,this.body.g.position.x,this.body.g.position.y,this.eh,b,"#24ac40")}else 0<this.ed&&(b=Math.max((this.ek-this.ed)/this.ek,0),Aa(a,this.body.g.position.x,this.body.g.position.y,this.eh,b,"gray"));if(this.yt){var b=this.ko/this.xt,c=1+8*b;a.save();a.globalAlpha*=1-b;a.beginPath();a.lineWidth=Math.ceil(4-4*b);a.strokeStyle=x.impulse_blue;a.arc(this.body.g.position.x*F,this.body.g.position.y*
F,this.shape.Da*c*F,0,2*Math.PI,!0);a.stroke();a.restore()}else this.jk?(c=Bc(this),J(a,this.nh.x*F,this.nh.y*F,this.body.ga(),this.shape.Da*F*2.5*c,this.shape.Da*F*2.5*c,"player_gray")):0<this.r[0]?Fc(this,a,"player_red"):0<this.r[4]?Fc(this,a,"player_green"):0<this.r[1]?Fc(this,a,"player_gray"):0<this.r[2]?Fc(this,a,"player_yellow"):Fc(this,a,"player_normal");c=Bc(this);0<this.r[3]&&(a.beginPath(),a.arc(this.body.g.position.x*F,this.body.g.position.y*F,this.eh*c*F,0,2*Math.PI,!1),a.strokeStyle=
"black",a.stroke());a.beginPath();E.Wr&&(a.save(),b=this.ko/this.xt,a.globalAlpha*=Math.max(0,1-b),0>=this.r[1]&&"mouse"==E.wc?(a.fillStyle=this.EC,a.arc(this.body.g.position.x*F,this.body.g.position.y*F,this.Rg*c*F,this.xi-Math.PI/3,this.xi+Math.PI/3),a.lineTo(this.body.g.position.x*F+Math.cos(this.xi+Math.PI/3)*this.Rg*c*F,this.body.g.position.y*F+Math.sin(this.xi+Math.PI/3)*this.Rg*c*F),a.lineTo(this.body.g.position.x*F,this.body.g.position.y*F),a.fill()):0>=this.r[1]&&"keyboard"==E.wc&&(a.beginPath(),
a.arc(this.body.g.position.x*F,this.body.g.position.y*F,this.Rg*c*F,0,2*Math.PI),a.globalAlpha/=6,a.lineWidth=2,a.strokeStyle=x.impulse_blue,a.stroke()),a.restore());this.ij&&(a.beginPath(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=10,a.shadowColor=this.Yy,a.lineWidth=this.Rg*this.Tu*F*c,b=(this.hj-this.gj)/this.hj,a.save(),.5<b&&(a.globalAlpha*=0>(1-b)/.5?0:(1-b)/.5),a.arc(this.qh.x*F,this.qh.y*F,this.Rg*c*b*F,this.ad-Math.PI/3,this.ad+Math.PI/3),a.strokeStyle=this.Yy,a.lineWidth=5,a.stroke(),
a.restore());E.hs&&!this.w.Aa&&(a.font="16px Muli",a.fillStyle=x.impulse_blue,a.textAlign="center",a.shadowBlur=0,a.fillText("x"+this.w.I.qf,this.body.g.position.x*F,this.body.g.position.y*F+30));a.restore()}};function Fc(a,b,c){var d=Bc(a);J(b,a.body.g.position.x*F,a.body.g.position.y*F,a.body.ga(),a.shape.Da*F*2.5*d,a.shape.Da*F*2.5*d,c)}
function Bc(a){if(0>=a.r[3])return 1;var b=a.r[3]/a.Xr;.1>b?(b=1-b/.1,lighten_factor=a.wp*b+a.Yk*(1-b)):.9<b?(b=(b-.9)/.1,lighten_factor=a.wp*b+a.Yk*(1-b)):lighten_factor=a.Yk;return lighten_factor}l.Me=function(){};l.Nc=function(a){this.O=!0;this.tb=this.bb;this.i.ZF=!0;"absorbed"!=a&&bc("pdeath");Gc(this.i,"player",this.body.g.position,this.body.p,!0)};
l.Iu=function(a,b){for(var c=this.ah.length-1,d=null,f=null,g=0;g<this.ah.length;g++){var h=Mb({x:this.body.g.position.x+this.ah[g].X*Math.cos(this.ah[g].ji+0),y:this.body.g.position.y+this.ah[g].X*Math.sin(this.ah[g].ji+0)},{x:this.body.g.position.x+this.ah[c].X*Math.cos(this.ah[c].ji+0),y:this.body.g.position.y+this.ah[c].X*Math.sin(this.ah[c].ji+0)},a,b);if(null!=h){c=Q(h,a);if(null==f||c<f)d=h,f=c;c=g}}return{GD:d,Ud:f}};function Ga(){}l=Ga.prototype;l.Mm=1.5;
l.ia=function(a,b,c,d,f){this.ED=new b2Vec2(b,c);if(this.w=f)this.i=f.i,this.q=f.q;this.pa=a;for(g in I[this.type])this[g]=I[this.type][g];this.Kv=[];this.Kv.push(new b2Vec2(Math.cos(0*Math.PI),Math.sin(0*Math.PI)));this.Kv.push(new b2Vec2(Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)));this.Kv.push(new b2Vec2(Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)));this.HD=1E3;this.Py=3;this.su=this.Lv=0;this.Tj=1500;this.tl=!0;this.Nf=1.5;this.Vu=x.impulse_blue;g=new b2BodyDef;g.type=b2Body.Cd;g.position.x=
b;g.position.y=c;g.Zr=this.va;g.Gu=this.iG?!1:!0;g.Gu||(g.wx=50);a&&(this.body=a.Qn(g));this.rE=[];this.yg=[];this.zi=!1;this.qp=500;for(var g=0;g<this.Wb.length;g++){a=this.Wb[g];b=null;"circle"==a.type&&(b=new b2CircleShape(a.X),b.ox(new b2Vec2(a.x,a.y)));if("polygon"==a.type){c=[];for(b=0;b<a.ba.length;b++)c.push(new b2Vec2(a.x+a.X*a.ba[b][0],a.y+a.X*a.ba[b][1]));b=new b2PolygonShape;b.pt(c,c.length)}a=new b2FixtureDef;a.sb=this.sb;a.Rm=0;a.tn=.7;a.filter.nf=this.nf?this.nf:4;a.filter.Af=this.Af?
this.Af:30;a.shape=b;this.body&&this.body.Aq(a).$n({owner:this,body:this.body,self:this});this.rE.push(b);b instanceof b2PolygonShape?this.yg.push(b.$):this.yg.push(null)}this.Lf=!0;Hc(this);this.path=null;this.yw=0;this.xw=!1;this.id=d;this.Ek=this.O=!1;this.bb=this.fy=500;this.tb=0;this.r=[0,0,0,0];this.qa={};this.qa.open=0;this.qa.impulsed=0;this.ez=!0;this.Tc=!1;this.tA=0;this.Yo=!0;this.Md=this.qe=40;this.eF=10;this.gh=.3;this.Hd=!1;this.nj=!0;this.$v=this.oa/3;this.Wu=!1;this.Xu=this.$y=2E3;
this.ze=2;this.Xr=0;this.ME="normal impulsed stunned silenced gooed lighten ulted white world1 world2 world3 world4 black".split(" ");this.Uq=[];this.Wq=0;this.zB=4;this.Vq=null;this.ho=.5;this.fo=!0;this.Tm=!1;this.pm=0;this.Mz=this.Xy=this.Om=!1;this.Vy=4;this.Um=0;this.ve=null;this.ai&&(this.sf=!1,this.Dc=this.Yh=this.Ah=this.jg)};
l.or=function(){for(var a=0;a<this.i.Zd.length;a++)if(Kb(this.i.Zd[a],this.body.g.position)){if(0>=this.qa.open&&this.Mz){this.body.bj(this.ED);break}0>=this.qa.open&&this.tl?this.Nc("accident"):(this.w instanceof pc&&(a=this.w,3==a.da&&"first_time_tutorial"==a.mode&&0==a.Sd&&"none"==a.hb&&(a.fg=a.Bm,a.Sd=!0),4==a.da&&"first_time_tutorial"==a.mode&&0==a.Sd&&"none"==a.hb&&(a.fg=a.Bm,a.Sd=!0)),this.w.Pi&&qc(this.w,"enemy_killed"),this.Nc("kill"));break}};
function Hc(a){a.Yv=[];a.bC=[];if(a.q)for(var b=a.body.Jc;null!=b;){var c=b.$a,d=[];if(c instanceof b2PolygonShape){for(var c=c.$,f=0;f<c.length;f++){var g=Q({x:0,y:0},c[f]),h=R({x:0,y:0},c[f]);d.push({X:g,ji:h})}a.bC.push(Qb(c,a.q.X+.1))}a.Yv.push(d);b=b.Ha}}l.Tz=function(a,b){this.Ek&&("hit_player"!=this.O||this.tb<this.bb-50)&&(this.Ek=!1,this.i.Xo.push(a));return this.O&&0>this.tb?(this.i.ip.push(a),!0):this.O?(this.tb-=b,!0):!1};
l.na=function(a,b){if(!this.Tz(a,b))if(0==this.qb)this.Uc(b);else if(this.Jg)this.wt(b);else{0<this.r[0]&&(this.r[0]-=b);0<this.r[1]?this.r[1]-=b:this.pf&&(this.pf=!1);for(status in this.qa)0<this.qa[status]&&(this.qa[status]-=b);0<this.r[2]?(this.r[2]-=b,this.body.ue(this.va*this.Py)):this.body.ue(this.va);if(0<this.r[3]){if(this.r[3]-=b,!this.zi){this.zi=!0;var c=this.body.Jc;void 0===c.length&&(c=[c]);for(var d=0;d<c.length;d++)for(var f=this.body.Jc.$a.$,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x/
this.Nf,f[g].y/this.Nf);this.body.dg();this.oa=I[this.type].oa/this.Nf/this.Nf}}else if(this.zi){this.zi=!1;c=this.body.Jc;void 0===c.length&&(c=[c]);for(d=0;d<c.length;d++)for(f=this.body.Jc.$a.$,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x*this.Nf,f[g].y*this.Nf);this.body.dg();this.oa=I[this.type].oa}1>this.Lv&&(this.Lv=Math.min(this.Lv+b/this.HD,1));this.tA+=b;this.Xu=this.Wu?this.Xu-b:this.$y;this.or();this.Wq+=1;if(!(!this.fo||0<this.qa.open&&"tank"==this.type||0<this.r[1])){if(this.Wq>this.zB){this.Wq=
0;c=!1;f=this.i.vh;d=null;for(g=0;g<f.length;g++)if(Kb(f[g],this.body.g.position)){var h;h=f[g];for(var k=this.body.g.position,n=h.length-1,q={ln:null,mn:null,Ud:null},p=0;p<h.length;p++){var u=Nb(h[p],h[n],k);if(null==q.Ud||u<q.Ud){var z=R(k,h[n]);Vb(z,R(k,h[p]))-z<Math.PI/2||(q.ln=h[n],q.mn=h[p],q.Ud=u)}n=p}h=q;if(null!=h.Ud)d=R({x:0,y:0},{x:h.mn.x-h.ln.x,y:h.mn.y-h.ln.y})-Math.PI/2,c=!0;else{f=f[g];g=this.body.g.position;h={ac:null,Ud:null};for(k=0;k<f.length;k++)if(n=Q(f[k],g),null==h.Ud||n<h.Ud)h.Ud=
n,h.ac=f[k];f=h;f.Ud<N[this.i.W].Na&&(d=R(f.ac,this.body.g.position),c=!0)}break}this.Vq=c?d:null}null!=this.Vq&&(c=new b2Vec2(Math.cos(this.Vq),Math.sin(this.Vq)),c.ca(this.oa*this.ho),0<this.qa.open&&"normal"==K&&this.Om?c.ca(1.5):("goo"==this.type||"disabler"==this.type)&&0<this.qa.open?c.ca(0):"harpoon"==this.type&&0<this.qa.open&&c.ca(.6),this.body.ha(c,this.body.h.o))}this.ai&&(!this.sf&&Rb(0,this.body.g.position)&&(this.$b(this.jg),this.Dc=this.Yh=this.jg,this.sf=!0),0<this.Ah&&(this.Ah-=dt),
Rb(0,this.body.g.position)||(this.sf=!1,this.$b(100,!0),this.Dc=0),0<this.Dc&&(this.Dc-=dt,this.$b(100,!0)));this.move();this.Uc(b)}};l.Uc=function(){};l.wt=function(){};l.Oy=function(){return this.q.body.g.position};
l.move=function(){if(!(this.q.O||0<this.r[0])){this.Md+=1;if(0==this.Md%4||this.Md>=this.qe){var a=this.Oy();if(!a)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a==this.q.body.g.position||this.Md>=this.qe||this.path&&!Ib(this.body.g.position,this.path[0],this.i.Ze)){var b=Tb(this.w.Kb,this.body.g.position,a,this.w.i.Up);this.path=null!=b.path?b.path:null;this.Md=Math.floor(.25*Math.random()*this.qe)}}if(this.path){b=this.path[0];if(0==this.Md%4){for(;0<this.path.length&&
1>Q(b,this.body.g.position);)this.path=this.path.slice(1),b=this.path[0];if(!b||!Ib(this.body.g.position,b,this.i.Ze))return;a==this.q.body.g.position&&Ib(this.body.g.position,this.q.body.g.position,this.i.Ze)&&(this.path=[this.q.body.g.position],b=this.path[0])}if(this.Hd){if(this.yw==this.eF){a=Pb(this.body.g.position,4*this.H,this.i.s,function(a){return a.body.g.position});this.xw=!1;for(var c=0;c<a.length;c++)if(a[c].id>this.id&&"fighter_bullet"!=a[c].type){this.xw=!0;break}this.yw=0}this.yw++}this.Hd&&
this.xw||!b||this.gs(b)}}};l.gs=function(a){var b=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);b.ab();this.Rj(b);this.body.ha(b,this.body.h.o);this.Lf&&Ic(this,a)};l.Rj=function(a){a.ca(this.oa)};function Ic(a,b){a.Vf(R(a.body.g.position,b))}l.Vf=function(a){--this.Um;0>=this.Um&&(this.body.rb(a),this.Um=this.Vy);this.ve=a};
l.Nc=function(a){this.O=a;this.tb=this.bb="fade"==a?500:this.fy;this.Ek=!0;if("kill"==this.O&&!this.q.O&&(this.w.I.le+=1,I[this.type].Oi?I[I[this.type].Oi].le+=1:I[this.type].le+=1,!this.i.Aa)){var b=this.w.I.qf*this.Lc;E.fc&&Jc(this.w,b,this.color,this.body.g.position.x,this.body.g.position.y);this.w.I.$e+=b;Kc(this.w);Lc(this.w);b>Fb.high_roller.mE&&Mc("high_roller")}"accident"!=this.O&&"fade"!=this.O&&"absorbed"!=this.O&&("tank"==this.type?bc("tdeath"):this.yf?(bc("tdeath"),setTimeout(function(){bc("tdeath")},
150),setTimeout(function(){bc("tdeath")},300)):"troll"==this.type&&"hit_player"==this.O&&0>=this.r[1]||bc("sdeath"));"fade"!=this.O&&(Gc(this.i,this.type,this.body.g.position,this.body.p),this.vk(a))};l.vk=function(){};
l.Me=function(a){if(!this.O){if(0<this.qa.open&&("mote"==a.type||"troll"==a.type)){var b=this.body.p,c=this.body.Z/a.body.Z;a.body.ha(new b2Vec2(.2*b.x*c,.2*b.y*c),a.body.g.position);this.body.Zn(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))}a===this.q?(this.w.Aa&&!this.zi&&50<this.body.p.cg()&&(b=this.body.p,c=this.body.Z/a.body.Z,a.body.ha(new b2Vec2(b.x*c*.5,b.y*c*.5),a.body.g.position),this.body.Zn(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))),this.Yo&&this.Nc("hit_player"),(0>=this.r[1]||this.Xy)&&this.Uf(),
Nc(this.w)):a instanceof Ga&&0<a.qa.open&&this.open(a.qa.open)}};l.Uf=function(){"easy"==K&&this.q.Ui(300);"normal"==K&&this.q.Ui(500)};
l.Y=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0,d=this.body.g.position;a.save();a.translate(d.x*b,d.y*b);a.rotate(this.ve);d=I[this.type].images.normal.height;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);var f=this.O&&"fade"!=this.O?1+this.ze*c:1,g=d;if(0<this.r[3]){var c=this.r[3]/this.Xr,h=1;.1>c?(c=1-c/.1,h=this.wp*c+this.Yk*(1-c)):.9<c?(c=(c-.9)/.1,h=this.wp*c+this.Yk*(1-c)):h=this.Yk;g*=
h}g*=f;a.drawImage(I[this.type].images[this.Bj()],0,0,d,d,-g/2,-g/2,g,g);0<this.r[3]&&a.drawImage(I[this.type].images[this.Bj()],0,0,d,d,-g/2,-g/2,g,g);a.restore();this.Ad(a,b)}};l.Ad=function(){};l.dh=function(){};l.Du=function(){};l.qm=function(){};l.nm=function(){};l.om=function(){};l.Ef=function(a,b,c,d){d||(this.open(this.Tj),this.qa.impulsed+=this.qp);this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d&&!this.yf||this.se(a,b,c)};l.se=function(){};
function zc(a,b){a.Ui(2E3);a.qa.open=0;a.qa.ulted=2E3;b&&a.body.Zn(new b2Vec2(0,0))}l.Ui=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1])};l.$b=function(a,b){b&&(this.pf=b);this.r[1]=Math.max(a,this.r[1])};l.Ku=function(a){this.r[2]=Math.max(a,this.r[2])};l.vp=function(a){this.r[3]=Math.max(a,this.r[3]);this.Xr=this.r[3];this.wp=1;this.Yk=1/this.Nf};l.open=function(a){this.qa.open=Math.max(a,this.qa.open)};
l.Iu=function(a,b){for(var c=null,d=null,f="polygon"==this.eG?this.JF:0,g=0;g<this.Yv.length;g++)for(var h=this.Yv[g],k=h.length-1,n=0;n<h.length;n++){var q=Mb({x:this.body.g.position.x+h[n].X*Math.cos(h[n].ji+f),y:this.body.g.position.y+h[n].X*Math.sin(h[n].ji+f)},{x:this.body.g.position.x+h[k].X*Math.cos(h[k].ji+f),y:this.body.g.position.y+h[k].X*Math.sin(h[k].ji+f)},a,b);if(null!=q){k=Q(q,a);if(null==d||k<d)c=q,d=k;k=n}}return{GD:c,Ud:d}};l.Cj=function(){return[this.body.g.position]};
l.Bj=function(){if(!this.O){if(0<this.qa.ulted)return"ulted";if(0<this.qa.impulsed)return"impulsed";if(0<this.r[0])return"stunned";if(this.pf)return"silenced";if(0<this.r[2])return"gooed"}return this.mp()};l.mp=function(){return"normal"};l.Rk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a||"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Vu:"ulted"==a?x.impulse_blue:"white"==a?"white":"black"==a?"black":"world"==a.slice(0,5)?x["world "+a.slice(5,6)+" lite"]:this.lp(a)};
l.lp=function(){};function Oc(){}Oc.prototype=new Ga;l=Oc.prototype;l.constructor=Oc;l.ia=function(a,b,c,d,f){this.nC(a,b,c,d,f);this.fd=1E3;this.Qg=10;this.w.Bh&&this.w.i.ec&&(this.fd=6600);this.tl=!1;this.fy=2E3;this.kc=this.fd};l.nC=Ga.prototype.ia;l.yf=!0;function Pc(a){if(a.O)return 0;var b=Math.min(775/F-a.body.g.position.x,a.body.g.position.x-25/F);a=Math.min(575/F-a.body.g.position.y,a.body.g.position.y-25/F);return Math.min(b,a)/(275/F)}
l.Ef=function(a,b,c){this.qb&&(this.body.ha(new b2Vec2(this.Qg*b*Math.cos(c),this.Qg*b*Math.sin(c)),this.body.h.o),this.se(a,b,c))};l.se=function(){this.mc=this.sp};l.Ui=function(){};l.$b=function(){};l.Ku=function(){};l.vp=function(){};l.open=function(){};Qc.prototype=new Oc;l=Qc.prototype;l.constructor=Qc;
function Qc(a,b,c,d,f){this.type="fourth boss";this.ia(a,b,c,d,f);this.Tc=!1;this.ze=5;this.Hd=!1;this.$h=!0;this.body.rb(Math.PI/2);this.visibility=0;this.kc=this.fd=2300;this.qb=!1;this.hf=0;this.BB=5;this.ux=1E3;this.jo=0;this.$d=Math.PI/2;this.BE="#000000 #110000 #660000 #990000 #cc0000 #ff0000".split(" ");this.hh=0;this.oA=250;this.pA=2E4;"easy"==K&&(this.pA=3E4);this.CE=.2;this.GE={stunner:8,spear:5,tank:6,mote:6,goo:1,harpoon:4,orbiter:5,disabler:1,fighter:3,slingshot:4,troll:6,deathray:2};
this.HE={stunner:6,spear:4,tank:4,mote:4,goo:1,harpoon:3,orbiter:3,disabler:1,fighter:2,slingshot:2,troll:4,deathray:1};this.IE={stunner:10,spear:10,tank:75,mote:10,goo:20,harpoon:20,orbiter:8,disabler:20,fighter:30,slingshot:10,troll:10,deathray:50};this.qA="stunner spear fighter orbiter troll goo harpoon deathray slingshot mote tank disabler".split(" ");this.cw=0;this.FE=22E3;this.JE=0;this.Zu=this.gz=2;this.fz=Math.PI/4;this.jc=5E3;this.te=[this.jc,this.jc/2];this.io=.25;this.vj=200;this.aq=2;
this.Zp=0;this.$p=500;this.fj=[!1,!1];this.Jr=[!1,!1];this.Al=1;this.va=10;this.body.ue(10);this.pl=5;this.md=[];this.Ex=1E4;"easy"==K&&(this.Ex=12E3);this.Zq=!1;this.lo=this.Dx=1250;this.yi=!1;this.ky=!0;this.mj=I[this.type].mj;for(a=0;a<this.pl;a++)b=(a+.5)/this.pl*Math.PI*2+this.body.ga(),c=Yb(this.pa,I[this.type].Px,this.body.g.position.x+1.5*this.H*Math.cos(Math.PI/5)*Math.cos(b),this.body.g.position.y+1.5*this.H*Math.cos(Math.PI/5)*Math.sin(b),10,17,"static",this),c.rb(b),this.md.push({type:"body",
me:a,body:c,size:this.mj*(.8+.2*Xb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3))});this.BA=4E3;this.EE=2E3;this.eu=0;this.gd=100;this.ou=25E3;this.Gd=this.ou-1;this.Wo=this.Dk=this.Ng=1E3;this.Oe=document.createElement("canvas");this.xm=this.Oe.getContext("2d");this.Oe.width=200;this.Oe.height=200;this.Vo=0;this.xm.beginPath();this.xm.moveTo(100+100*Math.cos(8*Math.PI/5),100+100*Math.sin(8*Math.PI/5));for(a=0;5>a;a++)this.xm.lineTo(100+100*Math.cos(2*Math.PI*a/5),100+100*Math.sin(2*Math.PI*
a/5));this.xm.closePath();this.xm.fillStyle="black";this.xm.fill();this.pu=!1}
l.Y=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ga(),2*this.H*b,2*this.H*b,"adrogantia_head",yb);if(0<this.hf){a.save();a.beginPath();var d=this.body.ga();a.moveTo(c.x*b+this.H*b*Math.cos(d),c.y*b+this.H*b*Math.sin(d));for(var f=1;f<=this.hf;f++)a.lineTo(c.x*b+this.H*b*Math.cos(d+f*Math.PI*
2/5),c.y*b+this.H*b*Math.sin(d+f*Math.PI*2/5));5>this.hf&&a.lineTo(c.x*b,c.y*b);a.closePath();a.clip();J(a,c.x*b,c.y*b,this.body.ga(),2*this.H*b,2*this.H*b,"adrogantia_head_red",yb);a.restore()}this.Ad(a,b);a.restore()}};
l.Du=function(a,b){a.save();a.globalAlpha=1;var c=this.body.g.position;if(0<this.Gd){var d=1-this.Gd/this.ou,f=this.H*d*b;this.Vo=this.body.ga();a.save();a.globalAlpha*=.5;a.translate(c.x*b,c.y*b);a.rotate(this.Vo);a.drawImage(this.Oe,0,0,this.Oe.width,this.Oe.height,-f,-f,2*f,2*f);a.restore()}else this.Gd>-this.Ng?(this.pu||(this.pu=!0,bc("b4darkness")),d=this.Gd/-this.Ng,f=(this.H*(1-d)+60*d)*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.Vo),a.drawImage(this.Oe,0,0,this.Oe.width,
this.Oe.height,-f,-f,2*f,2*f),a.restore()):this.Gd>-(this.Ng+this.Dk)?(f=60*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.Vo),a.drawImage(this.Oe,0,0,this.Oe.width,this.Oe.height,-f,-f,2*f,2*f),a.restore()):this.Gd>-(this.Ng+this.Dk+this.Wo)&&(d=1-(this.Gd+this.Ng+this.Dk)/-this.Wo,f=60*b,a.save(),a.globalAlpha=.5*a.globalAlpha*d,a.translate(c.x*b,c.y*b),a.rotate(this.Vo),a.drawImage(this.Oe,0,0,this.Oe.width,this.Oe.height,-f,-f,2*f,2*f),a.restore());a.restore()};
l.Ad=function(a,b){Rc(this);for(var c in this.md)if("body"==this.md[c].type){var d=this.md[c],f=d.body.g.position,g=d.body.ga();a.save();J(a,f.x*b,f.y*b,g,d.size*b*2,d.size*b*2,d.me<this.hf?"adrogantia_body_bud_red":"adrogantia_body_bud",yb);a.restore()}};
l.Uc=function(a){if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.fd;else{0==this.qb&&(this.qb=!0,this.visibility=1);0<this.hf&&(this.jo-=a,0>this.jo&&(this.jo=this.ux,--this.hf));null!=this.Uo&&this.Uo instanceof Sc&&0>=this.Uo.r[1]?(this.hh+=a/(this.oA*Math.pow(.8,this.hf)),1<this.hh&&(this.hh=1)):0<this.hh&&(this.hh-=a/this.oA,0>this.hh&&(this.hh=0));if(this.ky){this.yi=!0;for(var b=0;b<this.pl;b++){var c=null,c=0==b?{type:"attack",me:b,Am:0,body:null,Gr:null,Mk:null}:
{type:"spawn",me:b,Am:0,body:null,Gr:null,Mk:null};this.md.push(c);Tc(this,c)}this.ky=!1}for(var d in this.md)if(b=this.md[d],"attack"==b.type||"spawn"==b.type){var b=this.md[d],c=this.md[d].me,f=c/this.pl*Math.PI*2+this.body.ga();if(0<b.Am&&!this.yi)b.Am-=a;else if(null==b.body)b.type=null,Tc(this,b);else{var g=Math.max(.1,Xb(.15,.85,Math.min(1,1-b.Mk/b.Gr))*I["boss four "+b.type+"er"].H),h=this.H+g,h={x:this.body.g.position.x+h*Math.cos(f),y:this.body.g.position.y+h*Math.sin(f)};b.rf.Bs(g);b.body.rb(f);
b.body.bj(h);b.Mk-=a;0>b.Mk&&!this.Zj&&(this.Zj=b,this.Cx=c/this.pl*Math.PI*2)}}d=R(this.body.g.position,Ac(this.q));for(var k in this.i.s)b=this.i.s[k],b.O||b==this||"boss four attacker"==b.type||"boss four spawner"==b.type||(6>Q(b.body.g.position,this.body.g.position)?b.Nc("absorbed"):8>Q(b.body.g.position,this.body.g.position)&&(c=Vb(d,R(this.body.g.position,b.body.g.position)),b.body.ha(new b2Vec2(5*b.oa*Math.cos(c),5*b.oa*Math.sin(c)),b.body.h.o),c=c<d?c+Math.PI/2:c-Math.PI/2,b.body.ha(new b2Vec2(b.oa*
Math.cos(c),b.oa*Math.sin(c)),b.body.h.o)));0>this.Gd&&this.Gd>-this.Ng?(k=this.Gd/-this.Ng,this.i.Nm=1-k):this.Gd<-(this.Ng+this.Dk)&&this.Gd>-(this.Ng+this.Dk+this.Wo)?(k=(this.Gd+this.Ng+this.Dk)/-this.Wo,this.i.Nm=k):0<=this.Gd&&(this.i.Nm=1);if(this.Zj)if(this.Zq)this.lo-=a,0>this.lo&&Uc(this,this.Zj);else{k=this.body.ga();if("attack"==this.Zj.type)var n=Vb(k,R(this.body.g.position,Ac(this.q))-this.Cx);else"spawn"==this.Zj.type&&(this.yi?n=Vb(k,Math.PI/2):(null==this.mw&&Vc(this),n=Vb(k,this.mw-
this.Cx)));d=this.BA;Wb(k,n)<2*Math.PI*a/d?(this.body.rb(n),this.Zq=!0,this.yi?this.lo=0:(this.lo=this.Dx,this.Zj.rf.Kr=!0)):n>k?this.body.rb(this.body.ga()+2*Math.PI*a/d):this.body.rb(this.body.ga()-2*Math.PI*a/d)}this.JE<=this.FE-500&&(this.va=I["fourth boss"].va);Rc(this);this.$d+=a/(this.pA*Math.pow(.8,this.hf))*Math.PI*2;k=n=null;d={x:this.body.g.position.x+100*Math.cos(this.$d),y:this.body.g.position.y+100*Math.sin(this.$d)};if(0>=this.Zu)for(this.Zu=this.gz,b=0;b<this.i.s.length;b++)this.i.s[b].id!=
this.id&&this.i.s[b]instanceof Sc&&this.i.s[b].qb&&Ub(this.$d-this.fz,this.$d+this.fz,R(this.body.g.position,this.i.s[b].body.g.position))&&(c=this.i.s[b].Iu(this.body.g.position,d).Ud,null==n||null!=c&&c<n)&&(n=c,k=this.i.s[b]);else n=this.ye,k=this.Uo;--this.Zu;c=this.q.Iu(this.body.g.position,d).Ud;if(null==n||null!=c&&c<n)n=c,k=this.q;k instanceof Sc&&k.id!=this.Uo.id&&k.qb&&(d=k,0>=d.r[1]&&(d.Fs=!0,d.zn=d.bw));this.Uo=k;this.ye=n;"normal"==K&&(this.Gd-=a,0>this.Gd&&this.Gd<-(this.Ng+this.Dk+
this.Wo)&&(this.Gd=this.ou,this.pu=!1))}};function Vc(a){var b=2*Math.random()*Math.PI,c={x:a.body.g.position.x+15*Math.cos(b),y:a.body.g.position.y+15*Math.sin(b)},d=Math.min(775/F-c.x,c.x-25/F),f=Math.min(575/F-c.y,c.y-25/F);Ib(a.body.g.position,c,a.i.Ze)&&10<Math.min(d,f)?a.mw=b:Vc(a)}
function Uc(a,b,c){if(a.yi)for(a.yi=!1,b=0;b<a.md.length;b++)c=a.md[b],"spawn"==c.type&&Uc(a,c,!0);else if("attack"==b.type)b.rf.dir={x:b.body.g.position.x-a.body.g.position.x,y:b.body.g.position.y-a.body.g.position.y},b.body=null,b.Am=0,a.Zj=null,a.Zq=!1,b.rf.body.dg(),b.rf=null,bc("b4attacker");else if("spawn"==b.type){a.Zj=null;a.Zq=!1;b.Am=0;b.body=null;var d=R(a.body.g.position,b.rf.body.g.position),d=new b2Vec2(Math.cos(d),Math.sin(d));d.ca(a.EE);b.rf.body.ha(d,b.rf.body.h.o);b.rf.qb=!0;b.rf.Kr=
!1;1!=c&&b.rf.$b(5E3,!0,!0);Hc(b.rf);b.rf.body.dg();b.rf=null;a.mw=null;bc("b4spawner")}}
l.vk=function(){for(var a=0;a<this.md.length;a++){var b=this.md[a],c=R(this.body.g.position,b.body.g.position);"body"==b.type?(b=Yb(this.pa,I[this.type].Px,this.body.g.position.x+1.5*this.H*Math.cos(Math.PI/5)*Math.cos(c),this.body.g.position.y+1.5*this.H*Math.cos(Math.PI/5)*Math.sin(c),.1,17,"dynamic",this),b.rb(c),this.md[a].body=b,c=new b2Vec2(Math.cos(c),Math.sin(c)),c.ab(),c.ca(20),b.ha(c,b.h.o)):0<b.Mk&&(c=new b2Vec2(Math.cos(c),Math.sin(c)),c.ab(),c.ca(30),this.md[a].body.ha(c,this.md[a].body.h.o))}};
function Rc(a){if(!a.O){for(var b=.8+.2*Xb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3),c=[],d=0;5>d;d++)c.push({x:Math.cos(2*Math.PI*d/5)*b*a.mj,y:Math.sin(2*Math.PI*d/5)*b*a.mj});for(d in a.md){var f=a.md[d];if("body"==f.type){var f=a.md[d],g=(a.md[d].me+.5)/a.pl*Math.PI*2+a.body.ga();f.body.Jc.$a.$=c;f.body.bj({x:a.body.g.position.x+(a.H+b*a.mj)*Math.cos(Math.PI/5)*Math.cos(g),y:a.body.g.position.y+(a.H+b*a.mj)*Math.cos(Math.PI/5)*Math.sin(g)});f.body.rb(g);f.size=b*a.mj}}}}
function Wc(a){for(var b=0,c=0;c<a.i.s.length;c++)"boss four spawner"==a.i.s[c].type&&(b+=1);return b}
function Tc(a,b){if(null==b.type){a.eu+=1;var c=4;.5>Pc(a)&&3<Wc(a)&&(c*=1.5);2>Wc(a)&&(c=3);b.type=0==a.eu%c?"spawn":"attack"}var c=b.me/a.pl*Math.PI*2+a.body.ga(),d=a.H+1.5*I["boss four "+b.type+"er"].bz,f=a.body.g.position.x+d*Math.cos(c),d=a.body.g.position.y+d*Math.sin(c),g=null;"attack"==b.type?g=new Xc(a.pa,f,d,a.i.xc,a.w,.1):(a.cw+=1,g=a.qA[(a.cw-1)%a.qA.length],g=new Sc(a.pa,f,d,a.i.xc,a.w,g,"easy"==K?a.HE[g]:a.GE[g],a.IE[g],a,.1));b.body=g.body;b.rf=g;b.body.rb(c);a.i.ci.push(g);a.i.xc+=
1;b.Gr=a.yi&&"spawn"==b.type?1E3:a.Ex;b.Mk=b.Gr}
l.dh=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){a.save();var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Gk(a,b);this.qb&&(a.beginPath(),c=null!=this.ye?this.ye:100,a.moveTo((this.body.g.position.x+Yc(this)*Math.cos(this.$d+Math.PI/2))*b,(this.body.g.position.y+Yc(this)*Math.sin(this.$d+Math.PI/2))*b),a.lineTo((this.body.g.position.x+Yc(this)*Math.cos(this.$d-Math.PI/2))*b,(this.body.g.position.y+
Yc(this)*Math.sin(this.$d-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.$d)+Yc(this)*Math.cos(this.$d-Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.$d)+Yc(this)*Math.sin(this.$d-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.$d)+Yc(this)*Math.cos(this.$d+Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.$d)+Yc(this)*Math.sin(this.$d+Math.PI/2))*b),a.closePath(),a.globalAlpha*=.5,a.fillStyle=this.BE[this.hf],a.fill(),a.globalAlpha*=2,0<this.hh&&(a.save(),
a.globalAlpha*=this.hh,a.fillStyle="red",a.fill(),a.restore()));a.restore()}};l.Gk=function(a,b){var c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ga(),200,200,"adrogantia_glow",yb)};l.move=function(){};l.Me=function(a){this.O||a!==this.q||(a=R(this.body.g.position,Ac(this.q)),this.q.body.ha(new b2Vec2(this.gd*Math.cos(a),this.gd*Math.sin(a)),this.q.body.h.o),Nc(this.w))};l.Cj=function(){for(var a=[],b=0;b<this.yg[0].length;b++){var c=this.body.g.position.Cb();c.Fg(this.yg[0][b]);a.push(c)}return a};
l.se=function(){this.mc=this.sp;this.hf<this.BB&&(this.hf+=1);this.jo=this.ux};l.Hr=function(){};function Yc(a){return a.CE*Math.pow(1.2,a.hf)};Xc.prototype=new Ga;l=Xc.prototype;l.constructor=Xc;function Xc(a,b,c,d,f,g){this.type="boss four attacker";this.ia(a,b,c,d,f);this.size=g;this.Lf=!1;this.gd=100;this.sA=200;this.dir=null;this.fo=this.Kr=!1}
l.Y=function(a,b){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha*=1-c;this.Kr?J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud_firing",yb):J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud",yb);a.restore()};
l.Uc=function(){if(this.dir){var a=new b2Vec2(this.dir.x,this.dir.y);a.ab();a.ca(this.oa);"easy"==K&&a.ca(.5);this.body.ha(a,this.body.h.o)}};l.move=function(){};
l.Me=function(a){if(!(this.O||0<this.r[1]))if(a===this.q){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.gd*Math.cos(b),this.gd*Math.sin(b)),this.q.body.h.o);Nc(this.w)}else if(this.dir&&"boss four spawner"==a.type){var b=R({x:0,y:0},this.dir),c=Vb(b,R(this.body.g.position,a.body.g.position)),b=b<c?b-Math.PI/2:b+Math.PI/2;a.body.ha(new b2Vec2(this.sA*Math.cos(b),this.sA*Math.sin(b)),a.body.h.o)}else this.dir&&"fourth boss"!=a.type&&(R(this.body.g.position,a.body.g.position),
b=new b2Vec2(this.dir.x,this.dir.y),b.ab(),b.ca(100*a.oa),a.body.ha(b,a.body.h.o))};l.Ef=function(){};l.or=function(){if(this.dir)for(var a=0;a<this.i.Zd.length;a++)if(Kb(this.i.Zd[a],this.body.g.position)){0>=this.qa.open&&this.tl?this.Nc("accident"):this.Nc("kill");break}};l.Bs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Jc.$a.$=b;this.size=a;this.body.dg()};Sc.prototype=new Ga;l=Sc.prototype;l.constructor=Sc;function Sc(a,b,c,d,f,g,h,k,n,q){this.type="boss four spawner";this.ia(a,b,c,d,f);this.hp=g;this.color="black";this.dz=I[this.hp].color;this.Fs=!1;this.DE=h;this.LD=k;this.size=q;this.Lf=!1;this.parent=n;this.Kr=this.qb=!1;this.bw=1E3;this.zn=0;this.Qg=2;this.gd=100}
l.Uc=function(a){if(!this.O&&(this.qb&&(0<this.zn?(this.Bs(I[this.type].H*(1+Xb(.15,.85,.5-Math.abs(this.zn/this.bw-.5)))),this.zn-=a):this.size!=I[this.type].H&&this.Bs(I[this.type].H)),this.Fs&&this.zn<this.bw/2)){bc("b4spawneract");a=R(this.parent.body.g.position,this.body.g.position);for(var b=0,c=this.DE*(1+.2*this.parent.hf),d=Math.max(c,4),f=0;f<c;f++){if(this.i.Kk[this.hp]+f>=this.i.Km[this.hp][6]){this.$b(500);this.Fs=!1;return}for(var g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;!Ib(this.body.g.position,
{x:this.body.g.position.x+10*Math.cos(g),y:this.body.g.position.y+10*Math.sin(g)},this.i.Ze);)b+=1,g=a+2*Math.PI*(b+1/((b-b%d)/d+1))/d;var h=[this.body.g.position.x+2*this.H*Math.cos(g),this.body.g.position.y+2*this.H*Math.sin(g)],h=new I[this.hp].className(this.pa,h[0],h[1],this.i.xc,this.w),g=new b2Vec2(Math.cos(g),Math.sin(g));g.ca(this.LD);h.body.ha(g,h.body.h.o);h.Md=h.qe;this.i.ci.push(h);this.i.xc+=1;b+=1}this.Fs=!1;this.$b(1E3)}};
l.Bs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Jc.$a.$=b;this.size=a;this.body.dg()};l.Ad=function(a,b){0<this.r[1]&&this.pf&&!this.O&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.H*b*1.5,-.5*Math.PI,-.5*Math.PI+this.r[1]/this.OC*Math.PI*1.998,!0),a.lineWidth=2,a.strokeStyle="red",a.stroke())};l.$b=function(a,b){b&&(this.pf=b);this.r[1]=Math.max(a,this.r[1]);this.OC=this.r[1]};
l.Me=function(a){this.O||a===this.q&&Nc(this.w)};l.Ef=function(a,b,c){this.qb&&(this.body.ha(new b2Vec2(this.Qg*b*Math.cos(c),this.Qg*b*Math.sin(c)),this.body.h.o),this.se(a,b,c))};
l.Y=function(a,b){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha*=1-c;J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ga(),this.size*b*2,this.size*b*2,"adrogantia_spawner",yb);var d=this.hp,c=this.body.g.position.x*b,f=this.body.g.position.y*b,g=this.size*b*.7,h=this.body.ga();a.save();h&&(a.translate(c,f),a.rotate(h),a.translate(-c,-f));h=Math.min(1/I[d].H,1)*g/2;"boss"==d.slice(d.length-4)&&(h=2/I[d].H*g/2);for(g=0;g<I[d].Wb.length;g++){var k=I[d].Wb[g];
Ia(a,c,f,k,h,"black")}if("undefined"!==typeof I[d].tj)for(g=0;g<I[d].tj.length;g++)k=I[d].tj[g],Ia(a,c,f,k,h,"black");d=I[d].Dy;if("undefined"!==typeof d)for(g=0;g<d.length;g++)a.beginPath(),k=d[g],a.moveTo(c+h*k.x1,f+h*k.y1),a.lineTo(c+h*k.x2,f+h*k.y2),a.lineWidth=2,a.strokeStyle="black",a.stroke();a.restore();a.restore();this.Ad(a,b)};l.move=function(){};Zc.prototype=new Oc;l=Zc.prototype;l.constructor=Zc;
function Zc(a,b,c,d,f){this.type="first boss";this.pa=a;this.ia(a,b,c,d,f);this.Tc=!1;this.ze=5;this.zg=this.jc=562.5;this.Hd=!1;this.$h=!0;this.jc=3E3;this.iA=2;this.Zk=2E4;this.Vd=this.Zk-1;this.Ci=6E3;this.qb=this.xp=!1;this.Lm=["stunner","spear","tank"];this.An={stunner:5,spear:3,tank:20};this.Lf=!1;this.body.rb(Math.PI/2);this.az=Math.PI/2;this.visibility=0;this.CA=1E3;"easy"==K&&(this.CA=1500);"easy"==K&&(this.Qg=12);this.BA=5E3;this.body.ue(100*I[this.type].va);this.If=40;"easy"==K&&(this.If=
30);this.NC=1;this.Vz=8;this.tx=750;this.oz=this.gy=400;this.Yz=300;this.Uz=400;this.Pz=300;this.RD=(this.gy+this.Uz+this.Yz+this.oz+this.Pz)/2;this.UE=1500;this.sp=150;this.mc=0;this.Xk={left:0,right:0};this.Wj={left:0,right:0};this.gf={left:this.tx,right:this.tx};this.data=I[this.type];this.state="turret";this.uc={left:"none",right:"none"};this.cb={};this.Ma={};a=I[this.type].tw[0].X;b=I[this.type].fv[0].X;c=I[this.type].Lu[0].X;d=this.H;f=this.body.g.position.x;var g=this.body.g.position.y,h=this.NC;
this.Ma.lu=Yb(this.pa,I[this.type].tw,f+d+a-2*h,g,.01,8,"dynamic",this);this.cb.lu=$c(this,new b2Vec2(f+d-h,g),this.body,this.Ma.lu);this.Ma.ll=Yb(this.pa,I[this.type].fv,f+d+2*a+b-4*h,g,.01,8,"dynamic",this);this.cb.ll=$c(this,new b2Vec2(f+d+2*a-3*h,g),this.Ma.lu,this.Ma.ll);this.Ma.lh=Yb(this.pa,I[this.type].Lu,f+d+2*a+2*b-4*h+.25*c,g,.01,8,"dynamic",this);this.Ma.lh.rb(Math.PI/4);this.cb.lh=$c(this,new b2Vec2(f+d+2*a+2*b-4*h+.25*c,g),this.Ma.ll,this.Ma.lh);this.Ma.ru=Yb(this.pa,I[this.type].tw,
f-(d+a-2*h),g,.01,8,"dynamic",this);this.cb.ru=$c(this,new b2Vec2(f-(d-h),g),this.body,this.Ma.ru);this.Ma.rl=Yb(this.pa,I[this.type].fv,f-(d+2*a+b-4*h),g,.01,8,"dynamic",this);this.cb.rl=$c(this,new b2Vec2(f-(d+2*a-3*h),g),this.Ma.ru,this.Ma.rl);this.Ma.rh=Yb(this.pa,I[this.type].Lu,f-(d+2*a+2*b-4*h+.25*c),g,.01,8,"dynamic",this);this.Ma.rh.rb(Math.PI/4);this.cb.rh=$c(this,new b2Vec2(f-(d+2*a+2*b-4*h+.25*c),g),this.Ma.rl,this.Ma.rh);this.Wk={};this.wg={};this.Xh={left:"none",right:"none"};this.hz=
{left:0,right:0};this.ss=13;this.pn={left:0,right:0};this.ql=this.Nv=13500;this.rn=2E3;this.Ov=200;this.Wz=8;this.qn=15;this.ts=150;this.KD=!1;this.Jz=1E4;this.Hz=12E3;this.Iz=6E3;this.ml=this.Jz/2;this.gn=this.Hz;this.tl=!1;this.pz=1E3;this.fw=this.yp=0;this.Ky=!0;this.Qg=20}
l.vk=function(){var a="lu ll lh ru rl rh".split(" ");this.mc=0;this.Xk.left=0;for(var b=this.Xk.right=0;b<a.length;b++){this.pa.Lw(this.cb[a[b]]);var c=R(this.body.g.position,this.Ma[a[b]].g.position),c=new b2Vec2(Math.cos(c),Math.sin(c));c.ab();c.ca(10);this.Ma[a[b]].ha(c,this.Ma[a[b]].h.o)}};
function ad(a,b){var c=arm;bd(a,c,a.oz);if("left"==c){var d=a;a.uc[c]="loading";cd(a,"lu",.3*-Math.PI);cd(a,"lh",Math.PI/4);cd(a,"ll",function(){return Vb(d.cb.ll.ce(),R(d.cb.ll.xd(),Ac(d.q))-d.cb.lu.ce()-(d.body.ga()-d.az))});a.pn[c]=R(a.cb.ll.xd(),b);a.Xh[c]={x:a.cb.ll.xd().x+Math.cos(a.pn[c])*a.ss,y:a.cb.ll.xd().y+Math.sin(a.pn[c])*a.ss};a.yp=a.pz}"right"==c&&(d=a,a.uc[c]="loading",cd(a,"ru",.3*Math.PI),cd(a,"rh",-Math.PI/4),cd(a,"rl",function(){return Vb(d.cb.rl.ce(),Math.PI+R(d.cb.rl.xd(),Ac(d.q))-
d.cb.ru.ce()-(d.body.ga()-d.az))}),a.pn[c]=R(a.cb.rl.xd(),b),a.Xh[c]={x:a.cb.rl.xd().x+Math.cos(a.pn[c])*a.ss,y:a.cb.rl.xd().y+Math.sin(a.pn[c])*a.ss},a.yp=a.pz)}function dd(a,b,c){bd(a,b,a.gy);"left"==b?(a.uc[b]="default",cd(a,"lu",-Math.PI/4),cd(a,"ll",Math.PI/2),cd(a,"lh",0)):"right"==b&&(a.uc[b]="default",c&&(a.uc[b]="delay_default"),cd(a,"ru",Math.PI/4),cd(a,"rl",-Math.PI/2),cd(a,"rh",0))}
function ed(a,b){bd(a,b,a.UE);"left"==b?(a.uc[b]="loading_turret",cd(a,"lu",Math.PI/2),cd(a,"ll",0),cd(a,"lh",0)):"right"==b&&(a.uc[b]="loading_turret",cd(a,"ru",-Math.PI/2),cd(a,"rl",0),cd(a,"rh",0))}function cd(a,b,c){a.Wk[b]={start:a.cb[b].ce(),end:c}}function bd(a,b,c){a.gf[b]=c;a.hz[b]=c}function $c(a,b,c,d){var f=new m.l.L.em;f.kd(c,d,b);f.Jm=!0;f.rz=-Math.PI/2;f.HA=Math.PI/2;f.rr=!1;return a.pa.$A(f)}
l.Uc=function(a){this.fw+=a;1==this.i.s.length&&this.gn>this.Iz&&(this.gn=this.Iz);if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.fd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.ue(I[this.type].va));0<this.mc&&(this.mc-=a);0<this.yp&&(this.yp-=a);"turret"==this.state?(this.ml-=a,0>this.ml&&(this.state="punching",dd(this,"left",!0),this.Wj.left=0,this.Wj.right=0,dd(this,"right",!0),this.gn=this.Hz)):"punching"==this.state&&(this.gn-=a,0>this.gn&&fd(this));for(arm in this.uc){this.gf[arm]-=
a;0<this.Xk[arm]&&(this.Xk[arm]-=a);"none"==this.uc[arm]&&fd(this);if("turret"==this.state)var b=Vb(this.body.ga(),R(this.body.g.position,Ac(this.q))+(Math.abs(this.fw%2E3-1E3)-500)/500*Math.PI/8);else"punching"==this.state&&(b=Vb(this.body.ga(),R(this.body.g.position,Ac(this.q))));if("loading"==this.uc[arm])if(this.body.rb(b),0>this.gf[arm]){Ac(this.q).Cb();var c=arm;bd(this,c,this.Uz);"left"==c&&"left"==c&&(this.wg.ll=this.cb.ll.ce(),this.wg.lu=this.cb.lu.ce(),this.wg.lh=this.cb.lh.ce(),this.uc[c]=
"punching",this.cb.ll.ph(0,Math.PI),this.cb.lu.ph(-Math.PI,Math.PI),this.cb.lh.ph(0,0));"right"==c&&(this.wg.rl=this.cb.rl.ce(),this.wg.ru=this.cb.ru.ce(),this.wg.rh=this.cb.rh.ce(),this.uc[c]="punching",this.cb.rl.ph(-Math.PI,0),this.cb.ru.ph(-Math.PI,Math.PI),this.cb.rh.ph(0,0))}else gd(this);"default"==this.uc[arm]&&(this.body.rb(b),0>this.gf[arm]?0<this.Wj[arm]?this.Wj[arm]-=a:ad(this,Ac(this.q)):gd(this));"delay_default"==this.uc[arm]&&(this.body.rb(b),this.gf[arm]<-this.RD?0<this.Wj[arm]?this.Wj[arm]-=
a:ad(this,Ac(this.q)):gd(this));if("punching"==this.uc[arm])if(0>this.gf[arm]){c=arm;this.uc[c]="paralyzed";if("right"==c)var d=["rl","ru","rh"];"left"==c&&(d=["ll","lu","lh"]);c=void 0;for(c in d){var f=d[c];this.cb[f].ph(this.cb[f].ce(),this.cb[f].ce())}this.gf[arm]=this.Pz}else{c=arm;if("left"==c){var f=R(this.Ma.lh.g.position,this.Xh[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Ma.lh.g.position,this.Xh[c]);this.cb.lu.xd();10>g&&f.ca(g/10);"punching"==this.uc[c]&&f.ca(this.Vz);this.Ma.lh.ha(f,
this.Ma.lh.h.o)}"right"==c&&(f=R(this.Ma.rh.g.position,this.Xh[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Ma.rh.g.position,this.Xh[c]),this.cb.ru.xd(),10>g&&f.ca(g/10),"punching"==this.uc[c]&&f.ca(this.Vz),this.Ma.rh.ha(f,this.Ma.rh.h.o))}"retract"==this.uc[arm]&&(0>this.gf[arm]?dd(this,arm):gd(this));"paralyzed"==this.uc[arm]&&0>this.gf[arm]&&(c=arm,bd(this,c,this.Yz),"left"==c?(this.Xh.left=null,this.uc[c]="retract",cd(this,"lu",this.wg.lu),cd(this,"ll",this.wg.ll),cd(this,"lh",this.wg.lh)):
"right"==c&&(this.Xh.right=null,this.uc[c]="retract",cd(this,"ru",this.wg.ru),cd(this,"rl",this.wg.rl),cd(this,"rh",this.wg.rh)));"loading_turret"==this.uc[arm]&&(this.body.rb(b),0>this.gf[arm]?this.uc[arm]="turret_firing":gd(this));if("turret_firing"==this.uc[arm]&&(this.body.rb(b),0>this.gf[arm])){g=arm;c=new b2Vec2(Math.cos(this.body.ga()),Math.sin(this.body.ga()));f=this.Lm[Math.floor(Math.random()*this.Lm.length)];"easy"==K&&"tank"==f&&.5>Math.random()&&(f=this.Lm[Math.floor(Math.random()*this.Lm.length)]);
c.ab();var h=null;"left"==g&&(h={x:this.Ma.lh.g.position.x+3*c.x,y:this.Ma.lh.g.position.y+3*c.y});"right"==g&&(h={x:this.Ma.rh.g.position.x+3*c.x,y:this.Ma.rh.g.position.y+3*c.y});c.ca(this.An[f]);g=new this.i.Ay[f](this.pa,h.x,h.y,this.i.xc,this.w);this.i.ci.push(g);g.body.ha(c,g.body.h.o);g.Ui(this.ml+2E3);"stunner"==f&&g.open(1500);g.Md=2*g.qe;g.Vf(this.body.ga());0>this.Vd&&g.vp(this.Vd+this.Ci);this.i.xc+=1;this.gf[arm]=this.CA}}if("normal"==K){if(0>this.Vd&&this.Vd>.9*-this.Ci&&!this.xp)for(this.xp=
!0,bc("b1shrink"),this.zg>this.jc/this.iA&&(this.zg=this.jc/this.iA),this.q.vp(Math.round(this.Ci)),b=0;b<this.i.s.length;b++)this.i.s[b].id!=this.id&&this.i.s[b].vp(Math.round(this.Ci));this.Vd<.9*-this.Ci&&this.xp&&(this.xp=!1,bc("b1grow"));this.Vd<-this.Ci&&(this.Vd=this.Zk);this.Vd-=a;if(!(this.Vd>.9*this.Zk)&&this.Vd<.175*this.Zk&&0<=this.Vd)for(a=this.Vd;a>.05*this.Zk;)a-=.05*this.Zk}}};
function gd(a){var b=arm,c=[];"left"==b&&(c=["lu","ll","lh"]);"right"==b&&(c=["ru","rl","rh"]);for(index in c){var d=c[index];if("undefined"!==typeof a.Wk[d].start&&"undefined"!==typeof a.Wk[d].end){var f=Math.max(a.gf[b]/a.hz[b],0),g=null,g="function"==typeof a.Wk[d].end?a.Wk[d].end():a.Wk[d].end,f=f*a.Wk[d].start+(1-f)*g;a.cb[d].ph(f,f)}}}
function hd(a,b,c,d,f){var g=b.g.position;0<a.mc||0<a.Xk[f]?J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm_red",vb):J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_arm",vb)}function id(a,b,c,d,f){var g=b.g.position;0<a.mc||0<a.Xk[f]?J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand_red",vb):J(c,g.x*d,g.y*d,b.ga()+Math.PI/4,64,64,"immunitas_hand",vb)}
l.Gk=function(a,b){var c=this.body.g.position;0<this.mc?J(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_red_glow",vb):J(a,c.x*b,c.y*b,this.body.ga(),285,285,"immunitas_glow",vb);var d=[];for(index in d)if(c=d[index],this.Ma[c]){var f=this.Ma[c],c=f.g.position;J(a,c.x*b,c.y*b,f.ga(),190,190,"immunitas_glow",vb)}};
l.Y=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);hd(this,this.Ma.lu,a,b,"left");hd(this,this.Ma.ru,a,b,"right");hd(this,this.Ma.ll,a,b,"left");hd(this,this.Ma.rl,a,b,"right");id(this,this.Ma.lh,a,b,"left");id(this,this.Ma.rh,a,b,"right");c=this.body.g.position;0<this.mc?J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head_red",vb):
J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,64,64,"immunitas_head",vb);a.restore();this.Ad(a,b)}};
l.oy=function(a,b){var c=1-Math.max(this.Vd,0)/this.Zk;a.beginPath();var d=b*this.body.g.position.x,f=b*this.body.g.position.y;0<c&&(a.moveTo(d,f-106),a.lineTo(d+106*Math.min(1,c/.25),f-106+106*Math.min(1,c/.25)));.25<c&&(a.moveTo(d+106,f),a.lineTo(d+106-106*Math.min(1,(c-.25)/.25),f+106*Math.min(1,(c-.25)/.25)));.5<c&&(a.moveTo(d,f+106),a.lineTo(d-106*Math.min(1,(c-.5)/.25),f+106-106*Math.min(1,(c-.5)/.25)));.75<c&&(a.moveTo(d-106,f),a.lineTo(d-106+106*Math.min(1,(c-.75)/.25),f-106*Math.min(1,(c-
.75)/.25)));a.lineWidth=15;a.strokeStyle=x["boss 1"];a.stroke()};function jd(a,b,c){for(var d=0;d<a.Wz;d++){var f=d/a.Wz*Math.PI*2;J(b,a.body.g.position.x*c+(a.qn+.9)*c*Math.cos(f),a.body.g.position.y*c+(a.qn+.9)*c*Math.sin(f),f,70,70,"immunitas_arrow",vb);b.globalAlpha*=.8;b.beginPath();b.arc(a.body.g.position.x*c,a.body.g.position.y*c,a.qn*c,0,2*Math.PI,!1);b.strokeStyle="black";b.lineWidth=2;b.stroke();b.globalAlpha/=.8}}
l.Ad=function(a,b){this.O||(a.save(),null!=this.ql&&(this.ql<this.rn?(a.beginPath(),a.globalAlpha=(this.rn-this.ql)/this.rn*.7,jd(this,a,b)):this.ql>this.Nv-this.rn/2&&this.KD&&(a.beginPath(),a.globalAlpha=(this.ql-(this.Nv-this.rn/2))/this.rn/2*.7,jd(this,a,b)),this.ql<this.Ov&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,(this.Ov-this.ql)/this.Ov*this.qn*b,0,2*Math.PI,!1),globalAlpha=.7,a.lineWidth=4,a.strokeStyle=this.color,a.stroke())),a.restore())};
l.dh=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){a.save();if(this.O){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;this.Gk(a,b);c=this.body.g.position;a.globalAlpha*=.6;0<this.mc?J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura_red",vb):J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura",vb);a.globalAlpha/=.6;0<=this.Vd&&this.oy(a,b);a.globalAlpha*=.8;0>this.Vd&&this.Vd>=-this.Ci&&(c=Math.min(5-Math.abs((-this.Vd-
this.Ci/2)/(this.Ci/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Dc,Ec));a.restore()}};l.move=function(){var a=this.body.ga(),b=R(this.body.g.position,Ac(this.q));Math.min(250,Wb(a,b)/Math.PI*1E3);Ub(a-Math.PI,a,b)?this.body.rb(this.body.ga()-Math.PI/2E3):this.body.rb(this.body.ga()+Math.PI/2E3)};
l.Me=function(a,b){if(!this.O&&this.qb)if(a==this.q&&(bc("b1hit"),Nc(this.w)),b==this.body){var c=R(this.body.g.position,a.body.g.position);a.body.ha(new b2Vec2(4*this.If*Math.cos(c),4*this.If*Math.sin(c)),a.body.h.o)}else{var c=R(this.body.g.position,a.body.g.position),d=this.If;this.xp&&(d*=2);d="punching"==this.state?1.5*d:b!=this.Ma.lh&&b!=this.Ma.rh?2*d:1*d;a.body.ha(new b2Vec2(d*Math.cos(c),d*Math.sin(c)),a.body.h.o)}};
l.Cj=function(){for(var a=[],b=0;b<this.yg[0].length;b++){var c=this.body.g.position.Cb();c.Fg({x:.6*this.yg[0][b].x,y:.6*this.yg[0][b].y});a.push(c)}return a};l.Uf=function(){var a=R(this.body.g.position,Ac(this.q));this.q.body.ha(new b2Vec2(this.If*Math.cos(a),this.If*Math.sin(a)),this.q.body.h.o)};function fd(a){a.state="turret";ed(a,"left");ed(a,"right");a.ml=a.Jz;a.Xh.left=null;a.Xh.right=null;a.Ky&&(a.ml/=2,a.Ky=!1)}
l.Hr=function(){if(Q(this.body.g.position,Ac(this.q))<=this.qn){var a=R(this.body.g.position,Ac(this.q));this.q.body.ha(new b2Vec2(this.ts*Math.cos(a),this.ts*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.qn){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ha(new b2Vec2(this.ts*Math.cos(b),this.ts*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a]instanceof kd||this.i.s[a].open(1500)}};ld.prototype=new Oc;l=ld.prototype;l.constructor=ld;
function ld(a,b,c,d,f){this.type="third boss";this.ia(a,b,c,d,f);this.Tc=!1;this.ze=5;this.jc=1500;this.zg=5;this.Hd=!1;this.$h=!0;this.qb=!1;this.body.rb(7*Math.PI/16);this.mc=this.visibility=0;this.sp=150;this.If=200;"easy"==K&&(this.If=120);this.rc=16;this.gc={};this.gk=2200;"easy"==K&&(this.gk=2800);this.oq=1500;"easy"==K&&(this.oq=2E3);this.Yf=this.oq;this.iw=.7;this.Lf=!1;this.ih=16*this.gk*(1-this.iw);this.Rs=4E3;"easy"==K&&(this.Rs=6E3);this.Ln=this.Rs;this.bF=16;this.be=0;this.Tb="gap";this.ag=
this.Il=1E3;this.uq=this.cF=2E3;this.mk=4;this.Kn=4.3;this.kz=-1;this.OA=1E3;this.ii=0;this.hk=this.jw=4500;this.nq=.75;this.Bu=0;this.lc="extend";this.Zf=this.El=500;this.zm=this.H+2;this.eC=18;this.fi=this.H;this.vq=0;this.Mg=md(this);this.Ag=[];this.Gs=this.dw=200;this.Qs=!1;this.Al={stunner:12,spear:9,tank:5,mote:9,goo:1,harpoon:5,disabler:1,fighter:3,troll:9};if("easy"==K)for(var g in this.Al)this.Al[g]*=.5,this.Al[g]=Math.ceil(this.Al[g]);this.An={stunner:25,spear:18,tank:200,mote:10,goo:200,
harpoon:400,disabler:300,fighter:400,troll:20};this.AE={stunner:500,spear:1E3,tank:2E3,mote:500,goo:0,harpoon:5E3,disabler:0,fighter:5E3,troll:2E3,frenzy:1E3};this.ek=2E4;this.He=this.ek-1;this.ed=7E3;this.Qi=!1;this.wl=-1;this.un=!1;for(a=0;a<this.rc;a++)b=Yb(this.pa,I[this.type].zx,this.body.g.position.x,this.body.g.position.y,.01,16,"static",this),b.rb(this.body.ga()+Math.PI/(this.rc/2)*a),this.gc[a]={interval:this.gk,duration:0,Ki:0,ye:this.H,body:b,of:this.iw}}
function md(a){var b=["tank","fighter","troll","harpoon"],c=["stunner","spear","goo","disabler"],d="mote harpoon stunner spear goo disabler tank fighter troll".split(" ");6<a.i.s.length&&(c.push("frenzy"),d.push("frenzy"));a=[];var f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b.splice(f,1);f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b=Math.floor(Math.random()*d.length);a.push(d[b]);-1!=c.indexOf(d[b])&&c.splice(c.indexOf(d[b]),1);
a.push(c[Math.floor(Math.random()*c.length)]);return a}
l.Uc=function(a){if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.fd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.ue(I[this.type].va));this.un&&(0==this.wl%2?this.body.rb(this.body.ga()+2*Math.PI*a/this.ih):1==this.wl%2&&this.body.rb(this.body.ga()-2*Math.PI*a/this.ih));if("normal"==K){if(0>this.He&&!this.Qi&&"activate"!=this.Tb&&"fadeout"!=this.Tb&&"gap"!=this.Tb){this.He=0;this.Qi=!0;this.q.$b(Math.round(this.ed));for(var b=0;b<this.i.s.length;b++)this.i.s[b].id!=
this.id&&this.i.s[b].$b(Math.round(this.ed),!0,!0);"fadein"==this.Tb?(this.ag=this.Il-this.ag,this.Tb="fadeout",this.be=null):"spinning"==this.Tb||"activate"==this.Tb?(this.ag=this.Il,this.Tb="fadeout","spinning"==this.Tb&&(this.be=null)):"gap"==this.Tb&&(this.uq=this.He+this.ed);"retract"==this.lc?(this.Zf=this.El-this.Zf,this.lc="extend"):"gap"==this.lc?(this.Zf=this.El,this.lc="extend"):"striking"==this.lc?(nd(this),this.lc="frenzy",this.un=!1,this.hk=this.He+this.ed):"frenzy"==this.lc&&(this.hk=
this.He+this.ed);this.Ag=[]}this.Qi&&this.He<-this.ed&&(this.Qi=!1,this.He=this.ek);this.He-=a}"extend"==this.lc?(this.Zf-=a,b=Math.min(1-this.Zf/this.El,1),this.fi=this.H+b*(this.zm-this.H),od(this,this.fi),0>this.Zf&&(this.Qi?(this.lc="frenzy",this.hk=this.He+this.ed):(this.lc="striking",this.un=!0,this.wl+=1),this.Yf=0)):"striking"==this.lc?(pd(this),15>=Q(this.body.g.position,Ac(this.q))?(this.Yf-=a,0>=this.Yf&&!(0<this.ii&&"frenzy"==this.Mg[this.be])&&(this.Yf=this.oq,qd(this))):this.Yf-=a):
"retract"==this.lc?(this.Zf-=a,b=Math.max(this.Zf/this.El,0),this.fi=this.H+b*(this.zm-this.H),od(this,this.fi),pd(this),0>this.Zf&&(this.lc="gap")):"gap"==this.lc?pd(this):"frenzy"==this.lc&&(pd(this),this.Yf-=a,this.hk-=a,0>=this.Yf&&this.hk>this.nq*this.gk&&(this.Yf=this.oq*this.nq,qd(this)),0>this.hk&&(this.lc="striking",this.un=!0,this.wl+=1,this.Yf=this.oq));if("fadein"==this.Tb)this.be=0,this.ag-=a,this.vq=Math.min(1-this.ag/this.Il,1),0>=this.ag&&(this.Tb="spinning",this.vq=1,this.Ln=this.Rs);
else if("spinning"==this.Tb)this.Ln-=a,b=Math.pow(Math.min(1-this.Ln/this.Rs,1),1),this.be=Math.floor(b*this.bF)%this.mk,this.kz!=this.be&&(this.kz=this.be,bc("b3tick")),0>=this.Ln&&rd(this);else if("fadeout"==this.Tb)this.ag-=a,this.vq=Math.max(this.ag/this.Il,0),0>=this.ag&&(this.Tb="gap",this.vq=0,this.uq=this.Qi?this.He+this.ed:this.AE[this.Mg[this.be]]+this.Bu,this.Bu=0,this.be=null);else if("activate"==this.Tb){if("striking"==this.lc&&"frenzy"!=this.Mg[this.be]&&(this.lc="retract",this.un=!1,
this.Zf=this.El,nd(this)),this.ii!=this.OA||"frenzy"!=this.Mg[this.be]||this.Qs||nd(this),this.ii-=a,0>this.ii)if(this.Qs)this.Tb="fadeout",this.ag=this.Il,"gap"==this.lc&&"frenzy"!=this.Mg[this.be]&&(this.lc="extend",this.Zf=this.El);else{b=this.Mg[this.be];if("frenzy"!=b)for(var c=0;c<this.Al[b];c++)this.Ag.push(b),this.ii+=this.dw;else this.lc="frenzy",this.un=!1,this.hk=this.jw,this.ii+=this.jw,this.Yf=0;this.Qs=!0}}else"gap"==this.Tb&&(this.uq-=a,0>=this.uq&&(this.Tb="fadein",this.ag=this.Il,
this.Mg=md(this)));0<this.Ag.length&&(this.Gs-=a,0>this.Gs&&(this.Js(this.Ag[0]),this.Ag.splice(0,1),this.Gs=this.dw));0<this.mc&&(this.mc-=a);if(!this.O)for(var d in this.gc)a=this.gc[d],a.body.rb(this.body.ga()+Math.PI/(this.rc/2)*d),a.body.bj(this.body.g.position),a.body.Jc.$a.$[1]={x:Math.cos(0)*a.ye,y:Math.sin(0)*a.ye},a.body.Jc.$a.$[2]={x:Math.cos(Math.PI/8)*a.ye,y:Math.sin(Math.PI/8)*a.ye}}};
function pd(a){for(var b in a.gc){var c=a.gc[b];0<c.duration&&(c.duration-=dt);if(0>=c.duration)c.ye=c.mq;else{var d=1-c.duration/c.interval,f=0;null==c.Ki&&(c.Ki=Q(a.body.g.position,Ac(a.q))+5,20>c.Ki&&(c.Ki+=10));var f=c.of,g=c.of+.3*(1-c.of),h=c.of+.7*(1-c.of);d<f?(f=d/f,c.ye=c.mq*(1-f)+c.Vx*f):d>=f&&d<g?(f=(d-f)/(g-f),f=Xb(.15,.85,f),c.ye=c.Ki*f+c.Vx*(1-f),c.mA||(c.mA=!0,bc("b3strike"))):d>=g&&d<h?c.ye=c.Ki:d>=h&&1>d&&(f=(d-h)/(1-h),f=Xb(.15,.85,f),c.ye=0<f?c.Ki*(1-f)+c.mq*f:c.mq)}}}
function od(a,b){for(var c in a.gc){var d=a.gc[c];d.mq=b;0>=d.duration&&(d.ye=b)}}function nd(a){for(var b in a.gc){var c=a.gc[b];if(0<c.duration){var d=1-c.duration/c.interval;d<c.of?c.duration=0:d>c.of&&d<.5*c.of+.5&&(c.duration=2*c.interval*(.5-.5*c.of)-c.duration)}}}
function qd(a){if("striking"==a.lc){for(var b=R(a.body.g.position,Ac(a.q)),c=Math.floor((b-a.body.ga())/(Math.PI/8));0>c;)c+=a.rc;for(var b=a.eC,d=0==a.wl%2?[c-1,c-3,c-2]:[c+3,c+1,c+2],f=d.length-1;0<=f;f--)d[f]>=a.rc&&(d[f]-=a.rc),0>d[f]&&(d[f]+=a.rc),0<a.gc[d[f]].duration&&d.splice(f,1);f=Math.floor(Math.random()*d.length);sd(a,d[f],b,a.gk)}else if("frenzy"==a.lc){b=R(a.body.g.position,Ac(a.q));for(c=Math.floor((b-a.body.ga())/(Math.PI/8));0>c;)c+=a.rc;for(var b=null,d=[c-3,c-2,c-1,c,c+1,c+2,c+
3,c+4],g=!1,f=d.length-1;0<=f;f--)0<a.gc[td(a,d[f])].duration&&(d.splice(f,1),2<=f&&4>=f&&(g=!0));g||d.splice(d.indexOf(c+Math.floor(3*Math.random()-1)),1);f=Math.floor(Math.random()*d.length);sd(a,d[f],b,a.gk*a.nq);d.splice(f,1);c=Math.floor(Math.random()*d.length);sd(a,d[c],b,a.gk*a.nq);d.splice(c,1);sd(a,d[Math.floor(Math.random()*d.length)],b,a.gk*a.nq)}}function td(a,b){b>=a.rc&&(b-=a.rc);0>b&&(b+=a.rc);return b}
function sd(a,b,c,d){a.NE||(a.NE=b);b=td(a,b);0>=a.gc[b].duration&&(a.gc[b].duration=d,a.gc[b].interval=d,a.gc[b].Ki=c,a.gc[b].mq=a.zm,a.gc[b].Vx=.8*a.zm,a.gc[b].of=a.iw,a.gc[b].mA=!1)}l.vk=function(){for(var a=0;a<this.rc;a++){var b=Yb(this.pa,I[this.type].zx,this.body.g.position.x,this.body.g.position.y,1,16,"dynamic",this),c=this.body.ga()+Math.PI/(this.rc/2)*a;b.rb(c);this.gc[a].body=b;c=new b2Vec2(Math.cos(c),Math.sin(c));c.ab();c.ca(10);b.ha(c,b.h.o)}};
l.Cj=function(){for(var a=[],b=0;b<this.yg[0].length;b++){var c=this.body.g.position.Cb();c.Fg({x:this.yg[0][b].x,y:this.yg[0][b].y});a.push(c)}return a};
l.Y=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);var d=this.body.g.position,c=[];if(this.qb)for(var f in this.gc)if(0<this.gc[f].duration||this.O){var d=this.gc[f].body.g.position,g=this.gc[f].body.ga();a.save();a.translate(d.x*b,d.y*b);a.rotate(g+Math.PI/16);d=this.gc[f].ye*Math.cos(Math.PI/16);J(a,d/2*b,0,0,d*b,this.gc[f].ye*Math.sin(Math.PI/
16)*2*b,0<this.mc?"negligentia_arm_striking_red":"negligentia_arm_striking",xb);a.restore();c.push(f)}a.save();a.beginPath();d=this.body.g.position;f=this.fi*b;-1!==c.indexOf("0")&&(f=this.fi*b*.8);g=this.body.ga();a.moveTo(d.x*b+f*Math.cos(g),d.y*b+f*Math.sin(g));for(var h=0;h<this.rc;h++){var k=(h+1)%this.rc;a.lineTo(d.x*b+f*Math.cos(2*k*Math.PI/this.rc+g),d.y*b+f*Math.sin(2*k*Math.PI/this.rc+g));var n=this.fi*b;-1!==c.indexOf(""+k)&&(n=this.fi*b*.8);n!=f&&(a.lineTo(d.x*b+n*Math.cos(2*k*Math.PI/
this.rc+g),d.y*b+n*Math.sin(2*k*Math.PI/this.rc+g)),f=n)}a.closePath();a.clip();if(this.qb)if("extend"==this.lc||"retract"==this.lc)d=this.body.g.position,J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.fi*b*2,this.fi*b*2,"negligentia_arm_ring",xb);else if("striking"==this.lc||"frenzy"==this.lc)d=this.body.g.position,J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,this.zm*b*2,this.zm*b*2,"negligentia_arm_ring",xb);a.restore();0<this.mc?J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.H*b,2*this.H*b,"negligentia_head_red",
xb):J(a,d.x*b,d.y*b,this.body.ga()+Math.PI/16,2*this.H*b,2*this.H*b,"negligentia_head",xb);this.Ad(a,b);a.restore()}};l.Gk=function(a,b){var c=this.body.g.position;0<this.mc?J(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow_red",xb):J(a,c.x*b,c.y*b,this.body.ga(),300,300,"negligentia_glow",xb)};
l.dh=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){a.save();var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Qi&&0>this.He&&this.He>=-this.ed&&(a.save(),c=Math.min(5-Math.abs((-this.He-this.ed/2)/(this.ed/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Dc,Ec),a.restore());this.Gk(a,b);this.Qi||(a.globalAlpha*=.4);for(c=0;16>c;c++){var d=this.body.g.position,f=2*Math.PI*
(c/16+.03125-.25);1-this.He/this.ek>1-c/16&&(0!=c||this.Qi)?(a.globalAlpha*=2,J(a,(d.x+Math.cos(f)*this.H*1.8)*b,(d.y+Math.sin(f)*this.H*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura",xb),a.globalAlpha/=2):J(a,(d.x+Math.cos(f)*this.H*1.8)*b,(d.y+Math.sin(f)*this.H*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura_open",xb)}a.restore()}};
l.Ad=function(a,b){a.save();a.globalAlpha*=this.vq;if("fadein"==this.Tb||"spinning"==this.Tb||"fadeout"==this.Tb||"activate"==this.Tb){var c=0<this.mc?"negligentia_wheel_red":"negligentia_wheel";if("fadeout"==this.Tb||"activate"==this.Tb)c="negligentia_wheel_complete";var d=this.body.ga()+Math.PI/16+Math.PI/4,f=Math.PI/(this.mk/2)*(this.be+.5)+d;J(a,this.body.g.position.x*b,this.body.g.position.y*b,d+Math.PI/2*((this.be+1)%4),2*this.Kn*Math.cos(Math.PI/4)*b,2*this.Kn*Math.cos(Math.PI/4)*b,c,xb);if("fadein"==
this.Tb||"spinning"==this.Tb)for(c=0;c<this.mk;c++)f=Math.PI/(this.mk/2)*(c+.5)+d,"frenzy"!=this.Mg[c]?Fa(a,this.Mg[c],this.body.g.position.x*b+Math.cos(f+Math.PI/(this.mk/2)/2)*this.Kn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.mk/2)/2)*this.Kn*.4*b,15,f+1*Math.PI/4):La(a,3,this.body.g.position.x*b+Math.cos(f+Math.PI/(this.mk/2)/2)*this.Kn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.mk/2)/2)*this.Kn*.4*b,20,!0,f);else("fadeout"==this.Tb||"activate"==this.Tb)&&null!=this.be&&
("frenzy"!=this.Mg[this.be]?Fa(a,this.Mg[this.be],this.body.g.position.x*b,this.body.g.position.y*b,20,f+1*Math.PI/4):La(a,3,this.body.g.position.x*b,this.body.g.position.y*b,50,!0,f))}a.restore()};l.oy=function(a,b){a.beginPath();var c=Math.min(1-this.He/this.ek,1);a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.H*b*1.5,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c*.999);a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
l.Js=function(a){var b=R(this.body.g.position,Ac(this.q)),c=new this.i.Ay[a](this.pa,(this.body.g.position.x+Math.cos(b)*this.H*1.25)*F/F,(this.body.g.position.y+Math.sin(b)*this.H*1.25)*F/F,this.i.xc,this.w);this.i.ci.push(c);this.i.xc+=1;"stunner"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"spear"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"tank"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.7-.35*Math.PI);"mote"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI-
.5*Math.PI);"troll"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.8-.4*Math.PI);"harpoon"==a&&(b+=Math.random()*Math.PI/10-Math.PI/20);var d=new b2Vec2(Math.cos(b),Math.sin(b));d.ca(this.An[a]);c.body.ha(d,c.body.h.o);c.body.rb(b);c.Md=2*c.qe;c.jg=0;c.Ah=0;"harpoon"==a&&c.$b(500,!0)};
l.Me=function(a,b){if(!this.O&&this.qb)if(a===this.q&&Nc(this.w),b!==this.body)for(var c in this.gc){var d=this.gc[c],f=1-d.duration/d.interval;if(d.body==b&&(f>d.of&&f<d.of+.3*(1-d.of)||1<=f||f<d.of))if(d=R(this.body.g.position,a.body.g.position),a===this.q)a.body.ha(new b2Vec2(this.If*Math.cos(d),this.If*Math.sin(d)),a.body.h.o),Nc(this.w);else if("harpoonhead"==a.type)a.body.ha(new b2Vec2(this.An.harpoon*Math.cos(d),this.An.harpoon*Math.sin(d)),a.body.h.o);else{if(void 0!=this.An[a.type])var g=
I[a.type];g&&(f=a.body.Z*Math.sqrt(g.va)*this.If,a.body.ha(new b2Vec2(f*Math.cos(d),f*Math.sin(d)),a.body.h.o))}}else d=R(this.body.g.position,a.body.g.position),c=1,a===this.q&&"easy"==K&&(c=.5),a.body.ha(new b2Vec2(this.If*c*Math.cos(d),this.If*c*Math.sin(d)),a.body.h.o)};function rd(a){a.Tb="activate";a.ii=a.OA;a.Qs=!1;bc("b3select")}l.se=function(){this.mc=this.sp;"spinning"==this.Tb&&(rd(this),this.Bu=this.Ln)};ud.prototype=new Oc;l=ud.prototype;l.constructor=ud;
function ud(a,b,c,d,f){this.type="second boss";this.ia(a,b,c,d,f);this.Tc=!1;this.ze=5;this.Hd=!1;this.vf=[];this.lg=this.Pk=1E3;this.Pr=2E3;this.Qr=8;this.$h=!0;this.ki=3*Math.PI/4;this.Yq=3*Math.PI/16;"easy"==K&&(this.Yq=5*Math.PI/32);this.EB=1*Math.PI/2;this.li=this.Yq;this.Bx=1*Math.PI/8;this.Xq=50;this.Ax=.9;this.rc=4;this.eo=[];this.yx=15E3;this.qb=!1;this.body.rb(this.ki);this.Lf=!1;this.ih=this.yx;this.visibility=0;this.Qo=13400;this.Dd=this.Qo-1;this.Bk=2E3;this.lm=0;this.Nx=10;this.WB=1;
this.Ro=1E3;this.Po=.7;this.au=!1;this.sp=150;this.Yg=this.mc=0;this.body.ue(2*I[this.type].va);this.Fj=2.5;this.pg=4;this.bu=.75;this.So=.3;this.mm=1.2;"easy"==K&&(this.bu*=1.5,this.So*=1.5,this.mm*=1.5);this.rA=!1;this.Dl=[];this.Gb=this.ng=1;this.AA=.2;this.Ry=.125;this.sE=.025;this.By=1E4;this.gp=2E3;this.Is=[["stunner","mote"],["harpoon","spear"],["tank","goo"]];this.yu={stunner:.4,spear:.4,tank:2,mote:.2,goo:2.5,harpoon:2};this.Jv=!1;this.fp=[];this.Bl=0}
l.Uc=function(a){if(!this.rA){this.rA=!0;for(var b=[[O-80,P-80],[80,80]],c=0;c<b.length;c++){var d=new vd(b[c][0],b[c][1],this,this.w);d.kc=c/b.length*d.fd;this.Dl.push(d)}}if(0<this.kc)this.kc=Math.max(this.kc-a,0),this.visibility=1-this.kc/this.fd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.ue(I[this.type].va));this.body.rb(this.ki);0<this.mc&&(this.mc-=a);this.gp-=a;0>this.gp&&(this.gp=this.By,wd(this.Dl[0],this.Is[this.Bl][0]),wd(this.Dl[1],this.Is[this.Bl][1]),this.Bl+=1,this.Bl%=
this.Is.length);1<this.ng&&(this.ng=Math.max(1,this.ng-a/1E3*this.sE));if(this.Gb!=this.ng){this.Gb=this.Gb<this.ng?Math.min(this.Gb+this.AA*a/1E3,this.ng):Math.max(this.Gb-this.AA*a/1E3,this.ng);c=this.body.Jc;void 0===c.length&&(c=[c]);for(b=0;b<c.length;b++)for(var d=this.body.Jc.$a.$,f=this.Wb[b],g=0;g<d.length;g++)d[g]=new b2Vec2(f.x+f.X*f.ba[g][0]*this.Gb,f.y+f.X*f.ba[g][1]*this.Gb);this.body.dg()}this.on(a);c=this.Yq+Math.min(1,(this.ng-1)/2)*(this.EB-this.Yq);this.li!=c&&(this.li=this.li<
c?Math.min(this.li+this.Bx*a/1E3,c):Math.max(this.li-this.Bx*a/1E3,c));for(var h in this.Dl)this.Dl[h].na(a);this.xE&&(0>this.lA?this.xE=!1:this.lA-=a);this.ki+=2*Math.PI*a/(this.yx/this.Gb);for(c=0;c<this.i.s.length;c++)this.i.s[c].id!=this.id&&(h=R(this.i.s[c].body.g.position,this.body.g.position),b=this.yu[this.i.s[c].type]*this.np(this.i.s[c].body.g.position,!0),0<b&&this.i.s[c].body.ha(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.i.s[c].body.h.o));this.Yg=0;h=R(Ac(this.q),this.body.g.position);
b=this.np(Ac(this.q));0<b&&(this.Yg+=b,this.q.body.ha(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.q.body.h.o));if("normal"==K){if(0>this.Dd)for(this.au||(this.au=!0,bc("b2bhole")),h=-this.Dd/this.Bk,this.lm=h<this.Po?h/this.Po*this.H*this.pg*this.Gb:this.H*this.Gb*this.pg*(1-(h-this.Po)/(1-this.Po)),h=1,-this.Dd/this.Bk<this.Po&&(h=.05),c=0,this.Jv||(c=Q(this.body.g.position,Ac(this.q))<=this.lm?this.Nx*h*this.WB:this.So,b=R(this.body.g.position,Ac(this.q))+Math.PI,this.Yg+=c,this.q.body.ha(new b2Vec2(c*
Math.cos(b),c*Math.sin(b)),this.q.body.h.o),this.Yg+=c),c=0;c<this.i.s.length;c++)-1!=this.fp.indexOf(this.i.s[c])||this.i.s[c].O||this.i.s[c]===this||(Q(this.body.g.position,this.i.s[c].body.g.position)<=this.lm?(b=R(this.body.g.position,this.i.s[c].body.g.position)+Math.PI,d=this.Nx*this.yu[this.i.s[c].type]*h):(b=R(this.body.g.position,this.i.s[c].body.g.position)+Math.PI,d=this.So*this.yu[this.i.s[c].type]),this.i.s[c].body.ha(new b2Vec2(d*Math.cos(b),d*Math.sin(b)),this.i.s[c].body.h.o));this.Dd<
-this.Bk&&(this.Dd=this.Qo,this.lm=0,this.Jv=!1,this.fp=[],this.au=!1);this.Dd-=a}}};l.np=function(a,b){for(var c=Q(a,this.body.g.position),d=xd(this),f=0;f<d.length;f++)if(Kb(d[f],a))return c<=this.H*this.Gb*this.Fj?2*this.mm:c<=this.H*this.Gb*this.pg?1.5*this.mm:b?.5*this.mm:this.mm;if(c<=this.H*this.Gb*this.Fj)return this.bu;if(c<=this.H*this.Gb*this.pg)return this.So};
l.dh=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){a.save();if(this.O){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;0>this.Dd&&this.Dd>=-this.Bk&&(a.globalAlpha*=.5,c=Math.min(5-Math.abs((-this.Dd-this.Bk/2)/(this.Bk/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Dc,Ec),a.globalAlpha*=2);this.Fm(a,b);0>this.Dd&&this.Dd>=-this.Bk&&(c=this.body.g.position,J(a,c.x*b,c.y*b,0,this.lm*b*2,this.lm*b*
2,"consumendi_aura",wb));var d=1;this.Dd>=this.Qo-this.Ro?d=1-(this.Dd-this.Qo+this.Ro)/this.Ro:this.Dd<=this.Ro&&0<this.Dd&&(d=this.Dd/this.Ro);c=this.body.g.position;0<this.Dd&&J(a,c.x*b,c.y*b,0,90*d*this.Gb*this.Fj,90*d*this.Gb*this.Fj,"consumendi_aura",wb);a.save();a.globalAlpha*=.7;for(d=0;16>d;d++){var f=2*Math.PI*(d/16+.03125-.25);this.qb&&1-this.Dd/this.Qo>1-d/16?J(a,(c.x+Math.cos(f)*this.H*this.Gb*this.pg)*b,(c.y+Math.sin(f)*this.H*this.Gb*this.pg)*b,f,30,56,"consumendi_small_diamond_filled",
wb):J(a,(c.x+Math.cos(f)*this.H*this.Gb*this.pg)*b,(c.y+Math.sin(f)*this.H*this.Gb*this.pg)*b,f,30,56,"consumendi_small_diamond",wb)}a.restore();this.Gk(a,b);a.restore()}};
l.Y=function(a,b){if(!(0==this.qb&&this.kc>.9*this.fd)){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha=this.O?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;0<this.mc?J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Gb,90*this.Gb,"consumendi_head_red",wb):J(a,c.x*b,c.y*b,this.body.ga()+Math.PI/4,90*this.Gb,90*this.Gb,"consumendi_head",wb);this.Ad(a,b);a.restore()}};
l.vk=function(){if(0!=this.eo.length)for(var a=0;10>a;a++){var b=this.eo[Math.floor(this.eo.length/10*a)],c=R(this.body.g.position,this.q.body.g.position)+2*(Math.random()-.5)*Math.PI,c=new b2Vec2(Math.cos(c),Math.sin(c));c.ab();c.ca(100);Gc(this.i,b,this.body.g.position,c)}};l.Gk=function(a,b){var c=this.body.g.position;0<this.mc?J(a,c.x*b,c.y*b,this.body.ga(),200*this.Gb,200*this.Gb,"immunitas_red_glow",vb):J(a,c.x*b,c.y*b,this.body.ga(),200*this.Gb,200*this.Gb,"consumendi_glow",wb)};
l.Ad=function(a,b){for(var c in this.Dl)this.Dl[c].Y(a,b,Math.max(this.gp,0)/this.By,this.Is[this.Bl][c]);c=xd(this);a.save();a.beginPath();a.rect(0,0,O,P);a.clip();for(var d=0;d<c.length;d++){a.beginPath();a.moveTo(c[d][0].x*b,c[d][0].y*b);for(var f=1;f<c[d].length;f++)a.lineTo(c[d][f].x*b,c[d][f].y*b);a.closePath();a.save();a.globalAlpha*=this.visibility/4;a.fillStyle=this.color;a.fill();var f=this.body.g.position,g=2*Math.PI*d/this.rc+this.ki;J(a,(f.x+Math.cos(g)*this.H*this.Gb*this.pg*1.5)*b,
(f.y+Math.sin(g)*this.H*this.Gb*this.pg*1.5)*b,g+Math.PI/2,50,80,"consumendi_small_arrow",wb);a.restore()}a.restore();f=Ac(this.q);c=R(f,this.body.g.position);this.q.O||(.3<=this.Yg&&J(a,(f.x+2*Math.cos(c))*b,(f.y+2*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",wb),.75<=this.Yg&&J(a,(f.x+2.75*Math.cos(c))*b,(f.y+2.75*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",wb),1.2<=this.Yg&&J(a,(f.x+3.5*Math.cos(c))*b,(f.y+3.5*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",
wb),2<=this.Yg&&J(a,(f.x+4.25*Math.cos(c))*b,(f.y+4.25*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",wb))};
function xd(a){for(var b=[],c=0;c<a.rc;c++){var d=[];d.push({x:a.body.g.position.x,y:a.body.g.position.y});d.push({x:a.body.g.position.x+a.Xq*a.Ax*Math.cos(2*Math.PI*c/a.rc+a.ki-a.li/2),y:a.body.g.position.y+a.Xq*a.Ax*Math.sin(2*Math.PI*c/a.rc+a.ki-a.li/2)});d.push({x:a.body.g.position.x+a.Xq*Math.cos(2*Math.PI*c/a.rc+a.ki+a.li/2),y:a.body.g.position.y+a.Xq*Math.sin(2*Math.PI*c/a.rc+a.ki+a.li/2)});b.push(d)}return b}l.move=function(){};
l.Me=function(a){this.O||!this.qb||a.O||(a===this.q?(bc("b2eat"),R(this.body.g.position,a.body.g.position),this.Jv=!0,a.Nc("absorbed"),Nc(this.w)):a!==this.q&&(bc("b2eat"),"harpoonhead"!=a.type?(a.Nc("absorbed"),this.ng+=this.Ry,this.fp.push(a),this.eo.push(a.type)):(this.eo.push("harpoon"),a.wi.Nc("absorbed"),this.ng+=this.Ry,this.fp.push(a),this.fp.push(a.wi))))};l.Cj=function(){for(var a=[],b=0;b<this.yg[0].length;b++){var c=this.body.g.position.Cb();c.Fg(this.yg[0][b]);a.push(c)}return a};
l.on=function(a){for(var b=0;b<this.vf.length;b++){var c=this.vf[b];c.dd+=a/this.Pr;1<c.dd&&this.vf.splice(b,1)}this.lg-=a;0>this.lg&&(this.lg+=this.Pk,this.kp(this.body.g.position.x,this.body.g.position.y,this.Qr))};l.kp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.vf.push({gw:Math.cos(f)*this.H*this.Gb*this.Fj+a,hw:Math.sin(f)*this.H*this.Gb*this.Fj+b,dd:0})}};
l.Fm=function(a,b){for(var c=0;c<this.vf.length;c++){var d=this.vf[c];a.save();a.globalAlpha=.25>d.dd?4*a.globalAlpha*d.dd:(1-d.dd)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.gw*(1-d.dd)+this.body.g.position.x*d.dd)-3,b*(d.hw*(1-d.dd)+this.body.g.position.y*d.dd)-3,6,6);a.fillStyle=x["world "+this.w.n+" bright"];a.fill();a.restore()}};function vd(a,b,c,d){this.x=a;this.y=b;this.vc=c;this.color=this.vc.color;this.pa=this.vc.pa;this.w=d;this.i=this.w.i;this.q=this.w.q;this.size=60;this.visibility=0;this.Lm={stunner:3,spear:3,tank:2,mote:2,goo:1,harpoon:2};this.mC={stunner:3,spear:3,tank:2,mote:1,goo:1,harpoon:1};this.Fj=.75;this.pg=1.5;this.DC=.8;this.QC=.2}
vd.prototype.Y=function(a,b,c,d){a.save();a.globalAlpha*=.5;J(a,this.x,this.y,Math.PI/4,2*this.size,2*this.size,"consumendi_glow",wb);J(a,this.x,this.y,Math.PI/4,this.size,this.size,"consumendi_mini",wb);0<c&&(a.beginPath(),a.arc(this.x,this.y,.75*this.size,-.5*Math.PI,-.5*Math.PI-2*Math.PI*(1-c),!0),a.lineWidth=4,a.strokeStyle=I[d].color,a.stroke());a.restore()};
vd.prototype.na=function(){for(var a=0;a<this.i.s.length;a++)if(this.i.s[a].id!=this.id){var b=R(this.i.s[a].body.g.position,{x:this.x/F,y:this.y/F})+Math.PI,c=this.np(this.i.s[a].body.g.position);0<c&&this.i.s[a].body.ha(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.i.s[a].body.h.o)}b=R(this.q.body.g.position,{x:this.x/F,y:this.y/F})+Math.PI;c=this.np(this.q.body.g.position);0<c&&this.q.body.ha(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.q.body.h.o)};
vd.prototype.np=function(a){a=Q(a,{x:this.x/F,y:this.y/F});return a<=this.size/F*this.Fj?this.DC:a<=this.size/F*this.pg?this.QC:0};function wd(a,b){var c=a.Lm[b];"easy"==K&&(c=a.mC[b]);if(a.i.Kk[b]+1<=a.i.Km[b][6])for(var d=0;d<c;d++){var f=R({x:a.x/F,y:a.y/F},a.vc.body.g.position),f=[(a.x+a.size/2*Math.cos(f))/F,(a.y+a.size/2*Math.sin(f))/F],f=new I[b].className(a.pa,f[0],f[1],a.i.xc,a.w);"harpoon"==f.type&&(f.gC=!0);a.i.ci.push(f);a.i.xc+=1}};yd.prototype=new Ga;l=yd.prototype;l.constructor=yd;
function yd(a,b,c,d,f){void 0!==a&&(this.type="deathray",this.ia(a,b,c,d,f),null!==a&&(this.Hd=!1,this.As=10,this.Uv=2,this.IC=5,this.$h=!0,this.ww=!1,this.jc=1600,"easy"==K&&(this.jc=1800),this.Om=!1,this.ho=1,this.zg=this.jc,this.io=.56,this.vi=this.vj=200,this.uj=5,this.td=null,this.aq=.8,this.Zp=-.5,this.$p=400,this.Fl=1E3,"easy"==K&&(this.Fl=1200),this.Jr=this.fj=!1,this.Dj=null,this.vs=100,this.ws=Math.PI/48,this.Lf=!1,this.Qg=3,this.gd=100,this.Yo=!1))}
l.Ui=function(a){this.r[0]=Math.max(a,this.r[0]);this.r[1]=Math.max(a,this.r[1]);this.Yh=this.Dc=a};
l.Uc=function(a){this.fj?this.Vf(this.td):this.Vf(R(this.body.g.position,this.q.body.g.position));this.$h!=Q(this.q.body.g.position,this.body.g.position)>this.As&&(this.$h=!this.$h);0<this.su&&(this.su-=a);this.ww=Rb(this.IC,this.body.g.position);0<this.Dc&&(this.Dc-=a);if(0<this.r[1])zd(this);else if(0>=this.zg)if(0>=this.vi)zd(this),this.Ui(this.Fl);else{if(this.vi=Math.max(this.vi-a,0),bc("deathray"),this.vi<=this.vj/2&&!this.Jr){a=Ad(this);this.Jr=!0;if(Kb(a,this.q.body.g.position)){var b=1;0<
this.q.r[5]&&!this.q.jk&&(b*=10);0<this.q.r[2]&&(b*=.25);this.q.body.ha(new b2Vec2(b*this.$p*Math.cos(this.td),b*this.$p*Math.sin(this.td)),this.q.body.h.o);Nc(this.w)}for(b=0;b<this.i.s.length;b++)if(this.i.s[b]!=this&&Kb(a,this.i.s[b].body.g.position)){if("orbiter"==this.i.s[b].type){var c=this.i.s[b];c.Jn=c.vw}this.i.s[b].body.ha(new b2Vec2(this.$p*Math.cos(this.td),this.$p*Math.sin(this.td)),this.i.s[b].body.h.o);this.i.s[b].open(2500)}}}else if(this.fj||!this.fj&&this.ww&&!this.yv)this.zg=Math.max(this.zg-
a,0),this.zg<=this.jc*this.io&&!this.fj&&(this.td=R(this.body.g.position,this.q.body.g.position),this.zg=this.jc*this.io,this.fj=!0)};l.Ad=function(a){0<this.Dc&&!this.O&&Aa(a,this.body.g.position.x,this.body.g.position.y,this.H,1-this.Dc/this.Yh,"#444444",4)};function zd(a){a.zg=a.jc;a.vi=a.vj;a.fj=!1;a.Jr=!1;a.td=null}
function Ad(a){var b=[];b.push({x:a.body.g.position.x+a.Zp*Math.cos(a.td)+a.aq*Math.cos(a.td+Math.PI/2),y:a.body.g.position.y+a.Zp*Math.sin(a.td)+a.aq*Math.sin(a.td+Math.PI/2)});b.push({x:a.body.g.position.x+a.Zp*Math.cos(a.td)+a.aq*Math.cos(a.td-Math.PI/2),y:a.body.g.position.y+a.Zp*Math.sin(a.td)+a.aq*Math.sin(a.td-Math.PI/2)});b.push({x:b[1].x+a.vs*Math.cos(a.td-a.ws),y:b[1].y+a.vs*Math.sin(a.td-a.ws)});b.push({x:b[0].x+a.vs*Math.cos(a.td+a.ws),y:b[0].y+a.vs*Math.sin(a.td+a.ws)});return b}
l.Ef=function(a,b,c,d){d||(this.open(this.Tj),this.qa.impulsed+=this.qp);this.body.ha(new b2Vec2(this.Qg*b*Math.cos(c),this.Qg*b*Math.sin(c)),this.body.h.o);d&&!this.yf||this.se(a,b,c)};l.Oy=function(){if(this.$h)return null==this.Dj&&(this.Dj={x:this.i.Ti.x/F,y:this.i.Ti.y/F}),this.Dj;this.Dj=null;for(var a=N[this.w.W].xa,b=null,c=1E3,d=0;d<a.length;d++){var f=Q({x:a[d][0]/F,y:a[d][1]/F},this.body.g.position);f<c&&(c=f,b=a[d])}return{x:b[0]/F,y:b[1]/F}};l.rj=Ga.prototype.move;
l.move=function(){this.fj||(this.$h?this.ww?(this.Dj=this.path=null,this.yv=!1):Q(this.q.body.g.position,this.body.g.position)>this.As+this.Uv?(null==this.path&&(this.Md=2*this.qe),this.rj(),this.yv=!0):this.Dj=null:(null==this.path&&(this.Md=2*this.qe),this.Dj=null,this.rj(),this.yv=!0))};
l.dh=function(a,b){if(0>=this.r[1]){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha*=1-c;var d=Ad(this);if(this.zg<=this.jc*this.io&&null!=this.td){c=1-this.zg/(this.jc*this.io);a.save();a.beginPath();a.globalAlpha*=Math.max(c,.2);a.moveTo(d[1].x*b,d[1].y*b);a.lineTo(d[2].x*b,d[2].y*b);a.moveTo(d[3].x*b,d[3].y*b);a.lineTo(d[0].x*b,d[0].y*b);a.lineWidth=1;a.strokeStyle=this.color;a.stroke();if(this.vi<this.vj){c=this.vi>this.vj/2?this.vj-this.vi:this.vi;c/=this.vj/2;a.globalAlpha=
c;a.beginPath();a.moveTo(d[0].x*b,d[0].y*b);for(c=1;c<d.length;c++)a.lineTo(d[c].x*b,d[c].y*b);a.closePath();a.fillStyle=this.color;a.fill()}a.restore()}a.restore()}};l.Rk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a?"#444444":"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Vu:"ulted"==a?x.impulse_blue:"white"==a?"white":"world"==a.slice(0,5)?x["world "+a.slice(5,6)+" lite"]:this.lp(a)};l.$b=function(a,b){b&&(this.pf=!0);this.r[1]=Math.max(a,this.r[1])};
l.Rj=function(a){Rb(-3,this.body.g.position)||a.ca(this.uj);for(var b=!1,c=0;c<this.i.Zd.length;c++)Kb(this.i.Zd[c],this.body.g.position)&&(b=!0);b?a.ca(this.$v):(0<this.r[1]&&a.ca(.5),0<this.r[2]&&a.ca(this.gh),a.ca(this.oa))};l.Uf=function(){};Bd.prototype=new Ga;Bd.prototype.constructor=Bd;function Bd(a,b,c,d,f){this.type="dumb_stunner";this.ai=!1;this.ia(a,b,c,d,f)};Cd.prototype=new Ga;l=Cd.prototype;l.constructor=Cd;
function Cd(a,b,c,d,f){void 0!==a&&(this.type="fighter",this.ia(a,b,c,d,f),this.Uq=["frenzy"],null!==a&&(this.ze=5,this.jc=2E3,this.xj=750,this.te=[this.jc,2*this.jc],this.fA=.15,this.Cs=[!1,!1],this.Zv=400,this.zl=0,this.eA=2.5*this.H,this.Vu=this.color,this.Hd=!1,this.As=10,this.Uv=2,this.uj=5,this.Ru=!1,this.$h=!0,this.gA=this.H,this.hA=2*this.H,this.je=0,this.My=2500,"easy"==K&&(this.My=3500),this.wj=5,this.Ce="normal",this.th=3,this.Jg=!1,this.gd=100,"easy"==K&&(this.gd=80),this.nj=!1,this.FD=
200,this.Vp=0,this.Yo=!1))}function Dd(a,b){var c=a.ve+Math.PI/2*(b%2*2-1);return{x:a.body.g.position.x+a.hA*Math.cos(c)+a.gA*Math.cos(a.ve),y:a.body.g.position.y+a.hA*Math.sin(c)+a.gA*Math.sin(a.ve)}}l.lp=function(a){if("frenzy"==a)return"red"};l.Bj=function(){if(!this.O){if(0<this.r[0])return"stunned";if("frenzy"==this.Ce)return"frenzy";if(this.pf)return"silenced";if(0<this.r[2])return"gooed";if(0<this.qa.impulsed)return"impulsed"}return this.mp()};
l.Uc=function(a){"normal"==this.Ce&&this.je>=this.wj&&(bc("ffrenzy"),this.Ce="frenzy",this.te=[this.xj,this.xj],this.color="red",this.body.ue(5*I[this.type].va));if(0>=this.r[1]&&0>=this.Vp&&Q(this.body.g.position,this.q.body.g.position)<this.eA){var b=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.gd*Math.cos(b),this.gd*Math.sin(b)),this.q.body.h.o);Nc(this.w);this.zl=this.Zv;this.Vp=this.FD}0<this.r[1]?this.body.ue(.5*this.va):this.body.ue(this.va);0<this.Vp&&(this.Vp-=
a);"frenzy"==this.Ce&&0>=this.je&&(this.Ce="normal",this.te=[this.jc,2*this.jc],this.color=I[this.type].color,this.body.ue(I[this.type].va));for(b=0;b<this.te.length;b++){if(0>=this.te[b]&&!this.Cs[b]&&0>=this.r[1]&&Rb(0,this.body.g.position)){var c=Dd(this,b);this.Ru=Ib(c,this.q.body.g.position,this.i.Ze);var d=R(c,this.q.body.g.position);this.Ru?(this.te[b]="normal"==this.Ce?2*this.jc:this.xj,bc("fbullet"),"frenzy"==this.Ce?(this.je-=.5,c=new Ed(this.pa,c.x,c.y,this.i.xc,this.w,d,this.id),d=new b2Vec2(Math.cos(d),
Math.sin(d)),d.ca(2)):(c=new Fd(this.pa,c.x,c.y,this.i.xc,this.w,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),d.ca(.5)),c.body.ha(d,c.body.h.o),this.i.ci.push(c),this.i.xc+=1):this.Cs[b]=!0}this.Cs[b]&&this.te[b]<-this.fA*("normal"==this.Ce?this.jc:this.xj)&&(this.te[b]="normal"==this.Ce?2*this.jc+this.te[b]:this.xj,this.Cs[b]=!1);Rb(0,this.body.g.position)&&(this.te[b]-=a)}"normal"==this.Ce&&0>=this.r[1]&&this.je<this.wj&&Rb(0,this.body.g.position)&&(this.je+=a/this.My);0<this.zl&&(this.zl-=
a)};l.Uf=function(){};
l.Ad=function(a,b){if(!this.O){a.save();a.globalAlpha*=.7;if(0<this.je){for(var c=0;c<Math.floor(this.je);c++)a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.H*b,-Math.PI/2+2*Math.PI*(c+1)/this.wj-Math.PI/24,-Math.PI/2+2*Math.PI*c/this.wj+Math.PI/24,!0),a.strokeStyle="red",a.lineWidth=5,a.stroke();if(0>=this.r[1]&&this.je<this.wj){var c=Math.floor(this.je),d=this.je-c;a.beginPath();a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.H*b,-Math.PI/2+2*Math.PI*
c/this.wj+Math.PI/24+(2*Math.PI/this.wj-Math.PI/12)*d,-Math.PI/2+2*Math.PI*c/this.wj+Math.PI/24,!0);a.lineWidth=5;a.strokeStyle="red";a.stroke()}}a.restore();for(c=0;c<this.te.length;c++){var d=Dd(this,c),f="normal"==this.Ce?this.jc:this.xj,f=Math.max((f-this.te[c])/f,0);if(0<f&&1>f){a.save();a.globalAlpha*=f;var g="frenzy"==this.Ce?"piercing_fighter_bullet":"fighter_bullet";this.ve?Fa(a,g,d.x*b,d.y*b,null,this.ve):Fa(a,g,d.x*b,d.y*b,null,this.body.ga());0<this.te[c]&&0<f&&(a.beginPath(),a.arc(d.x*
b,d.y*b,this.H*b*1,-.5*Math.PI,-.5*Math.PI+2*Math.PI*f*.999),a.lineWidth=2,a.strokeStyle=this.color,a.stroke());a.restore()}else 0>this.te[c]&&(f=1-Math.min((f-1)/this.fA,1),a.save(),a.globalAlpha*=f,g="frenzy"==this.Ce?"piercing_fighter_bullet":"fighter_bullet",this.ve?Fa(a,g,d.x*b,d.y*b,null,this.ve):Fa(a,g,d.x*b,d.y*b,null,this.body.ga()),a.beginPath(),a.arc(d.x*b,d.y*b,this.H*b*1,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=2,a.strokeStyle=this.color,a.stroke(),a.restore())}0<this.zl&&(c=
1-Math.abs(1-2*this.zl/this.Zv),a.save(),a.globalAlpha*=Xb(.15,.85,c),a.beginPath(),a.strokeStyle=this.color,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.eA*b,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=3,a.stroke(),a.fillStyle=this.color,a.globalAlpha/=4,a.fill(),a.restore())}};l.wt=function(){};l.$b=function(a,b){b&&(this.pf=!0);this.r[1]=Math.max(a,this.r[1]);this.te[0]="normal"==this.Ce?this.jc:this.xj;this.te[1]="normal"==this.Ce?2*this.jc:this.xj};
l.Rj=function(a){Rb(-3,this.body.g.position)||a.ca(this.uj);for(var b=!1,c=0;c<this.i.Zd.length;c++)Kb(this.i.Zd[c],this.body.g.position)&&(b=!0);b?a.ca(this.$v):("frenzy"==this.Ce&&0>=this.r[1]&&!this.Ru&&a.ca(this.uj),0<this.r[1]&&a.ca(.5),0<this.r[2]&&a.ca(this.gh),a.ca(this.oa))};
l.Hr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.H*this.th){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.gd*Math.cos(a),this.gd*Math.sin(a)),this.q.body.h.o)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.H*this.th){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ha(new b2Vec2(this.gd*Math.cos(b),this.gd*Math.sin(b)),this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.Ef=function(a,b,c,d){d||this.open(this.Tj);var f=1.5;0<this.r[1]||d||(f=.6);this.body.ha(new b2Vec2(f*b*Math.cos(c),f*b*Math.sin(c)),this.body.h.o);this.qa.impulsed+=this.qp;this.se(a,b,c)};l.se=function(){0<this.je&&(--this.je,0>this.je&&(this.je=0));0>=this.r[1]&&(this.zl=this.Zv)};Fd.prototype=new Ga;l=Fd.prototype;l.constructor=Fd;function Fd(a,b,c,d,f,g,h){void 0!==a&&(this.type="fighter_bullet",this.ia(a,b,c,d,f),null!==a&&(this.Tc=!1,this.ze=5,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.ab(),this.ac.ca(this.oa),"easy"==K&&this.ac.ca(.5),this.Hd=!1,this.To=100,"easy"==K&&(this.To=50),this.fo=!1,this.Rx=150,this.Gv=h,this.Pv=!1,this.body.lx(),this.Hd=!1,this.hu=.33))}l.Nc=function(a){this.O=a;this.tb=this.bb;this.Ek=!0};
l.Me=function(a){if(!this.O)if(a===this.q){if(this.Nc("hit_player"),0>=this.r[1]){bc("fbullethit");var b=this.body.p.Cb();b.ab();0<this.q.r[2]?b.ca(this.To*this.hu):b.ca(this.To);this.q.body.ha(b,this.q.body.h.o);Nc(this.w)}}else if(a.ez&&!(a instanceof Fd)&&(this.Nc("hit_enemy"),(a.id!=this.Gv||this.Pv)&&0>=this.r[1])){bc("fbullethit");a instanceof Cd&&(a.je=0);b=this.body.p.Cb();b.ab();var c=1;a.id==this.Gv?c*=1.5:a instanceof Cd?c*=.7:a instanceof Gd&&(a.Jn=a.vw);b.ca(this.Rx*a.oa*c);a.open(1500);
a.body.ha(b,a.body.h.o)}};l.move=function(){0<this.r[2]?this.body.ha(new b2Vec2(.7*this.ac.x,.7*this.ac.y),this.body.h.o):this.body.ha(this.ac,this.body.h.o);this.Vf(R({x:0,y:0},this.ac))};l.Ef=function(a,b){var c=new b2Vec2(this.body.g.position.x-a.x,this.body.g.position.y-a.y);c.ab();c.ca(b);this.ac.Fg(c);this.Pv=!0;this.open(this.Tj)};
l.or=function(){for(var a=0;a<this.i.Zd.length;a++)if(Kb(this.i.Zd[a],this.body.g.position)){this.Nc("kill");return}(-5>=this.body.g.position.x||this.body.g.position.x>=Dc/F+5||-5>=this.body.g.position.y||this.body.g.position.y>=Dc/F+5)&&this.Nc("kill")};l.Uf=function(){};Hd.prototype=new Ga;l=Hd.prototype;l.constructor=Hd;function Hd(a,b,c,d,f){void 0!==a&&(this.type="goo",this.ai=!1,this.ia(a,b,c,d,f),this.ze=2,this.Hd=!1,this.Sm=3,this.op=10,this.mg=this.Sm,this.Ej=500,this.Sk=2500,"easy"==K&&(this.Sk=3500),this.wf="small",this.ke=0,this.gh=.2,this.Lf=!1,this.ih=6E3)}
l.Uc=function(a){this.body.rb(this.body.ga()+2*Math.PI*a/this.ih);0<this.ke&&(this.ke-=a);"expanding"==this.wf?0>=this.ke?(this.wf="big",this.mg=this.op,this.ke=this.Sk):(a=(this.Ej-this.ke)/this.Ej,a=Xb(.15,.85,a),this.mg=this.Sm*(1-a)+a*this.op):"big"==this.wf&&0>=this.ke?(this.wf="shrinking",bc("goo"),this.ke=this.Ej):"shrinking"==this.wf&&(0>=this.ke?(this.wf="small",this.mg=this.Sm,this.ke=this.Sk):(a=(this.Ej-this.ke)/this.Ej,a=Xb(.15,.85,a),this.mg=this.Sm*a+(1-a)*this.op));0>=this.r[1]?(this.body.ue(I[this.type].va),
this.oa=I[this.type].oa):(this.body.ue(.3*I[this.type].va),this.oa=.3*I[this.type].oa);this.Xx()};l.Xx=function(){0>=this.r[1]&&Q(this.body.g.position,this.q.body.g.position)<this.mg&&this.Sl(this.q);for(var a=0;a<this.i.s.length;a++)0>=this.r[1]&&Q(this.body.g.position,this.i.s[a].body.g.position)<this.mg&&this.i.s[a].className!=this.className&&this.Sl(this.i.s[a])};l.Uf=function(){};l.Sl=function(a){a.Ku(100)};
l.Du=function(a,b){0<this.r[1]||(this.O||(a.beginPath(),a.strokeStyle=this.color,a.fillStyle=this.color,a.lineWidth=2,a.save(),a.globalAlpha*=.3,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.mg*b,0,1.998*Math.PI),a.stroke(),a.fill(),a.restore()),"big"==this.wf&&Aa(a,this.body.g.position.x,this.body.g.position.y,this.H,1-this.ke/this.Sk))};
l.se=function(){0>=this.r[1]&&("shrinking"==this.wf?(this.ke=this.Ej-this.ke,this.wf="expanding"):"big"==this.wf?this.ke=this.Sk:"small"==this.wf&&(this.ke=this.Ej,this.wf="expanding",bc("goo")))};l.Rj=function(a){"small"!=this.wf&&0>=this.r[1]&&a.ca(this.gh);a.ca(this.oa)};Id.prototype=new Ga;l=Id.prototype;l.constructor=Id;function Id(a,b,c,d,f,g){void 0!==a&&(this.wi=g,this.type="harpoonhead",this.ia(a,b,c,d,f),this.Yo=this.tl=!1)}l.Uc=function(){this.r=this.wi.r};l.se=function(){this.wi.$b(this.wi.gq)};l.Vf=function(a){this.ve=a};l.Uf=function(){};l.open=function(){};rc.prototype=new Ga;rc.prototype.constructor=rc;function rc(a,b,c,d,f){this.type="mote";this.ai=!1;this.ia(a,b,c,d,f);this.Tc=!1;this.ze=5;this.Lf=!1;this.ih=2E3;this.nj=!0;this.Om=!1;this.ho=1;this.ed=3E3;"easy"==K&&(this.ed=2E3)}rc.prototype.Uf=function(){0>=this.r[1]&&this.q.$b(this.ed,!0)};rc.prototype.Uc=function(a){this.body.rb(this.body.ga()+2*Math.PI*a/this.ih)};rc.prototype.Ef=function(a,b,c,d){0<this.r[1]&&(this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o),d||this.open(this.Tj))};Gd.prototype=new Ga;l=Gd.prototype;l.constructor=Gd;function Gd(a,b,c,d,f){this.type="orbiter";this.ai=!0;this.jg=500;this.ia(a,b,c,d,f);f&&(this.Tc=!1,this.ze=5,this.bq=1.25*this.q.Rg,this.ms=1,this.qe=18,this.Tm=!0,this.pm=1,this.Hv=18,this.Iv=9,this.nj=!0,this.uj=2,this.mo=!1,this.ps=50,this.FA=!0,this.xC=3,this.Oz=[-1,1,-4,4,-8,8,-12,12,-16,16],this.vv=4,this.Jn=0,this.vw=250,this.Ev=I[this.type].va,this.Om=!1,this.ho=.5,this.$B=200,this.qr=100,this.Nz=1.2*this.q.Rg,this.Mz=!1,this.Py=2)}
l.Ad=function(){};
l.Uc=function(a){this.qe=Q(this.body.g.position,this.q.body.g.position)<1.5*this.bq?this.Iv:this.Hv;this.qr-=a;if(0>this.qr){for(var b=!1,c=0;c<this.i.vh.length;c++)Kb(this.i.vh[c],this.body.g.position)&&(b=!0);this.Wu=b;this.qr=this.$B}0<this.Jn?(this.Jn-=a,this.va=3):this.va=this.Ev;Ic(this,this.q.body.g.position);!this.sf&&Rb(0,this.body.g.position)&&(this.$b(this.jg,!0),this.sf=!0);0<this.Ah&&(this.Ah-=a);Rb(0,this.body.g.position)||(this.sf=!1,this.$b(100,!0));this.Wx=(this.mo=this.q.ij&&!tc(this.q,
this.body.g.position)||0<this.q.r[0]||0<this.q.r[1]||0<this.q.r[4])&&!this.O&&this.path&&1==this.path.length&&this.path[0]==this.q.body.g.position&&0>=this.r[1]&&this.sf;this.nj=!this.Wx};
l.Ju=function(){if(this.mo)return Tb(this.w.Kb,this.body.g.position,this.q.body.g.position,this.w.i.Up);var a=R(this.q.body.g.position,this.body.g.position),b=this.Oz,c=0;this.FA&&(this.ms*=-1);for(var d=!1,f=null,g=0;!d&&c<b.length;){for(var h=a+2*Math.PI/64*b[c]*this.ms,d=!0,h=new b2Vec2(this.q.body.g.position.x+Math.cos(h)*this.bq,this.q.body.g.position.y+Math.sin(h)*this.bq),k=0;k<this.i.vh.length;k++)if(Kb(this.i.vh[k],h)){d=!1;break}if(d)if(f=Tb(this.w.Kb,this.body.g.position,h,this.w.i.Up),
f.path){a:{h=f.path;for(k=0;k<h.length-1;k++)if(Nb(h[k],h[k+1],this.q.body.g.position)<this.Nz){h=!1;break a}h=!0}if(!h&&(d=!1,g+=1,g>=this.vv))break}else if(d=!1,g+=1,g>=this.vv)break;if(d)return f;c+=1}if(this.w.Aa)a={path:null,Ud:null};else if(Q(this.body.g.position,this.q.body.g.position)<this.Nz){a=this.w.Kb;b=this.body.g.position;c=N[this.w.W].xa;d=null;f=0;g=R(this.body.g.position,this.q.body.g.position);for(h=0;h<c.length;h++)k=Vb(g,R(this.body.g.position,{x:c[h][0]/F,y:c[h][1]/F})),k=Math.abs(k-
g),k>f&&(f=k,d=c[h]);a=Tb(a,b,{x:d[0]/F,y:d[1]/F})}else a=Tb(this.w.Kb,this.body.g.position,this.q.body.g.position,this.w.i.Up);return a};
l.move=function(){if(!(this.q.O||0<this.r[0])){this.Md+=1;if(null==this.path||this.Md>=this.qe){var a=this.Ju();if(!a.path)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a.path[a.length-1]==this.q.body.g.position||this.Md>=this.qe||this.path&&!Ib(this.body.g.position,this.path[0],this.i.Ze))null!=a.path&&(this.path=a.path,this.RE=this.path[this.path.length-1]),this.Md=Math.floor(.1*Math.random()*this.qe)}if(this.path){a=this.path[0];if(0==this.Md%4){for(;0<this.path.length&&
1>Q(a,this.body.g.position);)this.path=this.path.slice(1),a=this.path[0];if(!a||!Ib(this.body.g.position,a,this.i.Ze))return;Ib(this.body.g.position,this.q.body.g.position,this.i.Ze)&&this.RE==this.q.body.g.position&&(this.path=[this.q.body.g.position],a=this.path[0])}a&&this.gs(a)}}};l.Rj=function(a){this.Wx?(a.ca(this.uj),a.ca(this.oa)):this.Wu&&this.nj&&0<this.Xu||0<this.r[2]?a.ca(this.$v):(0<this.r[2]&&a.ca(this.xC),a.ca(this.oa))};
l.gs=function(a){a=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);a.ab();this.Rj(a);this.body.ha(a,this.body.h.o)};l.Uf=function(){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.ps*Math.cos(a),this.ps*Math.sin(a));this.q.body.ha(new b2Vec2(this.ps*Math.cos(a),this.ps*Math.sin(a)),this.q.body.h.o)};l.se=function(){this.Jn=this.vw};l.qm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.nm=function(a,b,c){this.O||1==c&&(!(0<this.Dc)||this.O||0<this.r[0]||Ba(a,this.body.g.position.x,this.body.g.position.y,this.H,1-this.Dc/this.Yh))};l.om=function(a){a.stroke();a.restore()};Ed.prototype=new Fd;Ed.prototype.constructor=Ed;function Ed(a,b,c,d,f,g,h){this.type="piercing_fighter_bullet";this.ia(a,b,c,d,f);null!==a&&(this.Tc=!1,this.ze=5,this.Gv=h,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.ab(),this.ac.ca(this.oa),"easy"==K&&this.ac.ca(.5),this.Hd=!1,this.To=100,"easy"==K&&(this.To=50),this.Pv=!1,this.body.lx(),this.fo=!1,this.hu=.33,this.Rx=150,this.hu=.33)}Ed.prototype.Ef=function(){};Ed.prototype.Me=Fd.prototype.Me;sc.prototype=new Ga;l=sc.prototype;l.constructor=sc;function sc(a,b,c,d,f){this.type="slingshot";this.ia(a,b,c,d,f);this.Tc=!1;"easy"==K&&(this.oa*=.8);this.tE=50;this.Eu=!1;this.ze=5;this.gh=.5;this.Hd=!1;this.ND=this.color;this.iq=!1;this.Ri=null;this.hq=0;this.uE=100;this.wE=1;this.si=0;this.lC=750;this.kC=100;this.nj=!1;this.Uq=["empowered"];this.Ev=I[this.type].va;this.vE=6}l.rj=Ga.prototype.move;
l.move=function(){if(this.iq){if(0>=this.r[0]){var a=new b2Vec2(this.Ri.x-this.body.g.position.x,this.Ri.y-this.body.g.position.y);a.ca(this.wE);0<this.r[2]&&a.ca(this.gh);this.body.ha(a,this.body.h.o);a=R(this.body.g.position,this.Ri);this.body.rb(a)}}else this.rj()};l.Rj=function(a){0<this.r[2]&&a.ca(this.gh);this.Eu||a.ca(this.gh);a.ca(this.oa)};
l.Uc=function(a){if(this.iq&&0>=this.hq&&1>Q(this.Ri,this.body.g.position)||0<this.r[1])this.iq=!1,this.va=this.Ev;!this.Eu&&Rb(1,this.body.g.position)&&(this.Eu=!0);this.Tc=0<this.si;this.color=0<this.si?"red":this.ND;this.jC=0<this.si&&0>=this.r[1];0<this.hq&&(this.hq-=a);0<this.si&&(this.si-=a)};l.Uf=function(){var a=R(this.body.g.position,this.q.body.g.position),a=new b2Vec2(Math.cos(a),Math.sin(a));0<this.si?a.ca(this.kC):a.ca(this.tE);this.q.body.ha(a,this.q.body.h.o)};
l.se=function(){0>=this.r[1]&&(this.Ri=this.body.g.position.Cb(),this.iq=!0,this.hq=this.uE,this.si=this.lC,this.va=this.vE,bc("sshot"))};l.Bj=function(){if(!this.O){if(0<this.r[0])return"stunned";if(this.pf)return"silenced";if(0<this.r[2])return"gooed"}return this.mp()};l.lp=function(a){if("empowered"==a)return"red"};l.mp=function(){return!this.O&&0<this.si?"empowered":"normal"};
function Jd(a,b){var c=a.body.ga()+2*Math.PI/3*b;return{x:a.body.g.position.x+Math.cos(c)*a.H*3/4,y:a.body.g.position.y+Math.sin(c)*a.H*3/4}}l.Ad=function(a,b){if(this.iq&&!this.O){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.moveTo(this.Ri.x*b,this.Ri.y*b);var c=Jd(this,1);a.lineTo(c.x*b,c.y*b);c=Jd(this,2);a.moveTo(this.Ri.x*b,this.Ri.y*b);a.lineTo(c.x*b,c.y*b);a.stroke()}};Kd.prototype=new Ga;l=Kd.prototype;l.constructor=Kd;function Kd(a,b,c,d,f){this.type="spear";this.ai=!0;this.jg=500;this.ia(a,b,c,d,f);this.uj=5;this.lq=30;"easy"==K&&(this.lq=40);this.ze=5;this.Fl=3E3;this.Tm=!0;this.pm=1;this.Hd=!1;this.Xy=this.tl=!0}l.rj=Ga.prototype.move;l.move=function(){this.q.O||0<this.r[0]||(Ib(this.body.g.position,this.q.body.g.position,this.i.Ze)?(this.path=[this.q.body.g.position],this.gs(this.q.body.g.position)):this.rj())};
l.Rj=function(a){this.Tc&&a.ca(this.uj);0<this.r[2]&&a.ca(this.gh);a.ca(this.oa)};l.Uc=function(){this.Tc=!this.O&&this.path&&1==this.path.length&&0>=this.r[1]&&this.sf};l.Uf=function(){if(0>=this.r[1]){var a=R(this.body.g.position,this.q.body.g.position);new b2Vec2(this.lq*Math.cos(a),this.lq*Math.sin(a));this.q.body.ha(new b2Vec2(this.lq*Math.cos(a),this.lq*Math.sin(a)),this.q.body.h.o)}};l.se=function(){this.$b(this.Fl);this.Fl>this.Dc&&(this.Dc=this.Yh=this.Fl)};
l.Ui=function(a){this.r[0]=Math.max(a,this.r[0]);this.$b(a)};l.$b=function(a,b){b&&(this.pf=b);this.r[1]=Math.max(a,this.r[1])};l.Ad=function(){};l.qm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};l.nm=function(a,b,c){this.O||1==c&&(!(0<this.Dc)||this.O||0<this.r[0]||Ba(a,this.body.g.position.x,this.body.g.position.y,this.H,1-this.Dc/this.Yh))};l.om=function(a){a.stroke();a.restore()};Ld.prototype=new Ga;Ld.prototype.constructor=Ld;function Ld(a,b,c,d,f){this.type="stunner";this.ai=!1;this.ia(a,b,c,d,f);f&&(this.Hd=!1,"normal"==K&&(this.oa*=1.2))};kd.prototype=new Ga;l=kd.prototype;l.constructor=kd;function kd(a,b,c,d,f){this.type="tank";this.ai=!1;this.ia(a,b,c,d,f);this.Tc=!1;this.gd=100;"easy"==K&&(this.gd=80);this.ze=5;this.fC=this.Dm=200;this.th=6;"easy"==K&&(this.th=5);this.QE=75;this.Jg=!1;this.sm=null;this.Lf=this.Hd=!1;this.ih=4E3;this.tl=!0;this.Tj=500;this.Uq=["volatile"];this.qa["volatile"]=0;this.Tm=!0;this.pm=1;this.aF=1500}
l.Uc=function(a){this.Tc=0>=this.r[1];0<this.Ls&&(this.Ls-=a);0<this.qa["volatile"]&&(this.qa["volatile"]-=a)};l.vk=function(){this.color="red"};l.wt=function(a){this.Jg&&(this.color="red",0>=this.Dm&&!this.O&&(this.Nc(this.sm),this.Hr()),0<this.Dm&&(this.Dm-=a))};l.or=function(){for(var a=0;a<this.i.Zd.length;a++)if(Kb(this.i.Zd[a],this.body.g.position)){0>=this.r[1]&&0<this.qa["volatile"]?(this.Jg=!0,this.sm="kill"):0<this.qa.open?this.Nc("kill"):this.Nc("accident");break}};
l.Ef=function(a,b,c,d){this.qa.impulsed+=this.qp;this.se(a,b,c);d||this.open(this.Tj);0<this.r[2]?this.body.ha(new b2Vec2(1.3*b*Math.cos(c),1.3*b*Math.sin(c)),this.body.h.o):"easy"==K?this.body.ha(new b2Vec2(1.25*b*Math.cos(c),1.25*b*Math.sin(c)),this.body.h.o):this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);0<this.Ls&&!this.O&&!this.Jg&&0>=this.r[1]&&(this.Jg=!0,this.sm="kill")};l.se=function(){this.qa["volatile"]=this.aF};
l.Me=function(a){a instanceof kd&&(0<this.qa["volatile"]&&!this.O&&!this.Jg&&0>=this.r[1]?(this.Jg=!0,this.sm="kill"):this.Ls=this.QE);this.O||this.Jg||(a===this.q?0>=this.r[1]?(this.Jg=!0,this.sm="hit_player",Nc(this.w)):this.Nc("hit_player"):a instanceof Ga&&0<a.qa.open&&this.open(a.qa.open))};
l.Hr=function(){if(Q(this.body.g.position,this.q.body.g.position)<=this.H*this.th){var a=R(this.body.g.position,this.q.body.g.position);this.q.body.ha(new b2Vec2(this.gd*Math.cos(a),this.gd*Math.sin(a)),this.q.body.h.o);"hit_player"!=this.sm&&Nc(this.w)}for(a=0;a<this.i.s.length;a++)if(this.i.s[a]!==this&&Q(this.body.g.position,this.i.s[a].body.g.position)<=this.H*this.th){var b=R(this.body.g.position,this.i.s[a].body.g.position);this.i.s[a].body.ha(new b2Vec2(this.gd*Math.cos(b),this.gd*Math.sin(b)),
this.i.s[a].body.h.o);this.i.s[a].open(1500)}};
l.Ad=function(a,b){var c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0;a.save();a.globalAlpha*=1-c;this.Jg&&0<this.Dm?(a.beginPath(),a.strokeStyle="red",a.lineWidth=5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.H*this.th*(1-this.Dm/this.fC)*b,0,1.998*Math.PI),a.stroke()):0>=this.r[1]&&0<this.qa["volatile"]&&(a.beginPath(),a.strokeStyle="red",a.lineWidth=2,a.globalAlpha*=.5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.H*this.th*b,0,1.998*Math.PI),a.stroke());a.restore()};
l.qm=function(a){a.save();a.beginPath();a.lineWidth=2;a.globalAlpha*=.5;a.strokeStyle=I[this.type].color};l.nm=function(a,b){!this.O&&0>=this.qa["volatile"]&&0>=this.r[1]&&(a.moveTo(this.body.g.position.x*b+this.H*this.th*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.H*this.th*b,0,1.998*Math.PI))};l.om=function(a){a.stroke();a.restore()};l.lp=function(a){if("volatile"==a)return"red"};
l.Bj=function(){if(this.O)return"volatile";if(!this.O){if(0<this.r[0])return"stunned";if(this.pf)return"silenced";if(0<this.qa["volatile"])return"volatile";if(0<this.r[2])return"gooed";if(0<this.qa.impulsed)return"impulsed"}return this.mp()};Md.prototype=new Ga;l=Md.prototype;l.constructor=Md;function Md(a,b,c,d,f){this.type="troll";this.ai=!0;this.jg=1E3;this.ia(a,b,c,d,f);this.Hd=!1;this.gi=400;this.En=4;"easy"==K&&(this.gi=600,this.En=3);this.Lf=this.nj=!1;this.ih=1E3;this.xh=[];this.by=250;this.Tm=!0;this.pm=2;this.jA=1E3;"easy"==K&&(this.jA=750);this.Om=!0;this.qz=5E3;"easy"==K&&(this.qz=2500)}
l.Uc=function(a){var b=(new Date).getTime();0>=this.r[1]&&this.Vf(this.ve+2*Math.PI*a/this.ih);b%(this.En*this.gi)<this.gi&&this.$b(this.gi-b%(this.En*this.gi),!0);for(b=this.xh.length-1;0<=b;b--)this.xh[b].jh-=a,0>=this.xh[b].jh&&this.xh.splice(b,1);!this.sf&&Rb(0,this.body.g.position)&&(this.$b(this.jg,!0),this.sf=!0);0<this.Ah&&(this.Ah-=a);Rb(0,this.body.g.position)||(this.sf=!1)};
l.Ad=function(a,b){if(!(this.O||0<this.r[1])){a.save();for(var c in this.xh){a.beginPath();var d=this.xh[c].jh/this.by;a.globalAlpha*=Math.max(0,(1-2*Math.abs(d-.5))/.5);a.moveTo(this.xh[c].object.body.g.position.x*b,this.xh[c].object.body.g.position.y*b);a.lineTo(this.body.g.position.x*b,this.body.g.position.y*b);a.lineWidth=3;a.strokeStyle=this.color;a.stroke();a.globalAlpha/=Math.max(0,(1-2*Math.abs(d-.5))/.5)}a.restore()}};
l.Ef=function(a,b,c,d){0>=this.r[1]&&this.sf?(this.body.ha(new b2Vec2(.3*b*Math.cos(c),.3*b*Math.sin(c)),this.body.h.o),nc(this.q,this.jA),bc("pwheel"),this.xh.push({object:this.q,jh:this.by}),Nc(this.w)):this.body.ha(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.o);d||this.open(this.Tj);this.qa.impulsed+=this.qp};l.Uf=function(){0>=this.r[1]&&(nc(this.q,this.qz),bc("pwheel"))};
l.qm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray");2==c&&(a.lineWidth=2,a.strokeStyle=this.color)};l.nm=function(a,b,c){this.O||(1==c&&(!(0<this.Dc)||this.O||0<this.r[0]||Ba(a,this.body.g.position.x,this.body.g.position.y,this.H,1-this.Dc/this.Yh)),2==c&&(b=(new Date).getTime(),0>=this.r[1]&&b%(this.En*this.gi)>this.gi&&Ba(a,this.body.g.position.x,this.body.g.position.y,this.H,(b%(this.En*this.gi)-this.gi)/((this.En-1)*this.gi))))};
l.om=function(a){a.stroke();a.restore()};Nd.prototype=new Hd;Nd.prototype.constructor=Nd;function Nd(a,b,c,d,f){this.type="disabler";this.ia(a,b,c,d,f);this.ze=2;this.Hd=!1;this.Sm=3;this.op=9;"easy"==K&&(this.op=8);this.mg=this.Sm;this.Ej=500;this.Sk=2500;"easy"==K&&(this.Sk=3500);this.wf="small";this.ke=0;this.Lf=!1;this.ih=6E3;this.gh=0}
Nd.prototype.Xx=function(){0>=this.r[1]&&Q(this.body.g.position,this.q.body.g.position)<this.mg&&this.Sl(this.q);for(var a=0;a<this.i.s.length;a++)0>=this.r[1]&&Q(this.body.g.position,this.i.s[a].body.g.position)<this.mg?this.i.s[a].className!=this.className&&this.Sl(this.i.s[a]):"harpoon"==this.i.s[a].type&&(Q(this.i.s[a].Ya.body.g.position,this.body.g.position)<this.mg||"engaged"==this.i.s[a].mb&&Q(this.i.s[a].Qc.body.g.position,this.body.g.position)<this.mg)&&this.Sl(this.i.s[a])};
Nd.prototype.Sl=function(a){"harpoonhead"==a.type?a.wi.$b(100,!0):a===this.q?(a.r[5]=Math.max(100,a.r[5]),a.$b(100)):a.$b(100,!0)};vc.prototype=new Ga;l=vc.prototype;l.constructor=vc;
function vc(a,b,c,d,f){if(void 0!==a){this.type="harpoon";var g=[];g.push(new b2Vec2(.3*Math.cos(0*Math.PI),.3*Math.sin(0*Math.PI)));g.push(new b2Vec2(.3*Math.cos(5*Math.PI/6),.3*Math.sin(5*Math.PI/6)));g.push(new b2Vec2(.3*Math.cos(7*Math.PI/6),.3*Math.sin(7*Math.PI/6)));this.ai=!0;this.jg=1E3;this.ia(a,b,c,d,f);null!=a&&(this.ze=2,this.pp=17,"easy"==K&&(this.pp=13),this.Dj=null,this.mb="inactive",this.Uy=6,"easy"==K&&(this.Uy=4.5),this.CC=.33,this.Pu=400,"easy"==K&&(this.Pu=50),this.Qu=1.2,"easy"==
K&&(this.Qu=.6),this.As=this.q.Rg,this.Uv=2,this.bq=.8*this.pp,this.Hv=40,this.Iv=20,this.qe=40,this.ms=.5>Math.random()?1:-1,this.gq=500,this.FA=this.Hd=!1,this.pr=this.Yx=5,this.state="seek",this.ju=this.Zx=8,this.Lf=!1,this.vv=4,this.Ou=Math.sqrt(2)/2+Math.sqrt(6)/6-.4,a=Od(this),this.Ya=new Id(this.pa,a.x,a.y,this.id+1E4,this.w,this),this.BC=3,this.Nu=null,this.vr=1E3,this.Qc=null,this.gC=this.nj=!1,this.mo=!0,this.Om=!1,this.ho=1,this.Oz=[0,-1,1,-2,2,-4,4,-8,8,-12,12,-16,16,-20,20],this.Tm=!0,
this.pm=3,this.Yo=!1)}}l.Ju=Gd.prototype.Ju;l.rj=Gd.prototype.move;l.Uf=function(){};
l.move=function(){if("inactive"==this.mb||"engaged"==this.mb)if("engaged"==this.mb){var a=new b2Vec2(this.body.g.position.x-this.Qc.body.g.position.x,this.body.g.position.y-this.Qc.body.g.position.y);a.ab();a.ca(this.Uy);this.Qc==this.q&&0<this.q.r[2]&&a.ca(this.CC);this.Qc.body.ha(a,this.body.h.o);this.Qc!=this.q&&(this.Qc.open(1500),"tank"==this.Qc.type&&(this.Qc.qa["volatile"]=1500))}else null==this.path&&(this.Md=this.qe),this.rj()};
function Od(a){return new b2Vec2(a.body.g.position.x+a.Ou*I[a.type].H*Math.cos(a.ve),a.body.g.position.y+a.Ou*I[a.type].H*Math.sin(a.ve))}l.Vf=function(a){--this.Um;0>=this.Um&&(this.body.rb(a),this.Um=this.Vy,this.Ya.body.rb(this.Ya.ve));this.ve=a};l.$b=function(a,b){b&&(this.pf=!0);this.r[1]=Math.max(a,this.r[1])};
l.Uc=function(a){"inactive"==this.mb?Ic(this,this.q.body.g.position):"engaged"==this.mb?Ic(this,this.Qc.body.g.position):Ic(this,this.Ya.body.g.position);this.fo="inactive"==this.mb;this.qe=Q(this.body.g.position,this.q.body.g.position)<1.5*this.bq?this.Iv:this.Hv;if("inactive"==this.mb)this.Ya.body.bj(Od(this)),this.Ya.Vf(this.ve);else if("fire"==this.mb){var b=R(this.body.g.position,this.Ya.body.g.position);this.Ya.Vf(b);1>this.Ya.body.p.cg()&&(this.mb="retract")}else if("retract"==this.mb){if(0>=
this.r[1]||!Rb(0,this.body.g.position))b=R(this.Ya.body.g.position,this.body.g.position),this.Ya.body.ha(new b2Vec2(this.Qu*Math.cos(b),this.Qu*Math.sin(b)),this.Ya.body.h.o),this.Ya.Vf(Math.PI+b),Q(this.Ya.body.g.position,this.body.g.position)<1.1*this.Ou&&(this.mb="inactive",this.$b(this.vr,!0),this.vr>this.Dc&&(this.Dc=this.Yh=this.vr),this.Nu=null)}else if("engaged"==this.mb)this.Ya.body.bj(new b2Vec2(-100,-100));else if("retract_ready"==this.mb){b=new b2Vec2(this.q.body.g.position.x-this.body.g.position.x,
this.q.body.g.position.y-this.body.g.position.y);b.ab();b.ca(2*this.q.eh);var c=this.Qc.body.g.position.Cb();c.co(b);this.Ya.body.bj(c);b=R(this.body.g.position,this.Ya.body.g.position);this.Ya.Vf(b);this.mb="retract";this.Qc=null}0>=this.ju&&(this.mo=!1,this.ju=this.Zx);--this.ju;0<this.pr&&--this.pr;0>=this.pr&&((!Ib(this.body.g.position,this.q.body.g.position,this.i.Ze)||this.w.Aa)&&0>=this.r[1]&&this.sf&&!this.O&&"inactive"==this.mb&&Rb(0,this.body.g.position)&&Q(this.body.g.position,this.q.body.g.position)<=
this.pp&&(bc("hfire"),this.mb="fire",this.Mu=R(this.Ya.body.g.position,this.q.body.g.position.Cb()),this.Ya.body.ha(new b2Vec2(this.Pu*Math.cos(this.Mu),this.Pu*Math.sin(this.Mu)),this.Ya.body.h.o),this.Ya.Vf(this.Mu)),0<this.r[1]&&"inactive"!=this.mb&&wc(this),"engaged"==this.mb&&(!Rb(1,this.Qc.body.g.position)||this.Qc.O||Q(this.Qc.body.g.position,this.body.g.position)<this.BC)?wc(this):"engaged"==this.mb&&this.q.O&&wc(this),this.pr=this.Yx);0<this.Ya.qa.open&&(this.Ya.qa.open-=a)};
l.Tz=function(a,b){this.Ek&&("hit_player"!=this.O||this.tb<this.bb-50)&&(this.Ek=!1,this.i.Xo.push(a));return this.O&&0>this.tb?(this.i.ip.push(a),!0):this.O?(this.tb-=b,this.Ya.tb-=b,!0):!1};
l.Nc=function(a){wc(this);this.O=a;this.tb=this.bb;this.Ek=!0;if("kill"==this.O&&!this.q.O&&(this.w.I.le+=1,I[this.type].Oi?I[I[this.type].Oi].le+=1:I[this.type].le+=1,!this.i.Aa)){var b=this.w.I.qf*this.Lc;E.fc&&Jc(this.w,b,this.color,this.body.g.position.x,this.body.g.position.y);this.w.I.$e+=b;Kc(this.w);Lc(this.w)}"fade"!=this.O&&(Gc(this.i,this.type,this.body.g.position,this.body.p),this.vk(a),bc("sdeath"));this.Ya.Nc("fade"==this.O?"fade":"accident")};
l.dh=function(a,b){var c=this.Rk(this.Bj());if(c!=this.color||this.O)a.save(),a.strokeStyle=c,a.lineWidth=3,a.globalAlpha*=.5,c=this.O?Math.min((this.bb-this.tb)/this.bb,1):0,this.O&&(a.globalAlpha*=1-c),a.beginPath(),"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Ya.body.g.position.x*b,this.Ya.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Qc.body.g.position.x*b,this.Qc.body.g.position.y*
b)),a.stroke(),a.restore()};l.Ad=function(a,b){"engaged"!=this.mb&&"retract_ready"!=this.mb&&(this.Ya.color=this.Rk(this.Bj()),this.Ya.pf=this.pf,this.Ya.qa=this.qa,this.Ya.Y(a,b))};l.qm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.globalAlpha*=.2);2==c&&(a.lineWidth=3,a.globalAlpha*=.5);3==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.nm=function(a,b,c){if(!this.O){1==c&&0>=this.r[1]&&this.sf&&"inactive"==this.mb&&(a.moveTo(this.body.g.position.x*b+this.pp*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.pp*b,0,1.998*Math.PI));if(2==c){if(this.Rk(this.Bj())!=this.color||this.O)return;"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Ya.body.g.position.x*b,this.Ya.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*
b,this.body.g.position.y*b),a.lineTo(this.Qc.body.g.position.x*b,this.Qc.body.g.position.y*b))}3==c&&(!(0<this.Dc)||this.O||0<this.r[0]||Ba(a,this.body.g.position.x,this.body.g.position.y,this.H,1-this.Dc/this.Yh))}};l.om=function(a){a.stroke();a.restore()};l.se=function(){this.$b(this.gq,!0);this.gq>this.Dc&&(this.Dc=this.Yh=this.gq)};function wc(a){"engaged"==a.mb&&(a.mb="retract_ready",a.Nu=a.Qc.id)};var I={};
I.dumb_stunner={color:"#00ffff",sb:2.2,va:6,H:.5,oa:0,Lc:100,Td:1,we:!0,Cg:"stunner",Wb:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],yr:[{type:"polygon",x:-.1,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],ie:"YES",Be:["On collision, stuns you for a short period"],Wf:"stuns on collision",
className:Bd};
I.stunner={color:"#00ffff",sb:1.5,va:4,H:.5,oa:.42,Lc:100,Td:1,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],yr:[{type:"polygon",x:-.1,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],ie:"YES",Be:["On collision, stuns you for a short period"],Cg:"shocker",Wf:"stuns on collision",
className:Ld};I.spear={color:"#f86003",sb:.7,va:4,H:.7,oa:.24,Lc:500,Td:7,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.7,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)],[Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)]]}],ie:"YES",Be:["Will dive at you if it has line of sight"],Wf:"charges on sight",Bg:"Charges you on sight. Hurls you backward on impact.",ug:"Silenced for two seconds on entering or re-entering stage. When Impulsed, silenced for five seconds.",className:Kd};
I.tank={color:"#6f27cf",sb:2.5,va:3,H:1,oa:1.5,Lc:1E3,Td:8,we:!0,Wb:[{type:"polygon",x:0,y:0,X:1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Dy:[{x1:.5,y1:.5,x2:-.5,y2:-.5},{x1:.5,y1:-.5,x2:-.5,y2:.5}],ie:"YES",Be:["Explodes on death or collision with player","Will explode on collision with another Tank if recently Impulsed","The explosion radius is outlined around the tank"],
Wf:"explodes on death",className:kd};I.mote={color:"#ee42ae",sb:.5,va:3,H:.5,oa:.15,Lc:1E3,Td:.5,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ie:"YES",Be:["Cannot be Impulsed # # On collision, disarms you for a few moments","Other enemies can be impulsed into the mote"],Wf:"unaffected by impulse",className:rc};
I.goo={color:"#e6c43c",sb:7,va:9,H:.5,oa:3.5,Lc:3E3,Td:.25,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],tj:[{type:"circle",x:0,y:0,X:1.3,ku:!0}],ie:"YES",Be:["All units within its radius are slowed","When Impulsed, expands its radius for a few moments"],Wf:"slows all nearby units",
className:Hd};
I.harpoon={color:"#00aa00",sb:6,va:6,H:.7,oa:5.4,Lc:3E3,Td:6,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.7,ba:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],tj:[{type:"polygon",x:-.1,y:0,X:.7,ku:!1,ba:[[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)],[((Math.sqrt(2)+Math.sqrt(6))/2-.4)*Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4)-.4,Math.sin(1*
Math.PI/4)]]},{type:"polygon",x:-.1,y:0,X:.7,ba:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],yr:[],ie:"NO",Be:["Fires its hook at you and # attempts to yank you in # # Can only fire through the void","The hook range is outlined # around the Harpoon","If you are hooked, # impulse the harpoon to get free","While the hook is detached from the Harpoon, it cannot move",
"During boss battles, will fire at any time"],Wf:"hooks through walls",className:vc};
I.harpoonhead={color:"#00dd00",sb:1.2,va:6,H:I.harpoon.H*Math.sqrt(6)/3,oa:1.5,Lc:1E3,Td:6,we:!0,Wb:[{type:"polygon",x:0,y:0,X:I.harpoon.H*Math.sqrt(6)/3,ba:[[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)]]}],ie:"NO",Bg:"Shoots a harpoon which can latch onto you. Once you are latched, the Harpoon will attempt to drag you to your death.",ug:"In normal levels, harpoons can only fire through obstacles and are harmless up close. In boss levels, harpoons can fire at any time. Impulsing a harpoon silences it for 1 second. Harpoons will flee from you.",
description:"Shoots a harpoon that can latch onto you. Once you are latched, it will attempt to drag you to your death.",className:Id};
I.fighter={color:"#0000ff",sb:3,va:6,H:.75,oa:2.5,Lc:4E3,Td:9,Cg:"hunter",we:!0,Wb:[{type:"polygon",x:0,y:0,X:.75,ba:[[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:.75,ba:[[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,Math.sqrt(2)]]},
{type:"polygon",x:0,y:0,X:.75,ba:[[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,-Math.sqrt(2)]]}],Be:["Fires projectiles at you on sight # # Is weak to its own projectiles","When its rage meter is full, # the hunter moves faster and its bullets cannot be impulsed","Impulse the hunter to lower its rage meter"],Wf:"weak to projectiles",ie:"NO",Bg:"Fires bullets at you upon sight. Bullets fling you backwards on impact. For every 2 seconds that the Fighter is idle, it loads up a piercing bullet, which cannot be Impulsed.",
ug:"Normal bullets can be reflected to hit other enemies and even the Fighter itself.",className:Cd};I.fighter_bullet={color:"#0000ec",sb:1,va:3,H:.3,oa:.5,Lc:0,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Fd};
I.piercing_fighter_bullet={color:"#ff0000",sb:1,va:3,H:.3,oa:1,Lc:0,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:Ed};
I.disabler={color:"#cccccc",sb:8,va:9,H:.5,oa:5,Lc:5E3,Td:.25,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/3),Math.sin(1*Math.PI/3)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(3*Math.PI/3),Math.sin(3*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)]]}],tj:[{type:"circle",x:0,y:0,X:1.3,ku:!0}],ie:"YES",Be:["Disables all units within its radius","When Impulsed, expands its radius for a few moments"],
Cg:"equalizer",Wf:"disables all nearby units",Bg:"Leaves behind a trail of crippling poison. Everything that passes through the poison is silenced.",ug:"Passing through goo will instantly slow you down, which may help you survive blasts from other enemies. Goos are not affected by each other.",className:Nd};
I.troll={color:"#159d31",sb:1.3,va:3,H:.7,oa:.38,Lc:4E3,Td:2,Cg:"pinwheel",we:!0,Wb:[{type:"polygon",x:0,y:0,X:1,ba:[[0,0],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408),Math.sqrt(52)/8*Math.sin(-.408)],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ba:[[0,0],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3)],[.25*Math.cos(3*Math.PI/
3),.25*Math.sin(3*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1,ba:[[0,0],[.25*Math.cos(3*Math.PI/3),.25*Math.sin(3*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3)],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)]]}],yr:[{type:"polygon",x:-.2,y:0,X:1,ba:[[0,0],[.25*Math.cos(5*Math.PI/3+.36),.25*Math.sin(5*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+.36),Math.sqrt(52)/8*Math.sin(-.408+.36)],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/
3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ba:[[0,0],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3+.36)],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)]]},{type:"polygon",x:-.2,y:0,X:1,ba:[[0,0],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3+.36)],[.25*Math.cos(5*Math.PI/3+.22),
.25*Math.sin(5*Math.PI/3+.22)]]}],Be:["On collision or if impulsed while spinning, # reverses your controls"],Wf:"reverses your controls",ie:"YES",Bg:"When active, impulsing the Troll will pull it towards you. Upon impact, reverses your movement and impulse controls.",ug:"The troll alternates between active and inactive every second.",className:Md};
I.slingshot={color:"#a0522d",sb:.2,va:7,H:1,oa:.65,Lc:5E3,Td:10,we:!0,Wb:[{type:"polygon",x:-.25,y:0,X:1,ba:[[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(2*Math.PI/3)/2,1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3)/2,1*Math.sin(4*Math.PI/3)/2]]},{type:"polygon",x:-.25,y:0,X:1,ba:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4]]},
{type:"polygon",x:-.25,y:0,X:1,ba:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)]]}],Cy:[[[1*Math.cos(0*Math.PI)/4-.25,1*Math.sin(0*Math.PI)/4],[.75*Math.cos(0*Math.PI)-.25,3*Math.sin(0*Math.PI)/4]]],ie:"YES",Cg:"boomerang",Bg:"When Impulsed, it will hook onto the ground and slingshot back towards you, flinging you away if it hits you.",ug:"If the boomerang hits you while not slingshoting, it will still push you back a fair way.",
className:sc,Be:["When Impulsed, latches onto its current position # and slingshots back at you","cannot be impulsed while latched"],Wf:"slingshots when impulsed"};
I.orbiter={color:"red",sb:.3,va:15,H:.5,oa:.96,Lc:5E3,Td:10,we:!0,Wb:[{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3)+.4,Math.sin(2*Math.PI/3)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ba:[[Math.cos(4*Math.PI/3)+.4,Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[.4,0]]},{type:"polygon",x:0,y:0,X:.5,ba:[[.4,0],[-.6,.3],[-1.6,0],[-.6,-.3]]}],Cy:[[[.5,0],[.2,0]]],Be:["Intelligently avoids your Impulse # # Will charge at you opportunistically"],
Wf:"intelligent and dangerous",ie:"YES",Bg:"Locks onto you. Actively avoids your Impulse. Charges you if you've shot your Impulse the other way.",ug:"Intelligent and dangerous.",className:Gd};
I.deathray={color:"#dddddd",dz:"black",sb:6,va:6,H:1,oa:7.2,Lc:1E4,Td:10,we:!0,Wb:[{type:"polygon",x:0,y:0,X:1.5,ba:[[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*Math.PI/4)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)]]},{type:"polygon",x:0,y:0,X:1.5,ba:[[.6*Math.cos(1*Math.PI/3)+.2,.6*Math.sin(1*Math.PI/3)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*
Math.PI/4)],[.8*Math.cos(1*Math.PI/3)+.2,.3*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,X:1.5,ba:[[.8*Math.cos(5*Math.PI/3)+.2,.3*Math.sin(5*Math.PI/3)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.6*Math.cos(5*Math.PI/3)+.2,.6*Math.sin(5*Math.PI/3)]]}],Be:["After firing, must recharge for a short period # # During this time, the deathray cannot move"],Wf:"giant death ray",ie:"NO",Bg:"While in turret mode, sends a devastating ray across the level every 2 seconds.",
ug:"Death rays will only enter turret mode after they are a certain distance away from the walls. Death rays take 1 seconds to enter or leave turret mode.",className:yd};
I["first boss"]={color:x["boss 1"],sb:4.5,va:8,H:3,oa:0,Lc:[1E6,5E6,15E6],Td:10,yf:!0,nf:8,Af:6,Wb:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ur:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/
2),Math.sin(3*Math.PI/2)]]}],tw:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],fv:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Lu:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*
Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],ie:"NO",Bg:"Shoots stunners, spears, and tanks at you. Can cast a global lighten, which causes everything to lighter and much easier to push.",ug:"The color of the boss's guns reflect what it is shooting. During the global lighten, the boss will shoot faster. Use this time to clear the field of enemies.",className:Zc};
I["second boss"]={color:x["boss 2"],sb:4.5,va:8,H:3,oa:0,Lc:[1E6,5E6,15E6],Td:10,yf:!0,Wb:[{type:"polygon",x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(2*Math.PI/4),Math.sin(2*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(6*Math.PI/4),Math.sin(6*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],ur:[{type:"polygon",
x:0,y:0,X:3,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[.5*Math.cos(2*Math.PI/4),.5*Math.sin(2*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[.5*Math.cos(6*Math.PI/4),.5*Math.sin(6*Math.PI/4)]]}],ie:"NO",Bg:"Exerts a gravity on the field, pulling everything towards it. The closer to the boss, the stronger the pull. The boss has four gravity arms, inside which the gravity is doubled. The boss can also send a massive shockwave through the field.",ug:"Enemies that collide with the boss will be absorbed, increasing the boss's shockwave range. If you touch the boss, you will be flung away.",
className:ud};
I["third boss"]={color:"#C000FF",sb:2,va:8,H:4.5,oa:0,Td:10,Lc:[1E6,5E6,15E6],yf:!0,nf:16,Af:6,Wb:[{type:"polygon",x:0,y:0,X:4.5,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)],[Math.cos(2*Math.PI/8),Math.sin(2*Math.PI/8)],[Math.cos(3*Math.PI/8),Math.sin(3*Math.PI/8)],[Math.cos(4*Math.PI/8),Math.sin(4*Math.PI/8)],[Math.cos(5*Math.PI/8),Math.sin(5*Math.PI/8)],[Math.cos(6*Math.PI/8),Math.sin(6*Math.PI/8)],[Math.cos(7*Math.PI/8),Math.sin(7*Math.PI/8)],[Math.cos(8*
Math.PI/8),Math.sin(8*Math.PI/8)],[Math.cos(9*Math.PI/8),Math.sin(9*Math.PI/8)],[Math.cos(10*Math.PI/8),Math.sin(10*Math.PI/8)],[Math.cos(11*Math.PI/8),Math.sin(11*Math.PI/8)],[Math.cos(12*Math.PI/8),Math.sin(12*Math.PI/8)],[Math.cos(13*Math.PI/8),Math.sin(13*Math.PI/8)],[Math.cos(14*Math.PI/8),Math.sin(14*Math.PI/8)],[Math.cos(15*Math.PI/8),Math.sin(15*Math.PI/8)]]}],ur:[{type:"polygon",x:0,y:0,X:4.5,ba:[[.8*Math.cos(1*Math.PI/3),.8*Math.sin(1*Math.PI/3)],[.6*Math.cos(2*Math.PI/3),.6*Math.sin(2*
Math.PI/3)],[.6*Math.cos(4*Math.PI/3),.6*Math.sin(4*Math.PI/3)],[.8*Math.cos(5*Math.PI/3),.8*Math.sin(5*Math.PI/3)]]}],zx:[{type:"polygon",x:0,y:0,X:2,ba:[[0,0],[Math.cos(0*Math.PI/8),Math.sin(0*Math.PI/8)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)]]}],ie:"NO",Bg:"Has six turrets which fire bullets. Can cast a global silence and enter berserk mode, during which its attack speed is doubled.",ug:"Turrets which enter an obstacle cannot attack. Bullets can be reflected by Impulse to hit other enemies, including the boss.",
className:ld};
I["fourth boss"]={color:"#ff0000",sb:4,va:8,H:4,oa:0,Td:10,Lc:[1E6,5E6,15E6],yf:!0,nf:17,Af:6,Wb:[{type:"polygon",x:0,y:0,X:4,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],mj:2,Px:[{type:"polygon",x:0,y:0,X:2,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/
5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],ur:[{type:"polygon",x:0,y:0,X:2,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],ie:"NO",Bg:"Periodically spawns capsules. Has a thin laser which sweeps around the field. When the sweep laser hits a capsule, the capsule spawns a large number of enemies. The boss has two additional lasers, one which paralyzes and one which exerts massive force.",
ug:"The sweep laser can be blocked, preventing capsules from spawning enemies.",className:Qc};I["boss four attacker"]={color:"white",sb:1.5,va:1,bz:.1,H:2.2,oa:360,Td:10,Lc:[1E6,5E6,15E6],Wb:[{type:"polygon",x:0,y:0,X:.1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Xc};
I["boss four spawner"]={color:"rgb(0, 255, 0)",sb:4,va:12,bz:.1,H:1,oa:0,Lc:5E3,Wb:[{type:"polygon",x:0,y:0,X:.1,ba:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:Sc};var Pd={stunner:500,spear:250,tank:150,mote:150,goo:50,harpoon:50,disabler:50,fighter:50,slingshot:50,troll:50,deathray:25,orbiter:50};
function Qd(){for(var a in I)if(I[a].we){var b=new I[a].className(null,0,0,0,null),c=I[a],d={},f=b.Wb,g=b.ME.concat(b.Uq);for(index in g){var h=g[index],k=document.createElement("canvas");k.width=2*I[b.type].H*b.Mm*F;k.height=2*I[b.type].H*b.Mm*F;var n=k.getContext("2d"),q=b.Rk(h);q||(q=b.color);var p=I[b.type].H*Ga.prototype.Mm,u=I[b.type].H*Ga.prototype.Mm;n.translate(p*F,u*F);Ea(n,h,f,b.type,q);n.translate(-p*F,-u*F);d[h]=k}c.images=d}};function Be(a,b,c){this.ia(a,b,c)}Be.prototype.ia=function(a,b,c){this.Vi=a;this.color=b;this.dC=c};Be.prototype.na=function(){};Be.prototype.Y=function(a,b){a.beginPath();a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=20;a.shadowColor=this.color;a.moveTo(this.Vi[0].x*b,this.Vi[0].y*b);for(var c=1;c<this.Vi.length;c++)a.lineTo(this.Vi[c].x*b,this.Vi[c].y*b);a.closePath();a.fillStyle=this.dC;a.strokeStyle=this.color;a.lineWidth=6;a.stroke();a.fill();a.shadowBlur=0};function Ce(a,b,c,d,f,g,h){this.ia(a,b,c,d,f,g,h)}Ce.prototype.ia=function(a,b,c,d,f,g,h){this.i=a;this.fu=a.vh;this.Zd=a.Zd;b&&(this.Rz=b,this.ba=c,this.Ds=g,this.MA=h);this.Jj=(new Date).getTime()};function De(a,b,c,d){var f;if(f=Ib(b,c,a.Rz,d)){if(!(d=c.p_n!=d))a:{a=a.Zd[c.p_n];d=a.length-1;for(f=0;f<a.length;f++){if(Jb(b,c,a[f],a[d])){d=!1;break a}d=f}d=!0}f=d}return f}
function Tb(a,b,c,d){if(Ib(b,c,a.Rz)&&Ib(b,c,a.i.Ze))return{path:[c],Ud:Q(b,c)};for(var f=null,g=null,h=0;h<a.fu.length;h++)Kb(a.fu[h],b)&&(f=h),Kb(a.fu[h],c)&&(g=h);var k=null,n=null,q=a.MA[50*Math.floor(b.x*F/50)+" "+50*Math.floor(b.y*F/50)],p=a.MA[50*Math.floor(c.x*F/50)+" "+50*Math.floor(c.y*F/50)];if(q){for(var u=[],h=0;h<q.length;h++)De(a,b,a.ba[q[h]],f)&&u.push(q[h]);q=u}if(!q||0==q.length)for(q=[],h=0;h<a.ba.length;h++)De(a,b,a.ba[h],f)&&q.push(h);if(p){f=[];for(h=0;h<p.length;h++)De(a,c,
a.ba[p[h]],g)&&f.push(p[h]);p=f}if(!p||0==p.length)for(p=[],h=0;h<a.ba.length;h++)De(a,c,a.ba[h],g)&&p.push(h);for(h=0;h<q.length;h++)for(g=0;g<p.length;g++)if(f=q[h]==p[g]?0:a.Ds[q[h]][p[g]].b,null!=f&&(f=Q(b,a.ba[q[h]])+f+Q(a.ba[p[g]],c),!k||f<k))k=f,n=q[h]==p[g]?[q[h]]:a.Ds[q[h]][p[g]].a;if(!n)return{path:null,Ud:null};d&&(d=Math.floor(Math.random()*q.length*p.length),h=Math.floor(d/p.length),g=d%p.length,Q(b,5>a.ba[n[0]])&&(h=q.indexOf(n[0])),0!=q.length*p.length&&(f=q[h]==p[g]?0:a.Ds[q[h]][p[g]].b,
null!=f&&(f=Q(b,a.ba[q[h]])+f+Q(a.ba[p[g]],c),d=R(b,a.ba[n[0]]),u=R(b,a.ba[q[h]]),f<1.2*k&&Wb(d,u)<3*Math.PI/8&&!Ib(a.ba[n[0]],a.ba[q[h]])&&(k=f,n=q[h]==p[g]?[q[h]]:a.Ds[q[h]][p[g]].a))));q=[];for(h=0;h<n.length;h++)q.push(a.ba[n[h]]);q.push(c);return 2==q.length&&Ib(b,c,a.i.Ze)?{path:[c],Ud:Q(b,c)}:{path:q,Ud:k}};var Ee=!1,Dc=0,Ec=0,X=0,O=0,P=0,Fe=null,Ge=null,He=null,Y=null,Ie=null,F=15,Je=0,S=null,Ke=null,Le="impulse_save_data",E,K,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,cc=null,Ve=null,We,Xe,Ye,Ze,$e,af,bf,cf,df,Ff;
window.impulse_main=function(){b2Vec2=m.aa.Math.hg;b2AABB=m.v.no;b2BodyDef=m.l.Tl;b2Body=m.l.ge;b2FixtureDef=m.l.Zl;b2Fixture=m.l.Yl;b2World=m.l.Le;b2MassData=m.v.Ta.Do;b2PolygonShape=m.v.Ta.oi;b2CircleShape=m.v.Ta.jj;b2DebugDraw=m.l.Je;b2MouseJointDef=m.l.L.bm;b2ContactListener=m.l.qo;Dc=1200;Ec=600;X=200;O=Dc-2*X;P=Ec;Ge=document.getElementById("canvas");var a=document.getElementById("canvas_container");Ge.width=Dc;Ge.height=Ec;a.style.width=Dc+"px";a.style.height=Ec+"px";He=document.getElementById("bg_canvas");
a=document.getElementById("bg_canvas_container");He.width=Dc;He.height=Ec;a.style.width=Dc+"px";a.style.height=Ec+"px";Fe=Ge.getContext("2d");Y=He.getContext("2d");window.addEventListener("keydown",Gf,!1);window.addEventListener("keyup",Hf,!1);window.addEventListener("click",If,!1);window.addEventListener("mousedown",Jf,!1);window.addEventListener("mouseup",Kf,!1);window.addEventListener("mousemove",Lf,!1);window.addEventListener("resize",Mf,!1);window.oncontextmenu=function(){return!1};Mf();Nf();
Qd();wa=rb();Of();xa=[];za();cc=new $b;S=new Pf;Je=(new Date).getTime();Qf()};
function Mf(){var a,b;a=800;b=600;document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth,b=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight);Dc<a?(offset_left=(a-Dc)/2,canvas_container.style.left=Math.round(offset_left)+"px",bg_canvas_container.style.left=
Math.round(offset_left)+"px"):offset_left=0;Ec<b?(offset_top=(b-Ec)/2,canvas_container.style.top=Math.round(offset_top)+"px",bg_canvas_container.style.top=Math.round(offset_top)+"px"):offset_top=0;message.style.display=""}function Of(){var a=document.createElement("canvas");a.width=O;a.height=P;We=a;a=document.createElement("canvas");a.width=O;a.height=P;Xe=a;a=document.createElement("canvas");a.width=O;a.height=P;Ye=a}
function Rf(a,b,c){Ze!=a&&($e=Ve=b,b=Xe.getContext("2d"),"#"==a.substring(0,1)?(b.fillStyle=a,b.fillRect(0,0,O,P)):Cb(b,0,O,P,a),af=c,bf=a)}function Sf(a,b){var c=We.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Cb(c,0,O,P,a);cf=b;Ze=a;Y.clearRect(0,0,canvas.width,canvas.height);Y.fillStyle="#000";Y.fillRect(0,0,canvas.width,canvas.height);Y.globalAlpha=cf;Y.drawImage(We,0,0,O,P,X,0,O,P);Y.globalAlpha=1}
function Tf(a){if(0<$e){var b=$e/Ve;Y.clearRect(0,0,canvas.width,canvas.height);Y.fillStyle="#000";Y.fillRect(0,0,canvas.width,canvas.height);Y.globalAlpha=b*cf;Y.drawImage(We,0,0,O,P,X,0,O,P);Y.globalAlpha=(1-b)*af;Y.drawImage(Xe,0,0,O,P,X,0,O,P);Y.globalAlpha=1;$e-=a}else null!=Ve&&(Ve=null,Sf(bf,af))}
function Qf(){var a=(new Date).getTime();Fe.globalAlpha=1;dt=a-Je;S.na(dt);null!=Ke&&Ke.na(dt);null!=Ie&&(Ff-=dt,0>Ff&&(Ie=null));S instanceof Uf?S instanceof Uf&&S.ready&&(1!=S.zoom?(Fe.fillStyle=S.ri,Fe.fillRect(X,0,O,P)):Fe.clearRect(X,0,O,P)):Fe.clearRect(0,0,canvas.width,canvas.height);if(S instanceof Uf){S.Y(Fe,Y);Fe.save();Vf(S,Fe);for(var b=0;b<xa.length;b++)xa[b].Y(Fe);Fe.restore()}else Fe.fillStyle="black",Fe.fillRect(0,0,X,Ec),Fe.fillRect(Dc-X,0,X,Ec),Fe.translate(X,0),S.Y(Fe,Y),Fe.translate(-X,
0);null!=Ke&&(Fe.globalAlpha=1,Ke.Y(Fe));if(null!=Ie){b=Fe;b.save();var c=Ff/df;b.globalAlpha=.2>c?5*b.globalAlpha*c:.9<c?10*b.globalAlpha*(1-c):1;Ie.Y(b);b.restore()}Je=a;setTimeout(Qf,Math.max(33-((new Date).getTime()-a),1))}function Wf(a,b,c,d){Ie=new Xf(a,c?c:"white",d?d:0);Yf(Ie,Dc/2,Ec-10-Ie.m);Ie.visible=!0;Ff=df=b}function Lf(a){a=Ob(a);Ke&&Ke.Ea(a.x,a.y);if(S instanceof Uf){S.Ea(a.x,a.y);for(var b=0;b<xa.length;b++)xa[b].Ea(a.x,a.y)}else S.Ea(a.x-X,a.y)}
function Jf(a){a.preventDefault();var b=Ob(a);0==a.button&&(Ke?Ke.tg(b.x,b.y):S instanceof Uf?S.tg(b.x,b.y):S.tg(b.x-X,b.y))}function Kf(a){a.preventDefault();var b=Ob(a);0==a.button&&(Ke?Ke.Xg(b.x,b.y):S instanceof Uf?S.Xg(b.x,b.y):S.Xg(b.x-X,b.y))}function If(a){a.preventDefault();var b=Ob(a);if(0==a.button)if(Ke){if(Ke.Oa(b.x,b.y),S instanceof Uf)for(a=0;a<xa.length;a++)xa[a].Oa(b.x,b.y)}else if(S instanceof Uf){for(a=0;a<xa.length;a++)xa[a].Oa(b.x,b.y);S.Oa(b.x,b.y)}else S.Oa(b.x-X,b.y)}
function Zf(){return document.uC&&null!==document.uC||document.mozFullScreen||document.webkitIsFullScreen}function $f(){var a=Zf(),b=document.documentElement;a?document.exitFullscreen?document.exitFullscreen():document.rD?document.rD():document.webkitExitFullscreen&&document.webkitExitFullscreen():b.requestFullscreen?b.requestFullscreen():b.sD?b.sD():b.webkitRequestFullscreen&&b.webkitRequestFullscreen();Ke&&Ke instanceof ag&&(Ke.Nr.Kg.checked=!a)}
function bg(){if(cc.Mi){var a=cc;a.Mi=!1;E.zv=!1;cg();a.cc&&(a.Mc[a.cc].fh(E.km),a.Xj[a.cc]=!0);cc.Im=!1;E.Im=!1}else a=cc,a.Mi=!0,E.zv=!0,cg(),a.cc&&(a.Mc[a.cc].fh(0),a.Xj[a.cc]=!1),cc.Im=!0,E.Im=!0;cg();if(Ke&&Ke instanceof ag){var a=Ke,b=cc.Mi;a.Er.Tc=b;a.js.Tc=b}}function Gf(a){a=null==a?window.event.keyCode:a.keyCode;a==va.ft&&0==Ee&&(Ee=!0,Wf("god_mode_alert",2500,"white",0),S instanceof dg&&eg(S));a==va.kt&&bg();a==va.bt&&$f();Ke?Ke.Ge(a):S.Ge(a)}
function Hf(a){a=null==a?window.event.keyCode:a.keyCode;Ke&&Ke.Tp(a);S.Tp(a)}
function Nf(){window.console.log("LOADING GAME");var a={};void 0===localStorage[Le]||null===localStorage[Le]?(Ne=!0,a.difficulty_mode="easy"):(a=JSON.parse(localStorage[Le]),Ne=0==a.first_time?!1:!0);void 0!==a.hard_mode_unlocked?(Oe=a.hard_mode_unlocked)||(K="easy"):(Oe=!1,Me&&Me.easy&&void 0!==Me.easy["world 4"]&&(Oe=!0));a.levels||(a.levels={});a.enemies_seen||(a.enemies_seen={});a.enemies_killed||(a.enemies_killed={});a.world_rankings||(a.world_rankings={easy:{},normal:{}});window.console.log("LOADING GAME 2");
var b={Fr:100,km:100,Ir:!0,fc:!0,$F:!1,hs:!1,Wr:!0,di:!1,Eb:"right",wc:"mouse"};a.options||(a.options={});a.quests||(a.quests=[]);for(var c in b)a.options.hasOwnProperty(c)||(a.options[c]=b[c]);a.save_data||(a.save_data={easy:{},normal:{}});window.console.log("LOADING GAME 3");Pe=a.save_data;K=a.difficulty_mode?a.difficulty_mode:"normal";Qe=a.total_kills?a.total_kills:0;Re=a.tutorial_shown?a.tutorial_shown:[];E=a.options;Se=a.quests;fg("easy",a);fg("normal",a);Me=a.world_rankings;for(difficulty in Me)for(world in Me[difficulty])b=
Me[difficulty][world],"string"===typeof b&&(c=gg(b),hg(c)),b.rank&&(c=gg(b.rank),hg(c));for(s in I)I[s].xg=a.enemies_seen[s]?a.enemies_seen[s]:0,I[s].le=a.enemies_killed[s]?a.enemies_killed[s]:0;ig("easy");ig("normal");window.console.log("DONE LOADING GAME")}
function fg(a,b){for(s in N)if("HOW TO PLAY"!=s.slice(0,11))if("undefined"===typeof N[s].Ia&&(N[s].Ia={}),N[s].Ia[a]={},b.levels.hasOwnProperty(s)&&b.levels[s].save_state&&b.levels[s].save_state[a])if(N[s].Ia[a].Rc=b.levels[s].save_state[a].high_score,N[s].Ia[a].xg=b.levels[s].save_state[a].seen,N[s].Ia[a].Va=b.levels[s].save_state[a].best_time,"HIVE"==s.slice(0,4)){for(var c=0;N[s].Ia[a].Rc>=N[s].za[a][c];)c+=1;N[s].Ia[a].jb=c}else N[s].Ia[a].jb=1E3>N[s].Ia[a].Va?3:0;else N[s].Ia[a].Rc=0,N[s].Ia[a].jb=
0,N[s].Ia[a].xg=!1,N[s].Ia[a].Va=1E3}function cg(){var a={levels:{}};jg("easy",a);jg("normal",a);a.enemies_seen={};a.enemies_killed={};for(s in I)a.enemies_seen[s]=I[s].xg,a.enemies_killed[s]=I[s].le;a.total_kills=Qe;a.difficulty_mode=K;a.world_rankings=Me;a.save_data=Pe;a.options=E;a.first_time=Ne;a.hard_mode_unlocked=Oe;a.tutorial_shown=Re;a.quests=Se;localStorage[Le]=JSON.stringify(a)}
function jg(a,b){for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&(b.levels.hasOwnProperty(s)||(b.levels[s]={},b.levels[s].save_state={}),b.levels[s].save_state[a]={},b.levels[s].save_state[a].high_score=N[s].Ia[a].Rc,b.levels[s].save_state[a].best_time=N[s].Ia[a].Va,b.levels[s].save_state[a].seen=N[s].Ia[a].xg)}function ig(a){var b=0;for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&N[s].Ia[a]&&(b+=N[s].Ia[a].jb);Te=0;for(s in Pd)I[s].le>=Pd[s]&&(Te+=1);"undefined"===typeof Ue&&(Ue={});Ue[a]=b+Te}
function kg(a){Pe[K]=a;cg()}function hc(){for(var a=3,b=0;b<Se.length;b++){var c=Se[b];Fb[c]&&-1!=Fb[c].wb.indexOf("life")&&(a+=1)}return a}function ic(){for(var a=0,b=0;b<Se.length;b++){var c=Se[b];Fb[c]&&-1!=Fb[c].wb.indexOf("ult")&&(a+=1)}return a}function jc(){for(var a=10,b=0;b<Se.length;b++){var c=Se[b];Fb[c]&&-1!=Fb[c].wb.indexOf("spark")&&(a+=1)}return a}
function lg(){for(var a=null,b=0;b<ra.length;b++)0<ra[b].Sc&&(ra[b].Sc<a||null==a)&&(a=ra[b].Sc);for(b=0;b<sa.length;b++)0<sa[b].Sc&&(sa[b].Sc<a||null==a)&&(a=sa[b].Sc);for(b=0;b<ta.length;b++)0<ta[b].Sc&&(ta[b].Sc<a||null==a)&&(a=ta[b].Sc)}function Mc(a){-1==Se.indexOf(a)&&(Se.push(a),cg(),Wf("quest_"+a,2500,"white",0))}function mg(a){return 2==a?.5:3==a?.4:.3};function ng(a,b,c,d,f,g,h,k){this.type=a;this.Ok=b;this.kq=c;this.jq=d;this.Hs=f;this.zD=g;this.yD=h;this.oD=k;this.Cl=0==this.Ok?1E3*this.kq:1}ng.prototype.na=function(a,b){b>this.Ok&&(this.Cl-=a)};function og(a,b){this.ia(a,b)}l=og.prototype;
l.ia=function(a,b){this.n=b.n;this.Vm=b;this.w=null;this.Si=a.Si;this.sn=!1;this.Qv=500;"easy"==K&&(this.Km=a.Mb);this.Km?this.YE=!0:this.Km=a.s;"easy"==K&&(this.Pa=a.Hc);this.Pa?this.ZE=!0:this.Pa=a.Pa;this.Kk={};this.W=a.W;"easy"==K&&(this.Ka=a.nA);this.Ka||(this.Ka=a.Ka);this.Up=a.Up;this.Ti=a.gb;"easy"==K&&a.Qz&&(this.Ti=a.Qz);this.gb=this.Ti;this.xa=a.xa;pg(this);this.ls=a.ls;"easy"==K&&(this.Ja=a.Cf);this.Ja||(this.Ja=a.Ja);this.Rr=a.Rr;this.color=x["world "+this.Vm.n];this.ri=x["world "+this.Vm.n+
" dark"];this.yc=x["world "+this.Vm.n+" lite"];this.M=x["world "+this.Vm.n+" bright"];this.Aa="BOSS"==this.W.slice(0,4);this.Aa||(this.lz=parseInt(this.W.slice(this.W.length-1,this.W.length)),this.za=a.za[K]);this.uh=!1;this.Na=a.Na;this.vh=[];this.Zd=[];this.Th=[];this.Ze=[];this.AD=[];this.uf=[];this.qq=0;this.pD=20;this.yj=!1;this.Ay={stunner:Ld,spear:Kd,tank:kd,mote:rc,goo:Hd,disabler:Nd,troll:Md,fighter:Cd,harpoon:vc,orbiter:Gd,slingshot:sc,deathray:yd,"first boss":Zc,"second boss":ud,"third boss":ld,
"fourth boss":Qc,"boss four spawner":Sc};this.Gc=a.Gc?{x:a.Gc.x/F,y:a.Gc.y/F}:{x:this.Ti.x/F,y:this.Ti.y/F};this.Qk=4;this.vC=300;this.Ny=1E3;this.zj=null;this.vf=[];this.lg=this.Pk=1E3;this.Pr=2E3;this.Qr=5;this.reset();this.nr={};this.sC=null;this.Ly=0};
l.reset=function(){this.ec=this.w&&this.w.ec?!0:!1;this.sn=!1;this.s=[];this.uf=[];this.xc=0;this.Ks=this.fd=200;this.Nm=1;this.yj=!1;this.Sp=0;this.YB=3;this.vc=null;this.uh=this.Ox=!1;this.ti={};for(s in this.Km){var a=this.Km[s];this.ti[s]=new ng(s,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);this.Kk[s]=0}this.Xo=[];this.ip=[];this.ci=[];this.Ag=[];this.cz=!1;this.yE=this.fk=null;this.zE=1E4;this.Op=this.Bf=null;this.Lz=1E4};
function qg(a){var b=Math.floor(Math.random()*a.Ka.length);a.Bf={x:a.Ka[b][0],y:a.Ka[b][1]};for(var c={x:a.w.q.body.g.position.x*F,y:a.w.q.body.g.position.y*F};125>Q(c,a.Bf)||a.fk&&a.Bf.x==a.fk.x&&a.Bf.y==a.fk.y;)b+=1,b%=a.Ka.length,a.Bf={x:a.Ka[b][0],y:a.Ka[b][1]};a.Op=a.Lz}
l.na=function(a){!this.Aa&&0<this.Ka.length&&(this.Op-=a,null==this.Bf||0>this.Op?qg(this):25>Q({x:this.w.q.body.g.position.x*F,y:this.w.q.body.g.position.y*F},this.Bf)&&(bc("sparks"),this.w.I.sh+=5,this.w.I.qf=this.w.I.sh+Math.floor(this.w.I.af/10),Jc(this.w,"x"+this.w.I.qf,"white",this.Bf.x/F,this.Bf.y/F,2E3),qg(this)));null!=this.zj&&(0<this.zj?this.zj-=a:(Y.translate(X,0),this.Pe(Y),Y.translate(-X,0),this.zj=null));this.sn&&(this.xs-=a);this.yj&&this.on(a);0>=this.Sp&&1>this.Rp?this.Rp=Math.min(1,
this.Rp+a/1E3):0<this.Sp&&0<this.Rp&&(this.Rp=Math.max(0,this.Rp-a/1E3));0<this.Sp&&(this.Sp-=a);this.Xo=[];this.ci=[];this.ip=[];for(var b=0;b<this.s.length;b++)this.s[b].na(b,a);for(;0<this.Xo.length;)b=this.Xo.pop(),this.w.pa.Kw(this.s[b].body),this.s[b]instanceof vc&&this.w.pa.Kw(this.s[b].Ya.body),this.s[b]==this.vc&&(this.uh=!0);for(b=this.uf.length-1;0<=b;b--)this.uf[b].na(a),0>=this.uf[b].Yr&&(this.uf.splice(b,1),this.qq-=4);for(;0<this.ip.length;){b=this.ip.pop();--this.Kk[this.s[b].type];
if("goo"==this.s[b].type||"disabler"==this.s[b].type){var c=this.ti[this.s[b].type];c.Cl=1E3*Math.max(c.kq-(this.w.I.af-c.Ok)/60*c.jq,c.Hs)}this.s.splice(b,1)}for(;0<this.ci.length;)b=this.ci.pop(),rg(this,b);if(!this.cz)this.yi(),this.cz=!0;else if("HIVE 0-3"!=this.W||!this.w.Aj){if(!this.Aa){var b=[],d;for(d in this.ti){c=this.ti[d];c.na(a,this.w.I.af);var f=this.w.I.af;if(0>=c.Cl){c.Cl+=1E3*Math.max(c.kq-(f-c.Ok)/60*c.jq,c.Hs);var g=0;0<c.jq&&(g=2*Math.max(0,(c.Hs-(c.kq-(f-c.Ok)/60*c.jq))/c.jq)*
c.Hs/c.kq);c=c.zD+(f-c.Ok)/60*c.yD+g}else c=void 0;if(0<c)for("easy"!=K||this.YE||(c=Math.max(1,.5*c)),this.w instanceof pc&&this.ly&&(c*=2),this.w instanceof pc&&this.hn&&(c=0),f=1;f<=c;f++)b.push(d)}sg(this,b);if(0==this.s.length&&0==this.Ag.length){d=1E3;for(var h in this.ti)b=this.ti[h],this.w.I.af>b.Ok&&(d=Math.min(d,b.Cl));for(h in this.ti)b=this.ti[h],b.na(d,this.w.I.af)}}0<=this.Ks?this.Ks-=a:0<this.Ag.length&&(a=this.Ag[0].type,h=this.Ag[0].gG,this.Ag=this.Ag.slice(1),this.Js(a,h),this.Ks=
this.fd)}if(this.uh)for(b=0;b<this.s.length;b++)this.s[b].O||this.s[b].Nc("kill")};function pg(a){a.xa.sort(function(a,c){var d=R({x:400,y:300},{x:a[0],y:a[1]}),f=R({x:400,y:300},{x:c[0],y:c[1]});return d-f})}l.yi=function(){if(this.Pa){var a=[],b;for(b in this.Pa){var c=this.Pa[b];this.Aa||"easy"!=K||this.ZE||(c=Math.max(1,.5*c));for(var d=0;d<c;d++)a.push(b);"separate_by_type"==this.Si&&(sg(this,a),a=[])}"separate_by_type"!=this.Si&&sg(this,a)}};
function sg(a,b){var c;if("spread"==a.Si){c=0;for(var d=Math.floor(Math.random()*a.xa.length),f=0;f<a.xa.length;f++){for(var g={x:a.xa[f][0]/F,y:a.xa[f][1]/F},h=-1,k=0;k<a.s.length;k++){var n=Q(a.s[k].body.g.position,g);if(-1==h||n<h)h=n}h>c&&(c=h,d=f)}c=d}else c=Math.floor(Math.random()*a.xa.length);d=b.slice(0);for(f=0;f<b.length;f++)g=Math.floor(Math.random()*d.length),a.Js(d[g],c+Math.floor(f/b.length*a.xa.length)),d.splice(g,1)}
function Gc(a,b,c,d,f){if("player"==b||"spark"==b||"multi"==b||"boss"==b.slice(b.length-4,b.length)||a.qq<a.pD&&E.Ir)a.uf.push(new tg(b,c,d,f)),a.qq+=4}
l.Js=function(a,b){if(!this.sn){var c=I[a].className;if(!(c.prototype.yf&&this.Ox||this.Kk[a]>=this.ti[a].oD)){if(c.prototype.yf)this.vc=c=new c(this.w.pa,O/F/2,P/F/2,this.xc,this.w),this.Ox=!0;else if(this.xa)var d=this.xa[b%this.xa.length],c=new c(this.w.pa,d[0]/F,d[1]/F,this.xc,this.w);else{var f;.5>Math.random()?(d=.5>Math.random()?-7:O/F+5,f=Math.random()*(P/F+12)-7):(f=.5>Math.random()?-7:P/F+5,d=Math.random()*(O/F+12)-7);d={x:d+2*Math.random(),y:f+2*Math.random()};c=new c(this.w.pa,d.x,d.y,
this.xc,this.w)}rg(this,c)}}};function rg(a,b){a.s.push(b);a.xc+=1;a.Kk[b.type]+=1;b.yf&&(a.vc=b);b.Tm&&!a.nr.hasOwnProperty(b.type)&&(a.nr[b.type]=b.pm)}function ug(a){null==a.ls&&a.Ja.length&&(a.ls=a.Ja.length);for(var b=0;b<a.ls;b++){var c=a.Rr(b);a.Th.push(new Be(c,a.yc,a.ri));a.Zd.push(c);for(var d=0;d<c.length;d++)a.AD.push(c[d]);a.vh.push(Qb(c,a.Na))}for(b=0;b<a.Th.length;b++)for(var c=a.Th[b],d=c.Vi.length-1,f=0;f<c.Vi.length;f++)a.Ze.push({p1:c.Vi[d],p2:c.Vi[f]}),d=f}
l.dh=function(a,b){if(this.Gc&&!this.Aa){a.save();if(null!=this.zj&&4>=this.n){var c=Math.max(this.zj/this.Ny,0);a.globalAlpha*=.3+.2*(1-c);a.strokeStyle=this.M;"HIVE 0-1"!=this.W&&"HIVE 0-2"!=this.W&&(a.save(),a.globalAlpha=.5<c?.3+(1-c):Math.max(0,0+1.6*c),a.beginPath(),a.arc(this.Gc.x*b,this.Gc.y*b,this.vC*(1-c),0,2*Math.PI),a.lineWidth=2+8*c,a.stroke(),a.restore())}else a.globalAlpha=this.w&&this.yj&&4>=this.n?.7*a.globalAlpha:.3*a.globalAlpha;La(a,this.n,this.Gc.x*b,this.Gc.y*b,this.Qk*b,this.yj,
0);this.yj&&this.Fm(a,b);a.restore()}};
l.Y=function(a,b){a.save();if(0<this.Ly){a.save();a.globalAlpha=this.Ly;for(var c=0;c<this.Th.length;c++){var d=this.Th[c].color;this.Th[c].color=this.sC;this.Th[c].Y(a,F);this.Th[c].color=d}a.restore()}if(this.fk){var f=this.yE/this.zE;a.save();a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7);this.sn&&(a.globalAlpha*=Math.max(0,this.xs/this.Qv));J(a,this.fk.x,this.fk.y,0,36,36,"spark_powerup");a.restore()}this.Bf&&(f=this.Op/this.Lz,a.save(),a.globalAlpha*=Math.min(1,(1-2*Math.abs(f-.5))/.7),this.sn&&
(a.globalAlpha*=Math.max(0,this.xs/this.Qv)),c=this.Bf.x,d=this.Bf.y,J(a,c+1,d,0,20,20,"multi_powerup"),a.strokeStyle="white",a.lineWidth=2,a.save(),a.globalAlpha*=.5,a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+.001,!0),a.stroke(),a.restore(),a.beginPath(),a.arc(c,d,15,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*(1-f),!0),a.stroke(),a.restore());this.OD&&(Y.translate(X,0),this.Pe(Y,!0),Y.translate(-X,0),this.OD=!1);1!=this.Nm&&(a.save(),a.globalAlpha*=this.Nm);for(c=0;c<this.uf.length;c++)this.uf[c].Y(a,
b);for(c=0;c<this.s.length;c++)this.s[c].dh(a,b);for(var g in this.nr)for(d=this.nr[g],f=1;f<=d;f++){for(var h=null,c=0;c<this.s.length;c++)this.s[c].type==g&&(null==h&&(h=this.s[c],h.qm(a,b,f)),this.s[c].nm(a,b,f));null!=h&&h.om(a,b,f)}for(c=0;c<this.s.length;c++)this.s[c].Y(a,b);for(c=0;c<this.s.length;c++)this.s[c].Du(a,b);1!=this.Nm&&a.restore();0<=this.XB&&(a.beginPath(),a.arc(O/b/2*b,P/b/2*b,2*this.YB*b,-.5*Math.PI,-.5*Math.PI+this.XB/this.GF*Math.PI*2,!0),a.lineWidth=2,a.strokeStyle="gray",
a.stroke(),a.globalAlpha=1);a.restore()};
l.Pe=function(a){a.save();a.rect(0,0,O,P);a.clip();null!=this.Vm.n?Cb(a,0,O,P,"Hive "+this.Vm.n):(a.fillStyle=x["world 0 bright"],a.fillRect(0,0,O,P));for(var b=0;b<this.Th.length;b++)this.Th[b].Y(a,F);this.Aa?(a.fillStyle=x["world "+this.n+" dark"],a.fillRect(375,0,50,25),a.fillRect(375,575,50,25),a.fillRect(0,275,25,50),a.fillRect(775,275,25,50)):"HIVE 0-3"==this.W?(a.fillStyle=x["world "+this.n+" dark"],a.fillRect(0,0,800,200),a.fillRect(0,400,800,200)):"HIVE 0-4"==this.W&&(a.fillStyle=x["world "+
this.n+" dark"],a.fillRect(0,0,800,50),a.fillRect(0,550,800,50));a.restore()};l.on=function(a){for(var b=0;b<this.vf.length;b++){var c=this.vf[b];c.dd+=a/this.Pr;1<c.dd&&this.vf.splice(b,1)}this.lg-=a;0>this.lg&&(this.lg+=this.Pk,this.kp(this.Gc.x,this.Gc.y,this.Qr))};l.kp=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.vf.push({gw:1.5*Math.cos(f)*this.Qk+a,hw:1.4*Math.sin(f)*this.Qk+b,dd:0})}};
l.Fm=function(a,b){for(var c=0;c<this.vf.length;c++){var d=this.vf[c];a.save();a.globalAlpha=.25>d.dd?4*a.globalAlpha*d.dd:(1-d.dd)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.gw*(1-d.dd)+this.Gc.x*d.dd)-3,b*(d.hw*(1-d.dd)+this.Gc.y*d.dd)-3,6,6);a.fillStyle=x["world "+this.n+" bright"];a.fill();a.restore()}};var N={"HOW TO PLAY":{s:{stunner:[0,4,0,4,1,0,5]},lb:"stunner",Ja:[[[838,84],[-38,84],[-38,-45],[838,-45]],[[-38,175],[42,175],[42,258],[756,258],[756,175],[838,175],[838,645],[-38,645]]],Ka:[[72,225],[728,225],[21,127],[779,127]],xa:[[-100,127],[900,127]],Na:1,za:{normal:[2500,1E4,2E4],easy:[2500,1E4,2E4]},gb:{x:400,y:170},Na:1},"HIVE 0-1":{Mb:{},s:{},Hc:{},Pa:{},lb:"stunner",Ja:[],Ka:[],xa:[],Na:1,kl:50,za:{normal:[0,3E5,12E5]},gb:{x:200,y:300},Gc:{x:600,y:300}},"HIVE 0-2":{Mb:{},s:{},Hc:{},Pa:{},
lb:"stunner",Ja:[[[-50,260],[370,260],[370,360],[-50,360]],[[50,420],[751,420],[750,520],[50,520]],[[850,360],[430,360],[430,260],[850,260]]],Ka:[],xa:[],Na:1,kl:50,za:{normal:[0,3E5,12E5]},gb:{x:400,y:560},Gc:{x:400,y:200}},"HIVE 0-3":{Mb:{dumb_stunner:[0,1,0,1,1,0,1]},s:{dumb_stunner:[0,1,0,1,1,0,1]},Hc:{dumb_stunner:1},Pa:{dumb_stunner:1},lb:"dumb_stunner",Ja:[[[-50,-50],[850,-50],[850,200],[-50,200]],[[-50,400],[850,400],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],
[750,650],[850,650],[850,-50]]],Ka:[],xa:[[200,300]],Na:1,kl:50,za:{easy:[1E3,3E5,12E5],normal:[1E3,3E5,12E5]},gb:{x:100,y:300},Gc:{x:600,y:300},kA:!0},"HIVE 0-4":{Mb:{dumb_stunner:[0,1,0,1,1,0,4]},s:{dumb_stunner:[0,1,0,1,1,0,4]},Hc:{dumb_stunner:4},Pa:{dumb_stunner:4},lb:"dumb_stunner",Ja:[[[-50,-50],[850,-50],[850,50],[-50,50]],[[-50,550],[850,550],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]]],Ka:[[200,200],[600,200],[200,400],[600,400]],
xa:[[300,300],[500,300],[400,200],[400,400]],Na:1,kl:50,za:{easy:[3E3,1E4,2E4],normal:[3E3,1E4,2E4]},gb:{x:400,y:300},Si:"spread",eq:!0},"HIVE 1-1":{Mb:{stunner:[0,5,1,1,2,0,50]},s:{stunner:[0,1,0,1,4,4,50]},Hc:{stunner:2},Pa:{stunner:4},lb:"stunner",Ja:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[144,367],[656,367],[656,626],[144,626]],[[144,-26],[656,-26],[656,233],[144,233]]],Cf:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,
-26]],[[174,400],[626,400],[626,626],[174,626]],[[174,-26],[626,-26],[626,200],[174,200]]],Ka:[[81,75],[81,525],[719,75],[719,525]],nA:[[250,250],[250,350],[550,250],[550,350]],xa:[[50,-100],[750,-100],[50,700],[750,700]],Na:1,kl:50,za:{easy:[2500,5E4,3E5],normal:[5E4,4E5,8E5]},gb:{x:400,y:300}},"HIVE 1-2":{s:{stunner:[3,3,0,3,2,2,25],spear:[0,2.5,.5,1.5,2,0,25]},Mb:{stunner:[2,3,1,1,1,0,25],spear:[0,4,1,1,1,0,25]},Pa:{spear:4,stunner:2},Hc:{spear:1},lb:"spear",Ja:[[[112,-6],[688,-6],[688,26],[112,
26]],[[-9,96],[30,96],[30,505],[-9,505]],[[809,504],[770,504],[770,95],[809,95]],[[688,606],[112,606],[112,574],[688,574]],[[135,126],[330,126],[135,259]],[[135,341],[330,474],[135,474]],[[665,259],[470,126],[665,126]],[[665,474],[470,474],[665,341]]],Ka:[[135,300],[665,300],[400,125],[400,475],[709,78],[91,78],[709,522],[91,522]],xa:[[-50,-50],[850,650],[850,-50],[-50,650]],Na:1,za:{easy:[15E3,8E4,4E5],normal:[15E4,4E5,1E6]},gb:{x:400,y:300}},"HIVE 1-3":{Mb:{stunner:[0,2.5,.5,1,2,0,40],spear:[30,
6,1.5,1.5,1,0,15]},s:{stunner:[0,1,0,1,2,2,40],spear:[20,5,0,5,1,3,15]},Hc:{stunner:4},Pa:{stunner:12},lb:"stunner",Ja:[[[-11,-10],[335,-10],[-11,252]],[[-11,348],[335,610],[-11,610]],[[811,252],[465,-10],[811,-10]],[[811,610],[465,610],[811,348]],[[466,300],[400,348],[335,300],[400,251]]],xa:[[-100,300],[400,-100],[900,300],[400,700]],Ka:[[400,50],[50,300],[400,550],[750,300]],Na:1,za:{easy:[2E4,12E4,6E5],normal:[1E5,3E5,12E5]},gb:{x:400,y:400}},"HIVE 1-4":{Mb:{spear:[0,5,2,1,2,0,40]},s:{spear:[0,
3,0,3,2,3,40]},Pa:{spear:2},Hc:{spear:2},lb:"spear",Ja:[[[-15,73],[265,253],[-15,269]],[[336,426],[362,610],[-15,610]],[[464,175],[438,-10],[815,-10]],[[-15,331],[265,348],[-15,527]],[[815,269],[535,253],[815,73]],[[-15,-10],[362,-10],[336,175]],[[815,610],[438,610],[464,426]],[[815,527],[535,348],[815,331]]],xa:[[-100,14],[900,14],[900,586],[-100,586],[-100,300],[400,-100],[900,300],[400,700]],Ka:[[400,125],[400,475],[125,300],[675,300],[177,145],[623,145],[177,455],[623,455]],Na:1,za:{easy:[3E4,
2E5,75E4],normal:[125E3,4E5,15E5]},gb:{x:400,y:300}},"HIVE 1-5":{s:{spear:[0,6,0,6,2,2,15],tank:[0,4,0,4,2,2,25]},Mb:{spear:[6,6,2,2,1.5,0,15],tank:[0,5,2,1,1,0,25]},lb:"tank",Pa:{spear:8,tank:4},Hc:{tank:6},Ja:[[[103,1],[688,1],[688,27],[103,27]],[[799,483],[770,483],[770,116],[799,116]],[[103,573],[688,573],[688,599],[103,599]],[[1,116],[30,116],[30,483],[1,483]]],xa:[[-100,-100],[900,-100],[900,700],[-100,700]],Ka:[[66,528],[66,72],[734,528],[66,528]],Na:1,za:{easy:[4E4,2E5,6E5],normal:[15E4,4E5,
125E4]},gb:{x:400,y:300}},"HIVE 1-6":{s:{stunner:[0,6,0,6,2,1,25],tank:[0,8,0,8,2,4,25]},Mb:{stunner:[0,6,2,2,1,0,25],tank:[0,8,3,2,1,0,25]},Pa:{tank:4},Hc:{tank:3,stunner:1},lb:"tank",Ja:[[[828,322],[518,8],[554,-32],[823,-32]],[[-28,278],[282,592],[246,632],[-23,632]],[[398,125],[575,300],[399,476],[223,300]],[[107,185],[-25,53],[-25,-34],[325,-34]],[[693,415],[825,547],[825,634],[475,634]]],xa:[[400,-100],[400,700],[-100,150],[900,450]],Ka:[[50,240],[400,15],[400,585],[750,360]],Na:1,za:{easy:[4E4,
2E5,8E5],normal:[15E4,5E5,15E5]},gb:{x:250,y:150}},"HIVE 1-7":{Mb:{stunner:[0,5,1,2,1,0,30],spear:[0,6,1.2,2.4,1,0,15],tank:[0,10,2.5,5,1,0,15]},s:{stunner:[0,4,0,4,2,1,30],spear:[0,5,0,5,2,1,15],tank:[0,8,0,8,2,1,15]},Pa:{stunner:6,spear:2,tank:4},Hc:{stunner:2,spear:1,tank:1},lb:"tank",Ja:[[[243,110],[332,144],[243,179],[153,144]],[[310,-3],[400,-38],[489,-3],[400,31]],[[310,300],[400,265],[489,300],[400,334]],[[88,-38],[177,-3],[88,31],[-2,-3]],[[-2,300],[88,265],[177,300],[88,334]],[[-21,125],
[25,143],[-21,163]],[[-2,603],[88,569],[177,603],[88,638]],[[802,-3],[712,31],[623,-3],[712,-38]],[[-21,437],[25,457],[-21,475]],[[821,163],[775,143],[821,125]],[[153,456],[243,421],[332,456],[243,490]],[[647,144],[557,179],[468,144],[557,110]],[[712,334],[623,300],[712,265],[802,300]],[[557,490],[468,456],[557,421],[647,456]],[[712,638],[623,603],[712,569],[802,603]],[[400,569],[489,603],[400,638],[310,603]],[[821,475],[775,457],[821,437]]],xa:[[-100,50],[-100,300],[-100,550],[900,50],[900,300],
[900,550],[240,-100],[560,-100],[240,700],[560,700]],Ka:[[75,145],[235,34],[565,34],[725,145],[725,455],[565,566],[235,566],[75,455]],Na:1,za:{easy:[5E4,15E4,75E4],normal:[125E3,4E5,15E5]},gb:{x:400,y:450}},"BOSS 1":{s:{"first boss":[0,1,0,1,0,0,1]},Pa:{"first boss":1},lb:"first boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,
575],[775,300],[825,300]]],xa:[[60,62],[60,539],[740,62],[740,539]],Na:1,gb:{x:400,y:550},qu:40},"HIVE 2-1":{Mb:{stunner:[0,5,1.5,2,1,0,15],tank:[15,12,3,3,1,0,15],mote:[0,10,2,4,1,0,25]},s:{stunner:[1,4,0,4,2,2,15],tank:[0,8,0,8,2,1,15],mote:[0,6,0,6,2,2,25]},Pa:{mote:4,tank:2},Hc:{mote:2,stunner:2},lb:"mote",Ja:[[[-12,-8],[815,-8],[815,609],[748,609],[748,50],[51,50],[51,609],[-12,609]],[[176,609],[176,175],[288,174],[286,286],[228,286],[228,540],[566,540],[566,287],[510,286],[510,175],[626,175],
[626,609]],[[324,363],[469,363],[469,466],[324,466]]],Ka:[[400,500],[687,450],[113,450]],xa:[[100,700],[700,700]],Na:1,za:{easy:[6E4,2E5,75E4],normal:[15E4,45E4,175E4]},Si:"separate_by_type",gb:{x:400,y:235}},"HIVE 2-2":{s:{stunner:[3,3,0,3,2,1,30],spear:[0,10,0,10,4,4,20],mote:[0,5,1,2,1,0,20]},Mb:{stunner:[5,5,1,2,1,0,30],spear:[0,12,0,12,2,1,20],mote:[0,9,2,3,1,0,20]},Pa:{spear:4,mote:2},lb:"mote",Ja:[[[-25,253],[143,253],[143,347],[-25,347]],[[825,347],[656,347],[656,253],[825,253]],[[556,347],
[454,347],[454,253],[557,253]],[[244,253],[346,253],[346,347],[243,347]],[[-25,-36],[825,-36],[825,148],[758,148],[758,23],[656,23],[658,148],[555,148],[557,23],[454,23],[455,148],[346,148],[346,23],[243,23],[244,148],[143,148],[143,23],[42,23],[42,148],[-25,148]],[[-25,452],[42,452],[42,577],[143,577],[143,452],[244,452],[243,577],[346,577],[346,452],[455,452],[454,577],[557,577],[555,452],[658,452],[656,577],[758,577],[758,452],[825,452],[825,636],[-25,636]]],xa:[[-100,175],[900,175],[900,425],
[-100,425]],Ka:[[95,85],[295,85],[505,85],[705,85],[95,515],[295,515],[505,515],[705,515]],Na:1,za:{normal:[1E5,3E5,15E5]},gb:{x:400,y:300}},"HIVE 2-3":{Mb:{spear:[0,6,2,2,2,0,30],tank:[0,8,1,2,2,0,30],goo:[0,10,0,10,1,0,1]},s:{spear:[0,8,0,8,4,1,30],tank:[0,8,0,8,4,1,30],goo:[0,10,0,10,1,0,1]},lb:"goo",Ja:[[[169,549],[630,549],[706,621],[91,622]],[[631,51],[170,51],[94,-21],[709,-22]],[[-24,116],[58,184],[56,416],[-24,483]],[[824,484],[743,416],[744,184],[824,117]]],xa:[[-100,-100],[900,-100],[900,
700],[-100,700]],Ka:[[66,528],[66,72],[734,528],[66,528]],Na:1,Pa:{tank:4,spear:8,goo:1},Hc:{tank:6,spear:4,goo:1},Si:"separate_by_type",za:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},gb:{x:400,y:300}},"HIVE 2-4":{s:{stunner:[6,6,0,6,2,2,10],spear:[0,2,.3,1,1.5,0,20],mote:[0,6,2,2,1,0,15],goo:[0,10,0,10,1,0,1]},Mb:{stunner:[8,8,0,8,2,1,10],spear:[0,12,3,2,2,0,20],mote:[0,8,1.5,2,1,0,15],goo:[0,10,0,10,1,0,1]},lb:"goo",Pa:{spear:3,goo:1,mote:2,stunner:2},Hc:{spear:2,goo:1,mote:1,stunner:2},Ja:[[[-33,
-54],[342,-54],[343,201],[191,384],[-33,536]],[[833,536],[609,384],[457,201],[458,-54],[833,-54]],[[526,478],[725,602],[725,641],[75,641],[75,602],[274,478]]],xa:[[400,-100],[-125,700],[925,700]],Ka:[[400,120],[180,460],[620,460]],Na:1,za:{easy:[6E4,2E5,8E5],normal:[175E3,5E5,2E6]},Si:"separate_by_type",gb:{x:400,y:330}},"HIVE 2-5":{Mb:{stunner:[6,6,2,2,1,0,15],mote:[8,8,2,4,1,0,15],harpoon:[0,15,3,6,1,0,15]},s:{stunner:[0,6,0,6,1,2,15],mote:[0,8,1.6,3.2,1,0,15],harpoon:[0,20,4,8,2,0,15]},lb:"harpoon",
Pa:{stunner:2,mote:2,harpoon:2},Hc:{harpoon:1},Ja:[[[-32,-31],[49,-31],[49,631],[-32,631]],[[832,631],[751,631],[751,-31],[832,-31]],[[656,366],[629,366],[629,236],[656,236]],[[144,235],[171,235],[171,364],[144,364]],[[387,235],[414,235],[414,365],[387,365]],[[265,368],[292,368],[292,498],[265,498]],[[535,232],[508,232],[508,102],[535,102]],[[265,102],[292,102],[292,232],[265,232]],[[535,498],[508,498],[508,368],[535,368]],[[659,102],[628,102],[629,18],[414,18],[414,102],[387,102],[387,18],[172,18],
[172,102],[143,102],[145,-34],[659,-33]],[[141,498],[172,498],[171,582],[386,582],[386,498],[414,498],[413,582],[628,582],[628,498],[658,498],[655,634],[141,633]]],Na:1,xa:[[100,-50],[700,-50],[100,650],[700,650]],Ka:[[100,50],[100,300],[100,550],[700,50],[700,300],[700,550]],za:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},gb:{x:400,y:425}},"HIVE 2-6":{s:{spear:[0,10,0,10,2,2,10],tank:[2,15,0,15,2,1,12],goo:[0,15,0,15,1,0,1],harpoon:[0,20,0,20,2,2,12]},Mb:{spear:[0,8,2,4,1,0,10],tank:[2,12,4,3,1,0,12],
goo:[0,20,0,20,1,0,1],harpoon:[0,15,4,6,1,0,12]},lb:"harpoon",Ja:[[[325,276],[374,276],[374,231],[427,231],[427,276],[475,276],[475,324],[426,324],[426,371],[373,371],[373,324],[325,324]],[[832,27],[-31,27],[-31,-18],[832,-18]],[[-32,573],[831,573],[831,618],[-32,618]],[[192,369],[246,369],[246,450],[325,450],[325,502],[192,502]],[[192,98],[325,98],[325,150],[246,150],[246,231],[192,231]],[[-25,98],[111,98],[111,502],[-25,502]],[[825,502],[689,502],[689,98],[825,98]],[[608,231],[554,231],[554,150],
[475,150],[475,98],[608,98]],[[608,502],[475,502],[475,450],[554,450],[554,369],[608,369]]],xa:[[-100,50],[900,50],[-100,550],[900,550]],Ka:[[90,63],[710,63],[90,537],[710,537]],Pa:{spear:4,harpoon:2,goo:1},Na:1,za:{easy:[9E4,25E4,6E5],normal:[2E5,5E5,125E4]},gb:{x:400,y:450}},"HIVE 2-7":{Mb:{stunner:[0,30,0,30,2,1,16],spear:[2,30,0,30,2,1,16],tank:[12,30,0,30,2,1,16],mote:[6,30,0,30,2,1,16],goo:[18,30,0,30,1,0,1],harpoon:[20,30,0,30,2,1,16]},s:{stunner:[0,30,0,30,4,2,16],spear:[22,30,0,30,4,2,16],
tank:[2,30,0,30,4,2,16],mote:[6,30,0,30,4,2,16],goo:[16,30,0,30,1,0,1],harpoon:[10,30,0,30,4,2,16]},lb:"harpoon",Ja:[[[830,52],[-29,52],[-29,-27],[830,-27]],[[-30,548],[829,548],[829,627],[-30,627]],[[-30,133],[307,133],[307,186],[54,186],[54,415],[307,415],[307,467],[-30,466]],[[830,466],[493,467],[493,415],[746,415],[746,186],[493,186],[493,133],[830,133]],[[229,275],[571,275],[571,325],[229,325]]],xa:[[-100,100],[900,100],[-100,500],[900,500]],Ka:[[200,93],[600,93],[200,507],[600,507]],Na:1,za:{easy:[1E5,
3E5,1E6],normal:[2E5,75E4,225E4]},Pa:{stunner:4},gb:{x:400,y:400}},"BOSS 2":{s:{"second boss":[0,1,0,1,0,0,1],stunner:[0,10,0,10,0,0,12],spear:[0,10,0,10,0,0,8],tank:[0,10,0,10,0,0,8],mote:[0,10,0,10,0,0,8],goo:[0,10,0,10,0,0,1],harpoon:[0,10,0,10,0,0,8]},Pa:{"second boss":1},lb:"second boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,
575],[775,575],[775,300],[825,300]]],xa:[[60,62],[60,539],[740,62],[740,539]],Na:1,gb:{x:400,y:500},qu:60},"HIVE 3-1":{Mb:{stunner:[7,12,2,6,2,0,20],tank:[8,12,3,3,1,0,10],mote:[6,12,2,4,1,0,15],fighter:[0,24,4,8,1,0,12]},s:{stunner:[0,10,1.5,4,4,0,20],tank:[0,12,2.4,4.8,1,0,10],mote:[0,12,2.4,4.8,1,0,15],fighter:[0,15,3,6,1,0,12]},lb:"fighter",Ja:[[[304,274],[426,204],[496,326],[374,396]],[[72,212],[193,142],[263,263],[142,333]],[[242,507],[363,437],[433,558],[312,628]],[[558,93],[437,163],[367,
42],[488,-28]],[[728,388],[607,458],[537,337],[658,267]],[[326,31],[204,101],[134,-20],[256,-90]],[[474,569],[596,499],[666,620],[544,690]],[[10,444],[131,374],[201,496],[80,566]],[[790,156],[669,226],[599,104],[720,34]],[[-160,150],[-39,80],[31,201],[-90,271]],[[960,450],[839,520],[769,399],[890,329]]],Cf:[[[314,277],[423,214],[486,323],[377,386]],[[82,215],[190,152],[253,260],[145,323]],[[252,510],[360,447],[423,555],[315,618]],[[548,90],[440,153],[377,45],[485,-18]],[[718,385],[610,448],[547,340],
[655,277]],[[316,28],[207,91],[144,-17],[253,-80]],[[484,572],[593,509],[656,617],[547,680]],[[20,447],[128,384],[191,493],[83,556]],[[780,153],[672,216],[609,107],[717,44]],[[-150,153],[-42,90],[21,198],[-87,261]],[[950,447],[842,510],[779,402],[887,339]]],xa:[[-100,360],[-100,-100],[900,200],[900,700],[200,700],[400,700],[360,-100],[600,-100]],Ka:[[586,50],[83,88],[205,548],[715,515],[728,260],[83,330]],Na:.8,za:{easy:[125E3,4E5,1E6],normal:[25E4,75E4,225E4]},Pa:{fighter:1,tank:1,mote:1,stunner:4},
Hc:{fighter:1,stunner:2},wh:!0,gb:{x:250,y:380}},"HIVE 3-2":{s:{spear:[0,6,0,6,2,1,20],goo:[1,15,0,15,1,0,1],fighter:[0,18,0,18,2,2,12],harpoon:[0,15,3,6,1,0,12]},Mb:{spear:[10,10,1.5,3,1,0,20],goo:[0,15,0,15,1,0,1],fighter:[0,24,4,8,2,0,12],harpoon:[0,20,3,9,1,0,12]},lb:"fighter",Ja:[[[438,472],[393,455],[380,425],[413,411]],[[488,230],[474,198],[505,185],[548,205]],[[572,262],[555,307],[525,320],[512,287]],[[228,338],[245,293],[275,280],[288,313]],[[312,370],[326,402],[295,415],[252,395]],[[470,
388],[502,374],[515,405],[495,448]],[[330,212],[298,226],[285,195],[305,152]],[[362,128],[407,145],[420,175],[387,189]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,
27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],Cf:[[[433,467],[395,453],[384,427],[412,416]],[[490,226],[479,199],[505,188],[541,205]],[[567,267],[553,305],[527,316],[516,288]],[[233,333],[247,295],[273,284],[284,312]],[[310,374],[321,401],[295,412],[259,395]],[[474,390],[501,379],[512,405],[495,441]],[[326,210],[299,221],[288,195],[305,159]],[[367,133],[405,147],[416,173],[388,184]],[[739,714],[628,449],[692,422],[665,357],[855,279],
[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],xa:[[-156,410],[-78,605],[110,-102],[317,-187],[886,-23],
[972,193],[706,742],[482,820]],Ka:[[190,84],[613,89],[610,521],[186,503]],Na:1,za:{easy:[125E3,3E5,1E6],normal:[3E5,8E5,2E6]},Pa:{fighter:2,spear:2,harpoon:1},Hc:{fighter:2,harpoon:1,goo:1},wh:!0,gb:{x:370,y:380}},"HIVE 3-3":{s:{tank:[0,10,2,4,1,0,20],harpoon:[0,16,4,6,1,0,15],mote:[0,8,1.6,3.2,1,0,10],disabler:[0,10,1,1,1,0,1]},Mb:{tank:[6,12,3,3,1,0,20],harpoon:[8,16,3,6,1,0,15],mote:[0,10,2,4,1,0,10],disabler:[0,5,0,5,1,0,1]},lb:"disabler",Ja:[[[-14,343],[25,439],[175,439],[250,239],[325,439],
[475,439],[550,239],[625,439],[775,439],[811,341],[850,629],[-50,629]],[[850,161],[775,161],[700,361],[625,161],[475,161],[400,361],[325,161],[175,161],[100,361],[25,161],[-50,161],[-50,-21],[850,-21]]],Cf:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],xa:[[-100,166],[900,166]],Ka:[[100,402],[700,
402],[25,299],[775,299]],Na:1.3,za:{easy:[125E3,3E5,9E5],normal:[25E4,6E5,175E4]},Pa:{disabler:1,harpoon:1,tank:2,mote:2},Hc:{disabler:1,mote:2},wh:!0,gb:{x:400,y:400}},"HIVE 3-4":{s:{spear:[0,4,0,4,2,2,15],fighter:[0,10,0,10,2,1,10],mote:[0,8,0,8,2,1,20],disabler:[0,10,0,10,1,0,1]},Mb:{spear:[0,6,1,3,2,0,15],fighter:[0,20,3,6,2,0,10],mote:[0,10,0,10,2,1,20],disabler:[0,5,0,5,1,0,1]},lb:"disabler",Ja:[[[424,337],[540,368],[555,310],[613,326],[582,441],[640,457],[624,515],[509,484],[493,541],[436,
526],[467,410],[409,395]],[[420,584],[536,615],[551,558],[609,573],[578,689],[405,642]],[[428,90],[544,121],[559,63],[617,78],[586,194],[644,209],[629,267],[513,236],[498,294],[440,279],[471,163],[413,147]],[[177,333],[292,364],[308,306],[366,322],[335,437],[393,453],[377,510],[262,479],[246,537],[188,522],[219,406],[161,391]],[[173,580],[288,611],[304,553],[362,569],[331,685],[157,638]],[[181,86],[297,117],[312,59],[370,74],[339,190],[397,205],[381,263],[266,232],[250,290],[192,274],[223,159],[166,
143]],[[401,-42],[385,16],[270,-15],[254,43],[197,27],[228,-89]],[[648,-38],[633,20],[517,-11],[502,47],[444,31],[475,-84]],[[671,341],[787,372],[802,314],[860,330],[829,445],[887,461],[871,519],[756,488],[740,545],[683,530],[714,414],[656,399]],[[895,-34],[880,24],[764,-7],[749,51],[691,35],[722,-80]],[[154,-46],[138,12],[23,-19],[7,39],[-50,23],[-19,-93]],[[667,588],[783,619],[798,562],[856,577],[825,693],[652,646]],[[-66,82],[50,113],[65,55],[123,70],[92,186],[150,201],[134,259],[19,228],[3,286],
[-55,270],[-24,155],[-81,139]],[[-74,576],[41,607],[57,549],[115,565],[84,681],[-90,634]],[[-70,329],[45,360],[61,302],[119,318],[88,433],[146,449],[130,506],[15,475],[-1,533],[-59,518],[-28,402],[-86,387]],[[675,94],[791,125],[806,67],[864,82],[833,198],[891,213],[876,271],[760,240],[745,298],[687,283],[718,167],[660,151]]],Cf:[[[434,346],[538,374],[552,322],[604,336],[576,439],[628,454],[614,506],[511,478],[496,529],[445,516],[473,412],[421,398]],[[430,587],[534,615],[548,563],[600,577],[572,681],
[416,639]],[[438,99],[542,127],[556,75],[608,88],[580,192],[632,206],[619,258],[515,230],[501,282],[449,269],[477,165],[425,150]],[[187,342],[291,370],[305,318],[357,332],[329,435],[381,450],[367,501],[264,473],[249,525],[197,512],[225,408],[173,394]],[[183,583],[286,611],[301,558],[353,573],[325,677],[168,635]],[[191,95],[295,123],[309,71],[361,84],[333,188],[385,202],[371,254],[268,226],[253,278],[201,264],[229,161],[178,146]],[[390,-39],[375,13],[272,-14],[258,38],[206,23],[234,-81]],[[637,-35],
[623,17],[519,-10],[505,42],[453,27],[481,-76]],[[681,350],[785,378],[799,326],[851,340],[823,443],[875,458],[861,510],[758,482],[743,533],[692,520],[720,416],[668,402]],[[884,-31],[870,21],[766,-6],[752,46],[700,31],[728,-72]],[[143,-43],[128,9],[25,-18],[11,34],[-41,19],[-13,-85]],[[677,591],[781,619],[795,567],[847,581],[819,685],[663,643]],[[-56,91],[48,119],[62,67],[114,80],[86,184],[138,198],[124,250],[21,222],[6,274],[-46,260],[-18,157],[-69,142]],[[-64,579],[39,607],[54,554],[106,569],[78,
673],[-79,631]],[[-60,338],[44,366],[58,314],[110,328],[82,431],[134,446],[120,497],[17,469],[2,521],[-50,508],[-22,404],[-74,390]],[[685,103],[789,131],[803,79],[855,92],[827,196],[879,210],[866,262],[762,234],[748,286],[696,273],[724,169],[672,154]]],xa:[[-692,162],[958,574],[-114,43],[958,327],[-139,277],[941,70],[-125,530],[105,743],[-125,530],[344,745],[456,-148],[597,738],[203,-140]],Ka:[[159,48],[646,551],[151,544],[653,58]],Na:.8,za:{normal:[3E5,6E5,2E6]},gb:{x:400,y:300},Pa:{spear:3,fighter:2,
mote:2,disabler:1},Hc:{fighter:2,spear:2,disabler:1}},"HIVE 3-6":{s:{spear:[0,10,0,10,2,2,8],tank:[0,12,0,12,2,2,8],harpoon:[0,12,2.4,4.8,1,0,8],troll:[0,10,0,10,2,2,10]},Mb:{spear:[12,12,2,4,2,0,8],tank:[15,15,2.5,4,1,0,8],harpoon:[24,24,4,8,1,0,8],troll:[0,14,2,4,2,0,10]},lb:"troll",Ja:[[[350,123],[400,90],[450,123],[400,156]],[[256,300],[223,350],[190,300],[223,250]],[[400,444],[450,477],[400,510],[350,477]],[[577,250],[610,300],[577,350],[544,300]],[[400,350],[250,450],[350,300],[250,150],[400,
250],[550,150],[450,300],[550,450]],[[350,-54],[450,-54],[550,96],[400,-4],[250,96]],[[-4,123],[46,90],[96,123],[46,156]],[[46,444],[96,477],[46,510],[-4,477]],[[754,156],[704,123],[754,90],[804,123]],[[804,477],[754,510],[704,477],[754,444]],[[46,-4],[-41,55],[-4,-54],[96,-54],[196,96]],[[250,504],[400,604],[550,504],[450,654],[350,654]],[[196,150],[96,300],[196,450],[46,350],[-47,412],[-4,300],[-44,190],[46,250]],[[604,450],[704,300],[604,150],[754,250],[847,188],[804,300],[844,410],[754,350]],
[[196,504],[96,654],[-4,654],[-41,545],[46,604]],[[604,96],[704,-54],[804,-54],[841,55],[754,-4]],[[754,604],[841,545],[804,654],[704,654],[604,504]]],Cf:[[[355,123],[400,93],[445,123],[400,153]],[[253,300],[223,345],[193,300],[223,255]],[[400,447],[445,477],[400,507],[355,477]],[[577,255],[607,300],[577,345],[547,300]],[[400,345],[265,435],[355,300],[265,165],[400,255],[535,165],[445,300],[535,435]],[[355,-47],[445,-47],[535,88],[400,-2],[265,88]],[[1,123],[46,93],[91,123],[46,153]],[[46,447],[91,
477],[46,507],[1,477]],[[754,153],[709,123],[754,93],[799,123]],[[799,477],[754,507],[709,477],[754,447]],[[47,-3],[-31,50],[2,-48],[92,-48],[182,87]],[[265,512],[400,602],[535,512],[445,647],[355,647]],[[182,165],[92,300],[182,435],[47,345],[-36,401],[2,300],[-34,201],[47,255]],[[618,435],[708,300],[618,165],[753,255],[836,199],[798,300],[834,399],[753,345]],[[182,513],[92,648],[2,648],[-31,550],[47,603]],[[618,87],[708,-48],[798,-48],[831,50],[753,-3]],[[753,603],[831,550],[798,648],[708,648],[618,
513]]],xa:[[222,652],[-120,123],[-120,477],[920,123],[920,477],[222,-52],[578,652],[578,-52]],Ka:[[223,58],[223,543],[577,58],[577,543]],Na:1,za:{easy:[2E5,4E5,9E5],normal:[3E5,6E5,175E4]},gb:{x:400,y:400},Pa:{tank:1,spear:1,harpoon:1,troll:2},Hc:{troll:2,tank:1,harpoon:1}},"HIVE 3-5":{s:{stunner:[0,8,0,8,2,2,15],mote:[0,10,2,4,1,1,15],fighter:[7,20,4,8,1,1,10],troll:[0,10,0,10,2,2,10]},Mb:{stunner:[5,10,0,10,1,1,15],mote:[0,15,2.5,6,1,0,15],fighter:[10,20,3,8,2,0,10],troll:[0,15,2.5,4,2,0,10]},lb:"troll",
Ka:[[100,100]],Ja:[[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[531,313],[525,325],[479,305],[498,259],[359,202],[340,248],[294,229],[300,216],[411,170],[486,201]],[[269,287],[275,275],[321,295],[302,341],[441,398],[460,352],[506,371],[500,384],[389,430],[314,
399]],[[828,504],[826,846],[-76,645],[-33,148],[136,218],[118,264],[163,284],[145,329],[99,310],[41,449],[178,506],[198,460],[245,479],[226,525],[364,582],[383,536],[430,556],[410,601],[606,520],[560,501],[579,455],[625,475],[645,428]],[[-28,96],[-26,-246],[876,-45],[833,452],[664,382],[682,336],[637,316],[655,271],[701,290],[759,151],[622,94],[602,140],[555,121],[574,75],[436,18],[417,64],[370,44],[390,-1],[194,80],[240,99],[221,145],[175,125],[155,172]]],Cf:[[[513,482],[468,464],[449,509],[402,
491],[408,478],[519,431],[533,436]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[269,287],[316,307],[302,341],[441,398],[454,365],[500,384],[389,430],[314,399]],[[531,313],[484,293],[498,259],[359,202],[345,235],[300,216],[411,170],[486,201]],[[-26,81],[-26,-246],[876,-45],[839,439],[669,369],[682,336],[659,327],[678,281],[701,
290],[759,151],[622,94],[612,119],[565,99],[574,75],[436,18],[426,42],[380,23],[390,-1],[194,80],[217,88],[198,135],[175,125],[162,159]],[[826,519],[826,846],[-76,645],[-40,160],[132,231],[118,264],[141,273],[122,319],[99,310],[41,449],[178,506],[188,481],[235,501],[226,525],[364,582],[374,558],[420,577],[410,601],[606,520],[583,512],[602,465],[625,475],[638,441]]],xa:[[-103,88],[923,515]],Ka:[[318,106],[482,495],[214,222],[586,379],[202,383],[598,218]],Na:1,za:{easy:[2E5,4E5,8E5],normal:[4E5,75E4,
15E5]},Pa:{troll:2,stunner:2,mote:2},Si:"separate_by_type",Hc:{troll:2,mote:2},gb:{x:400,y:300}},"HIVE 3-7":{s:{stunner:[4,30,0,30,2,1,10],spear:[18,30,0,30,4,2,10],tank:[8,30,0,30,2,2,8],mote:[16,30,0,30,2,2,10],goo:[10,30,0,30,1,0,1],harpoon:[2,30,0,30,4,4,6],fighter:[12,30,0,30,2,1,6],disabler:[20,30,0,30,1,0,1],troll:[0,30,0,30,4,2,10]},lb:"troll",Ja:[[[373,606],[439,691],[-20,688],[-20,-44],[211,-23],[206,-2],[17,459]],[[427,-6],[361,-91],[820,-88],[820,644],[589,623],[594,602],[783,141]],[[309,
78],[200,340],[144,363],[285,22],[626,163],[569,187]],[[600,260],[656,237],[515,578],[175,436],[230,413],[492,521]],[[468,364],[448,318],[467,272],[422,254],[402,207],[513,253]],[[332,236],[352,282],[333,328],[378,346],[398,393],[287,347]]],xa:[[163,-99],[284,-112],[516,712],[638,699]],Ka:[[171,492],[105,319],[629,109],[695,282]],Na:1.5,za:{easy:[25E4,5E5,1E6],normal:[4E5,8E5,2E6]},Pa:{troll:4},wh:!0,gb:{x:400,y:300}},"BOSS 3":{s:{"third boss":[0,1,0,1,1,0,1],stunner:[0,6,0,6,0,0,15],spear:[0,10,
0,10,0,0,10],tank:[0,12,0,12,0,0,10],troll:[0,8,0,8,0,0,10],goo:[0,12,0,12,0,0,2],mote:[0,8,0,8,0,0,10],disabler:[0,10,0,10,0,0,2],harpoon:[0,15,0,15,0,0,10]},lb:"third boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],xa:[[60,62],[60,539],[740,62],[740,539]],Na:1,gb:{x:400,y:500},qu:60,Pa:{"third boss":1}},
"HIVE 4-1":{s:{spear:[4,16,0,16,2,2,10],troll:[8,16,0,16,2,1,10],tank:[12,16,0,16,2,1,10],harpoon:[16,16,0,16,2,1,10],slingshot:[0,8,0,8,2,1,20]},Mb:{spear:[6,28,0,28,2,1,10],troll:[13,28,0,28,2,1,10],tank:[20,28,0,28,2,1,10],harpoon:[27,28,0,28,2,1,10],slingshot:[0,8,1,4,1,0,20]},lb:"slingshot",Ja:[[[-7,472],[61,471],[96,527],[61,581],[-7,581],[-41,526]],[[93,299],[59,354],[-9,354],[-44,300],[-9,244],[59,245]],[[329,74],[363,19],[431,19],[466,73],[431,129],[363,128]],[[621,466],[553,467],[518,411],
[553,357],[621,357],[655,412]],[[841,526],[807,581],[739,581],[704,527],[739,471],[807,472]],[[179,135],[247,134],[282,190],[247,244],[179,244],[145,189]],[[145,412],[179,357],[247,357],[282,411],[247,467],[179,466]],[[741,245],[809,244],[844,300],[809,354],[741,354],[707,299]],[[744,20],[812,19],[847,75],[812,129],[744,129],[710,74]],[[330,303],[364,248],[432,248],[467,302],[432,358],[364,357]],[[363,473],[431,472],[466,528],[431,582],[363,582],[329,527]],[[655,189],[621,244],[553,244],[518,190],
[553,134],[621,135]],[[90,74],[56,129],[-12,129],[-47,75],[-12,19],[56,20]]],Na:.5,za:{easy:[25E4,6E5,15E5],normal:[5E5,125E4,3E6]},Pa:{slingshot:2},Hc:{slingshot:1},gb:{x:400,y:415},Ka:[[210,75],[590,75],[210,525],[590,525]],xa:[[-75,180],[-75,420],[215,650],[585,650],[215,-50],[585,-50],[875,180],[875,420]],wh:!0},"HIVE 4-2":{Mb:{stunner:[8,8,1.2,2.4,1,0,15],mote:[7,14,2,4,1,0,10],fighter:[0,25,4,9,1,0,8],slingshot:[0,18,3,6,2,0,15],goo:[1,15,0,15,1,0,1]},s:{stunner:[0,6,0,6,2,1,15],mote:[0,8,1.5,
3,1,0,10],fighter:[0,15,3,6,1,0,8],slingshot:[0,5,.75,3,1,0,15],goo:[1,15,0,15,1,0,1]},lb:"slingshot",Ja:[[[282,254],[311,254],[311,280],[338,280],[338,319],[312,319],[312,347],[282,347]],[[354,418],[354,389],[380,389],[380,362],[419,362],[419,388],[447,388],[447,418]],[[447,182],[447,212],[419,212],[419,238],[380,238],[380,211],[354,211],[354,182]],[[820,619],[605,619],[605,542],[642,542],[642,505],[820,505]],[[282,619],[282,542],[354,542],[354,505],[447,505],[446,542],[518,542],[518,619]],[[820,
418],[642,418],[642,346],[605,346],[605,253],[642,254],[642,182],[820,182]],[[-20,505],[158,505],[158,542],[195,542],[195,619],[-20,619]],[[-20,-19],[195,-19],[195,58],[158,58],[158,95],[-20,95]],[[820,95],[642,95],[642,58],[605,58],[605,-19],[820,-19]],[[518,347],[488,347],[488,319],[462,319],[462,280],[489,280],[489,254],[518,254]],[[-20,182],[158,182],[158,254],[195,253],[195,346],[158,346],[158,418],[-20,418]],[[518,-19],[518,58],[446,58],[447,95],[354,95],[354,58],[282,58],[282,-19]]],Cf:[[[345,
447],[345,412],[376,412],[376,379],[423,379],[423,411],[456,411],[456,447]],[[-94,536],[120,536],[120,580],[164,580],[164,673],[-94,673]],[[547,356],[511,356],[511,323],[479,323],[479,276],[512,276],[512,245],[547,245]],[[456,153],[456,189],[423,189],[423,221],[376,221],[376,188],[345,188],[345,153]],[[253,245],[288,245],[288,276],[321,276],[321,323],[289,323],[289,356],[253,356]],[[-94,-73],[164,-73],[164,20],[120,20],[120,64],[-94,64]],[[894,673],[636,673],[636,580],[680,580],[680,536],[894,536]],
[[894,64],[680,64],[680,20],[636,20],[636,-73],[894,-73]],[[904,447],[680,447],[680,355],[636,355],[636,244],[680,245],[680,153],[904,153]],[[-104,153],[120,153],[120,245],[164,245],[164,356],[120,355],[120,447],[-104,447]],[[253,673],[253,580],[345,580],[344,536],[455,536],[455,580],[547,580],[547,673]],[[547,-73],[547,20],[455,20],[455,64],[344,64],[345,20],[253,20],[253,-73]]],xa:[[-100,450],[-100,150],[900,450],[900,150],[240,-100],[560,-100],[240,700],[560,700]],Ka:[[114,150],[114,451],[686,
150],[686,451],[561,41],[561,560],[239,41],[239,560]],nA:[[61,107],[61,493],[739,107],[739,493]],Na:1,za:{normal:[5E5,15E5,3E6]},Pa:{stunner:2,mote:2,slingshot:2,fighter:1},Hc:{slingshot:2,fighter:1},wh:!0,gb:{x:400,y:300}},"HIVE 4-3":{Mb:{spear:[20,20,4,8,1,0,10],tank:[17,20,4,8,1,0,15],mote:[14,20,4,8,1,0,10],harpoon:[17,25,5,10,1,0,10],orbiter:[0,12,1.5,6,1,0,15]},s:{spear:[6,12,2.4,4.8,1,0,10],tank:[4,12,2.4,4.8,1,0,15],mote:[2,12,2.4,4.8,1,0,10],harpoon:[4,15,3,6,1,0,10],orbiter:[0,12,0,12,2,
1,15]},lb:"orbiter",Ka:[[159,301],[641,301],[208,94],[208,507],[592,94],[592,507]],Ja:[[[309,161],[492,161],[492,249],[456,249],[456,199],[343,199],[343,249],[309,249]],[[309,351],[343,351],[343,401],[456,401],[456,351],[492,351],[492,440],[309,440]],[[230,209],[230,392],[141,392],[141,356],[191,356],[191,243],[141,243],[141,209]],[[571,391],[571,208],[659,208],[659,244],[609,244],[609,357],[659,357],[659,391]],[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],
[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,119],[191,119],[191,158],[37,158],[37,442],[191,442],[191,480],[-40,480]],[[840,481],[609,481],[609,442],[763,442],[763,158],[609,158],[609,120],[840,120]]],Cf:[[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,120],[141,119],[141,158],[37,158],[37,442],[141,442],[141,481],[-40,481]],[[840,480],[659,481],[659,
442],[763,442],[763,158],[659,158],[659,119],[840,119]],[[481,269],[447,269],[447,219],[354,219],[354,269],[318,269],[318,180],[481,180]],[[481,420],[318,420],[318,331],[354,331],[354,381],[447,381],[447,331],[481,331]],[[568,381],[568,218],[657,218],[657,254],[607,254],[607,347],[656,347],[657,381]],[[232,219],[232,382],[143,382],[143,346],[193,346],[193,253],[144,253],[143,219]]],xa:[[-100,-100],[-100,700],[900,700],[900,-100]],Na:1.3,za:{normal:[4E5,12E5,25E5]},Pa:{orbiter:2},Hc:{orbiter:1},wh:!0,
gb:{x:400,y:300}},"HIVE 4-4":{Mb:{goo:[2,20,0,20,1,0,1],troll:[4,15,3,6,1,0,5],fighter:[2,25,4,9,1,0,5],slingshot:[1,15,3,6,1,0,5],orbiter:[0,15,3,6,1,0,10]},s:{goo:[2,30,0,30,1,0,1],troll:[4,15,0,15,2,1,5],fighter:[2,15,3,6,1,0,5],slingshot:[1,12,2.4,4.8,1,0,5],orbiter:[0,12,0,12,2,2,10]},lb:"orbiter",Ja:[[[51,190],[76,190],[76,215],[51,215]],[[126,190],[151,190],[151,215],[126,215]],[[351,190],[376,190],[376,215],[351,215]],[[426,190],[451,190],[451,215],[426,215]],[[676,215],[651,215],[651,190],
[676,190]],[[751,215],[726,215],[726,190],[751,190]],[[237,115],[262,115],[262,140],[237,140]],[[488,140],[313,140],[313,115],[488,115]],[[563,140],[538,140],[538,115],[563,115]],[[-27,-30],[830,-30],[830,54],[-27,54]],[[-27,546],[830,546],[830,630],[-27,630]],[[237,460],[262,460],[262,485],[237,485]],[[488,485],[313,485],[313,460],[488,460]],[[563,485],[538,485],[538,460],[563,460]],[[751,410],[726,410],[726,385],[751,385]],[[676,410],[651,410],[651,385],[676,385]],[[426,385],[451,385],[451,410],
[426,410]],[[351,385],[376,385],[376,410],[351,410]],[[126,385],[151,385],[151,410],[126,410]],[[51,385],[76,385],[76,410],[51,410]],[[51,460],[188,460],[188,485],[51,485]],[[749,140],[612,140],[612,115],[749,115]],[[749,485],[612,485],[612,460],[749,460]],[[51,115],[188,115],[188,140],[51,140]],[[201,385],[301,385],[301,410],[201,410]],[[599,216],[499,216],[499,190],[599,191]],[[599,410],[499,410],[499,385],[599,385]],[[201,191],[301,190],[301,216],[201,216]]],Cf:[[[327,190],[364,190],[364,215],
[327,215]],[[439,190],[477,190],[477,215],[439,215]],[[156,115],[193,115],[193,140],[156,140]],[[532,140],[270,140],[270,115],[532,115]],[[645,140],[607,140],[607,115],[645,115]],[[-51,-30],[847,-30],[847,54],[-51,54]],[[156,460],[193,460],[193,485],[156,485]],[[532,485],[270,485],[270,460],[532,460]],[[645,485],[607,485],[607,460],[645,460]],[[439,385],[477,385],[477,410],[439,410]],[[327,385],[364,385],[364,410],[327,410]],[[102,385],[252,385],[252,410],[102,410]],[[699,216],[549,216],[549,190],
[699,191]],[[699,410],[549,410],[549,385],[699,385]],[[102,191],[252,190],[252,216],[102,216]],[[-51,546],[847,546],[847,630],[-51,630]]],xa:[[-100,350],[900,350],[-100,250],[900,250]],Ka:[[117,83],[117,518],[683,83],[683,518]],Na:1,za:{normal:[5E5,1E6,2E6]},Pa:{orbiter:2},wh:!0,gb:{x:400,y:300}},"HIVE 4-6":{s:{tank:[2,12,0,12,2,1,15],mote:[3,10,0,10,2,1,15],harpoon:[5,14,0,14,2,1,10],fighter:[1,18,0,18,2,1,6],disabler:[0,16,0,16,1,0,1],deathray:[30,30,6,12,1,0,3]},Mb:{tank:[2,15,3,6,1,0,15],mote:[4,
12,2.5,4,1,0,15],harpoon:[6,18,3,6,1,0,10],fighter:[8,24,4,8,1,0,6],disabler:[0,16,0,16,1,0,1],deathray:[40,40,8,24,1,0,3]},lb:"deathray",Ja:[[[-50,393],[-55,-44],[846,-44],[846,38],[652,38],[584,179],[683,394],[608,393],[509,178],[578,37],[382,38],[314,179],[413,393],[338,393],[239,178],[308,37],[112,38],[44,178],[143,393]],[[850,207],[855,644],[-46,644],[-46,562],[150,563],[216,422],[117,206],[192,207],[291,422],[222,563],[420,563],[486,422],[387,207],[462,207],[561,422],[492,563],[690,563],[756,
422],[657,207]],[[150,87],[225,88],[192,154],[116,154]],[[420,87],[495,87],[462,154],[387,154]],[[-46,447],[144,447],[112,513],[-46,513]],[[846,153],[656,153],[688,87],[846,87]],[[650,513],[575,512],[608,446],[684,446]],[[380,513],[305,513],[338,446],[413,446]]],Cf:[[[-46,447],[139,447],[107,513],[-46,513]],[[846,153],[661,153],[693,87],[846,87]],[[850,207],[855,644],[-46,644],[-46,562],[155,563],[221,422],[123,207],[186,207],[286,422],[217,563],[425,563],[491,422],[392,207],[457,207],[556,422],[487,
563],[695,563],[761,422],[662,207]],[[-50,393],[-55,-44],[846,-44],[846,38],[645,37],[579,178],[677,393],[614,393],[514,178],[583,37],[375,37],[309,178],[408,393],[343,393],[244,178],[313,37],[105,37],[39,178],[138,393]],[[377,513],[313,512],[343,446],[408,447]],[[423,87],[487,88],[457,154],[392,153]],[[613,448],[679,448],[647,512],[583,512]],[[187,152],[121,152],[153,88],[217,88]]],xa:[[-100,420],[900,180],[-100,540],[900,60]],Ka:[[174,421],[626,180],[714,422],[86,179]],Na:1,za:{easy:[3E5,1E6,25E5],
normal:[5E5,1E6,25E5]},Pa:{deathray:1,disabler:1},wh:!0,gb:{x:400,y:300}},"HIVE 4-5":{Mb:{stunner:[11,8,2,3,1,0,40],spear:[15,10,2,4,1,0,20],troll:[15,20,4,8,1,0,10],slingshot:[13,20,4,8,1,0,10],orbiter:[10,15,3,6,1,0,10],deathray:[30,30,5,10,1,1,3]},s:{stunner:[2,8,0,8,2,2,40],spear:[1,10,2,4,1,1,20],troll:[5,15,3,6,1,1,10],slingshot:[3,15,3,6,1,1,10],orbiter:[1,8,1.6,3.2,1,1,10],deathray:[30,30,6,12,1,1,3]},lb:"deathray",Ka:[[82,69],[82,532],[718,69],[718,532]],Ja:[[[326,261],[326,339],[284,362],
[284,238]],[[516,238],[516,362],[474,339],[474,261]],[[521,180],[484,216],[316,216],[279,180]],[[279,420],[316,384],[484,384],[521,420]],[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Cf:[[[234,209],[234,391],[164,427],[164,
173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],xa:[[-100,-100],[900,-100],[900,700],[-100,700]],Na:.8,za:{normal:[6E5,12E5,25E5]},Pa:{deathray:1},wh:!0,gb:{x:400,y:300}},"HIVE 4-7":{Mb:{stunner:[2,30,6,12,2,0,6],spear:[4,30,6,12,2,0,6],tank:[6,25,5,10,1,0,5],
mote:[10,25,5,10,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[18,40,8,16,1,0,6],fighter:[12,40,8,16,1,0,4],disabler:[14,15,3,6,1,0,1],troll:[16,30,6,12,1,0,4],slingshot:[28,40,8,16,1,0,4],orbiter:[22,30,6,12,1,0,5],deathray:[45,45,9,18,1,0,3]},s:{stunner:[1,20,3,8,4,0,6],spear:[3,20,3,8,4,0,6],tank:[4,25,4,9,3,0,5],mote:[5,20,3,12,3,0,6],goo:[8,20,0,20,1,0,1],harpoon:[10,25,5,10,1,0,6],fighter:[6,25,5,10,1,0,4],disabler:[9,15,0,15,1,0,1],troll:[8,20,3,12,2,0,4],slingshot:[2,25,5,10,1,0,4],orbiter:[2,20,
3,8,2,0,5],deathray:[31,30,6,12,1,0,3]},lb:"deathray",Ja:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[277,208],[335,208],[335,243],[277,243]],[[277,358],[335,358],[335,393],[277,393]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,
58]],[[523,243],[466,243],[466,208],[523,208]],[[523,393],[466,393],[466,358],[523,358]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[370,433],[430,433],[430,468],[370,468]],[[430,168],[370,168],[370,133],[430,133]],[[185,283],[245,283],[245,318],[185,316]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,
283]],[[615,316],[555,318],[555,283],[615,283]],[[430,318],[370,318],[370,283],[430,283]]],Cf:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[-32,358],[150,358],[150,393],[-34,393]],
[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[430,243],[369,243],[369,208],[430,208]],[[466,283],[527,283],[527,318],[466,318]],[[334,318],[273,318],[273,283],[334,283]],[[430,392],[369,392],[369,357],[430,357]]],xa:[[869,37],[869,563],[-69,37],[-69,563],[-69,112],[-69,489],[869,112],[869,489],
[869,190],[869,411],[-69,190],[-69,411],[-69,336],[-69,264],[869,336],[869,264]],Ka:[[314,37],[486,563],[314,563],[486,37]],Na:1,za:{easy:[3E5,6E5,125E4],normal:[75E4,125E4,25E5]},Pa:{deathray:1},wh:!0,gb:{x:400,y:370},Qz:{x:400,y:300}},"BOSS 4":{s:{"fourth boss":[0,1,0,0,1,0,1],stunner:[0,0,0,0,0,0,15],spear:[0,0,0,0,0,0,15],tank:[0,0,0,0,0,0,10],mote:[0,0,0,0,0,0,15],goo:[0,0,0,0,0,0,2],disabler:[0,0,0,0,0,0,1],troll:[0,0,0,0,0,0,12],orbiter:[0,0,0,0,0,0,10],fighter:[0,0,0,0,0,0,8],harpoon:[0,0,
0,0,0,0,12],slingshot:[0,0,0,0,0,0,12],deathray:[0,0,0,0,0,0,4]},lb:"fourth boss",Ja:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],xa:[[60,62],[60,539],[740,62],[740,539]],Na:1,gb:{x:400,y:500},qu:90,Pa:{"fourth boss":1}}};
for(s in N)N[s].W=s,N[s].za&&"undefined"===typeof N[s].za.easy&&(N[s].za.easy=N[s].za.normal.map(function(a){return a/2})),"undefined"===typeof N[s].kl&&("BOSS"==s.slice(0,4)?N[s].kl=100*parseInt(s.slice(5,6)):"HIVE"==s.slice(0,4)&&(N[s].kl=100*parseInt(s.slice(5,6)))),"undefined"===typeof N.Rr&&(N[s].Rr=function(a){a=this.Ja[a];for(var b=[],c=0;c<a.length;c++)b.push(new b2Vec2(a[c][0]/F,a[c][1]/F));return b});function vg(){}l=vg.prototype;l.na=function(){};l.Y=function(){};l.Ea=function(){};l.Oa=function(){};l.tg=function(){};l.Xg=function(){};l.Ge=function(){};l.Tp=function(){};function wg(){}wg.prototype=new vg;wg.prototype.constructor=wg;wg.prototype.Wm=function(a){var b=new og(a,this);ug(b);a=new Worker("js/lib/worker.js");a.postMessage({a:b.vh,b:b.Ze,c:F,d:O,e:P});this.as=0;a.onmessage=function(a){return function(d){d.data.z?a.as=d.data.z:d.data.a&&(a.Kb=new Ce(b,d.data.a,d.data.b,d.data.c,d.data.d,d.data.e,d.data.f),a.as=1,a.$r())}}(this);return b};wg.prototype.$r=function(){};xg.prototype=new vg;l=xg.prototype;l.constructor=xg;
function xg(){this.Xb=!1;this.buttons=[];var a=this;this.buttons.push(new $("BACK",16,O/2,P/2+260,60,65,"white",x.impulse_blue,function(){yg(a.U,"fade_out",function(){S=new Pf})},"back"));this.Su=new Image;this.Su.src="impulse_logo.png";this.buttons.push(new $("KEVIN MACLEOD",16,O/2-250,P/2+50,150,70,"white",x.impulse_blue,function(){window.open("http://incompetech.com")},"note"));this.buttons.push(new $("MATT MCFARLAND",16,O/2,P/2+50,150,70,"white",x.impulse_blue,function(){window.open("http://www.mattmcfarland.com")},
"note"));this.buttons.push(new $("SUBTLE PATTERNS",16,O/2+250,P/2+50,150,70,"white",x.impulse_blue,function(){window.open("http://www.subtlepatterns.com")},"texture"));this.buttons.push(new $("JAY SALVAT",16,O/2-150,P/2+180,150,70,"white",x.impulse_blue,function(){window.open("http://buzz.jaysalvat.com/")},"audio"));this.buttons.push(new $("ERIN CATTO",16,O/2+150,P/2+180,150,70,"white",x.impulse_blue,function(){window.open("http://box2d.org/")},"physics_engine"));this.buttons[1].tf="MAIN MENU MUSIC";
this.buttons[2].tf="ALL OTHER MUSIC";this.buttons[3].tf="TEXTURES";this.buttons[4].tf="AUDIO API";this.buttons[5].tf="PHYSICS ENGINE";this.U=new zg({fade_in:250,fade_out:250});yg(this.U,"fade_in")}l.na=function(a){this.U.na(a)};
l.Y=function(a){this.Xb||(bg_canvas.setAttribute("style",""),Sf("Hive 0",.3),this.Xb=!0);a.save();"fade_in"==this.U.bc?a.globalAlpha*=Ag(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-Ag(this.U));ob(a,O/2,150,"CREDITS");a.font="20px Muli";a.fillStyle="white";a.textAlign="center";a.shadowColor=a.fillStyle;a.globalAlpha*=1;a.globalAlpha/=1;for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};
l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};function zg(a){this.xx=a;this.bc=null;this.jh=0}function yg(a,b,c){null==a.bc&&(a.bc=b,a.jh=a.xx[b],a.Tx=c)}zg.prototype.na=function(a){null!=this.bc&&0<this.jh&&(this.jh-=a);null!=this.bc&&0>=this.jh&&(this.Tx&&this.Tx(),this.bc=null)};function Ag(a){return a.bc?Math.min(1-a.jh/a.xx[a.bc],1):0};Bg.prototype=new vg;l=Bg.prototype;l.constructor=Bg;
function Bg(a,b,c,d,f){this.i=b;this.W=this.i.W;this.buttons=[];this.n=c;this.Kb=d;this.Xb=!1;this.ra=f.ra;this.color=x["world "+this.n+" bright"];this.ul=new $("RETRY",16,O-70,P-40,60,65,this.color,"white",function(a){return function(){var b=new gc(a.n,!1);yg(a.U,"fade_out",function(){S=new Uf(a.n,a.i,a.Kb,b,!1,!1)})}}(this),"start");this.buttons.push(this.ul);this.ul.keyCode=va.Nq;this.ul.tf="right"==E.Eb?"R KEY":"SHIFT KEY";this.buttons.push(new $("MENU",16,70,P/2+260,60,65,this.color,"white",
function(a){return function(){a.n?yg(a.U,"fade_out",function(){S=new dg(a.n,!0);"normal"==K?Sf("Title Alt"+a.n,.15):Sf("Hive 0",.3)}):yg(a.U,"fade_out",function(){S=new Pf;Sf("Hive 0",.3)})}}(this),"back"));this.I=a;this.i.Aa?(this.Va=f.Va?f.Va:0,this.jb=f.jb?f.jb:0):(this.Rc=f.Rc,this.jb=f.jb?f.jb:0,this.Va=f.Va?f.Va:0);Qe+=this.I.le;cg();ig(K);this.Bn=["world "+this.n+" bright","silver","gold"];fc();this.U=new zg({fade_in:500,fade_out:250});yg(this.U,"fade_in")}l.na=function(a){this.U.na(a)};
l.Y=function(a,b){if(!this.Xb){this.i.w=null;bg_canvas.setAttribute("style","display:none");b.translate(X,0);this.i.Pe(b);var c=Ye.getContext("2d");Cb(c,0,O,P,"Hive "+this.n);this.Xb=!0;b.translate(-X,0);this.Xb=!0}a.save();a.fillStyle=x["world "+this.n+" dark"];a.fillRect(0,0,O,P);a.globalAlpha*=mg(this.n);a.drawImage(Ye,0,0,O,P,0,0,O,P);a.restore();a.save();"fade_in"==this.U.bc?a.globalAlpha*=Ag(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-Ag(this.U));if(this.i.Aa)a.globalAlpha/=3,La(a,this.n,
O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==K&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=this.color,a.textAlign="center",a.font="32px Muli",a.fillText(qa[this.n],O/2,240),a.fill(),a.font="48px Muli",this.i.uh?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300)),d=420,a.fillStyle=this.color,a.font="20px Muli",a.fillText("GAME TIME ",O/2,380),a.font="42px Muli",
a.fillText(this.I.Jj,O/2,d),c=440,this.Va||(a.beginPath(),a.moveTo(350,c),a.lineTo(450,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke()),c=445,d=500,f=470,this.Va?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2,f),a.font="28px Muli",1E3>N[this.W].Ia[K].Va?(a.font="28px Muli",a.fillText(Zb(N[this.W].Ia[K].Va),O/2,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2,d)),
a.restore());else{a.globalAlpha/=3;La(a,this.n,O/2,230,80,!0);a.globalAlpha*=3;a.save();a.globalAlpha*=.5;a.fillStyle="white";a.font="20px Muli";"normal"==K&&a.fillText("HARD MODE",O/2,180);a.restore();a.beginPath();a.fillStyle=this.color;a.font="42px Muli";a.textAlign="center";a.fillText(this.W,O/2,240);a.fill();a.font="36px Muli";this.ra?(a.fillStyle="white",a.fillText("VICTORY",O/2,300)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,300));var c=380,d=420;a.fillStyle=this.color;a.font="20px Muli";
a.fillText("GAME TIME ",O/2+100,c);a.font="42px Muli";a.fillText(this.I.Jj,O/2+100,d);a.fillStyle=0<this.jb?x[this.Bn[this.jb-1]]:this.color;a.font="20px Muli";a.fillText("SCORE",O/2-100,c);a.font="42px Muli";a.fillText(this.I.$e,O/2-100,d);c=440;this.Rc||(a.beginPath(),a.moveTo(250,c),a.lineTo(350,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());this.Va||(a.beginPath(),a.moveTo(450,c),a.lineTo(550,c),a.lineWidth=3,a.strokeStyle=this.color,a.stroke());var c=445,d=500,f=470;this.Rc?(a.fillStyle=
this.color,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,f),a.font="28px Muli",a.fillText(N[this.W].Ia[K].Rc,O/2-100,d),a.restore());this.Va?(a.fillStyle=this.color,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,c)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,f),a.font="28px Muli",1E3>N[this.W].Ia[K].Va?(a.font="28px Muli",
a.fillText(Zb(N[this.W].Ia[K].Va),O/2+100,d)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,d)),a.restore())}for(c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.Ge=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].Ge(a)};Uf.prototype=new vg;l=Uf.prototype;l.constructor=Uf;function Uf(a,b,c,d,f,g){null!=a&&void 0!=a&&this.ia(a,b,c,g,d,f)}
l.ia=function(a,b,c,d,f,g){this.I={$e:0,qf:1,sh:1,af:0,le:0,jp:0,Jj:null,Uu:!1};this.K=f;if(this.ec=g)this.K.Xf=Math.floor(this.K.Xf),this.K.Jd=Math.floor(this.K.Jd);this.pause=!0;this.ready=!1;this.buttons=[];this.Qm=null;this.fc=[];this.dA=1E3;this.Xv=30;this.Na=1;this.Xb=!1;this.xf=1<=ic();this.cu=!1;this.jb=0;this.n=a;this.Bn=["world "+this.n+" lite","silver","gold"];this.Yj=0;this.JD=3E3;a=new b2Vec2(0,0);this.pa=new b2World(a,!1);b&&(this.i=b,this.i.w=this,this.i.reset(),this.W=this.i.W,this.Aa=
"BOSS"==this.W.slice(0,4),Cg(this),"BOSS 4"==this.W?ec(cc,ka["Final Tessellation"]):"BOSS"==this.W.slice(0,4)?ec(cc,ka.Tessellation):0!=this.n&&ec(cc,ka["Hive "+this.n]));void 0===this.K.kh[this.W]&&(this.K.kh[this.W]=0);this.Kb=c;this.color=this.Aa?x["boss "+this.n]:x["world "+this.n+" lite"];this.ri=x["world "+this.n+" dark"];this.yc=x["world "+this.n+" lite"];this.M=x["world "+this.n+" bright"];this.ig=6E3;this.he=0;this.Fv=this.Mv=!1;Dg(this);c=new b2ContactListener;c.Ws=this.Sy;c.nt=this.Iy;
c.at=this.AC;this.pa.mx(c);this.pause=!1;this.QA=this.ready=!0;this.Nn=1;this.Jf={x:O/2,y:P/2};this.aw=1500;this.Hy=750;this.nk=0;this.Od="none";this.Ss={x:O,y:P};this.wq={x:O,y:P};this.Ts=.1;this.xq=1;this.zoom=.1;this.Ll=!0;(this.Bh=d)?Eg(this,1,this.aw):Eg(this,1,this.Hy);this.Nk="in";this.Aj=this.ra=!1;this.xr=this.ny=100;this.cv=!1;this.Av=3E4;this.Sj=0;this.ol=null;this.Vv=5E3;this.dk=0;this.Lp=document.createElement("canvas");this.Lp.width=120;this.Lp.height=160;this.Lp.getContext("2d");!b||
this instanceof pc||Fg(this);for(b=0;b<xa.length;b++)xa[b].color=this.color,xa[b].Za=this.M;if(this.Pi=0==this.n||Re.length<Gg.prototype.os.length)this.DA=new Gg(this),this.mh={},this.rq={},this.VE=500;!this.Aa&&this.i&&Lc(this);0==this.n&&this.K&&(this.K.Jd=99)};
l.reset=function(){this.I={$e:0,qf:1,sh:1,af:0,le:0,jp:0,Jj:null};this.Av=1E4;this.Sj=0;this.ol=null;this.Fv=this.Bh=this.Mv=!1;var a=new b2Vec2(0,0);this.pa=new b2World(a,!1);Dg(this);a=new b2ContactListener;a.Ws=this.Sy;a.nt=this.Iy;this.pa.mx(a);this.Vv=1E4;this.jb=this.dk=0;this.ra=this.Aj=!1;this.i.reset();!this.i||this instanceof pc||Fg(this);Y.translate(X,0);this.i.Pe(Y);Y.translate(-X,0);this.Yj=0;this.cu=!1;!this.Aa&&this.i&&Lc(this)};
function Fg(a){if(0!=a.n)for(var b in N[a.W].s)I[b].xg+=1,cg(),I[b].yf||1!=I[b].xg||(Wf("enemy_"+b,5E3,a.M,a.n),a.ol=b)}function Cg(a){if(a.i.Ti)a.q=new lc(a.pa,a.i.Ti.x/F,a.i.Ti.y/F,a);else{var b=Sb({x:-10,y:-10},a.Na,F);a.q=new lc(a.pa,b.x,b.y,a)}}function Eg(a,b,c){var d={x:O/2,y:P/2};a.Od="in";a.Us=c;a.nk=c;a.wq=d;a.xq=b;a.Ss={x:a.Jf.x,y:a.Jf.y};a.Ts=a.zoom;a.Ll=!1}function Hg(a,b,c,d){a.Od="out";a.Us=d;a.nk=d;a.wq=b;a.xq=c;a.Ss={x:a.Jf.x,y:a.Jf.y};a.Ts=a.zoom;a.Ll=!1}
l.na=function(a){if(this.ready){null==this.Qm?this.Qm=0:100==this.Qm&&(this.Qm=0);this.Qm+=1;for(var b in this.rq)this.rq[b]-=a,0>this.rq[b]&&(this.mh[b]="timeout");if(!this.pause){this.Pi&&(this.DA.na(a),this.Aj&&Q(this.i.Gc,this.q.body.g.position)<this.i.Qk&&qc(this,"moved_to_gateway"));document.webkitHidden&&(this.pause=!0,Ke=new Ig(this.i,this.n,this.I,this,this.Kb));this.xr-=a;0<this.Sj?this.Sj-=a:this.ol&&(this.Wv=this.ol=null);0<this.dk?this.dk-=a:this.Wv&&(this.Wv=this.ol=null);this.zw?this.Jf=
{x:this.q.body.g.position.x*F,y:this.q.body.g.position.y*F}:"none"!=this.Od&&(0>=this.nk?(this.Od="none",this.zoom=this.xq,this.Jf=this.wq,this.Ll=!1):(b=this.nk/this.Us,this.zoom=1/(1/this.Ts*b+1/this.xq*(1-b)),this.Jf.x=this.Ss.x*b+this.wq.x*(1-b),this.Jf.y=this.Ss.y*b+this.wq.y*(1-b),this.nk-=a));"none"==this.Od&&1==this.zoom&&this.Aa&&!this.cu&&(this.he=this.ig,4==this.n&&(this.he/=2,this.ig/=2),this.cu=!0);0<this.he&&(this.he-=a);if(this.q.O&&0<this.q.tb&&!this.Mv){this.Mv=!0;b=this.i;b.sn=!0;
b.xs=b.Qv;for(var c=0;c<b.s.length;c++)b.s[c].Nc("fade");this.I.$e=0;this.I.qf=1;this.jb=0;this.ec&&0<this.n&&(this.K.I[this.i.W].ym+=1,kg(this.K))}if(this.q.O&&0>this.q.tb||this.zu)this.zu||this.Fv&&this.ec?"none"==this.Od&&1==this.zoom?(Hg(this,{x:O/2,y:P/2},.1,this.Hy),this.Nk="out"):"none"==this.Od&&(this.ready=!1,this.Or()):(this.reset(),Cg(this));else if(this.i.vc&&this.i.vc.O&&0>this.i.vc.tb&&"fade"!=this.i.vc.O&&!this.q.O)"none"==this.Od&&1==this.zoom?(Eg(this,10,this.aw),this.Nk="out",Jg(this),
this.ra=!0,this.i.uh=!0):"none"==this.Od&&(this.ready=!1,this.Or());else if(this.ra)"none"==this.Od&&1==this.zoom?(Hg(this,{x:this.q.body.g.position.x*F,y:this.q.body.g.position.y*F},10,this.aw),this.Nk="out"):"none"==this.Od&&(this.ready=!1,this.Or(!0));else{this.Aa||(b=Math.min(this.I.$e/this.i.za[0],1),c=this.JD,this.q.O&&(c/=3),this.Yj>b?this.Yj=Math.max(this.Yj-a/c,b):this.Yj<b&&(this.Yj=Math.min(this.Yj+a/c,b)));this.QA&&1>this.Nn?this.Nn=Math.min(1,this.Nn+a/1E3):!this.QA&&0<this.Nn&&(this.Nn=
Math.max(0,this.Nn-a/1E3));this.q.na(a);this.I.qf=this.I.sh+Math.floor(this.I.af/10);this.I.Jj=Hb(this.I.af);this.I.jp+=a;0<this.n&&(this.K.di-=a);this.K.kh[this.i.W]+=a;this.I.af=Math.floor(this.I.jp/1E3);this.I.kh+=a;this.i.na(a);for(b=this.fc.length-1;0<=b;b--)this.fc[b].duration-=a,0>=this.fc[b].duration&&this.fc.splice(b,1);this.pa.cj(1/60,1,10);this.Uc(a)}}}};l.Uc=function(){};
function Vf(a,b){if("in"==a.Nk){var c=Xb(.1,.5,a.nk/a.Us);b.globalAlpha=Math.min(1-c,1)}else"out"==a.Nk&&(c=Xb(.1,.5,a.nk/a.Us),b.globalAlpha=Math.max(c,0))}
l.Y=function(a,b){if(this.ready&&!this.pause){this.fe(a,b);a.save();a.translate(X,0);"none"!=this.Od&&(a.rect(0,0,O,P),a.clip());a.fillStyle=this.ri;a.scale(this.zoom,this.zoom);a.translate((O/2-this.Jf.x*this.zoom)/this.zoom,(P/2-this.Jf.y*this.zoom)/this.zoom);a.beginPath();"none"!=this.Od&&(a.rect(2,2,O-4,P-4),a.clip());Vf(this,a);"none"!=this.Od&&a.drawImage(bg_canvas,X,0,O,P,0,0,O,P);this.i.dh(a,F);this.q.dh(a);this.i.Y(a,F);1!=this.zoom&&this.ra?(a.save(),a.translate(this.q.body.g.position.x*
F,this.q.body.g.position.y*F),a.scale(1/this.zoom,1/this.zoom),a.translate(-this.q.body.g.position.x*F,-this.q.body.g.position.y*F),this.q.Y(a),a.restore()):this.q.Y(a);if(this.cv){var c=this.i;c.zj=c.Ny;c.yj=!0;this.cv=!1}a.beginPath();"none"==this.Od&&(a.rect(2,2,O-4,P-4),a.clip());0<this.he&&this.he<this.ig&&this.ec&&1==this.zoom&&4>=this.n&&this.Bh&&(a.globalAlpha=Math.min(1,(1-2*Math.abs(this.he/this.ig-.5))/.5),a.beginPath(),a.fillStyle=x["boss "+this.n],a.textAlign="center",a.font="42px Muli",
a.fillText(this.K.du,O/2,P/2-150),a.fill());0<this.he&&this.he<this.ig&&this.ec&&1==this.zoom&&1==this.n&&"easy"==K&&3>N[this.W].Ia[K].jb&&this.i.vc&&(a.save(),c=0,this.Bh&&0<this.he&&this.he<this.ig/2?c=this.he/(this.ig/2):!this.Bh&&this.he>this.ig/2&&this.he<this.ig&&(c=(this.he-this.ig/2)/(this.ig/2)),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.beginPath(),a.moveTo(this.i.vc.body.g.position.x*F,(this.i.vc.body.g.position.y-this.i.vc.H)*F-5),a.lineTo(this.i.vc.body.g.position.x*F,2*F+15),
a.strokeStyle=x.impulse_blue,a.lineWidth=10,a.stroke(),a.beginPath(),a.arc(this.i.vc.body.g.position.x*F,this.i.vc.body.g.position.y*F,this.i.vc.H*F,0,2*Math.PI,!1),a.stroke(),a.beginPath(),a.moveTo(this.i.vc.body.g.position.x*F+30*Math.cos(3*Math.PI/2),2*F+30*Math.sin(3*Math.PI/2)),a.lineTo(this.i.vc.body.g.position.x*F+30*Math.cos(1*Math.PI/6),2*F+30*Math.sin(1*Math.PI/6)),a.lineTo(this.i.vc.body.g.position.x*F+30*Math.cos(5*Math.PI/6),2*F+30*Math.sin(5*Math.PI/6)),a.fillStyle=x.impulse_blue,a.fill(),
a.restore());if(!this.Aa)for(c=0;c<this.fc.length;c++){a.save();a.beginPath();a.font=this.fc[c].size+"px Muli";var d=this.fc[c].duration/this.fc[c].nD;a.globalAlpha*=d;a.fillStyle=this.fc[c].color;this.fc[c].MC?(a.textAlign="left",J(a,this.fc[c].x*F+20,this.fc[c].y*F-(1-d)*this.Xv-7,0,.8*this.fc[c].size,.8*this.fc[c].size,"spark"),a.fillText(this.fc[c].text,this.fc[c].x*F-25,this.fc[c].y*F-(1-d)*this.Xv)):(a.textAlign="center",a.fillText(this.fc[c].text,this.fc[c].x*F,this.fc[c].y*F-(1-d)*this.Xv));
a.restore()}a.restore();a.clearRect(0,0,X,Ec);a.clearRect(Dc-X,0,X,Ec);1==this.zoom&&"none"==this.Od?0>this.xr&&(Kg(this,b),this.xr=this.ny):Kg(this,a);if(0==!this.n||N[this.W].eq)null!=this.ol&&(a.save(),Vf(this,a),500>this.Sj?a.globalAlpha*=Math.max(0,this.Sj/500):this.Sj>this.Av-500&&(a.globalAlpha*=Math.max(0,(this.Av-this.Sj)/500)),a.drawImage(this.Lp,0,0,120,160,X/2-60,Ec/2,120,160),a.restore()),null!=this.Wv&&(a.save(),Vf(this,a),500>this.dk?a.globalAlpha*=Math.max(0,this.dk/500):this.dk>this.Vv-
500&&(a.globalAlpha*=Math.max(0,(this.Vv-this.dk)/500)),a.drawImage(this.Lp,0,0,120,160,X/2-60,Ec/2-30,120,160),a.restore());if(0!=this.n||N[this.W].eq||N[this.W].kA)a.save(),Vf(this,a),this.Aa?this.i.vc?nb(a,Dc-X/2,Ec/2,3*Ec/4-50,Pc(this.i.vc),this.i.vc.color):nb(a,Dc-X/2,Ec/2,3*Ec/4-50,1,x["boss "+this.n]):(nb(a,Dc-X/2,Ec/2,3*Ec/4-50,this.Yj,this.color,!0),a.textAlign="center",a.font="72px Muli",a.fillStyle=this.Hu(this.I.qf),(0!=this.n||N[this.W].eq)&&a.fillText("x"+this.I.qf,Dc-X/2,Ec/2)),a.restore();
a.save();Vf(this,a);for(c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);a.restore();a.save();a.translate(X,0);Vf(this,a);this.Pi&&this.DA.Y(a);a.restore();this.Ll||(1==this.zoom&&"none"==this.Od?bg_canvas.setAttribute("style",""):bg_canvas.setAttribute("style","display: none"),this.Ll=!0)}};l.fe=function(){};
function Kg(a,b){b.save();b.globalAlpha=1;b.beginPath();b.fillStyle="black";b.clearRect(0,0,X,Ec);b.clearRect(Dc-X,0,X,Ec);Vf(a,b);b.fillStyle=a.color;b.textAlign="center";a instanceof pc||0!=!a.n||"normal"!=K||(b.font="20px Muli",b.save(),b.globalAlpha*=1,b.fillText("HARD MODE",X/2,170),b.restore());0!=a.n?(b.font="64px Muli",type=a.W.split(" ")[0],"HOW"!=type?b.fillText(type,X/2,70):(b.font="40px Muli",b.fillText("HOW TO",X/2,70)),b.font="80px Muli","BOSS"==type?b.fillText(a.n,X/2,140):"HOW"==type?
(b.font="60px Muli",b.fillText("PLAY",X/2,130)):b.fillText(a.W.slice(5,a.W.length),X/2,140)):0==a.n&&(b.font="40px Muli",b.fillText("TUTORIAL",X/2,70));var c=Ec-15;b.beginPath();b.fillStyle=a.M;b.font="18px Muli";b.save();b.globalAlpha*=.4;"right"==E.Eb?b.fillText("Q FOR MENU",X/2,c):b.fillText("ENTER FOR MENU",X/2,c);b.restore();c=Ec/2-20;if(0!=a.n||N[a.W].eq)if("normal"==K&&0<a.n&&a.ec&&E.di){b.fillStyle="white";b.font="16px Muli";b.fillText("SPEED RUN",X/2,c-30);b.fillText("TIME LEFT",X/2,c-10);
b.font="32px Muli";var d=Hb(Math.max(0,Math.ceil(a.K.di/1E3)));b.fillText(d,X/2,c+22)}else b.fillStyle=a.color,b.font="16px Muli",b.fillText("LEVEL TIME",X/2,c-10),b.font="32px Muli",b.fillText(a.I.Jj,X/2,c+22);if(a.Aa)b.fillStyle=x["boss "+a.n],b.font="36px Muli",b.fillText("DISTANCE",Dc-X/2,Ec-55),b.fillText("LEFT",Dc-X/2,Ec-20);else if(0==!a.n||N[a.W].eq||N[a.W].kA)b.font="21px Muli",b.fillText("SCORE",Dc-X/2,Ec-10),b.font="40px Muli",b.fillText(a.I.$e,Dc-X/2,Ec-35),3>a.jb&&(a.Aj?(b.fillStyle=
a.M,b.font="21px Muli",b.fillText("GATEWAY",Dc-X/2,45),b.font="42px Muli",b.fillText("OPEN",Dc-X/2,85)):(b.fillStyle=a.yc,b.font="21px Muli",b.fillText("GOAL",Dc-X/2,45),b.font="42px Muli",b.fillText(a.i.za[0],Dc-X/2,85)));b.restore()}l.Hu=function(){return"white"};function Lg(a,b){return{x:(b.x-(O/2-a.Jf.x*a.zoom))/a.zoom,y:(b.y-(P/2-a.Jf.y*a.zoom))/a.zoom}}l.Ea=function(a,b){if(this.ready){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b);this.pause||(this.q.xv=Lg(this,{x:a-X,y:b}))}};
l.tg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b);this.pause||(c=this.q,c.$u=(new Date).getTime(),c.Np=!0)};l.Xg=function(){this.pause||(this.q.Np=!1)};function Mg(a){a.pause=!a.pause;a.pause?(mc(a.q,va.aj),a.q.Np=!1,Ke=new Ig(a.i,a.n,a.I,a,a.Kb)):Ke=null}
l.Ge=function(a){if(this.ready){if(90==a)if(this.ra=!0,this.Aa?this.i.uh=!0:this.I.$e=this.i.za[2],Jg(this),this.ec&&0<this.n&&!this.Aa){this.K.Ck=Ng(this.i,this.n);for(var b in this.I)this.K.I[this.i.W][b]=this.I[b];kg(this.K);Wf("saved_alert",1500,"white",this.n)}else this.ec&&0<this.n&&this.Aa&&kg({});if(a==va.aj||a==va.sk)this.Aa&&this.ra||this.Fv||Mg(this);else if(a==va.Fq&&this.Aj&&Q(this.i.Gc,this.q.body.g.position)<this.i.Qk)if(this.ra=!0,Jg(this),this.Aa&&(this.i.uh=!0),this.ec&&0<this.n&&
!this.Aa){this.K.Ck=Ng(this.i,this.n);for(b in this.I)this.K.I[this.i.W][b]=this.I[b];kg(this.K);Wf("saved_alert",1E3,"white",this.n)}else this.ec&&0<this.n&&this.Aa&&kg({});else 69==a?(this.zw=!this.zw)?(this.zoom=1.7,this.Od="player"):(this.zoom=1,this.Jf={x:O/2,y:P/2},this.Nk=this.Od="none",this.Ll=!1):mc(this.q,a)}};
l.Tp=function(a){if(this.ready){var b=this.q;switch(a){case va.Lq:b.left=!1;break;case va.Oq:b.right=!1;break;case va.Bq:b.Zo=!1;break;case va.Qq:b.sq=!1;break;case va.Ww:b.Dh=null;break;case va.Yw:b.Gh=null;break;case va.Xw:b.Eh=null;break;case va.Vw:b.Ch=null;break;case va.aj:case va.sk:b.sq=!1,b.Zo=!1,b.left=!1,b.right=!1,b.Dh=null,b.Eh=null,b.Gh=null,b.Ch=null}}};
function Dg(a){var b,c;b=[{x:O/F/2,y:2},{x:O/F/2,y:2},{x:2,y:P/F/2},{x:2,y:P/F/2}];c=[{x:O/F/2,y:-2},{x:O/F/2,y:P/F+2},{x:-2,y:P/F/2},{x:O/F+2,y:P/F/2}];for(var d=0;4>d;d++){var f=new b2FixtureDef;f.filter.nf=1;f.filter.Af=2;var g=new b2BodyDef;g.type=b2Body.lf;f.shape=new b2PolygonShape;f.shape.jx(b[d].x,b[d].y);g.position.Q(c[d].x,c[d].y);a.pa.Qn(g).Aq(f)}}l.Sy=function(a){var b=a.oc.Ff();a=a.pc.Ff();b&&a&&(b.owner.Me(a.owner,b.body,a.body),a.owner.Me(b.owner,a.body,b.body))};
l.AC=function(a){var b=a.oc.Ff();a=a.pc.Ff();b&&a&&"tank"==b.owner.type&&"tank"==a.owner.type&&(b.owner.Me(a.owner,b.body,a.body),a.owner.Me(b.owner,a.body,b.body))};
l.Iy=function(a){var b=a.oc.Ff(),c=a.pc.Ff();if(null!=b&&null!=c){var d=b.self,f=c.self;if(null!=d&&null!=f){var b=[d,f],g=[f,d],h;for(h in b)if(d=b[h],"harpoonhead"==d.type&&"inactive"!=d.wi.mb){f=g[h];if(f!=d.wi&&"harpoonhead"!=f.type&&!f.yf&&!c.owner.yf){if(("boss four spawner"==f.type||"boss four attacker"==f.type)&&!f.qb)continue;Q(d.body.g.position,f.body.g.position)<d.H+f.H&&(f.ez&&f.open(3E3),d=d.wi,"engaged"!=d.mb&&!d.O&&0>=d.r[1]&&f.id!==d.Nu&&(bc("hhit"),d.mb="engaged",d.Qc=f,d.Qc==d.q&&
Nc(d.w)))}a.pB()}}}};function Jc(a,b,c,d,f,g){a.fc.push({text:b,color:c,x:d,y:f,duration:g?g:a.dA,nD:g?g:a.dA,size:20,MC:void 0})}function Lc(a){a.I.$e>=a.i.za[0]&&0==a.jb&&(a.jb=1,a.Aj=!0,a.cv=!0,a instanceof pc&&a.yj(),a.Pi&&qc(a,"gateway_opened"))}function Kc(a){a.I.sh+=1;a.I.qf=a.I.sh+Math.floor(a.I.af/10)}function Nc(a){a.q.jk||(a.Pi&&!a.i.Aa&&qc(a,"multiplier_reset"),a.K.Wy=!0,a.I.sh=1,a.I.qf=a.I.sh+Math.floor(a.I.af/10))}
l.Or=function(){S=this.ec?new Og(this.n,this.i,this.ra||this.i.uh,this.I,this.Kb,this.K):new Pg(this.K,this.ec,{I:this.I,i:this.i,n:this.n,Kb:this.Kb,ra:this.ra})};
function Jg(a){if(a.i.Aa){var b=a.i.W,c=a.I.af,d=K,f={};c<N[b].Ia[d].Va?(f.Va=!0,N[b].Ia[d].Va=c):f.Va=!1;N[b].Ia[d].jb=3;f.jb=3;f.Va&&cg();b=f;a.I.Va=b.Va;a.I.jb=b.jb;a.I.$e="WIN"}else{var b=a.i.W,c=a.I.$e,g=a.I.af,d=K,f={};c>N[b].Ia[d].Rc?(f.Rc=!0,N[b].Ia[d].Rc=c):f.Rc=!1;g<N[b].Ia[d].Va?(f.Va=!0,N[b].Ia[d].Va=g):f.Va=!1;for(g=0;c>=N[b].za[d][g];)g+=1;f.jb=g;f.Rc&&(N[b].Ia[d].jb=f.jb,cg());f.Va&&cg();b=f;a.I.Rc=b.Rc;a.I.jb=b.jb;a.I.Va=b.Va}}
function qc(a,b){a.Pi&&(a.mh[b]="fresh",a.rq[b]=a.VE)};Qg.prototype=new wg;l=Qg.prototype;l.constructor=Qg;
function Qg(a,b){this.W=a;this.buttons=[];this.n=b;this.Xb=!1;this.color=x["world "+this.n+" lite"];this.M=x["world "+this.n+" bright"];this.Aa="BOSS"==this.W.slice(0,4);this.buttons.push(new $("BACK",16,70,P/2+260,60,65,this.M,"white",function(a){return function(){Y.fillStyle=x["world "+a.n+" dark"];Y.translate(X,0);Y.fillRect(0,0,O,P);Y.globalAlpha*=mg(0);Cb(Y,0,O,P,"Hive "+a.n);Y.translate(-X,0);He.setAttribute("style","");yg(a.U,"fade_out_to_main",function(){S=a.n?new dg(a.n,!0):new Pf;Ze=null;
"normal"==K?Sf("Title Alt"+a.n,.15):Sf("Hive 0",.3)})}}(this),"back"));this.Bn=["bronze","silver","gold"];this.jb=N[this.W].Ia[K].Rc.jb;this.Hk=null;if(this.Aa)this.Hk={};else{this.Hk=N[this.W].s;this.Ye=0;for(var c in N[this.W].s)this.Ye+=1}this.Mf=40;this.i=this.Wm(N[this.W]);var d=0;for(c in this.Hk){for(var f=0,g=0;f<d+1&&f<this.Ye;)f+=12;g=f<=this.Ye?12:this.Ye-(f-12);this.buttons.push(new Rg(c,this.Mf,O/2+(this.Mf+10)*(d-(f-12)-(g-1)/2),400+this.Mf*(Math.floor(d/12)-(Math.ceil(this.Ye/12)-1)/
2),this.Mf,this.Mf,x["world "+this.n+" lite"],function(a,b){return function(){yg(b.U,"fade_out",function(){Ke=new Sg(a,b)})}}(c,this)));d+=1}this.U=new zg({fade_in:500,fade_out:250,fade_out_to_main:250});yg(this.U,"fade_in")}l.na=function(a){this.U.na(a);Tf(a)};
l.Y=function(a,b){if(!this.Xb){var c=Ye.getContext("2d");c.clearRect(0,0,O,P);Cb(c,0,O,P,"Hive "+this.n);b.translate(X,0);this.i.Pe(b);this.Xb=!0;b.translate(-X,0);bg_canvas.setAttribute("style","display:none")}"fade_out_to_main"!=this.U.bc?(a.save(),a.fillStyle=x["world "+this.n+" dark"],a.fillRect(0,0,O,P),a.globalAlpha*=mg(this.n)):(a.save(),a.globalAlpha*=Ag(this.U),a.fillStyle="black",a.fillRect(0,0,O,P),a.globalAlpha*=mg(0));a.drawImage(Ye,0,0,O,P,0,0,O,P);a.restore();a.save();if("fade_in"==
this.U.bc)a.globalAlpha*=Ag(this.U);else if("fade_out"==this.U.bc||"fade_out_to_main"==this.U.bc)a.globalAlpha*=1-Ag(this.U);if(this.Aa)for(a.fillStyle=x["world "+this.n+" bright"],a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.save(),a.globalAlpha*=.3,La(a,this.n,O/2,P/2-50,100),a.restore(),a.font="16px Muli",a.fillText(this.i.W,O/2,P/2-60),a.font="40px Muli",a.fillText(qa[this.n],O/2,P/2-20),a.font="24px Muli",3==N[this.W].Ia[K].jb?(a.font="12px Muli",a.fillText("BEST TIME",O/2,390),a.font=
"28px Muli",a.fillText(Zb(N[this.W].Ia[K].Va),O/2,415)):(a.fillStyle=x["boss "+this.n],a.fillText("UNDEFEATED",O/2,400)),c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);else{a.globalAlpha/=3;La(a,this.n,O/2,130,40,!0);a.globalAlpha*=3;a.fillStyle="white";a.font="18px Muli";"normal"==K&&a.fillText("HARD MODE",O/2,100);a.beginPath();a.fillStyle=x["world "+this.n+" bright"];a.font="30px Muli";a.textAlign="center";a.fillText(this.W,O/2,140);a.fill();for(c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);
qb(a,this.W,O/2,255,x["world "+this.n+" lite"]);a.beginPath();a.rect(O/2-100,100,250,150);a.strokeStyle="rgba(0, 0, 0, .3)";a.stroke();if(1>this.as){a.textAlign="center";var c=this.as,d=O-70,f=P-53;a.save();db(a,d,f,10,"gray");a.beginPath();a.arc(d,f,15,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI*c);a.lineWidth=2;a.strokeStyle="gray";a.stroke();a.restore();a.font="16px Muli";a.fillStyle="gray";a.fillText("LOADING",O-70,P-19)}if("HOW TO PLAY"!=this.W.slice(0,11)){a.fillStyle=this.M;a.font="12px Muli";a.fillText("ENEMIES",
O/2,370);for(score_color=0;N[this.W].Ia[K].Rc>N[this.W].za[K][score_color];)score_color+=1;a.fillStyle=this.M;a.textAlign="center";a.font="12px Muli";a.fillText("HIGH SCORE",O/2-100,480);a.font="28px Muli";a.fillText(N[this.W].Ia[K].Rc,O/2-100,505);a.fillStyle=this.M;a.font="12px Muli";a.fillText("BEST TIME",O/2+100,480);1E3>N[this.W].Ia[K].Va?(a.font="28px Muli",a.fillText(Zb(N[this.W].Ia[K].Va),O/2+100,505)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,505))}}a.restore()};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.$r=function(){var a=new gc(this.n,!1);this.buttons.push(new $("START",16,O-70,P/2+260,100,65,this.M,"white",function(b){return function(){yg(b.U,"fade_out",function(){S=new Uf(b.n,b.i,b.Kb,a,!1,!0)})}}(this),"start"))};Tg.prototype=new vg;l=Tg.prototype;l.constructor=Tg;l.MD={F:0,D:10,"D+":11,"C-":13,C:14,"C+":15,"B-":16,B:17,"B+":18,"A-":20,A:21,"A+":22,S:24,"S+":25};l.uw=["half","basic","silver","gold"];
function Tg(a,b,c,d,f,g,h){this.Ij=h;this.ck=g;this.buttons=[];this.Xb=!1;this.K=c;this.i=d;this.Kb=f;this.n=a;this.ra=b;this.xf=1<=ic();g&&(this.K=gc.prototype.clone(Pe[K]),kc(this.K),cg(),this.n=this.K.pa,this.ra=null);this.Ba=this.Nd=250;this.hb="in";this.buttons=[];this.hi="half";this.color=x["world "+this.n];this.yc=x["world "+this.n+" lite"];this.M=x["world "+this.n+" bright"];this.ri=x["world "+this.n+" dark"];0<this.n&&(this.kh=Math.ceil((1E3*Fb["blitz_hive"+this.n].pq-this.K.di)/1E3),this.Dn=
0);for(a=0;8>a;a++)f=7==a?"BOSS "+this.n:"HIVE "+this.n+"-"+(a+1),this.K.I[f]&&(this.Dn+=this.K.I[f].ym);if(b){Ug(this);this.$E="HIVE "+this.K.du+" DEFEATED";b=3;for(d in c.I)c.I[d].jb<b&&(b=c.I[d].jb);c.Lg||(this.hi=this.uw[b],this.K.hi=this.hi);(d=Me[K]["world "+this.n])&&d.rank&&hg(gg(d.rank));if(!d||this.uw.indexOf(this.hi)>this.uw.indexOf(d.victory_type)||this.hi==d.victory_type&&("half"==this.hi&&c.Lg<d.continues||"gold"==this.hi&&this.Dn<d.deaths))Me[K]["world "+this.n]={victory_type:this.hi,
continues:c.Lg,deaths:this.Dn,first_victory:void 0===d},cg()}this.ck&&!this.Ij&&(this.vl=new $("RESUME",16,730,P/2+260,100,65,this.M,this.M,function(a){return function(){Pe[K]={};cg();a.K.DD=0;S=new Og(a.n,null,null,null,null,a.K,!0,!0)}}(this),"start"),this.vl.yl=!1,this.buttons.push(this.vl),this.Cm=new $("DELETE",16,O/2,P/2+260,100,65,this.M,this.M,function(a){return function(){Pe[K]={};cg();S=new dg(a.n)}}(this),"delete_small"),this.buttons.push(this.Cm),this.Cm.yl=!1,this.QD=new $("EXIT",16,
70,P/2+260,60,65,this.M,this.M,function(){return function(){S=new Pf}}(this),"back"),this.buttons.push(this.QD));0!=this.n&&fc();this.Bn=["bronze","silver","gold"];!this.ck&&this.ra&&Vg(this)}function gg(a){a=Tg.prototype.MD[a];var b="half";0<a&&(b="basic");16<=a&&(b="silver");24<=a&&(b="gold");return b}function hg(a){Me[difficulty][world]={victory_type:a,continues:"half"==a?1:0,deaths:9,first_victory:!0};cg()}
function Ug(a){for(var b=0,c=0;8>c;c++){var d=7==c?"BOSS "+a.n:"HIVE "+a.n+"-"+(c+1);a.K.I[d]&&(b+=a.K.I[d].ym)}a.Dn=b}
l.Y=function(a){if(0!=this.n||this.ck){this.Xb||(bg_canvas.setAttribute("style","display:none"),this.Xb=!0,Cb(Ye.getContext("2d"),0,O,P,"Hive "+this.n));a.save();this.Ba-=dt;0>this.Ba&&("in"==this.hb&&(this.hb="none"),"out"==this.hb&&Wg(this));a.fillStyle=this.ri;a.fillRect(0,0,O,P);if("in"==this.hb){var b=this.Ba/this.Nd;a.globalAlpha=1-b}else"out"==this.hb&&(b=this.Ba/this.Nd,a.globalAlpha=Math.max(0,b));a.save();a.globalAlpha*=mg(this.n);a.drawImage(Ye,0,0,O,P,0,0,O,P);a.restore();for(b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);
a.shadowBlur=0;a.textAlign="center";a.font="20px Muli";this.ra?(a.globalAlpha*=.3,La(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle=this.M,a.font="40px Muli",a.fillText(this.$E,O/2,130)):this.ck?(a.globalAlpha*=.3,La(a,this.n,O/2,220,80),a.globalAlpha/=.3,a.fillStyle="white",a.fillText("GAME SAVED",O/2,210),a.fillStyle=this.M,a.font="40px Muli",a.fillText(this.K.Vr,O/2,250),a.font="24px Muli",a.fillText(this.K.Ck,O/2,280),a.textAlign="center",a.fillStyle=this.M,a.font="20px Muli",a.fillText("TOTAL TIME ",
O/2-100,380),a.font="42px Muli",a.fillText(Hb(this.kh),O/2-100,420),a.fillStyle=this.M,a.font="20px Muli",a.fillText("DEATHS",O/2+100,380),a.font="42px Muli",a.fillText(this.Dn,O/2+100,420)):(a.globalAlpha*=.3,La(a,this.n,O/2,100,80),a.globalAlpha/=.3,a.fillStyle="red",a.fillText("GAME OVER",O/2,80),a.fillStyle=this.M,0<this.K.Lg&&(a.font="18px Muli",a.fillText("CONTINUES: "+this.K.Lg,O/2,175)),a.font="40px Muli",a.fillText(this.K.Vr,O/2,130));this.ra&&this.K.Lg&&(a.fillStyle=this.M,a.font="18px Muli",
a.fillText("CONTINUES: "+this.K.Lg,O/2,250));this.ra&&(a.fillStyle=this.M,a.font="14px Muli",a.fillText("TOTAL TIME",O/2,167),a.font="24px Muli",a.fillText(Hb(this.kh),O/2,190));if(!this.ck)for(a.shadowBlur=0,a.font="18px Muli",a.textAlign="center",a.fillStyle=this.M,a.fillText("LEVEL",260,250),a.fillText("TIME",400,250),a.fillText("DEATHS",540,250),b=0;8>b;b++){var c=7==b?"BOSS "+this.n:"HIVE "+this.n+"-"+(b+1),d=c;7==b&&(d=this.K.du);var f;f=this.K.I[c]?this.K.I[c]:{};a.fillStyle=f.NA?this.M:"#666";
var g=280+27*b;a.fillText(d,260,g);a.fillStyle=f.NA?this.M:"#666";void 0!=this.K.kh[c]?a.fillText(Hb(Math.floor(this.K.kh[c]/1E3)),400,g):a.fillText("---",400,g);void 0!=f.ym?a.fillText(f.ym,540,g):a.fillText("---",540,g)}a.font="16px Muli";a.fillStyle=this.yc;this.ck?this.Ij&&a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30):a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30);for(b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);for(b=0;b<this.buttons.length;b++)Xg(this.buttons[b],a);a.restore()}};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.Ge=function(){"none"!=this.hb||this.ck&&!this.Ij||(this.hb="out",this.Ba=this.Nd)};l.Tp=function(){};l.na=function(){0!=this.n||this.ck||Wg(this)};
function Vg(a){if(!(0>=a.n)){if("normal"==K)for(var b=3,c=["half","basic","silver","gold"],d=1;4>=d;d++)if(Me.normal["world "+d]){var f=Me.normal["world "+d].hi;c.indexOf(f)<b&&(b=c.indexOf(f))}else b=-1;"normal"==K&&0<a.K.di&&Mc("blitz_hive"+a.n);a.K.Wy||Mc("untouchable");Me[K]["world "+a.K.pa]&&Me[K]["world "+a.K.pa].first_victory&&(4>a.K.pa&&Mc("beat_hive"),4==a.K.pa&&Mc("final_boss"))}}
function Wg(a){S=a.ra?new Pg(a.K,!0,{ra:!0,rp:0==a.n,Fu:Ne,Ij:a.Ij}):new Pg(a.K,!0,{ra:!1,rp:0==a.n,Fu:Ne,Ij:a.Ij})};Og.prototype=new wg;l=Og.prototype;l.constructor=Og;
function Og(a,b,c,d,f,g,h,k){this.K=g;this.ra=c;this.I=d;this.Jy=!1;this.tC=k;this.Kl=3700;this.Qe=2200;this.Sg=4E3;this.Vc=null;this.Bi=!0;this.xf=1<=ic();this.n=a;this.color=x["world "+a];this.yc=x["world "+a+" lite"];this.M=x["world "+a+" bright"];this.ri=x["world "+a+" dark"];this.Kb=f;this.buttons=[];this.Xb=!1;this.Bn=["bronze","silver","gold"];this.cy=this.Bh=!1;if(b)if(this.I){this.Vc=b;this.tp=b.W;this.ra?(this.state="last_level_summary",this.Ba=this.Sg):(this.state="level_intro",this.Ba=
E.fG?this.Sg:this.Qe);a=0;if(!this.Vc.Aa)for(;this.I.$e>N[this.Vc.W].za[K][a];)a+=1;this.jb=a;if(this.ra){this.wA=Math.floor(this.I.af/5);this.ay=Math.floor(this.I.qf/2);this.Ms=this.K.Xf+this.wA+this.ay;for(this.lw=this.K.Jd;100<=this.Ms;)this.Ms-=100,this.lw+=1;0==this.K.I[this.Vc.W].Uu&&Mc("pacifist")}}else this.state="level_intro",this.i=this.Vc=b,this.tp=b.W,this.Ba=this.Qe/=2,this.cy=!0;else this.state="level_intro",this.K=h?g:new gc(a,!0),this.Ba=this.Qe;if(!this.cy){if(this.ra||!this.Vc){if(this.Vc&&
this.Vc.Aa||0==this.n&&this.ra&&this.Vc&&"HIVE 0-4"==this.Vc.W)return;this.Bi=!1;this.i=h?this.Wm(N[this.K.Ck]):this.Wm(N[Ng(this.Vc,this.n)]);this.Bh=!N[this.i.W].Ia[K].xg;N[this.i.W].Ia[K].xg=!0;cg();this.K.I.hasOwnProperty(this.i.W)||(this.K.I[this.i.W]={},this.K.I[this.i.W].NA=!0,this.K.I[this.i.W].ym=0);this.K.Ck=this.i.W;0<this.n&&kg(this.K)}else this.i=this.Vc,this.i.w=null,Y.translate(X,0),this.i.Pe(Y),this.Xb=!0,Y.translate(-X,0);this.i.Aa&&(this.Qe=this.ra?1E3:500)}0==this.n||this.Vc&&this.Vc.Aa||
h&&this.K.Ck&&"BOSS"==this.K.Ck.substring(0,4)||ec(cc,ka["Hive "+this.n])}function Ng(a,b){return a?7>a.lz?"HIVE "+b+"-"+(a.lz+1):"BOSS "+b:0==b?"HIVE 0-1":"HIVE "+b+"-1"}
l.na=function(a){this.Jy=!0;if(0>this.K.Jd)S=new Tg(this.n,!1,this.K,this.i,this.Kb);else if(0==this.n&&this.ra&&this.Vc&&"HIVE 0-4"==this.Vc.W)S=new Tg(this.n,!0,this.K);else if(0==this.n)this.Bi&&(S=new Uf(this.n,this.i,this.Kb,this.K,!0,null===this.ra?!0:this.ra));else if(this.Vc&&this.Vc.Aa&&this.Vc.uh)S=new Tg(this.n,!0,this.K);else if(this.Vc&&this.Vc.Aa&&!this.Vc.uh)S=new Uf(this.n,this.i,this.Kb,this.K,!0,null===this.ra?!0:this.ra);else{var b=this.Ba/this.Sg;"last_level_summary"==this.state&&
this.ra&&.3<b&&.7>b?(this.K.Xf+=a/(.4*this.Sg)*(this.wA+this.ay),100<=this.K.Xf&&(this.K.Xf-=100,this.K.Jd+=1)):"last_level_summary"==this.state&&this.ra&&.3>b&&(this.K.Xf=Math.floor(this.Ms),this.K.Jd=Math.floor(this.lw),this.K.jz=this.K.Xf,this.K.iz=this.K.Jd);if(this.Bi||"world_intro"==this.state&&this.Ba>=this.Kl/2||"last_level_summary"==this.state&&this.Ba>=this.Sg/2||"level_intro"==this.state&&this.Ba>=this.Qe/2)this.Ba-=a;0>this.Ba&&("world_intro"==this.state&&this.Bi?0==this.n?S=new Uf(this.n,
this.i,this.Kb,this.K,!0,null===this.ra?!0:this.ra):(this.state="level_intro",this.Ba=this.Qe):"last_level_summary"==this.state&&this.Bi?(this.ra&&this.i.Aa&&fc(),this.state="level_intro",this.Ba=this.Qe):"level_intro"==this.state&&(S=new Uf(this.n,this.i,this.Kb,this.K,!0,null===this.ra?!0:this.ra)))}};
l.Y=function(a,b){!this.Xb&&this.i&&(this.Xb=!0,bg_canvas.setAttribute("style","display:none"),b.translate(X,0),this.i.Pe(b),b.translate(-X,0),Cb(Ye.getContext("2d"),0,O,P,"Hive "+this.n));a.fillStyle=x["world "+this.n+" dark"];a.fillRect(0,0,O,P);if(0!=this.n){a.save();a.globalAlpha*=mg(this.n);if("world_intro"!=this.state||this.tC)"level_intro"==this.state?(c=this.Ba/this.Qe,.5>c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))):"last_level_summary"==this.state&&(c=this.Ba/this.Sg,.5<c&&(a.globalAlpha*=
Math.min(1,(1-2*Math.abs(c-.5))/.5)));else{var c=this.Ba/this.Kl;.5<c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))}a.drawImage(Ye,0,0,O,P,0,0,O,P);a.restore();this.Jy&&("world_intro"==this.state?(c=this.Ba/this.Kl,a.save(),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.textAlign="center",a.shadowBlur=0,a.fillStyle=this.M,a.shadowColor="black",a.save(),a.globalAlpha*=.3,La(a,this.n,O/2,P/2,130),a.restore(),a.font="54px Muli",a.fillText(this.K.Vr,O/2,P/2+25),a.shadowBlur=0,a.fillStyle=
this.yc,a.shadowColor=a.fillStyle,a.font="12px Muli",this.Bi?a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270):a.fillText("LOADING LEVEL",O/2,P/2+270),a.restore()):"level_intro"==this.state?this.i.Aa||(a.save(),c=this.Ba/this.Qe,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.fillStyle=this.M,a.textAlign="center",a.shadowBlur=0,a.shadowColor="black",a.save(),a.globalAlpha*=.3,La(a,this.n,O/2,300,100),a.restore(),a.font="24px Muli",a.save(),a.globalAlpha*=.5,a.fillText(this.K.Vr,O/2,250),a.restore(),
a.font="56px Muli",a.fillText(this.i.W,O/2,320),a.shadowBlur=0,a.fillStyle=this.yc,a.shadowColor=a.fillStyle,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270),a.restore()):"last_level_summary"==this.state&&(a.save(),c=this.Ba/this.Sg,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.globalAlpha/=3,La(a,this.n,O/2,230,80,!0),a.globalAlpha*=3,a.save(),a.globalAlpha*=.5,a.fillStyle="white",a.font="20px Muli","normal"==K&&a.fillText("HARD MODE",O/2,180),a.restore(),a.beginPath(),a.fillStyle=
this.M,a.font="42px Muli",a.textAlign="center",a.fillText(this.tp,O/2,240),a.fill(),a.font="36px Muli",a.fillStyle="white",a.fillText("VICTORY",O/2,300),a.fillStyle=this.M,a.font="20px Muli",a.fillText("GAME TIME ",O/2+100,380),a.font="42px Muli",a.fillText(this.I.Jj,O/2+100,420),a.fillStyle=this.M,a.font="20px Muli",a.fillText("SCORE",O/2-100,380),a.font="42px Muli",a.fillText(this.I.$e,O/2-100,420),this.I.Rc||(a.beginPath(),a.moveTo(250,440),a.lineTo(350,440),a.lineWidth=3,a.strokeStyle=this.M,
a.stroke()),this.I.Va||(a.beginPath(),a.moveTo(450,440),a.lineTo(550,440),a.lineWidth=3,a.strokeStyle=this.M,a.stroke()),this.I.Rc?(a.fillStyle=this.M,a.font="16px Muli",a.fillText("NEW HIGH SCORE!",O/2-100,445)):(a.save(),a.globalAlpha*=.6,a.fillStyle=this.M,a.font="12px Muli",a.fillText("HIGH SCORE",O/2-100,470),a.font="28px Muli",a.fillText(N[this.tp].Ia[K].Rc,O/2-100,500),a.restore()),this.I.Va?(a.fillStyle=this.M,a.font="16px Muli",a.fillText("NEW BEST TIME!",O/2+100,445)):(a.save(),a.globalAlpha*=
.6,a.fillStyle=this.M,a.font="12px Muli",a.fillText("BEST TIME",O/2+100,470),a.font="28px Muli",1E3>N[this.tp].Ia[K].Va?(a.font="28px Muli",a.fillText(Zb(N[this.tp].Ia[K].Va),O/2+100,500)):(a.font="24px Muli",a.fillText("UNDEFEATED",O/2+100,500)),a.restore(),a.shadowBlur=0,a.fillStyle=this.yc,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270)),a.restore()))}};l.Ge=function(){this.Bi&&(this.Kl/=4,this.Qe/=4,this.Sg/=4,this.Ba/=4)};
l.Oa=function(){this.Bi&&(this.Kl/=4,this.Qe/=4,this.Sg/=4,this.Ba/=4)};l.$r=function(){bg_canvas.setAttribute("style","display:none");this.Bi=!0;Y.translate(X,0);this.i.Pe(Y);Y.translate(-X,0);Cb(Ye.getContext("2d"),0,O,P,"Hive "+this.n)};l.Hu=function(a){return 100>a?(a/=100,"rgb("+Math.round(190*(1-a)+0*a)+","+Math.round(190*(1-a)+128*a)+","+Math.round(190*(1-a)+255*a)+")"):this.Hu(Math.abs(400-this.I.jp%800)/400*99.99)};Yg.prototype=new vg;l=Yg.prototype;l.constructor=Yg;
function Yg(){this.xf=1<=ic();this.U=new zg({fade_in:500,fade_out:250});yg(this.U,"fade_in");this.buttons=[];this.buttons.push(new $("BACK",16,O/2,P/2+260,60,65,"white",x.impulse_blue,function(a){return function(){yg(a.U,"fade_out",function(){S=new Pf})}}(this),"back"));this.buttons.push(new Zg("beat_hive",O/2-300,200,50));this.buttons.push(new Zg("final_boss",O/2-150,200,50));this.buttons.push(new Zg("untouchable",O/2+0,200,50));this.buttons.push(new Zg("pacifist",O/2+150,200,50));this.buttons.push(new Zg("high_roller",
O/2+300,200,50));this.buttons.push(new Zg("beat_hard",O/2-300,350,50));this.buttons.push(new Zg("blitz_hive1",O/2-150,350,50));this.buttons.push(new Zg("blitz_hive2",O/2-0,350,50));this.buttons.push(new Zg("blitz_hive3",O/2+150,350,50));this.buttons.push(new Zg("blitz_hive4",O/2+300,350,50))}l.na=function(a){this.U.na(a)};
l.Y=function(a){this.Xb||(He.setAttribute("style",""),Sf("Hive 0",.3),this.Xb=!0);"fade_in"==this.U.bc?a.globalAlpha*=Ag(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-Ag(this.U));a.textAlign="center";a.font="24px Muli";a.fillStyle="white";a.fillText("ACHIEVEMENTS",O/2,50);a.font="12px Muli";a.fillText("MOUSE OVER TO VIEW",O/2,75);for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);for(b=0;b<this.buttons.length;b++)Xg(this.buttons[b],a)};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};Pg.prototype=new vg;l=Pg.prototype;l.constructor=Pg;
function Pg(a,b,c){this.K=a;this.ec=b;this.gg=c;this.wb=[];this.Fd=-1;this.Ba=this.Nd=250;this.hb="in";this.Bh=Ne;this.ra=c.ra;this.Ty=this.Xb=!1;this.jb=0;var d=this;this.Gj=K;this.kn=new $("NORMAL MODE",20,O/2-150,300,250,125,"white",x.impulse_blue,function(){d.tm("easy")},"easy_mode");this.iu=new $("CHALLENGE MODE",20,O/2+150,300,250,125,"white",x.impulse_blue,function(){d.tm("normal")},"normal_mode");this.debug();if(this.gg.rp){if("first_time_tutorial"==this.gg.EA||this.gg.Fu)this.wb.push({type:"first_time_tutorial"}),
Ne=!1,cg()}else this.ec&&Me[this.Gj]["world "+this.K.pa]&&Me[this.Gj]["world "+this.K.pa].first_victory&&(4==this.K.pa&&(this.wb.push({type:"final_victory"}),"easy"==this.Gj&&(this.Ty=Oe=!0,K="normal",cg())),Me[this.Gj]["world "+this.K.pa].first_victory=!1,cg());this.Fd+=1;0<this.wb.length&&fc();this.FB=3E3;this.$q=0}l.tm=function(a){"none"==this.hb&&(K=a,cg(),this.yF(),this.hb="out",this.Ba=4*this.Nd)};
l.Y=function(a){if(0!=this.wb.length){var b=this.wb[this.Fd];if(!this.Xb){bg_canvas.setAttribute("style","display:none");var c=Ye.getContext("2d");"world_victory"==b.type?Cb(c,0,O,P,"Hive "+(b.data+1)):"final_victory"==b.type?Cb(c,0,O,P,"Title Alt4"):Cb(c,0,O,P,"Hive 0");this.Xb=!0}a.save();a.globalAlpha="world_victory"==b.type?a.globalAlpha*mg(b.data+1):"final_victory"==b.type?mg(0)/2*a.globalAlpha:a.globalAlpha*mg(0);a.drawImage(Ye,0,0,O,P,0,0,O,P);a.restore();a.save();"in"==this.hb?(c=this.Ba/
this.Nd,a.globalAlpha=1-c):"out"==this.hb&&(c=this.Ba/this.Nd,a.globalAlpha=Math.max(0,c));if("quest"!=b.type&&"ult_tutorial"!=b.type&&"select_difficulty"!=b.type&&"share"!=b.type){var d="world_victory"==b.type?b.data+1:0;a.save();a.globalAlpha*=.2;La(a,d,O/2,250,100);a.restore()}var f=c="",g=32;"world_victory"==b.type&&(a.fillStyle=x["world "+(b.data+1)+" bright"],g=24,c="NEW HIVE UNLOCKED",f="easy"==this.Gj?"STANDARD MODE":"CHALLENGE MODE",a.textAlign="center",a.font="48px Muli",a.fillText("HIVE "+
qa[b.data+1],O/2,270));"final_victory"==b.type&&(final_message="easy"==this.Gj?"HARD MODE UNLOCKED FOR ALL HIVES":"CHALLENGE MODE COMPLETED",final_message_teaser="easy"==this.Gj?"THE REAL GAME BEGINS":"INCREDIBLE",a.textAlign="center",a.fillStyle="white",a.font="24px Muli",a.fillText(final_message,O/2,240),a.font="20px Muli",a.fillStyle="red",a.fillText(final_message_teaser,O/2,280),a.font="16px Muli",a.fillStyle="white","easy"!=this.Gj&&a.fillText("THANKS FOR PLAYING IMPULSE",O/2,320));"rating"==
b.type&&(c="YOUR SKILL RATING WENT UP",f="CONGRATULATIONS!",g=32,a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Em,O/2,270),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW SKILL RATING",O/2,405),a.font="48px Muli",a.fillText(b.data.YF,O/2,455));"lives"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA LIFE",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Em,O/2-25,270),J(a,O/2+35,250,0,40,40,"lives_icon"),
a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("LIVES",O/2-d,400),J(a,O/2-d,422,0,30,30,"lives_icon"),a.fillText("LIVES",O/2+d,400),J(a,O/2+d,422,0,30,30,"lives_icon"),a.font="36px Muli",a.fillText(b.data.tD-b.data.Em,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.tD,O/2+d,470));"ult"==b.type&&(a.textAlign="center",f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA ULTIMATE",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Em,O/2-25,270),J(a,O/2+35,250,
0,40,40,"ultimate_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("ULT",O/2-d,400),J(a,O/2-d,422,0,30,30,"ultimate_icon"),a.fillText("ULT",O/2+d,400),J(a,O/2+d,422,0,30,30,"ultimate_icon"),a.font="36px Muli",a.fillText(b.data.vD-b.data.Em,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.vD,O/2+d,470));if("quest"==b.type)for(d=0,a.save(),La(a,d,O/2,250,150),a.restore(),a.textAlign="center",a.fillStyle=x.impulse_blue,a.font="32px Muli",a.fillText("CHALLENGE COMPLETE!",
O/2,120),draw_quest_button(a,O/2,250,60,b.data.type),a.font="24px Muli",a.fillStyle="white",d=0;d<Fb[b.data.type].text.length;d++)a.fillText(Fb[b.data.type].text[d],O/2,400+36*d);"spark_val"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="SPARK VALUE INCREASED",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Em,O/2-25,270),J(a,O/2+35,250,0,40,40,"sparks_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillStyle="white",a.fillText("SPARK",O/2-d,
390),a.fillText("VALUE",O/2-d,405),J(a,O/2-d,424,0,22,22,"sparks_icon"),a.fillText("SPARK",O/2+d,390),a.fillText("VALUE",O/2+d,405),J(a,O/2+d,424,0,22,22,"sparks_icon"),a.font="36px Muli",a.fillText(b.data.uD-b.data.Em,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.uD,O/2+d,470));"first_time_tutorial"==b.type&&(a.font="30px Muli",a.textAlign="center",a.fillStyle="white",a.fillText("INTRO TUTORIAL COMPLETE",O/2,250),a.fillStyle="white",a.font="16px Muli",a.fillText("INITIALIZING MAIN GAME...",
O/2,550));"select_difficulty"==b.type&&(f="LET'S DO THIS",g=36,c="SELECT DIFFICULTY",this.kn.Y(a),this.iu.Y(a));c&&(a.fillStyle="white",a.textAlign="center",a.font="16px Muli",a.fillText(f,O/2,70),a.font=g+"px Muli",a.fillStyle="world_victory"==b.type?x["world "+(b.data+1)+" bright"]:x.impulse_blue,a.fillText(c,O/2,120));"select_difficulty"!=b.type?(a.textAlign="center",a.fillStyle="world_victory"==b.type?x["world "+(b.data+1)+" bright"]:"white",a.font="16px Muli","first_time_tutorial"!=b.type&&("ult"!=
b.type?a.fillText("PRESS ANY KEY TO CONTINUE",O/2,P-30):a.fillText("PRESS ANY KEY FOR ULT TUTORIAL",O/2,P-30))):(a.font="16px Muli",a.textAlign="center",a.fillStyle=x.impulse_blue,a.fillText("YOU CAN SWITCH DIFFICULTY ON THE TITLE SCREEN OPTIONS MENU",O/2,P-75));a.restore()}};l.debug=function(){};
l.na=function(a){0==this.wb.length&&$g(this);this.Fd<this.wb.length&&0<=this.Fd&&"first_time_tutorial"==this.wb[this.Fd].type&&(this.$q-=a,0>=this.$q&&"none"==this.hb&&(this.hb="out",this.Ba=this.Nd));this.Ba-=a;0>this.Ba&&("in"==this.hb&&(this.hb="none",this.$q=this.FB),"out"==this.hb&&(this.Fd+=1,this.Fd>=this.wb.length?$g(this):(this.hb="in",this.Ba=this.Nd,this.Xb=!1)))};function ah(a,b){var c=a.Ty?1:a.K.pa;"normal"!=K||Ne?Sf("Hive 0",.3):Sf("Title Alt"+c,.15);S=new dg(c,b)}
function $g(a){a.hG?S=new pc("ult_tutorial"):a.ec?a.ra&&1<=a.K.pa&&3>=a.K.pa?S=new Og(a.K.pa+1,null,null,null,null):a.ra&&0==a.K.pa&&a.Bh?S=new Og(a.K.pa+1,null,null,null,null):a.ra&&4==a.K.pa?ah(a,!1):a.gg.Ij?S=new Pf:ah(a,!1):a.gg.rp?"ult_tutorial"==a.gg.EA?S=new Og(2,null,null,null,null):ah(a,!1):a.ra?S=new Bg(a.gg.I,a.gg.i,a.gg.n,a.gg.Kb,{Va:a.gg.I.Va,Rc:a.gg.I.Rc,jb:a.jb,ra:a.ra}):ah(a,!0)}
l.Ge=function(){0!=this.wb.length&&"none"==this.hb&&"select_difficulty"!=this.wb[this.Fd].type&&"first_time_tutorial"!=this.wb[this.Fd].type&&(this.hb="out",this.Ba=this.Nd)};
l.Oa=function(a,b){0==this.wb.length||0<=this.Fd&&this.Fd<this.wb.length&&"share"==this.wb[this.Fd].type||"first_time_tutorial"==this.wb[this.Fd].type||this.Fd>=this.wb.length||("select_difficulty"==this.wb[this.Fd].type&&(this.kn.Oa(a,b),this.iu.Oa(a,b)),"none"==this.hb&&"select_difficulty"!=this.wb[this.Fd].type&&(this.hb="out",this.Ba=this.Nd))};l.Ea=function(a,b){0!=this.wb.length&&"select_difficulty"==this.wb[this.Fd].type&&(this.kn.Ea(a,b),this.iu.Ea(a,b))};Pf.prototype=new vg;l=Pf.prototype;l.constructor=Pf;function Pf(){this.buttons={menu:[],enter:[],options:[]};this.Su=new Image;this.Xb=!1;this.visibility=0;this.state="menu";this.Su.src="impulse_logo.png";bh(this);ec(cc,ka.Menu);this.U=new zg({fade_in:500,fade_out:250});yg(this.U,"fade_in")}l.na=function(a){this.U.na(a);Tf(a)};
l.Y=function(a){this.Xb||(He.setAttribute("style",""),Sf("Hive 0",.3),this.Xb=!0);a.save();"fade_in"==this.U.bc?a.globalAlpha*=Ag(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-Ag(this.U));a.shadowColor=x.impulse_blue;a.shadowBlur=0;ob(a,O/2,150,"MARK ZHANG");for(var b=0;b<this.buttons[this.state].length;b++)this.buttons[this.state][b].Y(a);for(b=0;b<this.buttons[this.state].length;b++)Xg(this.buttons[this.state][b],a);a.restore()};
l.Ea=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Oa(a,b)};
function bh(a){c=a;a.buttons.menu=[];var b=P/2+50,c=a;a.buttons.menu.push(new $("START GAME",20,Ne?O/2:O/2-130,b,210,100,"white",x.impulse_blue,function(){if(Pe[K]&&Pe[K].I)yg(c.U,"fade_out",function(){S=new Tg(null,null,null,null,null,!0)});else{for(var a=1;4>a&&Me[K]["world "+a];)a+=1;null!=c.U.bc||"normal"!=K||Ne?Ne&&Rf(x["world 0 dark"],150,1):Rf("Title Alt"+a,250,.15);yg(c.U,"fade_out",function(){S=new dg(a,!1)})}},"player"));Ne||a.buttons.menu.push(new $("PRACTICE",20,O/2+130,b,210,100,"white",
x.impulse_blue,function(){for(var a=1;4>a&&Me[K]["world "+a];)a+=1;null==c.U.bc&&"normal"==K&&Rf("Title Alt"+a,250,.15);yg(c.U,"fade_out",function(){S=new dg(a,!0)})},"normal_mode"));a.buttons.menu.push(new $("OPTIONS",16,O/2-240,b+130,100,70,"white",x.impulse_blue,function(){yg(c.U,"fade_out",function(){Ke=new ag(c)})},"gear"));a.buttons.menu.push(new $("ACHIEVEMENTS",16,O/2,b+130,100,70,"white",x.impulse_blue,function(){yg(c.U,"fade_out",function(){S=new Yg})},"quest"));a.buttons.menu.push(new $("CREDITS",
16,O/2+240,b+130,100,70,"white",x.impulse_blue,function(){yg(c.U,"fade_out",function(){S=new xg})},"credit"));a.buttons.enter.push(new ch("CLICK TO BEGIN",20,O/2,P/2+150,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},20)}));a.zy=new ch("NORMAL MODE",20,O/2-100,P/2+120,200,50,"white","blue",function(){c.tm("easy")});a.buttons.options.push(a.zy);a.kn=new ch("CHALLENGE MODE",20,O/2+100,P/2+120,200,50,"white","blue",function(){c.tm("normal")});a.buttons.options.push(a.kn);dh(a);
a.aC=new ch("CLEAR DATA",20,O/2,P/2+170,200,50,"white","blue",function(){eh()});a.buttons.options.push(a.aC);a.buttons.options.push(new ch("BACK",20,O/2,P/2+220,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},50)}));b=new $("",20,O-20,20,30,30,"white",x.impulse_blue,function(){$f()},"fullscreen_in_game");fh(b,new Xf("fullscreen_msg",x["world 0 bright"],0));a.buttons.menu.push(b);b=new $("",20,O-50,20,30,30,"white",x.impulse_blue,function(){bg()},"mute_in_game");fh(b,new Xf("mute_msg",
x["world 0 bright"],0));a.buttons.menu.push(b)}l.tm=function(a){K=a;cg();dh(this);ig(K)};function dh(a){a.zy.qw="easy"==K;a.kn.qw="normal"==K};dg.prototype=new vg;l=dg.prototype;l.constructor=dg;
function dg(a,b){this.Fh=b;this.Xb=!1;this.color="white";this.xf=1<=ic();this.n=a;this.Bv=null;this.vm=K;this.ks=null;this.buttons=[];var c=this;this.buttons.push(new $("BACK",16,70,P/2+260,60,65,this.color,x.impulse_blue,function(){yg(c.U,"fade_out",function(){S=new Pf});Rf("Hive 0",250,.3)},"back"));this.yh=["easy","normal"];this.pE=new gh(16,730,P/2+260,100,65,this.color,x.impulse_blue,this);this.buttons.push(this.pE);this.xD=5;this.Jl=P/2;eg(this);ec(cc,ka.Menu);this.Fy=500;this.Gy=250;this.ui=
this.Pm=null;lg();this.U=new zg({fade_in:250,fade_across:250,fade_out:250});yg(this.U,"fade_in");this.vf=[];this.lg=this.Pk=1E3;this.Pr=2E3;this.Gc={x:O/2/F,y:this.Jl/F};this.Qk=5;this.Qr=8;Ne&&setTimeout(function(){S=new Og(0,null,null,null,null,null,!1,!0)})}
function eg(a){a.Mn={};for(var b=0;b<a.yh.length;b++){var c=a.yh[b];a.Mn[c]={0:!0,1:!0,2:Me[c]["world 1"]||!1||Ee,3:Me[c]["world 2"]||!1||Ee,4:Me[c]["world 3"]||!1||Ee}}a.Wi={};a.Rh={};a.bh={};for(b=0;b<a.yh.length;b++)if(a.Wi[a.yh[b]]={},a.Rh[a.yh[b]]=[],a.bh[a.yh[b]]={},hh(a,a.yh[b]),a.Fh)ih(a,a.yh[b]),jh(a,0,a.Jl,!0,a.yh[b]);else for(var c=a,d=a.yh[b],f=0;4>=f;f++)jh(c,f,c.Jl,c.Mn[d][f],d)}
function hh(a,b){for(var c=["T","1","2","3","4"],d=2,f=2;f<a.xD&&(!(1<f)||a.Mn[b][f]);f++)d+=1;for(var g=O/2-37.5*(d-1),f=0;f<d;f++){var h=a;a.Rh[b].push(new $(c[f],16,g+75*f,P/2+250,60,60,x["world "+f+" bright"],x.impulse_blue,function(a){return function(){h.n!=a&&(yg(h.U,"fade_across",function(){h.n=a}),kh(h,a,h.vm),h.Bv=a,h.ks=h.vm)}}(f),"world"+f))}}
function lh(a){var b=K;if(a.vm!=b){for(var c=a.n;1<c&&!a.Mn[b][c];)--c;yg(a.U,"fade_across",function(){a.vm=a.ks;a.n=c});kh(a,c,b);a.Bv=c;a.ks=b}}function kh(a,b,c){void 0==b&&(b=a.n);0!=b&&"normal"==c?Rf("Title Alt"+b,250,.15):Rf("Hive 0",250,.3)}
function ih(a,b){for(var c=1;4>=c;c++){a.bh[b][c]=[];for(var d=0;8>d;d++){var f="HIVE "+c+"-"+(d+1);7==d&&(f="BOSS "+c);var g=a,h=x["world "+c+" bright"],h=new $(d+1,30,O/2+150*(-1.5+d%4),4<=d?P/2+100:P/2,75,75,h,h,function(a,b){return function(){g.Pm=g.Gy;g.ui=g.Pm;g.Cu=x["world "+b+" dark"];var c=Ye.getContext("2d");Cb(c,0,O,P,"Hive "+g.n);setTimeout(function(){S=new Qg(a,b)},g.Gy)}}(f,c),"practice"+c);h.rw=!1;h.W=f;a.bh[b][c].push(h);h.$c=N[f].Ia[b].xg||0==d&&a.Mn[b][c]||Ee;h.$c||(h.color="gray")}}}
function jh(a,b,c,d,f){a.Wi[f][b]=new $(d?"START":"LOCKED",50,O/2,c,150,150,x["world "+b+" bright"],x["world "+b+" bright"],function(){a.Pm=a.Fy;a.ui=a.Pm;a.Cu=x["world "+b+" dark"];var c=Ye.getContext("2d");Cb(c,0,O,P,"Hive "+a.n);setTimeout(function(){S=new Og(b,null,null,null,null,null,!1,!0)},a.Fy)},"world"+b);a.Wi[f][b].$c=d}
l.Y=function(a){if(!Ne){this.Cu&&(a.save(),a.globalAlpha=1-this.ui/this.Pm,a.fillStyle=this.Cu,a.fillRect(0,0,O,P),a.globalAlpha*=mg(this.n),a.drawImage(Ye,0,0,O,P,0,0,O,P),a.restore());a.save();null!=this.ui&&(a.globalAlpha*=Math.max(this.ui/this.Pm,0));"fade_in"==this.U.bc?a.globalAlpha*=Ag(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-Ag(this.U));this.Xb||(bg_canvas.setAttribute("style",""),this.Xb=!0);for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);!this.Fh&&this.Mn[K][this.n]&&
this.Fm(a,F);a.font="13px Muli";a.fillStyle="white";a.fillText("SELECT HIVE",O/2,P/2+215);"fade_across"==this.U.bc?(a.save(),a.globalAlpha*=1-Ag(this.U),mh(this,a,this.n,this.vm),a.restore(),a.save(),a.globalAlpha*=Ag(this.U),mh(this,a,this.Bv,this.ks),a.restore()):mh(this,a,this.n,this.vm)}};
function mh(a,b,c,d){a.Fh&&0!=c||a.Wi[d][c].Y(b);if(0<c&&a.Fh&&0!=c)for(var f=0;f<a.bh[d][c].length;f++)a.bh[d][c][f].Y(b);0!=c&&(a.Fh?(b.fillStyle="white",b.font="20px Muli",b.fillText("PRACTICE MODE",O/2,a.Jl-170)):"normal"==K&&(b.fillStyle="white",b.font="24px Muli",b.fillText("HARD MODE",O/2,a.Jl-170)));b.fillStyle=x["world "+c+" bright"];b.font="42px Muli";b.textAlign="center";0<c?b.fillText("HIVE "+qa[c],O/2,a.Jl-125):b.fillText("TUTORIAL",O/2,a.Jl-125);for(f=0;f<a.Rh[d].length;f++)a.Rh[d][f].Y(b),
a.Rh[d][f].Sh&&(b.textAlign="center",b.font="15px Muli",0==f?(b.fillStyle=x["world "+f+" bright"],b.fillText("TUTORIAL",O/2,P-8)):a.Rh[d][f].$c&&(b.fillStyle=x["world "+f+" bright"],b.fillText("HIVE "+qa[f],O/2,P-8)));a.Fh&&0!=c||Xg(a.Wi[d][c],b);if(0<c&&a.Fh)for(f=0;f<a.bh[d][c].length;f++)Xg(a.bh[d][c][f],b)}l.na=function(a){Ne||(null!=this.ui&&(this.ui-=a),this.Fh||this.on(a),this.U.na(a),Tf(a))};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b);var d=K;if(this.Fh)if(0!=this.n)for(c=0;c<this.bh[d][this.n].length;c++)this.bh[d][this.n][c].Ea(a,b);else this.Wi[d][this.n].Ea(a,b);else this.Wi[d][this.n].Ea(a,b);for(c=0;c<this.Rh[d].length;c++)this.Rh[d][c].Ea(a,b)};
l.Oa=function(a,b){if(null==this.ui){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b);var d=K;if(this.Fh)if(0!=this.n)for(c=0;c<this.bh[d][this.n].length;c++)this.bh[d][this.n][c].Oa(a,b);else this.Wi[d][this.n].Oa(a,b);else this.Wi[d][this.n].Oa(a,b);for(c=0;c<this.Rh[d].length;c++)this.Rh[d][c].Oa(a,b)}};l.on=og.prototype.on;l.kp=og.prototype.kp;l.Fm=og.prototype.Fm;pc.prototype=new Uf;l=pc.prototype;l.constructor=pc;function pc(a){this.W="HOW TO PLAY";this.ia(0,null,null,!0,this.K,!1);this.mode=a;this.ready=!1;this.i=this.Wm(N["HOW TO PLAY"]);this.i.hn=!0;this.K=new gc(0,!1);this.Sd=!1;this.fg=0;this.Bm=100;this.xA=3E3;this.Ba=this.Nd=500;this.hb="in"}l.Wm=wg.prototype.Wm;
l.$r=function(){this.ready=!0;this.i.w=this;this.i.reset();this.W=this.i.W;this.Aa=!1;Cg(this);He.setAttribute("style","display:none");Y.translate(X,0);this.i.Pe(Y);Y.translate(-X,0);ec(cc,ka.Interlude);this.color=this.Aa?x["boss "+this.n]:x["world "+this.n+" lite"];this.ri=x["world "+this.n+" dark"];this.yc=x["world "+this.n+" lite"];this.M=x["world "+this.n+" bright"];this.Ld=12;"normal_tutorial"==this.mode?this.da=0:"first_time_tutorial"==this.mode?(this.da=-1,this.fg=this.xA,this.Sd=!0):"ult_tutorial"==
this.mode&&(this.da=0,this.fg=.5*this.xA,this.Sd=!0);this.Cn=null;this.Yp=document.createElement("canvas");this.Yp.width=150;this.Yp.height=150;this.Sb=this.Yp.getContext("2d");this.dq=document.createElement("canvas");this.dq.width=150;this.dq.height=150;this.ud=this.dq.getContext("2d");this.lE=["white","silver","gold"];this.nE=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];this.oE=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"];this.Bn=["white","silver","gold"];var a=this;this.Lk=new $("EXIT TUTORIAL",
20,400,440,125,85,this.yc,"white",function(){a.zu=!0},"quit");this.Gl=(this.xf=1<=ic())?2:0;this.Ld+=this.Gl;this.xf&&(this.K.kk=99)};l.tm=function(a){K=a;cg()};
l.Uc=function(a){if(!this.pause&&1==this.zoom){var b=this.q;b.r[5]=Math.max(1E3,b.r[5]);this.Sd&&(0>=this.fg?(this.Sd=!1,this.hb="out",this.Ba=this.Nd):this.fg-=a);this.Ba-=a;0>this.Ba&&"none"!=this.hb&&1==this.zoom&&("in"==this.hb?this.hb="none":"out"==this.hb&&(nh(this,this.da+1),2==this.da&&"ult_tutorial"==this.mode&&(this.Lk.y=550),this.hb="in",this.Ba=this.Nd))}};
l.fe=function(a){if(1==this.zoom){a.save();a.translate(X,0);if("in"==this.hb){var b=this.Ba/this.Nd;a.globalAlpha=1-b}else"out"==this.hb&&(b=this.Ba/this.Nd,a.globalAlpha=Math.max(0,b));if("first_time_tutorial"==this.mode)if(a.font="24px Muli",a.textAlign="center",a.fillStyle="white",-1==this.da&&(ob(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("INTRO TUTORIAL",400,500),a.font="18px Muli",a.fillStyle=x.impulse_blue,a.fillText("PRESS Q TO PAUSE AND QUIT",400,535)),0==this.da&&("right"==E.Eb&&
Ra(a,400,430,60,"white",["W","A","S","D"]),"left"==E.Eb&&"mouse"==E.wc&&Ra(a,400,430,60,"white"),a.fillText("MOVE",400,500)),1==this.da&&("mouse"==E.wc?Va(a,400,400,83,125,"white"):Ra(a,400,430,60,"white"),a.fillText("IMPULSE",400,500),a.save(),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",400,550),a.restore()),2==this.da&&oh(this,a),3==this.da&&ph(this,a),4==this.da&&qh(a),5==this.da&&rh(a),6==this.da&&sh(a),7==this.da&&th(this,a),8==this.da&&qh(a),9==this.da&&
uh(this,a),-1!=[2,5,6,7].indexOf(this.da))a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*vh()),a.font="16px Muli",a.fillText("PRESS SPACEBAR TO CONTINUE",400,580),a.restore();else if(0==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*vh()),a.font="16px Muli",a.fillText("TRY MOVING NOW",400,580),a.restore();else if(1==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*vh()),a.font="16px Muli",a.fillText("TRY IMPULSING NOW",400,580),
a.restore();else if(3==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*vh()),a.font="16px Muli",a.fillText("TRY KILLING AN ENEMY NOW",400,580),a.restore();else if(4==this.da||8==this.da)a.save(),a.fillStyle=x.impulse_blue,a.globalAlpha*=Math.min(1,1.5*vh()),a.font="16px Muli",a.fillText("GET THE GATEWAY SCORE",400,580),a.restore();if("normal_tutorial"==this.mode){a.font="20px Muli";a.textAlign="center";a.fillStyle="white";0==this.da&&(ob(a,400,380,"MARK ZHANG"),a.font="24px Muli",
a.fillStyle="white",a.fillText("TUTORIAL",400,500));1==this.da&&("right"==E.Eb&&Ra(a,400,430,60,"white",["W","A","S","D"]),"left"==E.Eb&&"mouse"==E.wc&&Ra(a,400,430,60,"white"),a.fillText("MOVE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillStyle="white",a.fillText("ALTERNATE CONTROLS AVAILABLE IN PAUSE MENU",400,550));2==this.da&&(a.font="20px Muli","mouse"==E.wc?Va(a,400,400,83,125,"white"):Ra(a,400,430,60,"white"),a.fillText("USE IMPULSE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",
400,550));3==this.da&&oh(this,a);4==this.da&&ph(this,a);if(5==this.da){for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=x[this.lE[b]],a.shadowColor=a.fillStyle,a.font="25px Muli",a.fillText(N["HOW TO PLAY"].za[K][b],600,40*b+337),a.textAlign="left",a.font="20px Muli",a.fillText(this.nE[b],200,330+40*b),a.font="12px Muli",a.fillText(this.oE[b],200,40*b+345);a.beginPath();a.rect(190,308,420,45);a.strokeStyle="red";a.lineWidth=8;a.stroke();a.beginPath();a.rect(825,515,150,80);a.strokeStyle=
"red";a.lineWidth=6;a.stroke();a.font="20px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE...",400,500);a.shadowColor="red";a.fillStyle="red"}6==this.da&&uh(this,a);this.da==7+this.Gl&&rh(a);this.da==8+this.Gl&&sh(a);this.da==9+this.Gl&&th(this,a);this.xf&&(a.fillStyle="white",a.textAlign="center",7==this.da&&wh(a),8==this.da&&xh(this,a));this.da==10+this.Gl&&(a.font="20px Muli",a.fillStyle="white","right"==E.Eb?(Sa(a,250,406,55,55,10,"white"),a.fillText("Q",250,
412)):"left"==E.Eb&&(Sa(a,250,406,125,55,10,"white"),a.fillText("ENTER",250,412)),Sa(a,400,406,55,55,10,"white"),a.fillText("X",400,412),Sa(a,550,406,55,55,10,"white"),a.fillText("C",550,412),a.font="16px Muli",a.fillText("PAUSE",250,462),a.fillText("MUTE MUSIC",400,462),a.fillText("FULLSCREEN",550,462),a.font="12px Muli",a.fillText("ENEMY INFO AND GAME OPTIONS IN THE PAUSE MENU",400,530));this.da==11+this.Gl&&(this.Lk.Y(a),a.fillStyle=x.impulse_blue,a.font="16px Muli",a.fillText("THANKS FOR PLAYING IMPULSE!",
400,335),a.font="12px Muli",a.fillText("- MARK -",400,360));a.globalAlpha=1;0<this.da&&(Ta(a,100,420,20,"left","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("BACK",98,450));this.da<this.Ld-1&&(Ta(a,700,420,20,"right","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("NEXT",702,450));for(b=0;b<this.Ld;b++){var c=(this.Ld-1)/2-b;a.beginPath();a.arc(400-25*c,580,4,0,2*Math.PI,!0);a.fillStyle="white";this.da==b?(a.fillStyle="white",a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=
5,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=5)}}"ult_tutorial"==this.mode&&(a.fillStyle="white",a.textAlign="center",0==this.da&&(ob(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("ULT TUTORIAL",400,500)),1==this.da&&wh(a),2==this.da&&xh(this,a));a.restore()}};
function qh(a){a.beginPath();a.rect(825,515,150,80);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.font="24px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE TO BEAT THE LEVEL",400,420);a.save();a.globalAlpha*=vh();yh(a,735,555,50,"red");a.restore()}
function yh(a,b,c,d,f,g){a.save();g&&(a.translate(b,c),"left"==g&&a.rotate(Math.PI),"up"==g&&a.rotate(3*Math.PI/2),"down"==g&&a.rotate(Math.PI/2),a.translate(-b,-c));a.beginPath();a.moveTo(b-d/2,c);a.lineTo(b+.355*d,c);a.lineWidth=d/5;a.strokeStyle=f;a.stroke();Ta(a,b+d/2,c,.6*d,"right",f,!1);a.restore()}
function rh(a){a.font="24px Muli";a.fillStyle="white";a.fillText("YOUR MULTIPLIER INCREASES THE POINTS",400,340);a.fillText("YOU GET FROM KILLING ENEMIES",400,375);a.fillStyle=x.impulse_blue;a.font="48px Muli";a.fillText("100",250,450);a.fillStyle="white";a.font="12px Muli";a.fillText("BASE POINT VALUE",250,480);a.fillText("OF ENEMY",250,500);yh(a,325,435,30,"white");a.fillStyle=x.impulse_blue;a.font="48px Muli";a.textAlign="center";a.fillText("x5",400,450);a.fillStyle="white";a.font="12px Muli";
a.fillText("YOUR CURRENT",400,480);a.fillText("MULTIPLIER",400,500);yh(a,475,435,30,"white");a.fillStyle=x.impulse_blue;a.font="48px Muli";a.fillText("+500",565,450);a.fillStyle="white";a.font="12px Muli";a.fillText("TOTAL POINTS",565,480);a.fillText("GAINED",565,500);a.beginPath();a.rect(825,225,150,100);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.save();a.globalAlpha*=vh();yh(a,735,280,50,"red");a.restore()}
function sh(a){a.fillStyle="white";a.font="16px Muli";a.fillText("KILLING ENEMIES",250,360);a.fillStyle=x.impulse_blue;a.font="36px Muli";a.fillText("INCREASES",250,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",250,430);a.fillText("TOUCHING ENEMIES",550,360);a.fillStyle="red";a.font="36px Muli";a.fillText("RESETS",550,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",550,430);a.fillStyle="white";a.save();a.globalAlpha*=.5;a.font="12px Muli";a.fillText("MULTIPLIER PERMANENTLY +1 EVERY 10 SECONDS",
400,500);a.restore()}
function th(a,b){b.beginPath();b.arc(a.i.fk.x,a.i.fk.y,25,0,2*Math.PI);b.lineWidth=4;b.strokeStyle="red";b.stroke();b.beginPath();b.arc(a.i.Bf.x,a.i.Bf.y,25,0,2*Math.PI);b.stroke();J(b,300,440,void 0,25,25,"spark");b.font="16px Muli";b.fillStyle=x.impulse_blue;b.fillText("+10 SPARKS",300,475);J(b,500,440,void 0,25,25,"multi");b.font="16px Muli";b.fillStyle="white";b.fillText("+5 MULTIPLIER",500,475);b.font="24px Muli";b.fillText("POWERUPS",400,350);b.font="12px Muli";b.fillStyle=x.impulse_blue;b.fillText("100 SPARKS = EXTRA LIFE",
300,495);b.beginPath();b.rect(-160,Ec-140,120,80);b.strokeStyle="red";b.lineWidth=4;b.stroke()}function wh(a){"mouse"==E.wc?(Wa(a,400,400,83,125,"white"),a.font="20px Muli",a.fillText("USE ULTIMATE",400,500)):(Sa(a,400,400,55,55,10,"white"),a.font="20px Muli",a.fillText("E",400,406),a.fillText("USE ULTIMATE",400,470))}
function xh(a,b){J(b,400,330,0,60,60,"ultimate");b.font="16px Muli";b.textAlign="center";b.fillStyle="white";b.shadowBlur=0;b.fillText("YOU GET NO POINTS FOR KILLING ENEMIES WITH YOUR ULTIMATE",400,430);b.fillText("WHILE USING YOUR ULTIMATE, YOU ARE INVINCIBLE",400,480);"ult_tutorial"==a.mode&&a.Lk.Y(b)}function vh(){return Math.abs(((new Date).getTime()%2E3-1E3)/1E3)}
function ph(a,b){b.drawImage(a.Yp,0,0,150,150,225,300,150,150);b.drawImage(a.dq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.restore();b.shadowBlur=0;b.beginPath();b.moveTo(385,375);b.lineTo(400,375);b.lineWidth=8;b.strokeStyle="white";b.stroke();Ta(b,408,375,20,"right","white",!1);b.font="20px Muli";b.fillStyle="white";b.textAlign="center";b.fillText("IMPULSE ENEMIES INTO THE VOID TO KILL THEM",
400,500);0<a.i.s.length&&(b.save(),b.globalAlpha*=vh(),b.beginPath(),b.arc(a.i.s[0].body.g.position.x*F,a.i.s[0].body.g.position.y*F,25,0,2*Math.PI),b.lineWidth=6,b.strokeStyle=x.impulse_blue,b.stroke(),b.beginPath(),b.moveTo(a.i.s[0].body.g.position.x*F,a.i.s[0].body.g.position.y*F-25),b.lineTo(a.i.s[0].body.g.position.x*F,66),b.lineWidth=6,b.stroke(),Ta(b,a.i.s[0].body.g.position.x*F,60,25,"up",x.impulse_blue,!1),b.restore())}
function oh(a,b){b.drawImage(a.Yp,0,0,150,150,225,300,150,150);b.drawImage(a.dq,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.shadowBlur=0;yh(b,400,375,25,"white");b.shadowBlur=0;b.font="20px Muli";b.fillText("TOUCHING THE BLACK VOID WILL KILL YOU",400,500);for(var c=0;6>c;c++)yh(b,150+100*c,220,35,"red","down"),yh(b,150+100*c,120,35,"red","up");b.restore()}
function uh(a,b){Ta(b,355,170,25,"right","red",!1);Ta(b,445,170,25,"left","red",!1);Ta(b,400,125,25,"down","red",!1);Ta(b,400,215,25,"up","red",!1);b.beginPath();b.arc(400,170,50,0,2*Math.PI);b.lineWidth=8;b.shadowBlur=0;b.strokeStyle="red";b.stroke();"first_time_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",
400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");"normal_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("...THEN MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");b.fillStyle="white";"right"==E.Eb&&(Sa(b,400,445,300,50,10,"white"),b.fillText("SPACEBAR",400,451));"left"==E.Eb&&
(Sa(b,400,445,120,50,10,"white"),b.fillText("SHIFT",400,451))}function zh(a,b){b.save();b.beginPath();b.rect(0,0,150,75);b.fillStyle=a.ri;b.fill();Cb(b,75,150,150,"Hive 0");b.beginPath();b.moveTo(0,75);b.lineTo(150,75);b.lineWidth=6;b.strokeStyle=x["world 0 lite"];b.stroke();b.restore()}l.Ea=function(a,b){!this.pause&&this.ready&&1==this.zoom&&("normal_tutorial"==this.mode&&this.da==this.Ld-1&&this.Lk.Ea(a-X,b),this.q.xv=Lg(this,{x:a-X,y:b}),"ult_tutorial"==this.mode&&2==this.da&&this.Lk.Ea(a-X,b))};
l.Ge=function(a){this.ready&&1==this.zoom&&(a==va.aj||a==va.sk?(this.pause=!this.pause)&&(Ke=new Ig(this.i,this.n,this.I,this,this.Kb)):a==va.Fq&&this.K&&this.Aj&&Q(this.i.Gc,this.q.body.g.position)<this.i.Qk?"first_time_tutorial"==this.mode&&9>this.da||(this.ra=!0):mc(this.q,a),32==a&&-1!=[2,5,6,7].indexOf(this.da)&&"first_time_tutorial"==this.mode&&0==this.Sd&&"none"==this.hb&&(this.fg=0,this.Sd=!0))};
function nh(a,b){if("normal_tutorial"==a.mode&&4<=b||"first_time_tutorial"==a.mode&&3==b)a.i.hn=!1;"first_time_tutorial"==a.mode&&4==b&&(a.i.hn=!1);"ult_tutorial"==a.mode&&1==b&&(a.i.hn=!1,a.i.ly=!0);"first_time_tutorial"==a.mode&&5==b&&(a.i.hn=!0);if("first_time_tutorial"==a.mode&&8==b&&(a.i.hn=!1,a.i.ly=!0,a.Aj)){nh(a,b+1);return}if("normal_tutorial"==a.mode&&3==b&&3!=a.da||"first_time_tutorial"==a.mode&&2==b)a.Cn=new tg("player",{x:75/F,y:73/F},{x:0,y:0},!1),a.Cn.na(300);if("normal_tutorial"==
a.mode&&4==b&&4!=a.da||"first_time_tutorial"==a.mode&&3==b)a.Cn=new tg("stunner",{x:75/F,y:60/F},{x:0,y:-5},!1),a.Cn.na(100);a.da=b;if("normal_tutorial"==a.mode&&3==a.da||"first_time_tutorial"==a.mode&&2==a.da)a.Sb.clearRect(0,0,150,150),a.ud.clearRect(0,0,150,150),zh(a,a.Sb),zh(a,a.ud),yh(a.Sb,30,110,35,"red","up"),yh(a.Sb,120,110,35,"red","up"),yh(a.ud,30,110,35,"red","up"),yh(a.ud,120,110,35,"red","up"),J(a.Sb,75,75,0,30,30,"player_normal"),a.Sb.beginPath(),a.Sb.moveTo(75,55),a.Sb.lineTo(75,40),
a.Sb.lineWidth=4,a.Sb.strokeStyle=x.impulse_blue,a.Sb.stroke(),Ta(a.Sb,75,40,13,"up",x.impulse_blue,!1),a.Cn.Y(a.ud);if("normal_tutorial"==a.mode&&4==a.da||"first_time_tutorial"==a.mode&&3==a.da)a.Sb.clearRect(0,0,150,150),a.ud.clearRect(0,0,150,150),zh(a,a.Sb),zh(a,a.ud),J(a.Sb,75,120,0,30,30,"player_normal"),a.Sb.beginPath(),a.Sb.shadowOffsetX=0,a.Sb.shadowOffsetY=0,a.Sb.lineWidth=5,a.Sb.strokeStyle=x.impulse_blue,a.Sb.arc(75,120,40,7*Math.PI/6,11*Math.PI/6),a.Sb.shadowBlur=0,a.Sb.stroke(),Ja(a.Sb,
"stunner",75,77,1,Math.PI/2),a.Sb.beginPath(),a.Sb.moveTo(75,58),a.Sb.lineTo(75,43),a.Sb.lineWidth=4,a.Sb.strokeStyle="cyan",a.Sb.stroke(),Ta(a.Sb,75,40,13,"up","cyan",!1),J(a.ud,75,120,0,30,30,"player_normal"),a.ud.globalAlpha=.5,a.ud.globalAlpha=1,a.ud.beginPath(),a.ud.shadowOffsetX=0,a.ud.shadowOffsetY=0,a.ud.lineWidth=5,a.ud.strokeStyle=a.ud.shadowColor,a.ud.arc(75,120,50,7*Math.PI/6,11*Math.PI/6),a.ud.shadowBlur=0,a.ud.stroke(),a.Cn.Y(a.ud)}
l.tg=function(a,b){if(!(null!=this.ol&&120>Math.abs(a-X/2)&&160>Math.abs(b-(Ec/2+60)))){if(!this.pause&&this.ready&&1==this.zoom)if("normal_tutorial"==this.mode&&a>X&&(a<Dc-X&&400<b||this.da==10+this.Gl&&350<b)){if(this.da==this.Ld-1&&this.Lk.Oa(a-X,b),400>a&&0<this.da&&nh(this,this.da-1),800<a&&this.da<this.Ld-1&&nh(this,this.da+1),565<b&&595>b){var c=Math.round((this.Ld-1)/2-(600-a)/25);0<=c&&c<this.Ld&&nh(this,c)}}else c=this.q,c.$u=(new Date).getTime(),c.Np=!0;"ult_tutorial"==this.mode&&2==this.da&&
this.Lk.Oa(a-X,b)}};l.Or=function(){"first_time_tutorial"==this.mode&&this.ra||this.zu?S=new Pg(this.K,this.ec,{I:this.I,i:this.i,n:this.n,Kb:this.Kb,rp:!0,EA:this.mode}):(this.Ts=.1,this.xq=1,this.zoom=.1,this.Ll=!0,Eg(this,1,1E3),this.Nk="in",this.ready=!0,this.K=new gc(this.n,!1),this.i.reset(),this.reset(),Cg(this),this.i.ec=!1)};l.yj=function(){8==this.da&&"first_time_tutorial"==this.mode&&0==this.Sd&&"none"==this.hb&&(this.fg=this.Bm,this.Sd=!0)};function Ah(a,b,c,d,f,g,h){f&&this.ia(a,b,c,d,f,g,h)}l=Ah.prototype;l.ia=function(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.action=f;this.$c=!0;this.border=g;this.color=h;this.sa=!1;this.Za=null;this.Yb};l.Y=function(a){a.save();this.border&&(a.beginPath(),a.strokeStyle=this.$c?this.sa&&this.Za?this.Za:this.color:"gray",a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=4,a.stroke());this.fe(a);a.restore()};function Xg(a,b){a.Yb&&a.Yb.Y(b)}l.fe=function(){};
l.Ea=function(a,b){a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.$c&&(this.sa=!0),this.Sh=!0):this.Sh=this.sa=!1;this.Yb&&(this.Yb.visible=this.Sh,Yf(this.Yb,a,b))};l.Oa=function(a,b){return this.$c&&a>=this.x-this.u/2&&a<=this.x+this.u/2&&b>=this.y-this.m/2&&b<=this.y+this.m/2?(this.action(),!0):!1};l.Ge=function(a){(this.$c&&this.keyCode&&this.keyCode==a||this.Zz&&this.Zz==a)&&this.action()};function fh(a,b){a.Yb=b}l.tg=function(){};l.Xg=function(){};Bh.prototype=new Ah;Bh.prototype.constructor=Bh;function Bh(a,b,c,d,f,g,h,k,n){this.text=a;this.ia(b,c,d,f,null,!1,g);this.Ur=h;this.Kg=new Ch(this.x+this.u/2-20,this.y,20,20,this.color);this.Kg.checked=n();this.Ux=!0;this.action=function(){k(this.Kg.checked);this.Ux&&(this.Kg.checked=!this.Kg.checked)}}
Bh.prototype.fe=function(a){a.save();this.Sh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Sh?this.Ur:this.color;a.fillText(this.text,this.x-this.u/2+10,this.y+7);this.Kg.color=this.Sh?this.Ur:this.color;this.Kg.Y(a);a.restore()};function Dh(){}l=Dh.prototype;l.ia=function(a,b){this.u=a;this.m=b;this.x=Dc/2;this.y=Ec/2;this.buttons=[];this.yn=!0;this.U=new zg({fade_in:500,fade_out:250})};l.na=function(a){this.U.na(a)};
l.Y=function(a){a.save();a.fillStyle=x["world "+this.n+" dark"];a.fillRect(X,0,O,P);a.globalAlpha*=mg(this.n?this.n:0);a.drawImage(Ye,0,0,O,P,X,0,O,P);a.restore();a.save();"fade_in"==this.U.bc?a.globalAlpha*=Ag(this.U):"fade_out"==this.U.bc&&(a.globalAlpha*=1-Ag(this.U));this.yn&&(a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fillStyle="white",a.fill(),a.lineWidth=2,a.strokeStyle="black",a.stroke());this.fe(a);a.restore()};l.Pe=function(){};l.fe=function(){};l.Ea=function(){};
l.tg=function(){};l.Xg=function(){};l.Oa=function(){};l.Ge=function(){};l.Tp=function(){};Ig.prototype=new Dh;l=Ig.prototype;l.constructor=Ig;
function Ig(a,b,c,d,f){this.i=a;this.I=c;this.vb=d;this.n=b;this.W=this.i.W;this.Aa="BOSS"==this.W.slice(0,4);this.Kb=f;this.ia(800,600);this.yn=!1;this.mf="black";this.M=x["world "+this.n+" bright"];this.color=x["world "+this.n];this.yc=this.vb.yc;this.Hk=null;if(this.Aa)this.Hk={},this.Ye=0;else{this.Hk=N[this.W].s;this.Ye=0;for(var g in N[this.W].s)this.Ye+=1}this.Mf=40;Eh(this)}l.Pe=function(){};
function Eh(a){a.buttons=[];var b="white";if(0==a.n||void 0==a.n)b=x.impulse_blue;"HOW TO PLAY"!=a.W.slice(0,11)&&0!=a.n?(a.i.ec?(a.kE=new $("SAVE & QUIT",16,a.x+170,a.y-a.m/2+500,120,65,a.M,b,function(a){return function(){kg(a.vb.K);S=new Tg(a.vb.n,!1,a.vb.K,null,null,!0,!0);Ke=null}}(a),"save"),a.buttons.push(a.kE),a.us=new $("QUIT",16,a.x-170,a.y-a.m/2+500,60,65,a.M,b,function(a){return function(){kg({});S=new Tg(a.vb.n,!1,a.vb.K,null,null);Ke=null}}(a),"quit")):(a.ul=new $("RETRY",16,a.x-173,
a.y-a.m/2+500,60,65,a.M,b,function(a){return function(){Y.translate(X,0);a.i.w=null;a.i.Pe(Y);Y.translate(-X,0);var b=new gc(a.vb.n,!1);S=new Uf(a.vb.n,a.i,a.Kb,b,!1,!1);Ke=null}}(a),"retry"),a.buttons.push(a.ul),a.ul.keyCode=va.Nq,a.ul.tf="right"==E.Eb?"R KEY":"SHIFT KEY",a.us=new $("QUIT",16,a.x+180,a.y-a.m/2+500,60,65,a.M,b,function(a){return function(){S=new Pg(a.vb.K,a.vb.ec,{I:a.vb.I,i:a.vb.i,n:a.vb.n,Kb:a.vb.Kb,ra:!1});Ke=null}}(a),"quit")),a.buttons.push(a.us),a.Dv=new $("OPTIONS",16,a.x,
a.y-a.m/2+500,100,65,a.M,b,function(a){return function(){yg(a.U,"fade_out",function(){Ke=new ag(a)})}}(a),"options")):(a.us=new $(0==a.n&&Ne?"SKIP TUTORIAL":"QUIT",16,a.x+100,a.y-a.m/2+500,60,65,a.M,b,function(a){return function(){S=new Pg(a.vb.K,a.vb.ec,{I:a.vb.I,i:a.vb.i,n:a.vb.n,Kb:a.vb.Kb,rp:!0,Fu:Ne,ra:!0});Ke=null}}(a),"quit"),a.buttons.push(a.us),a.Dv=new $("OPTIONS",16,a.x-100,a.y-a.m/2+500,100,65,a.M,b,function(a){return function(){yg(a.U,"fade_out",function(){Ke=new ag(a)})}}(a),"options"));
a.Dv.mf=a.mf;a.buttons.push(a.Dv);a.vl=new $("RESUME",24,a.x,a.y-a.m/2+350,150,100,a.M,b,function(a){return function(){Mg(a.vb)}}(a),"resume");a.vl.keyCode=va.aj;a.vl.Zz=va.sk;a.vl.tf="right"==E.Eb?"Q KEY":"ENTER KEY";a.buttons.push(a.vl);var b=0,c;for(c in a.Hk){for(var d=0,f=0;d<b+1&&d<a.Ye;)d+=12;f=d<=a.Ye?12:a.Ye-(d-12);d=new Rg(c,a.Mf,a.x+(a.Mf+10)*(b-(d-12)-(f-1)/2),a.y-a.m/2+200+a.Mf*(Math.floor(b/12)-(Math.ceil(a.Ye/12)-1)/2),a.Mf,a.Mf,a.i.yc,function(a,b){return function(){yg(b.U,"fade_out",
function(){Ke=new Sg(a,b)})}}(c,a));d.Mx=a.M;a.buttons.push(d);b+=1}c=new $("",20,a.x+a.u/2-20,a.y-a.m/2+20,30,30,a.M,"white",function(){$f()},"fullscreen_in_game");a.buttons.push(c);c=new $("",20,a.x+a.u/2-50,a.y-a.m/2+20,30,30,a.M,"white",function(){bg()},"mute_in_game");a.buttons.push(c)}
l.fe=function(a){a.save();a.beginPath();a.textAlign="center";this.i.ec&&0<this.vb.K.Lg&&(a.font="14px Muli",a.fillStyle="red",a.shadowBlur=10,a.shadowColor=a.fillStyle,a.fillText("CONTINUES: "+this.vb.K.Lg,this.x,this.y-this.m/2+70));a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.M;a.fillStyle=this.M;a.fillText("MENU",this.x,this.y-this.m/2+100);a.font="16px Muli";0<this.Ye&&a.fillText("ENEMY INFO",this.x,this.y-this.m/2+150);a.textAlign="center";for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);
a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.Ge=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].Ge(a)};ag.prototype=new Dh;l=ag.prototype;l.constructor=ag;
function ag(a){this.ia(800,600);this.vb=a.vb;this.yn=!1;this.n=a.n;this.Uh=133;var b="white";if(0==this.n||void 0==this.n)b=x.impulse_blue;this.Zb=a;this.Zb instanceof Ig?(this.mf=this.Zb.mf,this.color=this.Zb.color,this.yc=this.Zb.yc,this.M=this.Zb.M):(this.mf=x["world 0 dark"],this.color=x["world 0"],this.yc=x["world 0 lite"],this.M=x["world 0 bright"],this.Pe());this.pi=new $("BACK",16,this.x,this.y-this.m/2+560,60,65,this.M,b,function(a){return function(){yg(a.U,"fade_out",function(){a.Zb instanceof
Ig?(Eh(a.Zb),Ke=a.Zb,yg(a.Zb.U,"fade_in")):(a.Zb instanceof Pf&&yg(a.Zb.U,"fade_in"),Ke=null)})}}(this),"back");a=this.x;this.Zb instanceof Pf&&(this.Cm=new $("DELETE GAME DATA",20,this.x+150,this.y+120,200,100,this.M,"red",function(a){return function(){yg(a.U,"fade_out",function(){Ke=new Fh(a)})}}(this),"delete"),this.buttons.push(this.Cm),a=this.x-150);this.buttons.push(this.pi);this.cC=new $("CHANGE CONTROLS",20,a,this.y+120,200,100,this.M,b,function(a){return function(){yg(a.U,"fade_out",function(){Ke=
new Gh(a)})}}(this),"controls");this.buttons.push(this.cC);this.nu="";this.js=new Hh("GAME MUSIC",this.x,this.y-this.m/2+this.Uh,300,30,this.M,"white",function(a){var b=cc;E.km=Math.ceil(100*Math.pow(a,2));b.cc&&!b.Mi&&b.Mc[b.cc].fh(E.km);cg()},Math.pow(E.km/100,.5));this.js.Tc=cc.Mi;fh(this.js,new Xf("option_game_music","white",this.n));this.buttons.push(this.js);this.Er=new Hh("SOUND EFFECTS",this.x,this.y-this.m/2+this.Uh+30,300,30,this.M,"white",function(a){E.Fr=Math.ceil(100*Math.pow(a,3));cg()},
Math.pow(E.Fr/100,.333));this.Er.Tc=cc.Mi;fh(this.Er,new Xf("option_sound_effects","white",this.n));this.buttons.push(this.Er);this.Nr=new Bh("FULLSCREEN",this.x,this.y-this.m/2+this.Uh+60,300,30,this.M,"white",function(){$f()},function(){return Zf()});fh(this.Nr,new Xf("option_fullscreen","white",this.n));this.Nr.Ux=!1;this.buttons.push(this.Nr);button=new Bh("PARTICLE EFFECTS",this.x,this.y-this.m/2+this.Uh+90,300,30,this.M,"white",function(){E.Ir=!E.Ir},function(){return E.Ir});fh(button,new Xf("option_particle_effects",
"white",this.n));this.buttons.push(button);button=new Bh("SCORE LABELS",this.x,this.y-this.m/2+this.Uh+120,300,30,this.M,"white",function(){E.fc=!E.fc},function(){return E.fc});fh(button,new Xf("option_score_labels","white",this.n));this.buttons.push(button);button=new Bh("MULTIPLIER DISPLAY",this.x,this.y-this.m/2+this.Uh+150,300,30,this.M,"white",function(){E.hs=!E.hs},function(){return E.hs});fh(button,new Xf("option_multiplier_display","white",this.n));this.buttons.push(button);button=new Bh("IMPULSE SHADOW",
this.x,this.y-this.m/2+this.Uh+180,300,30,this.M,"white",function(){E.Wr=!E.Wr},function(){return E.Wr});fh(button,new Xf("option_impulse_shadow","white",this.n));this.buttons.push(button);this.vb instanceof Uf&&this.vb.i.ec&&0<this.n&&"normal"==K&&(button=new Bh("SPEED RUN COUNTDOWN",this.x,this.y-this.m/2+this.Uh+210,300,30,this.M,"white",function(){E.di=!E.di},function(){return E.di}),fh(button,new Xf("option_speed_run","white",this.n)),this.buttons.push(button));yg(this.U,"fade_in")}
l.Pe=function(){var a=Ye.getContext("2d");Cb(a,0,O,P,"Hive 0")};
l.fe=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.M;a.fillStyle=this.M;a.fillText("OPTIONS",this.x,this.y-this.m/2+100);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);for(b=0;b<this.buttons.length;b++)Xg(this.buttons[b],a);a.textAlign="center";this.nu&&(a.font="14px Muli",this.vb instanceof Uf&&this.vb.i.ec?a.fillText(this.nu,this.x,this.y-this.m/2+this.Uh+180):a.fillText(this.nu,this.x,this.y-this.m/2+this.Uh+150));a.restore()};
l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};l.Ge=function(){};l.tg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].tg(a,b)};l.Xg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Xg(a,b)};Gh.prototype=new Dh;l=Gh.prototype;l.constructor=Gh;
function Gh(a){this.ia(800,600);this.vb=a.vb;this.yn=!1;this.Zb=a;this.mf=this.Zb.mf;this.yc=this.Zb.yc;this.M=this.Zb.M;this.color=this.Zb.color;this.n=a.n;a="white";if(0==this.n||void 0==this.n)a=x.impulse_blue;this.pi=new $("BACK",16,this.x,this.y-this.m/2+560,60,65,this.M,a,function(a){return function(){yg(a.U,"fade_out",function(){Ke=a.Zb;yg(a.Zb.U,"fade_in")})}}(this),"back");this.Ne={};this.Ne["left mouse"]=new $("LEFT-HAND MOUSE",16,this.x-200,this.y-this.m/2+135,200,100,this.M,a,function(){return function(){E.Eb=
"left";E.wc="mouse";cg();za()}}(this),"left_mouse");this.Ne["right keyboard"]=new $("KEYBOARD-ONLY",16,this.x,this.y-this.m/2+135,200,100,this.M,a,function(){return function(){E.Eb="right";E.wc="keyboard";cg();za()}}(this),"keyboard");this.Ne["right mouse"]=new $("RIGHT-HAND MOUSE",16,this.x+200,this.y-this.m/2+135,200,100,this.M,a,function(){return function(){E.Eb="right";E.wc="mouse";cg();za()}}(this),"right_mouse");this.buttons.push(this.Ne["left mouse"]);this.buttons.push(this.Ne["right mouse"]);
this.buttons.push(this.Ne["right keyboard"]);this.xf=1<=ic();this.buttons.push(this.pi);Ih(this);yg(this.U,"fade_in")}l.Ea=function(a,b){this.sr=null;for(var c in this.Ne)this.Ne[c].Ea(a,b),this.Ne[c].Sh&&(this.sr=c);this.pi.Ea(a,b);Ih(this)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};function Ih(a){for(var b in a.Ne)a.Ne[b].color=a.M,a.Ne[b].border=!1;a.sr?a.Ne[a.sr].color=a.M:a.Ne[E.Eb+" "+E.wc].color=a.M;a.Ne[E.Eb+" "+E.wc].border=!0}
l.fe=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowColor=this.M;a.fillStyle=this.M;a.fillText("CONTROLS",this.x,this.y-this.m/2+50);a.font="18px Muli";a.fillText("SELECT SCHEME",this.x,this.y-this.m/2+75);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);b=this.sr;null==b&&("right"==E.Eb&&"mouse"==E.wc&&(b="right mouse"),"left"==E.Eb&&"mouse"==E.wc&&(b="left mouse"),"right"==E.Eb&&"keyboard"==E.wc&&(b="right keyboard"));a.globalAlpha*=.6;"right mouse"==
b&&(Ra(a,this.x-200,this.y-this.m/2+300,50,this.M,["W","A","S","D"]),a.fillText("MOVE",this.x-200,this.y-this.m/2+360),this.xf?(Va(a,this.x,this.y-this.m/2+270,75,100,this.M),a.fillText("IMPULSE",this.x,this.y-this.m/2+360),Wa(a,this.x+200,this.y-this.m/2+270,75,100,this.M),a.fillText("ULTIMATE",this.x+200,this.y-this.m/2+360)):(Va(a,this.x+200,this.y-this.m/2+270,75,100,this.M),a.fillText("IMPULSE",this.x+200,this.y-this.m/2+360)),Sa(a,this.x,this.y-this.m/2+430,300,40,10,this.M),a.fillText("SPACEBAR",
this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"left mouse"==b&&(this.xf?(Va(a,this.x-200,this.y-this.m/2+270,75,100,this.M),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),Wa(a,this.x,this.y-this.m/2+270,75,100,this.M),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)):(Va(a,this.x-200,this.y-this.m/2+270,75,100,this.M),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360)),Ra(a,this.x+200,this.y-this.m/2+300,50,this.M),a.fillText("MOVE",this.x+
200,this.y-this.m/2+360),Sa(a,this.x,this.y-this.m/2+430,120,40,10,this.M),a.fillText("SHIFT",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));"right keyboard"==b&&(Ra(a,this.x-200,this.y-this.m/2+300,50,this.M,["W","A","S","D"]),a.fillText("IMPULSE",this.x-200,this.y-this.m/2+360),this.xf&&(Sa(a,this.x,this.y-this.m/2+280,45,45,10,this.M),a.font="18px Muli",a.fillText("F",this.x,this.y-this.m/2+286),a.fillText("ULTIMATE",this.x,this.y-this.m/2+360)),
Ra(a,this.x+200,this.y-this.m/2+300,50,this.M),a.fillText("MOVE",this.x+200,this.y-this.m/2+360),Sa(a,this.x,this.y-this.m/2+430,300,40,10,this.M),a.fillText("SPACEBAR",this.x,this.y-this.m/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.m/2+490));a.restore()};l.Ge=function(){};Sg.prototype=new Dh;l=Sg.prototype;l.constructor=Sg;
function Sg(a,b){this.ia(800,600);this.yn=!1;b instanceof Dh?(this.vb=b.vb,this.mf=b.mf,this.color=b.color,this.yc=b.yc,this.M=b.M,this.n=this.vb.n):b instanceof vg&&(this.mf="black",this.yc=x["world "+b.n+" lite"],this.M=x["world "+b.n+" bright"],this.color=x["world "+b.n],this.n=b.n);var c="white";if(0==this.n||void 0==this.n)c=x.impulse_blue;this.Zb=b;this.Cg=this.sj=a;I[this.sj].Cg&&(this.Cg=I[this.sj].Cg);this.ug=this.Bg=null;this.xg=I[this.sj].xg;this.u=600;this.pi=new $("BACK",16,this.x,this.y-
this.m/2+560,60,65,this.M,c,function(a){return function(){yg(a.U,"fade_out",function(){a.Zb instanceof Dh?(Ke=a.Zb,yg(a.Zb.U,"fade_in")):a.Zb instanceof vg&&(Ke=null,yg(a.Zb.U,"fade_in"))})}}(this),"back");this.buttons.push(this.pi);this.color=x["world "+this.n];this.nw=500;this.Be=I[this.sj].Be;this.wm=null;this.Ld=this.Be.length;this.da=0;yg(this.U,"fade_in")}
l.fe=function(a){a.save();if(null==this.wm){var b;b=this.nw;var c=this.Be[this.da].toUpperCase().split(" "),d=[],f=c[0],g=0;if(1==c.length)b=c;else{a.font="20px Muli";for(var h=1;h<c.length;h++){var k=c[h],g=a.measureText(f+k).width;g<b&&"#"!=k?f+=" "+k:(d.push(f),f="#"!=k?k:"");if(h===c.length-1){d.push(f);break}}b=d}this.wm=b}a.beginPath();a.textAlign="center";a.fillStyle=this.M;a.font="16px Muli";a.fillText("ENEMY INFO",this.x,this.y-this.m/2+70);a.font="30px Muli";a.fillText(this.Cg.toUpperCase(),
this.x,this.y-this.m/2+120);a.globalAlpha/=3;La(a,this.n,this.x,this.y-this.m/2+215,80);a.globalAlpha*=3;Ja(a,this.sj,this.x,this.y-this.m/2+215,1.5);a.font="12px Muli";a.fillText("BASE POINTS",this.x,this.y-this.m/2+310);a.font="24px Muli";a.fillText(I[this.sj].Lc,this.x,this.y-this.m/2+335);a.font="20px Muli";for(b=0;b<this.wm.length;b++)c=b-(this.wm.length-1)/2,a.fillText(this.wm[b],this.x,this.y-this.m/2+427+25*c);if(1<this.Ld)for(Ta(a,this.x-300,this.y-this.m/2+420,20,"left",this.M,!1),a.font=
"10px Muli",a.fillStyle=this.M,a.fillText("NEXT",this.x+302,this.y-this.m/2+450),a.fillText("PREV",this.x-302,this.y-this.m/2+450),Ta(a,this.x+300,this.y-this.m/2+420,20,"right",this.M,!1),b=0;b<this.Ld;b++)c=(this.Ld-1)/2-b,a.beginPath(),a.shadowBlur=5,a.arc(this.x-25*c,this.y-this.m/2+515,4,0,2*Math.PI,!0),a.fillStyle=this.color,this.da==b?(a.fillStyle=this.yc,a.shadowColor=a.fillStyle,a.fill()):(a.save(),a.globalAlpha/=2,a.shadowColor=a.fillStyle,a.fill(),a.restore());for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);
a.restore()};l.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};l.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b);a<this.x-this.nw/2?Jh(this,this.da-1):a>this.x+this.nw/2&&Jh(this,this.da+1);500<b&&530>b&&(c=Math.round((this.Ld-1)/2-(this.x-a)/25),0<=c&&c<this.Ld&&Jh(this,c))};function Jh(a,b){a.da=b;0>a.da&&(a.da+=a.Ld);a.da>=a.Ld&&(a.da-=a.Ld);a.wm=null}l.Ge=function(){};Fh.prototype=new Dh;Fh.prototype.constructor=Fh;
function Fh(a){this.ia(800,600);this.Zb=a;this.yn=!1;this.yc=a.yc;this.M=a.M;this.hy=!1;this.buttons=[];this.Cm=new $("DELETE GAME DATA",20,this.x,this.y+90,200,100,"white","red",function(a){return function(){eh();a.hy=!0}}(this),"delete");this.buttons.push(this.Cm);this.pi=new $("BACK",16,this.x,this.y-this.m/2+560,60,65,"white","white",function(a){return function(){yg(a.U,"fade_out",function(){Ke=a.Zb;a.Zb.Pe();yg(a.Zb.U,"fade_in")})}}(this),"back");this.buttons.push(this.pi);yg(this.U,"fade_in")}
Fh.prototype.fe=function(a){if(this.hy)a.fillStyle="red",a.textAlign="center",a.font="24px Muli",a.fillText("ALL GAME DATA HAS BEEN DELETED",this.x,210),this.pi.Y(a);else{a.fillStyle="red";a.textAlign="center";a.font="24px Muli";a.fillText("ARE YOU SURE",this.x,200);a.font="24px Muli";a.fillText(" YOU WANT TO DELETE ALL YOUR GAME DATA?",this.x,230);a.font="16px Muli";a.fillText("THIS ACTION CANNOT BE UNDONE.",this.x,290);for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a)}};
Fh.prototype.Ea=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ea(a,b)};Fh.prototype.Oa=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Oa(a,b)};function eh(){localStorage.removeItem(Le);var a=E,b=Re;Nf();E=a;Re=b;Ne=!1;cg()};new Ah;function tg(a,b,c,d){this.ia(a,b,c,d)}
tg.prototype.ia=function(a,b,c,d){this.qE=d?!0:!1;this.uf=[];if("spark"==a||"multi"==a)c={x:0,y:0};this.In=1;d=Math.min(1,10/Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y+.01)));c={x:c.x*d,y:c.y*d};this.dv=1E3;this.color="black";"boss"==a.slice(a.length-4,a.length)?(this.shape=I[a].ur[0],this.color=I[a].color,this.Vj=.5,this.Qp=50,this.rm=10,"boss_two"==a&&(this.rm=20),this.In=5,this.dv=2E3):"player"==a?(this.shape={type:"circle",x:0,y:0,X:lc.prototype.eh},this.color=x.player_color,this.Vj=.5,this.Qp=12,this.In=
this.rm=2):"harpoon"==a||"harpoonhead"==a?(this.shape=I[a].Wb[0],this.color=I[a].color,this.Vj=.3,this.Qp=4,this.rm=2):"spark"==a||"multi"==a?(this.Qp=6,this.rm=20,this.Vj=1,this.shape=a):(this.shape=I[a].Wb[0],this.color=I[a].color,"tanker"==a&&(this.color="red"),this.Vj=.3,this.Qp=4,this.rm=2);this.Yr=this.dv;this.Sx=this.rm*Math.max(3,Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y)));this.KA=.5;this.xe={x:b.x,y:b.y};this.oj={x:this.Vj*c.x,y:this.Vj*c.y};for(a=0;a<this.In;a++){d=this.Qp/this.In;for(var f=
0;f<d;f++)dir=2*Math.PI*f/d+2*(Math.random()-.5)*Math.PI/d,new_v={x:this.Vj*c.x+Math.cos(dir)*(a+1)/this.In*this.Sx,y:this.Vj*c.y+Math.sin(dir)*(a+1)/this.In*this.Sx},this.uf.push(new Kh(this.shape,F/3,{x:b.x*F,y:b.y*F},{x:new_v.x*F,y:new_v.y*F},this.color))}};tg.prototype.na=function(a){this.Yr-=a;this.xe.x+=this.oj.x*a/1E3;this.xe.y+=this.oj.y*a/1E3;this.oj.x-=this.KA*this.oj.x*a/1E3;this.oj.y-=this.KA*this.oj.y*a/1E3;for(var b=0;b<this.uf.length;b++)this.uf[b].na(a)};
tg.prototype.Y=function(a){this.qE&&(a.shadowColor=this.color,a.shadowBlur=15);for(var b=0;b<this.uf.length;b++)this.uf[b].Y(a,this.Yr/this.dv);a.shadowBlur=0};function Kh(a,b,c,d,f){this.ia(a,b,c,d,f)}Kh.prototype.ia=function(a,b,c,d,f){this.me=c;this.shape=a;this.size=b;this.oh=d;this.color=f;this.LA=500};Kh.prototype.na=function(a){this.me.x+=this.oh.x*a/1E3;this.me.y+=this.oh.y*a/1E3;this.oh.x*=Math.pow(.5,a/this.LA);this.oh.y*=Math.pow(.5,a/this.LA)};
Kh.prototype.Y=function(a,b){if("spark"==this.shape||"multi"==this.shape){a.save();a.globalAlpha*=b;var c=R({x:0,y:0},this.oh);"spark"==this.shape?J(a,this.me.x/F,this.me.y/F,c,12,12,"spark"):"multi"==this.shape&&J(a,this.me.x/F,this.me.y/F,c,12,12,"multi")}else a.save(),c=R({x:0,y:0},this.oh),Ia(a,this.me.x,this.me.y,this.shape,this.size,this.color,b,c);a.restore()};$.prototype=new Ah;$.prototype.constructor=$;function $(a,b,c,d,f,g,h,k,n,q){this.text=a;this.size=b;this.ia(c,d,f,g,n,!1,h);this.Za=k;this.yl=!1;this.icon=q;this.$c=!0;this.mf=null;this.rw=!0;"world"==this.icon.slice(0,5)&&(this.rw=!1)}
$.prototype.fe=function(a){a.save();if(this.icon){a.save();a.shadowBlur=0;if("player"==this.icon)this.sa?J(a,this.x,this.y-this.m/8,0,40,40,"player_normal"):J(a,this.x,this.y-this.m/8,0,40,40,"player_white");else if("gear"==this.icon)this.sa?Ya(a,this.x,this.y-this.m/8,x.impulse_blue,"#080808",!1):Ya(a,this.x,this.y-this.m/8,"white","#080808",!1);else if("credit"==this.icon)this.sa?Za(a,this.x,this.y-this.m/8,x.impulse_blue):Za(a,this.x,this.y-this.m/8,"white");else if("tutorial"==this.icon)this.sa?
$a(a,this.x,this.y-this.m/8,x.impulse_blue):$a(a,this.x,this.y-this.m/8,"white");else if("note"==this.icon)this.sa?lb(a,this.x,this.y-this.m/6,x.impulse_blue):lb(a,this.x,this.y-this.m/6,"white");else if("texture"==this.icon)this.sa?ib(a,this.x,this.y-this.m/4,x.impulse_blue):ib(a,this.x,this.y-this.m/4,"white");else if("physics_engine"==this.icon)this.sa?jb(a,this.x,this.y-this.m/6,x.impulse_blue):jb(a,this.x,this.y-this.m/6,"white");else if("audio"==this.icon)this.sa?mb(a,this.x,this.y-this.m/6,
20,x.impulse_blue,!1):mb(a,this.x,this.y-this.m/6,20,"white",!1);else if("back"==this.icon)this.sa?bb(a,this.x,this.y-this.m/8,this.Za):bb(a,this.x,this.y-this.m/8,this.color);else if("start"==this.icon)this.sa?cb(a,this.x,this.y-this.m/8,20,this.Za):cb(a,this.x,this.y-this.m/8,20,this.color);else if("resume"==this.icon)this.sa?cb(a,this.x,this.y-this.m/8,30,this.Za):cb(a,this.x,this.y-this.m/8,30,this.color);else if("retry"==this.icon)this.sa?ab(a,this.x,this.y-this.m/8,this.Za):ab(a,this.x,this.y-
this.m/8,this.color);else if("options"==this.icon)this.sa?Ya(a,this.x,this.y-this.m/8,this.Za,this.mf):Ya(a,this.x,this.y-this.m/8,this.color,this.mf);else if("fb"==this.icon)this.sa?Xa(a,this.x,this.y-this.m/8,this.Za):Xa(a,this.x,this.y-this.m/8,this.color);else if("save"==this.icon)this.sa?eb(a,this.x,this.y-this.m/8,this.Za):eb(a,this.x,this.y-this.m/8,this.color);else if("quest"==this.icon)this.sa?fb(a,this.x,this.y-this.m/8,this.Za):fb(a,this.x,this.y-this.m/8,this.color);else if("quit"==this.icon)this.sa?
hb(a,this.x,this.y-this.m/6,24,this.Za):hb(a,this.x,this.y-this.m/6,24,this.color);else if("delete"==this.icon)this.sa?gb(a,this.x,this.y-this.m/8,36,this.Za):gb(a,this.x,this.y-this.m/8,36,this.color);else if("delete_small"==this.icon)this.sa?gb(a,this.x,this.y-this.m/5,30,this.Za):gb(a,this.x,this.y-this.m/5,30,this.color);else if("close_dialog"==this.icon)this.sa?hb(a,this.x,this.y-this.m/6,36,this.Za):hb(a,this.x,this.y-this.m/6,36,this.color);else if("mute_in_game"==this.icon)mb(a,this.x,this.y,
15,this.sa?this.Za:this.color,E.zv);else if("pause_in_game"==this.icon){var b=this.x,c=this.y,d=this.sa?this.Za:this.color;a.save();a.clearRect(b-15,c-15,45,45);a.beginPath();a.rect(b-5.625,c-7.5,3.75,15);a.rect(b+1.875,c-7.5,3.75,15);a.fillStyle=d;a.fill();a.font="10px Muli";a.textAlign="center";"left"==E.Eb?a.fillText("ENTER",b+15,c+15):a.fillText("Q",b+15,c+15);a.restore()}else"fullscreen_in_game"==this.icon?(b=this.x,c=this.y,d=this.sa?this.Za:this.color,a.save(),a.beginPath(),a.globalAlpha/=
2,a.rect(b-11.25,c-11.25,22.5,22.5),a.strokeStyle=d,a.fillStyle=d,a.lineWidth=2,a.stroke(),a.globalAlpha*=2,a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b-0,c-7.5),a.lineTo(b-7.5,c-0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b+7.5,c+7.5),a.lineTo(b+0,c+7.5),a.lineTo(b+7.5,c+0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b+7.5,c+7.5),a.stroke(),a.restore()):"easy_mode"==this.icon?Fa(a,"goo",this.x,this.y-this.m/8,30,Math.PI/2,this.sa?"ulted":"white",this.sa?x.impulse_blue:
"white"):"normal_mode"==this.icon?J(a,this.x,this.y-this.m/8,0,40,40,this.sa?"ultimate_icon_blue":"ultimate_icon"):"left_mouse"==this.icon?(Ua(a,this.x-.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.sa?this.Za:this.color),Ra(a,this.x+.17*this.u,this.y,.2*this.m,this.sa?this.Za:this.color)):"keyboard"==this.icon?(Ra(a,this.x-.23*this.u,this.y,.2*this.m,this.sa?this.Za:this.color),Ra(a,this.x+.23*this.u,this.y,.2*this.m,this.sa?this.Za:this.color)):"right_mouse"==this.icon?(Ra(a,this.x-.17*this.u,
this.y,.2*this.m,this.sa?this.Za:this.color),Ua(a,this.x+.23*this.u,this.y-.1*this.m,.17*this.u,.4*this.m,this.sa?this.Za:this.color)):"help_icon"==this.icon?(a.beginPath(),a.arc(this.x,this.y,this.u/2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI,!1),a.strokeStyle=this.sa?this.Za:this.color,a.lineWidth=2,a.fillStyle="black",a.stroke(),a.fill(),a.beginPath(),a.arc(this.x,this.y-this.u/8,this.u/8,-Math.PI,0,!1),a.lineTo(this.x,this.y+this.u/8),a.stroke(),a.beginPath(),a.arc(this.x,this.y+this.u/2-4,1,0,2*
Math.PI),a.fillStyle=this.sa?this.Za:this.color,a.fill()):"controls"==this.icon?(a.shadowBlur=0,"right"==E.Eb&&"mouse"==E.wc&&(Ra(a,this.x-.15*this.u,this.y,.2*this.m,this.sa?this.Za:this.color),Ua(a,this.x+.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.sa?this.Za:this.color)),"left"==E.Eb&&"mouse"==E.wc&&(Ua(a,this.x-.2*this.u,this.y-.1*this.m,.15*this.u,.4*this.m,this.sa?this.Za:this.color),Ra(a,this.x+.15*this.u,this.y,.2*this.m,this.sa?this.Za:this.color)),"right"==E.Eb&&"keyboard"==E.wc&&
(Ra(a,this.x-.2*this.u,this.y,.2*this.m,this.sa?this.Za:this.color),Ra(a,this.x+.2*this.u,this.y,.2*this.m,this.sa?this.Za:this.color))):"world"==this.icon.slice(0,5)?(b=parseInt(this.icon.slice(5)),a.save(),a.globalAlpha=this.sa&&this.$c?.5*a.globalAlpha:this.$c?.3*a.globalAlpha:.15*a.globalAlpha,this.$c?La(a,b,this.x,this.y,2*this.size,this.sa):Pa(a,b,this.x,this.y,2*this.size),a.restore(),a.save(),this.$c||(a.globalAlpha*=.3),a.textAlign="center",a.font="32px Muli",a.fillStyle=this.$c?this.color:
"gray",a.fillText(this.text,this.x,this.y+10),a.restore()):"practice"==this.icon.slice(0,8)&&(b=parseInt(this.icon.slice(8)),this.$c?(a.globalAlpha=this.sa?3==b?.6*a.globalAlpha:.7*a.globalAlpha:.3*a.globalAlpha,La(a,b,this.x,this.y,1.4*this.size)):(a.globalAlpha*=.3,Pa(a,b,this.x,this.y,1.4*this.size)));a.restore()}a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";this.sa&&this.rw&&(a.beginPath(),b=a.measureText(this.text).width,a.moveTo(this.x-b/2,this.y+.4*this.m),a.lineTo(this.x+b/
2,this.y+.4*this.m),a.strokeStyle=this.Za?this.Za:this.color,a.lineWidth=2,a.stroke());this.$c||"practice"!=this.icon.slice(0,8)||(a.globalAlpha*=.4);a.fillStyle=this.sa?this.Za:this.color;this.yl?(a.shadowBlur=5,a.shadowColor=a.fillStyle):a.shadowBlur=0;"practice"==this.icon.slice(0,8)?a.fillText(this.text,this.x-1,this.y+this.m/6):"world"!=this.icon.slice(0,5)&&a.fillText(this.text,this.x,this.y+this.m/3);this.tf&&(a.font=this.qC?this.qC:.7*this.size+"px Muli",a.fillText(this.tf,this.x,this.y+this.m/
3+1*this.size));a.fill();a.restore()};new Ah;function Xf(a,b,c,d){b&&this.ia(a,b,c,d)}
Xf.prototype.ia=function(a,b,c){this.type=a;this.color=b;this.y=this.x=0;this.Kz=this.visible=!1;this.Es=!0;"rank_explanation"==this.type?(this.u=360,this.m=105):"rank_explanation_normal"==this.type?(this.u=360,this.m=140):"fullscreen_msg"==this.type?(this.u=230,this.m=40):"mute_msg"==this.type?(this.u=130,this.m=40):"final_boss"==this.type?(this.u=220,this.m=50):"blitz_hive"==this.type.substring(0,10)?(this.u=250,this.m=75):"beat_hive"==this.type.substring(0,9)?(this.u=150,this.m=50):"high_roller"==
this.type?(this.u=250,this.m=75):"untouchable"==this.type?(this.u=200,this.m=75):"combo"==this.type||"pacifist"==this.type||"survivor"==this.type?(this.u=250,this.m=75):"fast_time"==this.type?(this.u=220,this.m=150):"0star"==this.type?(this.u=250,this.m=75):"beat_hard"==this.type?(this.u=180,this.m=75):"option_game_music"==this.type?(this.u=300,this.m=40):"option_sound_effects"==this.type?(this.u=250,this.m=40):"option_fullscreen"==this.type?(this.u=150,this.m=40):"option_particle_effects"==this.type?
(this.u=250,this.m=40):"option_score_labels"==this.type?(this.u=350,this.m=40):"option_multiplier_display"==this.type?(this.u=300,this.m=40):"option_impulse_shadow"==this.type?(this.u=350,this.m=40):"option_speed_run"==this.type?(this.u=500,this.m=40):"tutorial_move"==this.type?(this.u=200,this.m=150):"tutorial_impulse"==this.type?(this.u=180,this.m=150):"tutorial_pause"==this.type?(this.u=220,this.m=40):"tutorial_gateway_move"==this.type?(this.u=220,this.m=80):"tutorial_score_points"==this.type?
(this.u=450,this.m=40):"tutorial_enemy_incr"==this.type?(this.u=420,this.m=40):"tutorial_enter_gateway"==this.type?(this.u=200,this.m=120):"tutorial_void"==this.type?(this.u=300,this.m=40):"tutorial_kill_enemy"==this.type?(this.u=300,this.m=40):"tutorial_incr_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_reset_multiplier"==this.type?(this.u=400,this.m=40):"tutorial_one_up"==this.type?(this.u=250,this.m=40):"lives_and_sparks"==this.type?(this.u=150,this.m=110,this.xf=1<=ic(),this.Jd=hc(),
this.kk=ic(),this.bi=jc()):"god_mode_alert"==this.type?(this.u=250,this.m=40,this.message="ALL LEVELS UNLOCKED",this.Kz=!0):"saved_alert"==this.type?(this.u=250,this.m=75,this.Es=!1):"level_preview_"==this.type.substring(0,14)?(this.u=200,this.m=150):"quest_"==this.type.substring(0,6)?(this.u=420,this.m=90,this.Es=!1):"enemy_"==this.type.substring(0,6)&&(this.u=420,this.m=90,this.Es=!1);this.opacity=0;this.n=c};
Xf.prototype.Y=function(a){if(this.visible){a.save();this.Es&&(a.beginPath(),a.strokeStyle=this.color,a.fillStyle="tutorial"==this.type.substring(0,8)?"#222":"black",a.shadowBlur=0,a.lineWidth=2,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.stroke());"option_game_music"==this.type&&(this.Uj="BACKGROUND MUSIC VOLUME");"option_sound_effects"==this.type&&(this.Uj="SOUND EFFECTS VOLUME");"option_fullscreen"==this.type&&(this.Uj="GO FULLSCREEN");"option_particle_effects"==this.type&&
(this.Uj="SHOW PARTICLE EFFECTS");"option_score_labels"==this.type&&(this.Uj="SHOW SCORE VALUE WHEN ENEMIES DIE");"option_multiplier_display"==this.type&&(this.Uj="SHOW MULTIPLIER BELOW PLAYER");"option_impulse_shadow"==this.type&&(this.Uj="SHOW AIMING SHADOW FOR IMPULSE");"option_speed_run"==this.type&&(this.Uj="SHOW COUNTDOWN FOR BEATING SPEED RUN CHALLENGE");"tutorial_move"==this.type&&("right"==E.Eb&&"mouse"==E.wc&&Ra(a,this.x,this.y,40,"white",["W","A","S","D"]),"right"==E.Eb&&"keyboard"==E.wc&&
Ra(a,this.x,this.y,40,"white"),"left"==E.Eb&&"mouse"==E.wc&&Ra(a,this.x,this.y,40,"white"),this.$f="MOVE");"tutorial_impulse"==this.type&&("mouse"==E.wc?Va(a,this.x,this.y-20,56,82,"white"):Ra(a,this.x,this.y,40,"white",["W","A","S","D"]),this.$f="IMPULSE");"tutorial_pause"==this.type&&("right"==E.Eb?this.$f="ESC TO PAUSE":"left"==E.Eb&&(this.$f="ENTER TO PAUSE"));"tutorial_score_points"==this.type&&(this.$f="GET THE GOAL SCORE TO OPEN THE GATEWAY");"tutorial_incr_multiplier"==this.type&&(this.$f=
"KILLING ENEMIES INCREASES YOUR MULTIPLIER");"tutorial_reset_multiplier"==this.type&&(this.$f="TOUCHING ENEMIES RESETS YOUR MULTIPLIER");"tutorial_enemy_incr"==this.type&&(this.$f="LEVELS GET HARDER OVER TIME");"tutorial_one_up"==this.type&&(this.$f="100 SPARKS = 1UP");"tutorial_void"==this.type&&(this.$f="DO NOT TOUCH THE VOID");"tutorial_kill_enemy"==this.type&&(this.$f="IMPULSE THE ENEMY INTO THE VOID");"tutorial_enter_gateway"==this.type&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,
"right"==E.Eb&&(Sa(a,this.x,this.y-10,160,34,7,"white"),a.fillText("SPACEBAR",this.x,this.y-4)),"left"==E.Eb&&(Sa(a,this.x,this.y-10,80,34,7,"white"),a.fillText("SHIFT",this.x,this.y-4)),this.$f="ENTER GATEWAY");if("tutorial_gateway_move"==this.type){a.textAlign="center";a.font="16px Muli";a.fillStyle=this.color;a.fillText("MOVE TO THE GATEWAY",this.x,this.y-this.m/2+25);var b=this.x,c=this.y+12;a.save();a.translate(b,c);a.scale(1,1);a.beginPath();a.moveTo(-8,-12);a.lineTo(8,-12);a.lineTo(8,-2);a.lineTo(16,
-2);a.lineTo(0,13);a.lineTo(-16,-2);a.lineTo(-8,-2);a.closePath();a.fillStyle="white";a.fill();a.restore()}if("fullscreen_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("TOGGLE FULLSCREEN (F)",this.x,this.y-this.m/2+25);else if("mute_msg"==this.type)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText("MUTE (M)",this.x,this.y-this.m/2+25);else if("tutorial"==this.type.substring(0,8))this.$f&&(a.textAlign="center",a.font="16px Muli",a.fillStyle=
this.color,a.fillText(this.$f,this.x,this.y+this.m/2-15));else if("rank_explanation_normal"==this.type){var b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7;Db(a,this.x-this.u/2+h,b-k+d,this.n,"half");Db(a,this.x-this.u/2+h,b-k+d+c,this.n,"basic");Db(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"silver");Db(a,this.x-this.u/2+h,b-k+d+3*c,this.n,"gold");a.textAlign="right";a.font="16px Muli";a.fillStyle="white";a.fillText("ONE OR MORE CONTINUES",f-g,b+d);a.fillText("NO CONTINUES USED",f-g,b+d+c);
a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+2*c);a.fillText("GOLD SCORE ON EVERY LEVEL",f-g,b+d+3*c)}else if("rank_explanation"==this.type)b=this.y-this.m/2,d=c=30,f=this.x+this.u/2-10,g=10,h=50,k=7,Db(a,this.x-this.u/2+h,b-k+d,this.n,"basic"),Db(a,this.x-this.u/2+h,b-k+d+1*c,this.n,"silver"),Db(a,this.x-this.u/2+h,b-k+d+2*c,this.n,"gold"),a.textAlign="right",a.font="16px Muli",a.fillStyle="white",a.fillText("DEFEAT HIVE",f-g,b+d),a.fillText("SILVER SCORE ON EVERY LEVEL",f-g,b+d+1*c),a.fillText("GOLD SCORE ON EVERY LEVEL",
f-g,b+d+2*c);else if("option"==this.type.substring(0,6))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Uj,this.x,this.y-this.m/2+25);else if("lives_and_sparks"==this.type){a.textAlign="center";a.font="12px Muli";a.fillStyle="white";a.fillText("STARTING VALUES",this.x,this.y-this.m/2+20);b=this.Jd;c=this.bi;d=this.kk;f=this.x;g=this.y+5;h={labels:!0,LE:!0,Os:this.xf,Xf:!0,Jd:!0};k=[];h.Jd&&k.push("lives");h.Xf&&k.push("sparks");h.Os&&k.push("ult");a.save();for(var n=
0;n<k.length;n++){var q=k[n],p=f-(k.length-1)/2*36+36*n;a.font="20px Muli";a.fillStyle="ult"==q?"white":x.impulse_blue;a.shadowBlur=0;a.textAlign="center";h.yl&&(a.shadowBlur=10,a.shadowColor=a.fillStyle);"lives"==q&&(J(a,p,g,0,26,26,"lives_icon"),a.fillText(b,p,g+32));"sparks"==q&&(J(a,p+1,g+1,0,16,16,"spark"),a.fillText(c,p,g+32));"ult"==q&&(J(a,p,g,0,24,24,"ultimate_icon"),a.fillText(d,p,g+32));a.font=Math.max(8,20/3)+"px Muli";"lives"==q&&a.fillText("LIVES",p,g-16);"sparks"==q&&(h.LE?(a.fillText("SPARK",
p,g-26),a.fillText("VALUE",p,g-16)):a.fillText("SPARKS",p,g-16));"ult"==q&&a.fillText("ULT",p,g-16)}a.restore()}else if(this.Kz)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.message,this.x,this.y-this.m/2+25);else if("saved_alert"==this.type)a.globalAlpha*=.5,a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.save(),a.globalAlpha*=.5,eb(a,this.x,this.y-this.m/2+10,this.color),a.restore(),a.fillText("GAME SAVED",this.x,this.y+this.m/2-33);else if("level_preview_"==
this.type.substring(0,14))qb(a,this.type.substring(14),this.x,this.y,x["world "+this.n+" lite"]),a.beginPath(),a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.lineWidth=6,a.strokeStyle=x["world "+this.n+" lite"],a.stroke();else if("quest_"==this.type.substring(0,6)){a.beginPath();a.fillStyle="black";a.shadowBlur=0;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.fill();a.beginPath();b=this.x-this.u/2+75;a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(this.x+this.u/2,this.y+this.m/
2);a.lineTo(b,this.y+this.m/2);a.moveTo(this.x+this.u/2,this.y-this.m/2);a.lineTo(b,this.y-this.m/2);a.strokeStyle="white";a.lineWidth=2;a.stroke();b=50;c=this.type.substring(6);a.textAlign="center";a.font="16px Muli";a.fillStyle="white";a.fillText("NEW ACHIEVEMENT",this.x+b,this.y-this.m/2+30);a.font="12px Muli";d="";if(Fb[c])for(f=0;f<Fb[c].text.length;f++)d+=Fb[c].text[f]+" ";a.fillText(d,this.x+b,this.y+this.m/2-20);draw_quest_button(a,this.x-this.u/2+40,this.y,60,c)}else if("enemy_"==this.type.substring(0,
6))a.beginPath(),a.fillStyle="black",a.shadowBlur=0,a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m),a.fill(),a.beginPath(),b=this.x-this.u/2+75,a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.lineTo(b,this.y+this.m/2),a.moveTo(this.x+this.u/2,this.y-this.m/2),a.lineTo(b,this.y-this.m/2),a.strokeStyle="white",a.lineWidth=2,a.stroke(),b=50,d=c=this.type.substring(6),I[c].Cg&&(d=I[c].Cg),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW ENEMY",
this.x+b,this.y-this.m/2+20),a.fillStyle=I[c].color,a.font="24px Muli",a.fillText(d.toUpperCase(),this.x+b,this.y-this.m/2+45),a.fillStyle="white",a.font="16px Muli",a.fillText(I[c].Wf.toUpperCase(),this.x+b,this.y+this.m/2-15),draw_enemy_button(a,this.x-this.u/2+40,this.y,60,c);else for(a.textAlign="center",a.font="16px Muli",a.fillStyle="white",f=0;f<Fb[this.type].text.length;f++)a.fillText(Fb[this.type].text[f],this.x,this.y-this.m/2+30+24*f);a.restore()}};
function Yf(a,b,c){a.x=b;a.y=c+a.m/2;"option"==a.type.substring(0,6)&&(a.y+=20);"tutorial"==a.type.substring(0,8)&&(a.x=b,a.y=c-a.m/2-50)};Zg.prototype=new Ah;Zg.prototype.constructor=Zg;
function Zg(a,b,c,d){this.type=a;this.x=b;this.y=c;this.X=d;this.u=2*d;this.m=2*d;this.Pp=document.createElement("canvas");this.Pp.width=this.u;this.Pp.height=this.m;b=this.Pp.getContext("2d");draw_quest_button(b,this.X,this.X,this.X,this.type);b=this.Pp;b=b.getContext("2d").getImageData(0,0,b.width,b.height);for(c=0;c<b.height;c++)for(d=0;d<b.width;d++){var f=4*c*b.width+4*d,g=(b.data[f]+b.data[f+1]+b.data[f+2])/3;b.data[f]=g;b.data[f+1]=g;b.data[f+2]=g;b.data[f+3]=b.data[f+3]?255:0}c=document.createElement("canvas");
c.width=b.width;c.height=b.height;c.getContext("2d").putImageData(b,0,0,0,0,b.width,b.height);this.zC=c;this.Xz=-1!=Se.indexOf(a);this.Yb=new Xf(this.type,"white",0,this.Xz)}
Zg.prototype.Y=function(a){this.Xz?a.drawImage(this.Pp,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m):(a.save(),a.globalAlpha*=.4,a.drawImage(this.zC,0,0,this.u,this.m,this.x-this.X,this.y-this.X,this.u,this.m),a.restore());this.Sh&&(a.save(),a.globalAlpha*=.2,a.beginPath(),a.arc(this.x,this.y,this.X,0,2*Math.PI,!1),a.fillStyle="#fff",a.fill(),a.beginPath(),a.restore())};Zg.prototype.na=function(){};gh.prototype=new Ah;gh.prototype.constructor=gh;function gh(a,b,c,d,f,g,h,k){this.size=a;this.ia(b,c,d,f,this.BD,!1,g);this.Za=h;this.yl=!1;this.$c=!0;this.mf=null;this.Kg=new Ch(this.x,this.y-this.m/8,20,20,this.color);this.dF=k;this.Kg.checked="normal"==K}gh.prototype.BD=function(){K="easy"==K?"normal":"easy";cg();lh(this.dF);this.Kg.checked="normal"==K};
gh.prototype.fe=function(a){this.Kg.Y(a);a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText("HARD MODE",this.x,this.y+this.m/3)};function Lh(a,b,c,d,f){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.$c=!0;this.value=0;this.ik=20}l=Lh.prototype;l.Y=function(a){a.beginPath();a.strokeStyle=this.color;a.fillStyle=this.color;a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.lineWidth=1;a.save();a.globalAlpha*=.75;a.fill();a.restore();a.stroke();a.beginPath();a.rect(this.x-this.u/2+this.u*this.value-this.ik/2,this.y-this.ik/2,this.ik,this.ik);a.fill()};
l.tg=function(a,b){a>this.x-this.u/2-this.ik/2&&a<this.x+this.u/2+this.ik/2&&b>this.y-this.m/2-this.ik/2&&b<this.y+this.m/2+this.ik/2&&(Mh(this,(a-(this.x-this.u/2))/this.u),this.my=!0)};function Mh(a,b){a.value=b;0>a.value&&(a.value=0);1<a.value&&(a.value=1)}l.Xg=function(){this.onselect(this.value);this.my=!1};l.onselect=function(){};l.Ea=function(a){this.my&&Mh(this,(a-(this.x-this.u/2))/this.u)};
function Ch(a,b,c,d,f,g,h){this.x=a;this.y=b;this.u=c;this.m=d;this.color=f;this.$c=!0;this.checked=h?h:!1;this.SE=g}Ch.prototype.Y=function(a){a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);this.checked&&(a.moveTo(this.x-this.u/2,this.y-this.m/2),a.lineTo(this.x+this.u/2,this.y+this.m/2),a.moveTo(this.x-this.u/2,this.y+this.m/2),a.lineTo(this.x+this.u/2,this.y-this.m/2));a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
Ch.prototype.Oa=function(a,b){a>this.x-this.u/2&&a<this.x+this.u/2&&b>this.y-this.m/2&&b<this.y+this.m/2&&(this.checked=!this.checked,this.SE(this.checked))};Hh.prototype=new Ah;l=Hh.prototype;l.constructor=Hh;function Hh(a,b,c,d,f,g,h,k,n){this.text=a;this.ia(b,c,d,f,function(){},!1,g);this.xn=new Lh(this.x+this.u/2-20,this.y,100,5,this.color);this.xn.value=n;this.xn.onselect=k;this.Ur=h;this.Tc=!1;this.KE="MUTED (M)"}
l.fe=function(a){a.save();this.Sh||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.Sh?this.Ur:this.color;a.fillText(this.text,this.x-this.u/2+10,this.y+7);this.Tc?(a.textAlign="center",a.fillText(this.KE,this.x+this.u/2-20,this.y+7)):this.xn.Y(a);a.restore()};l.tg=function(a,b){this.Tc||this.xn.tg(a,b)};l.Xg=function(a,b){this.Tc||this.xn.Xg(a,b)};l.CD=Ah.prototype.Ea;l.Ea=function(a,b){this.CD(a,b);this.Tc||this.xn.Ea(a,b)};ch.prototype=new Ah;ch.prototype.constructor=ch;function ch(a,b,c,d,f,g,h,k,n){this.text=a;this.size=b;this.ia(c,d,f,g,n,!1,h);this.Za=k;this.qw=!1;this.Ps=null;this.tf="";this.yl=!1;this.shadowColor=this.color;this.jy=!1}
ch.prototype.fe=function(a){a.save();a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.sa?this.Za:this.color;this.yl?(a.shadowBlur=5,a.shadowColor=this.shadowColor):a.shadowBlur=0;a.fillText(this.text,this.x,this.y);a.fill();if(!this.sa&&!this.qw)if(null!=this.Ps&&this.Ps<this.text.length){a.globalAlpha*=.5;a.beginPath();var b=a.measureText(this.text.slice(0,this.Ps)).width,c=a.measureText(this.text.slice(0,this.Ps+1)).width,d=a.measureText(this.text).width;a.moveTo(this.x-
d/2+b,this.y+this.size/4);a.lineTo(this.x-d/2+c,this.y+this.size/4);a.strokeStyle=this.color;a.lineWidth=1;a.stroke();a.globalAlpha/=.5;""!=this.tf&&(a.globalAlpha*=.5,this.jy&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.tf,this.x-d/2+(b+c)/2,this.y+3*this.size/4))}else""!=this.tf&&(a.globalAlpha*=.5,this.jy&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.tf,this.x,this.y+3*this.size/4));a.restore();a.shadowBlur=0};Rg.prototype=new Ah;Rg.prototype.constructor=Rg;function Rg(a,b,c,d,f,g,h,k){this.state=null;this.sj=a;this.size=b;this.ia(c,d,f,g,k,!0,h);this.Mf=30}Rg.prototype.fe=function(a){a.save();a.save();a.beginPath();a.rect(this.x-this.u/2,this.y-this.m/2,this.u,this.m);a.globalAlpha*=this.sa?1:.5;a.fillStyle=this.color;a.fill();a.restore();this.Mx&&(a.strokeStyle=this.Mx,a.lineWidth=2,a.stroke());Fa(a,this.sj,this.x,this.y,this.Mf);a.restore()};function Gg(a){this.Rb=[];this.w=a;this.Yu=2E3;"HIVE 0"==a.W.substring(0,6)&&(this.Ns=parseInt(a.W.substring(7)));if(1==this.Ns)this.Rb.push(new Nh(this.w)),this.Rb.push(new Oh(this.w)),this.Rb.push(new Ph(this.w));else if(2==this.Ns)this.Rb.push(new Qh(this.w)),this.Rb.push(new Oh(this.w)),this.Rb.push(new Ph(this.w));else if(3==this.Ns)this.Rb.push(new Rh(this.w)),this.Rb.push(new Sh(this.w)),this.Rb.push(new Th(this.w)),this.Rb.push(new Oh(this.w)),this.Rb.push(new Ph(this.w));else if(4==this.Ns)this.Rb.push(new Uh(this.w)),
this.Rb.push(new Vh(this.w)),this.Rb.push(new Wh(this.w)),this.Rb.push(new Xh(this.w));else for(a=0;a<this.os.length;a++)-1==Re.indexOf(this.os[a].type)&&this.Rb.push(new this.os[a].$x(this.w))}Gg.prototype.os=[{type:"reset_multiplier",$x:Wh},{type:"one_up",$x:Xh}];Gg.prototype.Y=function(a){if(0!=this.Rb.length){var b=this.Rb[0];a.save();"fade_in"==b.U.bc?a.globalAlpha*=Ag(b.U):"fade_out"==b.U.bc?a.globalAlpha*=1-Ag(b.U):b.fq||(a.globalAlpha=0);a.globalAlpha*=.8;b.Yb&&b.Yb.Y(a);b.Y(a);a.restore()}};
Gg.prototype.na=function(a){if(0<this.Yu)this.Yu-=a;else if(0!=this.Rb.length){Yh(this.Rb[0],a);if(!this.Rb[0].Hj())for(a=1;a<this.Rb.length;a++)if(this.Rb[a].ns&&this.Rb[a].Hj()){var b=this.Rb.splice(a,1)[0];this.Rb.unshift(b)}if(this.Rb[0].Au)for(this.Rb.shift();0<this.Rb.length&&Zh(this.Rb[0]);)this.Rb.shift()}};function $h(){}l=$h.prototype;l.ia=function(a){this.w=a;this.U=new zg({fade_in:500,fade_out:500});this.Au=!1;this.duration=null;this.fq=!1;this.wr=0;this.ns=!1};l.Hj=function(){return!0};
l.Y=function(){};function Yh(a,b){if(a.Hj()){if(!a.fq)if(Zh(a))a.Au=!0;else{if(0<a.wr){a.wr-=b;return}a.fq=!0;yg(a.U,"fade_in");a.Yb&&(a.Yb.visible=!0)}0<a.duration&&(a.duration-=b);if(a.Yb){var c=a.w.q.body.g.position.x*F,d=a.w.q.body.g.position.y*F;c<a.Yb.u/2+5?c=a.Yb.u/2+5:c>O-a.Yb.u/2-5&&(c=O-a.Yb.u/2-5);d<a.Yb.m+55&&(d+=a.Yb.m+100);Yf(a.Yb,c,d)}a.U.na(b);a.na(b);Zh(a)&&yg(a.U,"fade_out",function(){a.Au=!0;a.Cv()})}}l.Cv=function(){};l.cq=function(){return!1};
function Zh(a){return a.cq()||null!=a.duration&&0>=a.duration}l.na=function(){};Nh.prototype=new $h;Nh.prototype.constructor=Nh;function Nh(a){this.ia(a);this.Yb=new Xf("tutorial_move",a.M,a.n)}Nh.prototype.Y=function(){};Nh.prototype.na=function(){};Nh.prototype.cq=function(){return this.w.mh.player_moved};Qh.prototype=new $h;Qh.prototype.constructor=Qh;function Qh(a){this.ia(a);this.Yb=new Xf("tutorial_void",a.M,a.n);this.duration=3E3}Qh.prototype.Y=function(){};Qh.prototype.na=function(){};
Rh.prototype=new $h;Rh.prototype.constructor=Rh;function Rh(a){this.ia(a);this.Yb=new Xf("tutorial_impulse",a.M,a.n)}Rh.prototype.Y=function(){};Rh.prototype.na=function(){};Rh.prototype.cq=function(){return this.w.mh.player_impulsed};Sh.prototype=new $h;Sh.prototype.constructor=Sh;function Sh(a){this.ia(a);this.Yb=new Xf("tutorial_kill_enemy",a.M,a.n);this.wr=4E3}Sh.prototype.Y=function(){};Sh.prototype.na=function(){};Sh.prototype.cq=function(){return this.w.mh.enemy_killed};Th.prototype=new $h;
Th.prototype.constructor=Th;function Th(a){this.ia(a);this.duration=5E3;this.Yb=new Xf("tutorial_score_points",a.M,a.n)}Th.prototype.Hj=function(){return this.w.mh.enemy_killed};Th.prototype.Y=function(a){a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.textAlign="center";a.rect(O+X/2-60,15,120,80);a.stroke();a.font="21px Muli";a.fillText("GOAL",O+X/2,45);a.font="42px Muli";a.fillText(this.w.i.za[this.w.jb],O+X/2,85)};Th.prototype.na=function(){};Uh.prototype=new $h;
Uh.prototype.constructor=Uh;function Uh(a){this.ia(a);this.ns=!0;this.duration=5E3;this.Yb=new Xf("tutorial_enemy_incr",a.M,a.n)}Uh.prototype.Y=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(-X/2-60,Ec-40-35,120,70);a.stroke();a.font="16px Muli";a.fillText("LEVEL TIME",-X/2,Ec-50);a.font="32px Muli";a.fillText(this.w.I.Jj,-X/2,Ec-18)};Uh.prototype.na=function(){};Vh.prototype=new $h;Vh.prototype.constructor=Vh;
function Vh(a){this.ia(a);this.duration=3E3;this.Yb=new Xf("tutorial_incr_multiplier",a.M,a.n)}Vh.prototype.Hj=function(){return"fresh"==this.w.mh.enemy_killed||this.fq};Vh.prototype.Y=function(a){a.textAlign="center";a.fillStyle="cyan";a.strokeStyle="cyan";a.lineWidth=8;a.beginPath();a.rect(O+X/2-50,Ec/2-50-20,100,100);a.stroke();a.font="72px Muli";a.fillText("x"+this.w.I.qf,O+X/2,Ec/2)};Vh.prototype.na=function(){};Wh.prototype=new $h;l=Wh.prototype;l.constructor=Wh;
function Wh(a){this.ia(a);this.duration=3E3;this.ns=!0;this.Yb=new Xf("tutorial_reset_multiplier",a.M,a.n)}l.Hj=function(){return"fresh"==this.w.mh.multiplier_reset||this.fq};l.Y=function(){};l.na=function(){};l.Cv=function(){-1==Re.indexOf("reset_multiplier")&&(Re.push("reset_multiplier"),cg())};Xh.prototype=new $h;l=Xh.prototype;l.constructor=Xh;function Xh(a){this.ia(a);this.duration=3E3;this.ns=!0;this.Yb=new Xf("tutorial_one_up",a.M,a.n)}l.Hj=function(){return this.w.mh.got_spark};l.Y=function(){};
l.na=function(){};l.Cv=function(){-1==Re.indexOf("one_up")&&(Re.push("one_up"),cg())};Oh.prototype=new $h;l=Oh.prototype;l.constructor=Oh;function Oh(a){this.ia(a);this.Gc={x:this.w.i.Gc.x*F,y:this.w.i.Gc.y*F};this.wv=new Xf("tutorial_gateway_move",a.M,a.n);Yf(this.wv,this.Gc.x,this.Gc.y-30);this.wv.visible=!0}l.Y=function(a){this.wv.Y(a)};l.na=function(){};l.Hj=function(){return this.w.mh.gateway_opened};l.cq=function(){return this.w.mh.moved_to_gateway};Ph.prototype=new $h;
Ph.prototype.constructor=Ph;function Ph(a){this.ia(a);this.duration=3E3;this.Yb=new Xf("tutorial_enter_gateway",a.M,a.n)}Ph.prototype.Y=function(){};Ph.prototype.na=function(){};new Ah;
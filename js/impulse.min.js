var l,n={};
(function(a,b){function c(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});a.Hb=function(a,b){c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.tC=function(a,b){return function(){b.apply(a,arguments)}};a.jB=function(a){a===
b&&(a=0);for(var c=Array(a||0),g=0;g<a;++g)c[g]=0;return c};a.is=function(a,c){return null===a?!1:c instanceof Function&&a instanceof c||a.constructor.ht!=b&&a.constructor.ht[c]?!0:!1};a.Bg=function(a){return Math.abs(parseInt(a))}})(n);var aa=Array,ca=n.jB;"undefined"===typeof n&&(n={});"undefined"===typeof n.w&&(n.w={});"undefined"===typeof n.w.Wa&&(n.w.Wa={});"undefined"===typeof n.ba&&(n.ba={});"undefined"===typeof n.ba.Math&&(n.ba.Math={});"undefined"===typeof n.l&&(n.l={});
"undefined"===typeof n.l.la&&(n.l.la={});"undefined"===typeof n.l.Ub&&(n.l.Ub={});"undefined"===typeof n.l.L&&(n.l.L={});
(function(){function a(){a.Sn.apply(this,arguments)}function b(){b.pt.apply(this,arguments)}function c(){c.Tn.apply(this,arguments);this.constructor===c&&this.Tn.apply(this,arguments)}function d(){d.Ed.apply(this,arguments)}function f(){f.Ml.apply(this,arguments);this.constructor===f&&this.Ml.apply(this,arguments)}function g(){g.Jq.apply(this,arguments)}function h(){h.rk.apply(this,arguments)}function k(){k.Kq.apply(this,arguments)}function m(){m.Lq.apply(this,arguments)}function q(){q.Mq.apply(this,
arguments)}function p(){p.Yn.apply(this,arguments);this.constructor===p&&this.Yn.apply(this,arguments)}function x(){x.Nq.apply(this,arguments)}function u(){u.Bt.apply(this,arguments)}function t(){t.Ct.apply(this,arguments)}function z(){z.li.apply(this,arguments);this.constructor===z&&this.li.apply(this,arguments)}function K(){K.io.apply(this,arguments);this.constructor===K&&this.io.apply(this,arguments)}function M(){M.It.apply(this,arguments)}function ba(){ba.po.apply(this,arguments);this.constructor===
ba&&this.po.apply(this,arguments)}function T(){T.Mt.apply(this,arguments)}function D(){D.Nt.apply(this,arguments)}function W(){W.Wl.apply(this,arguments)}function ha(){ha.qo.apply(this,arguments);this.constructor===ha&&this.qo.apply(this,arguments)}function X(){X.Oq.apply(this,arguments)}function E(){E.Ot.apply(this,arguments)}function Z(){Z.We.apply(this,arguments)}function Ca(){Ca.Pq.apply(this,arguments)}function pa(){pa.Yl.apply(this,arguments);this.constructor===pa&&this.Yl.apply(this,arguments)}
function Da(){Da.Ps.apply(this,arguments)}function w(){w.Ts.apply(this,arguments)}function r(){r.lj.apply(this,arguments);this.constructor===r&&this.lj.apply(this,arguments)}function y(){y.Zn.apply(this,arguments);this.constructor===y&&this.Zn.apply(this,arguments)}function C(){C.$n.apply(this,arguments);this.constructor===C&&this.$n.apply(this,arguments)}function I(){I.jo.apply(this,arguments)}function U(){U.ni.apply(this,arguments);this.constructor===U&&this.ni.apply(this,arguments)}function H(){H.Vb.apply(this,
arguments);this.constructor===H&&this.Vb.apply(this,arguments)}function da(){da.Kl.apply(this,arguments);this.constructor===da&&this.Kl.apply(this,arguments)}function B(){B.Lb.apply(this,arguments)}function Oa(){Oa.mi.apply(this,arguments);this.constructor===Oa&&this.mi.apply(this,arguments)}function Gd(){Gd.Rl.apply(this,arguments);this.constructor===Gd&&this.Rl.apply(this,arguments)}function Se(){Se.Lf.apply(this,arguments)}function Te(){Te.ro.apply(this,arguments)}function Hd(){Hd.nj.apply(this,
arguments);this.constructor===Hd&&this.nj.apply(this,arguments)}function Id(){Id.mg.apply(this,arguments);this.constructor===Id&&this.mg.apply(this,arguments)}function Jd(){Jd.Xl.apply(this,arguments);this.constructor===Jd&&this.Xl.apply(this,arguments)}function ib(){ib.ne.apply(this,arguments);this.constructor===ib&&this.ne.apply(this,arguments)}function Kd(){Kd.Jl.apply(this,arguments);this.constructor===Kd&&this.Jl.apply(this,arguments)}function Ue(){Ue.Iq.apply(this,arguments)}function Ve(){Ve.wt.apply(this,
arguments)}function We(){We.Vn.apply(this,arguments)}function Ld(){Ld.Nl.apply(this,arguments);this.constructor===Ld&&this.Nl.apply(this,arguments)}function Md(){Md.Ve.apply(this,arguments);this.constructor===Md&&this.Ve.apply(this,arguments)}function Xe(){Xe.At.apply(this,arguments)}function Ye(){Ye.Et.apply(this,arguments)}function Nd(){Nd.Ol.apply(this,arguments);this.constructor===Nd&&this.Ol.apply(this,arguments)}function Od(){Od.Pl.apply(this,arguments);this.constructor===Od&&this.Pl.apply(this,
arguments)}function Pd(){Pd.Ql.apply(this,arguments);this.constructor===Pd&&this.Ql.apply(this,arguments)}function Ze(){Ze.Qq.apply(this,arguments)}function Qd(){Qd.Xe.apply(this,arguments);this.constructor===Qd&&this.Xe.apply(this,arguments)}function $e(){$e.rt.apply(this,arguments)}function Rd(){Rd.bb.apply(this,arguments);this.constructor===Rd&&this.bb.apply(this,arguments)}function Sd(){Sd.Un.apply(this,arguments);this.constructor===Sd&&this.Un.apply(this,arguments)}function af(){af.ut.apply(this,
arguments)}function bf(){bf.vt.apply(this,arguments)}function Td(){Td.Ll.apply(this,arguments);this.constructor===Td&&this.Ll.apply(this,arguments)}function cf(){cf.xt.apply(this,arguments)}function df(){df.yt.apply(this,arguments)}function Ud(){Ud.mj.apply(this,arguments);this.constructor===Ud&&this.mj.apply(this,arguments)}function ef(){ef.Dt.apply(this,arguments)}function Vd(){Vd.lo.apply(this,arguments);this.constructor===Vd&&this.lo.apply(this,arguments)}function ff(){ff.Jt.apply(this,arguments)}
function gf(){gf.Kt.apply(this,arguments)}function hf(){hf.Lt.apply(this,arguments)}function Wd(){Wd.sk.apply(this,arguments);this.constructor===Wd&&this.sk.apply(this,arguments)}function jf(){jf.qt.apply(this,arguments)}function kf(){kf.st.apply(this,arguments)}function lf(){lf.tt.apply(this,arguments)}function mf(){mf.Lc.apply(this,arguments)}function nf(){nf.zt.apply(this,arguments)}function of(){of.Ft.apply(this,arguments)}function pf(){pf.Pt.apply(this,arguments)}function Xd(){Xd.Wn.apply(this,
arguments);this.constructor===Xd&&this.Wn.apply(this,arguments)}function Yd(){Yd.Xn.apply(this,arguments);this.constructor===Yd&&this.Xn.apply(this,arguments)}function Zd(){Zd.ao.apply(this,arguments);this.constructor===Zd&&this.ao.apply(this,arguments)}function $d(){$d.bo.apply(this,arguments);this.constructor===$d&&this.bo.apply(this,arguments)}function ae(){ae.co.apply(this,arguments);this.constructor===ae&&this.co.apply(this,arguments)}function be(){be.eo.apply(this,arguments);this.constructor===
be&&this.eo.apply(this,arguments)}function qf(){qf.Gt.apply(this,arguments)}function ce(){ce.ja.apply(this,arguments);this.constructor===ce&&this.ja.apply(this,arguments)}function de(){de.xa.apply(this,arguments);this.constructor===de&&this.xa.apply(this,arguments)}function rf(){rf.Ht.apply(this,arguments)}function ee(){ee.fo.apply(this,arguments);this.constructor===ee&&this.fo.apply(this,arguments)}function fe(){fe.ho.apply(this,arguments);this.constructor===fe&&this.ho.apply(this,arguments)}function ge(){ge.ko.apply(this,
arguments);this.constructor===ge&&this.ko.apply(this,arguments)}function he(){he.Sl.apply(this,arguments);this.constructor===he&&this.Sl.apply(this,arguments)}function ie(){ie.mo.apply(this,arguments);this.constructor===ie&&this.mo.apply(this,arguments)}function je(){je.no.apply(this,arguments);this.constructor===je&&this.no.apply(this,arguments)}function ke(){ke.Tl.apply(this,arguments);this.constructor===ke&&this.Tl.apply(this,arguments)}function le(){le.oo.apply(this,arguments);this.constructor===
le&&this.oo.apply(this,arguments)}function me(){me.Ul.apply(this,arguments);this.constructor===me&&this.Ul.apply(this,arguments)}function ne(){ne.Vl.apply(this,arguments);this.constructor===ne&&this.Vl.apply(this,arguments)}function oe(){oe.so.apply(this,arguments);this.constructor===oe&&this.so.apply(this,arguments)}function pe(){pe.to.apply(this,arguments);this.constructor===pe&&this.to.apply(this,arguments)}n.w.eB="Box2D.Collision.IBroadPhase";n.w.Sn=a;n.w.pt=b;n.w.Tn=c;n.w.Ed=d;n.w.Ml=f;n.w.Jq=
g;n.w.rk=h;n.w.Kq=k;n.w.Lq=m;n.w.Mq=q;n.w.Yn=p;n.w.Nq=x;n.w.Bt=u;n.w.Ct=t;n.w.li=z;n.w.io=K;n.w.It=M;n.w.po=ba;n.w.Mt=T;n.w.Nt=D;n.w.Wl=W;n.w.qo=ha;n.w.Oq=X;n.w.Ot=E;n.w.We=Z;n.w.Pq=Ca;n.w.Yl=pa;n.w.Ps=Da;n.w.Ts=w;n.w.Wa.lj=r;n.w.Wa.Zn=y;n.w.Wa.$n=C;n.w.Wa.jo=I;n.w.Wa.ni=U;n.w.Wa.Vb=H;n.ba.rF="Box2D.Common.b2internal";n.ba.Kl=da;n.ba.Lb=B;n.ba.Math.mi=Oa;n.ba.Math.Rl=Gd;n.ba.Math.Lf=Se;n.ba.Math.ro=Te;n.ba.Math.nj=Hd;n.ba.Math.mg=Id;n.ba.Math.Xl=Jd;n.l.ne=ib;n.l.Jl=Kd;n.l.Iq=Ue;n.l.wt=Ve;n.l.Vn=We;
n.l.Nl=Ld;n.l.Ve=Md;n.l.At=Xe;n.l.Et=Ye;n.l.Ol=Nd;n.l.Pl=Od;n.l.Ql=Pd;n.l.Qq=Ze;n.l.Xe=Qd;n.l.la.rt=$e;n.l.la.bb=Rd;n.l.la.Un=Sd;n.l.la.ut=af;n.l.la.vt=bf;n.l.la.Ll=Td;n.l.la.xt=cf;n.l.la.yt=df;n.l.la.mj=Ud;n.l.la.Dt=ef;n.l.la.lo=Vd;n.l.la.Jt=ff;n.l.la.Kt=gf;n.l.la.Lt=hf;n.l.la.sk=Wd;n.l.Ub.qt=jf;n.l.Ub.st=kf;n.l.Ub.tt=lf;n.l.Ub.Lc=mf;n.l.Ub.zt=nf;n.l.Ub.Ft=of;n.l.Ub.Pt=pf;n.l.L.Wn=Xd;n.l.L.Xn=Yd;n.l.L.ao=Zd;n.l.L.bo=$d;n.l.L.co=ae;n.l.L.eo=be;n.l.L.Gt=qf;n.l.L.ja=ce;n.l.L.xa=de;n.l.L.Ht=rf;n.l.L.fo=
ee;n.l.L.ho=fe;n.l.L.ko=ge;n.l.L.Sl=he;n.l.L.mo=ie;n.l.L.no=je;n.l.L.Tl=ke;n.l.L.oo=le;n.l.L.Ul=me;n.l.L.Vl=ne;n.l.L.so=oe;n.l.L.to=pe})();n.zc=[];
(function(){var a=n.w.Wa.lj,b=n.w.Wa.ni,c=n.w.Wa.Vb,d=n.ba.Lb,f=n.ba.Math.Lf,g=n.ba.Math.ro,h=n.ba.Math.nj,k=n.ba.Math.mg,m=n.w.Sn,q=n.w.pt,p=n.w.Tn,x=n.w.Ed,u=n.w.Ml,t=n.w.Jq,z=n.w.rk,K=n.w.Kq,M=n.w.Lq,ba=n.w.Mq,T=n.w.Yn,D=n.w.Nq,W=n.w.Bt,ha=n.w.Ct,X=n.w.li,E=n.w.io,Z=n.w.It,Ca=n.w.po,pa=n.w.Mt,Da=n.w.Nt,w=n.w.Wl,r=n.w.qo,y=n.w.Oq,C=n.w.Ot,I=n.w.We,U=n.w.Pq,H=n.w.Yl,da=n.w.Ps,B=n.w.Ts,Oa=n.w.eB;m.Sn=function(){this.lowerBound=new k;this.upperBound=new k};m.prototype.Fl=function(){var a=this.upperBound.y-
this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=a&&this.lowerBound.Fl()&&this.upperBound.Fl()};m.prototype.aB=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};m.prototype.Qs=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};m.prototype.fj=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;
return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};m.Bl=function(a,b){var c=new m;c.Bl(a,b);return c};m.prototype.Bl=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};q.pt=function(){};q.prototype.rB=function(a){var b=this.value,c=this.Qi,d=this.aw;this.value=
a.value;this.Qi=a.Qi;this.aw=a.aw;a.value=b;a.Qi=c;a.aw=d};p.Tn=function(){};p.prototype.Tn=function(){this.mz=new ca;this.mz[0]=0;this.mz[1]=0;this.HA=new ca;this.HA[0]=0;this.HA[1]=0};x.Ed=function(){};x.zw=function(a,b,c,d){void 0===d&&(d=0);var f,w=0;f=b[0];var y=f.ac;f=b[1];var r=f.ac,g=c.x*y.x+c.y*y.y-d;f=c.x*r.x+c.y*r.y-d;0>=g&&a[w++].R(b[0]);0>=f&&a[w++].R(b[1]);0>g*f&&(c=g/(g-f),f=a[w],f=f.ac,f.x=y.x+c*(r.x-y.x),f.y=y.y+c*(r.y-y.y),f=a[w],f.id=(0<g?b[0]:b[1]).id,++w);return w};x.lq=function(a,
b,c,d,f){void 0===c&&(c=0);parseInt(a.Kb);var w=a.$;a=a.qc;var y=parseInt(d.Kb),r=d.$,g,C;g=b.G;C=a[c];a=g.j.x*C.x+g.k.x*C.y;d=g.j.y*C.x+g.k.y*C.y;g=f.G;var k=g.j.x*a+g.j.y*d;g=g.k.x*a+g.k.y*d;for(var I=0,h=Number.MAX_VALUE,H=0;H<y;++H)C=r[H],C=C.x*k+C.y*g,C<h&&(h=C,I=H);C=w[c];g=b.G;c=b.position.x+(g.j.x*C.x+g.k.x*C.y);b=b.position.y+(g.j.y*C.x+g.k.y*C.y);C=r[I];g=f.G;w=f.position.x+(g.j.x*C.x+g.k.x*C.y);f=f.position.y+(g.j.y*C.x+g.k.y*C.y);return(w-c)*a+(f-b)*d};x.Gw=function(a,b,c,d,f){var w=parseInt(b.Kb),
y=b.qc,r,g;g=f.G;r=d.Gi;var C=f.position.x+(g.j.x*r.x+g.k.x*r.y),k=f.position.y+(g.j.y*r.x+g.k.y*r.y);g=c.G;r=b.Gi;C-=c.position.x+(g.j.x*r.x+g.k.x*r.y);k-=c.position.y+(g.j.y*r.x+g.k.y*r.y);g=C*c.G.j.x+k*c.G.j.y;for(var k=C*c.G.k.x+k*c.G.k.y,C=0,I=-Number.MAX_VALUE,h=0;h<w;++h)r=y[h],r=r.x*g+r.y*k,r>I&&(I=r,C=h);y=x.lq(b,c,C,d,f);r=parseInt(0<=C-1?C-1:w-1);g=x.lq(b,c,r,d,f);var k=parseInt(C+1<w?C+1:0),I=x.lq(b,c,k,d,f),H=0,U=0;if(g>y&&g>I)U=-1,h=r,H=g;else if(I>y)U=1,h=k,H=I;else return a[0]=C,y;
for(;;)if(C=-1==U?0<=h-1?h-1:w-1:h+1<w?h+1:0,y=x.lq(b,c,C,d,f),y>H)h=C,H=y;else break;a[0]=h;return H};x.$A=function(a,b,c,d,f,w){void 0===d&&(d=0);parseInt(b.Kb);var y=b.qc,r=parseInt(f.Kb);b=f.$;f=f.qc;var g;g=c.G;c=y[d];var y=g.j.x*c.x+g.k.x*c.y,C=g.j.y*c.x+g.k.y*c.y;g=w.G;c=g.j.x*y+g.j.y*C;C=g.k.x*y+g.k.y*C;y=c;g=0;for(var k=Number.MAX_VALUE,I=0;I<r;++I)c=f[I],c=y*c.x+C*c.y,c<k&&(k=c,g=I);f=parseInt(g);y=parseInt(f+1<r?f+1:0);r=a[0];c=b[f];g=w.G;r.ac.x=w.position.x+(g.j.x*c.x+g.k.x*c.y);r.ac.y=
w.position.y+(g.j.y*c.x+g.k.y*c.y);r.id.qg.JD=d;r.id.qg.CC=f;r.id.qg.DC=0;r=a[1];c=b[y];g=w.G;r.ac.x=w.position.x+(g.j.x*c.x+g.k.x*c.y);r.ac.y=w.position.y+(g.j.y*c.x+g.k.y*c.y);r.id.qg.JD=d;r.id.qg.CC=y;r.id.qg.DC=1};x.bt=function(){var a=new aa(2);a[0]=new da;a[1]=new da;return a};x.TA=function(a,b,c,f,w){var r;a.Hc=0;var y=b.Ga+f.Ga;x.Mv[0]=0;var g=x.Gw(x.Mv,b,c,f,w);r=x.Mv[0];if(!(g>y)){var C;x.Nv[0]=0;var k=x.Gw(x.Nv,f,w,b,c);C=x.Nv[0];if(!(k>y)){var I=0,h=0;k>.98*g+.001?(g=f,f=b,b=w,I=C,a.jb=
X.Ak,h=1):(g=b,b=c,c=w,I=r,a.jb=X.Tg,h=0);r=x.OD;x.$A(r,g,b,I,f,c);C=parseInt(g.Kb);w=g.$;var g=w[I],H;H=I+1<C?w[parseInt(I+1)]:w[0];I=x.QD;I.R(H.x-g.x,H.y-g.y);I.zb();w=x.PD;w.x=I.y;w.y=-I.x;f=x.SD;f.R(.5*(g.x+H.x),.5*(g.y+H.y));k=x.YD;C=b.G;k.x=C.j.x*I.x+C.k.x*I.y;k.y=C.j.y*I.x+C.k.y*I.y;var U=x.ZD;U.x=-k.x;U.y=-k.y;I=x.RD;I.x=k.y;I.y=-k.x;var m=x.bE,da=x.cE;m.x=b.position.x+(C.j.x*g.x+C.k.x*g.y);m.y=b.position.y+(C.j.y*g.x+C.k.y*g.y);da.x=b.position.x+(C.j.x*H.x+C.k.x*H.y);da.y=b.position.y+(C.j.y*
H.x+C.k.y*H.y);b=I.x*m.x+I.y*m.y;C=k.x*da.x+k.y*da.y+y;H=x.MD;g=x.ND;da=x.zw(H,r,U,-k.x*m.x-k.y*m.y+y);if(!(2>da||(da=x.zw(g,H,k,C),2>da))){a.Od.M(w);a.fb.M(f);for(f=w=0;f<d.sf;++f)r=g[f],I.x*r.ac.x+I.y*r.ac.y-b<=y&&(k=a.gb[w],C=c.G,U=r.ac.x-c.position.x,m=r.ac.y-c.position.y,k.fb.x=U*C.j.x+m*C.j.y,k.fb.y=U*C.k.x+m*C.k.y,k.Ji.R(r.id),k.Ji.qg.FF=h,++w);a.Hc=w}}}};x.RA=function(a,b,c,d,f){a.Hc=0;var w,g;w=c.G;g=b.td;var r=c.position.x+(w.j.x*g.x+w.k.x*g.y);c=c.position.y+(w.j.y*g.x+w.k.y*g.y);w=f.G;
g=d.td;r=f.position.x+(w.j.x*g.x+w.k.x*g.y)-r;f=f.position.y+(w.j.y*g.x+w.k.y*g.y)-c;w=b.Ga+d.Ga;r*r+f*f>w*w||(a.jb=X.ju,a.fb.M(b.td),a.Od.Oa(),a.Hc=1,a.gb[0].fb.M(d.td),a.gb[0].Ji.key=0)};x.SA=function(a,b,c,d,f){var w=a.Hc=0,g=0,r,y;y=f.G;r=d.td;var C=f.position.y+(y.j.y*r.x+y.k.y*r.y),w=f.position.x+(y.j.x*r.x+y.k.x*r.y)-c.position.x,g=C-c.position.y;y=c.G;c=w*y.j.x+g*y.j.y;y=w*y.k.x+g*y.k.y;var k=0,C=-Number.MAX_VALUE;f=b.Ga+d.Ga;var I=parseInt(b.Kb),h=b.$;b=b.qc;for(var H=0;H<I;++H){r=h[H];w=
c-r.x;g=y-r.y;r=b[H];w=r.x*w+r.y*g;if(w>f)return;w>C&&(C=w,k=H)}w=parseInt(k);g=parseInt(w+1<I?w+1:0);r=h[w];h=h[g];if(C<Number.MIN_VALUE)a.Hc=1,a.jb=X.Tg,a.Od.M(b[k]),a.fb.x=.5*(r.x+h.x),a.fb.y=.5*(r.y+h.y);else if(C=(c-h.x)*(r.x-h.x)+(y-h.y)*(r.y-h.y),0>=(c-r.x)*(h.x-r.x)+(y-r.y)*(h.y-r.y)){if((c-r.x)*(c-r.x)+(y-r.y)*(y-r.y)>f*f)return;a.Hc=1;a.jb=X.Tg;a.Od.x=c-r.x;a.Od.y=y-r.y;a.Od.zb();a.fb.M(r)}else if(0>=C){if((c-h.x)*(c-h.x)+(y-h.y)*(y-h.y)>f*f)return;a.Hc=1;a.jb=X.Tg;a.Od.x=c-h.x;a.Od.y=y-
h.y;a.Od.zb();a.fb.M(h)}else{k=.5*(r.x+h.x);r=.5*(r.y+h.y);C=(c-k)*b[w].x+(y-r)*b[w].y;if(C>f)return;a.Hc=1;a.jb=X.Tg;a.Od.x=b[w].x;a.Od.y=b[w].y;a.Od.zb();a.fb.R(k,r)}a.gb[0].fb.M(d.td);a.gb[0].Ji.key=0};x.fj=function(a,b){var c=b.lowerBound,d=a.upperBound,f=c.x-d.x,w=c.y-d.y,c=a.lowerBound,d=b.upperBound,r=c.y-d.y;return 0<f||0<w||0<c.x-d.x||0<r?!1:!0};n.zc.push(function(){n.w.Ed.OD=x.bt();n.w.Ed.MD=x.bt();n.w.Ed.ND=x.bt();n.w.Ed.Mv=new ca(1);n.w.Ed.Nv=new ca(1);n.w.Ed.QD=new k;n.w.Ed.PD=new k;
n.w.Ed.SD=new k;n.w.Ed.RD=new k;n.w.Ed.YD=new k;n.w.Ed.ZD=new k;n.w.Ed.bE=new k;n.w.Ed.cE=new k;n.w.Ed.lF=new k;n.w.Ed.pF=255});u.Ml=function(){this.qg=new B};u.prototype.Ml=function(){this.qg.gj=this};u.prototype.R=function(a){this.key=a.pf};u.prototype.yb=function(){var a=new u;a.key=this.key;return a};Object.defineProperty(u.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.pf}});Object.defineProperty(u.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===
a&&(a=0);this.pf=a;this.qg.lt=this.pf&255;this.qg.jt=(this.pf&65280)>>8&255;this.qg.kt=(this.pf&16711680)>>16&255;this.qg.it=(this.pf&4278190080)>>24&255}});t.Jq=function(){this.position=new k;this.fg=new k;this.Yf=new k;this.id=new u};z.rk=function(){};z.Rs=function(a,b,c){++z.nF;var w=c.Vh,r=c.Wh,g=c.xA,y=c.yA,C=z.WD;C.kB(b,w,g,r,y);var I=C.$,h=z.UD,H=z.VD,U=0;C.Jw();for(var m=0,da,B=0;20>B;){U=C.Ob;for(m=0;m<U;m++)h[m]=I[m].rd,H[m]=I[m].sd;switch(C.Ob){case 1:break;case 2:C.pB();break;case 3:C.qB();
break;default:d.hc(!1)}if(3==C.Ob)break;C.Jw();m=C.cB();if(m.vq()<Number.MIN_VALUE*Number.MIN_VALUE)break;da=I[C.Ob];da.rd=w.Zs(f.cj(g.G,m.bj()));da.ge=f.Zc(g,w.Td(da.rd));da.sd=r.Zs(f.cj(y.G,m));da.Jg=f.Zc(y,r.Td(da.sd));da.I=f.sc(da.Jg,da.ge);++B;++z.oF;for(var p=!1,m=0;m<U;m++)if(da.rd==h[m]&&da.sd==H[m]){p=!0;break}if(p)break;++C.Ob}z.KB=f.ke(z.KB,B);C.dB(a.dh,a.eh);a.xk=f.sc(a.dh,a.eh).ig();a.IF=B;C.wB(b);c.IA&&(b=w.Ga,r=r.Ga,a.xk>b+r&&a.xk>Number.MIN_VALUE?(a.xk-=b+r,c=f.sc(a.eh,a.dh),c.zb(),
a.dh.x+=b*c.x,a.dh.y+=b*c.y,a.eh.x-=r*c.x,a.eh.y-=r*c.y):(da=new k,da.x=.5*(a.dh.x+a.eh.x),da.y=.5*(a.dh.y+a.eh.y),a.dh.x=a.eh.x=da.x,a.dh.y=a.eh.y=da.y,a.xk=0))};n.zc.push(function(){n.w.rk.WD=new r;n.w.rk.UD=new ca(3);n.w.rk.VD=new ca(3)});K.Kq=function(){};M.Lq=function(){this.dh=new k;this.eh=new k};ba.Mq=function(){};ba.prototype.R=function(f){switch(f.Gb()){case c.zk:f=f instanceof a?f:null;this.$=new aa(1,!0);this.$[0]=f.td;this.Ob=1;this.Ga=f.Ga;break;case c.sj:f=f instanceof b?f:null;this.$=
f.$;this.Ob=f.Kb;this.Ga=f.Ga;break;default:d.hc(!1)}};ba.prototype.Zs=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Ob;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return b};ba.prototype.Fn=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Ob;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return this.$[b]};ba.prototype.Td=function(a){void 0===a&&(a=0);d.hc(0<=a&&a<this.Ob);return this.$[a]};T.Yn=function(){};T.prototype.Yn=function(){this.kp=
this.Oh=null};T.prototype.An=function(a,b){var c=this.xw(),f=d.Rq,w=d.Rq;c.Ab.lowerBound.x=a.lowerBound.x-f;c.Ab.lowerBound.y=a.lowerBound.y-w;c.Ab.upperBound.x=a.upperBound.x+f;c.Ab.upperBound.y=a.upperBound.y+w;c.ek=b;this.Rw(c);return c};T.prototype.Bn=function(a){this.Zw(a);this.Vs(a)};T.prototype.ct=function(a,b,c){d.hc(a.rq());if(a.Ab.Qs(b))return!1;this.Zw(a);var f=d.Rq+d.yx*(0<c.x?c.x:-c.x);c=d.Rq+d.yx*(0<c.y?c.y:-c.y);a.Ab.lowerBound.x=b.lowerBound.x-f;a.Ab.lowerBound.y=b.lowerBound.y-c;
a.Ab.upperBound.x=b.upperBound.x+f;a.Ab.upperBound.y=b.upperBound.y+c;this.Rw(a);return!0};T.prototype.Dn=function(a){return a.Ab};T.prototype.Jf=function(a){return a.ek};T.prototype.et=function(a,b){if(null!=this.Oh){var c=new aa,d=0;for(c[d++]=this.Oh;0<d;){var f=c[--d];if(f.Ab.fj(b))if(f.rq()){if(!a(f))break}else c[d++]=f.Nf,c[d++]=f.qi}}};T.prototype.xw=function(){if(this.kp){var a=this.kp;this.kp=a.parent;a.parent=null;a.Nf=null;a.qi=null;return a}return new W};T.prototype.Vs=function(a){a.parent=
this.kp;this.kp=a};T.prototype.Rw=function(a){if(null==this.Oh)this.Oh=a,this.Oh.parent=null;else{var b=a.Ab.aB(),c=this.Oh;if(0==c.rq()){do var d=c.Nf,c=c.qi,c=Math.abs((d.Ab.lowerBound.x+d.Ab.upperBound.x)/2-b.x)+Math.abs((d.Ab.lowerBound.y+d.Ab.upperBound.y)/2-b.y)<Math.abs((c.Ab.lowerBound.x+c.Ab.upperBound.x)/2-b.x)+Math.abs((c.Ab.lowerBound.y+c.Ab.upperBound.y)/2-b.y)?d:c;while(0==c.rq())}b=c.parent;d=this.xw();d.parent=b;d.ek=null;d.Ab.Bl(a.Ab,c.Ab);if(b){c.parent.Nf==c?b.Nf=d:b.qi=d;d.Nf=
c;d.qi=a;c.parent=d;a.parent=d;do{if(b.Ab.Qs(d.Ab))break;b.Ab.Bl(b.Nf.Ab,b.qi.Ab);d=b;b=b.parent}while(b)}else d.Nf=c,d.qi=a,c.parent=d,this.Oh=a.parent=d}};T.prototype.Zw=function(a){if(a==this.Oh)this.Oh=null;else{var b=a.parent,c=b.parent;a=b.Nf==a?b.qi:b.Nf;if(c)for(c.Nf==b?c.Nf=a:c.qi=a,a.parent=c,this.Vs(b);c;){b=c.Ab;c.Ab=m.Bl(c.Nf.Ab,c.qi.Ab);if(b.Qs(c.Ab))break;c=c.parent}else this.Oh=a,a.parent=null,this.Vs(b)}};D.Nq=function(){this.xg=new T;this.Sk=new aa;this.rp=new aa;this.Uk=0};D.prototype.An=
function(a,b){var c=this.xg.An(a,b);this.yw(c);return c};D.prototype.Bn=function(a){this.uB(a);this.xg.Bn(a)};D.prototype.ct=function(a,b,c){this.xg.ct(a,b,c)&&this.yw(a)};D.prototype.fj=function(a,b){return this.xg.Dn(a).fj(this.xg.Dn(b))};D.prototype.Jf=function(a){return this.xg.Jf(a)};D.prototype.Dn=function(a){return this.xg.Dn(a)};D.prototype.vB=function(a){for(var b=this,c=b.Uk=0,d,c=0;c<b.Sk.length;++c){d=b.Sk[c];var f=b.xg.Dn(d);b.xg.et(function(a){if(a==d)return!0;b.Uk==b.rp.length&&(b.rp[b.Uk]=
new ha);var c=b.rp[b.Uk];c.Vh=a<d?a:d;c.Wh=a>=d?a:d;++b.Uk;return!0},f)}for(c=b.Sk.length=0;c<b.Uk;){var f=b.rp[c],w=b.xg.Jf(f.Vh);a(w,b.xg.Jf(f.Wh));for(++c;c<b.Uk;){w=b.rp[c];if(w.Vh!=f.Vh||w.Wh!=f.Wh)break;++c}}};D.prototype.et=function(a,b){this.xg.et(a,b)};D.prototype.yw=function(a){this.Sk[this.Sk.length]=a};D.prototype.uB=function(a){this.Sk.splice(parseInt(this.Sk.indexOf(a)),1)};D.ht={};D.ht[Oa]=!0;W.Bt=function(){this.Ab=new m};W.prototype.rq=function(){return null==this.Nf};ha.Ct=function(){};
X.li=function(){this.Hc=0};X.prototype.li=function(){this.gb=new aa(d.sf);for(var a=0;a<d.sf;a++)this.gb[a]=new E;this.Od=new k;this.fb=new k};X.prototype.le=function(){for(var a=0;a<d.sf;a++)(this.gb[a]instanceof E?this.gb[a]:null).le();this.Od.Oa();this.fb.Oa();this.Hc=this.jb=0};X.prototype.R=function(a){this.Hc=a.Hc;for(var b=0;b<d.sf;b++)(this.gb[b]instanceof E?this.gb[b]:null).R(a.gb[b]);this.Od.M(a.Od);this.fb.M(a.fb);this.jb=a.jb};X.prototype.yb=function(){var a=new X;a.R(this);return a};
n.zc.push(function(){n.w.li.ju=1;n.w.li.Tg=2;n.w.li.Ak=4});E.io=function(){this.fb=new k;this.Ji=new u};E.prototype.io=function(){this.le()};E.prototype.le=function(){this.fb.Oa();this.Zk=this.Tk=0;this.Ji.key=0};E.prototype.R=function(a){this.fb.M(a.fb);this.Tk=a.Tk;this.Zk=a.Zk;this.Ji.R(a.Ji)};Z.It=function(){new k};Ca.po=function(){this.Wm=new k;this.Xm=new k};Ca.prototype.po=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&this.Wm.M(a);b&&this.Xm.M(b)};pa.Mt=function(){this.Yf=new k};
Da.Nt=function(){this.Wm=new k;this.Xm=new k};w.Wl=function(){this.fb=new k;this.da=new k};w.prototype.nd=function(a,b,c,r,g){this.Nj=b;this.Oj=r;var y=parseInt(a.count);d.hc(0<y&&3>y);var C,I,h,H,U=0,m=0;1==y?(this.jb=w.my,C=this.Nj.Td(a.rd[0]),I=this.Oj.Td(a.sd[0]),y=C,a=c.G,b=c.position.x+(a.j.x*y.x+a.k.x*y.y),r=c.position.y+(a.j.y*y.x+a.k.y*y.y),y=I,a=g.G,h=g.position.x+(a.j.x*y.x+a.k.x*y.y),H=g.position.y+(a.j.y*y.x+a.k.y*y.y),this.da.x=h-b,this.da.y=H-r,this.da.zb()):(a.sd[0]==a.sd[1]?(this.jb=
w.Tg,b=this.Nj.Td(a.rd[0]),r=this.Nj.Td(a.rd[1]),I=this.Oj.Td(a.sd[0]),this.fb.x=.5*(b.x+r.x),this.fb.y=.5*(b.y+r.y),this.da=f.aj(f.sc(r,b),1),this.da.zb(),y=this.da,a=c.G,U=a.j.x*y.x+a.k.x*y.y,m=a.j.y*y.x+a.k.y*y.y,y=this.fb,a=c.G,b=c.position.x+(a.j.x*y.x+a.k.x*y.y),r=c.position.y+(a.j.y*y.x+a.k.y*y.y),y=I,a=g.G,h=g.position.x+(a.j.x*y.x+a.k.x*y.y),H=g.position.y+(a.j.y*y.x+a.k.y*y.y),U=(h-b)*U+(H-r)*m):a.rd[0]==a.rd[0]?(this.jb=w.Ak,h=this.Oj.Td(a.sd[0]),H=this.Oj.Td(a.sd[1]),C=this.Nj.Td(a.rd[0]),
this.fb.x=.5*(h.x+H.x),this.fb.y=.5*(h.y+H.y),this.da=f.aj(f.sc(H,h),1),this.da.zb(),y=this.da,a=g.G,U=a.j.x*y.x+a.k.x*y.y,m=a.j.y*y.x+a.k.y*y.y,y=this.fb,a=g.G,h=g.position.x+(a.j.x*y.x+a.k.x*y.y),H=g.position.y+(a.j.y*y.x+a.k.y*y.y),y=C,a=c.G,b=c.position.x+(a.j.x*y.x+a.k.x*y.y),r=c.position.y+(a.j.y*y.x+a.k.y*y.y),U=(b-h)*U+(r-H)*m):(b=this.Nj.Td(a.rd[0]),r=this.Nj.Td(a.rd[1]),h=this.Oj.Td(a.sd[0]),H=this.Oj.Td(a.sd[1]),f.Zc(c,C),C=f.Cd(c.G,f.sc(r,b)),f.Zc(g,I),U=f.Cd(g.G,f.sc(H,h)),g=C.x*C.x+
C.y*C.y,I=U.x*U.x+U.y*U.y,a=f.sc(U,C),c=C.x*a.x+C.y*a.y,a=U.x*a.x+U.y*a.y,C=C.x*U.x+C.y*U.y,m=g*I-C*C,U=0,0!=m&&(U=f.Fb((C*a-c*I)/m,0,1)),0>(C*U+a)/I&&(U=f.Fb((C-c)/g,0,1)),C=new k,C.x=b.x+U*(r.x-b.x),C.y=b.y+U*(r.y-b.y),I=new k,I.x=h.x+U*(H.x-h.x),I.y=h.y+U*(H.y-h.y),0==U||1==U?(this.jb=w.Ak,this.da=f.aj(f.sc(H,h),1),this.da.zb(),this.fb=I):(this.jb=w.Tg,this.da=f.aj(f.sc(r,b),1),this.fb=C)),0>U&&this.da.Vw())};w.prototype.Mg=function(a,b){var c,r,y=0;switch(this.jb){case w.my:return c=f.cj(a.G,
this.da),r=f.cj(b.G,this.da.bj()),c=this.Nj.Fn(c),r=this.Oj.Fn(r),c=f.Zc(a,c),r=f.Zc(b,r),(r.x-c.x)*this.da.x+(r.y-c.y)*this.da.y;case w.Tg:return y=f.Cd(a.G,this.da),c=f.Zc(a,this.fb),r=f.cj(b.G,y.bj()),r=this.Oj.Fn(r),r=f.Zc(b,r),(r.x-c.x)*y.x+(r.y-c.y)*y.y;case w.Ak:return y=f.Cd(b.G,this.da),r=f.Zc(b,this.fb),c=f.cj(a.G,y.bj()),c=this.Nj.Fn(c),c=f.Zc(a,c),(c.x-r.x)*y.x+(c.y-r.y)*y.y;default:return d.hc(!1),0}};n.zc.push(function(){n.w.Wl.my=1;n.w.Wl.Tg=2;n.w.Wl.Ak=4});r.qo=function(){this.Ba=
new C;this.Ua=new C;this.Cf=new C;this.$=new aa(3)};r.prototype.qo=function(){this.$[0]=this.Ba;this.$[1]=this.Ua;this.$[2]=this.Cf};r.prototype.kB=function(a,b,c,w,r){d.hc(0<=a.count&&3>=a.count);var y,g;this.Ob=a.count;for(var C=this.$,k=0;k<this.Ob;k++){var I=C[k];I.rd=a.rd[k];I.sd=a.sd[k];y=b.Td(I.rd);g=w.Td(I.sd);I.ge=f.Zc(c,y);I.Jg=f.Zc(r,g);I.I=f.sc(I.Jg,I.ge);I.T=0}1<this.Ob&&(a=a.nD,y=this.Mw(),y<.5*a||2*a<y||y<Number.MIN_VALUE)&&(this.Ob=0);0==this.Ob&&(I=C[0],I.rd=0,I.sd=0,y=b.Td(0),g=
w.Td(0),I.ge=f.Zc(c,y),I.Jg=f.Zc(r,g),I.I=f.sc(I.Jg,I.ge),this.Ob=1)};r.prototype.wB=function(a){a.nD=this.Mw();a.count=n.Bg(this.Ob);for(var b=this.$,c=0;c<this.Ob;c++)a.rd[c]=n.Bg(b[c].rd),a.sd[c]=n.Bg(b[c].sd)};r.prototype.cB=function(){switch(this.Ob){case 1:return this.Ba.I.bj();case 2:var a=f.sc(this.Ua.I,this.Ba.I);return 0<f.Dl(a,this.Ba.I.bj())?f.Aw(1,a):f.aj(a,1);default:return d.hc(!1),new k}};r.prototype.Jw=function(){switch(this.Ob){case 0:d.hc(!1);new k;break;case 1:break;case 2:new k(this.Ba.T*
this.Ba.I.x+this.Ua.T*this.Ua.I.x,this.Ba.T*this.Ba.I.y+this.Ua.T*this.Ua.I.y);break;default:d.hc(!1),new k}};r.prototype.dB=function(a,b){switch(this.Ob){case 0:d.hc(!1);break;case 1:a.M(this.Ba.ge);b.M(this.Ba.Jg);break;case 2:a.x=this.Ba.T*this.Ba.ge.x+this.Ua.T*this.Ua.ge.x;a.y=this.Ba.T*this.Ba.ge.y+this.Ua.T*this.Ua.ge.y;b.x=this.Ba.T*this.Ba.Jg.x+this.Ua.T*this.Ua.Jg.x;b.y=this.Ba.T*this.Ba.Jg.y+this.Ua.T*this.Ua.Jg.y;break;case 3:b.x=a.x=this.Ba.T*this.Ba.ge.x+this.Ua.T*this.Ua.ge.x+this.Cf.T*
this.Cf.ge.x;b.y=a.y=this.Ba.T*this.Ba.ge.y+this.Ua.T*this.Ua.ge.y+this.Cf.T*this.Cf.ge.y;break;default:d.hc(!1)}};r.prototype.Mw=function(){switch(this.Ob){case 0:return d.hc(!1),0;case 1:return 0;case 2:return f.sc(this.Ba.I,this.Ua.I).ig();case 3:return f.Dl(f.sc(this.Ua.I,this.Ba.I),f.sc(this.Cf.I,this.Ba.I));default:return d.hc(!1),0}};r.prototype.pB=function(){var a=this.Ba.I,b=this.Ua.I,c=f.sc(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.Ob=this.Ba.T=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.Ob=this.Ua.T=1,this.Ba.R(this.Ua)):
(c=1/(b+a),this.Ba.T=b*c,this.Ua.T=a*c,this.Ob=2))};r.prototype.qB=function(){var a=this.Ba.I,b=this.Ua.I,c=this.Cf.I,d=f.sc(b,a),w=f.Sd(a,d),r=f.Sd(b,d),w=-w,y=f.sc(c,a),g=f.Sd(a,y),C=f.Sd(c,y),g=-g,k=f.sc(c,b),I=f.Sd(b,k),k=f.Sd(c,k),I=-I,y=f.Dl(d,y),d=y*f.Dl(b,c),c=y*f.Dl(c,a),a=y*f.Dl(a,b);0>=w&&0>=g?this.Ob=this.Ba.T=1:0<r&&0<w&&0>=a?(C=1/(r+w),this.Ba.T=r*C,this.Ua.T=w*C,this.Ob=2):0<C&&0<g&&0>=c?(r=1/(C+g),this.Ba.T=C*r,this.Cf.T=g*r,this.Ob=2,this.Ua.R(this.Cf)):0>=r&&0>=I?(this.Ob=this.Ua.T=
1,this.Ba.R(this.Ua)):0>=C&&0>=k?(this.Ob=this.Cf.T=1,this.Ba.R(this.Cf)):0<k&&0<I&&0>=d?(r=1/(k+I),this.Ua.T=k*r,this.Cf.T=I*r,this.Ob=2,this.Ba.R(this.Cf)):(r=1/(d+c+a),this.Ba.T=d*r,this.Ua.T=c*r,this.Cf.T=a*r,this.Ob=3)};y.Oq=function(){this.rd=new ca(3);this.sd=new ca(3)};C.Ot=function(){};C.prototype.R=function(a){this.ge.M(a.ge);this.Jg.M(a.Jg);this.I.M(a.I);this.T=a.T;this.rd=a.rd;this.sd=a.sd};I.We=function(){};I.tB=function(a){++I.PB;var b=a.Vh,c=a.Wh,w=a.sA,r=a.tA;d.hc(w.zd==r.zd);d.hc(1-
w.zd>Number.MIN_VALUE);var y=b.Ga+c.Ga;a=a.IE;var g=0,C=0,k=0;I.Lv.count=0;for(I.en.IA=!1;;){w.mf(I.Xj,g);r.mf(I.Yj,g);I.en.Vh=b;I.en.Wh=c;I.en.xA=I.Xj;I.en.yA=I.Yj;z.Rs(I.Yz,I.Lv,I.en);if(0>=I.Yz.xk){g=1;break}I.ls.nd(I.Lv,b,I.Xj,c,I.Yj);var h=I.ls.Mg(I.Xj,I.Yj);if(0>=h){g=1;break}0==C&&(k=h>y?f.ke(y-a,.75*y):f.ke(h-a,.02*y));if(h-k<.5*a){if(0==C){g=1;break}break}var H=g,U=g,m=1;w.mf(I.Xj,m);r.mf(I.Yj,m);var da=I.ls.Mg(I.Xj,I.Yj);if(da>=k){g=1;break}for(var B=0;;){var p=0,p=B&1?U+(k-h)*(m-U)/(da-
h):.5*(U+m);w.mf(I.Xj,p);r.mf(I.Yj,p);var Oa=I.ls.Mg(I.Xj,I.Yj);if(f.ld(Oa-k)<.025*a){H=p;break}Oa>k?(U=p,h=Oa):(m=p,da=Oa);++B;++I.RB;if(50==B)break}I.Ex=f.ke(I.Ex,B);if(H<(1+100*Number.MIN_VALUE)*g)break;g=H;C++;++I.QB;if(1E3==C)break}I.Dx=f.ke(I.Dx,C);return g};n.zc.push(function(){n.w.We.PB=0;n.w.We.QB=0;n.w.We.Dx=0;n.w.We.RB=0;n.w.We.Ex=0;n.w.We.Lv=new y;n.w.We.en=new K;n.w.We.Xj=new h;n.w.We.Yj=new h;n.w.We.ls=new w;n.w.We.Yz=new M});U.Pq=function(){this.Vh=new ba;this.Wh=new ba;this.sA=new g;
this.tA=new g};H.Yl=function(){this.Ta=new k};H.prototype.Yl=function(){this.gb=new aa(d.sf);for(var a=0;a<d.sf;a++)this.gb[a]=new k};H.prototype.nd=function(a,b,c,d,f){void 0===c&&(c=0);void 0===f&&(f=0);if(0!=a.Hc){var w=0,r,y,g=0,C=0,k=0,I=0,h=0;switch(a.jb){case X.ju:y=b.G;r=a.fb;w=b.position.x+y.j.x*r.x+y.k.x*r.y;b=b.position.y+y.j.y*r.x+y.k.y*r.y;y=d.G;r=a.gb[0].fb;a=d.position.x+y.j.x*r.x+y.k.x*r.y;d=d.position.y+y.j.y*r.x+y.k.y*r.y;r=a-w;y=d-b;g=r*r+y*y;g>Number.MIN_VALUE*Number.MIN_VALUE?
(g=Math.sqrt(g),this.Ta.x=r/g,this.Ta.y=y/g):(this.Ta.x=1,this.Ta.y=0);r=b+c*this.Ta.y;d-=f*this.Ta.y;this.gb[0].x=.5*(w+c*this.Ta.x+(a-f*this.Ta.x));this.gb[0].y=.5*(r+d);break;case X.Tg:y=b.G;r=a.Od;g=y.j.x*r.x+y.k.x*r.y;C=y.j.y*r.x+y.k.y*r.y;y=b.G;r=a.fb;k=b.position.x+y.j.x*r.x+y.k.x*r.y;I=b.position.y+y.j.y*r.x+y.k.y*r.y;this.Ta.x=g;this.Ta.y=C;for(w=0;w<a.Hc;w++)y=d.G,r=a.gb[w].fb,h=d.position.x+y.j.x*r.x+y.k.x*r.y,r=d.position.y+y.j.y*r.x+y.k.y*r.y,this.gb[w].x=h+.5*(c-(h-k)*g-(r-I)*C-f)*g,
this.gb[w].y=r+.5*(c-(h-k)*g-(r-I)*C-f)*C;break;case X.Ak:for(y=d.G,r=a.Od,g=y.j.x*r.x+y.k.x*r.y,C=y.j.y*r.x+y.k.y*r.y,y=d.G,r=a.fb,k=d.position.x+y.j.x*r.x+y.k.x*r.y,I=d.position.y+y.j.y*r.x+y.k.y*r.y,this.Ta.x=-g,this.Ta.y=-C,w=0;w<a.Hc;w++)y=b.G,r=a.gb[w].fb,h=b.position.x+y.j.x*r.x+y.k.x*r.y,r=b.position.y+y.j.y*r.x+y.k.y*r.y,this.gb[w].x=h+.5*(f-(h-k)*g-(r-I)*C-c)*g,this.gb[w].y=r+.5*(f-(h-k)*g-(r-I)*C-c)*C}}};da.Ps=function(){this.ac=new k;this.id=new u};da.prototype.R=function(a){this.ac.M(a.ac);
this.id.R(a.id)};B.Ts=function(){};Object.defineProperty(B.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.lt}});Object.defineProperty(B.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.lt=a;this.gj.pf=this.gj.pf&4294967040|this.lt&255}});Object.defineProperty(B.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.jt}});Object.defineProperty(B.prototype,"incidentEdge",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.jt=a;this.gj.pf=this.gj.pf&4294902015|this.jt<<8&65280}});Object.defineProperty(B.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.kt}});Object.defineProperty(B.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.kt=a;this.gj.pf=this.gj.pf&4278255615|this.kt<<16&16711680}});Object.defineProperty(B.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.it}});Object.defineProperty(B.prototype,
"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.it=a;this.gj.pf=this.gj.pf&16777215|this.it<<24&4278190080}})})();
(function(){var a=n.ba.Lb,b=n.w.Wa.lj,c=n.w.Wa.Zn,d=n.w.Wa.$n,f=n.w.Wa.jo,g=n.w.Wa.ni,h=n.w.Wa.Vb,k=n.ba.Math.mi,m=n.ba.Math.Lf,q=n.ba.Math.nj,p=n.ba.Math.mg,x=n.w.rk,u=n.w.Kq,t=n.w.Lq,z=n.w.Mq,K=n.w.Oq;n.Hb(b,n.w.Wa.Vb);b.prototype.ma=n.w.Wa.Vb.prototype;b.lj=function(){n.w.Wa.Vb.Vb.apply(this,arguments);this.td=new p};b.prototype.yb=function(){var a=new b;a.R(this);return a};b.prototype.R=function(a){this.ma.R.call(this,a);n.is(a,b)&&this.td.M((a instanceof b?a:null).td)};b.prototype.Cl=function(a,
b){var c=b.G,d=b.position.x+(c.j.x*this.td.x+c.k.x*this.td.y),c=b.position.y+(c.j.y*this.td.x+c.k.y*this.td.y);a.lowerBound.R(d-this.Ga,c-this.Ga);a.upperBound.R(d+this.Ga,c+this.Ga)};b.prototype.yn=function(b,c){void 0===c&&(c=0);b.Ph=c*a.uo*this.Ga*this.Ga;b.Ee.M(this.td);b.El=b.Ph*(.5*this.Ga*this.Ga+(this.td.x*this.td.x+this.td.y*this.td.y))};b.prototype.iq=function(a,b,c,d){void 0===b&&(b=0);c=m.Zc(c,this.td);var f=-(m.Sd(a,c)-b);if(f<-this.Ga+Number.MIN_VALUE)return 0;if(f>this.Ga)return d.M(c),
Math.PI*this.Ga*this.Ga;b=this.Ga*this.Ga;var g=f*f,f=b*(Math.asin(f/this.Ga)+Math.PI/2)+f*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/f;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return f};b.prototype.gx=function(a){this.td.M(a)};b.prototype.lj=function(a){void 0===a&&(a=0);this.ma.Vb.call(this);this.jb=h.zk;this.Ga=a};c.Zn=function(){};c.prototype.Zn=function(){this.fa=[]};n.Hb(d,n.w.Wa.Vb);d.prototype.ma=n.w.Wa.Vb.prototype;d.$n=function(){n.w.Wa.Vb.Vb.apply(this,arguments);new p;this.Ba=new p;this.Ua=new p;this.SC=
new p;this.TC=new p;this.Ta=new p;this.Kj=new p;new p;this.UC=new p};d.prototype.Cl=function(a,b){var c=b.G,d=b.position.x+(c.j.x*this.Ba.x+c.k.x*this.Ba.y),f=b.position.y+(c.j.y*this.Ba.x+c.k.y*this.Ba.y),g=b.position.x+(c.j.x*this.Ua.x+c.k.x*this.Ua.y),c=b.position.y+(c.j.y*this.Ua.x+c.k.y*this.Ua.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);f<c?(a.lowerBound.y=f,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=f)};d.prototype.yn=function(a){a.Ph=0;a.Ee.M(this.Ba);
a.El=0};d.prototype.iq=function(a,b,c,d){void 0===b&&(b=0);var f=new p(a.x*b,a.y*b),g=m.Zc(c,this.Ba);c=m.Zc(c,this.Ua);var k=m.Sd(a,g)-b;a=m.Sd(a,c)-b;if(0<k){if(0<a)return 0;g.x=-a/(k-a)*g.x+k/(k-a)*c.x;g.y=-a/(k-a)*g.y+k/(k-a)*c.y}else 0<a&&(c.x=-a/(k-a)*g.x+k/(k-a)*c.x,c.y=-a/(k-a)*g.y+k/(k-a)*c.y);d.x=(f.x+g.x+c.x)/3;d.y=(f.y+g.y+c.y)/3;return.5*((g.x-f.x)*(c.y-f.y)-(g.y-f.y)*(c.x-f.x))};d.prototype.$n=function(b,c){this.ma.Vb.call(this);this.jb=h.lr;this.Ba=b;this.Ua=c;this.Kj.R(this.Ua.x-this.Ba.x,
this.Ua.y-this.Ba.y);this.ev=this.Kj.zb();this.Ta.R(this.Kj.y,-this.Kj.x);this.SC.R(-a.Uq*(this.Ta.x-this.Kj.x)+this.Ba.x,-a.Uq*(this.Ta.y-this.Kj.y)+this.Ba.y);this.TC.R(-a.Uq*(this.Ta.x+this.Kj.x)+this.Ua.x,-a.Uq*(this.Ta.y+this.Kj.y)+this.Ua.y);this.UC.R(-this.Ta.x,-this.Ta.y)};f.jo=function(){this.Ph=0;this.Ee=new p(0,0);this.El=0};n.Hb(g,n.w.Wa.Vb);g.prototype.ma=n.w.Wa.Vb.prototype;g.ni=function(){n.w.Wa.Vb.Vb.apply(this,arguments)};g.prototype.yb=function(){var a=new g;a.R(this);return a};
g.prototype.R=function(a){this.ma.R.call(this,a);if(n.is(a,g)){a=a instanceof g?a:null;this.Gi.M(a.Gi);this.Kb=a.Kb;this.Hn(this.Kb);for(var b=0;b<this.Kb;b++)this.$[b].M(a.$[b]),this.qc[b].M(a.qc[b])}};g.prototype.ft=function(a,b){void 0===b&&(b=0);for(var c=new aa,d=0,f,d=0;d<a.length;++d)f=a[d],c.push(f);this.cx(c,b)};g.WE=function(a,b){void 0===b&&(b=0);var c=new g;c.ft(a,b);return c};g.prototype.cx=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);a.hc(2<=c);this.Kb=c;this.Hn(c);for(var d=0,
d=0;d<this.Kb;d++)this.$[d].M(b[d]);for(d=0;d<this.Kb;++d){var f=parseInt(d),f=m.sc(this.$[parseInt(d+1<this.Kb?d+1:0)],this.$[f]);a.hc(f.vq()>Number.MIN_VALUE);this.qc[d].M(m.aj(f,1));this.qc[d].zb()}this.Gi=g.VA(this.$,this.Kb)};g.$E=function(a,b){void 0===b&&(b=0);var c=new g;c.cx(a,b);return c};g.prototype.bx=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Kb=4;this.Hn(4);this.$[0].R(-a,-b);this.$[1].R(a,-b);this.$[2].R(a,b);this.$[3].R(-a,b);this.qc[0].R(0,-1);this.qc[1].R(1,0);this.qc[2].R(0,
1);this.qc[3].R(-1,0);this.Gi.Oa()};g.XE=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new g;c.bx(a,b);return c};g.prototype.mB=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.Kb=4;this.Hn(4);this.$[0].R(-a,-b);this.$[1].R(a,-b);this.$[2].R(a,b);this.$[3].R(-a,b);this.qc[0].R(0,-1);this.qc[1].R(1,0);this.qc[2].R(0,1);this.qc[3].R(-1,0);this.Gi=c;a=new q;a.position=c;a.G.R(d);for(c=0;c<this.Kb;++c)this.$[c]=m.Zc(a,this.$[c]),this.qc[c]=m.Cd(a.G,
this.qc[c])};g.ZE=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var f=new g;f.mB(a,b,c,d);return f};g.prototype.lB=function(a,b){this.Kb=2;this.Hn(2);this.$[0].M(a);this.$[1].M(b);this.Gi.x=.5*(a.x+b.x);this.Gi.y=.5*(a.y+b.y);this.qc[0]=m.aj(m.sc(b,a),1);this.qc[0].zb();this.qc[1].x=-this.qc[0].x;this.qc[1].y=-this.qc[0].y};g.YE=function(a,b){var c=new g;c.lB(a,b);return c};g.prototype.Cl=function(a,b){for(var c=b.G,d=this.$[0],f=b.position.x+(c.j.x*
d.x+c.k.x*d.y),g=b.position.y+(c.j.y*d.x+c.k.y*d.y),k=f,h=g,m=1;m<this.Kb;++m)var d=this.$[m],p=b.position.x+(c.j.x*d.x+c.k.x*d.y),d=b.position.y+(c.j.y*d.x+c.k.y*d.y),f=f<p?f:p,g=g<d?g:d,k=k>p?k:p,h=h>d?h:d;a.lowerBound.x=f-this.Ga;a.lowerBound.y=g-this.Ga;a.upperBound.x=k+this.Ga;a.upperBound.y=h+this.Ga};g.prototype.yn=function(a,b){void 0===b&&(b=0);if(2==this.Kb)a.Ee.x=.5*(this.$[0].x+this.$[1].x),a.Ee.y=.5*(this.$[0].y+this.$[1].y),a.Ph=0,a.El=0;else{for(var c=0,d=0,f=0,g=0,k=1/3,h=0;h<this.Kb;++h)var m=
this.$[h],p=h+1<this.Kb?this.$[parseInt(h+1)]:this.$[0],x=m.x-0,q=m.y-0,w=p.x-0,r=p.y-0,y=x*r-q*w,C=.5*y,f=f+C,c=c+C*k*(0+m.x+p.x),d=d+C*k*(0+m.y+p.y),m=x,g=g+y*(k*(.25*(m*m+w*m+w*w)+(0*m+0*w))+0+(k*(.25*(q*q+r*q+r*r)+(0*q+0*r))+0));a.Ph=b*f;a.Ee.R(1/f*c,1/f*d);a.El=b*g}};g.prototype.iq=function(a,b,c,d){void 0===b&&(b=0);var g=m.cj(c.G,a),k=b-m.Sd(a,c.position),h=new ca,x=0,q=-1;b=-1;var t=!1;for(a=a=0;a<this.Kb;++a){h[a]=m.Sd(g,this.$[a])-k;var u=h[a]<-Number.MIN_VALUE;0<a&&(u?t||(q=a-1,x++):t&&
(b=a-1,x++));t=u}switch(x){case 0:return t?(a=new f,this.yn(a,1),d.M(m.Zc(c,a.Ee)),a.Ph):0;case 1:-1==q?q=this.Kb-1:b=this.Kb-1}a=parseInt((q+1)%this.Kb);g=parseInt((b+1)%this.Kb);k=(0-h[q])/(h[a]-h[q]);h=(0-h[b])/(h[g]-h[b]);q=new p(this.$[q].x*(1-k)+this.$[a].x*k,this.$[q].y*(1-k)+this.$[a].y*k);b=new p(this.$[b].x*(1-h)+this.$[g].x*h,this.$[b].y*(1-h)+this.$[g].y*h);h=0;k=new p;for(x=this.$[a];a!=g;)a=(a+1)%this.Kb,t=a==g?b:this.$[a],u=.5*((x.x-q.x)*(t.y-q.y)-(x.y-q.y)*(t.x-q.x)),h+=u,k.x+=u*(q.x+
x.x+t.x)/3,k.y+=u*(q.y+x.y+t.y)/3,x=t;k.ga(1/h);d.M(m.Zc(c,k));return h};g.prototype.Zs=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Kb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return b};g.prototype.Fn=function(a){for(var b=0,c=this.$[0].x*a.x+this.$[0].y*a.y,d=1;d<this.Kb;++d){var f=this.$[d].x*a.x+this.$[d].y*a.y;f>c&&(b=d,c=f)}return this.$[b]};g.prototype.ni=function(){this.ma.Vb.call(this);this.jb=h.sj;this.Gi=new p;this.$=new aa;this.qc=new aa};g.prototype.Hn=
function(a){void 0===a&&(a=0);for(var b=parseInt(this.$.length);b<a;b++)this.$[b]=new p,this.qc[b]=new p};g.VA=function(a,b){void 0===b&&(b=0);for(var c=new p,d=0,f=1/3,g=0;g<b;++g){var k=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],m=.5*((k.x-0)*(h.y-0)-(k.y-0)*(h.x-0)),d=d+m;c.x+=m*f*(0+k.x+h.x);c.y+=m*f*(0+k.y+h.y)}c.x*=1/d;c.y*=1/d;return c};g.bF=function(a,b,c){void 0===c&&(c=0);for(var d=0,f=new aa(c+1),d=0;d<c;++d)f[d]=b[d];f[c]=f[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=f[parseInt(d-1)],k=
f[d].x-g.x,h=f[d].y-g.y,m=Math.sqrt(k*k+h*h),k=k/m,h=h/m,p=-h,q=k,x=m=Number.MAX_VALUE,w=-Number.MAX_VALUE,r=-Number.MAX_VALUE,y=0;y<c;++y){var C=f[y].x-g.x,I=f[y].y-g.y,U=k*C+h*I,C=p*C+q*I;U<m&&(m=U);C<x&&(x=C);U>w&&(w=U);C>r&&(r=C)}y=(w-m)*(r-x);y<.95*b&&(b=y,a.G.j.x=k,a.G.j.y=h,a.G.k.x=p,a.G.k.y=q,k=.5*(m+w),h=.5*(x+r),p=a.G,a.Ee.x=g.x+(p.j.x*k+p.k.x*h),a.Ee.y=g.y+(p.j.y*k+p.k.y*h),a.oC.x=.5*(w-m),a.oC.y=.5*(r-x))}};n.zc.push(function(){n.w.Wa.ni.OF=new k});h.Vb=function(){};h.prototype.yb=function(){return null};
h.prototype.R=function(a){this.Ga=a.Ga};h.prototype.Gb=function(){return this.jb};h.prototype.Cl=function(){};h.prototype.yn=function(){};h.prototype.iq=function(){return 0};h.fj=function(a,b,c,d){var f=new u;f.Vh=new z;f.Vh.R(a);f.Wh=new z;f.Wh.R(c);f.xA=b;f.yA=d;f.IA=!0;a=new K;a.count=0;b=new t;x.Rs(b,a,f);return b.xk<10*Number.MIN_VALUE};h.prototype.Vb=function(){this.jb=h.hC;this.Ga=a.Bb};n.zc.push(function(){n.w.Wa.Vb.hC=-1;n.w.Wa.Vb.zk=0;n.w.Wa.Vb.sj=1;n.w.Wa.Vb.lr=2;n.w.Wa.Vb.nr=3;n.w.Wa.Vb.zF=
1;n.w.Wa.Vb.BF=0;n.w.Wa.Vb.EF=-1})})();
(function(){var a=n.ba.Kl,b=n.ba.Lb,c=n.ba.Math.Lf;a.Kl=function(){this.Aq=this.Bq=this.Cq=0};a.prototype.Kl=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.Cq=n.Bg(255*c.Fb(a,0,1));this.Bq=n.Bg(255*c.Fb(b,0,1));this.Aq=n.Bg(255*c.Fb(g,0,1))};a.prototype.R=function(a,b,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===g&&(g=0);this.Cq=n.Bg(255*c.Fb(a,0,1));this.Bq=n.Bg(255*c.Fb(b,0,1));this.Aq=n.Bg(255*c.Fb(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,
set:function(a){void 0===a&&(a=0);this.Cq=n.Bg(255*c.Fb(a,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Bq=n.Bg(255*c.Fb(a,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.Aq=n.Bg(255*c.Fb(a,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.Cq<<16|this.Bq<<8|this.Aq}});b.Lb=function(){};b.FB=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};b.GB=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};b.hc=function(a){if(!a)throw"Assertion Failed";};n.zc.push(function(){n.ba.Lb.VERSION="2.1alpha";n.ba.Lb.kF=65535;n.ba.Lb.uo=Math.PI;n.ba.Lb.sf=2;n.ba.Lb.Rq=.1;n.ba.Lb.yx=2;n.ba.Lb.qF=2*b.Bb;n.ba.Lb.Bb=.005;n.ba.Lb.tk=2/180*b.uo;n.ba.Lb.Uq=8*b.Bb;n.ba.Lb.MB=32;n.ba.Lb.NB=32;n.ba.Lb.SB=1;n.ba.Lb.rf=.2;n.ba.Lb.Sq=8/180*b.uo;n.ba.Lb.$l=2;n.ba.Lb.Cx=b.$l*b.$l;n.ba.Lb.Zl=
.5*b.uo;n.ba.Lb.Bx=b.Zl*b.Zl;n.ba.Lb.Qt=.2;n.ba.Lb.OB=.5;n.ba.Lb.Ax=.01;n.ba.Lb.zx=2/180*b.uo})})();
(function(){var a=n.ba.Math.mi,b=n.ba.Math.Rl,c=n.ba.Math.Lf,d=n.ba.Math.ro,f=n.ba.Math.nj,g=n.ba.Math.mg,h=n.ba.Math.Xl;a.mi=function(){this.j=new g;this.k=new g};a.prototype.mi=function(){this.yq()};a.nq=function(b){void 0===b&&(b=0);var c=new a;c.R(b);return c};a.Cn=function(b,c){var d=new a;d.oB(b,c);return d};a.prototype.R=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};a.prototype.oB=function(a,b){this.j.M(a);this.k.M(b)};a.prototype.yb=
function(){var b=new a;b.nk(this);return b};a.prototype.nk=function(a){this.j.M(a.j);this.k.M(a.k)};a.prototype.hq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};a.prototype.yq=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};a.prototype.Oa=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};a.prototype.ha=function(){return Math.atan2(this.j.y,this.j.x)};a.prototype.Xs=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,f=this.k.y,g=b*f-c*d;0!=g&&(g=1/g);a.j.x=
g*f;a.k.x=-g*c;a.j.y=-g*d;a.k.y=g*b};a.prototype.ok=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,z=d*h-f*g;0!=z&&(z=1/z);a.x=z*(h*b-f*c);a.y=z*(d*c-g*b);return a};a.prototype.ld=function(){this.j.ld();this.k.ld()};b.Rl=function(){this.j=new h;this.k=new h;this.Ia=new h};b.prototype.Rl=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.j.M(a),this.k.M(b),this.Ia.M(c)):(this.j.Oa(),this.k.Oa(),this.Ia.Oa())};
b.prototype.yb=function(){return new b(this.j,this.k,this.Ia)};b.prototype.nk=function(a){this.j.M(a.j);this.k.M(a.k);this.Ia.M(a.Ia)};b.prototype.hq=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.Ia.x+=a.Ia.x;this.Ia.y+=a.Ia.y;this.Ia.z+=a.Ia.z};b.prototype.yq=function(){this.j.x=1;this.k.x=0;this.Ia.x=0;this.j.y=0;this.k.y=1;this.Ia.y=0;this.j.z=0;this.k.z=0;this.Ia.z=1};b.prototype.Oa=function(){this.j.x=0;this.k.x=0;this.Ia.x=0;
this.j.y=0;this.k.y=0;this.Ia.y=0;this.j.z=0;this.k.z=0;this.Ia.z=0};b.prototype.Hl=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,f=this.k.x,g=this.j.y,h=this.k.y,z=d*h-f*g;0!=z&&(z=1/z);a.x=z*(h*b-f*c);a.y=z*(d*c-g*b);return a};b.prototype.Kn=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.j.x,g=this.j.y,h=this.j.z,z=this.k.x,K=this.k.y,M=this.k.z,ba=this.Ia.x,T=this.Ia.y,D=this.Ia.z,W=f*(K*D-M*T)+g*(M*ba-z*D)+h*(z*T-K*ba);0!=W&&(W=1/W);a.x=
W*(b*(K*D-M*T)+c*(M*ba-z*D)+d*(z*T-K*ba));a.y=W*(f*(c*D-d*T)+g*(d*ba-b*D)+h*(b*T-c*ba));a.z=W*(f*(K*d-M*c)+g*(M*b-z*d)+h*(z*c-K*b));return a};c.Lf=function(){};c.Fl=function(a){void 0===a&&(a=0);return isFinite(a)};c.Sd=function(a,b){return a.x*b.x+a.y*b.y};c.Dl=function(a,b){return a.x*b.y-a.y*b.x};c.aj=function(a,b){void 0===b&&(b=0);return new g(b*a.y,-b*a.x)};c.Aw=function(a,b){void 0===a&&(a=0);return new g(-a*b.y,a*b.x)};c.Cd=function(a,b){return new g(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};
c.cj=function(a,b){return new g(c.Sd(b,a.j),c.Sd(b,a.k))};c.Zc=function(a,b){var d=c.Cd(a.G,b);d.x+=a.position.x;d.y+=a.position.y;return d};c.iB=function(a,b){var d=c.sc(b,a.position),f=d.x*a.G.j.x+d.y*a.G.j.y;d.y=d.x*a.G.k.x+d.y*a.G.k.y;d.x=f;return d};c.ww=function(a,b){return new g(a.x+b.x,a.y+b.y)};c.sc=function(a,b){return new g(a.x-b.x,a.y-b.y)};c.Rs=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};c.cF=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};c.eF=function(a,b){void 0===
a&&(a=0);return new g(a*b.x,a*b.y)};c.VE=function(b,d){return a.Cn(c.ww(b.j,d.j),c.ww(b.k,d.k))};c.fF=function(b,d){return a.Cn(c.Cd(b,d.j),c.Cd(b,d.k))};c.gF=function(b,d){var f=new g(c.Sd(b.j,d.j),c.Sd(b.k,d.j)),h=new g(c.Sd(b.j,d.k),c.Sd(b.k,d.k));return a.Cn(f,h)};c.ld=function(a){void 0===a&&(a=0);return 0<a?a:-a};c.tw=function(a){return new g(c.ld(a.x),c.ld(a.y))};c.UE=function(b){return a.Cn(c.tw(b.j),c.tw(b.k))};c.lk=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};c.Tw=function(a,
b){return new g(c.lk(a.x,b.x),c.lk(a.y,b.y))};c.ke=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};c.Sw=function(a,b){return new g(c.ke(a.x,b.x),c.ke(a.y,b.y))};c.Fb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};c.aF=function(a,b,d){return c.Sw(b,c.Tw(a,d))};c.rB=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};c.iF=function(){return 2*Math.random()-1};c.jF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return(b-a)*Math.random()+a};c.hF=
function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};c.dF=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};n.zc.push(function(){n.ba.Math.Lf.HB=new g(0,0);n.ba.Math.Lf.EB=a.Cn(new g(1,0),new g(0,1));n.ba.Math.Lf.mF=new f(c.HB,c.EB)});d.ro=function(){this.W=new g;this.Hd=new g;this.m=new g};d.prototype.R=function(a){this.W.M(a.W);this.Hd.M(a.Hd);this.m.M(a.m);this.kg=a.kg;this.T=a.T;this.zd=a.zd};d.prototype.yb=function(){var a=
new d;a.W.M(this.W);a.Hd.M(this.Hd);a.m.M(this.m);a.kg=this.kg;a.T=this.T;a.zd=this.zd;return a};d.prototype.mf=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.Hd.x+b*this.m.x;a.position.y=(1-b)*this.Hd.y+b*this.m.y;a.G.R((1-b)*this.kg+b*this.T);var c=a.G;a.position.x-=c.j.x*this.W.x+c.k.x*this.W.y;a.position.y-=c.j.y*this.W.x+c.k.y*this.W.y};d.prototype.$i=function(a){void 0===a&&(a=0);if(this.zd<a&&1-this.zd>Number.MIN_VALUE){var b=(a-this.zd)/(1-this.zd);this.Hd.x=(1-b)*this.Hd.x+b*this.m.x;
this.Hd.y=(1-b)*this.Hd.y+b*this.m.y;this.kg=(1-b)*this.kg+b*this.T;this.zd=a}};f.nj=function(){this.position=new g;this.G=new a};f.prototype.nj=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.M(a),this.G.nk(b))};f.prototype.nd=function(a,b){this.position.M(a);this.G.nk(b)};f.prototype.yq=function(){this.position.Oa();this.G.yq()};f.prototype.R=function(a){this.position.M(a.position);this.G.nk(a.G)};f.prototype.ha=function(){return Math.atan2(this.G.j.y,this.G.j.x)};g.mg=
function(){};g.prototype.mg=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.Oa=function(){this.y=this.x=0};g.prototype.R=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};g.prototype.M=function(a){this.x=a.x;this.y=a.y};g.prototype.bj=function(){return new g(-this.x,-this.y)};g.prototype.Vw=function(){this.x=-this.x;this.y=-this.y};g.hB=function(){var a=0,b=0;void 0===a&&(a=0);void 0===b&&(b=0);return new g(a,b)};g.prototype.yb=function(){return new g(this.x,
this.y)};g.prototype.Lg=function(a){this.x+=a.x;this.y+=a.y};g.prototype.Ln=function(a){this.x-=a.x;this.y-=a.y};g.prototype.ga=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};g.prototype.aj=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};g.prototype.Aw=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};g.prototype.Tw=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};g.prototype.Sw=function(a){this.x=this.x>a.x?this.x:a.x;this.y=
this.y>a.y?this.y:a.y};g.prototype.ld=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.ig=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.vq=function(){return this.x*this.x+this.y*this.y};g.prototype.zb=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};g.prototype.Fl=function(){return c.Fl(this.x)&&c.Fl(this.y)};h.Xl=function(){};h.prototype.Xl=function(a,b,c){void 0===a&&
(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.Oa=function(){this.x=this.y=this.z=0};h.prototype.R=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};h.prototype.M=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.bj=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.Vw=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.yb=function(){return new h(this.x,this.y,this.z)};h.prototype.Lg=
function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};h.prototype.Ln=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};h.prototype.ga=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var a=n.ba.Math.Lf,b=n.ba.Math.ro,c=n.ba.Math.nj,d=n.ba.Math.mg,f=n.ba.Kl,g=n.ba.Lb,h=n.w.Sn,k=n.w.Jq,m=n.w.Nq,q=n.w.Wa.jo,p=n.l.ne,x=n.l.Jl,u=n.l.Iq,t=n.l.wt,z=n.l.Vn,K=n.l.Nl,M=n.l.Ve,ba=n.l.At,T=n.l.Et,D=n.l.Ol,W=n.l.Pl,ha=n.l.Ql,X=n.l.Qq,E=n.l.Xe,Z=n.l.la.bb,Ca=n.l.la.Ll,pa=n.l.la.mj,Da=n.l.L.ja;p.ne=function(){this.g=new c;this.h=new b;this.q=new d;this.Mj=new d};p.prototype.jq=function(a){if(1==this.vd.sq())return null;var b=new D;b.Te(this,this.g,a);this.Q&p.jr&&b.An(this.vd.cf.Jm,
this.g);b.Ka=this.Gc;this.Gc=b;++this.sz;b.dc=this;0<b.jp&&this.jg();this.vd.Q|=E.nu;return b};p.prototype.hx=function(a,b){void 0===b&&(b=0);var c;if(1!=this.vd.sq()){this.g.G.R(b);this.g.position.M(a);c=this.g.G;var d=this.h.W;this.h.m.x=c.j.x*d.x+c.k.x*d.y;this.h.m.y=c.j.y*d.x+c.k.y*d.y;this.h.m.x+=this.g.position.x;this.h.m.y+=this.g.position.y;this.h.Hd.M(this.h.m);this.h.kg=this.h.T=b;d=this.vd.cf.Jm;for(c=this.Gc;c;c=c.Ka)c.ix(d,this.g,this.g);this.vd.cf.mq()}};p.prototype.mf=function(){return this.g};
p.prototype.hi=function(a){this.hx(a,this.ha())};p.prototype.ha=function(){return this.h.T};p.prototype.vb=function(a){void 0===a&&(a=0);this.hx(this.g.position,a)};p.prototype.Gl=function(a){this.jb!=p.tf&&this.q.M(a)};p.prototype.ik=function(a,b){this.jb==p.Fd&&(0==this.od()&&this.Ud(!0),this.Mj.x+=a.x,this.Mj.y+=a.y,this.Rm+=(b.x-this.h.m.x)*a.y-(b.y-this.h.m.y)*a.x)};p.prototype.PA=function(a){void 0===a&&(a=0);this.jb==p.Fd&&(0==this.od()&&this.Ud(!0),this.Rm+=a)};p.prototype.ia=function(a,b){this.jb==
p.Fd&&(0==this.od()&&this.Ud(!0),this.q.x+=this.U*a.x,this.q.y+=this.U*a.y,this.J+=this.ea*((b.x-this.h.m.x)*a.y-(b.y-this.h.m.y)*a.x))};p.prototype.Lw=function(a){a.Ph=this.X;a.El=this.Uf;a.Ee.M(this.h.W)};p.prototype.jg=function(){this.ea=this.Uf=this.U=this.X=0;this.h.W.Oa();if(this.jb!=p.tf&&this.jb!=p.LB){for(var b=d.hB(),c=this.Gc;c;c=c.Ka)if(0!=c.jp){var f=c.Lw();this.X+=f.Ph;b.x+=f.Ee.x*f.Ph;b.y+=f.Ee.y*f.Ph;this.Uf+=f.El}0<this.X?(this.U=1/this.X,b.x*=this.U,b.y*=this.U):this.U=this.X=1;
0<this.Uf&&0==(this.Q&p.hy)?(this.Uf-=this.X*(b.x*b.x+b.y*b.y),this.Uf*=this.YC,g.hc(0<this.Uf),this.ea=1/this.Uf):this.ea=this.Uf=0;c=this.h.m.yb();this.h.W.M(b);this.h.Hd.M(a.Zc(this.g,this.h.W));this.h.m.M(this.h.Hd);this.q.x+=this.J*-(this.h.m.y-c.y);this.q.y+=this.J*+(this.h.m.x-c.x)}};p.prototype.hg=function(a){var b=this.g.G;a=new d(b.j.x*a.x+b.k.x*a.y,b.j.y*a.x+b.k.y*a.y);a.x+=this.g.position.x;a.y+=this.g.position.y;return a};p.prototype.$s=function(b){return a.Cd(this.g.G,b)};p.prototype.lf=
function(b){return a.iB(this.g,b)};p.prototype.Ys=function(b){return a.cj(this.g.G,b)};p.prototype.bB=function(a){return new d(this.q.x-this.J*(a.y-this.h.m.y),this.q.y+this.J*(a.x-this.h.m.x))};p.prototype.Be=function(a){void 0===a&&(a=0);this.wz=a};p.prototype.Gb=function(){return this.jb};p.prototype.dx=function(){this.Q|=p.kr};p.prototype.pq=function(){return(this.Q&p.kr)==p.kr};p.prototype.Ud=function(a){a?(this.Q|=p.Lo,this.Yk=0):(this.Q&=~p.Lo,this.Yk=0,this.q.Oa(),this.J=0,this.Mj.Oa(),this.Rm=
0)};p.prototype.od=function(){return(this.Q&p.Lo)==p.Lo};p.prototype.jk=function(){return(this.Q&p.jr)==p.jr};p.prototype.Jf=function(){return this.Li};p.prototype.In=function(a){this.Li=a};p.prototype.ne=function(a,b){this.Q=0;a.XB&&(this.Q|=p.kr);a.xu&&(this.Q|=p.hy);a.yB&&(this.Q|=p.iu);a.DB&&(this.Q|=p.Lo);a.$c&&(this.Q|=p.jr);this.vd=b;this.g.position.M(a.position);this.g.G.R(a.ox);this.h.W.Oa();this.h.zd=1;this.h.kg=this.h.T=a.ox;var c=this.g.G,d=this.h.W;this.h.m.x=c.j.x*d.x+c.k.x*d.y;this.h.m.y=
c.j.y*d.x+c.k.y*d.y;this.h.m.x+=this.g.position.x;this.h.m.y+=this.g.position.y;this.h.Hd.M(this.h.m);this.Nb=this.Jj=this.Vc=null;this.bv=0;this.Ka=this.ud=null;this.q.M(a.hz);this.J=a.AB;this.wz=a.Lr;this.PC=a.px;this.Mj.R(0,0);this.Yk=this.Rm=0;this.jb=a.type;this.U=this.jb==p.Fd?this.X=1:this.X=0;this.ea=this.Uf=0;this.YC=a.EC;this.Li=a.ek;this.Gc=null;this.sz=0};p.prototype.jx=function(){var a=p.dE;a.G.R(this.h.kg);var b=a.G,c=this.h.W;a.position.x=this.h.Hd.x-(b.j.x*c.x+b.k.x*c.y);a.position.y=
this.h.Hd.y-(b.j.y*c.x+b.k.y*c.y);c=this.vd.cf.Jm;for(b=this.Gc;b;b=b.Ka)b.ix(c,a,this.g)};p.prototype.tc=function(){this.g.G.R(this.h.T);var a=this.g.G,b=this.h.W;this.g.position.x=this.h.m.x-(a.j.x*b.x+a.k.x*b.y);this.g.position.y=this.h.m.y-(a.j.y*b.x+a.k.y*b.y)};p.prototype.Jn=function(a){if(this.jb!=p.Fd&&a.jb!=p.Fd)return!1;for(var b=this.Vc;b;b=b.next)if(b.Zf==a&&0==b.Ci.oz)return!1;return!0};p.prototype.$i=function(a){void 0===a&&(a=0);this.h.$i(a);this.h.m.M(this.h.Hd);this.h.T=this.h.kg;
this.tc()};n.zc.push(function(){n.l.ne.dE=new c;n.l.ne.Oc=1;n.l.ne.Lo=2;n.l.ne.iu=4;n.l.ne.kr=8;n.l.ne.hy=16;n.l.ne.jr=32;n.l.ne.tf=0;n.l.ne.LB=1;n.l.ne.Fd=2});x.Jl=function(){this.position=new d;this.hz=new d};x.prototype.Jl=function(){this.ek=null;this.position.R(0,0);this.ox=0;this.hz.R(0,0);this.px=this.Lr=this.AB=0;this.DB=this.yB=!0;this.XB=this.xu=!1;this.type=p.tf;this.$c=!0;this.EC=1};u.Iq=function(){};u.prototype.Jn=function(a,b){var c=a.Kw(),d=b.Kw();return c.Ik==d.Ik&&0!=c.Ik?0<c.Ik:0!=
(c.Df&d.uf)&&0!=(c.uf&d.Df)};n.zc.push(function(){n.l.Iq.IB=new u});t.wt=function(){this.rD=new ca(g.sf);this.DE=new ca(g.sf)};z.Vn=function(){};z.prototype.Ns=function(){};z.prototype.Ss=function(){};z.prototype.dt=function(){};n.zc.push(function(){n.l.Vn.JB=new z});K.Nl=function(){};K.prototype.Nl=function(){this.vd=null;this.vg=0;this.qz=u.IB;this.Lm=z.JB;this.pz=new Ca(this.Ij);this.Jm=new m};K.prototype.OA=function(a,b){var c=a instanceof D?a:null,d=b instanceof D?b:null,f=c.dc,g=d.dc;if(f!=
g){for(var h=g.Nb;h;){if(h.Zf==f){var k=h.Bc.oc,B=h.Bc.pc;if(k==c&&B==d||k==d&&B==c)return}h=h.next}0!=g.Jn(f)&&0!=this.qz.Jn(c,d)&&(h=this.pz.Te(c,d),c=h.oc,d=h.pc,f=c.dc,g=d.dc,h.ud=null,h.Ka=this.vd.Nb,null!=this.vd.Nb&&(this.vd.Nb.ud=h),this.vd.Nb=h,h.ae.Bc=h,h.ae.Zf=g,h.ae.jc=null,h.ae.next=f.Nb,null!=f.Nb&&(f.Nb.jc=h.ae),f.Nb=h.ae,h.be.Bc=h,h.be.Zf=f,h.be.jc=null,h.be.next=g.Nb,null!=g.Nb&&(g.Nb.jc=h.be),g.Nb=h.be,++this.vd.vg)}};K.prototype.mq=function(){this.Jm.vB(n.tC(this,this.OA))};K.prototype.md=
function(a){var b=a.oc,c=a.pc,b=b.dc,c=c.dc;a.tq()&&this.Lm.Ss(a);a.ud&&(a.ud.Ka=a.Ka);a.Ka&&(a.Ka.ud=a.ud);a==this.vd.Nb&&(this.vd.Nb=a.Ka);a.ae.jc&&(a.ae.jc.next=a.ae.next);a.ae.next&&(a.ae.next.jc=a.ae.jc);a.ae==b.Nb&&(b.Nb=a.ae.next);a.be.jc&&(a.be.jc.next=a.be.next);a.be.next&&(a.be.next.jc=a.be.jc);a.be==c.Nb&&(c.Nb=a.be.next);this.pz.md(a);--this.vg};K.prototype.QA=function(){for(var a=this.vd.Nb;a;){var b=a.oc,c=a.pc,d=b.dc,f=c.dc;if(0==d.od()&&0==f.od())a=a.Ka;else{if(a.Q&Z.ku){if(0==f.Jn(d)){b=
a;a=b.Ka;this.md(b);continue}if(0==this.qz.Jn(b,c)){b=a;a=b.Ka;this.md(b);continue}a.Q&=~Z.ku}0==this.Jm.fj(b.Vk,c.Vk)?(b=a,a=b.Ka,this.md(b)):(a.lx(this.Lm),a=a.Ka)}}};n.zc.push(function(){n.l.Nl.MF=new k});M.Ve=function(){};M.prototype.Ve=function(){};n.zc.push(function(){n.l.Ve.DF=1;n.l.Ve.AF=2;n.l.Ve.wF=4;n.l.Ve.CF=8;n.l.Ve.xF=16;n.l.Ve.yF=32});ba.At=function(){};T.Et=function(){this.uf=1;this.Df=65535;this.Ik=0};T.prototype.yb=function(){var a=new T;a.uf=this.uf;a.Df=this.Df;a.Ik=this.Ik;return a};
D.Ol=function(){this.rz=new T};D.prototype.Gb=function(){return this.eb.Gb()};D.prototype.kk=function(){return this.ZC};D.prototype.Kw=function(){return this.rz.yb()};D.prototype.Jf=function(){return this.Li};D.prototype.In=function(a){this.Li=a};D.prototype.Lw=function(a){void 0===a&&(a=null);null==a&&(a=new q);this.eb.yn(a,this.jp);return a};D.prototype.fx=function(a){void 0===a&&(a=0);this.jp=a};D.prototype.Ol=function(){this.Im=new h;this.eb=this.Ka=this.dc=this.Li=null;this.kv=this.dv=this.jp=
0};D.prototype.Te=function(a,b,c){this.Li=c.ek;this.dv=c.Am;this.kv=c.cn;this.dc=a;this.Ka=null;this.rz=c.filter.yb();this.ZC=c.IC;this.eb=c.shape.yb();this.jp=c.sb};D.prototype.md=function(){this.eb=null};D.prototype.An=function(a,b){this.eb.Cl(this.Im,b);this.Vk=a.An(this.Im,this)};D.prototype.Bn=function(a){null!=this.Vk&&(a.Bn(this.Vk),this.Vk=null)};D.prototype.ix=function(b,c,d){if(this.Vk){var f=new h,g=new h;this.eb.Cl(f,c);this.eb.Cl(g,d);this.Im.Bl(f,g);c=a.sc(d.position,c.position);b.ct(this.Vk,
this.Im,c)}};W.Pl=function(){this.filter=new T};W.prototype.Pl=function(){this.ek=this.shape=null;this.Am=.2;this.sb=this.cn=0;this.filter.uf=1;this.filter.Df=65535;this.filter.Ik=0;this.IC=!1};ha.Ql=function(){};ha.prototype.Ql=function(){this.Hh=new aa;this.Mm=new aa;this.$g=new aa};ha.prototype.nd=function(a,b,c,d,f,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var h=0;this.QC=b;this.$C=c;this.df=this.vg=this.$d=0;this.Ij=d;this.aD=f;this.Qk=g;for(h=this.Hh.length;h<a;h++)this.Hh[h]=
null;for(h=this.Mm.length;h<b;h++)this.Mm[h]=null;for(h=this.$g.length;h<c;h++)this.$g[h]=null};ha.prototype.Os=function(){this.df=this.vg=this.$d=0};ha.prototype.ok=function(b,c,d){for(var f=0,h=0,U,f=0;f<this.$d;++f)h=this.Hh[f],h.Gb()==p.Fd&&(h.q.x+=b.Xa*(c.x+h.U*h.Mj.x),h.q.y+=b.Xa*(c.y+h.U*h.Mj.y),h.J+=b.Xa*h.ea*h.Rm,h.q.ga(a.Fb(1-b.Xa*h.wz,0,1)),h.J*=a.Fb(1-b.Xa*h.PC,0,1));this.Qk.nd(b,this.Mm,this.vg,this.Ij);c=this.Qk;c.Kf(b);for(f=0;f<this.df;++f)U=this.$g[f],U.Kf(b);for(f=0;f<b.qn;++f){for(h=
0;h<this.df;++h)U=this.$g[h],U.of(b);c.of()}for(f=0;f<this.df;++f)U=this.$g[f],U.Us();c.Us();for(f=0;f<this.$d;++f)if(h=this.Hh[f],h.Gb()!=p.tf){var H=b.Xa*h.q.x,k=b.Xa*h.q.y;H*H+k*k>g.Cx&&(h.q.zb(),h.q.x=h.q.x*g.$l*b.tg,h.q.y=h.q.y*g.$l*b.tg);H=b.Xa*h.J;H*H>g.Bx&&(h.J=0>h.J?-g.Zl*b.tg:g.Zl*b.tg);h.h.Hd.M(h.h.m);h.h.kg=h.h.T;h.h.m.x+=b.Xa*h.q.x;h.h.m.y+=b.Xa*h.q.y;h.h.T+=b.Xa*h.J;h.tc()}for(f=0;f<b.Ym;++f){H=c.nf(g.Qt);k=!0;for(h=0;h<this.df;++h)U=this.$g[h],U=U.nf(g.Qt),k=k&&U;if(H&&k)break}this.$w(c.Ih);
if(d){d=Number.MAX_VALUE;c=g.Ax*g.Ax;H=g.zx*g.zx;for(f=0;f<this.$d;++f)h=this.Hh[f],h.Gb()!=p.tf&&(0==(h.Q&p.iu)&&(d=h.Yk=0),0==(h.Q&p.iu)||h.J*h.J>H||a.Sd(h.q,h.q)>c?d=h.Yk=0:(h.Yk+=b.Xa,d=a.lk(d,h.Yk)));if(d>=g.OB)for(f=0;f<this.$d;++f)h=this.Hh[f],h.Ud(!1)}};ha.prototype.gt=function(a){var b=0,c=0;this.Qk.nd(a,this.Mm,this.vg,this.Ij);for(var d=this.Qk,b=0;b<this.df;++b)this.$g[b].Kf(a);for(b=0;b<a.qn;++b)for(d.of(),c=0;c<this.df;++c)this.$g[c].of(a);for(b=0;b<this.$d;++b)if(c=this.Hh[b],c.Gb()!=
p.tf){var f=a.Xa*c.q.x,h=a.Xa*c.q.y;f*f+h*h>g.Cx&&(c.q.zb(),c.q.x=c.q.x*g.$l*a.tg,c.q.y=c.q.y*g.$l*a.tg);f=a.Xa*c.J;f*f>g.Bx&&(c.J=0>c.J?-g.Zl*a.tg:g.Zl*a.tg);c.h.Hd.M(c.h.m);c.h.kg=c.h.T;c.h.m.x+=a.Xa*c.q.x;c.h.m.y+=a.Xa*c.q.y;c.h.T+=a.Xa*c.J;c.tc()}for(b=0;b<a.Ym;++b){f=d.nf(.75);h=!0;for(c=0;c<this.df;++c)var H=this.$g[c].nf(g.Qt),h=h&&H;if(f&&h)break}this.$w(d.Ih)};ha.prototype.$w=function(a){if(null!=this.aD)for(var b=0;b<this.vg;++b)for(var c=a[b],d=0;d<c.Ff;++d)ha.Zz.rD[d]=c.ye[d].gd,ha.Zz.DE[d]=
c.ye[d].ei};ha.prototype.Ms=function(a){a.JF=this.$d;this.Hh[this.$d++]=a};ha.prototype.uw=function(a){this.Mm[this.vg++]=a};ha.prototype.vw=function(a){this.$g[this.df++]=a};n.zc.push(function(){n.l.Ql.Zz=new t});X.Qq=function(){};X.prototype.R=function(a){this.Xa=a.Xa;this.tg=a.tg;this.Ym=a.Ym;this.qn=a.qn;this.Kg=a.Kg};E.Xe=function(){this.XD=new aa;this.cf=new K;this.Qk=new pa;this.vz=new ha};E.prototype.Xe=function(a,b){this.Jj=this.Vc=this.Nb=this.Fc=null;this.bv=this.df=this.vg=this.$d=0;E.gD=
!0;E.RC=!0;this.OC=b;this.tz=a;this.uz=0;this.cf.vd=this;this.XC=this.zn(new x)};E.prototype.ex=function(a){this.cf.Lm=a};E.prototype.zn=function(a){if(1==this.sq())return null;a=new p(a,this);a.ud=null;if(a.Ka=this.Fc)this.Fc.ud=a;this.Fc=a;++this.$d;return a};E.prototype.Cw=function(a){if(1!=this.sq()){for(var b=a.Vc;b;){var c=b,b=b.next;this.YA(c.Ci)}for(b=a.Jj;b;)c=b,b=b.Oi,c.Rx.Yw(a);for(b=a.Nb;b;)c=b,b=b.next,this.cf.md(c.Bc);a.Nb=null;for(b=a.Gc;b;)c=b,b=b.Ka,c.Bn(this.cf.Jm),c.md();a.Gc=null;
a.sz=0;a.ud&&(a.ud.Ka=a.Ka);a.Ka&&(a.Ka.ud=a.ud);a==this.Fc&&(this.Fc=a.Ka);--this.$d}};E.prototype.XA=function(a){var b=Da.Te(a,null);b.ud=null;if(b.Ka=this.Vc)this.Vc.ud=b;this.Vc=b;++this.df;b.Ne.Ci=b;b.Ne.Zf=b.Sa;b.Ne.jc=null;if(b.Ne.next=b.Ja.Vc)b.Ja.Vc.jc=b.Ne;b.Ja.Vc=b.Ne;b.Oe.Ci=b;b.Oe.Zf=b.Ja;b.Oe.jc=null;if(b.Oe.next=b.Sa.Vc)b.Sa.Vc.jc=b.Oe;b.Sa.Vc=b.Oe;var c=a.kb,d=a.wb;if(0==a.ar)for(a=d.Nb;a;)a.Zf==c&&a.Bc.Hw(),a=a.next;return b};E.prototype.YA=function(a){var b=a.oz;a.ud&&(a.ud.Ka=a.Ka);
a.Ka&&(a.Ka.ud=a.ud);a==this.Vc&&(this.Vc=a.Ka);var c=a.Ja,d=a.Sa;c.Ud(!0);d.Ud(!0);a.Ne.jc&&(a.Ne.jc.next=a.Ne.next);a.Ne.next&&(a.Ne.next.jc=a.Ne.jc);a.Ne==c.Vc&&(c.Vc=a.Ne.next);a.Ne.jc=null;a.Ne.next=null;a.Oe.jc&&(a.Oe.jc.next=a.Oe.next);a.Oe.next&&(a.Oe.next.jc=a.Oe.jc);a.Oe==d.Vc&&(d.Vc=a.Oe.next);a.Oe.jc=null;a.Oe.next=null;Da.md(a,null);--this.df;if(0==b)for(a=d.Nb;a;)a.Zf==c&&a.Bc.Hw(),a=a.next};E.prototype.ej=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.Q&
E.nu&&(this.cf.mq(),this.Q&=~E.nu);this.Q|=E.mu;var d=E.aE;d.Xa=a;d.qn=b;d.Ym=c;d.tg=0<a?1/a:0;d.Cc=this.uz*a;d.Kg=E.gD;this.cf.QA();0<d.Xa&&this.ok(d);E.RC&&0<d.Xa&&this.gt(d);0<d.Xa&&(this.uz=d.tg);this.Q&=~E.mu};E.prototype.sq=function(){return 0<(this.Q&E.mu)};E.prototype.ok=function(a){for(var b,c=this.Jj;c;c=c.Ka)c.ej(a);c=this.vz;c.nd(this.$d,this.vg,this.df,null,this.cf.Lm,this.Qk);for(b=this.Fc;b;b=b.Ka)b.Q&=~p.Oc;for(var d=this.Nb;d;d=d.Ka)d.Q&=~Z.Oc;for(d=this.Vc;d;d=d.Ka)d.Rk=!1;parseInt(this.$d);
for(var d=this.XD,f=this.Fc;f;f=f.Ka)if(!(f.Q&p.Oc)&&0!=f.od()&&0!=f.jk()&&f.Gb()!=p.tf){c.Os();var g=0;d[g++]=f;for(f.Q|=p.Oc;0<g;)if(b=d[--g],c.Ms(b),0==b.od()&&b.Ud(!0),b.Gb()!=p.tf){for(var h,k=b.Nb;k;k=k.next)k.Bc.Q&Z.Oc||1==k.Bc.kk()||0==k.Bc.qq()||0==k.Bc.tq()||(c.uw(k.Bc),k.Bc.Q|=Z.Oc,h=k.Zf,h.Q&p.Oc||(d[g++]=h,h.Q|=p.Oc));for(b=b.Vc;b;b=b.next)1!=b.Ci.Rk&&(h=b.Zf,0!=h.jk()&&(c.vw(b.Ci),b.Ci.Rk=!0,h.Q&p.Oc||(d[g++]=h,h.Q|=p.Oc)))}c.ok(a,this.tz,this.OC);for(g=0;g<c.$d;++g)b=c.Hh[g],b.Gb()==
p.tf&&(b.Q&=~p.Oc)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(b=this.Fc;b;b=b.Ka)0==b.od()||0==b.jk()||b.Gb()!=p.tf&&b.jx();this.cf.mq()};E.prototype.gt=function(a){var b,c,d,f=this.vz;f.nd(this.$d,g.MB,g.NB,null,this.cf.Lm,this.Qk);var h=E.TD;for(b=this.Fc;b;b=b.Ka)b.Q&=~p.Oc,b.h.zd=0;for(d=this.Nb;d;d=d.Ka)d.Q&=~(Z.pm|Z.Oc);for(d=this.Vc;d;d=d.Ka)d.Rk=!1;for(;;){var H=null,k=1;for(d=this.Nb;d;d=d.Ka)if(1!=d.kk()&&0!=d.qq()&&0!=d.gB()){if(d.Q&Z.pm)b=d.fD;else{b=d.oc;c=d.pc;b=b.dc;c=c.dc;if(!(b.Gb()==
p.Fd&&0!=b.od()||c.Gb()==p.Fd&&0!=c.od()))continue;var B=b.h.zd;b.h.zd<c.h.zd?(B=c.h.zd,b.h.$i(B)):c.h.zd<b.h.zd&&(B=b.h.zd,c.h.$i(B));b=d.WA(b.h,c.h);g.hc(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*B+b,1<b&&(b=1));d.fD=b;d.Q|=Z.pm}Number.MIN_VALUE<b&&b<k&&(H=d,k=b)}if(null==H||1-100*Number.MIN_VALUE<k)break;b=H.oc;c=H.pc;b=b.dc;c=c.dc;E.Wz.R(b.h);E.Xz.R(c.h);b.$i(k);c.$i(k);H.lx(this.cf.Lm);H.Q&=~Z.pm;if(1==H.kk()||0==H.qq())b.h.R(E.Wz),c.h.R(E.Xz),b.tc(),c.tc();else if(0!=H.tq()){b.Gb()!=p.Fd&&(b=c);f.Os();
H=d=0;h[d+H++]=b;for(b.Q|=p.Oc;0<H;)if(b=h[d++],--H,f.Ms(b),0==b.od()&&b.Ud(!0),b.Gb()==p.Fd){for(c=b.Nb;c&&f.vg!=f.QC;c=c.next)c.Bc.Q&Z.Oc||1==c.Bc.kk()||0==c.Bc.qq()||0==c.Bc.tq()||(f.uw(c.Bc),c.Bc.Q|=Z.Oc,B=c.Zf,B.Q&p.Oc||(B.Gb()!=p.tf&&(B.$i(k),B.Ud(!0)),h[d+H]=B,++H,B.Q|=p.Oc));for(b=b.Vc;b;b=b.next)f.df!=f.$C&&1!=b.Ci.Rk&&(B=b.Zf,0!=B.jk()&&(f.vw(b.Ci),b.Ci.Rk=!0,B.Q&p.Oc||(B.Gb()!=p.tf&&(B.$i(k),B.Ud(!0)),h[d+H]=B,++H,B.Q|=p.Oc)))}d=E.$D;d.Kg=!1;d.Xa=(1-k)*a.Xa;d.tg=1/d.Xa;d.Cc=0;d.qn=a.qn;
d.Ym=a.Ym;f.gt(d);for(k=k=0;k<f.$d;++k)if(b=f.Hh[k],b.Q&=~p.Oc,0!=b.od()&&b.Gb()==p.Fd)for(b.jx(),c=b.Nb;c;c=c.next)c.Bc.Q&=~Z.pm;for(k=0;k<f.vg;++k)d=f.Mm[k],d.Q&=~(Z.pm|Z.Oc);for(k=0;k<f.df;++k)d=f.$g[k],d.Rk=!1;this.cf.mq()}}};n.zc.push(function(){n.l.Xe.aE=new X;n.l.Xe.PF=new c;n.l.Xe.Wz=new b;n.l.Xe.Xz=new b;n.l.Xe.$D=new X;n.l.Xe.TD=new aa;n.l.Xe.NF=new f(.5,.8,.8);n.l.Xe.nu=1;n.l.Xe.mu=2})})();
(function(){var a=n.w.Wa.lj,b=n.w.Wa.ni,c=n.w.Wa.Vb,d=n.l.la.rt,f=n.l.la.bb,g=n.l.la.Un,h=n.l.la.ut,k=n.l.la.vt,m=n.l.la.Ll,q=n.l.la.xt,p=n.l.la.yt,x=n.l.la.mj,u=n.l.la.Dt,t=n.l.la.lo,z=n.l.la.Jt,K=n.l.la.Kt,M=n.l.la.Lt,ba=n.l.la.sk,T=n.l.ne,D=n.l.Qq,W=n.ba.Lb,ha=n.ba.Math.mi,X=n.ba.Math.Lf,E=n.ba.Math.mg,Z=n.w.Ed,Ca=n.w.Ml,pa=n.w.li,Da=n.w.We,w=n.w.Pq,r=n.w.Yl;n.Hb(d,n.l.la.bb);d.prototype.ma=n.l.la.bb.prototype;d.rt=function(){n.l.la.bb.bb.apply(this,arguments)};d.Te=function(){return new d};d.md=
function(){};d.prototype.le=function(a,b){this.ma.le.call(this,a,b)};d.prototype.Mg=function(){Z.RA(this.Xf,this.oc.eb instanceof a?this.oc.eb:null,this.oc.dc.g,this.pc.eb instanceof a?this.pc.eb:null,this.pc.dc.g)};f.bb=function(){this.ae=new k;this.be=new k;this.Xf=new pa;this.qp=new pa};f.prototype.tq=function(){return(this.Q&f.qm)==f.qm};f.prototype.gB=function(){return(this.Q&f.Mo)==f.Mo};f.prototype.kk=function(){return(this.Q&f.Oo)==f.Oo};f.prototype.nB=function(){this.Q&=~f.No};f.prototype.qq=
function(){return(this.Q&f.No)==f.No};f.prototype.Hw=function(){this.Q|=f.ku};f.prototype.bb=function(){};f.prototype.le=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.Q=f.No;if(a&&b){if(a.kk()||b.kk())this.Q|=f.Oo;var c=a.dc,d=b.dc;if(c.Gb()!=T.Fd||c.pq()||d.Gb()!=T.Fd||d.pq())this.Q|=f.Mo;this.oc=a;this.pc=b;this.Xf.Hc=0;this.Ka=this.ud=null;this.ae.Bc=null;this.ae.jc=null;this.ae.next=null;this.ae.Zf=null;this.be.Bc=null;this.be.jc=null;this.be.next=null;this.be.Zf=null}else this.pc=
this.oc=null};f.prototype.lx=function(a){var b=this.qp;this.qp=this.Xf;this.Xf=b;this.Q|=f.No;var d=!1,b=(this.Q&f.qm)==f.qm,g=this.oc.dc,h=this.pc.dc,r=this.oc.Im.fj(this.pc.Im);if(this.Q&f.Oo)r&&(d=this.oc.eb,r=this.pc.eb,g=g.mf(),h=h.mf(),d=c.fj(d,g,r,h)),this.Xf.Hc=0;else{this.Q=g.Gb()!=T.Fd||g.pq()||h.Gb()!=T.Fd||h.pq()?this.Q|f.Mo:this.Q&~f.Mo;if(r)for(this.Mg(),d=0<this.Xf.Hc,r=0;r<this.Xf.Hc;++r){var w=this.Xf.gb[r];w.Tk=0;w.Zk=0;for(var k=w.Ji,m=0;m<this.qp.Hc;++m){var p=this.qp.gb[m];if(p.Ji.key==
k.key){w.Tk=p.Tk;w.Zk=p.Zk;break}}}else this.Xf.Hc=0;d!=b&&(g.Ud(!0),h.Ud(!0))}this.Q=d?this.Q|f.qm:this.Q&~f.qm;0==b&&1==d&&a.Ns(this);1==b&&0==d&&a.Ss(this);0==(this.Q&f.Oo)&&a.dt(this,this.qp)};f.prototype.Mg=function(){};f.prototype.WA=function(a,b){f.fn.Vh.R(this.oc.eb);f.fn.Wh.R(this.pc.eb);f.fn.sA=a;f.fn.tA=b;f.fn.IE=W.Bb;return Da.tB(f.fn)};n.zc.push(function(){n.l.la.bb.Oo=1;n.l.la.bb.Mo=2;n.l.la.bb.Oc=4;n.l.la.bb.pm=8;n.l.la.bb.qm=16;n.l.la.bb.No=32;n.l.la.bb.ku=64;n.l.la.bb.fn=new w});
g.Un=function(){this.Or=new E;this.Gh=new E;this.Yf=new E;this.Vm=new ha;this.Bd=new ha};g.prototype.Un=function(){this.ye=new aa(W.sf);for(var a=0;a<W.sf;a++)this.ye[a]=new h};h.ut=function(){this.Gh=new E;this.ob=new E;this.pb=new E};k.vt=function(){};m.Ll=function(){};m.prototype.Ll=function(a){this.Ij=a;this.fB()};m.prototype.xn=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Nh[c][d].Sx=a;this.Nh[c][d].$x=b;this.Nh[c][d].Oz=!0;c!=d&&(this.Nh[d][c].Sx=a,this.Nh[d][c].$x=b,this.Nh[d][c].Oz=
!1)};m.prototype.fB=function(){this.Nh=new aa(c.nr);for(var a=0;a<c.nr;a++){this.Nh[a]=new aa(c.nr);for(var b=0;b<c.nr;b++)this.Nh[a][b]=new q}this.xn(d.Te,d.md,c.zk,c.zk);this.xn(z.Te,z.md,c.sj,c.zk);this.xn(M.Te,M.md,c.sj,c.sj);this.xn(u.Te,u.md,c.lr,c.zk);this.xn(K.Te,K.md,c.sj,c.lr)};m.prototype.Te=function(a,b){var c=parseInt(a.Gb()),d=parseInt(b.Gb()),c=this.Nh[c][d];if(c.bs)return d=c.bs,c.bs=d.Ka,c.CD--,d.le(a,b),d;d=c.Sx;return null!=d?(c.Oz?(d=d(this.Ij),d.le(a,b)):(d=d(this.Ij),d.le(b,
a)),d):null};m.prototype.md=function(a){0<a.Xf.Hc&&(a.oc.dc.Ud(!0),a.pc.dc.Ud(!0));var b=parseInt(a.oc.Gb()),b=this.Nh[b][parseInt(a.pc.Gb())];b.CD++;a.Ka=b.bs;b.bs=a;b=b.$x;b(a,this.Ij)};q.xt=function(){};p.yt=function(){this.position=new E;this.Yf=new E;this.id=new Ca};x.mj=function(){this.eD=new D;this.Ih=new aa};x.prototype.mj=function(){};x.prototype.nd=function(a,b,c,d){void 0===c&&(c=0);var f;this.eD.R(a);this.Ij=d;for(this.ip=c;this.Ih.length<this.ip;)this.Ih[this.Ih.length]=new g;for(a=0;a<
c;++a){f=b[a];d=f.oc;var h=f.pc,r=d.eb.Ga,w=h.eb.Ga,k=d.dc,m=h.dc,p=f.Xf,t=W.FB(d.dv,h.dv),q=W.GB(d.kv,h.kv),u=k.q.x,ib=k.q.y,z=m.q.x,D=m.q.y,T=k.J,K=m.J;W.hc(0<p.Hc);x.ol.nd(p,k.g,r,m.g,w);h=x.ol.Ta.x;f=x.ol.Ta.y;d=this.Ih[a];d.kb=k;d.wb=m;d.hD=p;d.Yf.x=h;d.Yf.y=f;d.Ff=p.Hc;d.Am=t;d.cn=q;d.Or.x=p.Od.x;d.Or.y=p.Od.y;d.Gh.x=p.fb.x;d.Gh.y=p.fb.y;d.hh=r+w;d.type=p.jb;for(r=0;r<d.Ff;++r){t=p.gb[r];w=d.ye[r];w.gd=t.Tk;w.ei=t.Zk;w.Gh.M(t.fb);var t=w.ob.x=x.ol.gb[r].x-k.h.m.x,q=w.ob.y=x.ol.gb[r].y-k.h.m.y,
E=w.pb.x=x.ol.gb[r].x-m.h.m.x,ba=w.pb.y=x.ol.gb[r].y-m.h.m.y,M=t*f-q*h,X=E*f-ba*h,M=M*M,X=X*X;w.Vm=1/(k.U+m.U+k.ea*M+m.ea*X);var Z=k.X*k.U+m.X*m.U,Z=Z+(k.X*k.ea*M+m.X*m.ea*X);w.nC=1/Z;X=f;Z=-h;M=t*Z-q*X;X=E*Z-ba*X;M*=M;X*=X;w.EE=1/(k.U+m.U+k.ea*M+m.ea*X);w.cq=0;t=d.Yf.x*(z+-K*ba-u- -T*q)+d.Yf.y*(D+K*E-ib-T*t);t<-W.SB&&(w.cq+=-d.cn*t)}2==d.Ff&&(D=d.ye[0],z=d.ye[1],p=k.U,k=k.ea,u=m.U,m=m.ea,ib=D.ob.x*f-D.ob.y*h,D=D.pb.x*f-D.pb.y*h,T=z.ob.x*f-z.ob.y*h,z=z.pb.x*f-z.pb.y*h,h=p+u+k*ib*ib+m*D*D,f=p+u+k*
T*T+m*z*z,m=p+u+k*ib*T+m*D*z,h*h<100*(h*f-m*m)?(d.Bd.j.R(h,m),d.Bd.k.R(m,f),d.Bd.Xs(d.Vm)):d.Ff=1)}};x.prototype.Kf=function(a){for(var b=0;b<this.ip;++b){var c=this.Ih[b],d=c.kb,f=c.wb,g=d.U,h=d.ea,r=f.U,w=f.ea,k=c.Yf.x,m=c.Yf.y,p=m,x=-k,t=0,q=0;if(a.Kg)for(q=c.Ff,t=0;t<q;++t){var u=c.ye[t];u.gd*=a.Cc;u.ei*=a.Cc;var z=u.gd*k+u.ei*p,D=u.gd*m+u.ei*x;d.J-=h*(u.ob.x*D-u.ob.y*z);d.q.x-=g*z;d.q.y-=g*D;f.J+=w*(u.pb.x*D-u.pb.y*z);f.q.x+=r*z;f.q.y+=r*D}else for(q=c.Ff,t=0;t<q;++t)d=c.ye[t],d.gd=0,d.ei=0}};
x.prototype.of=function(){for(var a=0,b,c=0,d=0,f=0,g=0,h=0,r=0,w=0,k,m=0;m<this.ip;++m){var f=this.Ih[m],p=f.kb,x=f.wb,t=p.J,q=x.J,u=p.q,z=x.q,D=p.U,T=p.ea,M=x.U,E=x.ea,r=f.Yf.x,K=w=f.Yf.y;k=-r;h=f.Am;for(a=0;a<f.Ff;a++)b=f.ye[a],c=z.x-q*b.pb.y-u.x+t*b.ob.y,d=z.y+q*b.pb.x-u.y-t*b.ob.x,c=c*K+d*k,c=b.EE*-c,d=h*b.gd,d=X.Fb(b.ei+c,-d,d),c=d-b.ei,g=c*K,c*=k,u.x-=D*g,u.y-=D*c,t-=T*(b.ob.x*c-b.ob.y*g),z.x+=M*g,z.y+=M*c,q+=E*(b.pb.x*c-b.pb.y*g),b.ei=d;parseInt(f.Ff);if(1==f.Ff)b=f.ye[0],c=z.x+-q*b.pb.y-
u.x- -t*b.ob.y,d=z.y+q*b.pb.x-u.y-t*b.ob.x,f=c*r+d*w,c=-b.Vm*(f-b.cq),d=b.gd+c,d=0<d?d:0,c=d-b.gd,g=c*r,c*=w,u.x-=D*g,u.y-=D*c,t-=T*(b.ob.x*c-b.ob.y*g),z.x+=M*g,z.y+=M*c,q+=E*(b.pb.x*c-b.pb.y*g),b.gd=d;else{b=f.ye[0];var a=f.ye[1],c=b.gd,h=a.gd,ba=(z.x-q*b.pb.y-u.x+t*b.ob.y)*r+(z.y+q*b.pb.x-u.y-t*b.ob.x)*w,W=(z.x-q*a.pb.y-u.x+t*a.ob.y)*r+(z.y+q*a.pb.x-u.y-t*a.ob.x)*w,d=ba-b.cq,g=W-a.cq;k=f.Bd;d-=k.j.x*c+k.k.x*h;for(g-=k.j.y*c+k.k.y*h;;){k=f.Vm;K=-(k.j.x*d+k.k.x*g);k=-(k.j.y*d+k.k.y*g);if(0<=K&&0<=
k){c=K-c;h=k-h;f=c*r;c*=w;r*=h;w*=h;u.x-=D*(f+r);u.y-=D*(c+w);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*w-a.ob.y*r);z.x+=M*(f+r);z.y+=M*(c+w);q+=E*(b.pb.x*c-b.pb.y*f+a.pb.x*w-a.pb.y*r);b.gd=K;a.gd=k;break}K=-b.Vm*d;k=0;W=f.Bd.j.y*K+g;if(0<=K&&0<=W){c=K-c;h=k-h;f=c*r;c*=w;r*=h;w*=h;u.x-=D*(f+r);u.y-=D*(c+w);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*w-a.ob.y*r);z.x+=M*(f+r);z.y+=M*(c+w);q+=E*(b.pb.x*c-b.pb.y*f+a.pb.x*w-a.pb.y*r);b.gd=K;a.gd=k;break}K=0;k=-a.Vm*g;ba=f.Bd.k.x*k+d;if(0<=k&&0<=ba){c=K-c;h=k-h;f=c*r;c*=w;r*=
h;w*=h;u.x-=D*(f+r);u.y-=D*(c+w);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*w-a.ob.y*r);z.x+=M*(f+r);z.y+=M*(c+w);q+=E*(b.pb.x*c-b.pb.y*f+a.pb.x*w-a.pb.y*r);b.gd=K;a.gd=k;break}k=K=0;ba=d;W=g;if(0<=ba&&0<=W){c=K-c;h=k-h;f=c*r;c*=w;r*=h;w*=h;u.x-=D*(f+r);u.y-=D*(c+w);t-=T*(b.ob.x*c-b.ob.y*f+a.ob.x*w-a.ob.y*r);z.x+=M*(f+r);z.y+=M*(c+w);q+=E*(b.pb.x*c-b.pb.y*f+a.pb.x*w-a.pb.y*r);b.gd=K;a.gd=k;break}break}}p.J=t;x.J=q}};x.prototype.Us=function(){for(var a=0;a<this.ip;++a)for(var b=this.Ih[a],c=b.hD,d=0;d<b.Ff;++d){var f=
c.gb[d],g=b.ye[d];f.Tk=g.gd;f.Zk=g.ei}};x.prototype.nf=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.ip;c++){var d=this.Ih[c],f=d.kb,g=d.wb,h=f.X*f.U,r=f.X*f.ea,w=g.X*g.U,k=g.X*g.ea;x.ms.nd(d);for(var m=x.ms.Ta,p=0;p<d.Ff;p++){var t=d.ye[p],q=x.ms.gb[p],u=x.ms.Rr[p],z=q.x-f.h.m.x,D=q.y-f.h.m.y,K=q.x-g.h.m.x,q=q.y-g.h.m.y,b=b<u?b:u,u=X.Fb(a*(u+W.Bb),-W.rf,0),u=-t.nC*u,t=u*m.x,u=u*m.y;f.h.m.x-=h*t;f.h.m.y-=h*u;f.h.T-=r*(z*u-D*t);f.tc();g.h.m.x+=w*t;g.h.m.y+=w*u;g.h.T+=k*(K*u-q*t);g.tc()}}return b>
-1.5*W.Bb};n.zc.push(function(){n.l.la.mj.ol=new r;n.l.la.mj.ms=new ba});n.Hb(u,n.l.la.bb);u.prototype.ma=n.l.la.bb.prototype;u.Dt=function(){n.l.la.bb.bb.apply(this,arguments)};u.Te=function(){return new u};u.md=function(){};u.prototype.le=function(a,b){this.ma.le.call(this,a,b)};u.prototype.Mg=function(){};n.Hb(t,n.l.la.bb);t.prototype.ma=n.l.la.bb.prototype;t.lo=function(){n.l.la.bb.bb.apply(this,arguments)};t.prototype.lo=function(){this.ma.bb.call(this)};t.prototype.Mg=function(){};n.Hb(z,n.l.la.bb);
z.prototype.ma=n.l.la.bb.prototype;z.Jt=function(){n.l.la.bb.bb.apply(this,arguments)};z.Te=function(){return new z};z.md=function(){};z.prototype.le=function(a,b){this.ma.le.call(this,a,b);W.hc(a.Gb()==c.sj);W.hc(b.Gb()==c.zk)};z.prototype.Mg=function(){Z.SA(this.Xf,this.oc.eb instanceof b?this.oc.eb:null,this.oc.dc.g,this.pc.eb instanceof a?this.pc.eb:null,this.pc.dc.g)};n.Hb(K,n.l.la.bb);K.prototype.ma=n.l.la.bb.prototype;K.Kt=function(){n.l.la.bb.bb.apply(this,arguments)};K.Te=function(){return new K};
K.md=function(){};K.prototype.le=function(a,b){this.ma.le.call(this,a,b);W.hc(a.Gb()==c.sj);W.hc(b.Gb()==c.lr)};K.prototype.Mg=function(){};n.Hb(M,n.l.la.bb);M.prototype.ma=n.l.la.bb.prototype;M.Lt=function(){n.l.la.bb.bb.apply(this,arguments)};M.Te=function(){return new M};M.md=function(){};M.prototype.le=function(a,b){this.ma.le.call(this,a,b)};M.prototype.Mg=function(){Z.TA(this.Xf,this.oc.eb instanceof b?this.oc.eb:null,this.oc.dc.g,this.pc.eb instanceof b?this.pc.eb:null,this.pc.dc.g)};ba.sk=
function(){};ba.prototype.sk=function(){this.Ta=new E;this.Rr=new ca(W.sf);this.gb=new aa(W.sf);for(var a=0;a<W.sf;a++)this.gb[a]=new E};ba.prototype.nd=function(a){W.hc(0<a.Ff);var b=0,c=0,d=0,f,g=0,h=0;switch(a.type){case pa.ju:f=a.kb.g.G;d=a.Gh;b=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);c=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.wb.g.G;d=a.ye[0].Gh;g=a.wb.g.position.x+(f.j.x*d.x+f.k.x*d.y);f=a.wb.g.position.y+(f.j.y*d.x+f.k.y*d.y);var d=g-b,h=f-c,r=d*d+h*h;r>Number.MIN_VALUE*Number.MIN_VALUE?
(r=Math.sqrt(r),this.Ta.x=d/r,this.Ta.y=h/r):(this.Ta.x=1,this.Ta.y=0);this.gb[0].x=.5*(b+g);this.gb[0].y=.5*(c+f);this.Rr[0]=d*this.Ta.x+h*this.Ta.y-a.hh;break;case pa.Tg:f=a.kb.g.G;d=a.Or;this.Ta.x=f.j.x*d.x+f.k.x*d.y;this.Ta.y=f.j.y*d.x+f.k.y*d.y;f=a.kb.g.G;d=a.Gh;g=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.wb.g.G;for(b=0;b<a.Ff;++b)d=a.ye[b].Gh,c=a.wb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.wb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.Rr[b]=(c-g)*this.Ta.x+
(d-h)*this.Ta.y-a.hh,this.gb[b].x=c,this.gb[b].y=d;break;case pa.Ak:f=a.wb.g.G;d=a.Or;this.Ta.x=f.j.x*d.x+f.k.x*d.y;this.Ta.y=f.j.y*d.x+f.k.y*d.y;f=a.wb.g.G;d=a.Gh;g=a.wb.g.position.x+(f.j.x*d.x+f.k.x*d.y);h=a.wb.g.position.y+(f.j.y*d.x+f.k.y*d.y);f=a.kb.g.G;for(b=0;b<a.Ff;++b)d=a.ye[b].Gh,c=a.kb.g.position.x+(f.j.x*d.x+f.k.x*d.y),d=a.kb.g.position.y+(f.j.y*d.x+f.k.y*d.y),this.Rr[b]=(c-g)*this.Ta.x+(d-h)*this.Ta.y-a.hh,this.gb[b].R(c,d);this.Ta.x*=-1;this.Ta.y*=-1}};n.zc.push(function(){n.l.la.sk.tF=
new E;n.l.la.sk.uF=new E})})();
(function(){var a=n.ba.Math.mi,b=n.ba.Math.Lf,c=n.ba.Math.mg,d=n.l.Ub.qt,f=n.l.Ub.st,g=n.l.Ub.tt,h=n.l.Ub.Lc,k=n.l.Ub.zt,m=n.l.Ub.Ft,q=n.l.Ub.Pt;n.Hb(d,n.l.Ub.Lc);d.prototype.ma=n.l.Ub.Lc.prototype;d.qt=function(){n.l.Ub.Lc.Lc.apply(this,arguments);this.Yf=new c(0,-1);this.sb=this.offset=0;this.fg=new c(0,0);this.MC=2;this.zB=1;this.LE=!0;this.Ky=null};d.prototype.ej=function(){if(this.Fc){this.LE&&(this.Ky=this.vd.tz.yb());for(var a=this.Fc;a;a=a.jf){var b=a.body;if(0!=b.od()){for(var d=new c,f=
new c,g=0,h=0,k=b.Gc;k;k=k.Ka){var m=new c,q=k.eb.iq(this.Yf,this.offset,b.mf(),m),g=g+q;d.x+=q*m.x;d.y+=q*m.y;var D=0,D=1,h=h+q*D;f.x+=q*m.x*D;f.y+=q*m.y*D}d.x/=g;d.y/=g;f.x/=h;f.y/=h;g<Number.MIN_VALUE||(h=this.Ky.bj(),h.ga(this.sb*g),b.ik(h,f),f=b.bB(d),f.Ln(this.fg),f.ga(-this.MC*g),b.ik(f,d),b.PA(-b.Uf/b.X*g*b.J*this.zB))}}}};n.Hb(f,n.l.Ub.Lc);f.prototype.ma=n.l.Ub.Lc.prototype;f.st=function(){n.l.Ub.Lc.Lc.apply(this,arguments);this.sw=new c(0,0)};f.prototype.ej=function(a){a=new c(this.sw.x*
a.Xa,this.sw.y*a.Xa);for(var b=this.Fc;b;b=b.jf){var d=b.body;d.od()&&d.Gl(new c(d.q.x+a.x,d.q.y+a.y))}};n.Hb(g,n.l.Ub.Lc);g.prototype.ma=n.l.Ub.Lc.prototype;g.tt=function(){n.l.Ub.Lc.Lc.apply(this,arguments);this.ZA=new c(0,0)};g.prototype.ej=function(){for(var a=this.Fc;a;a=a.jf){var b=a.body;b.od()&&b.ik(this.ZA,b.h.m)}};h.Lc=function(){};h.prototype.ej=function(){};h.prototype.Ms=function(a){var b=new k;b.Rx=this;b.body=a;b.jf=this.Fc;b.Fp=null;this.Fc=b;b.jf&&(b.jf.Fp=b);this.$d++;b.Oi=a.Jj;
b.Gp=null;a.Jj=b;b.Oi&&(b.Oi.Gp=b);a.bv++};h.prototype.Yw=function(a){for(var b=a.Jj;b&&b.Rx!=this;)b=b.Oi;b.Fp&&(b.Fp.jf=b.jf);b.jf&&(b.jf.Fp=b.Fp);b.Oi&&(b.Oi.Gp=b.Gp);b.Gp&&(b.Gp.Oi=b.Oi);this.Fc==b&&(this.Fc=b.jf);a.Jj==b&&(a.Jj=b.Oi);a.bv--;this.$d--};h.prototype.Os=function(){for(;this.Fc;)this.Yw(this.Fc.body)};k.zt=function(){};n.Hb(m,n.l.Ub.Lc);m.prototype.ma=n.l.Ub.Lc.prototype;m.Ft=function(){n.l.Ub.Lc.Lc.apply(this,arguments);this.Iw=1;this.GC=!0};m.prototype.ej=function(){var a=null,
b=null,d=null,f=0,g=null,h=null,k=null,m=0,q=0,D=0;if(this.GC)for(a=this.Fc;a;a=a.jf)for(b=a.body,d=b.h.m,f=b.X,g=this.Fc;g!=a;g=g.jf)h=g.body,k=h.h.m,m=k.x-d.x,q=k.y-d.y,D=m*m+q*q,D<Number.MIN_VALUE||(m=new c(m,q),m.ga(this.Iw/D/Math.sqrt(D)*f*h.X),b.od()&&b.ik(m,d),m.ga(-1),h.od()&&h.ik(m,k));else for(a=this.Fc;a;a=a.jf)for(b=a.body,d=b.h.m,f=b.X,g=this.Fc;g!=a;g=g.jf)h=g.body,k=h.h.m,m=k.x-d.x,q=k.y-d.y,D=m*m+q*q,D<Number.MIN_VALUE||(m=new c(m,q),m.ga(this.Iw/D*f*h.X),b.od()&&b.ik(m,d),m.ga(-1),
h.od()&&h.ik(m,k))};n.Hb(q,n.l.Ub.Lc);q.prototype.ma=n.l.Ub.Lc.prototype;q.Pt=function(){n.l.Ub.Lc.Lc.apply(this,arguments);this.sB=new a;this.ov=0};q.prototype.ej=function(a){a=a.Xa;if(!(a<=Number.MIN_VALUE)){a>this.ov&&0<this.ov&&(a=this.ov);for(var d=this.Fc;d;d=d.jf){var f=d.body;if(f.od()){var g=f.$s(b.Cd(this.sB,f.Ys(f.q)));f.Gl(new c(f.q.x+g.x*a,f.q.y+g.y*a))}}}}})();
(function(){var a=n.ba.Lb,b=n.ba.Math.mi,c=n.ba.Math.Rl,d=n.ba.Math.Lf,f=n.ba.Math.mg,g=n.ba.Math.Xl,h=n.l.L.Wn,k=n.l.L.Xn,m=n.l.L.ao,q=n.l.L.bo,p=n.l.L.co,x=n.l.L.eo,u=n.l.L.Gt,t=n.l.L.ja,z=n.l.L.xa,K=n.l.L.Ht,M=n.l.L.fo,ba=n.l.L.ho,T=n.l.L.ko,D=n.l.L.Sl,W=n.l.L.mo,ha=n.l.L.no,X=n.l.L.Tl,E=n.l.L.oo,Z=n.l.L.Ul,Ca=n.l.L.Vl,pa=n.l.L.so,Da=n.l.L.to;n.Hb(h,n.l.L.ja);h.prototype.ma=n.l.L.ja.prototype;h.Wn=function(){n.l.L.ja.ja.apply(this,arguments);this.oa=new f;this.za=new f;this.fd=new f};h.prototype.Ad=
function(){return this.Ja.hg(this.oa)};h.prototype.Wn=function(a){this.ma.ja.call(this,a);this.oa.M(a.Tc);this.za.M(a.Uc);this.ev=a.length;this.lp=a.wr;this.cv=a.dr;this.nz=this.te=this.t=0};h.prototype.Kf=function(b){var c,d=0,f=this.Ja,g=this.Sa;c=f.g.G;var h=this.oa.x-f.h.W.x,k=this.oa.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var m=this.za.x-g.h.W.x,B=this.za.y-g.h.W.y,d=c.j.x*m+c.k.x*B,B=c.j.y*m+c.k.y*B,m=d;this.fd.x=g.h.m.x+m-f.h.m.x-h;this.fd.y=g.h.m.y+B-f.h.m.y-k;d=Math.sqrt(this.fd.x*
this.fd.x+this.fd.y*this.fd.y);d>a.Bb?this.fd.ga(1/d):this.fd.Oa();c=h*this.fd.y-k*this.fd.x;var p=m*this.fd.y-B*this.fd.x;c=f.U+f.ea*c*c+g.U+g.ea*p*p;this.X=0!=c?1/c:0;if(0<this.lp){var d=d-this.ev,p=2*Math.PI*this.lp,q=this.X*p*p;this.te=b.Xa*(2*this.X*this.cv*p+b.Xa*q);this.te=0!=this.te?1/this.te:0;this.nz=d*b.Xa*q*this.te;this.X=c+this.te;this.X=0!=this.X?1/this.X:0}b.Kg?(this.t*=b.Cc,b=this.t*this.fd.x,c=this.t*this.fd.y,f.q.x-=f.U*b,f.q.y-=f.U*c,f.J-=f.ea*(h*c-k*b),g.q.x+=g.U*b,g.q.y+=g.U*
c,g.J+=g.ea*(m*c-B*b)):this.t=0};h.prototype.of=function(){var a,b=this.Ja,c=this.Sa;a=b.g.G;var d=this.oa.x-b.h.W.x,f=this.oa.y-b.h.W.y,g=a.j.x*d+a.k.x*f,f=a.j.y*d+a.k.y*f,d=g;a=c.g.G;var h=this.za.x-c.h.W.x,k=this.za.y-c.h.W.y,g=a.j.x*h+a.k.x*k,k=a.j.y*h+a.k.y*k,h=g,g=-this.X*(this.fd.x*(c.q.x+-c.J*k-(b.q.x+-b.J*f))+this.fd.y*(c.q.y+c.J*h-(b.q.y+b.J*d))+this.nz+this.te*this.t);this.t+=g;a=g*this.fd.x;g*=this.fd.y;b.q.x-=b.U*a;b.q.y-=b.U*g;b.J-=b.ea*(d*g-f*a);c.q.x+=c.U*a;c.q.y+=c.U*g;c.J+=c.ea*
(h*g-k*a)};h.prototype.nf=function(){var b;if(0<this.lp)return!0;var c=this.Ja,f=this.Sa;b=c.g.G;var g=this.oa.x-c.h.W.x,h=this.oa.y-c.h.W.y,k=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=k;b=f.g.G;var m=this.za.x-f.h.W.x,p=this.za.y-f.h.W.y,k=b.j.x*m+b.k.x*p,p=b.j.y*m+b.k.y*p,m=k,k=f.h.m.x+m-c.h.m.x-g,B=f.h.m.y+p-c.h.m.y-h;b=Math.sqrt(k*k+B*B);k/=b;B/=b;b-=this.ev;b=d.Fb(b,-a.rf,a.rf);var Oa=-this.X*b;this.fd.R(k,B);k=Oa*this.fd.x;B=Oa*this.fd.y;c.h.m.x-=c.U*k;c.h.m.y-=c.U*B;c.h.T-=c.ea*(g*B-h*k);f.h.m.x+=
f.U*k;f.h.m.y+=f.U*B;f.h.T+=f.ea*(m*B-p*k);c.tc();f.tc();return d.ld(b)<a.Bb};n.Hb(k,n.l.L.xa);k.prototype.ma=n.l.L.xa.prototype;k.Xn=function(){n.l.L.xa.xa.apply(this,arguments);this.Tc=new f;this.Uc=new f};k.prototype.Xn=function(){this.ma.xa.call(this);this.type=t.gy;this.length=1;this.dr=this.wr=0};k.prototype.nd=function(a,b,c,d){this.kb=a;this.wb=b;this.Tc.M(this.kb.lf(c));this.Uc.M(this.wb.lf(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.dr=this.wr=0};n.Hb(m,n.l.L.ja);m.prototype.ma=
n.l.L.ja.prototype;m.ao=function(){n.l.L.ja.ja.apply(this,arguments);this.ef=new f;this.Wf=new f;this.hv=new b;this.Vf=new f};m.prototype.Ad=function(){return this.Ja.hg(this.ef)};m.prototype.ao=function(a){this.ma.ja.call(this,a);this.ef.M(a.Tc);this.Wf.M(a.Uc);this.hv.Oa();this.hp=0;this.Vf.Oa();this.Fi=0;this.iv=a.mv;this.cD=a.jD};m.prototype.Kf=function(a){var c,d=0,f=this.Ja,g=this.Sa;c=f.g.G;var h=this.ef.x-f.h.W.x,k=this.ef.y-f.h.W.y,d=c.j.x*h+c.k.x*k,k=c.j.y*h+c.k.y*k,h=d;c=g.g.G;var m=this.Wf.x-
g.h.W.x,B=this.Wf.y-g.h.W.y,d=c.j.x*m+c.k.x*B,B=c.j.y*m+c.k.y*B,m=d;c=f.U;var d=g.U,p=f.ea,q=g.ea,t=new b;t.j.x=c+d;t.k.x=0;t.j.y=0;t.k.y=c+d;t.j.x+=p*k*k;t.k.x+=-p*h*k;t.j.y+=-p*h*k;t.k.y+=p*h*h;t.j.x+=q*B*B;t.k.x+=-q*m*B;t.j.y+=-q*m*B;t.k.y+=q*m*m;t.Xs(this.hv);this.hp=p+q;0<this.hp&&(this.hp=1/this.hp);a.Kg?(this.Vf.x*=a.Cc,this.Vf.y*=a.Cc,this.Fi*=a.Cc,a=this.Vf,f.q.x-=c*a.x,f.q.y-=c*a.y,f.J-=p*(h*a.y-k*a.x+this.Fi),g.q.x+=d*a.x,g.q.y+=d*a.y,g.J+=q*(m*a.y-B*a.x+this.Fi)):(this.Vf.Oa(),this.Fi=
0)};m.prototype.of=function(a){var b,c=0,g=this.Ja,h=this.Sa,k=g.q,m=g.J,p=h.q,B=h.J,t=g.U,q=h.U,u=g.ea,x=h.ea;b=g.g.G;var z=this.ef.x-g.h.W.x,D=this.ef.y-g.h.W.y,c=b.j.x*z+b.k.x*D,D=b.j.y*z+b.k.y*D,z=c;b=h.g.G;var E=this.Wf.x-h.h.W.x,K=this.Wf.y-h.h.W.y,c=b.j.x*E+b.k.x*K,K=b.j.y*E+b.k.y*K,E=c,c=-this.hp*(B-m),M=this.Fi;b=a.Xa*this.cD;this.Fi=d.Fb(this.Fi+c,-b,b);c=this.Fi-M;m-=u*c;B+=x*c;b=d.Cd(this.hv,new f(-(p.x-B*K-k.x+m*D),-(p.y+B*E-k.y-m*z)));c=this.Vf.yb();this.Vf.Lg(b);b=a.Xa*this.iv;this.Vf.vq()>
b*b&&(this.Vf.zb(),this.Vf.ga(b));b=d.sc(this.Vf,c);k.x-=t*b.x;k.y-=t*b.y;m-=u*(z*b.y-D*b.x);p.x+=q*b.x;p.y+=q*b.y;B+=x*(E*b.y-K*b.x);g.J=m;h.J=B};m.prototype.nf=function(){return!0};n.Hb(q,n.l.L.xa);q.prototype.ma=n.l.L.xa.prototype;q.bo=function(){n.l.L.xa.xa.apply(this,arguments);this.Tc=new f;this.Uc=new f};q.prototype.bo=function(){this.ma.xa.call(this);this.type=t.iy;this.jD=this.mv=0};q.prototype.nd=function(a,b,c){this.kb=a;this.wb=b;this.Tc.M(this.kb.lf(c));this.Uc.M(this.wb.lf(c))};n.Hb(p,
n.l.L.ja);p.prototype.ma=n.l.L.ja.prototype;p.co=function(){n.l.L.ja.ja.apply(this,arguments);this.Hi=new f;this.Ii=new f;this.oa=new f;this.za=new f;this.nc=new u};p.prototype.Ad=function(){return this.Ja.hg(this.oa)};p.prototype.co=function(a){this.ma.ja.call(this,a);var b=parseInt(a.Kk.jb),c=parseInt(a.Lk.jb);this.Pm=this.Xk=this.Om=this.Wk=null;var d=0,f=0;this.VC=a.Kk.Ja;this.Ja=a.Kk.Sa;b==t.mr?(this.Wk=a.Kk instanceof Z?a.Kk:null,this.Hi.M(this.Wk.oa),this.oa.M(this.Wk.za),d=this.Wk.je()):(this.Om=
a.Kk instanceof W?a.Kk:null,this.Hi.M(this.Om.oa),this.oa.M(this.Om.za),d=this.Om.En());this.WC=a.Lk.Ja;this.Sa=a.Lk.Sa;c==t.mr?(this.Xk=a.Lk instanceof Z?a.Lk:null,this.Ii.M(this.Xk.oa),this.za.M(this.Xk.za),f=this.Xk.je()):(this.Pm=a.Lk instanceof W?a.Lk:null,this.Ii.M(this.Pm.oa),this.za.M(this.Pm.za),f=this.Pm.En());this.yc=a.il;this.Km=d+this.yc*f;this.t=0};p.prototype.Kf=function(a){var b=this.VC,c=this.WC,d=this.Ja,f=this.Sa,g=0,h=0,k=0,m=0,p=0,t=0;this.nc.Oa();this.Wk?(this.nc.pk=-1,t+=d.ea):
(b=b.g.G,h=this.Om.ff,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=d.g.G,k=this.oa.x-d.h.W.x,m=this.oa.y-d.h.W.y,p=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=p*h-m*g,this.nc.Xg.R(-g,-h),this.nc.pk=-k,t+=d.U+d.ea*k*k);this.Xk?(this.nc.qk=-this.yc,t+=this.yc*this.yc*f.ea):(b=c.g.G,h=this.Pm.ff,g=b.j.x*h.x+b.k.x*h.y,h=b.j.y*h.x+b.k.y*h.y,b=f.g.G,k=this.za.x-f.h.W.x,m=this.za.y-f.h.W.y,p=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=p*h-m*g,this.nc.Yg.R(-this.yc*g,-this.yc*h),this.nc.qk=-this.yc*k,t+=this.yc*this.yc*
(f.U+f.ea*k*k));this.X=0<t?1/t:0;a.Kg?(d.q.x+=d.U*this.t*this.nc.Xg.x,d.q.y+=d.U*this.t*this.nc.Xg.y,d.J+=d.ea*this.t*this.nc.pk,f.q.x+=f.U*this.t*this.nc.Yg.x,f.q.y+=f.U*this.t*this.nc.Yg.y,f.J+=f.ea*this.t*this.nc.qk):this.t=0};p.prototype.of=function(){var a=this.Ja,b=this.Sa,c=-this.X*this.nc.UA(a.q,a.J,b.q,b.J);this.t+=c;a.q.x+=a.U*c*this.nc.Xg.x;a.q.y+=a.U*c*this.nc.Xg.y;a.J+=a.ea*c*this.nc.pk;b.q.x+=b.U*c*this.nc.Yg.x;b.q.y+=b.U*c*this.nc.Yg.y;b.J+=b.ea*c*this.nc.qk};p.prototype.nf=function(){var b=
this.Ja,c=this.Sa,d=0,f=0,d=this.Wk?this.Wk.je():this.Om.En(),f=this.Xk?this.Xk.je():this.Pm.En(),d=-this.X*(this.Km-(d+this.yc*f));b.h.m.x+=b.U*d*this.nc.Xg.x;b.h.m.y+=b.U*d*this.nc.Xg.y;b.h.T+=b.ea*d*this.nc.pk;c.h.m.x+=c.U*d*this.nc.Yg.x;c.h.m.y+=c.U*d*this.nc.Yg.y;c.h.T+=c.ea*d*this.nc.qk;b.tc();c.tc();return 0<a.Bb};n.Hb(x,n.l.L.xa);x.prototype.ma=n.l.L.xa.prototype;x.eo=function(){n.l.L.xa.xa.apply(this,arguments)};x.prototype.eo=function(){this.ma.xa.call(this);this.type=t.jy;this.Lk=this.Kk=
null;this.il=1};u.Gt=function(){this.Xg=new f;this.Yg=new f};u.prototype.Oa=function(){this.Xg.Oa();this.pk=0;this.Yg.Oa();this.qk=0};u.prototype.R=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.Xg.M(a);this.pk=b;this.Yg.M(c);this.qk=d};u.prototype.UA=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.Xg.x*a.x+this.Xg.y*a.y+this.pk*b+(this.Yg.x*c.x+this.Yg.y*c.y)+this.qk*d};t.ja=function(){this.Ne=new K;this.Oe=new K;this.Lh=new f;this.Mh=new f};t.prototype.Gb=function(){return this.jb};
t.prototype.Ad=function(){return null};t.prototype.Jf=function(){return this.Li};t.prototype.In=function(a){this.Li=a};t.prototype.jk=function(){return this.Ja.jk()&&this.Sa.jk()};t.Te=function(a){var b=null;switch(a.type){case t.gy:b=new h(a instanceof k?a:null);break;case t.ly:b=new T(a instanceof D?a:null);break;case t.ny:b=new W(a instanceof ha?a:null);break;case t.mr:b=new Z(a instanceof Ca?a:null);break;case t.oy:b=new X(a instanceof E?a:null);break;case t.jy:b=new p(a instanceof x?a:null);
break;case t.ky:b=new M(a instanceof ba?a:null);break;case t.py:b=new pa(a instanceof Da?a:null);break;case t.iy:b=new m(a instanceof q?a:null)}return b};t.md=function(){};t.prototype.ja=function(b){a.hc(b.kb!=b.wb);this.jb=b.type;this.Ka=this.ud=null;this.Ja=b.kb;this.Sa=b.wb;this.oz=b.ar;this.Rk=!1;this.Li=b.ek};t.prototype.Kf=function(){};t.prototype.of=function(){};t.prototype.Us=function(){};t.prototype.nf=function(){return!1};n.zc.push(function(){n.l.L.ja.gC=0;n.l.L.ja.mr=1;n.l.L.ja.ny=2;n.l.L.ja.gy=
3;n.l.L.ja.oy=4;n.l.L.ja.ly=5;n.l.L.ja.jy=6;n.l.L.ja.ky=7;n.l.L.ja.py=8;n.l.L.ja.iy=9;n.l.L.ja.He=0;n.l.L.ja.Ah=1;n.l.L.ja.Kd=2;n.l.L.ja.rj=3});z.xa=function(){};z.prototype.xa=function(){this.type=t.gC;this.wb=this.kb=this.ek=null;this.ar=!1};K.Ht=function(){};n.Hb(M,n.l.L.ja);M.prototype.ma=n.l.L.ja.prototype;M.fo=function(){n.l.L.ja.ja.apply(this,arguments);this.oa=new f;this.za=new f;this.ff=new f;this.Ki=new f;this.da=new f;this.Fa=new f;this.va=new b;this.t=new f};M.prototype.Ad=function(){return this.Ja.hg(this.oa)};
M.prototype.En=function(){var a=this.Ja,b=this.Sa,c=a.hg(this.oa),d=b.hg(this.za),b=d.x-c.x,c=d.y-c.y,a=a.$s(this.ff);return a.x*b+a.y*c};M.prototype.ph=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ja.Ud(!0);this.Sa.Ud(!0);this.gf=a;this.hf=b};M.prototype.fo=function(a){this.ma.ja.call(this,a);this.oa.M(a.Tc);this.za.M(a.Uc);this.ff.M(a.Pk);this.Ki.x=-this.ff.y;this.Ki.y=this.ff.x;this.t.Oa();this.nb=this.Pe=0;this.gf=a.Zu;this.hf=a.lw;this.jv=a.nv;this.pp=a.up;this.Zg=a.rm;this.Lj=a.Po;
this.$a=t.He;this.da.Oa();this.Fa.Oa()};M.prototype.Kf=function(b){var c=this.Ja,f=this.Sa,g,h=0;this.Lh.M(c.h.W);this.Mh.M(f.h.W);var k=c.mf();f.mf();g=c.g.G;var m=this.oa.x-this.Lh.x,p=this.oa.y-this.Lh.y,h=g.j.x*m+g.k.x*p,p=g.j.y*m+g.k.y*p,m=h;g=f.g.G;var B=this.za.x-this.Mh.x,q=this.za.y-this.Mh.y,h=g.j.x*B+g.k.x*q,q=g.j.y*B+g.k.y*q,B=h;g=f.h.m.x+B-c.h.m.x-m;h=f.h.m.y+q-c.h.m.y-p;this.wc=c.U;this.xc=f.U;this.ue=c.ea;this.ve=f.ea;this.da.M(d.Cd(k.G,this.ff));this.Cb=(g+m)*this.da.y-(h+p)*this.da.x;
this.Db=B*this.da.y-q*this.da.x;this.Pe=this.wc+this.xc+this.ue*this.Cb*this.Cb+this.ve*this.Db*this.Db;this.Pe=this.Pe>Number.MIN_VALUE?1/this.Pe:0;this.Fa.M(d.Cd(k.G,this.Ki));this.Ib=(g+m)*this.Fa.y-(h+p)*this.Fa.x;this.Jb=B*this.Fa.y-q*this.Fa.x;k=this.wc;m=this.xc;p=this.ue;B=this.ve;this.va.j.x=k+m+p*this.Ib*this.Ib+B*this.Jb*this.Jb;this.va.j.y=p*this.Ib*this.Cb+B*this.Jb*this.Db;this.va.k.x=this.va.j.y;this.va.k.y=k+m+p*this.Cb*this.Cb+B*this.Db*this.Db;this.Zg?(g=this.da.x*g+this.da.y*h,
d.ld(this.hf-this.gf)<2*a.Bb?this.$a=t.rj:g<=this.gf?this.$a!=t.Ah&&(this.$a=t.Ah,this.t.y=0):g>=this.hf?this.$a!=t.Kd&&(this.$a=t.Kd,this.t.y=0):(this.$a=t.He,this.t.y=0)):this.$a=t.He;0==this.Lj&&(this.nb=0);b.Kg?(this.t.x*=b.Cc,this.t.y*=b.Cc,this.nb*=b.Cc,b=this.t.x*this.Fa.x+(this.nb+this.t.y)*this.da.x,g=this.t.x*this.Fa.y+(this.nb+this.t.y)*this.da.y,h=this.t.x*this.Ib+(this.nb+this.t.y)*this.Cb,k=this.t.x*this.Jb+(this.nb+this.t.y)*this.Db,c.q.x-=this.wc*b,c.q.y-=this.wc*g,c.J-=this.ue*h,
f.q.x+=this.xc*b,f.q.y+=this.xc*g,f.J+=this.ve*k):(this.t.Oa(),this.nb=0)};M.prototype.of=function(a){var b=this.Ja,c=this.Sa,g=b.q,h=b.J,k=c.q,m=c.J,p=0,B=0,q=0,u=0;this.Lj&&this.$a!=t.rj&&(u=this.Pe*(this.pp-(this.da.x*(k.x-g.x)+this.da.y*(k.y-g.y)+this.Db*m-this.Cb*h)),p=this.nb,B=a.Xa*this.jv,this.nb=d.Fb(this.nb+u,-B,B),u=this.nb-p,p=u*this.da.x,B=u*this.da.y,q=u*this.Cb,u*=this.Db,g.x-=this.wc*p,g.y-=this.wc*B,h-=this.ue*q,k.x+=this.xc*p,k.y+=this.xc*B,m+=this.ve*u);B=this.Fa.x*(k.x-g.x)+this.Fa.y*
(k.y-g.y)+this.Jb*m-this.Ib*h;this.Zg&&this.$a!=t.He?(q=this.da.x*(k.x-g.x)+this.da.y*(k.y-g.y)+this.Db*m-this.Cb*h,p=this.t.yb(),a=this.va.ok(new f,-B,-q),this.t.Lg(a),this.$a==t.Ah?this.t.y=d.ke(this.t.y,0):this.$a==t.Kd&&(this.t.y=d.lk(this.t.y,0)),B=-B-(this.t.y-p.y)*this.va.k.x,q=0!=this.va.j.x?B/this.va.j.x+p.x:p.x,this.t.x=q,a.x=this.t.x-p.x,a.y=this.t.y-p.y,p=a.x*this.Fa.x+a.y*this.da.x,B=a.x*this.Fa.y+a.y*this.da.y,q=a.x*this.Ib+a.y*this.Cb,u=a.x*this.Jb+a.y*this.Db):(a=0!=this.va.j.x?-B/
this.va.j.x:0,this.t.x+=a,p=a*this.Fa.x,B=a*this.Fa.y,q=a*this.Ib,u=a*this.Jb);g.x-=this.wc*p;g.y-=this.wc*B;h-=this.ue*q;k.x+=this.xc*p;k.y+=this.xc*B;m+=this.ve*u;b.q.M(g);b.J=h;c.q.M(k);c.J=m};M.prototype.nf=function(){var c=this.Ja,g=this.Sa,h=c.h.m,k=c.h.T,m=g.h.m,p=g.h.T,H,q=0,B=0,t=0,u=0,x=0,z=0,B=!1,D=0,E=b.nq(k),t=b.nq(p);H=E;var z=this.oa.x-this.Lh.x,K=this.oa.y-this.Lh.y,q=H.j.x*z+H.k.x*K,K=H.j.y*z+H.k.y*K,z=q;H=t;t=this.za.x-this.Mh.x;u=this.za.y-this.Mh.y;q=H.j.x*t+H.k.x*u;u=H.j.y*t+
H.k.y*u;t=q;H=m.x+t-h.x-z;q=m.y+u-h.y-K;if(this.Zg){this.da=d.Cd(E,this.ff);this.Cb=(H+z)*this.da.y-(q+K)*this.da.x;this.Db=t*this.da.y-u*this.da.x;var M=this.da.x*H+this.da.y*q;d.ld(this.hf-this.gf)<2*a.Bb?(D=d.Fb(M,-a.rf,a.rf),x=d.ld(M),B=!0):M<=this.gf?(D=d.Fb(M-this.gf+a.Bb,-a.rf,0),x=this.gf-M,B=!0):M>=this.hf&&(D=d.Fb(M-this.hf+a.Bb,0,a.rf),x=M-this.hf,B=!0)}this.Fa=d.Cd(E,this.Ki);this.Ib=(H+z)*this.Fa.y-(q+K)*this.Fa.x;this.Jb=t*this.Fa.y-u*this.Fa.x;E=new f;K=this.Fa.x*H+this.Fa.y*q;x=d.ke(x,
d.ld(K));z=0;B?(B=this.wc,t=this.xc,u=this.ue,H=this.ve,this.va.j.x=B+t+u*this.Ib*this.Ib+H*this.Jb*this.Jb,this.va.j.y=u*this.Ib*this.Cb+H*this.Jb*this.Db,this.va.k.x=this.va.j.y,this.va.k.y=B+t+u*this.Cb*this.Cb+H*this.Db*this.Db,this.va.ok(E,-K,-D)):(B=this.wc,t=this.xc,u=this.ue,H=this.ve,D=B+t+u*this.Ib*this.Ib+H*this.Jb*this.Jb,E.x=0!=D?-K/D:0,E.y=0);D=E.x*this.Fa.x+E.y*this.da.x;B=E.x*this.Fa.y+E.y*this.da.y;K=E.x*this.Ib+E.y*this.Cb;E=E.x*this.Jb+E.y*this.Db;h.x-=this.wc*D;h.y-=this.wc*B;
k-=this.ue*K;m.x+=this.xc*D;m.y+=this.xc*B;p+=this.ve*E;c.h.T=k;g.h.T=p;c.tc();g.tc();return x<=a.Bb&&z<=a.tk};n.Hb(ba,n.l.L.xa);ba.prototype.ma=n.l.L.xa.prototype;ba.ho=function(){n.l.L.xa.xa.apply(this,arguments);this.Tc=new f;this.Uc=new f;this.Pk=new f};ba.prototype.ho=function(){this.ma.xa.call(this);this.type=t.ky;this.Pk.R(1,0);this.rm=!1;this.lw=this.Zu=0;this.Po=!1;this.up=this.nv=0};ba.prototype.nd=function(a,b,c,d){this.kb=a;this.wb=b;this.Tc=this.kb.lf(c);this.Uc=this.wb.lf(c);this.Pk=
this.kb.Ys(d)};n.Hb(T,n.l.L.ja);T.prototype.ma=n.l.L.ja.prototype;T.ko=function(){n.l.L.ja.ja.apply(this,arguments);this.Bd=new b;this.Ng=new b;this.Og=new b;this.Nm=new f;this.Qm=new f;this.t=new f;this.X=new b;this.Pr=new f};T.prototype.Ad=function(){return this.Qm};T.prototype.ko=function(a){this.ma.ja.call(this,a);this.Qm.M(a.target);var b=this.Qm.x-this.Sa.g.position.x,c=this.Qm.y-this.Sa.g.position.y,d=this.Sa.g.G;this.Nm.x=b*d.j.x+c*d.j.y;this.Nm.y=b*d.k.x+c*d.k.y;this.iv=a.mv;this.t.Oa();
this.lp=a.wr;this.cv=a.dr;this.te=this.av=0};T.prototype.Kf=function(a){var b=this.Sa,c=b.X,d=2*Math.PI*this.lp,f=c*d*d;this.te=a.Xa*(2*c*this.cv*d+a.Xa*f);this.te=0!=this.te?1/this.te:0;this.av=a.Xa*f*this.te;var f=b.g.G,c=this.Nm.x-b.h.W.x,d=this.Nm.y-b.h.W.y,g=f.j.x*c+f.k.x*d,d=f.j.y*c+f.k.y*d,c=g,f=b.U,g=b.ea;this.Ng.j.x=f;this.Ng.k.x=0;this.Ng.j.y=0;this.Ng.k.y=f;this.Og.j.x=g*d*d;this.Og.k.x=-g*c*d;this.Og.j.y=-g*c*d;this.Og.k.y=g*c*c;this.Bd.nk(this.Ng);this.Bd.hq(this.Og);this.Bd.j.x+=this.te;
this.Bd.k.y+=this.te;this.Bd.Xs(this.X);this.Pr.x=b.h.m.x+c-this.Qm.x;this.Pr.y=b.h.m.y+d-this.Qm.y;b.J*=.98;this.t.x*=a.Cc;this.t.y*=a.Cc;b.q.x+=f*this.t.x;b.q.y+=f*this.t.y;b.J+=g*(c*this.t.y-d*this.t.x)};T.prototype.of=function(a){var b=this.Sa,c,d=0,f=0;c=b.g.G;var g=this.Nm.x-b.h.W.x,h=this.Nm.y-b.h.W.y,d=c.j.x*g+c.k.x*h,h=c.j.y*g+c.k.y*h,g=d,d=b.q.x+-b.J*h,k=b.q.y+b.J*g;c=this.X;d=d+this.av*this.Pr.x+this.te*this.t.x;f=k+this.av*this.Pr.y+this.te*this.t.y;k=-(c.j.x*d+c.k.x*f);f=-(c.j.y*d+c.k.y*
f);c=this.t.x;d=this.t.y;this.t.x+=k;this.t.y+=f;a=a.Xa*this.iv;this.t.vq()>a*a&&this.t.ga(a/this.t.ig());k=this.t.x-c;f=this.t.y-d;b.q.x+=b.U*k;b.q.y+=b.U*f;b.J+=b.ea*(g*f-h*k)};T.prototype.nf=function(){return!0};n.Hb(D,n.l.L.xa);D.prototype.ma=n.l.L.xa.prototype;D.Sl=function(){n.l.L.xa.xa.apply(this,arguments);this.target=new f};D.prototype.Sl=function(){this.ma.xa.call(this);this.type=t.ly;this.mv=0;this.wr=5;this.dr=.7};n.Hb(W,n.l.L.ja);W.prototype.ma=n.l.L.ja.prototype;W.mo=function(){n.l.L.ja.ja.apply(this,
arguments);this.oa=new f;this.za=new f;this.ff=new f;this.Ki=new f;this.da=new f;this.Fa=new f;this.va=new c;this.t=new g};W.prototype.Ad=function(){return this.Ja.hg(this.oa)};W.prototype.En=function(){var a=this.Ja,b=this.Sa,c=a.hg(this.oa),d=b.hg(this.za),b=d.x-c.x,c=d.y-c.y,a=a.$s(this.ff);return a.x*b+a.y*c};W.prototype.ph=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.Ja.Ud(!0);this.Sa.Ud(!0);this.gf=a;this.hf=b};W.prototype.mo=function(a){this.ma.ja.call(this,a);this.oa.M(a.Tc);this.za.M(a.Uc);
this.ff.M(a.Pk);this.Ki.x=-this.ff.y;this.Ki.y=this.ff.x;this.dD=a.Wj;this.t.Oa();this.nb=this.Pe=0;this.gf=a.Zu;this.hf=a.lw;this.jv=a.nv;this.pp=a.up;this.Zg=a.rm;this.Lj=a.Po;this.$a=t.He;this.da.Oa();this.Fa.Oa()};W.prototype.Kf=function(b){var c=this.Ja,f=this.Sa,g,h=0;this.Lh.M(c.h.W);this.Mh.M(f.h.W);var k=c.mf();f.mf();g=c.g.G;var m=this.oa.x-this.Lh.x,p=this.oa.y-this.Lh.y,h=g.j.x*m+g.k.x*p,p=g.j.y*m+g.k.y*p,m=h;g=f.g.G;var B=this.za.x-this.Mh.x,q=this.za.y-this.Mh.y,h=g.j.x*B+g.k.x*q,q=
g.j.y*B+g.k.y*q,B=h;g=f.h.m.x+B-c.h.m.x-m;h=f.h.m.y+q-c.h.m.y-p;this.wc=c.U;this.xc=f.U;this.ue=c.ea;this.ve=f.ea;this.da.M(d.Cd(k.G,this.ff));this.Cb=(g+m)*this.da.y-(h+p)*this.da.x;this.Db=B*this.da.y-q*this.da.x;this.Pe=this.wc+this.xc+this.ue*this.Cb*this.Cb+this.ve*this.Db*this.Db;this.Pe>Number.MIN_VALUE&&(this.Pe=1/this.Pe);this.Fa.M(d.Cd(k.G,this.Ki));this.Ib=(g+m)*this.Fa.y-(h+p)*this.Fa.x;this.Jb=B*this.Fa.y-q*this.Fa.x;k=this.wc;m=this.xc;p=this.ue;B=this.ve;this.va.j.x=k+m+p*this.Ib*this.Ib+
B*this.Jb*this.Jb;this.va.j.y=p*this.Ib+B*this.Jb;this.va.j.z=p*this.Ib*this.Cb+B*this.Jb*this.Db;this.va.k.x=this.va.j.y;this.va.k.y=p+B;this.va.k.z=p*this.Cb+B*this.Db;this.va.Ia.x=this.va.j.z;this.va.Ia.y=this.va.k.z;this.va.Ia.z=k+m+p*this.Cb*this.Cb+B*this.Db*this.Db;this.Zg?(g=this.da.x*g+this.da.y*h,d.ld(this.hf-this.gf)<2*a.Bb?this.$a=t.rj:g<=this.gf?this.$a!=t.Ah&&(this.$a=t.Ah,this.t.z=0):g>=this.hf?this.$a!=t.Kd&&(this.$a=t.Kd,this.t.z=0):(this.$a=t.He,this.t.z=0)):this.$a=t.He;0==this.Lj&&
(this.nb=0);b.Kg?(this.t.x*=b.Cc,this.t.y*=b.Cc,this.nb*=b.Cc,b=this.t.x*this.Fa.x+(this.nb+this.t.z)*this.da.x,g=this.t.x*this.Fa.y+(this.nb+this.t.z)*this.da.y,h=this.t.x*this.Ib+this.t.y+(this.nb+this.t.z)*this.Cb,k=this.t.x*this.Jb+this.t.y+(this.nb+this.t.z)*this.Db,c.q.x-=this.wc*b,c.q.y-=this.wc*g,c.J-=this.ue*h,f.q.x+=this.xc*b,f.q.y+=this.xc*g,f.J+=this.ve*k):(this.t.Oa(),this.nb=0)};W.prototype.of=function(a){var b=this.Ja,c=this.Sa,h=b.q,k=b.J,m=c.q,p=c.J,q=0,B=0,u=0,x=0;this.Lj&&this.$a!=
t.rj&&(x=this.Pe*(this.pp-(this.da.x*(m.x-h.x)+this.da.y*(m.y-h.y)+this.Db*p-this.Cb*k)),q=this.nb,a=a.Xa*this.jv,this.nb=d.Fb(this.nb+x,-a,a),x=this.nb-q,q=x*this.da.x,B=x*this.da.y,u=x*this.Cb,x*=this.Db,h.x-=this.wc*q,h.y-=this.wc*B,k-=this.ue*u,m.x+=this.xc*q,m.y+=this.xc*B,p+=this.ve*x);u=this.Fa.x*(m.x-h.x)+this.Fa.y*(m.y-h.y)+this.Jb*p-this.Ib*k;B=p-k;this.Zg&&this.$a!=t.He?(a=this.da.x*(m.x-h.x)+this.da.y*(m.y-h.y)+this.Db*p-this.Cb*k,q=this.t.yb(),a=this.va.Kn(new g,-u,-B,-a),this.t.Lg(a),
this.$a==t.Ah?this.t.z=d.ke(this.t.z,0):this.$a==t.Kd&&(this.t.z=d.lk(this.t.z,0)),u=-u-(this.t.z-q.z)*this.va.Ia.x,B=-B-(this.t.z-q.z)*this.va.Ia.y,B=this.va.Hl(new f,u,B),B.x+=q.x,B.y+=q.y,this.t.x=B.x,this.t.y=B.y,a.x=this.t.x-q.x,a.y=this.t.y-q.y,a.z=this.t.z-q.z,q=a.x*this.Fa.x+a.z*this.da.x,B=a.x*this.Fa.y+a.z*this.da.y,u=a.x*this.Ib+a.y+a.z*this.Cb,x=a.x*this.Jb+a.y+a.z*this.Db):(a=this.va.Hl(new f,-u,-B),this.t.x+=a.x,this.t.y+=a.y,q=a.x*this.Fa.x,B=a.x*this.Fa.y,u=a.x*this.Ib+a.y,x=a.x*this.Jb+
a.y);h.x-=this.wc*q;h.y-=this.wc*B;k-=this.ue*u;m.x+=this.xc*q;m.y+=this.xc*B;p+=this.ve*x;b.q.M(h);b.J=k;c.q.M(m);c.J=p};W.prototype.nf=function(){var c=this.Ja,h=this.Sa,k=c.h.m,m=c.h.T,p=h.h.m,q=h.h.T,H,t=0,B=0,u=0,x=0,z=0,B=!1,D=0,E=b.nq(m),K=b.nq(q);H=E;var z=this.oa.x-this.Lh.x,M=this.oa.y-this.Lh.y,t=H.j.x*z+H.k.x*M,M=H.j.y*z+H.k.y*M,z=t;H=K;K=this.za.x-this.Mh.x;u=this.za.y-this.Mh.y;t=H.j.x*K+H.k.x*u;u=H.j.y*K+H.k.y*u;K=t;H=p.x+K-k.x-z;t=p.y+u-k.y-M;if(this.Zg){this.da=d.Cd(E,this.ff);this.Cb=
(H+z)*this.da.y-(t+M)*this.da.x;this.Db=K*this.da.y-u*this.da.x;var T=this.da.x*H+this.da.y*t;d.ld(this.hf-this.gf)<2*a.Bb?(D=d.Fb(T,-a.rf,a.rf),x=d.ld(T),B=!0):T<=this.gf?(D=d.Fb(T-this.gf+a.Bb,-a.rf,0),x=this.gf-T,B=!0):T>=this.hf&&(D=d.Fb(T-this.hf+a.Bb,0,a.rf),x=T-this.hf,B=!0)}this.Fa=d.Cd(E,this.Ki);this.Ib=(H+z)*this.Fa.y-(t+M)*this.Fa.x;this.Jb=K*this.Fa.y-u*this.Fa.x;E=new g;M=this.Fa.x*H+this.Fa.y*t;K=q-m-this.dD;x=d.ke(x,d.ld(M));z=d.ld(K);B?(B=this.wc,u=this.xc,H=this.ue,t=this.ve,this.va.j.x=
B+u+H*this.Ib*this.Ib+t*this.Jb*this.Jb,this.va.j.y=H*this.Ib+t*this.Jb,this.va.j.z=H*this.Ib*this.Cb+t*this.Jb*this.Db,this.va.k.x=this.va.j.y,this.va.k.y=H+t,this.va.k.z=H*this.Cb+t*this.Db,this.va.Ia.x=this.va.j.z,this.va.Ia.y=this.va.k.z,this.va.Ia.z=B+u+H*this.Cb*this.Cb+t*this.Db*this.Db,this.va.Kn(E,-M,-K,-D)):(B=this.wc,u=this.xc,H=this.ue,t=this.ve,D=H*this.Ib+t*this.Jb,T=H+t,this.va.j.R(B+u+H*this.Ib*this.Ib+t*this.Jb*this.Jb,D,0),this.va.k.R(D,T,0),D=this.va.Hl(new f,-M,-K),E.x=D.x,E.y=
D.y,E.z=0);D=E.x*this.Fa.x+E.z*this.da.x;B=E.x*this.Fa.y+E.z*this.da.y;M=E.x*this.Ib+E.y+E.z*this.Cb;E=E.x*this.Jb+E.y+E.z*this.Db;k.x-=this.wc*D;k.y-=this.wc*B;m-=this.ue*M;p.x+=this.xc*D;p.y+=this.xc*B;q+=this.ve*E;c.h.T=m;h.h.T=q;c.tc();h.tc();return x<=a.Bb&&z<=a.tk};n.Hb(ha,n.l.L.xa);ha.prototype.ma=n.l.L.xa.prototype;ha.no=function(){n.l.L.xa.xa.apply(this,arguments);this.Tc=new f;this.Uc=new f;this.Pk=new f};ha.prototype.no=function(){this.ma.xa.call(this);this.type=t.ny;this.Pk.R(1,0);this.Wj=
0;this.rm=!1;this.lw=this.Zu=0;this.Po=!1;this.up=this.nv=0};ha.prototype.nd=function(a,b,c,d){this.kb=a;this.wb=b;this.Tc=this.kb.lf(c);this.Uc=this.wb.lf(c);this.Pk=this.kb.Ys(d);this.Wj=this.wb.ha()-this.kb.ha()};n.Hb(X,n.l.L.ja);X.prototype.ma=n.l.L.ja.prototype;X.Tl=function(){n.l.L.ja.ja.apply(this,arguments);this.Hi=new f;this.Ii=new f;this.oa=new f;this.za=new f;this.Pb=new f;this.Qb=new f};X.prototype.Ad=function(){return this.Ja.hg(this.oa)};X.prototype.Tl=function(a){this.ma.ja.call(this,
a);this.wg=this.Ja.vd.XC;this.Hi.x=a.Ar.x-this.wg.g.position.x;this.Hi.y=a.Ar.y-this.wg.g.position.y;this.Ii.x=a.Br.x-this.wg.g.position.x;this.Ii.y=a.Br.y-this.wg.g.position.y;this.oa.M(a.Tc);this.za.M(a.Uc);this.yc=a.il;this.Km=a.Wu+this.yc*a.Xu;this.xz=d.lk(a.zz,this.Km-this.yc*X.Tq);this.yz=d.lk(a.Az,(this.Km-X.Tq)/this.yc);this.Kh=this.Jh=this.t=0};X.prototype.Kf=function(b){var c=this.Ja,d=this.Sa,f;f=c.g.G;var g=this.oa.x-c.h.W.x,h=this.oa.y-c.h.W.y,k=f.j.x*g+f.k.x*h,h=f.j.y*g+f.k.y*h,g=k;
f=d.g.G;var m=this.za.x-d.h.W.x,p=this.za.y-d.h.W.y,k=f.j.x*m+f.k.x*p,p=f.j.y*m+f.k.y*p,m=k;f=d.h.m.x+m;var k=d.h.m.y+p,q=this.wg.g.position.x+this.Ii.x,u=this.wg.g.position.y+this.Ii.y;this.Pb.R(c.h.m.x+g-(this.wg.g.position.x+this.Hi.x),c.h.m.y+h-(this.wg.g.position.y+this.Hi.y));this.Qb.R(f-q,k-u);f=this.Pb.ig();k=this.Qb.ig();f>a.Bb?this.Pb.ga(1/f):this.Pb.Oa();k>a.Bb?this.Qb.ga(1/k):this.Qb.Oa();0<this.Km-f-this.yc*k?(this.lv=t.He,this.t=0):this.lv=t.Kd;f<this.xz?(this.fv=t.He,this.Jh=0):this.fv=
t.Kd;k<this.yz?(this.gv=t.He,this.Kh=0):this.gv=t.Kd;f=g*this.Pb.y-h*this.Pb.x;k=m*this.Qb.y-p*this.Qb.x;this.mp=c.U+c.ea*f*f;this.np=d.U+d.ea*k*k;this.Qr=this.mp+this.yc*this.yc*this.np;this.mp=1/this.mp;this.np=1/this.np;this.Qr=1/this.Qr;b.Kg?(this.t*=b.Cc,this.Jh*=b.Cc,this.Kh*=b.Cc,b=(-this.t-this.Jh)*this.Pb.x,f=(-this.t-this.Jh)*this.Pb.y,k=(-this.yc*this.t-this.Kh)*this.Qb.x,q=(-this.yc*this.t-this.Kh)*this.Qb.y,c.q.x+=c.U*b,c.q.y+=c.U*f,c.J+=c.ea*(g*f-h*b),d.q.x+=d.U*k,d.q.y+=d.U*q,d.J+=
d.ea*(m*q-p*k)):this.Kh=this.Jh=this.t=0};X.prototype.of=function(){var a=this.Ja,b=this.Sa,c;c=a.g.G;var f=this.oa.x-a.h.W.x,g=this.oa.y-a.h.W.y,h=c.j.x*f+c.k.x*g,g=c.j.y*f+c.k.y*g,f=h;c=b.g.G;var k=this.za.x-b.h.W.x,m=this.za.y-b.h.W.y,h=c.j.x*k+c.k.x*m,m=c.j.y*k+c.k.y*m,k=h,p=0,q=0;this.lv==t.Kd&&(c=a.q.x+-a.J*g,h=a.q.y+a.J*f,p=b.q.x+-b.J*m,q=b.q.y+b.J*k,c=-(this.Pb.x*c+this.Pb.y*h)-this.yc*(this.Qb.x*p+this.Qb.y*q),q=this.Qr*-c,c=this.t,this.t=d.ke(0,this.t+q),q=this.t-c,c=-q*this.Pb.x,h=-q*this.Pb.y,
p=-this.yc*q*this.Qb.x,q=-this.yc*q*this.Qb.y,a.q.x+=a.U*c,a.q.y+=a.U*h,a.J+=a.ea*(f*h-g*c),b.q.x+=b.U*p,b.q.y+=b.U*q,b.J+=b.ea*(k*q-m*p));this.fv==t.Kd&&(c=a.q.x+-a.J*g,h=a.q.y+a.J*f,c=-(this.Pb.x*c+this.Pb.y*h),q=-this.mp*c,c=this.Jh,this.Jh=d.ke(0,this.Jh+q),q=this.Jh-c,c=-q*this.Pb.x,h=-q*this.Pb.y,a.q.x+=a.U*c,a.q.y+=a.U*h,a.J+=a.ea*(f*h-g*c));this.gv==t.Kd&&(p=b.q.x+-b.J*m,q=b.q.y+b.J*k,c=-(this.Qb.x*p+this.Qb.y*q),q=-this.np*c,c=this.Kh,this.Kh=d.ke(0,this.Kh+q),q=this.Kh-c,p=-q*this.Qb.x,
q=-q*this.Qb.y,b.q.x+=b.U*p,b.q.y+=b.U*q,b.J+=b.ea*(k*q-m*p))};X.prototype.nf=function(){var b=this.Ja,c=this.Sa,f,g=this.wg.g.position.x+this.Hi.x,h=this.wg.g.position.y+this.Hi.y,k=this.wg.g.position.x+this.Ii.x,m=this.wg.g.position.y+this.Ii.y,p=0,q=0,u=0,x=0,z=0,D=0,E=0,K=0;this.lv==t.Kd&&(f=b.g.G,p=this.oa.x-b.h.W.x,q=this.oa.y-b.h.W.y,z=f.j.x*p+f.k.x*q,q=f.j.y*p+f.k.y*q,p=z,f=c.g.G,u=this.za.x-c.h.W.x,x=this.za.y-c.h.W.y,z=f.j.x*u+f.k.x*x,x=f.j.y*u+f.k.y*x,u=z,f=b.h.m.x+p,z=b.h.m.y+q,D=c.h.m.x+
u,E=c.h.m.y+x,this.Pb.R(f-g,z-h),this.Qb.R(D-k,E-m),f=this.Pb.ig(),z=this.Qb.ig(),f>a.Bb?this.Pb.ga(1/f):this.Pb.Oa(),z>a.Bb?this.Qb.ga(1/z):this.Qb.Oa(),f=this.Km-f-this.yc*z,K=d.ke(K,-f),f=d.Fb(f+a.Bb,-a.rf,0),E=-this.Qr*f,f=-E*this.Pb.x,z=-E*this.Pb.y,D=-this.yc*E*this.Qb.x,E=-this.yc*E*this.Qb.y,b.h.m.x+=b.U*f,b.h.m.y+=b.U*z,b.h.T+=b.ea*(p*z-q*f),c.h.m.x+=c.U*D,c.h.m.y+=c.U*E,c.h.T+=c.ea*(u*E-x*D),b.tc(),c.tc());this.fv==t.Kd&&(f=b.g.G,p=this.oa.x-b.h.W.x,q=this.oa.y-b.h.W.y,z=f.j.x*p+f.k.x*q,
q=f.j.y*p+f.k.y*q,p=z,f=b.h.m.x+p,z=b.h.m.y+q,this.Pb.R(f-g,z-h),f=this.Pb.ig(),f>a.Bb?(this.Pb.x*=1/f,this.Pb.y*=1/f):this.Pb.Oa(),f=this.xz-f,K=d.ke(K,-f),f=d.Fb(f+a.Bb,-a.rf,0),E=-this.mp*f,f=-E*this.Pb.x,z=-E*this.Pb.y,b.h.m.x+=b.U*f,b.h.m.y+=b.U*z,b.h.T+=b.ea*(p*z-q*f),b.tc());this.gv==t.Kd&&(f=c.g.G,u=this.za.x-c.h.W.x,x=this.za.y-c.h.W.y,z=f.j.x*u+f.k.x*x,x=f.j.y*u+f.k.y*x,u=z,D=c.h.m.x+u,E=c.h.m.y+x,this.Qb.R(D-k,E-m),z=this.Qb.ig(),z>a.Bb?(this.Qb.x*=1/z,this.Qb.y*=1/z):this.Qb.Oa(),f=this.yz-
z,K=d.ke(K,-f),f=d.Fb(f+a.Bb,-a.rf,0),E=-this.np*f,D=-E*this.Qb.x,E=-E*this.Qb.y,c.h.m.x+=c.U*D,c.h.m.y+=c.U*E,c.h.T+=c.ea*(u*E-x*D),c.tc());return K<a.Bb};n.zc.push(function(){n.l.L.Tl.Tq=2});n.Hb(E,n.l.L.xa);E.prototype.ma=n.l.L.xa.prototype;E.oo=function(){n.l.L.xa.xa.apply(this,arguments);this.Ar=new f;this.Br=new f;this.Tc=new f;this.Uc=new f};E.prototype.oo=function(){this.ma.xa.call(this);this.type=t.oy;this.Ar.R(-1,1);this.Br.R(1,1);this.Tc.R(-1,0);this.Uc.R(1,0);this.Az=this.Xu=this.zz=this.Wu=
0;this.il=1;this.ar=!0};E.prototype.nd=function(a,b,c,d,f,g,h){void 0===h&&(h=0);this.kb=a;this.wb=b;this.Ar.M(c);this.Br.M(d);this.Tc=this.kb.lf(f);this.Uc=this.wb.lf(g);a=f.x-c.x;c=f.y-c.y;this.Wu=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.Xu=Math.sqrt(c*c+d*d);this.il=h;h=this.Wu+this.il*this.Xu;this.zz=h-this.il*X.Tq;this.Az=(h-X.Tq)/this.il};n.Hb(Z,n.l.L.ja);Z.prototype.ma=n.l.L.ja.prototype;Z.Ul=function(){n.l.L.ja.ja.apply(this,arguments);this.Bd=new b;this.Ng=new b;this.Og=new b;this.Gn=
new b;this.qd=new g;this.Ug=new f;this.Zh=new f;this.oa=new f;this.za=new f;this.t=new g;this.X=new c};Z.prototype.Ad=function(){return this.Ja.hg(this.oa)};Z.prototype.je=function(){return this.Sa.h.T-this.Ja.h.T-this.sp};Z.prototype.ph=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.op=a;this.Sr=b};Z.prototype.Ul=function(a){this.ma.ja.call(this,a);this.oa.M(a.Tc);this.za.M(a.Uc);this.sp=a.Wj;this.t.Oa();this.nb=0;this.op=a.lz;this.Sr=a.GA;this.bD=a.iD;this.pp=a.up;this.Zg=a.rm;this.Lj=a.Po;
this.$a=t.He};Z.prototype.Kf=function(b){var c=this.Ja,f=this.Sa,g,h=0;g=c.g.G;var k=this.oa.x-c.h.W.x,m=this.oa.y-c.h.W.y,h=g.j.x*k+g.k.x*m,m=g.j.y*k+g.k.y*m,k=h;g=f.g.G;var p=this.za.x-f.h.W.x,q=this.za.y-f.h.W.y,h=g.j.x*p+g.k.x*q,q=g.j.y*p+g.k.y*q,p=h;g=c.U;var h=f.U,u=c.ea,x=f.ea;this.X.j.x=g+h+m*m*u+q*q*x;this.X.k.x=-m*k*u-q*p*x;this.X.Ia.x=-m*u-q*x;this.X.j.y=this.X.k.x;this.X.k.y=g+h+k*k*u+p*p*x;this.X.Ia.y=k*u+p*x;this.X.j.z=this.X.Ia.x;this.X.k.z=this.X.Ia.y;this.X.Ia.z=u+x;this.Pe=1/(u+
x);0==this.Lj&&(this.nb=0);if(this.Zg){var z=f.h.T-c.h.T-this.sp;d.ld(this.Sr-this.op)<2*a.tk?this.$a=t.rj:z<=this.op?(this.$a!=t.Ah&&(this.t.z=0),this.$a=t.Ah):z>=this.Sr?(this.$a!=t.Kd&&(this.t.z=0),this.$a=t.Kd):(this.$a=t.He,this.t.z=0)}else this.$a=t.He;b.Kg?(this.t.x*=b.Cc,this.t.y*=b.Cc,this.nb*=b.Cc,b=this.t.x,z=this.t.y,c.q.x-=g*b,c.q.y-=g*z,c.J-=u*(k*z-m*b+this.nb+this.t.z),f.q.x+=h*b,f.q.y+=h*z,f.J+=x*(p*z-q*b+this.nb+this.t.z)):(this.t.Oa(),this.nb=0)};Z.prototype.of=function(a){var b=
this.Ja,c=this.Sa,f=0,g=0,h=0,k=0,m=0,p=b.q,q=b.J,u=c.q,x=c.J,z=b.U,E=c.U,D=b.ea,K=c.ea;this.Lj&&this.$a!=t.rj&&(g=this.Pe*-(x-q-this.pp),h=this.nb,k=a.Xa*this.bD,this.nb=d.Fb(this.nb+g,-k,k),g=this.nb-h,q-=D*g,x+=K*g);if(this.Zg&&this.$a!=t.He){a=b.g.G;g=this.oa.x-b.h.W.x;h=this.oa.y-b.h.W.y;f=a.j.x*g+a.k.x*h;h=a.j.y*g+a.k.y*h;g=f;a=c.g.G;k=this.za.x-c.h.W.x;m=this.za.y-c.h.W.y;f=a.j.x*k+a.k.x*m;m=a.j.y*k+a.k.y*m;k=f;a=u.x+-x*m-p.x- -q*h;var M=u.y+x*k-p.y-q*g;this.X.Kn(this.qd,-a,-M,-(x-q));this.$a==
t.rj?this.t.Lg(this.qd):this.$a==t.Ah?(f=this.t.z+this.qd.z,0>f&&(this.X.Hl(this.Zh,-a,-M),this.qd.x=this.Zh.x,this.qd.y=this.Zh.y,this.qd.z=-this.t.z,this.t.x+=this.Zh.x,this.t.y+=this.Zh.y,this.t.z=0)):this.$a==t.Kd&&(f=this.t.z+this.qd.z,0<f&&(this.X.Hl(this.Zh,-a,-M),this.qd.x=this.Zh.x,this.qd.y=this.Zh.y,this.qd.z=-this.t.z,this.t.x+=this.Zh.x,this.t.y+=this.Zh.y,this.t.z=0));p.x-=z*this.qd.x;p.y-=z*this.qd.y;q-=D*(g*this.qd.y-h*this.qd.x+this.qd.z);u.x+=E*this.qd.x;u.y+=E*this.qd.y;x+=K*(k*
this.qd.y-m*this.qd.x+this.qd.z)}else a=b.g.G,g=this.oa.x-b.h.W.x,h=this.oa.y-b.h.W.y,f=a.j.x*g+a.k.x*h,h=a.j.y*g+a.k.y*h,g=f,a=c.g.G,k=this.za.x-c.h.W.x,m=this.za.y-c.h.W.y,f=a.j.x*k+a.k.x*m,m=a.j.y*k+a.k.y*m,k=f,this.X.Hl(this.Ug,-(u.x+-x*m-p.x- -q*h),-(u.y+x*k-p.y-q*g)),this.t.x+=this.Ug.x,this.t.y+=this.Ug.y,p.x-=z*this.Ug.x,p.y-=z*this.Ug.y,q-=D*(g*this.Ug.y-h*this.Ug.x),u.x+=E*this.Ug.x,u.y+=E*this.Ug.y,x+=K*(k*this.Ug.y-m*this.Ug.x);b.q.M(p);b.J=q;c.q.M(u);c.J=x};Z.prototype.nf=function(){var b=
0,c,f=this.Ja,g=this.Sa,h=0,k=0,m=0,p=0;if(this.Zg&&this.$a!=t.He){var b=g.h.T-f.h.T-this.sp,q=0;this.$a==t.rj?(b=d.Fb(b-this.op,-a.Sq,a.Sq),q=-this.Pe*b,h=d.ld(b)):this.$a==t.Ah?(b-=this.op,h=-b,b=d.Fb(b+a.tk,-a.Sq,0),q=-this.Pe*b):this.$a==t.Kd&&(h=b-=this.Sr,b=d.Fb(b-a.tk,0,a.Sq),q=-this.Pe*b);f.h.T-=f.ea*q;g.h.T+=g.ea*q;f.tc();g.tc()}c=f.g.G;q=this.oa.x-f.h.W.x;b=this.oa.y-f.h.W.y;k=c.j.x*q+c.k.x*b;b=c.j.y*q+c.k.y*b;q=k;c=g.g.G;var u=this.za.x-g.h.W.x,x=this.za.y-g.h.W.y,k=c.j.x*u+c.k.x*x,x=c.j.y*
u+c.k.y*x,u=k,m=g.h.m.x+u-f.h.m.x-q,p=g.h.m.y+x-f.h.m.y-b,z=m*m+p*p;c=Math.sqrt(z);var k=f.U,E=g.U,D=f.ea,K=g.ea,M=10*a.Bb;z>M*M&&(z=1/(k+E),m=z*-m,p=z*-p,f.h.m.x-=.5*k*m,f.h.m.y-=.5*k*p,g.h.m.x+=.5*E*m,g.h.m.y+=.5*E*p,m=g.h.m.x+u-f.h.m.x-q,p=g.h.m.y+x-f.h.m.y-b);this.Ng.j.x=k+E;this.Ng.k.x=0;this.Ng.j.y=0;this.Ng.k.y=k+E;this.Og.j.x=D*b*b;this.Og.k.x=-D*q*b;this.Og.j.y=-D*q*b;this.Og.k.y=D*q*q;this.Gn.j.x=K*x*x;this.Gn.k.x=-K*u*x;this.Gn.j.y=-K*u*x;this.Gn.k.y=K*u*u;this.Bd.nk(this.Ng);this.Bd.hq(this.Og);
this.Bd.hq(this.Gn);this.Bd.ok(Z.ew,-m,-p);m=Z.ew.x;p=Z.ew.y;f.h.m.x-=f.U*m;f.h.m.y-=f.U*p;f.h.T-=f.ea*(q*p-b*m);g.h.m.x+=g.U*m;g.h.m.y+=g.U*p;g.h.T+=g.ea*(u*p-x*m);f.tc();g.tc();return c<=a.Bb&&h<=a.tk};n.zc.push(function(){n.l.L.Ul.ew=new f});n.Hb(Ca,n.l.L.xa);Ca.prototype.ma=n.l.L.xa.prototype;Ca.Vl=function(){n.l.L.xa.xa.apply(this,arguments);this.Tc=new f;this.Uc=new f};Ca.prototype.Vl=function(){this.ma.xa.call(this);this.type=t.mr;this.Tc.R(0,0);this.Uc.R(0,0);this.up=this.iD=this.GA=this.lz=
this.Wj=0;this.Po=this.rm=!1};Ca.prototype.nd=function(a,b,c){this.kb=a;this.wb=b;this.Tc=this.kb.lf(c);this.Uc=this.wb.lf(c);this.Wj=this.wb.ha()-this.kb.ha()};n.Hb(pa,n.l.L.ja);pa.prototype.ma=n.l.L.ja.prototype;pa.so=function(){n.l.L.ja.ja.apply(this,arguments);this.ef=new f;this.Wf=new f;this.t=new g;this.X=new c};pa.prototype.Ad=function(){return this.Ja.hg(this.ef)};pa.prototype.so=function(a){this.ma.ja.call(this,a);this.ef.M(a.Tc);this.Wf.M(a.Uc);this.sp=a.Wj;this.t.Oa();this.X=new c};pa.prototype.Kf=
function(a){var b,c=0,d=this.Ja,f=this.Sa;b=d.g.G;var g=this.ef.x-d.h.W.x,h=this.ef.y-d.h.W.y,c=b.j.x*g+b.k.x*h,h=b.j.y*g+b.k.y*h,g=c;b=f.g.G;var k=this.Wf.x-f.h.W.x,m=this.Wf.y-f.h.W.y,c=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=c;b=d.U;var c=f.U,p=d.ea,q=f.ea;this.X.j.x=b+c+h*h*p+m*m*q;this.X.k.x=-h*g*p-m*k*q;this.X.Ia.x=-h*p-m*q;this.X.j.y=this.X.k.x;this.X.k.y=b+c+g*g*p+k*k*q;this.X.Ia.y=g*p+k*q;this.X.j.z=this.X.Ia.x;this.X.k.z=this.X.Ia.y;this.X.Ia.z=p+q;a.Kg?(this.t.x*=a.Cc,this.t.y*=a.Cc,this.t.z*=
a.Cc,d.q.x-=b*this.t.x,d.q.y-=b*this.t.y,d.J-=p*(g*this.t.y-h*this.t.x+this.t.z),f.q.x+=c*this.t.x,f.q.y+=c*this.t.y,f.J+=q*(k*this.t.y-m*this.t.x+this.t.z)):this.t.Oa()};pa.prototype.of=function(){var a,b=0,c=this.Ja,d=this.Sa,f=c.q,h=c.J,k=d.q,m=d.J,p=c.U,q=d.U,t=c.ea,u=d.ea;a=c.g.G;var x=this.ef.x-c.h.W.x,z=this.ef.y-c.h.W.y,b=a.j.x*x+a.k.x*z,z=a.j.y*x+a.k.y*z,x=b;a=d.g.G;var E=this.Wf.x-d.h.W.x,D=this.Wf.y-d.h.W.y,b=a.j.x*E+a.k.x*D,D=a.j.y*E+a.k.y*D,E=b;a=k.x-m*D-f.x+h*z;var b=k.y+m*E-f.y-h*x,
K=m-h,M=new g;this.X.Kn(M,-a,-b,-K);this.t.Lg(M);f.x-=p*M.x;f.y-=p*M.y;h-=t*(x*M.y-z*M.x+M.z);k.x+=q*M.x;k.y+=q*M.y;m+=u*(E*M.y-D*M.x+M.z);c.J=h;d.J=m};pa.prototype.nf=function(){var b,c=0,f=this.Ja,h=this.Sa;b=f.g.G;var k=this.ef.x-f.h.W.x,m=this.ef.y-f.h.W.y,c=b.j.x*k+b.k.x*m,m=b.j.y*k+b.k.y*m,k=c;b=h.g.G;var p=this.Wf.x-h.h.W.x,q=this.Wf.y-h.h.W.y,c=b.j.x*p+b.k.x*q,q=b.j.y*p+b.k.y*q,p=c;b=f.U;var c=h.U,t=f.ea,u=h.ea,x=h.h.m.x+p-f.h.m.x-k,z=h.h.m.y+q-f.h.m.y-m,E=h.h.T-f.h.T-this.sp,D=10*a.Bb,K=
Math.sqrt(x*x+z*z),M=d.ld(E);K>D&&(t*=1,u*=1);this.X.j.x=b+c+m*m*t+q*q*u;this.X.k.x=-m*k*t-q*p*u;this.X.Ia.x=-m*t-q*u;this.X.j.y=this.X.k.x;this.X.k.y=b+c+k*k*t+p*p*u;this.X.Ia.y=k*t+p*u;this.X.j.z=this.X.Ia.x;this.X.k.z=this.X.Ia.y;this.X.Ia.z=t+u;D=new g;this.X.Kn(D,-x,-z,-E);f.h.m.x-=b*D.x;f.h.m.y-=b*D.y;f.h.T-=t*(k*D.y-m*D.x+D.z);h.h.m.x+=c*D.x;h.h.m.y+=c*D.y;h.h.T+=u*(p*D.y-q*D.x+D.z);f.tc();h.tc();return K<=a.Bb&&M<=a.tk};n.Hb(Da,n.l.L.xa);Da.prototype.ma=n.l.L.xa.prototype;Da.to=function(){n.l.L.xa.xa.apply(this,
arguments);this.Tc=new f;this.Uc=new f};Da.prototype.to=function(){this.ma.xa.call(this);this.type=t.py;this.Wj=0};Da.prototype.nd=function(a,b,c){this.kb=a;this.wb=b;this.Tc.M(this.kb.lf(c));this.Uc.M(this.wb.lf(c));this.Wj=this.wb.ha()-this.kb.ha()}})();(function(){var a=n.l.Ve;a.Ve=function(){};a.prototype.Ve=function(){}})();var s;for(s=0;s<n.zc.length;++s)n.zc[s]();delete n.zc;var ea={autoplay:!1,duration:5E3,vr:[],loop:!1,placeholder:"--",cs:"metadata",volume:80},fa={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},ga=[],ia=document.createElement("audio");
function ja(a,b){function c(a,b){var c=document.createElement("source");c.src=b;fa[b.split(".").pop()]&&(c.type=fa[b.split(".").pop()]);a.appendChild(c)}b=b||{};var d=[],f=!!ia.canPlayType;this.load=function(){if(!f)return this;this.yd.load();return this};this.play=function(){if(!f)return this;this.yd.play();return this};this.pause=function(){if(!f)return this;this.yd.pause();return this};this.HC=function(){return f?this.yd.paused:null};this.stop=function(){if(!f)return this;this.setTime(0);this.yd.pause();
return this};this.loop=function(){if(!f)return this;this.yd.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()});return this};this.Tm=function(){if(!f)return this;this.yd.muted=!0;return this};this.ih=function(a){f&&(0>a&&(a=0),100<a&&(a=100),this.volume=a,this.yd.volume=a/100)};this.setTime=function(a){if(!f)return this;this.MA(function(){this.yd.currentTime=a});return this};this.getTime=function(){if(!f)return null;var a=Math.round(100*this.yd.currentTime)/100;return isNaN(a)?
ea.placeholder:a};this.set=function(a,b){if(!f)return this;this.yd[a]=b;return this};this.get=function(a){return f?a?this.yd[a]:this.yd:null};this.bind=function(a,b){function c(a){b.call(g,a)}if(!f)return this;a=a.split(" ");for(var g=this,h=0;h<a.length;h++){var k=a[h],z=k,k=z.split(".")[0];d.push({HF:z,GF:c});this.yd.addEventListener(k,c,!0)}return this};this.qC=function(a,b){function c(){setTimeout(function(){0>d&&0>h.volume?(h.ih(h.volume+=1),c()):0<d&&0<h.volume?(h.ih(h.volume-=1),c()):b instanceof
Function&&b.apply(h)},g)}if(f){a instanceof Function?(b=a,a=ea.duration):a=a||ea.duration;var d=this.volume,g=a/Math.abs(d-0),h=this;this.play();this.MA(function(){c()})}};this.wy=function(a,b){f&&this.qC(a,b)};this.MA=function(a){if(f){var b=this;0===this.yd.readyState?this.bind("canplay.buzzwhenready",function(){a.call(b)}):a.call(b)}};if(f&&a){for(var g in ea)ea.hasOwnProperty(g)&&(b[g]=b[g]||ea[g]);this.yd=document.createElement("audio");if(a instanceof Array)for(var h in a)a.hasOwnProperty(h)&&
c(this.yd,a[h]);else if(b.vr.length)for(var k in b.vr)b.vr.hasOwnProperty(k)&&c(this.yd,a+"."+b.vr[k]);else c(this.yd,a);b.loop&&this.loop();b.autoplay&&(this.yd.autoplay="autoplay");this.yd.cs=!0===b.cs?"auto":!1===b.cs?"none":b.cs;this.ih(b.volume);ga.push(this)}};var ka={Menu:"complex",Interlude:"complex","Hive 1":"kickit","Hive 2":"breakthru","Hive 3":"emergence","Hive 4":"fire",Tessellation:"driven","Final Tessellation":"wicked"},la={driven:27.46,wicked:2.922},ma={impulse:"effects/impulse",pdeath:"effects/pdeath",ffrenzy:"effects/ffrenzy",sparks:"effects/sparks",ult:"effects/ult",pwheel:"effects/pwheel",goo:"effects/goo",sshot:"effects/sshot",deathray:"effects/deathray",b1hit:"effects/b1hit",b1shrink:"effects/b1shrink",b1grow:"effects/b1grow",b2bhole:"effects/b2bhole",
b3strike:"effects/b3strike",b3select:"effects/b3select",b4spawner:"effects/b4spawner",b4attacker:"effects/b4attacker",b4darkness:"effects/b4darkness"},na={b3tick:{file:"effects/b3tick",Mi:2},sdeath:{file:"effects/sdeath",Mi:4},tdeath:{file:"effects/tdeath",Mi:4},hfire:{file:"effects/hfire",Mi:2},hhit:{file:"effects/hhit",Mi:2},fbullet:{file:"effects/fbullet",Mi:4},fbullethit:{file:"effects/fbullethit",Mi:4},b2eat:{file:"effects/b2eat",Mi:4},b4spawneract:{file:"effects/b4spawneract",Mi:2}},oa={"Hive 0":"bg/hive0",
"Title Alt1":"bg/titlebg_alt1","Title Alt2":"bg/titlebg_alt2","Title Alt3":"bg/titlebg_alt3","Title Alt4":"bg/titlebg_alt4","Hive 1":"bg/hive1","Hive 2":"bg/hive2","Hive 3":"bg/hive3","Hive 4":"bg/hive4"},qa={1:"IGNAVIAM",2:"CONSUMENDI",3:"NEGLIGENTIA",4:"ADROGANTIA"},ra=[{cp:4,Qc:500},{cp:5,Qc:1E3},{cp:6,Qc:2E3},{cp:7,Qc:5E3},{cp:8,Qc:7E3},{cp:9,Qc:1E4}],sa=[{Xi:1,Qc:50},{Xi:2,Qc:3E3},{Xi:3,Qc:8E3}],ta=[{Gg:11,Qc:200},{Gg:12,Qc:750},{Gg:13,Qc:1500},{Gg:14,Qc:4E3},{Gg:15,Qc:6E3},{Gg:16,Qc:9E3}],ua=
{},va,wa,xa;for(xa in na)ma[xa]=na[xa].file;
var v={bronze:"#cc8032",silver:"#c0c0c0",impulse_target_blue:"rgba(0, 128, 255, 0.2)",impulse_blue:"rgb(0, 128, 255)",impulse_blue_dark:"#13527e",gold:"#edb900","world 0":"#333","world 0 lite":"#999","world 0 bright":"#fff","world 0 dark":"#080808","world 1":"#034903","world 1 lite":"#046a04","world 1 bright":"#21f721","world 1 dark":"#000d00","world 2":"#0020b0","world 2 lite":"#0028dd","world 2 bright":"#2474fe","world 2 dark":"#010310","world 3":"#450555","world 3 lite":"#5f0775","world 3 dark":"#0f0013",
"world 3 bright":"#a260a6","world 4":"#600","world 4 lite":"#a00","world 4 dark":"#180000","world 4 bright":"#f00",player_color:"rgb(32, 140, 231)",boss:"red","boss dark":"#900","boss 1":"#05c205","boss 2":"#002eff","boss 3":"#a260a6","boss 4":"#f00"};
function ya(){var a=A.Wb+" "+A.Nc;"left mouse"==a?ua={uq:37,zq:38,xq:39,kq:40,dj:13,Ws:71,mk:27,oq:16,at:88,Fw:67,Ew:39,ax:37,wq:16,Ww:39,Dw:37,Xw:39,Bw:40,Uw:13}:"right mouse"==a?ua={uq:65,zq:87,xq:68,kq:83,dj:81,Ws:71,mk:27,oq:32,at:88,Fw:67,Ew:69,wq:82,ax:83,Ww:81,Dw:69,Xw:82,Bw:68,Uw:32}:"right keyboard"==a&&(ua={uq:37,zq:38,xq:39,kq:40,dj:81,Ws:71,mk:27,Ow:65,Qw:87,Pw:68,Nw:83,oq:32,at:88,Fw:67,Ew:69,wq:82,ax:83,Ww:81,Dw:69,Xw:82,Bw:68,Uw:32,kx:69})};function za(a,b,c,d,f,g,h){a.beginPath();a.arc(b*F,c*F,d*F*2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI*f,!0);a.lineWidth=h?h:2;a.strokeStyle=g;a.stroke()}function Aa(a,b,c,d,f){a.moveTo(b*F,c*F-d*F*2);a.arc(b*F,c*F,d*F*2,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI*f,!0)}
function Ba(a,b,c,d,f,g){void 0===g&&(g=1);a.save();for(var h=a.shadowBlur=0;h<c.length;h++)if(!1!==c[h].visible){var k=c[h],m=c[h].fa,q=c[h].color?c[h].color:f;a.beginPath();if("polygon"==k.type){a.moveTo(g*(k.x+k.Z*m[0][0])*F,g*(k.y+k.Z*m[0][1])*F);for(var p=1;p<m.length;p++)a.lineTo(g*(k.x+k.Z*m[p][0])*F,g*(k.y+k.Z*m[p][1])*F)}a.closePath();p=G[d].Yy;a.fillStyle=q;"normal"==b&&p&&(a.fillStyle=p);a.fillStyle="black";"lighten"!=b&&a.fill();a.strokeStyle=q;a.lineWidth=2*Math.sqrt(g);"lighten"==b&&
(a.strokeStyle="black",a.lineWidth=4*Math.sqrt(g));a.stroke()}if(b=G[d].uy){a.beginPath();for(p=0;p<b.length;p++)a.moveTo(g*b[p][0][0]*F,g*b[p][0][1]*F),a.lineTo(g*b[p][1][0]*F,g*b[p][1][1]*F);a.strokeStyle="black";a.lineWidth=3;a.globalAlpha=1;a.stroke()}b=G[d].vy;d=G[d].N;if("undefined"!==typeof b)for(c=0;c<b.length;c++)a.beginPath(),f=b[c],a.moveTo(g*d*f.x1*F,g*d*f.y1*F),a.lineTo(g*d*f.x2*F,g*d*f.y2*F),a.lineWidth=2,a.strokeStyle=q,a.stroke();a.restore()}
function Ea(a,b,c,d,f,g,h,k){"boss"!=b.slice(b.length-4)&&(a.save(),a.translate(c,d),g&&a.rotate(g),void 0===h&&(h="normal"),c=G[b].N*F*Fa.prototype.tm,f=null==f?c:f*Math.min(G[b].N/1.5,1),Ga(a,b,f,h,k),a.restore())}
function Ga(a,b,c,d,f){void 0===f&&(f=G[b].className.prototype.Gk(d),f||(f=G[b].color));var g=G[b].ir;g||(g=G[b].Sb);Ba(a,d,g,b,f,c/(Fa.prototype.tm*G[b].N*F));d=G[b].className.prototype.Gk(d);d||(d=G[b].color);if("undefined"!==typeof G[b].wj)for(f=0;f<G[b].wj.length;f++)g=G[b].wj[f],g.$t?Ha(a,0,0,g,c,d):Ha(a,0,0,g,c,d,1,0,"black")}function Ia(a,b,c,d,f,g){a.save();a.translate(c,d);g&&a.rotate(g);Ga(a,b,G[b].images.normal.height*f/2,"normal");a.restore()}var Ja={0:1.4,1:1,2:1.4,3:1.4,4:1.6};
function Ka(a,b,c,d,f,g,h){f*=Ja[b];a.save();g&&(a.globalAlpha*=.5,1==b&&J(a,c,d,Math.PI/4,2*f,2*f,La[b],Ma[b]),J(a,c,d,Math.PI/4,1.5*f,1.5*f,La[b],Ma[b]));a.restore();a.save();a.translate(c,d);a.rotate((h?h:0)+(4!=b&&2!=b?Math.PI/4:0));J(a,0,0,0,f,f,Na[b],Ma[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle=v["boss "+b],a.stroke());a.restore()}
function Pa(a,b,c,d,f){f*=Ja[b];a.save();a.translate(c,d);4!=b&&2!=b&&a.rotate(Math.PI/4);J(a,0,0,0,f,f,Qa[b],Ma[b]);1==b&&(a.beginPath(),a.rect(-f/2*1.2,-f/2*1.2,1.2*f,1.2*f),a.lineWidth=Math.ceil(f/20),a.strokeStyle="gray",a.stroke());a.restore()}
function Ra(a,b,c,d,f,g){a.save();a.shadowColor=f;a.shadowBlur=0;Sa(a,b,c-d,.9*d,.9*d,.2*d,f);Sa(a,b-d,c,.9*d,.9*d,.2*d,f);Sa(a,b,c,.9*d,.9*d,.2*d,f);Sa(a,b+d,c,.9*d,.9*d,.2*d,f);a.fillStyle=f;a.font=.4*d+"px Muli";a.textAlign="center";g?(a.fillText(g[0],b,c-1*d),a.fillText(g[1],b-d,c+0*d),a.fillText(g[2],b,c+0*d),a.fillText(g[3],b+d,c+0*d),Ta(a,b,c-.8*d,.3*d,"up",f),Ta(a,b-d,c+.2*d,.3*d,"left",f),Ta(a,b,c+.2*d,.3*d,"down",f),Ta(a,b+d,c+.2*d,.3*d,"right",f)):(Ta(a,b,c-d,.5*d,"up",f),Ta(a,b-d,c,.5*
d,"left",f),Ta(a,b,c-2,.5*d,"down",f),Ta(a,b+d,c,.5*d,"right",f));a.restore()}function Ua(a,b,c,d,f,g){a.save();a.fillStyle=g;Sa(a,b,c,d,f,.25*f,g);a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Va(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Sa(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b-d/2,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Wa(a,b,c,d,f,g){a.save();a.shadowColor=g;a.fillStyle=g;a.shadowBlur=0;Sa(a,b,c,d,f,.2*f,g);a.clip();a.beginPath();a.rect(b,c-f/2,d/2,f/3);a.globalAlpha*=.5;a.fill();a.restore();a.save();a.beginPath();a.moveTo(b-d/2,c-f/6);a.lineTo(b+d/2,c-f/6);a.moveTo(b,c-f/6);a.lineTo(b,c-f/2);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore()}
function Sa(a,b,c,d,f,g,h){a.save();a.shadowColor=h;a.shadowBlur=0;a.beginPath();a.moveTo(b-d/2+g,c-f/2);a.arcTo(b+d/2,c-f/2,b+d/2,c+f/2,g);a.arcTo(b+d/2,c+f/2,b-d/2,c+f/2,g);a.arcTo(b-d/2,c+f/2,b-d/2,c-f/2,g);a.arcTo(b-d/2,c-f/2,b+d/2,c-f/2,g);a.closePath();a.strokeStyle=h;a.lineWidth=2;a.stroke();a.restore()}function Xa(a,b,c,d){a.save();a.beginPath();a.rect(b-15,c-15,30,30);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.fillStyle=d;a.font="20px Muli";a.fillText("f",b,c+7.5);a.restore()}
function Ya(a,b,c,d,f,g){a.save();var h=2*Math.PI/24;a.beginPath();for(var k=0;6>k;k++)0==k?a.moveTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))):a.lineTo(b-15*Math.cos(h*(4*k+-.4)),c-15*Math.sin(h*(4*k+-.4))),a.lineTo(b-15*Math.cos(h*(4*k+.6)),c-15*Math.sin(h*(4*k+.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+1.6)),c-11.25*Math.sin(h*(4*k+1.6))),a.lineTo(b-11.25*Math.cos(h*(4*k+2.6)),c-11.25*Math.sin(h*(4*k+2.6)));a.closePath();a.fillStyle=d;a.fill();g&&(a.globalAlpha/=2);a.beginPath();a.arc(b,
c,7.5,0,1.998*Math.PI);a.fillStyle=f;a.fill();a.restore()}function Za(a,b,c,d){a.save();a.beginPath();a.arc(b,c-5,5,0,2*Math.PI,!0);a.moveTo(b,c+12.5);a.arc(b,c+12.5,10,0,Math.PI,!0);a.fillStyle=d;a.fill();a.restore()}function $a(a,b,c,d,f){a.save();a.beginPath();a.moveTo(b,c-1*d/3);a.lineTo(b-d,c-2*d/3);a.lineTo(b-d,c+2*d/3);a.lineTo(b,c+d);a.moveTo(b,c+d);a.lineTo(b,c-1*d/3);a.lineTo(b+d,c-2*d/3);a.lineTo(b+d,c+2*d/3);a.lineTo(b,c+d);a.lineWidth=4;a.strokeStyle=f;a.stroke();a.restore()}
function ab(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,2*Math.PI/5,Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.arc(b,c,9.75,7*Math.PI/5,2*Math.PI);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b-2.4375,c);a.lineTo(b-15.4375,c);a.lineTo(b-8.9375,c-6.5);a.moveTo(b+2.4375,c);a.lineTo(b+15.4375,c);a.lineTo(b+8.9375,c+6.5);a.fillStyle=d;a.fill();a.restore()}
function bb(a,b,c,d){a.save();a.beginPath();a.arc(b,c,9.75,3*Math.PI/2,3*Math.PI/4);a.lineWidth=4;a.strokeStyle=d;a.stroke();a.beginPath();a.moveTo(b,c-2.4375);a.lineTo(b,c-15.4375);a.lineTo(b-6.5,c-8.9375);a.fillStyle=d;a.fill();a.restore()}function cb(a,b,c,d){a.save();db(a,b,c,d);a.beginPath();a.arc(b,c,15,7*Math.PI/6,11*Math.PI/6);a.lineWidth=2;a.strokeStyle=d;a.stroke();a.restore()}
function db(a,b,c,d){a.beginPath();a.arc(b,c,10,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=d;a.fill();a.beginPath();a.arc(b,c,8,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle="black";a.fill();a.beginPath();a.arc(b,c,5.5,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI);a.fillStyle=d;a.fill()}
function eb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.moveTo(b-12,c-12);a.lineTo(b-12,c+12);a.lineTo(b+12,c+12);a.lineTo(b+12,c-12);a.lineTo(b,c-12);a.lineTo(b,c);a.lineWidth=5;a.stroke();a.beginPath();a.moveTo(b-7,c-3);a.lineTo(b+7,c-3);a.lineTo(b,c+4);a.fill();a.restore()}
function fb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.fillStyle=d;a.strokeStyle=d;a.arc(b,c,12.6,0,2*Math.PI,!0);a.lineWidth=3;a.stroke();a.beginPath();a.lineWidth=4;a.moveTo(b,c-7.2);a.lineTo(b,c+3.6);a.moveTo(b,c+18*.3);a.lineTo(b,c+7.2);a.stroke();a.restore()}function gb(a,b,c,d){a.save();a.shadowBlur=0;a.beginPath();a.moveTo(b-12,c-12);a.lineTo(b+12,c+12);a.moveTo(b-12,c+12);a.lineTo(b+12,c-12);a.strokeStyle=d;a.lineWidth=5;a.stroke();a.restore()}
function hb(a,b,c,d){a.save();a.translate(b,c);a.transform(1,-.35,0,1,0,0);a.translate(-b,-c);a.beginPath();a.moveTo(b-10,c);a.lineTo(b+10,c);a.moveTo(b-10,c+10);a.lineTo(b+10,c+10);a.lineWidth=6;a.strokeStyle=d;a.stroke();a.restore()}function jb(a,b,c,d){a.save();a.beginPath();a.rect(b-5,c-10,10,10);a.rect(b-10,c,10,10);a.rect(b,c,10,10);a.strokeStyle=d;a.lineWidth=4;a.stroke();a.restore()}
function kb(a,b,c,d){a.save();a.translate(20/3,0);a.beginPath();a.moveTo(b-20/3,c+10);a.lineTo(b-20/3,c-20/6);a.lineTo(b+20/3,c-40/6);a.lineTo(b+20/3,c+40/6);a.lineWidth=4;a.strokeStyle=d;a.stroke();var f=b-10,g=c+10;a.save();a.translate(f,g);a.scale(1.3,1);a.translate(-f,-g);a.beginPath();a.arc(f,g,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();a.restore();b+=20/6;c+=20/3;a.save();a.translate(b,c);a.scale(1.3,1);a.translate(-b,-c);a.beginPath();a.arc(b,c,20/6,0,2*Math.PI,!0);a.fillStyle=d;a.fill();
a.restore();a.restore()}
function lb(a,b,c,d,f,g,h){a.save();a.clearRect(b-d,c-d,3*d,3*d);a.beginPath();a.moveTo(b-.3*d-d/2*.75,c-d/2*.6);a.lineTo(b-.3*d,c-d/2*.6);a.lineTo(b-.3*d+d/2*.75,c-.6*d);a.lineTo(b-.3*d+d/2*.75,c+.6*d);a.lineTo(b-.3*d,c+d/2*.6);a.lineTo(b-.3*d-d/2*.75,c+d/2*.6);a.fillStyle=f;a.fill();h?(a.beginPath(),a.arc(b-.3*d+.75*d,c,d/2*.45,0,2*Math.PI,!0),a.moveTo(b-.3*d+.75*d-Math.cos(Math.PI/4)*d/2*.45,c-Math.cos(Math.PI/4)*d/2*.45),a.lineTo(b-.3*d+.75*d+Math.cos(Math.PI/4)*d/2*.45,c+Math.cos(Math.PI/4)*
d/2*.405),a.lineWidth=2,a.strokeStyle=f):(a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2*.6,-Math.PI/3,Math.PI/3,!1),a.lineWidth=2,a.strokeStyle=f,a.stroke(),a.beginPath(),a.arc(b-.3*d+.4*d,c,d/2,-Math.PI/3,Math.PI/3,!1));a.stroke();g&&(a.font="10px Muli",a.textAlign="center",a.fillText("X",b+d,c+d));a.restore()}
function Ha(a,b,c,d,f,g,h,k,m){h="undefined"!==typeof h?h:1;k="undefined"!==typeof k?k:0;a.beginPath();a.save();0!=k&&(a.translate(b,c),a.rotate(k),a.translate(-b,-c));"circle"==d.type&&a.arc(b+d.x,c+d.y,f*d.Z,0,1.998*Math.PI);if("polygon"==d.type){a.moveTo(b+(d.x+d.fa[0][0]*d.Z)*f,c+(d.y+d.fa[0][1]*d.Z)*f);for(k=1;k<d.fa.length;k++)a.lineTo(b+(d.x+d.fa[k][0]*d.Z)*f,c+(d.y+d.fa[k][1]*d.Z)*f);a.closePath()}a.globalAlpha*=h;a.fillStyle=g;m&&"none"!=m?a.fillStyle=m:a.globalAlpha/=3;"none"!=m&&a.fill();
m&&"none"!=m||(a.globalAlpha*=3);a.strokeStyle=g;a.lineWidth=2;a.stroke();a.restore()}function mb(a,b,c,d,f,g){a.save();a.shadowBlur=0;a.beginPath();a.rect(b-20-60,c-.5*d-20,160,d+40);a.fillStyle="black";a.fill();a.restore();a.save();a.beginPath();a.shadowBlur=20;a.shadowColor=g;a.globalAlpha/=10;a.rect(b-20,c-.5*d,40,d);a.strokeStyle=g;a.fillStyle=g;a.lineWidth=2;a.fill();a.stroke();a.globalAlpha*=10;a.beginPath();a.rect(b-20,c-.5*d,40,d*f);a.fillStyle=g;a.fill();a.restore()}
function Ta(a,b,c,d,f,g,h){h=void 0==h?!1:h;a.save();a.translate(b,c);"left"==f?a.rotate(Math.PI):"up"==f?a.rotate(3*Math.PI/2):"down"==f&&a.rotate(Math.PI/2);a.beginPath();a.moveTo(Math.cos(0)*d/2,Math.sin(0)*d/2);a.lineTo(Math.cos(2*Math.PI/3)*d/2,Math.sin(2*Math.PI/3)*d/2);a.lineTo(Math.cos(4*Math.PI/3)*d/2,Math.sin(4*Math.PI/3)*d/2);a.closePath();a.fillStyle=g;h?(a.shadowBlur=10,a.shadowColor=g):a.shadowBlur=0;a.fill();a.restore()}
function nb(a,b,c,d,f,g,h,k,m){a.save();m&&(a.globalAlpha*=m);a.beginPath();a.rect(b-.5*d,c-7.5,d*f,15);a.fillStyle=g;a.fill();a.restore();k||(a.beginPath(),a.rect(b-.5*d,c-7.5,d,15),a.strokeStyle=h?h:"black",a.lineWidth=2,a.stroke())}function ob(a,b,c,d){a.save();a.textAlign="center";a.shadowColor=v.impulse_blue;a.shadowBlur=0;a.fillStyle="white";a.drawImage(pb,b-pb.width/2*.85,c-.6375*pb.height,.85*pb.width,.85*pb.height);d&&(a.font="16px Muli",a.fillText(d,b,c+40));a.restore()}
function qb(a,b,c,d,f,g,h,k){var m=[];k.Ma&&m.push("lives");k.gc&&m.push("sparks");k.Xi&&m.push("ult");var q=1.8*h;a.save();for(var p=0;p<m.length;p++){var x=m[p],u=f-(m.length-1)/2*q+p*q;a.font=h+"px Muli";a.fillStyle="ult"==x?"white":v.impulse_blue;a.shadowBlur=0;a.textAlign="center";k.pl&&(a.shadowBlur=10,a.shadowColor=a.fillStyle);"lives"==x&&(J(a,u,g,0,1.3*h,1.3*h,"lives_icon"),a.fillText(b,u,g+1.6*h));"sparks"==x&&(J(a,u+.05*h,g+.05*h,0,.8*h,.8*h,"spark"),a.fillText(c,u,g+1.6*h));"ult"==x&&
(J(a,u,g,0,1.2*h,1.2*h,"ultimate_icon"),a.fillText(d,u,g+1.6*h));a.font=Math.max(8,h/3)+"px Muli";"lives"==x&&a.fillText("LIVES",u,g-.8*h);"sparks"==x&&(k.rA?(a.fillText("SPARK",u,g-1.3*h),a.fillText("VALUE",u,g-.8*h)):a.fillText("SPARKS",u,g-.8*h));"ult"==x&&a.fillText("ULT",u,g-.8*h)}a.restore()}
function rb(a,b,c,d,f,g,h){a.save();a.shadowBlur=0;a.beginPath();a.rect(c-f/2,d-g/2,f,g);a.clip();a.beginPath();a.rect(c-f/2,d-g/2,f,g);a.save();a.globalAlpha*=.3;a.fillStyle=h;a.fill();a.restore();var k=null;"easy"==L&&(k=N[b].Ef);k||(k=N[b].Na);if(k){for(b=0;b<k.length;b++){a.beginPath();a.moveTo(c-f/2+k[b][0][0]/O*f,d-g/2+k[b][0][1]/P*g);for(var m=1;m<k[b].length;m++)a.lineTo(c-f/2+k[b][m][0]/O*f,d-g/2+k[b][m][1]/P*g);a.closePath();a.fillStyle="black";a.strokeStyle=h;a.lineWidth=2;a.stroke();a.fill()}a.restore();
a.save();a.beginPath();a.shadowBlur=0;a.rect(c-f/2,d-g/2,f,g);a.lineWidth=2;a.strokeStyle=h;a.stroke();a.restore()}}function sb(){var a=document.createElement("canvas");a.width=400;a.height=400;var b=a.getContext("2d");b.globalAlpha=.2;J(b,a.width/2,a.height/2,0,.7*a.width,.7*a.height,"ultimate");b.globalAlpha=1;for(var c=0;48>c;c++){var d=c%2?.4*a.width:.42*a.width;J(b,a.width/2+d*Math.cos(c*Math.PI*2/48),a.height/2+d*Math.sin(c*Math.PI*2/48),2*Math.PI/48*c,32,18,"ultimate_shard")}return a}
function tb(a){var b=new Image;b.src=a;return b}
var ub=tb("art/sprites.png"),vb={player_normal:[0,0,40,40],player_red:[40,-1,40,40],player_yellow:[80,0,41,41],player_gray:[120,0,41,41],player_green:[160,0,41,41],player_white:[200,0,40,40],spark:[0,41,40,40],multi:[0,81,40,40],white_glow:[40,40,100,100],ultimate:[148,41,150,150],lives_icon:[0,0,40,40],sparks_icon:[0,41,40,40],ultimate_icon:[0,155,42,42],ultimate_icon_blue:[43,155,42,42],ultimate_shard:[0,121,18,32],world1_starblank:[85,199,41,38],world1_starhalf:[127,199,19,38],world1_star:[127,
199,41,38],world2_starblank:[85,237,41,38],world2_starhalf:[127,237,19,38],world2_star:[127,237,41,38],world3_starblank:[0,199,41,38],world3_starhalf:[42,199,19,38],world3_star:[42,199,41,38],world4_starblank:[0,237,41,38],world4_starhalf:[42,237,19,38],world4_star:[42,237,41,38],silver_trophy:[0,277,90,78],gold_trophy:[89,277,90,78],timer_icon:[169,197,61,77],immunitas_arm:[0,0,90,90],immunitas_arm_red:[150,135,90,90],immunitas_hand:[90,0,90,90],immunitas_hand_red:[240,135,90,90],immunitas_logo_gray:[330,
135,90,90],immunitas_head:[0,90,108,108],immunitas_head_red:[450,123,108,108],immunitas_glow:[180,0,135,135],immunitas_red_glow:[315,0,135,135],immunitas_aura:[450,0,123,123],immunitas_aura_red:[573,0,123,123],immunitas_arrow:[0,200,70,70],immunitas_lockon:[573,123,120,120],consumendi_head:[0,0,180,180],consumendi_head_red:[720,136,135,135],consumendi_aura:[181,0,269,269],consumendi_small_diamond:[94,180,30,56],consumendi_small_diamond_filled:[64,180,30,56],consumendi_small_arrow:[124,180,30,16],
consumendi_glow:[720,0,135,135],consumendi_logo:[450,0,120,119],consumendi_mini:[450,119,120,120],consumendi_mini_gray:[570,0,120,120],negligentia_head:[0,0,180,180],negligentia_head_red:[0,180,180,180],negligentia_arm_striking:[180,0,244,100],negligentia_arm_striking_red:[180,100,244,100],negligentia_wheel:[424,0,134,134],negligentia_wheel_red:[424,270,134,134],negligentia_wheel_complete:[423,135,135,135],negligentia_glow:[560,0,115,115],negligentia_glow_red:[560,115,115,115],negligentia_aura:[559,
270,39,65],negligentia_aura_open:[598,270,39,65],negligentia_arm_ring:[180,200,180,180],negligentia_logo:[680,0,120,120],negligentia_logo_gray:[680,120,120,120],adrogantia_attack_bud:[0,0,80,80],adrogantia_spawner:[0,80,80,80],adrogantia_body_bud:[80,0,80,80],adrogantia_attack_bud_firing:[80,80,80,80],adrogantia_head:[181,1,160,160],adrogantia_glow:[340,0,135,135],adrogantia_logo:[476,0,125,125],adrogantia_logo_gray:[476,125,125,125],generated_ultimate:[0,0,400,400]},wb=tb("art/immunitas_sprite.png"),
xb=tb("art/consumendi_sprite.png"),yb=tb("art/negligentia_sprite.png"),zb=tb("art/adrogantia_sprite.png"),pb=tb("art/logo.png"),La={0:"white_glow",1:"immunitas_glow",2:"consumendi_glow",3:"negligentia_glow",4:"adrogantia_glow"},Na={0:"ultimate",1:"immunitas_arm",2:"consumendi_logo",3:"negligentia_logo",4:"adrogantia_logo"},Qa={0:"world_logo",1:"immunitas_logo_gray",2:"consumendi_mini_gray",3:"negligentia_logo_gray",4:"adrogantia_logo_gray"},Ma={0:ub,1:wb,2:xb,3:yb,4:zb},Ab={},Bb;
for(Bb in oa)Ab[Bb]=tb("art/"+oa[Bb]+".png");function J(a,b,c,d,f,g,h,k){k="undefined"!==typeof k?k:ub;a.save();a.translate(b,c);a.rotate(d);a.drawImage(k,vb[h][0],vb[h][1],vb[h][2],vb[h][3],-f/2,-g/2,f,g);a.restore()}function Cb(a,b,c,d,f,g,h){var k=h.width,m=h.height;a.save();a.translate(b,c);a.rotate(d);a.drawImage(h,0,0,k,m,-f/2,-g/2,f,g);a.restore()}
function Db(a,b,c,d,f){f=Ab[f];var g=f.width,h=f.height;a.save();a.rect(0,b,c-0,d-b);a.clip();for(var k=0;k<c;k+=g)for(var m=b;m<d;m+=h)a.drawImage(f,0,0,g,h,k,m,g,h);a.restore()}
function Eb(a,b,c,d,f,g){"half"==f?(J(a,b-30*g,c,0,25*g,25*g,"world"+d+"_starblank"),J(a,b-36*g,c,0,12*g,25*g,"world"+d+"_starhalf"),J(a,b,c,0,25*g,25*g,"world"+d+"_starblank"),J(a,b+30*g,c,0,25*g,25*g,"world"+d+"_starblank")):"basic"==f?(J(a,b-30*g,c,0,25*g,25*g,"world"+d+"_star"),J(a,b,c,0,25*g,25*g,"world"+d+"_starblank"),J(a,b+30*g,c,0,25*g,25*g,"world"+d+"_starblank")):"silver"==f?(J(a,b-30*g,c,0,25*g,25*g,"world"+d+"_star"),J(a,b,c,0,25*g,25*g,"world"+d+"_star"),J(a,b+30*g,c,0,25*g,25*g,"world"+
d+"_starblank")):"gold"==f&&(J(a,b-30*g,c,0,25*g,25*g,"world"+d+"_star"),J(a,b,c,0,25*g,25*g,"world"+d+"_star"),J(a,b+30*g,c,0,25*g,25*g,"world"+d+"_star"))}
draw_quest_button=function(a,b,c,d,f){a.beginPath();a.arc(b,c,d,0,2*Math.PI,!1);a.fillStyle="#000";a.fill();a.beginPath();a.arc(b,c,d-8,0,2*Math.PI,!1);a.lineWidth=4;a.strokeStyle="white";a.stroke();"beat_hive1"==f&&Ka(a,1,b,c,.6*d,!0,0);"beat_hive2"==f&&Ka(a,2,b,c,.6*d,!0,0);"beat_hive3"==f&&Ka(a,3,b,c,.6*d,!0,0);"beat_hive4"==f&&Ka(a,4,b,c,.6*d,!0,0);"first_gold"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.8*d,.8*d,"gold_trophy"),a.font="15px Muli",
a.textAlign="center",a.fillStyle=v.gold,a.fillText("1",b,c-1));if("combo"==f){a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();J(a,b,c-d/4,0,.4*d,.4*d,"player_normal");a.beginPath();a.arc(b,c-d/2,.75*d,Math.PI/3,2*Math.PI/3,!1);a.strokeStyle=v.impulse_blue;a.stroke();for(var g=[Math.PI/2,.36*Math.PI,.64*Math.PI,.57*Math.PI,.43*Math.PI],h=0;h<g.length;h++){var k=g[h];Cb(a,b+.9*d*Math.cos(k),c-d/2+.9*d*Math.sin(k),k,10,10,G.stunner.images.normal)}}if("survivor"==f)for(a.save(),
a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.4*d,.4*d,"player_normal"),h=0;8>h;h++)k=2*Math.PI*h/4+Math.PI/4,Cb(a,b+.5*d*Math.cos(k),c+.5*d*Math.sin(k),Math.PI/2+k,15,15,G.spear.images.normal);"fast_time"==f&&(a.save(),a.globalAlpha*=.2,J(a,b,c,0,1.2*d,1.2*d,"white_glow"),a.restore(),J(a,b,c,0,.7*d,.7*d,"timer_icon"));if("pacifist"==f){a.save();a.globalAlpha*=.2;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();J(a,b,c+.2*d,0,.4*d,.4*d,"player_normal");a.save();a.lineWidth=
3;var g=c-.2*d,h=d/6,k=d/12,m=v.gold;a.save();a.beginPath();a.translate(b-h,g-k);a.scale(h,k);a.arc(1,1,1,0,2*Math.PI,!1);a.restore();a.save();m&&(a.strokeStyle=m);a.stroke();a.restore()}if("star"==f.substring(1,5)){a.save();a.globalAlpha*=.1;J(a,b,c,0,1.2*d,1.2*d,"white_glow");a.restore();f=parseInt(f.substring(0,1));g=[1.25*Math.PI,3*Math.PI/2,1.75*Math.PI];for(h=0;h<g.length;h++)k=g[h],J(a,b+.6*d*Math.cos(k),c+.1*d+.6*d*Math.sin(k),0,20,20,h<f?"world"+(f+1)+"_star":"world"+(f+1)+"_starblank");
J(a,b,c+d/4,0,.7*d,.7*d,"ultimate_icon")}};var Fb={beat_hive1:{La:["ult"],text:["DEFEAT HIVE 1"]},beat_hive2:{La:["spark"],text:["DEFEAT HIVE 2"]},beat_hive3:{La:["spark"],text:["DEFEAT HIVE 3"]},beat_hive4:{La:["life"],text:["DEFEAT HIVE 4"]},first_gold:{La:["spark"],text:["GET A GOLD SCORE","ON ANY LEVEL"]},combo:{La:["life"],text:["BEAT A LEVEL IN HIVE 1","WITH 150 COMBO OR MORE"]},pacifist:{La:["life"],text:["BEAT ANY LEVEL","WITHOUT USING IMPULSE"]},survivor:{La:["life"],text:["BEAT A LEVEL IN HIVE 3","AFTER 2.5 MINUTES"]},fast_time:{La:["spark"],
text:["BEAT A LEVEL IN HIVE 2","IN UNDER 30 SECONDS"]},"0star":{La:[],text:["DEFEAT CHALLENGE MODE"]},"1star":{La:["life","spark","ult"],text:["GET 1-STAR ON ALL HIVES","IN CHALLENGE MODE"]},"2star":{La:["life","spark","ult"],text:["GET 2-STAR ON ALL HIVES","IN CHALLENGE MODE"]},"3star":{La:[],text:["GET 3-STAR ON ALL HIVES","IN CHALLENGE MODE"]}};function Gb(a,b){return a.x==b.x&&a.y==b.y}function Hb(a,b,c,d){void 0===d&&(d=null);for(var f=0;f<c.length;f++)if(!(Gb(a,c[f].p1)||Gb(a,c[f].p2)||Gb(b,c[f].p1)||Gb(b,c[f].p2))&&c[f].p1.p_n!==d&&Ib(a,b,c[f].p1,c[f].p2))return!1;return!0}function Jb(a,b){for(var c=a.length-1,d=!1,f=0;f<a.length;f++)(a[f].y<b.y&&a[c].y>=b.y||a[f].y>=b.y&&a[c].y<b.y)&&a[f].y!=a[c].y&&a[f].x+(b.y-a[f].y)/(a[c].y-a[f].y)*(a[c].x-a[f].x)<b.x&&(d=!d),c=f;return d}
function Q(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function Ib(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};a={x:c.x-a.x,y:c.y-a.y};c=Kb(b,d);if(0==c&&0==Kb(a,d))return!1;d=Kb(a,d)/c;b=Kb(a,b)/c;return 0<=d&&1>=d&&0<=b&&1>=b}function Lb(a,b,c,d){b={x:b.x-a.x,y:b.y-a.y};d={x:d.x-c.x,y:d.y-c.y};c={x:c.x-a.x,y:c.y-a.y};var f=Kb(b,d);if(0==f&&0==Kb(c,d))return null;d=Kb(c,d)/f;c=Kb(c,b)/f;return 0<=d&&1>=d&&0<=c&&1>=c?{x:a.x+b.x*d,y:a.y+b.y*d}:null}
function Mb(a,b,c){return Math.abs(Kb({x:b.x-a.x,y:b.y-a.y},{x:c.x-a.x,y:c.y-a.y}))/Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function Kb(a,b){return a.x*b.y-a.y*b.x}function Nb(a){var b;a.pageX||a.pageY?(b=a.pageX,a=a.pageY):(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);b-=offset_left;a-=offset_top;return{x:b,y:a}}
function R(a,b){null!=a&&null!=b||console.log("ERROR");var c;if(a.x==b.x)return c=a.y>b.y?-Math.PI/2:Math.PI/2;c=Math.atan((a.y-b.y)/(a.x-b.x));a.x>b.x&&a.y<b.y?c+=Math.PI:a.x>b.x&&a.y>=b.y&&(c-=Math.PI);return c}function Ob(a,b,c,d){for(var f=[],g=0;g<c.length;g++){var h=d(c[g]);Q(a,h)<b&&f.push(c[g])}return f}
function Pb(a,b){for(var c=a.length-1,d=[],f=0;f<a.length;f++){var g=(f+1)%a.length,h=new b2Vec2(a[f].y-a[c].y,a[c].x-a[f].x),c=new b2Vec2(a[f].x-a[c].x,a[f].y-a[c].y),k=new b2Vec2(a[g].y-a[f].y,a[f].x-a[g].x),g=new b2Vec2(a[f].x-a[g].x,a[f].y-a[g].y);h.zb();k.zb();c.zb();g.zb();var m=R({x:0,y:0},k),q=R({x:0,y:0},h),m=m-q,m=0>m?m+2*Math.PI:m,m=m>=2*Math.PI?m-2*Math.PI:m;m>Math.PI?d.push({x:a[f].x+h.x*b-1*c.x/Math.tan(m/2-Math.PI/2)*b,y:a[f].y+h.y*b-1*c.y/Math.tan(m/2-Math.PI/2)*b}):m>5*Math.PI/6?
(d.push({x:a[f].x+h.x*b+c.x*b,y:a[f].y+h.y*b+c.y*b}),d.push({x:a[f].x+k.x*b+g.x*b,y:a[f].y+k.y*b+g.y*b})):d.push({x:a[f].x+h.x*b+c.x*Math.tan(m/2)*b,y:a[f].y+h.y*b+c.y*Math.tan(m/2)*b});c=f}return d}function Qb(a,b){var c=F,c=c?c:1;return b.x>=a&&b.y>=a&&b.x<=O/c-a&&b.y<=P/c-a}function Rb(a,b,c){for(var d={x:Math.random()*(O/c-2*b)+b,y:Math.random()*(P/c-2*b)+b},f=!1,g=0;g<S.i.vh.length;g++)s!=g&&Jb(S.i.vh[g],d)&&(f=!0);return f||null==Sb(S.Eb,d,a).path?Rb(a,b,c):d}
function Tb(a,b,c){for(;a<c;)a+=2*Math.PI;for(;a>c;)a-=2*Math.PI;for(;b>c;)b-=2*Math.PI;for(;b<c;)b+=2*Math.PI;return b-a<=2*Math.PI}function Ub(a,b){for(;b-a>Math.PI;)b-=2*Math.PI;for(;b-a<-Math.PI;)b+=2*Math.PI;return b}function Vb(a,b){var c=a-b;c>2*Math.PI&&(c-=2*Math.PI);0>c&&(c+=2*Math.PI);c>Math.PI&&(c=2*Math.PI-c);return c}function Wb(a,b,c){return 0*Math.pow(1-c,3)+3*Math.pow(1-c,2)*c*a+3*(1-c)*Math.pow(c,2)*b+1*Math.pow(c,3)}
function Xb(a,b,c,d,f,g,h,k){var m=new b2BodyDef;m.type="static"==h?b2Body.tf:b2Body.Fd;m.position.x=c;m.position.y=d;m.Lr=3;a=a.zn(m);for(c=0;c<b.length;c++){d=b[c];h=null;"circle"==d.type&&(h=new b2CircleShape(d.Z),h.gx(new b2Vec2(d.x,d.y)));if("polygon"==d.type){m=[];for(h=0;h<d.fa.length;h++)m.push(new b2Vec2(d.x+d.Z*d.fa[h][0],d.y+d.Z*d.fa[h][1]));h=new b2PolygonShape;h.ft(m,m.length)}d=new b2FixtureDef;d.sb=f;d.Am=0;d.cn=.7;d.filter.uf=g;d.filter.Df=6;d.shape=h;a.jq(d).In({body:a,owner:k,self:null})}return a}
function Yb(a,b){var c=L,d={};b>N[a].ab[c].Dc?(d.Dc=!0,N[a].ab[c].Dc=b):d.Dc=!1;d.aa=Zb(a,b,c);d.Dc&&(N[a].ab[c].aa=d.aa,$b());return d}function Zb(a,b,c){for(var d=0;b>=N[a].na[c][d];)d+=1;return d}function ac(a,b){var c=L,d={};b<N[a].ab[c].bd?(d.bd=!0,N[a].ab[c].bd=b):d.bd=!1;N[a].ab[c].aa=3;d.aa=3;d.bd&&$b();return d}function bc(a){var b=a%60;10>b&&(b="0"+b);return Math.floor(a/60)+":"+b};function cc(){this.Jc={};this.dl={};this.cc=null;for(var a in na)dc(this,na[a].file,na[a].Mi);this.Tj={};this.Tm=A.sv;this.ry=A.ry}function ec(a){fc.play(ma[a])}cc.prototype.play=function(a){if(!this.ry)if(a in this.dl)for(var b=0;b<this.dl[a].length;b++){if(!this.dl[a][b]){this.Jc[a+b].play();this.Jc[a+b].ih(A.or);this.dl[a][b]=!0;break}}else a in this.Jc||(this.Jc[a]=new ja("audio/"+a+".ogg")),this.Jc[a].play(),this.Jc[a].ih(A.or)};
function dc(a,b,c){a.dl[b]=[];for(var d=0;d<c;d++){a.dl[b].push(!1);a.Jc[b+d]=new ja("audio/"+b+".ogg");var f=a;a.Jc[b+d].bind("ended",function(a,b){return function(){f.dl[b][a]=!1}}(d,b))}}function gc(a,b){a.cc&&a.Jc[a.cc].stop();a.cc=null;hc(a,b)}
function hc(a,b){null!=a.cc&&a.cc!=b?a.Jc[a.cc].HC()?gc(a,b):(a.Tj[a.cc]=!1,a.Tj[b]=!0,a.Jc[a.cc].wy(500,function(){gc(a,b)})):(b in a.Jc||(b in la?(a.Jc[b]=new ja("audio/"+b+".ogg"),a.Jc[b].bind("ended",function(){this.setTime(la[b]);this.play()})):a.Jc[b]=new ja("audio/"+b+".ogg",{loop:!0})),a.Tm?a.Jc[b].ih(0):a.Jc[b].ih(A.am),a.Jc[b].play(),a.Tj[b]=!0,a.cc=b)}
function ic(){var a=fc;if(a.cc){a.Tj[a.cc]=!1;var b=a.cc;a.Jc[a.cc].wy(300,function(){a.cc&&!a.Tj[a.cc]?(a.Jc[a.cc].stop(),a.cc=null):a.cc==b&&a.Tj[a.cc]&&a.Jc[a.cc].ih(A.am)})}};function jc(a,b){void 0!==a&&(this.Ma=kc(),this.gc=0,this.Rc=lc(),this.Of=0,this.Gg=mc(),this.ic=b,this.ic||(this.Ma=0,1<this.Rc&&(this.Rc=1)),this.Hr=this.Ma,this.Ir=0,this.Jr=this.Rc,this.fz=kc(),this.FA=lc(),this.Xx=null,this.H={},this.wa=a,this.Lu=0==this.wa?"TUTORIAL":"HIVE "+qa[a],this.Vt=qa[a],this.zv=0,this.oh=null)}jc.prototype.clone=function(a){var b=new jc,c;for(c in a)b[c]=a[c];return b};function nc(a){a.Ma+=kc()-a.fz;a.Rc+=lc()-a.FA;a.Gg=mc();a.fz=kc();a.FA=lc()}
jc.prototype.continue=function(){this.Ma=kc();this.gc=0;this.Rc=lc();this.Gg=mc();this.Hr=this.Ma;this.Ir=0;this.Jr=this.Rc;this.Of+=1};function oc(a,b,c,d){this.ka(a,b,c,d)}l=oc.prototype;l.ya=3.5;l.id=9999;l.pn=1.2;l.Ty=50;l.Vg=10;l.Ou=.03125;l.BC=v.impulse_target_blue;l.Qy=v.impulse_blue;l.sb=.5625;l.hh=.66;l.N=.66;
l.ka=function(a,b,c,d){if(null!=a){"easy"==L&&(this.sb*=1.5,this.pn*=1.5);var f=new b2FixtureDef;f.sb=this.sb;f.Am=0;f.cn=1;f.filter.uf=2;f.filter.Df=29;var g=new b2BodyDef;g.type=b2Body.Fd;f.shape=new b2CircleShape(oc.prototype.hh);this.Z=oc.prototype.hh;this.i=d.i;this.v=d;g.position.x=b;g.position.y=c;g.Lr=this.ya;this.body=a.zn(g);this.body.jq(f).In({owner:this,body:this.body,self:this});this.shape=f.shape;this.fh=[];for(a=0;4>a;a++)this.fh.push({Z:.5,ii:a*Math.PI/2});this.aq=this.Ko=this.right=
this.left=!1;this.nh=this.Fh=this.Ch=this.Eh=this.Dh=null;this.yi=0;this.Qo=[];this.hw=[];this.kj=!1;this.qh={};this.ad=0;this.jj=500;this.ij=0;this.nh=!1;this.Ig={};this.Yi=1E3;this.dk=0;this.iw=20;this.KE=250;this.Zj=this.hd=this.au=this.hm=0;this.qv={x:0,y:0};this.status="normal";this.s=[0,0,0,0,0,0];this.jh=.3;this.P=!1;this.Ya=1E3;this.tb=0;this.color=v.player_color;this.pa=this.pn;this.Hx=5;this.Yt=!1;this.Tf=1.5;this.Vu=0;this.vp=!1;this.cz=0;this.Kv=!1;this.nt=250;this.ot=!0;this.Pn=this.nt}};
function pc(a,b){switch(b){case ua.uq:a.left=!0;break;case ua.xq:a.right=!0;break;case ua.kq:a.Ko=!0;break;case ua.zq:a.aq=!0;break;case ua.dj:case ua.mk:a.aq=!1;a.Ko=!1;a.left=!1;a.right=!1;a.Dh=null;a.Eh=null;a.Fh=null;a.Ch=null;a.Dr=null;break;case ua.Ow:a.Dh=(new Date).getTime();break;case ua.Qw:a.Fh=(new Date).getTime();break;case ua.Pw:a.Eh=(new Date).getTime();break;case ua.Nw:a.Ch=(new Date).getTime();break;case ua.kx:a.Dr=(new Date).getTime()}}
l.di=function(a){this.s[0]=Math.max(a,this.s[0]);this.s[1]=Math.max(a,this.s[1])};l.$b=function(a,b){b&&(this.hd=Math.max(a,this.s[1]),this.Zj=Math.max(a,this.s[1]));this.s[1]=Math.max(a,this.s[1])};l.Du=function(a){this.s[2]=Math.max(a,this.s[2])};l.dp=function(a){this.s[3]=Math.max(a,this.s[3]);this.Gr=this.s[3];this.ep=1;this.Nk=1/this.Tf};function qc(a,b){a.s[5]=Math.max(b,a.s[5])}function rc(a,b){a.hm=Math.max(b,a.s[4]);a.au=Math.max(b,a.s[4]);a.s[4]=Math.max(b,a.s[4])}
l.qa=function(a){if(this.P)this.tb-=a;else{this.ot&&(this.Pn-=a,0>this.Pn&&(this.ot=!1));0<this.hd&&(this.hd-=a);0<this.hm&&(this.hm-=a);0<this.s[0]&&(this.s[0]-=a);0<this.s[1]&&(this.s[1]-=a);0<this.s[2]?(this.s[2]-=a,this.body.Be(3*this.ya),this.vC=!0):this.vC&&this.body.Be(this.ya);if(0<this.s[3]){if(this.s[3]-=a,!this.Ai){this.Ai=!0;var b=this.body.Gc;void 0===b.length&&(b=[b]);for(var c=0;c<b.length;c++)b[c].eb.Ga/=this.Tf;this.body.jg();sc(this)}}else if(this.Ai){this.Ai=!1;b=this.body.Gc;void 0===
b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].eb.Ga*=this.Tf;this.body.jg();sc(this)}0<this.s[4]&&(this.s[4]-=a);if(0<this.s[5]){this.s[5]-=a;b=this.body.Gc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].fx(this.sb*this.Hx);sc(this);this.body.jg();this.Yt=!0}else if(this.Yt){this.Yt=!1;b=this.body.Gc;void 0===b.length&&(b=[b]);for(c=0;c<b.length;c++)b[c].fx(this.sb);sc(this);this.body.jg()}cur_time=(new Date).getTime();"mouse"==A.Nc?((this.vp||100>cur_time-this.Vu)&&!this.kj&&0>=this.s[1]&&
(this.kj=!0,this.v.H.Pu=!0,this.qh=this.body.g.position.yb(),this.ad=this.yi,this.ij=this.jj,ec("impulse"),this.v instanceof tc&&(c=this.v,1==c.ca&&"first_time_tutorial"==c.mode&&0==c.Vd&&"none"==c.rb&&(c.lg=c.mm,c.Vd=!0)),this.v.ai&&uc(this.v,"player_impulsed")),(this.Kv||100>cur_time-this.cz)&&!this.nh&&0<this.v.u.Rc&&(vc(this),this.v instanceof tc||(this.v.u.Rc-=1)),this.yi=R({x:this.body.g.position.x*F,y:this.body.g.position.y*F},this.qv)):"keyboard"==A.Nc&&(!this.kj&&0>=this.s[1]&&(c=0,null!=
this.Dh&&this.Dh>c&&(c=this.Dh),null!=this.Eh&&this.Eh>c&&(c=this.Eh),null!=this.Fh&&this.Fh>c&&(c=this.Fh),null!=this.Ch&&this.Ch>c&&(c=this.Ch),0!=c&&40<(new Date).getTime()-c&&(null!=this.Dh&&null!=this.Fh?this.ad=5*Math.PI/4:null!=this.Dh&&null!=this.Ch?this.ad=3*Math.PI/4:null!=this.Eh&&null!=this.Fh?this.ad=7*Math.PI/4:null!=this.Eh&&null!=this.Ch?this.ad=1*Math.PI/4:null!=this.Dh?this.ad=Math.PI:null!=this.Eh?this.ad=0:null!=this.Fh?this.ad=3*Math.PI/2:null!=this.Ch&&(this.ad=1*Math.PI/2),
0<this.s[4]&&(this.ad+=Math.PI),this.kj=!0,this.v.H.Pu=!0,this.qh=this.body.g.position.yb(),this.ij=this.jj,ec("impulse"))),!this.nh&&null!=this.Dr&&0<this.v.u.Rc&&(vc(this),this.v instanceof tc||(this.v.u.Rc-=1)));this.body.vb(this.yi);0<this.s[4]&&(this.yi+=Math.PI);for(c=0;c<this.i.de.length;c++)if(Jb(this.i.de[c],this.body.g.position)){this.Kc();break}if(this.kj)if(0>this.ij)this.kj=!1,this.Qo=[];else{for(c=0;c<this.i.r.length;c++)if(!(this.i.r[c]instanceof wc&&0>=this.i.r[c].s[1]||this.i.r[c]instanceof
xc&&this.i.r[c].iC)){if(-1==this.Qo.indexOf(this.i.r[c].id)&&!this.i.r[c].P)for(var b=this.i.r[c].Ej(),d=0;d<b.length;d++)if(yc(this,b[d])){if(zc(this,b[d],20<this.i.r[c].body.q.ig())){var f=R(this.qh,b[d]);this.Qo.push(this.i.r[c].id);this.i.r[c].Gf(this.qh,this.Ty,f);break}this.i.r[c]instanceof Ac&&"engaged"==this.i.r[c].mb&&Bc(this.i.r[c])}if(this.i.r[c]instanceof Ac&&"inactive"!=this.i.r[c].mb){var g=this.i.r[c].cb;if(-1==this.Qo.indexOf(g.id))for(b=g.Ej(),d=0;d<b.length;d++)yc(this,b[d])&&zc(this,
b[d],!0)&&(f=R(this.qh,b[d]),g.Gf(this.qh,this.Ty,f),this.Qo.push(g.id))}}this.ij-=a}this.nh&&(0>this.dk?(Cc(this,!0),this.nh=!1,this.hw=[],this.v instanceof tc&&(a=this.v,1==a.ca&&"ult_tutorial"==a.mode&&0==a.Vd&&"none"==a.rb&&(a.lg=a.mm,a.Vd=!0)),this.i.ta&&this.body.hi(this.Ig)):(Cc(this,!1),this.dk-=a));0>=this.s[0]&&(b=this.pa,c=a=0,this.left&&(a-=1),this.right&&(a+=1),this.aq&&(c-=1),this.Ko&&(c+=1),b=2==Math.abs(a)+Math.abs(c)?b/Math.sqrt(2):b,0<this.s[4]&&(a*=-1,c*=-1),this.body.ia(new b2Vec2(b*
a,b*c),this.body.h.m),this.v instanceof tc&&(0!=a||0!=c)&&(b=this.v,0==b.ca&&"first_time_tutorial"==b.mode&&0==b.Vd&&"none"==b.rb&&(b.lg=b.mm,b.Vd=!0)),!this.v.ai||0==a&&0==c||uc(this.v,"player_moved"))}};function sc(a){a.pa=0<a.s[5]?a.pn*a.Hx:0<a.s[3]?a.pn/a.Tf/a.Tf:a.pn}function vc(a){ec("ult");a.nh=!0;a.Ig=a.body.g.position.yb();a.dk=a.Yi;qc(a,a.Yi);a.di(a.Yi);a.body.Gl(new b2Vec2(0,0));a.i.ta&&a.body.hi(new b2Vec2(-1E3,-1E3))}
function Cc(a,b){for(var c=0;c<a.i.r.length;c++){var d=a.i.r[c];if(!d.P){for(var f=d.Ej(),g=(b?1:.002)*a.KE,h=0;h<f.length;h++)if(Dc(a,f[h])){var k=R(a.Ig,f[h]);-1==a.hw.indexOf(d.id)?(a.hw.push(d.id),Ec(d,!0)):Ec(d,!1);f=G[d.type];h=d.Rf?.02/d.Ke:1;"slingshot"==d.type&&(h*=2);d.Gf(a.Ig,1*g*h*d.body.X*f.ya,k,!0);break}d instanceof Ac&&"engaged"==d.mb&&d.Pc==a&&Bc(d)}if(d instanceof Ac&&"inactive"!=d.mb)for(d=d.cb,f=d.Ej(),h=0;h<f.length;h++)Dc(a,f[h])&&(k=R(a.Ig,f[h]),d.Gf(a.Ig,2*g,k))}}
function Fc(a){return a.nh?a.Ig:a.body.g.position}function yc(a,b){var c=R(a.qh,b);return a.ad<2*-Math.PI/3?c<=a.ad+Math.PI/3||c>=a.ad+5*Math.PI/3:a.ad>2*Math.PI/3?c<=a.ad-5*Math.PI/3||c>=a.ad-Math.PI/3:c>=a.ad-Math.PI/3&&c<=a.ad+Math.PI/3}function zc(a,b,c){var d=Gc(a),f=a.qh.yb();f.Ln(b);f=f.zb();b=c?4*a.Ou:2*a.Ou;return f>=a.Vg*d*((a.jj-a.ij)/a.jj-b)&&f<=a.Vg*d*((a.jj-a.ij)/a.jj+b)}function Dc(a,b){var c=a.Ig.yb();c.Ln(b);c=c.zb();return c<=a.iw*Wb(.15,.5,(a.Yi-a.dk)/a.Yi)}
function Hc(a,b){b.save();if(a.P){var c=a.P?Math.min((a.Ya-a.tb)/a.Ya,1):0;b.globalAlpha*=1-c}a.nh&&0<a.dk&&(b.save(),b.globalAlpha*=.3,c=Math.min(2-Math.abs((a.dk-a.Yi/2)/(a.Yi/4)),1),b.globalAlpha*=c/2,b.fillStyle="white",b.fillRect(0,0,Ic,Jc),b.restore(),b.shadowBlur=10,b.shadowColor="#ccc",b.globalAlpha*=.5,c=Wb(.1,.5,(a.Yi-a.dk)/a.Yi),.4<c&&(b.globalAlpha*=0>(1-c)/.4?0:(1-c)/.4),J(b,a.Ig.x*F,a.Ig.y*F,0,a.iw*c*F*2,a.iw*c*F*2,"generated_ultimate",va));b.restore()}
l.gh=function(a){this.P||Hc(this,a)};
l.Y=function(a){if(!this.P){Hc(this,a);a.save();if(0<this.hm){var b=Math.max((this.au-this.hm)/this.au,0);za(a,this.body.g.position.x,this.body.g.position.y,this.hh,b,"#24ac40")}else 0<this.hd&&(b=Math.max((this.Zj-this.hd)/this.Zj,0),za(a,this.body.g.position.x,this.body.g.position.y,this.hh,b,"gray"));if(this.ot){var b=this.Pn/this.nt,c=1+8*b;a.save();a.globalAlpha*=1-b;a.beginPath();a.lineWidth=Math.ceil(4-4*b);a.strokeStyle=v.impulse_blue;a.arc(this.body.g.position.x*F,this.body.g.position.y*
F,this.shape.Ga*c*F,0,2*Math.PI,!0);a.stroke();a.restore()}else this.nh?(c=Gc(this),J(a,this.Ig.x*F,this.Ig.y*F,this.body.ha(),this.shape.Ga*F*2.5*c,this.shape.Ga*F*2.5*c,"player_gray")):0<this.s[0]?Kc(this,a,"player_red"):0<this.s[4]?Kc(this,a,"player_green"):0<this.s[1]?Kc(this,a,"player_gray"):0<this.s[2]?Kc(this,a,"player_yellow"):Kc(this,a,"player_normal");c=Gc(this);0<this.s[3]&&(a.beginPath(),a.arc(this.body.g.position.x*F,this.body.g.position.y*F,this.hh*c*F,0,2*Math.PI,!1),a.strokeStyle=
"black",a.stroke());a.beginPath();A.Cr&&(a.save(),b=this.Pn/this.nt,a.globalAlpha*=Math.max(0,1-b),0>=this.s[1]&&"mouse"==A.Nc?(a.fillStyle=this.BC,a.arc(this.body.g.position.x*F,this.body.g.position.y*F,this.Vg*c*F,this.yi-Math.PI/3,this.yi+Math.PI/3),a.lineTo(this.body.g.position.x*F+Math.cos(this.yi+Math.PI/3)*this.Vg*c*F,this.body.g.position.y*F+Math.sin(this.yi+Math.PI/3)*this.Vg*c*F),a.lineTo(this.body.g.position.x*F,this.body.g.position.y*F),a.fill()):0>=this.s[1]&&"keyboard"==A.Nc&&(a.beginPath(),
a.arc(this.body.g.position.x*F,this.body.g.position.y*F,this.Vg*c*F,0,2*Math.PI),a.globalAlpha/=6,a.lineWidth=2,a.strokeStyle=v.impulse_blue,a.stroke()),a.restore());this.kj&&(a.beginPath(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=10,a.shadowColor=this.Qy,a.lineWidth=this.Vg*this.Ou*F*c,b=(this.jj-this.ij)/this.jj,a.save(),.5<b&&(a.globalAlpha*=0>(1-b)/.5?0:(1-b)/.5),a.arc(this.qh.x*F,this.qh.y*F,this.Vg*c*b*F,this.ad-Math.PI/3,this.ad+Math.PI/3),a.strokeStyle=this.Qy,a.lineWidth=5,a.stroke(),
a.restore());A.Ur&&!this.v.ta&&(a.font="16px Muli",a.fillStyle=v.impulse_blue,a.textAlign="center",a.shadowBlur=0,a.fillText("x"+this.v.H.pe,this.body.g.position.x*F,this.body.g.position.y*F+30));a.restore()}};function Kc(a,b,c){var d=Gc(a);J(b,a.body.g.position.x*F,a.body.g.position.y*F,a.body.ha(),a.shape.Ga*F*2.5*d,a.shape.Ga*F*2.5*d,c)}
function Gc(a){if(0>=a.s[3])return 1;var b=a.s[3]/a.Gr;.1>b?(b=1-b/.1,lighten_factor=a.ep*b+a.Nk*(1-b)):.9<b?(b=(b-.9)/.1,lighten_factor=a.ep*b+a.Nk*(1-b)):lighten_factor=a.Nk;return lighten_factor}l.Ze=function(){};l.Kc=function(a){this.P=!0;this.tb=this.Ya;this.i.KF=!0;"absorbed"!=a&&ec("pdeath");Lc(this.i,"player",this.body.g.position,this.body.q,!0)};
l.Bu=function(a,b){for(var c=this.fh.length-1,d=null,f=null,g=0;g<this.fh.length;g++){var h=Lb({x:this.body.g.position.x+this.fh[g].Z*Math.cos(this.fh[g].ii+0),y:this.body.g.position.y+this.fh[g].Z*Math.sin(this.fh[g].ii+0)},{x:this.body.g.position.x+this.fh[c].Z*Math.cos(this.fh[c].ii+0),y:this.body.g.position.y+this.fh[c].Z*Math.sin(this.fh[c].ii+0)},a,b);if(null!=h){c=Q(h,a);if(null==f||c<f)d=h,f=c;c=g}}return{AD:d,Xd:f}};function Fa(){}l=Fa.prototype;l.tm=1.5;
l.ka=function(a,b,c,d,f){this.yD=new b2Vec2(b,c);if(this.v=f)this.i=f.i,this.o=f.o;this.wa=a;for(g in G[this.type])this[g]=G[this.type][g];this.Ev=[];this.Ev.push(new b2Vec2(Math.cos(0*Math.PI),Math.sin(0*Math.PI)));this.Ev.push(new b2Vec2(Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)));this.Ev.push(new b2Vec2(Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)));this.BD=1E3;this.Jy=3;this.hu=this.Fv=0;this.Qj=1500;this.bn=!0;this.Tf=1.5;this.Qu=v.impulse_blue;g=new b2BodyDef;g.type=b2Body.Fd;g.position.x=
b;g.position.y=c;g.Lr=this.ya;g.xu=this.RF?!1:!0;g.xu||(g.px=50);a&&(this.body=a.zn(g));this.jE=[];this.Eg=[];this.Ai=!1;this.ap=500;for(var g=0;g<this.Sb.length;g++){a=this.Sb[g];b=null;"circle"==a.type&&(b=new b2CircleShape(a.Z),b.gx(new b2Vec2(a.x,a.y)));if("polygon"==a.type){c=[];for(b=0;b<a.fa.length;b++)c.push(new b2Vec2(a.x+a.Z*a.fa[b][0],a.y+a.Z*a.fa[b][1]));b=new b2PolygonShape;b.ft(c,c.length)}a=new b2FixtureDef;a.sb=this.sb;a.Am=0;a.cn=.7;a.filter.uf=this.uf?this.uf:4;a.filter.Df=this.Df?
this.Df:30;a.shape=b;this.body&&this.body.jq(a).In({owner:this,body:this.body,self:this});this.jE.push(b);b instanceof b2PolygonShape?this.Eg.push(b.$):this.Eg.push(null)}this.Pf=!0;Mc(this);this.path=null;this.rw=0;this.qw=!1;this.id=d;this.wk=this.P=!1;this.Ya=500;this.tb=0;this.s=[0,0,0,0];this.sa={};this.sa.open=0;this.sa.impulsed=0;this.Zy=!0;this.Hf=!1;this.pA=0;this.Jo=!0;this.Qd=this.xe=40;this.TE=10;this.jh=.3;this.Jd=!1;this.pj=!0;this.Vv=this.pa/3;this.Ru=!1;this.Su=this.Uy=2E3;this.Fe=
2;this.Gr=0;this.BE="normal impulsed stunned silenced gooed lighten ulted white world1 world2 world3 world4 black".split(" ");this.Dq=[];this.Fq=0;this.xB=4;this.Eq=null;this.Nn=.5;this.Mn=!0;this.Dm=!1;this.em=0;this.Hz=this.Py=this.wm=!1;this.Oy=4;this.Hj=0;this.Ue=null;this.bi&&(this.zf=!1,this.Ac=this.Yh=this.Bh=this.pg)};
l.Yq=function(){for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){if(0>=this.sa.open&&this.Hz){this.body.hi(this.yD);break}0>=this.sa.open&&this.bn?this.Kc("accident"):(this.v instanceof tc&&(a=this.v,3==a.ca&&"first_time_tutorial"==a.mode&&0==a.Vd&&"none"==a.rb&&(a.lg=a.mm,a.Vd=!0),4==a.ca&&"first_time_tutorial"==a.mode&&0==a.Vd&&"none"==a.rb&&(a.lg=a.mm,a.Vd=!0)),this.v.ai&&uc(this.v,"enemy_killed"),this.Kc("kill"));break}};
function Mc(a){a.Sv=[];a.$B=[];if(a.o)for(var b=a.body.Gc;null!=b;){var c=b.eb,d=[];if(c instanceof b2PolygonShape){for(var c=c.$,f=0;f<c.length;f++){var g=Q({x:0,y:0},c[f]),h=R({x:0,y:0},c[f]);d.push({Z:g,ii:h})}a.$B.push(Pb(c,a.o.Z+.1))}a.Sv.push(d);b=b.Ka}}l.Pz=function(a,b){this.wk&&("hit_player"!=this.P||this.tb<this.Ya-50)&&(this.wk=!1,this.i.Ho.push(a));return this.P&&0>this.tb?(this.i.Uo.push(a),!0):this.P?(this.tb-=b,!0):!1};
l.qa=function(a,b){if(!this.Pz(a,b))if(0==this.qb)this.Sc(b);else if(this.Pg)this.mt(b);else{0<this.s[0]&&(this.s[0]-=b);0<this.s[1]?this.s[1]-=b:this.vf&&(this.vf=!1);for(status in this.sa)0<this.sa[status]&&(this.sa[status]-=b);0<this.s[2]?(this.s[2]-=b,this.body.Be(this.ya*this.Jy)):this.body.Be(this.ya);if(0<this.s[3]){if(this.s[3]-=b,!this.Ai){this.Ai=!0;var c=this.body.Gc;void 0===c.length&&(c=[c]);for(var d=0;d<c.length;d++)for(var f=this.body.Gc.eb.$,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x/
this.Tf,f[g].y/this.Tf);this.body.jg();this.pa=G[this.type].pa/this.Tf/this.Tf}}else if(this.Ai){this.Ai=!1;c=this.body.Gc;void 0===c.length&&(c=[c]);for(d=0;d<c.length;d++)for(f=this.body.Gc.eb.$,g=0;g<f.length;g++)f[g]=new b2Vec2(f[g].x*this.Tf,f[g].y*this.Tf);this.body.jg();this.pa=G[this.type].pa}1>this.Fv&&(this.Fv=Math.min(this.Fv+b/this.BD,1));this.pA+=b;this.Su=this.Ru?this.Su-b:this.Uy;this.Yq();this.Fq+=1;if(!(!this.Mn||0<this.sa.open&&"tank"==this.type||0<this.s[1])){if(this.Fq>this.xB){this.Fq=
0;c=!1;f=this.i.vh;d=null;for(g=0;g<f.length;g++)if(Jb(f[g],this.body.g.position)){var h;h=f[g];for(var k=this.body.g.position,m=h.length-1,q={Wm:null,Xm:null,Xd:null},p=0;p<h.length;p++){var x=Mb(h[p],h[m],k);if(null==q.Xd||x<q.Xd){var u=R(k,h[m]);Ub(u,R(k,h[p]))-u<Math.PI/2||(q.Wm=h[m],q.Xm=h[p],q.Xd=x)}m=p}h=q;if(null!=h.Xd)d=R({x:0,y:0},{x:h.Xm.x-h.Wm.x,y:h.Xm.y-h.Wm.y})-Math.PI/2,c=!0;else{f=f[g];g=this.body.g.position;h={ac:null,Xd:null};for(k=0;k<f.length;k++)if(m=Q(f[k],g),null==h.Xd||m<h.Xd)h.Xd=
m,h.ac=f[k];f=h;f.Xd<N[this.i.O].Pa&&(d=R(f.ac,this.body.g.position),c=!0)}break}this.Eq=c?d:null}null!=this.Eq&&(c=new b2Vec2(Math.cos(this.Eq),Math.sin(this.Eq)),c.ga(this.pa*this.Nn),0<this.sa.open&&"normal"==L&&this.wm?c.ga(1.5):("goo"==this.type||"disabler"==this.type)&&0<this.sa.open?c.ga(0):"harpoon"==this.type&&0<this.sa.open&&c.ga(.6),this.body.ia(c,this.body.h.m))}this.bi&&(!this.zf&&Qb(0,this.body.g.position)&&(this.$b(this.pg),this.Ac=this.Yh=this.pg,this.zf=!0),0<this.Bh&&(this.Bh-=dt),
Qb(0,this.body.g.position)||(this.zf=!1,this.$b(100,!0),this.Ac=0),0<this.Ac&&(this.Ac-=dt,this.$b(100,!0)));this.move();this.Sc(b)}};l.Sc=function(){};l.mt=function(){};l.Iy=function(){return this.o.body.g.position};
l.move=function(){if(!(this.o.P||0<this.s[0])){this.Qd+=1;if(0==this.Qd%4||this.Qd>=this.xe){var a=this.Iy();if(!a)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a==this.o.body.g.position||this.Qd>=this.xe||this.path&&!Hb(this.body.g.position,this.path[0],this.i.kf)){var b=Sb(this.v.Eb,this.body.g.position,a,this.v.i.Dp);this.path=null!=b.path?b.path:null;this.Qd=Math.floor(.25*Math.random()*this.xe)}}if(this.path){b=this.path[0];if(0==this.Qd%4){for(;0<this.path.length&&
1>Q(b,this.body.g.position);)this.path=this.path.slice(1),b=this.path[0];if(!b||!Hb(this.body.g.position,b,this.i.kf))return;a==this.o.body.g.position&&Hb(this.body.g.position,this.o.body.g.position,this.i.kf)&&(this.path=[this.o.body.g.position],b=this.path[0])}if(this.Jd){if(this.rw==this.TE){a=Ob(this.body.g.position,4*this.N,this.i.r,function(a){return a.body.g.position});this.qw=!1;for(var c=0;c<a.length;c++)if(a[c].id>this.id&&"fighter_bullet"!=a[c].type){this.qw=!0;break}this.rw=0}this.rw++}this.Jd&&
this.qw||!b||this.Tr(b)}}};l.Tr=function(a){var b=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);b.zb();this.Pj(b);this.body.ia(b,this.body.h.m);this.Pf&&Nc(this,a)};l.Pj=function(a){a.ga(this.pa)};function Nc(a,b){a.Dg(R(a.body.g.position,b))}l.Dg=function(a){this.Hj-=1;0>=this.Hj&&(this.body.vb(a),this.Hj=this.Oy);this.Ue=a};
l.Kc=function(a){this.P=a;this.tb=this.Ya;this.wk=!0;if("kill"==this.P&&!this.o.P&&(this.v.H.se+=1,G[this.type].Qi?G[G[this.type].Qi].se+=1:G[this.type].se+=1,!this.i.ta)){var b=this.v.H.pe*this.Ic;A.fc&&Oc(this.v,b,this.color,this.body.g.position.x,this.body.g.position.y,20);this.v.H.Xc+=b;Pc(this.v);Qc(this.v)}"accident"!=this.P&&"fade"!=this.P&&"absorbed"!=this.P&&("tank"==this.type?ec("tdeath"):"troll"==this.type&&"hit_player"==this.P&&0>=this.s[1]||ec("sdeath"));Lc(this.i,this.type,this.body.g.position,
this.body.q);this.nx(a)};l.nx=function(){};
l.Ze=function(a){if(!this.P){if(0<this.sa.open&&("mote"==a.type||"troll"==a.type)){var b=this.body.q,c=this.body.X/a.body.X;a.body.ia(new b2Vec2(.2*b.x*c,.2*b.y*c),a.body.g.position);this.body.Gl(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))}if(a===this.o){if(this.v.ta&&!this.Ai&&50<this.body.q.ig()&&(b=this.body.q,c=this.body.X/a.body.X,a.body.ia(new b2Vec2(b.x*c*.5,b.y*c*.5),a.body.g.position),this.body.Gl(new b2Vec2(b.x*c/(1+c),b.y*c/(1+c)))),this.Jo&&this.Kc("hit_player"),0>=this.s[1]||this.Py)this.$f(),
!this.i.ta&&0>=this.s[1]&&Rc(this.v)}else a instanceof Fa&&0<a.sa.open&&this.open(a.sa.open)}};l.$f=function(){"easy"==L&&this.o.di(300);"normal"==L&&this.o.di(500)};
l.Y=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0,d=this.body.g.position;a.save();a.translate(d.x*b,d.y*b);a.rotate(this.Ue);d=G[this.type].images.normal.height;a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);var f=this.P&&"fade"!=this.P?1+this.Fe*c:1,g=d;if(0<this.s[3]){var c=this.s[3]/this.Gr,h=1;.1>c?(c=1-c/.1,h=this.ep*c+this.Nk*(1-c)):.9<c?(c=(c-.9)/.1,h=this.ep*c+this.Nk*(1-c)):h=this.Nk;g*=
h}g*=f;a.drawImage(G[this.type].images[this.Dj()],0,0,d,d,-g/2,-g/2,g,g);0<this.s[3]&&a.drawImage(G[this.type].images[this.Dj()],0,0,d,d,-g/2,-g/2,g,g);a.restore();this.Dd(a,b)}};l.Dd=function(){};l.gh=function(){};l.uu=function(){};l.fm=function(){};l.cm=function(){};l.dm=function(){};l.Gf=function(a,b,c,d){d||(this.open(this.Qj),this.sa.impulsed+=this.ap);this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.m);d&&!this.Rf||this.Re(a,b,c)};l.Re=function(){};
function Ec(a,b){a.di(2E3);a.sa.open=0;a.sa.ulted=2E3;b&&a.body.Gl(new b2Vec2(0,0))}l.di=function(a){this.s[0]=Math.max(a,this.s[0]);this.s[1]=Math.max(a,this.s[1])};l.$b=function(a,b){b&&(this.vf=b);this.s[1]=Math.max(a,this.s[1])};l.Du=function(a){this.s[2]=Math.max(a,this.s[2])};l.dp=function(a){this.s[3]=Math.max(a,this.s[3]);this.Gr=this.s[3];this.ep=1;this.Nk=1/this.Tf};l.open=function(a){this.sa.open=Math.max(a,this.sa.open)};
l.Bu=function(a,b){for(var c=null,d=null,f="polygon"==this.QF?this.vF:0,g=0;g<this.Sv.length;g++)for(var h=this.Sv[g],k=h.length-1,m=0;m<h.length;m++){var q=Lb({x:this.body.g.position.x+h[m].Z*Math.cos(h[m].ii+f),y:this.body.g.position.y+h[m].Z*Math.sin(h[m].ii+f)},{x:this.body.g.position.x+h[k].Z*Math.cos(h[k].ii+f),y:this.body.g.position.y+h[k].Z*Math.sin(h[k].ii+f)},a,b);if(null!=q){k=Q(q,a);if(null==d||k<d)c=q,d=k;k=m}}return{AD:c,Xd:d}};l.Ej=function(){return[this.body.g.position]};
l.Dj=function(){if(!this.P){if(0<this.sa.ulted)return"ulted";if(0<this.sa.impulsed)return"impulsed";if(0<this.s[0])return"stunned";if(this.vf)return"silenced";if(0<this.s[2])return"gooed"}return this.Xo()};l.Xo=function(){return"normal"};l.Gk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a||"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Qu:"ulted"==a?v.impulse_blue:"white"==a?"white":"black"==a?"black":"world"==a.slice(0,5)?v["world "+a.slice(5,6)+" lite"]:this.Wo(a)};
l.Wo=function(){};function Sc(){}Sc.prototype=new Fa;l=Sc.prototype;l.constructor=Sc;l.ka=function(a,b,c,d,f){this.mC(a,b,c,d,f);this.jd=1E3;this.Ke=10;this.v.wi&&this.v.i.ic&&(this.jd=6600);this.lc=this.jd};l.mC=Fa.prototype.ka;l.Rf=!0;function Tc(a){if(a.P)return 0;var b=Math.min(775/F-a.body.g.position.x,a.body.g.position.x-25/F);a=Math.min(575/F-a.body.g.position.y,a.body.g.position.y-25/F);return Math.min(b,a)/(275/F)}function Uc(a){console.log(a.Ke);return a.Ke}
l.Gf=function(a,b,c){this.qb&&(this.body.ia(new b2Vec2(Uc(this)*b*Math.cos(c),Uc(this)*b*Math.sin(c)),this.body.h.m),this.Re(a,b,c))};l.Re=function(){this.Ec=this.Er};l.di=function(){};l.$b=function(){};l.Du=function(){};l.dp=function(){};l.open=function(){};Vc.prototype=new Sc;l=Vc.prototype;l.constructor=Vc;
function Vc(a,b,c,d,f){this.type="fourth boss";this.ka(a,b,c,d,f);this.Hf=!1;this.Fe=5;this.Jd=!1;this.$h=!0;this.body.vb(Math.PI/2);this.visibility=0;this.Ya=2E3;this.lc=this.jd=2300;this.qb=!1;this.ee=Math.PI/2;this.kA=2E4;"easy"==L&&(this.kA=3E4);this.$j=.2;this.vE={stunner:8,spear:5,tank:6,mote:6,goo:1,harpoon:4,orbiter:5,disabler:1,fighter:3,slingshot:4,troll:6,deathray:2};this.wE={stunner:6,spear:4,tank:4,mote:4,goo:1,harpoon:3,orbiter:3,disabler:1,fighter:2,slingshot:2,troll:4,deathray:1};
this.xE={stunner:10,spear:10,tank:75,mote:10,goo:20,harpoon:20,orbiter:8,disabler:20,fighter:30,slingshot:10,troll:10,deathray:50};this.mA="stunner spear harpoon fighter troll goo orbiter deathray slingshot mote tank disabler".split(" ");this.Yv=0;this.uE=22E3;this.yE=0;this.Fr=this.az=2;this.$y=Math.PI/4;this.kc=5E3;this.ze=[this.kc,this.kc/2];this.On=.25;this.yj=200;this.Kp=2;this.Ip=0;this.Jp=500;this.hj=[!1,!1];this.tr=[!1,!1];this.sl=1;this.ya=10;this.body.Be(10);this.gl=5;this.Ye=[];this.xx=
1E4;"easy"==L&&(this.xx=12E3);this.Hq=!1;this.Qn=this.wx=1250;this.zi=!1;this.by=!0;this.oj=G[this.type].oj;for(a=0;a<this.gl;a++)b=(a+.5)/this.gl*Math.PI*2+this.body.ha(),c=Xb(this.wa,G[this.type].WB,this.body.g.position.x+1.5*this.N*Math.cos(Math.PI/5)*Math.cos(b),this.body.g.position.y+1.5*this.N*Math.cos(Math.PI/5)*Math.sin(b),10,17,"static",this),c.vb(b),this.Ye.push({type:"body",Me:a,body:c,size:this.oj*(.8+.2*Wb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3))});this.AA=4E3;this.tE=2E3;
this.Wt=0;this.kd=100;this.Ry=5;this.Nu=30;this.Sy=12E4;"easy"==L&&(this.Sy=9E4);this.Ke=this.Ry;this.eu=25E3;this.Id=this.eu-1;this.Go=this.vk=this.Rg=1E3;this.af=document.createElement("canvas");this.km=this.af.getContext("2d");this.af.width=200;this.af.height=200;this.Fo=0;this.km.beginPath();this.km.moveTo(100+100*Math.cos(8*Math.PI/5),100+100*Math.sin(8*Math.PI/5));for(a=0;5>a;a++)this.km.lineTo(100+100*Math.cos(2*Math.PI*a/5),100+100*Math.sin(2*Math.PI*a/5));this.km.closePath();this.km.fillStyle=
"black";this.km.fill();this.fu=!1}l.Y=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ha(),2*this.N*b,2*this.N*b,"adrogantia_head",zb);this.Dd(a,b);a.restore()}};
l.uu=function(a,b){a.save();a.globalAlpha=1;var c=this.body.g.position;if(0<this.Id){var d=1-this.Id/this.eu,f=this.N*d*b;this.Fo=this.body.ha();a.save();a.globalAlpha*=.5;a.translate(c.x*b,c.y*b);a.rotate(this.Fo);a.drawImage(this.af,0,0,this.af.width,this.af.height,-f,-f,2*f,2*f);a.restore()}else this.Id>-this.Rg?(this.fu||(this.fu=!0,ec("b4darkness")),d=this.Id/-this.Rg,f=(this.N*(1-d)+60*d)*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.Fo),a.drawImage(this.af,0,0,this.af.width,
this.af.height,-f,-f,2*f,2*f),a.restore()):this.Id>-(this.Rg+this.vk)?(f=60*b,a.save(),a.globalAlpha*=.5,a.translate(c.x*b,c.y*b),a.rotate(this.Fo),a.drawImage(this.af,0,0,this.af.width,this.af.height,-f,-f,2*f,2*f),a.restore()):this.Id>-(this.Rg+this.vk+this.Go)&&(d=1-(this.Id+this.Rg+this.vk)/-this.Go,f=60*b,a.save(),a.globalAlpha=.5*a.globalAlpha*d,a.translate(c.x*b,c.y*b),a.rotate(this.Fo),a.drawImage(this.af,0,0,this.af.width,this.af.height,-f,-f,2*f,2*f),a.restore());a.restore()};
l.Dd=function(a,b){Wc(this);for(var c in this.Ye)if("body"==this.Ye[c].type){var d=this.Ye[c],f=d.body.g.position,g=d.body.ha();a.save();J(a,f.x*b,f.y*b,g,d.size*b*2,d.size*b*2,"adrogantia_body_bud",zb);a.restore()}};
l.Sc=function(a){if(0<this.lc)this.lc=Math.max(this.lc-a,0),this.visibility=1-this.lc/this.jd;else{0==this.qb&&(this.qb=!0,this.visibility=1);this.Ke<this.Nu&&(this.Ke+=(this.Nu-this.Ry)*a/this.Sy,this.Ke=Math.min(this.Ke,this.Nu));if(this.by){this.zi=!0;for(var b=0;b<this.gl;b++){var c=null,c=0==b?{type:"attack",Me:b,lm:0,body:null,qr:null,vm:null}:{type:"spawn",Me:b,lm:0,body:null,qr:null,vm:null};this.Ye.push(c);Xc(this,c)}this.by=!1}for(var d in this.Ye)if(b=this.Ye[d],"attack"==b.type||"spawn"==
b.type){var b=this.Ye[d],c=this.Ye[d].Me,f=c/this.gl*Math.PI*2+this.body.ha();if(0<b.lm&&!this.zi)b.lm-=a;else if(null==b.body)b.type=null,Xc(this,b);else{var g=Math.max(.1,Wb(.15,.85,Math.min(1,1-b.vm/b.qr))*G["boss four "+b.type+"er"].N),h=this.N+g,h={x:this.body.g.position.x+h*Math.cos(f),y:this.body.g.position.y+h*Math.sin(f)};b.yf.rs(g);b.body.vb(f);b.body.hi(h);b.vm-=a;0>b.vm&&!this.Vj&&(this.Vj=b,this.vx=c/this.gl*Math.PI*2)}}d=R(this.body.g.position,Fc(this.o));for(var k in this.i.r)b=this.i.r[k],
b.P||b==this||"boss four attacker"==b.type||"boss four spawner"==b.type||(6>Q(b.body.g.position,this.body.g.position)?b.Kc("absorbed"):8>Q(b.body.g.position,this.body.g.position)&&(c=Ub(d,R(this.body.g.position,b.body.g.position)),b.body.ia(new b2Vec2(5*b.pa*Math.cos(c),5*b.pa*Math.sin(c)),b.body.h.m),c=c<d?c+Math.PI/2:c-Math.PI/2,b.body.ia(new b2Vec2(b.pa*Math.cos(c),b.pa*Math.sin(c)),b.body.h.m)));0>this.Id&&this.Id>-this.Rg?(k=this.Id/-this.Rg,this.i.um=1-k):this.Id<-(this.Rg+this.vk)&&this.Id>
-(this.Rg+this.vk+this.Go)?(k=(this.Id+this.Rg+this.vk)/-this.Go,this.i.um=k):0<=this.Id&&(this.i.um=1);if(this.Vj)if(this.Hq)this.Qn-=a,0>this.Qn&&Yc(this,this.Vj);else{k=this.body.ha();if("attack"==this.Vj.type)var m=Ub(k,R(this.body.g.position,Fc(this.o))-this.vx);else"spawn"==this.Vj.type&&(this.zi?m=Ub(k,Math.PI/2):(null==this.gw&&Zc(this),m=Ub(k,this.gw-this.vx)));d=this.AA;Vb(k,m)<2*Math.PI*a/d?(this.body.vb(m),this.Hq=!0,this.zi?this.Qn=0:(this.Qn=this.wx,this.Vj.yf.ur=!0)):m>k?this.body.vb(this.body.ha()+
2*Math.PI*a/d):this.body.vb(this.body.ha()-2*Math.PI*a/d)}this.yE<=this.uE-500&&(this.ya=G["fourth boss"].ya);Wc(this);this.ee+=a/this.kA*Math.PI*2;k=m=null;d={x:this.body.g.position.x+100*Math.cos(this.ee),y:this.body.g.position.y+100*Math.sin(this.ee)};if(0>=this.Fr)for(this.Fr=this.az,b=0;b<this.i.r.length;b++)this.i.r[b].id!=this.id&&this.i.r[b]instanceof $c&&this.i.r[b].qb&&Tb(this.ee-this.$y,this.ee+this.$y,R(this.body.g.position,this.i.r[b].body.g.position))&&(c=this.i.r[b].Bu(this.body.g.position,
d).Xd,null==m||null!=c&&c<m)&&(m=c,k=this.i.r[b]);else m=this.wf,k=this.Tx;this.Fr-=1;c=this.o.Bu(this.body.g.position,d).Xd;if(null==m||null!=c&&c<m)m=c,k=this.o;k instanceof $c&&k.id!=this.Tx.id&&k.qb&&(d=k,0>=d.s[1]&&(d.vs=!0,d.kn=d.Xv));this.Tx=k;this.wf=m;"normal"==L&&(this.Id-=a,0>this.Id&&this.Id<-(this.Rg+this.vk+this.Go)&&(this.Id=this.eu,this.fu=!1))}};
function Zc(a){var b=2*Math.random()*Math.PI,c={x:a.body.g.position.x+15*Math.cos(b),y:a.body.g.position.y+15*Math.sin(b)},d=Math.min(775/F-c.x,c.x-25/F),f=Math.min(575/F-c.y,c.y-25/F);Hb(a.body.g.position,c,a.i.kf)&&10<Math.min(d,f)?a.gw=b:Zc(a)}
function Yc(a,b,c){if(a.zi)for(a.zi=!1,b=0;b<a.Ye.length;b++)c=a.Ye[b],"spawn"==c.type&&Yc(a,c,!0);else if("attack"==b.type)b.yf.dir={x:b.body.g.position.x-a.body.g.position.x,y:b.body.g.position.y-a.body.g.position.y},b.body=null,b.lm=0,a.Vj=null,a.Hq=!1,b.yf.body.jg(),b.yf=null,ec("b4attacker");else if("spawn"==b.type){a.Vj=null;a.Hq=!1;b.lm=0;b.body=null;var d=R(a.body.g.position,b.yf.body.g.position),d=new b2Vec2(Math.cos(d),Math.sin(d));d.ga(a.tE);b.yf.body.ia(d,b.yf.body.h.m);b.yf.qb=!0;b.yf.ur=
!1;1!=c&&b.yf.$b(5E3,!0,!0);Mc(b.yf);b.yf.body.jg();b.yf=null;a.gw=null;ec("b4spawner")}}
function Wc(a){for(var b=.8+.2*Wb(.15,.85,Math.abs(1E3-(new Date).getTime()%2E3)/1E3),c=[],d=0;5>d;d++)c.push({x:Math.cos(2*Math.PI*d/5)*b*a.oj,y:Math.sin(2*Math.PI*d/5)*b*a.oj});for(d in a.Ye){var f=a.Ye[d];if("body"==f.type){var f=a.Ye[d],g=(a.Ye[d].Me+.5)/a.gl*Math.PI*2+a.body.ha();f.body.Gc.eb.$=c;f.body.hi({x:a.body.g.position.x+(a.N+b*a.oj)*Math.cos(Math.PI/5)*Math.cos(g),y:a.body.g.position.y+(a.N+b*a.oj)*Math.cos(Math.PI/5)*Math.sin(g)});f.body.vb(g);f.size=b*a.oj}}}
function ad(a){for(var b=0,c=0;c<a.i.r.length;c++)"boss four spawner"==a.i.r[c].type&&(b+=1);return b}
function Xc(a,b){if(null==b.type){a.Wt+=1;var c=4;.5>Tc(a)&&3<ad(a)&&(c*=1.5);2>ad(a)&&(c=3);b.type=0==a.Wt%c?"spawn":"attack"}var c=b.Me/a.gl*Math.PI*2+a.body.ha(),d=a.N+1.5*G["boss four "+b.type+"er"].Wy,f=a.body.g.position.x+d*Math.cos(c),d=a.body.g.position.y+d*Math.sin(c),g=null;"attack"==b.type?g=new bd(a.wa,f,d,a.i.vc,a.v,.1):(a.Yv+=1,g=a.mA[(a.Yv-1)%a.mA.length],g=new $c(a.wa,f,d,a.i.vc,a.v,g,"easy"==L?a.wE[g]:a.vE[g],a.xE[g],a,.1));b.body=g.body;b.yf=g;b.body.vb(c);a.i.ci.push(g);a.i.vc+=
1;b.qr=a.zi&&"spawn"==b.type?1E3:a.xx;b.vm=b.qr}
l.gh=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){a.save();var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.yk(a,b);this.qb&&(a.beginPath(),c=null!=this.wf?this.wf:100,a.moveTo((this.body.g.position.x+this.$j*Math.cos(this.ee+Math.PI/2))*b,(this.body.g.position.y+this.$j*Math.sin(this.ee+Math.PI/2))*b),a.lineTo((this.body.g.position.x+this.$j*Math.cos(this.ee-Math.PI/2))*b,(this.body.g.position.y+
this.$j*Math.sin(this.ee-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.ee)+this.$j*Math.cos(this.ee-Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.ee)+this.$j*Math.sin(this.ee-Math.PI/2))*b),a.lineTo((this.body.g.position.x+c*Math.cos(this.ee)+this.$j*Math.cos(this.ee+Math.PI/2))*b,(this.body.g.position.y+c*Math.sin(this.ee)+this.$j*Math.sin(this.ee+Math.PI/2))*b),a.closePath(),a.globalAlpha*=.5,a.fillStyle="black",a.fill(),a.globalAlpha=1);a.restore()}};
l.yk=function(a,b){var c=this.body.g.position;J(a,c.x*b,c.y*b,this.body.ha(),200,200,"adrogantia_glow",zb)};l.move=function(){};l.Ze=function(a){this.P||a!==this.o||(a=R(this.body.g.position,Fc(this.o)),this.o.body.ia(new b2Vec2(this.kd*Math.cos(a),this.kd*Math.sin(a)),this.o.body.h.m))};l.Ej=function(){for(var a=[],b=0;b<this.Eg[0].length;b++){var c=this.body.g.position.yb();c.Lg(this.Eg[0][b]);a.push(c)}return a};l.rr=function(){};bd.prototype=new Fa;l=bd.prototype;l.constructor=bd;function bd(a,b,c,d,f,g){this.type="boss four attacker";this.ka(a,b,c,d,f);this.size=g;this.Pf=!1;this.kd=100;this.oA=200;this.dir=null;this.Mn=this.ur=!1}
l.Y=function(a,b){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha*=1-c;this.ur?J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ha(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud_firing",zb):J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ha(),this.size*b*2,this.size*b*2,"adrogantia_attack_bud",zb);a.restore()};
l.Sc=function(){if(this.dir){var a=new b2Vec2(this.dir.x,this.dir.y);a.zb();a.ga(this.pa);"easy"==L&&a.ga(.5);this.body.ia(a,this.body.h.m)}};l.move=function(){};
l.Ze=function(a){if(!(this.P||0<this.s[1]))if(a===this.o){var b=R(this.body.g.position,this.o.body.g.position);this.o.body.ia(new b2Vec2(this.kd*Math.cos(b),this.kd*Math.sin(b)),this.o.body.h.m)}else if(this.dir&&"boss four spawner"==a.type){var b=R({x:0,y:0},this.dir),c=Ub(b,R(this.body.g.position,a.body.g.position)),b=b<c?b-Math.PI/2:b+Math.PI/2;a.body.ia(new b2Vec2(this.oA*Math.cos(b),this.oA*Math.sin(b)),a.body.h.m)}else this.dir&&"fourth boss"!=a.type&&(R(this.body.g.position,a.body.g.position),
b=new b2Vec2(this.dir.x,this.dir.y),b.zb(),b.ga(100*a.pa),a.body.ia(b,a.body.h.m))};l.Gf=function(){};l.Yq=function(){if(this.dir)for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){0>=this.sa.open&&this.bn?this.Kc("accident"):this.Kc("kill");break}};l.rs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Gc.eb.$=b;this.size=a;this.body.jg()};$c.prototype=new Fa;l=$c.prototype;l.constructor=$c;function $c(a,b,c,d,f,g,h,k,m,q){this.type="boss four spawner";this.ka(a,b,c,d,f);this.To=g;this.color="black";this.Yy=G[this.To].color;this.vs=!1;this.lA=h;this.FD=k;this.size=q;this.Pf=!1;this.parent=m;this.ur=this.qb=!1;this.Xv=1E3;this.kn=0;this.Ke=2;this.kd=100}
l.Sc=function(a){if(!this.P&&(this.qb&&(0<this.kn?(this.rs(G[this.type].N*(1+Wb(.15,.85,.5-Math.abs(this.kn/this.Xv-.5)))),this.kn-=a):this.size!=G[this.type].N&&this.rs(G[this.type].N)),this.vs&&this.kn<this.Xv/2)){ec("b4spawneract");a=R(this.parent.body.g.position,this.body.g.position);for(var b=0,c=Math.max(this.lA,4),d=0;d<this.lA;d++){if(this.i.vj[this.To]+d>=this.i.sm[this.To][6]){this.$b(500);this.vs=!1;return}for(var f=a+2*Math.PI*(b+1/((b-b%c)/c+1))/c;!Hb(this.body.g.position,{x:this.body.g.position.x+
10*Math.cos(f),y:this.body.g.position.y+10*Math.sin(f)},this.i.kf);)b+=1,f=a+2*Math.PI*(b+1/((b-b%c)/c+1))/c;var g=[this.body.g.position.x+2*this.N*Math.cos(f),this.body.g.position.y+2*this.N*Math.sin(f)],g=new G[this.To].className(this.wa,g[0],g[1],this.i.vc,this.v),f=new b2Vec2(Math.cos(f),Math.sin(f));f.ga(this.FD);g.body.ia(f,g.body.h.m);g.Qd=g.xe;this.i.ci.push(g);this.i.vc+=1;b+=1}this.vs=!1;this.$b(1E3)}};
l.rs=function(a){for(var b=[],c=0;5>c;c++)b.push({x:Math.cos(2*Math.PI*c/5)*a,y:Math.sin(2*Math.PI*c/5)*a});this.body.Gc.eb.$=b;this.size=a;this.body.jg()};l.Dd=function(a,b){0<this.s[1]&&this.vf&&!this.P&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.N*b*1.5,-.5*Math.PI,-.5*Math.PI+this.s[1]/this.LC*Math.PI*1.998,!0),a.lineWidth=2,a.strokeStyle="red",a.stroke())};l.$b=function(a,b){b&&(this.vf=b);this.s[1]=Math.max(a,this.s[1]);this.LC=this.s[1]};l.Ze=function(){};
l.Gf=function(a,b,c){this.qb&&(this.body.ia(new b2Vec2(this.Ke*b*Math.cos(c),this.Ke*b*Math.sin(c)),this.body.h.m),this.Re(a,b,c))};
l.Y=function(a,b){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha*=1-c;J(a,this.body.g.position.x*b,this.body.g.position.y*b,this.body.ha(),this.size*b*2,this.size*b*2,"adrogantia_spawner",zb);0<this.s[1]&&(a.globalAlpha*=.5);var d=this.To,c=this.body.g.position.x*b,f=this.body.g.position.y*b,g=this.size*b*.7,h=this.body.ha();a.save();h&&(a.translate(c,f),a.rotate(h),a.translate(-c,-f));h=Math.min(1/G[d].N,1)*g/2;"boss"==d.slice(d.length-4)&&(h=2/G[d].N*g/2);for(g=0;g<
G[d].Sb.length;g++){var k=G[d].Sb[g];Ha(a,c,f,k,h,"black")}if("undefined"!==typeof G[d].wj)for(g=0;g<G[d].wj.length;g++)k=G[d].wj[g],Ha(a,c,f,k,h,"black");d=G[d].vy;if("undefined"!==typeof d)for(g=0;g<d.length;g++)a.beginPath(),k=d[g],a.moveTo(c+h*k.x1,f+h*k.y1),a.lineTo(c+h*k.x2,f+h*k.y2),a.lineWidth=2,a.strokeStyle="black",a.stroke();a.restore();a.restore();this.Dd(a,b)};l.move=function(){};cd.prototype=new Sc;l=cd.prototype;l.constructor=cd;
function cd(a,b,c,d,f){this.type="first boss";this.wa=a;this.ka(a,b,c,d,f);this.Hf=!1;this.Fe=5;this.Fg=this.kc=562.5;this.Jd=!1;this.$h=!0;this.kc=3E3;this.eA=2;this.Ok=2E4;this.Zd=this.Ok-1;this.Ei=6E3;this.qb=this.fp=!1;this.pr=["stunner","spear","tank"];this.ln={stunner:5,spear:3,tank:20};this.Pf=!1;this.body.vb(Math.PI/2);this.Vy=Math.PI/2;this.visibility=0;this.Ya=2E3;this.BA=1E3;"easy"==L&&(this.BA=1500);this.AA=5E3;this.body.Be(100*G[this.type].ya);this.Mf=40;"easy"==L&&(this.Mf=30);this.KC=
1;this.Rz=8;this.mx=750;this.iz=this.Yx=400;this.Uz=300;this.Qz=400;this.Lz=300;this.LD=(this.Yx+this.Qz+this.Uz+this.iz+this.Lz)/2;this.JE=1500;this.Er=150;this.Ec=0;this.bp={left:0,right:0};this.Sj={left:0,right:0};this.qf={left:this.mx,right:this.mx};this.data=G[this.type];this.state="turret";this.uc={left:"none",right:"none"};this.ib={};this.Za={};a=G[this.type].mw[0].Z;b=G[this.type].$u[0].Z;c=G[this.type].Eu[0].Z;d=this.N;f=this.body.g.position.x;var g=this.body.g.position.y,h=this.KC;this.Za.lu=
Xb(this.wa,G[this.type].mw,f+d+a-2*h,g,.01,8,"dynamic",this);this.ib.lu=dd(this,new b2Vec2(f+d-h,g),this.body,this.Za.lu);this.Za.ll=Xb(this.wa,G[this.type].$u,f+d+2*a+b-4*h,g,.01,8,"dynamic",this);this.ib.ll=dd(this,new b2Vec2(f+d+2*a-3*h,g),this.Za.lu,this.Za.ll);this.Za.lh=Xb(this.wa,G[this.type].Eu,f+d+2*a+2*b-4*h+.25*c,g,.01,8,"dynamic",this);this.Za.lh.vb(Math.PI/4);this.ib.lh=dd(this,new b2Vec2(f+d+2*a+2*b-4*h+.25*c,g),this.Za.ll,this.Za.lh);this.Za.ru=Xb(this.wa,G[this.type].mw,f-(d+a-2*h),
g,.01,8,"dynamic",this);this.ib.ru=dd(this,new b2Vec2(f-(d-h),g),this.body,this.Za.ru);this.Za.rl=Xb(this.wa,G[this.type].$u,f-(d+2*a+b-4*h),g,.01,8,"dynamic",this);this.ib.rl=dd(this,new b2Vec2(f-(d+2*a-3*h),g),this.Za.ru,this.Za.rl);this.Za.rh=Xb(this.wa,G[this.type].Eu,f-(d+2*a+2*b-4*h+.25*c),g,.01,8,"dynamic",this);this.Za.rh.vb(Math.PI/4);this.ib.rh=dd(this,new b2Vec2(f-(d+2*a+2*b-4*h+.25*c),g),this.Za.rl,this.Za.rh);this.Mk={};this.Cg={};this.Xh={left:"none",right:"none"};this.bz={left:0,right:0};
this.es=13;this.Zm={left:0,right:0};this.hl=this.Gv=13500;this.an=2E3;this.Hv=200;this.Sz=8;this.$m=15;this.fs=150;this.ED=!1;this.Dz=1E4;this.Bz=12E3;this.Cz=6E3;this.bl=this.Dz/2;this.Sm=this.Bz;this.bn=!1;this.jz=1E3;this.bw=this.gp=0;this.Cy=!0;this.Ke=20}
function ed(a,b){var c=arm;fd(a,c,a.iz);if("left"==c){var d=a;a.uc[c]="loading";gd(a,"lu",.3*-Math.PI);gd(a,"lh",Math.PI/4);gd(a,"ll",function(){return Ub(d.ib.ll.je(),R(d.ib.ll.Ad(),Fc(d.o))-d.ib.lu.je()-(d.body.ha()-d.Vy))});a.Zm[c]=R(a.ib.ll.Ad(),b);a.Xh[c]={x:a.ib.ll.Ad().x+Math.cos(a.Zm[c])*a.es,y:a.ib.ll.Ad().y+Math.sin(a.Zm[c])*a.es};a.gp=a.jz}"right"==c&&(d=a,a.uc[c]="loading",gd(a,"ru",.3*Math.PI),gd(a,"rh",-Math.PI/4),gd(a,"rl",function(){return Ub(d.ib.rl.je(),Math.PI+R(d.ib.rl.Ad(),Fc(d.o))-
d.ib.ru.je()-(d.body.ha()-d.Vy))}),a.Zm[c]=R(a.ib.rl.Ad(),b),a.Xh[c]={x:a.ib.rl.Ad().x+Math.cos(a.Zm[c])*a.es,y:a.ib.rl.Ad().y+Math.sin(a.Zm[c])*a.es},a.gp=a.jz)}function hd(a,b,c){fd(a,b,a.Yx);"left"==b?(a.uc[b]="default",gd(a,"lu",-Math.PI/4),gd(a,"ll",Math.PI/2),gd(a,"lh",0)):"right"==b&&(a.uc[b]="default",c&&(a.uc[b]="delay_default"),gd(a,"ru",Math.PI/4),gd(a,"rl",-Math.PI/2),gd(a,"rh",0))}
function id(a,b){fd(a,b,a.JE);"left"==b?(a.uc[b]="loading_turret",gd(a,"lu",Math.PI/2),gd(a,"ll",0),gd(a,"lh",0)):"right"==b&&(a.uc[b]="loading_turret",gd(a,"ru",-Math.PI/2),gd(a,"rl",0),gd(a,"rh",0))}function gd(a,b,c){a.Mk[b]={start:a.ib[b].je(),end:c}}function fd(a,b,c){a.qf[b]=c;a.bz[b]=c}function dd(a,b,c,d){var f=new n.l.L.Vl;f.nd(c,d,b);f.rm=!0;f.lz=-Math.PI/2;f.GA=Math.PI/2;f.ar=!1;return a.wa.XA(f)}
l.Sc=function(a){this.bw+=a;1==this.i.r.length&&this.Sm>this.Cz&&(this.Sm=this.Cz);if(0<this.lc)this.lc=Math.max(this.lc-a,0),this.visibility=1-this.lc/this.jd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.Be(G[this.type].ya));0<this.Ec&&(this.Ec-=a);0<this.gp&&(this.gp-=a);"turret"==this.state?(this.bl-=a,0>this.bl&&(this.state="punching",hd(this,"left",!0),this.Sj.left=0,this.Sj.right=0,hd(this,"right",!0),this.Sm=this.Bz)):"punching"==this.state&&(this.Sm-=a,0>this.Sm&&jd(this));for(arm in this.uc){this.qf[arm]-=
a;0<this.bp[arm]&&(this.bp[arm]-=a);"none"==this.uc[arm]&&jd(this);if("turret"==this.state)var b=Ub(this.body.ha(),R(this.body.g.position,Fc(this.o))+(Math.abs(this.bw%2E3-1E3)-500)/500*Math.PI/8);else"punching"==this.state&&(b=Ub(this.body.ha(),R(this.body.g.position,Fc(this.o))));if("loading"==this.uc[arm])if(this.body.vb(b),0>this.qf[arm]){Fc(this.o).yb();var c=arm;fd(this,c,this.Qz);"left"==c&&"left"==c&&(this.Cg.ll=this.ib.ll.je(),this.Cg.lu=this.ib.lu.je(),this.Cg.lh=this.ib.lh.je(),this.uc[c]=
"punching",this.ib.ll.ph(0,Math.PI),this.ib.lu.ph(-Math.PI,Math.PI),this.ib.lh.ph(0,0));"right"==c&&(this.Cg.rl=this.ib.rl.je(),this.Cg.ru=this.ib.ru.je(),this.Cg.rh=this.ib.rh.je(),this.uc[c]="punching",this.ib.rl.ph(-Math.PI,0),this.ib.ru.ph(-Math.PI,Math.PI),this.ib.rh.ph(0,0))}else kd(this);"default"==this.uc[arm]&&(this.body.vb(b),0>this.qf[arm]?0<this.Sj[arm]?this.Sj[arm]-=a:ed(this,Fc(this.o)):kd(this));"delay_default"==this.uc[arm]&&(this.body.vb(b),this.qf[arm]<-this.LD?0<this.Sj[arm]?this.Sj[arm]-=
a:ed(this,Fc(this.o)):kd(this));if("punching"==this.uc[arm])if(0>this.qf[arm]){c=arm;this.uc[c]="paralyzed";if("right"==c)var d=["rl","ru","rh"];"left"==c&&(d=["ll","lu","lh"]);c=void 0;for(c in d){var f=d[c];this.ib[f].ph(this.ib[f].je(),this.ib[f].je())}this.qf[arm]=this.Lz}else{c=arm;if("left"==c){var f=R(this.Za.lh.g.position,this.Xh[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Za.lh.g.position,this.Xh[c]);this.ib.lu.Ad();10>g&&f.ga(g/10);"punching"==this.uc[c]&&f.ga(this.Rz);this.Za.lh.ia(f,
this.Za.lh.h.m)}"right"==c&&(f=R(this.Za.rh.g.position,this.Xh[c]),f=new b2Vec2(Math.cos(f),Math.sin(f)),g=Q(this.Za.rh.g.position,this.Xh[c]),this.ib.ru.Ad(),10>g&&f.ga(g/10),"punching"==this.uc[c]&&f.ga(this.Rz),this.Za.rh.ia(f,this.Za.rh.h.m))}"retract"==this.uc[arm]&&(0>this.qf[arm]?hd(this,arm):kd(this));"paralyzed"==this.uc[arm]&&0>this.qf[arm]&&(c=arm,fd(this,c,this.Uz),"left"==c?(this.Xh.left=null,this.uc[c]="retract",gd(this,"lu",this.Cg.lu),gd(this,"ll",this.Cg.ll),gd(this,"lh",this.Cg.lh)):
"right"==c&&(this.Xh.right=null,this.uc[c]="retract",gd(this,"ru",this.Cg.ru),gd(this,"rl",this.Cg.rl),gd(this,"rh",this.Cg.rh)));"loading_turret"==this.uc[arm]&&(this.body.vb(b),0>this.qf[arm]?this.uc[arm]="turret_firing":kd(this));if("turret_firing"==this.uc[arm]&&(this.body.vb(b),0>this.qf[arm])){g=arm;c=new b2Vec2(Math.cos(this.body.ha()),Math.sin(this.body.ha()));f=this.pr[Math.floor(Math.random()*this.pr.length)];c.zb();var h=null;"left"==g&&(h={x:this.Za.lh.g.position.x+5*c.x,y:this.Za.lh.g.position.y+
5*c.y});"right"==g&&(h={x:this.Za.rh.g.position.x+5*c.x,y:this.Za.rh.g.position.y+5*c.y});c.ga(this.ln[f]);g=new this.i.sy[f](this.wa,h.x,h.y,this.i.vc,this.v);this.i.ci.push(g);g.body.ia(c,g.body.h.m);g.di(this.bl+2E3);"stunner"==f&&g.open(1500);g.Qd=2*g.xe;g.Dg(this.body.ha());0>this.Zd&&g.dp(this.Zd+this.Ei);this.i.vc+=1;this.qf[arm]=this.BA}}if("normal"==L){if(0>this.Zd&&this.Zd>.9*-this.Ei&&!this.fp)for(this.fp=!0,ec("b1shrink"),this.Fg>this.kc/this.eA&&(this.Fg=this.kc/this.eA),this.o.dp(Math.round(this.Ei)),
b=0;b<this.i.r.length;b++)this.i.r[b].id!=this.id&&this.i.r[b].dp(Math.round(this.Ei));this.Zd<.9*-this.Ei&&this.fp&&(this.fp=!1,ec("b1grow"));this.Zd<-this.Ei&&(this.Zd=this.Ok);this.Zd-=a;if(!(this.Zd>.9*this.Ok)&&this.Zd<.175*this.Ok&&0<=this.Zd)for(a=this.Zd;a>.05*this.Ok;)a-=.05*this.Ok}}};
function kd(a){var b=arm,c=[];"left"==b&&(c=["lu","ll","lh"]);"right"==b&&(c=["ru","rl","rh"]);for(index in c){var d=c[index];if("undefined"!==typeof a.Mk[d].start&&"undefined"!==typeof a.Mk[d].end){var f=Math.max(a.qf[b]/a.bz[b],0),g=null,g="function"==typeof a.Mk[d].end?a.Mk[d].end():a.Mk[d].end,f=f*a.Mk[d].start+(1-f)*g;a.ib[d].ph(f,f)}}}
function ld(a,b,c,d,f){var g=b.g.position;0<a.Ec||0<a.bp[f]?J(c,g.x*d,g.y*d,b.ha()+Math.PI/4,64,64,"immunitas_arm_red",wb):J(c,g.x*d,g.y*d,b.ha()+Math.PI/4,64,64,"immunitas_arm",wb)}function md(a,b,c,d,f){var g=b.g.position;0<a.Ec||0<a.bp[f]?J(c,g.x*d,g.y*d,b.ha()+Math.PI/4,64,64,"immunitas_hand_red",wb):J(c,g.x*d,g.y*d,b.ha()+Math.PI/4,64,64,"immunitas_hand",wb)}
l.yk=function(a,b){var c=this.body.g.position;0<this.Ec?J(a,c.x*b,c.y*b,this.body.ha(),285,285,"immunitas_red_glow",wb):J(a,c.x*b,c.y*b,this.body.ha(),285,285,"immunitas_glow",wb);var d=[];for(index in d)if(c=d[index],this.Za[c]){var f=this.Za[c],c=f.g.position;J(a,c.x*b,c.y*b,f.ha(),190,190,"immunitas_glow",wb)}};
l.Y=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(this.visibility?this.visibility:1);ld(this,this.Za.lu,a,b,"left");ld(this,this.Za.ru,a,b,"right");ld(this,this.Za.ll,a,b,"left");ld(this,this.Za.rl,a,b,"right");md(this,this.Za.lh,a,b,"left");md(this,this.Za.rh,a,b,"right");c=this.body.g.position;0<this.Ec?J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/4,64,64,"immunitas_head_red",wb):
J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/4,64,64,"immunitas_head",wb);a.restore();this.Dd(a,b)}};
l.fy=function(a,b){var c=1-Math.max(this.Zd,0)/this.Ok;a.beginPath();var d=b*this.body.g.position.x,f=b*this.body.g.position.y;0<c&&(a.moveTo(d,f-106),a.lineTo(d+106*Math.min(1,c/.25),f-106+106*Math.min(1,c/.25)));.25<c&&(a.moveTo(d+106,f),a.lineTo(d+106-106*Math.min(1,(c-.25)/.25),f+106*Math.min(1,(c-.25)/.25)));.5<c&&(a.moveTo(d,f+106),a.lineTo(d-106*Math.min(1,(c-.5)/.25),f+106-106*Math.min(1,(c-.5)/.25)));.75<c&&(a.moveTo(d-106,f),a.lineTo(d-106+106*Math.min(1,(c-.75)/.25),f-106*Math.min(1,(c-
.75)/.25)));a.lineWidth=15;a.strokeStyle=v["boss 1"];a.stroke()};function nd(a,b,c){for(var d=0;d<a.Sz;d++){var f=d/a.Sz*Math.PI*2;J(b,a.body.g.position.x*c+(a.$m+.9)*c*Math.cos(f),a.body.g.position.y*c+(a.$m+.9)*c*Math.sin(f),f,70,70,"immunitas_arrow",wb);b.globalAlpha*=.8;b.beginPath();b.arc(a.body.g.position.x*c,a.body.g.position.y*c,a.$m*c,0,2*Math.PI,!1);b.strokeStyle="black";b.lineWidth=2;b.stroke();b.globalAlpha/=.8}}
l.Dd=function(a,b){this.P||(a.save(),null!=this.hl&&(this.hl<this.an?(a.beginPath(),a.globalAlpha=(this.an-this.hl)/this.an*.7,nd(this,a,b)):this.hl>this.Gv-this.an/2&&this.ED&&(a.beginPath(),a.globalAlpha=(this.hl-(this.Gv-this.an/2))/this.an/2*.7,nd(this,a,b)),this.hl<this.Hv&&(a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,(this.Hv-this.hl)/this.Hv*this.$m*b,0,2*Math.PI,!1),globalAlpha=.7,a.lineWidth=4,a.strokeStyle=this.color,a.stroke())),a.restore())};
l.gh=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){a.save();if(this.P){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;this.yk(a,b);c=this.body.g.position;a.globalAlpha*=.6;0<this.Ec?J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura_red",wb):J(a,c.x*b,c.y*b,Math.PI/4,173,173,"immunitas_aura",wb);a.globalAlpha/=.6;0<=this.Zd&&this.fy(a,b);a.globalAlpha*=.8;0>this.Zd&&this.Zd>=-this.Ei&&(c=Math.min(5-Math.abs((-this.Zd-
this.Ei/2)/(this.Ei/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Ic,Jc));a.restore()}};l.move=function(){var a=this.body.ha(),b=R(this.body.g.position,Fc(this.o));Math.min(250,Vb(a,b)/Math.PI*1E3);Tb(a-Math.PI,a,b)?this.body.vb(this.body.ha()-Math.PI/2E3):this.body.vb(this.body.ha()+Math.PI/2E3)};
l.Ze=function(a,b){if(!this.P&&this.qb)if(a==this.o&&ec("b1hit"),b==this.body){var c=R(this.body.g.position,a.body.g.position);a.body.ia(new b2Vec2(4*this.Mf*Math.cos(c),4*this.Mf*Math.sin(c)),a.body.h.m)}else{var c=R(this.body.g.position,a.body.g.position),d=this.Mf;this.fp&&(d*=2);d="punching"==this.state?1.5*d:b!=this.Za.lh&&b!=this.Za.rh?2*d:1*d;a.body.ia(new b2Vec2(d*Math.cos(c),d*Math.sin(c)),a.body.h.m)}};
l.Ej=function(){for(var a=[],b=0;b<this.Eg[0].length;b++){var c=this.body.g.position.yb();c.Lg({x:.6*this.Eg[0][b].x,y:.6*this.Eg[0][b].y});a.push(c)}return a};l.$f=function(){var a=R(this.body.g.position,Fc(this.o));this.o.body.ia(new b2Vec2(this.Mf*Math.cos(a),this.Mf*Math.sin(a)),this.o.body.h.m)};function jd(a){a.state="turret";id(a,"left");id(a,"right");a.bl=a.Dz;a.Xh.left=null;a.Xh.right=null;a.Cy&&(a.bl/=2,a.Cy=!1)}
l.rr=function(){if(Q(this.body.g.position,Fc(this.o))<=this.$m){var a=R(this.body.g.position,Fc(this.o));this.o.body.ia(new b2Vec2(this.fs*Math.cos(a),this.fs*Math.sin(a)),this.o.body.h.m)}for(a=0;a<this.i.r.length;a++)if(this.i.r[a]!==this&&Q(this.body.g.position,this.i.r[a].body.g.position)<=this.$m){var b=R(this.body.g.position,this.i.r[a].body.g.position);this.i.r[a].body.ia(new b2Vec2(this.fs*Math.cos(b),this.fs*Math.sin(b)),this.i.r[a].body.h.m);this.i.r[a]instanceof od||this.i.r[a].open(1500)}};pd.prototype=new Sc;l=pd.prototype;l.constructor=pd;
function pd(a,b,c,d,f){this.type="third boss";this.ka(a,b,c,d,f);this.Hf=!1;this.Fe=5;this.kc=1500;this.Fg=5;this.Jd=!1;this.$h=!0;this.qb=!1;this.body.vb(7*Math.PI/16);this.Ya=2E3;this.Ec=this.visibility=0;this.Er=150;this.Mf=200;"easy"==L&&(this.Mf=120);this.ce=16;this.rc={};this.ak=2200;"easy"==L&&(this.ak=2800);this.Yp=1500;"easy"==L&&(this.Yp=2E3);this.cg=this.Yp;this.cw=.7;this.Pf=!1;this.kh=16*this.ak*(1-this.cw);this.Is=4E3;"easy"==L&&(this.Is=5E3);this.tn=this.Is;this.QE=16;this.he=0;this.Tb=
"gap";this.gg=this.zl=1E3;this.dq=this.RE=2E3;this.fk=4;this.sn=4.3;this.dz=-1;this.LA=1E3;this.gi=0;this.bk=this.dw=4500;this.Xp=.75;this.su=0;this.mc="extend";this.dg=this.wl=500;this.Io=this.N+2;this.dC=18;this.mn=this.N;this.eq=0;this.Qg=qd(this);this.bg=[];this.ws=this.Zv=200;this.Hs=!1;this.sl={stunner:12,spear:9,tank:5,mote:9,goo:1,harpoon:5,disabler:1,fighter:3,troll:9};if("easy"==L)for(var g in this.sl)this.sl[g]*=.5,this.sl[g]=Math.ceil(this.sl[g]);this.ln={stunner:25,spear:18,tank:200,
mote:10,goo:200,harpoon:400,disabler:300,fighter:400,troll:20};this.rE={stunner:500,spear:1E3,tank:2E3,mote:500,goo:0,harpoon:5E3,disabler:0,fighter:5E3,troll:2E3,frenzy:1E3};this.Zj=2E4;this.Se=this.Zj-1;this.hd=7E3;this.Si=!1;this.nl=-1;this.dn=!1;for(a=0;a<this.ce;a++)b=Xb(this.wa,G[this.type].BB,this.body.g.position.x,this.body.g.position.y,10,16,"static",this),b.vb(this.body.ha()+Math.PI/(this.ce/2)*a),this.rc[a]={interval:this.ak,duration:0,$k:0,wf:this.N,body:b,cd:this.cw}}
function qd(a){var b=["tank","fighter","troll","harpoon"],c=["stunner","spear","goo","disabler"],d="mote harpoon stunner spear goo disabler tank fighter troll".split(" ");6<a.i.r.length&&(c.push("frenzy"),d.push("frenzy"));a=[];var f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b.splice(f,1);f=Math.floor(Math.random()*b.length);a.push(b[f]);d.splice(d.indexOf(b[f]),1);b=Math.floor(Math.random()*d.length);a.push(d[b]);-1!=c.indexOf(d[b])&&c.splice(c.indexOf(d[b]),1);
a.push(c[Math.floor(Math.random()*c.length)]);return a}
l.Sc=function(a){if(0<this.lc)this.lc=Math.max(this.lc-a,0),this.visibility=1-this.lc/this.jd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.Be(G[this.type].ya));this.dn&&(0==this.nl%2?this.body.vb(this.body.ha()+2*Math.PI*a/this.kh):1==this.nl%2&&this.body.vb(this.body.ha()-2*Math.PI*a/this.kh));if("normal"==L){if(0>this.Se&&!this.Si&&"activate"!=this.Tb&&"fadeout"!=this.Tb&&"gap"!=this.Tb){this.Se=0;this.Si=!0;this.o.$b(Math.round(this.hd));for(var b=0;b<this.i.r.length;b++)this.i.r[b].id!=
this.id&&this.i.r[b].$b(Math.round(this.hd),!0,!0);"fadein"==this.Tb?(this.gg=this.zl-this.gg,this.Tb="fadeout",this.he=null):"spinning"==this.Tb||"activate"==this.Tb?(this.gg=this.zl,this.Tb="fadeout","spinning"==this.Tb&&(this.he=null)):"gap"==this.Tb&&(this.dq=this.Se+this.hd);"retract"==this.mc?(this.dg=this.wl-this.dg,this.mc="extend"):"gap"==this.mc?(this.dg=this.wl,this.mc="extend"):"striking"==this.mc?(rd(this),this.mc="frenzy",this.dn=!1,this.bk=this.Se+this.hd):"frenzy"==this.mc&&(this.bk=
this.Se+this.hd);this.bg=[]}this.Si&&this.Se<-this.hd&&(this.Si=!1,this.Se=this.Zj);this.Se-=a}"extend"==this.mc?(this.dg-=a,b=Math.min(1-this.dg/this.wl,1),this.mn=this.N+b*(this.Io-this.N),sd(this,this.mn),0>this.dg&&(this.Si?(this.mc="frenzy",this.bk=this.Se+this.hd):(this.mc="striking",this.dn=!0,this.nl+=1),this.cg=0)):"striking"==this.mc?(td(this),15>=Q(this.body.g.position,Fc(this.o))?(this.cg-=a,0>=this.cg&&!(0<this.gi&&"frenzy"==this.Qg[this.he])&&(this.cg=this.Yp,ud(this))):this.cg-=a):
"retract"==this.mc?(this.dg-=a,b=Math.max(this.dg/this.wl,0),this.mn=this.N+b*(this.Io-this.N),sd(this,this.mn),td(this),0>this.dg&&(this.mc="gap")):"gap"==this.mc?td(this):"frenzy"==this.mc&&(td(this),this.cg-=a,this.bk-=a,0>=this.cg&&this.bk>this.Xp*this.ak&&(this.cg=this.Yp*this.Xp,ud(this)),0>this.bk&&(this.mc="striking",this.dn=!0,this.nl+=1,this.cg=this.Yp));if("fadein"==this.Tb)this.he=0,this.gg-=a,this.eq=Math.min(1-this.gg/this.zl,1),0>=this.gg&&(this.Tb="spinning",this.eq=1,this.tn=this.Is);
else if("spinning"==this.Tb)this.tn-=a,b=Math.pow(Math.min(1-this.tn/this.Is,1),1),this.he=Math.floor(b*this.QE)%this.fk,this.dz!=this.he&&(this.dz=this.he,ec("b3tick")),0>=this.tn&&vd(this);else if("fadeout"==this.Tb)this.gg-=a,this.eq=Math.max(this.gg/this.zl,0),0>=this.gg&&(this.Tb="gap",this.eq=0,this.dq=this.Si?this.Se+this.hd:this.rE[this.Qg[this.he]]+this.su,this.su=0,this.he=null);else if("activate"==this.Tb){if("striking"==this.mc&&"frenzy"!=this.Qg[this.he]&&(this.mc="retract",this.dn=!1,
this.dg=this.wl,rd(this)),this.gi!=this.LA||"frenzy"!=this.Qg[this.he]||this.Hs||rd(this),this.gi-=a,0>this.gi)if(this.Hs)this.Tb="fadeout",this.gg=this.zl,"gap"==this.mc&&"frenzy"!=this.Qg[this.he]&&(this.mc="extend",this.dg=this.wl);else{b=this.Qg[this.he];if("frenzy"!=b)for(var c=0;c<this.sl[b];c++)this.bg.push(b),this.gi+=this.Zv;else this.mc="frenzy",this.dn=!1,this.bk=this.dw,this.gi+=this.dw,this.cg=0;this.Hs=!0}}else"gap"==this.Tb&&(this.dq-=a,0>=this.dq&&(this.Tb="fadein",this.gg=this.zl,
this.Qg=qd(this)));0<this.bg.length&&(this.ws-=a,0>this.ws&&(this.zs(this.bg[0]),this.bg.splice(0,1),this.ws=this.Zv));0<this.Ec&&(this.Ec-=a);for(var d in this.rc)a=this.rc[d],a.body.vb(this.body.ha()+Math.PI/(this.ce/2)*d),a.body.hi(this.body.g.position),a.body.Gc.eb.$[1]={x:Math.cos(0)*a.wf,y:Math.sin(0)*a.wf},a.body.Gc.eb.$[2]={x:Math.cos(Math.PI/8)*a.wf,y:Math.sin(Math.PI/8)*a.wf}}};
function td(a){for(var b in a.rc){var c=a.rc[b];0<c.duration&&(c.duration-=dt);if(0>=c.duration)c.wf=c.Bs;else{var d=1-c.duration/c.interval,f=0;d>c.cd&&d<c.cd+.3*(1-c.cd)?f=1*(d-c.cd)/(.3*(1-c.cd)):d>=c.cd+.3*(1-c.cd)&&d<c.cd+.7*(1-c.cd)?f=1:d>=c.cd+.7*(1-c.cd)&&(f=1*(1-d)/(.3*(1-c.cd)));0<f?(c.hA||(c.hA=!0,ec("b3strike")),f=Wb(.15,.85,f),null==c.$k&&(c.$k=Q(a.body.g.position,Fc(a.o))+5,20>c.$k&&(c.$k+=10)),c.wf=c.$k*f+c.Bs*(1-f)):c.wf=c.Bs}}}
function sd(a,b){for(var c in a.rc){var d=a.rc[c];d.Bs=b;0>=d.duration&&(d.wf=b)}}function rd(a){for(var b in a.rc){var c=a.rc[b];if(0<c.duration){var d=1-c.duration/c.interval;d<c.cd?c.duration=0:d>c.cd&&d<.5*c.cd+.5&&(c.duration=2*c.interval*(.5-.5*c.cd)-c.duration)}}}
function ud(a){if("striking"==a.mc){for(var b=R(a.body.g.position,Fc(a.o)),c=Math.floor((b-a.body.ha())/(Math.PI/8));0>c;)c+=a.ce;for(var b=a.dC,d=0==a.nl%2?[c-1,c-3,c-2]:[c+3,c+1,c+2],f=d.length-1;0<=f;f--)d[f]>=a.ce&&(d[f]-=a.ce),0>d[f]&&(d[f]+=a.ce),0<a.rc[d[f]].duration&&d.splice(f,1);f=Math.floor(Math.random()*d.length);wd(a,d[f],b,a.ak)}else if("frenzy"==a.mc){b=R(a.body.g.position,Fc(a.o));for(c=Math.floor((b-a.body.ha())/(Math.PI/8));0>c;)c+=a.ce;for(var b=null,d=[c-3,c-2,c-1,c,c+1,c+2,c+
3,c+4],g=!1,f=d.length-1;0<=f;f--)0<a.rc[xd(a,d[f])].duration&&(d.splice(f,1),2<=f&&4>=f&&(g=!0));g||d.splice(d.indexOf(c+Math.floor(3*Math.random()-1)),1);f=Math.floor(Math.random()*d.length);wd(a,d[f],b,a.ak*a.Xp);d.splice(f,1);c=Math.floor(Math.random()*d.length);wd(a,d[c],b,a.ak*a.Xp);d.splice(c,1);wd(a,d[Math.floor(Math.random()*d.length)],b,a.ak*a.Xp)}}function xd(a,b){b>=a.ce&&(b-=a.ce);0>b&&(b+=a.ce);return b}
function wd(a,b,c,d){a.CE||(a.CE=b);b=xd(a,b);0>=a.rc[b].duration&&(a.rc[b].duration=d,a.rc[b].interval=d,a.rc[b].$k=c,a.rc[b].Bs=a.Io,a.rc[b].cd=a.cw,a.rc[b].hA=!1)}l.Ej=function(){for(var a=[],b=0;b<this.Eg[0].length;b++){var c=this.body.g.position.yb();c.Lg({x:this.Eg[0][b].x,y:this.Eg[0][b].y});a.push(c)}return a};
l.Y=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;if(this.qb)if("extend"==this.mc||"retract"==this.mc)c=this.body.g.position,J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/16,this.mn*b*2,this.mn*b*2,"negligentia_arm_ring",yb);else if("striking"==this.mc||"frenzy"==this.mc)c=this.body.g.position,J(a,c.x*b,c.y*b,this.body.ha()+
Math.PI/16,this.Io*b*2,this.Io*b*2,"negligentia_arm_ring",yb);if(this.qb)for(var d in this.rc)if(0<this.rc[d].duration){var c=this.rc[d].body.g.position,f=this.rc[d].body.ha();a.save();a.translate(c.x*b,c.y*b);a.rotate(f+Math.PI/16);f=this.rc[d].wf*Math.cos(Math.PI/16);J(a,f/2*b,0,0,f*b,this.rc[d].wf*Math.sin(Math.PI/16)*2*b,0<this.Ec?"negligentia_arm_striking_red":"negligentia_arm_striking",yb);a.restore()}0<this.Ec?J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/16,2*this.N*b,2*this.N*b,"negligentia_head_red",
yb):J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/16,2*this.N*b,2*this.N*b,"negligentia_head",yb);this.Dd(a,b);a.restore()}};l.yk=function(a,b){var c=this.body.g.position;0<this.Ec?J(a,c.x*b,c.y*b,this.body.ha(),300,300,"negligentia_glow_red",yb):J(a,c.x*b,c.y*b,this.body.ha(),300,300,"negligentia_glow",yb)};
l.gh=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){a.save();var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);this.Si&&0>this.Se&&this.Se>=-this.hd&&(a.save(),c=Math.min(5-Math.abs((-this.Se-this.hd/2)/(this.hd/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Ic,Jc),a.restore());this.yk(a,b);this.Si||(a.globalAlpha*=.4);for(c=0;16>c;c++){var d=this.body.g.position,f=2*Math.PI*
(c/16+.03125-.25);1-this.Se/this.Zj>1-c/16&&(0!=c||this.Si)?(a.globalAlpha*=2,J(a,(d.x+Math.cos(f)*this.N*1.8)*b,(d.y+Math.sin(f)*this.N*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura",yb),a.globalAlpha/=2):J(a,(d.x+Math.cos(f)*this.N*1.8)*b,(d.y+Math.sin(f)*this.N*1.8)*b,f+Math.PI/2,30,50,"negligentia_aura_open",yb)}a.restore()}};
l.Dd=function(a,b){a.save();a.globalAlpha*=this.eq;if("fadein"==this.Tb||"spinning"==this.Tb||"fadeout"==this.Tb||"activate"==this.Tb){var c=0<this.Ec?"negligentia_wheel_red":"negligentia_wheel";if("fadeout"==this.Tb||"activate"==this.Tb)c="negligentia_wheel_complete";var d=this.body.ha()+Math.PI/16+Math.PI/4,f=Math.PI/(this.fk/2)*(this.he+.5)+d;J(a,this.body.g.position.x*b,this.body.g.position.y*b,d+Math.PI/2*((this.he+1)%4),2*this.sn*Math.cos(Math.PI/4)*b,2*this.sn*Math.cos(Math.PI/4)*b,c,yb);if("fadein"==
this.Tb||"spinning"==this.Tb)for(c=0;c<this.fk;c++)f=Math.PI/(this.fk/2)*(c+.5)+d,"frenzy"!=this.Qg[c]?Ea(a,this.Qg[c],this.body.g.position.x*b+Math.cos(f+Math.PI/(this.fk/2)/2)*this.sn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.fk/2)/2)*this.sn*.4*b,15,f+1*Math.PI/4):Ka(a,3,this.body.g.position.x*b+Math.cos(f+Math.PI/(this.fk/2)/2)*this.sn*.4*b,this.body.g.position.y*b+Math.sin(f+Math.PI/(this.fk/2)/2)*this.sn*.4*b,20,!0,f);else("fadeout"==this.Tb||"activate"==this.Tb)&&null!=this.he&&
("frenzy"!=this.Qg[this.he]?Ea(a,this.Qg[this.he],this.body.g.position.x*b,this.body.g.position.y*b,20,f+1*Math.PI/4):Ka(a,3,this.body.g.position.x*b,this.body.g.position.y*b,50,!0,f))}a.restore()};l.fy=function(a,b){a.beginPath();var c=Math.min(1-this.Se/this.Zj,1);a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.N*b*1.5,-.5*Math.PI,-.5*Math.PI+2*Math.PI*c*.999);a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
l.zs=function(a){var b=R(this.body.g.position,Fc(this.o)),c=new this.i.sy[a](this.wa,(this.body.g.position.x+Math.cos(b)*this.N*1.25)*F/F,(this.body.g.position.y+Math.sin(b)*this.N*1.25)*F/F,this.i.vc,this.v);this.i.ci.push(c);this.i.vc+=1;"stunner"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"spear"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI/4-Math.PI/8);"tank"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.7-.35*Math.PI);"mote"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI-
.5*Math.PI);"troll"==a&&.7>Math.random()&&(b+=Math.random()*Math.PI*.8-.4*Math.PI);"harpoon"==a&&(b+=Math.random()*Math.PI/10-Math.PI/20);var d=new b2Vec2(Math.cos(b),Math.sin(b));d.ga(this.ln[a]);c.body.ia(d,c.body.h.m);c.body.vb(b);c.Qd=2*c.xe;c.pg=0;c.Bh=0;"harpoon"==a&&c.$b(500,!0)};
l.Ze=function(a,b){if(!this.P&&this.qb)if(b!==this.body)for(var c in this.rc){var d=this.rc[c],f=1-d.duration/d.interval;if(d.body==b&&(f>d.cd&&f<d.cd+.3*(1-d.cd)||1<=f||f<d.cd))if(d=R(this.body.g.position,a.body.g.position),a===this.o)a.body.ia(new b2Vec2(this.Mf*Math.cos(d),this.Mf*Math.sin(d)),a.body.h.m);else if("harpoonhead"==a.type)a.body.ia(new b2Vec2(this.ln.harpoon*Math.cos(d),this.ln.harpoon*Math.sin(d)),a.body.h.m);else{if(void 0!=this.ln[a.type])var g=G[a.type];g&&(f=a.body.X*Math.sqrt(g.ya)*
this.Mf,a.body.ia(new b2Vec2(f*Math.cos(d),f*Math.sin(d)),a.body.h.m))}}else d=R(this.body.g.position,a.body.g.position),c=1,a===this.o&&"easy"==L&&(c=.5),a.body.ia(new b2Vec2(this.Mf*c*Math.cos(d),this.Mf*c*Math.sin(d)),a.body.h.m)};function vd(a){a.Tb="activate";a.gi=a.LA;a.Hs=!1;ec("b3select")}l.Re=function(){this.Ec=this.Er;"spinning"==this.Tb&&(vd(this),this.su=this.tn)};yd.prototype=new Sc;l=yd.prototype;l.constructor=yd;
function yd(a,b,c,d,f){this.type="second boss";this.ka(a,b,c,d,f);this.Hf=!1;this.Fe=5;this.Jd=!1;this.$h=!0;this.ji=3*Math.PI/4;this.tx=3*Math.PI/16;this.CB=1*Math.PI/2;this.ki=3*Math.PI/16;this.ux=1*Math.PI/8;this.Gq=50;this.sx=.9;this.ce=4;this.rx=15E3;this.qb=!1;this.body.vb(this.ji);this.Pf=!1;this.kh=this.rx;this.visibility=0;this.Ya=2E3;this.wo=13400;this.Gd=this.wo-1;this.uk=2E3;this.bm=0;this.Fx=10;this.TB=1;this.xo=1E3;this.vo=.7;this.St=!1;this.Er=150;this.bh=this.Ec=0;this.body.Be(2*G[this.type].ya);
this.Em=2.5;this.ug=4;this.Tt=.75;this.zo=.3;this.yo=1.2;"easy"==L&&(this.Tt*=1.5,this.zo*=1.5,this.yo*=1.5);this.nA=!1;this.vl=[];this.Xb=this.sg=1;this.zA=.2;this.Ly=.125;this.kE=.025;this.ty=1E4;this.So=1E3;this.ys=[["stunner","mote"],["spear","harpoon"],["tank","goo"]];this.ou={stunner:.4,spear:.4,tank:2,mote:.2,goo:2.5,harpoon:2};this.Dv=!1;this.Ro=[];this.tl=0}
l.Sc=function(a){if(!this.nA){this.nA=!0;for(var b=[[O-80,P-80],[80,P-80]],c=0;c<b.length;c++){var d=new zd(b[c][0],b[c][1],this,this.v);d.lc=c/b.length*d.jd;this.vl.push(d)}}if(0<this.lc)this.lc=Math.max(this.lc-a,0),this.visibility=1-this.lc/this.jd;else{0==this.qb&&(this.qb=!0,this.visibility=1,this.body.Be(G[this.type].ya));this.body.vb(this.ji);0<this.Ec&&(this.Ec-=a);this.So-=a;0>this.So&&(this.So=this.ty,Ad(this.vl[0],this.ys[this.tl][0]),Ad(this.vl[1],this.ys[this.tl][1]),this.tl+=1,this.tl%=
this.ys.length);1<this.sg&&(this.sg=Math.max(1,this.sg-a/1E3*this.kE));if(this.Xb!=this.sg){this.Xb=this.Xb<this.sg?Math.min(this.Xb+this.zA*a/1E3,this.sg):Math.max(this.Xb-this.zA*a/1E3,this.sg);c=this.body.Gc;void 0===c.length&&(c=[c]);for(b=0;b<c.length;b++)for(var d=this.body.Gc.eb.$,f=this.Sb[b],g=0;g<d.length;g++)d[g]=new b2Vec2(f.x+f.Z*f.fa[g][0]*this.Xb,f.y+f.Z*f.fa[g][1]*this.Xb);this.body.jg()}c=this.tx+Math.min(1,(this.sg-1)/2)*(this.CB-this.tx);this.ki!=c&&(this.ki=this.ki<c?Math.min(this.ki+
this.ux*a/1E3,c):Math.max(this.ki-this.ux*a/1E3,c));for(var h in this.vl)this.vl[h].qa(a);this.pE&&(0>this.gA?this.pE=!1:this.gA-=a);this.ji+=2*Math.PI*a/(this.rx/this.Xb);for(c=0;c<this.i.r.length;c++)this.i.r[c].id!=this.id&&(h=R(this.i.r[c].body.g.position,this.body.g.position),b=this.ou[this.i.r[c].type]*this.Yo(this.i.r[c].body.g.position),0<b&&this.i.r[c].body.ia(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.i.r[c].body.h.m));this.bh=0;h=R(Fc(this.o),this.body.g.position);b=this.Yo(Fc(this.o));
0<b&&(this.bh+=b,this.o.body.ia(new b2Vec2(b*Math.cos(h),b*Math.sin(h)),this.o.body.h.m));if("normal"==L){if(0>this.Gd)for(this.St||(this.St=!0,ec("b2bhole")),h=-this.Gd/this.uk,this.bm=h<this.vo?h/this.vo*this.N*this.ug*this.Xb:this.N*this.Xb*this.ug*(1-(h-this.vo)/(1-this.vo)),h=1,-this.Gd/this.uk<this.vo&&(h=.05),c=0,this.Dv||(c=Q(this.body.g.position,Fc(this.o))<=this.bm?this.Fx*h*this.TB:this.zo,b=R(this.body.g.position,Fc(this.o))+Math.PI,this.bh+=c,this.o.body.ia(new b2Vec2(c*Math.cos(b),c*
Math.sin(b)),this.o.body.h.m),this.bh+=c),c=0;c<this.i.r.length;c++)-1!=this.Ro.indexOf(this.i.r[c])||this.i.r[c].P||this.i.r[c]===this||(Q(this.body.g.position,this.i.r[c].body.g.position)<=this.bm?(b=R(this.body.g.position,this.i.r[c].body.g.position)+Math.PI,d=this.Fx*this.ou[this.i.r[c].type]*h):(b=R(this.body.g.position,this.i.r[c].body.g.position)+Math.PI,d=this.zo*this.ou[this.i.r[c].type]),this.i.r[c].body.ia(new b2Vec2(d*Math.cos(b),d*Math.sin(b)),this.i.r[c].body.h.m));this.Gd<-this.uk&&
(this.Gd=this.wo,this.bm=0,this.Dv=!1,this.Ro=[],this.St=!1);this.Gd-=a}}};l.Yo=function(a){for(var b=Q(a,this.body.g.position),c=Bd(this),d=0;d<c.length;d++)if(Jb(c[d],a))return b<=this.N*this.Xb*this.Em?2*this.yo:b<=this.N*this.Xb*this.ug?1.5*this.yo:this.yo;if(b<=this.N*this.Xb*this.Em)return this.Tt;if(b<=this.N*this.Xb*this.ug)return this.zo};
l.gh=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){a.save();if(this.P){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.globalAlpha*=1-c}else a.globalAlpha*=this.visibility?this.visibility:1;0>this.Gd&&this.Gd>=-this.uk&&(a.globalAlpha*=.5,c=Math.min(5-Math.abs((-this.Gd-this.uk/2)/(this.uk/10)),1),a.globalAlpha*=c/2,a.fillStyle=this.color,a.fillRect(0,0,Ic,Jc),a.globalAlpha*=2);0>this.Gd&&this.Gd>=-this.uk&&(c=this.body.g.position,J(a,c.x*b,c.y*b,0,this.bm*b*2,this.bm*b*2,"consumendi_aura",
xb));var d=1;this.Gd>=this.wo-this.xo?d=1-(this.Gd-this.wo+this.xo)/this.xo:this.Gd<=this.xo&&0<this.Gd&&(d=this.Gd/this.xo);c=this.body.g.position;0<this.Gd&&J(a,c.x*b,c.y*b,0,90*d*this.Xb*this.Em,90*d*this.Xb*this.Em,"consumendi_aura",xb);a.save();a.globalAlpha*=.7;for(d=0;16>d;d++){var f=2*Math.PI*(d/16+.03125-.25);this.qb&&1-this.Gd/this.wo>1-d/16?J(a,(c.x+Math.cos(f)*this.N*this.Xb*this.ug)*b,(c.y+Math.sin(f)*this.N*this.Xb*this.ug)*b,f,30,56,"consumendi_small_diamond_filled",xb):J(a,(c.x+Math.cos(f)*
this.N*this.Xb*this.ug)*b,(c.y+Math.sin(f)*this.N*this.Xb*this.ug)*b,f,30,56,"consumendi_small_diamond",xb)}a.restore();this.yk(a,b);a.restore()}};
l.Y=function(a,b){if(!(0==this.qb&&this.lc>.9*this.jd)){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha=this.P?a.globalAlpha*(1-c):a.globalAlpha*(null!=this.visibility?this.visibility:1);c=this.body.g.position;0<this.Ec?J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/4,90*this.Xb,90*this.Xb,"consumendi_head_red",xb):J(a,c.x*b,c.y*b,this.body.ha()+Math.PI/4,90*this.Xb,90*this.Xb,"consumendi_head",xb);this.Dd(a,b);a.restore()}};
l.yk=function(a,b){var c=this.body.g.position;0<this.Ec?J(a,c.x*b,c.y*b,this.body.ha(),200*this.Xb,200*this.Xb,"immunitas_red_glow",wb):J(a,c.x*b,c.y*b,this.body.ha(),200*this.Xb,200*this.Xb,"consumendi_glow",xb)};
l.Dd=function(a,b){for(var c in this.vl)this.vl[c].Y(a,b,Math.max(this.So,0)/this.ty,this.ys[this.tl][c]);c=Bd(this);a.save();a.beginPath();a.rect(0,0,O,P);a.clip();for(var d=0;d<c.length;d++){a.beginPath();a.moveTo(c[d][0].x*b,c[d][0].y*b);for(var f=1;f<c[d].length;f++)a.lineTo(c[d][f].x*b,c[d][f].y*b);a.closePath();a.save();a.globalAlpha*=this.visibility/4;a.fillStyle=this.color;a.fill();var f=this.body.g.position,g=2*Math.PI*d/this.ce+this.ji;J(a,(f.x+Math.cos(g)*this.N*this.Xb*this.ug*1.5)*b,
(f.y+Math.sin(g)*this.N*this.Xb*this.ug*1.5)*b,g+Math.PI/2,50,80,"consumendi_small_arrow",xb);a.restore()}a.restore();f=Fc(this.o);c=R(f,this.body.g.position);this.o.P||(.3<=this.bh&&J(a,(f.x+2*Math.cos(c))*b,(f.y+2*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",xb),.75<=this.bh&&J(a,(f.x+2.75*Math.cos(c))*b,(f.y+2.75*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",xb),1.2<=this.bh&&J(a,(f.x+3.5*Math.cos(c))*b,(f.y+3.5*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",
xb),2<=this.bh&&J(a,(f.x+4.25*Math.cos(c))*b,(f.y+4.25*Math.sin(c))*b,c-Math.PI/2,20,10,"consumendi_small_arrow",xb))};
function Bd(a){for(var b=[],c=0;c<a.ce;c++){var d=[];d.push({x:a.body.g.position.x,y:a.body.g.position.y});d.push({x:a.body.g.position.x+a.Gq*a.sx*Math.cos(2*Math.PI*c/a.ce+a.ji-a.ki/2),y:a.body.g.position.y+a.Gq*a.sx*Math.sin(2*Math.PI*c/a.ce+a.ji-a.ki/2)});d.push({x:a.body.g.position.x+a.Gq*Math.cos(2*Math.PI*c/a.ce+a.ji+a.ki/2),y:a.body.g.position.y+a.Gq*Math.sin(2*Math.PI*c/a.ce+a.ji+a.ki/2)});b.push(d)}return b}l.move=function(){};
l.Ze=function(a){this.P||!this.qb||a.P||(a===this.o?(ec("b2eat"),R(this.body.g.position,a.body.g.position),this.Dv=!0,a.Kc("absorbed")):a!==this.o&&(ec("b2eat"),"harpoonhead"!=a.type?(a.Kc("absorbed"),this.sg+=this.Ly,this.Ro.push(a)):(a.xi.Kc("absorbed"),this.sg+=this.Ly,this.Ro.push(a),this.Ro.push(a.xi))))};l.Ej=function(){for(var a=[],b=0;b<this.Eg[0].length;b++){var c=this.body.g.position.yb();c.Lg(this.Eg[0][b]);a.push(c)}return a};function zd(a,b,c,d){this.x=a;this.y=b;this.Mc=c;this.color=this.Mc.color;this.wa=this.Mc.wa;this.v=d;this.i=this.v.i;this.o=this.v.o;this.size=60;this.visibility=0;this.pr={stunner:3,spear:3,tank:2,mote:2,goo:1,harpoon:2};this.lC={stunner:3,spear:3,tank:2,mote:1,goo:1,harpoon:1};this.Em=.75;this.ug=1.5;this.AC=.8;this.NC=.2}
zd.prototype.Y=function(a,b,c,d){a.save();a.globalAlpha*=.5;J(a,this.x,this.y,Math.PI/4,2*this.size,2*this.size,"consumendi_glow",xb);J(a,this.x,this.y,Math.PI/4,this.size,this.size,"consumendi_mini",xb);0<c&&(a.beginPath(),a.arc(this.x,this.y,.75*this.size,-.5*Math.PI,-.5*Math.PI-2*Math.PI*(1-c),!0),a.lineWidth=2,a.strokeStyle=G[d].color,a.stroke());a.restore()};
zd.prototype.qa=function(){for(var a=0;a<this.i.r.length;a++)if(this.i.r[a].id!=this.id){var b=R(this.i.r[a].body.g.position,{x:this.x/F,y:this.y/F})+Math.PI,c=this.Yo(this.i.r[a].body.g.position);0<c&&this.i.r[a].body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.i.r[a].body.h.m)}b=R(this.o.body.g.position,{x:this.x/F,y:this.y/F})+Math.PI;c=this.Yo(this.o.body.g.position);0<c&&this.o.body.ia(new b2Vec2(c*Math.cos(b),c*Math.sin(b)),this.o.body.h.m)};
zd.prototype.Yo=function(a){a=Q(a,{x:this.x/F,y:this.y/F});return a<=this.size/F*this.Em?this.AC:a<=this.size/F*this.ug?this.NC:0};function Ad(a,b){var c=a.pr[b];"easy"==L&&(c=a.lC[b]);if(a.i.vj[b]+1<=a.i.sm[b][6])for(var d=0;d<c;d++){var f=R({x:a.x/F,y:a.y/F},a.Mc.body.g.position),f=[(a.x+a.size/2*Math.cos(f))/F,(a.y+a.size/2*Math.sin(f))/F],f=new G[b].className(a.wa,f[0],f[1],a.i.vc,a.v);"harpoon"==f.type&&(f.fC=!0);a.i.ci.push(f);a.i.vc+=1}};Cd.prototype=new Fa;l=Cd.prototype;l.constructor=Cd;
function Cd(a,b,c,d,f){void 0!==a&&(this.type="deathray",this.ka(a,b,c,d,f),null!==a&&(this.Jd=!1,this.ns=10,this.Ov=2,this.FC=5,this.$h=!0,this.pw=!1,this.kc=1600,"easy"==L&&(this.kc=2E3),this.wm=!1,this.Nn=1,this.Fg=this.kc,this.On=.56,this.vi=this.yj=200,this.xj=5,this.wd=null,this.Kp=.8,this.Ip=-.5,this.Jp=400,this.xl=1E3,"easy"==L&&(this.xl=1500),this.tr=this.hj=!1,this.Fj=null,this.hs=100,this.js=Math.PI/48,this.Pf=!1,this.Ke=3,this.kd=100,this.Jo=!1))}
l.di=function(a){this.s[0]=Math.max(a,this.s[0]);this.s[1]=Math.max(a,this.s[1]);this.Yh=this.Ac=a};
l.Sc=function(a){this.hj?this.Dg(this.wd):this.Dg(R(this.body.g.position,this.o.body.g.position));this.$h!=Q(this.o.body.g.position,this.body.g.position)>this.ns&&(this.$h=!this.$h);0<this.hu&&(this.hu-=a);this.pw=Qb(this.FC,this.body.g.position);0<this.Ac&&(this.Ac-=a);if(0<this.s[1])Dd(this);else if(0>=this.Fg)if(0>=this.vi)Dd(this),this.di(this.xl);else{if(this.vi=Math.max(this.vi-a,0),ec("deathray"),this.vi<=this.yj/2&&!this.tr){a=Ed(this);this.tr=!0;if(Jb(a,this.o.body.g.position)){var b=1;0<
this.o.s[5]&&!this.o.nh&&(b*=10);0<this.o.s[2]&&(b*=.25);this.o.body.ia(new b2Vec2(b*this.Jp*Math.cos(this.wd),b*this.Jp*Math.sin(this.wd)),this.o.body.h.m);Rc(this.v)}for(b=0;b<this.i.r.length;b++)if(this.i.r[b]!=this&&Jb(a,this.i.r[b].body.g.position)){if("orbiter"==this.i.r[b].type){var c=this.i.r[b];c.rn=c.ow}this.i.r[b].body.ia(new b2Vec2(this.Jp*Math.cos(this.wd),this.Jp*Math.sin(this.wd)),this.i.r[b].body.h.m);this.i.r[b].open(2500)}}}else if(this.hj||!this.hj&&this.pw&&!this.rv)this.Fg=Math.max(this.Fg-
a,0),this.Fg<=this.kc*this.On&&!this.hj&&(this.wd=R(this.body.g.position,this.o.body.g.position),this.Fg=this.kc*this.On,this.hj=!0)};l.Dd=function(a){0<this.Ac&&!this.P&&za(a,this.body.g.position.x,this.body.g.position.y,this.N,1-this.Ac/this.Yh,"#444444",4)};function Dd(a){a.Fg=a.kc;a.vi=a.yj;a.hj=!1;a.tr=!1;a.wd=null}
function Ed(a){var b=[];b.push({x:a.body.g.position.x+a.Ip*Math.cos(a.wd)+a.Kp*Math.cos(a.wd+Math.PI/2),y:a.body.g.position.y+a.Ip*Math.sin(a.wd)+a.Kp*Math.sin(a.wd+Math.PI/2)});b.push({x:a.body.g.position.x+a.Ip*Math.cos(a.wd)+a.Kp*Math.cos(a.wd-Math.PI/2),y:a.body.g.position.y+a.Ip*Math.sin(a.wd)+a.Kp*Math.sin(a.wd-Math.PI/2)});b.push({x:b[1].x+a.hs*Math.cos(a.wd-a.js),y:b[1].y+a.hs*Math.sin(a.wd-a.js)});b.push({x:b[0].x+a.hs*Math.cos(a.wd+a.js),y:b[0].y+a.hs*Math.sin(a.wd+a.js)});return b}
l.Gf=function(a,b,c,d){d||(this.open(this.Qj),this.sa.impulsed+=this.ap);this.body.ia(new b2Vec2(this.Ke*b*Math.cos(c),this.Ke*b*Math.sin(c)),this.body.h.m);d&&!this.Rf||this.Re(a,b,c)};l.Iy=function(){if(this.$h)return null==this.Fj&&(this.Fj={x:this.i.Ui.x/F,y:this.i.Ui.y/F}),this.Fj;this.Fj=null;for(var a=N[this.v.O].Aa,b=null,c=1E3,d=0;d<a.length;d++){var f=Q({x:a[d][0]/F,y:a[d][1]/F},this.body.g.position);f<c&&(c=f,b=a[d])}return{x:b[0]/F,y:b[1]/F}};l.tj=Fa.prototype.move;
l.move=function(){this.hj||(this.$h?this.pw?(this.Fj=this.path=null,this.rv=!1):Q(this.o.body.g.position,this.body.g.position)>this.ns+this.Ov?(null==this.path&&(this.Qd=2*this.xe),this.tj(),this.rv=!0):this.Fj=null:(null==this.path&&(this.Qd=2*this.xe),this.Fj=null,this.tj(),this.rv=!0))};
l.gh=function(a,b){if(0>=this.s[1]){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha*=1-c;var d=Ed(this);if(this.Fg<=this.kc*this.On&&null!=this.wd){c=1-this.Fg/(this.kc*this.On);a.save();a.beginPath();a.globalAlpha*=Math.max(c,.2);a.moveTo(d[1].x*b,d[1].y*b);a.lineTo(d[2].x*b,d[2].y*b);a.moveTo(d[3].x*b,d[3].y*b);a.lineTo(d[0].x*b,d[0].y*b);a.lineWidth=1;a.strokeStyle=this.color;a.stroke();if(this.vi<this.yj){c=this.vi>this.yj/2?this.yj-this.vi:this.vi;c/=this.yj/2;a.globalAlpha=
c;a.beginPath();a.moveTo(d[0].x*b,d[0].y*b);for(c=1;c<d.length;c++)a.lineTo(d[c].x*b,d[c].y*b);a.closePath();a.fillStyle=this.color;a.fill()}a.restore()}a.restore()}};l.Gk=function(a){return"normal"==a?this.color?this.color:null:"stunned"==a?"#444444":"silenced"==a?"gray":"gooed"==a?"#e6c43c":"impulsed"==a?this.Qu:"ulted"==a?v.impulse_blue:"white"==a?"white":"world"==a.slice(0,5)?v["world "+a.slice(5,6)+" lite"]:this.Wo(a)};l.$b=function(a,b){b&&(this.vf=!0);this.s[1]=Math.max(a,this.s[1])};
l.Pj=function(a){Qb(-3,this.body.g.position)||a.ga(this.xj);for(var b=!1,c=0;c<this.i.de.length;c++)Jb(this.i.de[c],this.body.g.position)&&(b=!0);b?a.ga(this.Vv):(0<this.s[1]&&a.ga(.5),0<this.s[2]&&a.ga(this.jh),a.ga(this.pa))};l.$f=function(){};Fd.prototype=new Fa;Fd.prototype.constructor=Fd;function Fd(a,b,c,d,f){this.type="dumb_stunner";this.bi=!1;this.ka(a,b,c,d,f)};qe.prototype=new Fa;l=qe.prototype;l.constructor=qe;
function qe(a,b,c,d,f){void 0!==a&&(this.type="fighter",this.ka(a,b,c,d,f),this.Dq=["frenzy"],null!==a&&(this.Fe=5,this.kc=2E3,this.Aj=750,this.ze=[this.kc,2*this.kc],this.bA=.15,this.ss=[!1,!1],this.Tv=400,this.ql=0,this.aA=2.5*this.N,this.Qu=this.color,this.Jd=!1,this.ns=10,this.Ov=2,this.xj=5,this.Ku=!1,this.$h=!0,this.cA=this.N,this.dA=2*this.N,this.Yd=0,this.Ey=2500,"easy"==L&&(this.Ey=3500),this.zj=5,this.Je="normal",this.th=3,this.Pg=!1,this.kd=100,"easy"==L&&(this.kd=80),this.pj=!1,this.zD=
200,this.Ep=0,this.Jo=!1))}function re(a,b){var c=a.Ue+Math.PI/2*(b%2*2-1);return{x:a.body.g.position.x+a.dA*Math.cos(c)+a.cA*Math.cos(a.Ue),y:a.body.g.position.y+a.dA*Math.sin(c)+a.cA*Math.sin(a.Ue)}}l.Wo=function(a){if("frenzy"==a)return"red"};l.Dj=function(){if(!this.P){if(0<this.s[0])return"stunned";if("frenzy"==this.Je)return"frenzy";if(this.vf)return"silenced";if(0<this.s[2])return"gooed";if(0<this.sa.impulsed)return"impulsed"}return this.Xo()};
l.Sc=function(a){"normal"==this.Je&&this.Yd>=this.zj&&(ec("ffrenzy"),this.Je="frenzy",this.ze=[this.Aj,this.Aj],this.color="red",this.body.Be(5*G[this.type].ya));if(0>=this.s[1]&&0>=this.Ep&&Q(this.body.g.position,this.o.body.g.position)<this.aA){var b=R(this.body.g.position,this.o.body.g.position);this.o.body.ia(new b2Vec2(this.kd*Math.cos(b),this.kd*Math.sin(b)),this.o.body.h.m);Rc(this.v);this.ql=this.Tv;this.Ep=this.zD}0<this.s[1]?this.body.Be(.5*this.ya):this.body.Be(this.ya);0<this.Ep&&(this.Ep-=
a);"frenzy"==this.Je&&0>=this.Yd&&(this.Je="normal",this.ze=[this.kc,2*this.kc],this.color=G[this.type].color,this.body.Be(G[this.type].ya));for(b=0;b<this.ze.length;b++){if(0>=this.ze[b]&&!this.ss[b]&&0>=this.s[1]&&Qb(0,this.body.g.position)){var c=re(this,b);this.Ku=Hb(c,this.o.body.g.position,this.i.kf);var d=R(c,this.o.body.g.position);this.Ku?(this.ze[b]="normal"==this.Je?2*this.kc:this.Aj,ec("fbullet"),"frenzy"==this.Je?(this.Yd-=.5,c=new se(this.wa,c.x,c.y,this.i.vc,this.v,d,this.id),d=new b2Vec2(Math.cos(d),
Math.sin(d)),d.ga(2)):(c=new te(this.wa,c.x,c.y,this.i.vc,this.v,d,this.id),d=new b2Vec2(Math.cos(d),Math.sin(d)),d.ga(.5)),c.body.ia(d,c.body.h.m),this.i.ci.push(c),this.i.vc+=1):this.ss[b]=!0}this.ss[b]&&this.ze[b]<-this.bA*("normal"==this.Je?this.kc:this.Aj)&&(this.ze[b]="normal"==this.Je?2*this.kc+this.ze[b]:this.Aj,this.ss[b]=!1);Qb(0,this.body.g.position)&&(this.ze[b]-=a)}"normal"==this.Je&&0>=this.s[1]&&this.Yd<this.zj&&Qb(0,this.body.g.position)&&(this.Yd+=a/this.Ey);0<this.ql&&(this.ql-=
a)};l.$f=function(){};
l.Dd=function(a,b){if(!this.P){a.save();a.globalAlpha*=.7;if(0<this.Yd){for(var c=0;c<Math.floor(this.Yd);c++)a.beginPath(),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.N*b,-Math.PI/2+2*Math.PI*(c+1)/this.zj-Math.PI/24,-Math.PI/2+2*Math.PI*c/this.zj+Math.PI/24,!0),a.strokeStyle="red",a.lineWidth=5,a.stroke();if(0>=this.s[1]&&this.Yd<this.zj){var c=Math.floor(this.Yd),d=this.Yd-c;a.beginPath();a.arc(this.body.g.position.x*b,this.body.g.position.y*b,2*this.N*b,-Math.PI/2+2*Math.PI*
c/this.zj+Math.PI/24+(2*Math.PI/this.zj-Math.PI/12)*d,-Math.PI/2+2*Math.PI*c/this.zj+Math.PI/24,!0);a.lineWidth=5;a.strokeStyle="red";a.stroke()}}a.restore();for(c=0;c<this.ze.length;c++){var d=re(this,c),f="normal"==this.Je?this.kc:this.Aj,f=Math.max((f-this.ze[c])/f,0);if(0<f&&1>f){a.save();a.globalAlpha*=f;var g="frenzy"==this.Je?"piercing_fighter_bullet":"fighter_bullet";this.Ue?Ea(a,g,d.x*b,d.y*b,null,this.Ue):Ea(a,g,d.x*b,d.y*b,null,this.body.ha());0<this.ze[c]&&0<f&&(a.beginPath(),a.arc(d.x*
b,d.y*b,this.N*b*1,-.5*Math.PI,-.5*Math.PI+2*Math.PI*f*.999),a.lineWidth=2,a.strokeStyle=this.color,a.stroke());a.restore()}else 0>this.ze[c]&&(f=1-Math.min((f-1)/this.bA,1),a.save(),a.globalAlpha*=f,g="frenzy"==this.Je?"piercing_fighter_bullet":"fighter_bullet",this.Ue?Ea(a,g,d.x*b,d.y*b,null,this.Ue):Ea(a,g,d.x*b,d.y*b,null,this.body.ha()),a.beginPath(),a.arc(d.x*b,d.y*b,this.N*b*1,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=2,a.strokeStyle=this.color,a.stroke(),a.restore())}0<this.ql&&(c=
1-Math.abs(1-2*this.ql/this.Tv),a.save(),a.globalAlpha*=Wb(.15,.85,c),a.beginPath(),a.strokeStyle=this.color,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.aA*b,-.5*Math.PI,-.5*Math.PI+1.998*Math.PI),a.lineWidth=3,a.stroke(),a.fillStyle=this.color,a.globalAlpha/=4,a.fill(),a.restore())}};l.mt=function(){};l.$b=function(a,b){b&&(this.vf=!0);this.s[1]=Math.max(a,this.s[1]);this.ze[0]="normal"==this.Je?this.kc:this.Aj;this.ze[1]="normal"==this.Je?2*this.kc:this.Aj};
l.Pj=function(a){Qb(-3,this.body.g.position)||a.ga(this.xj);for(var b=!1,c=0;c<this.i.de.length;c++)Jb(this.i.de[c],this.body.g.position)&&(b=!0);b?a.ga(this.Vv):("frenzy"==this.Je&&0>=this.s[1]&&!this.Ku&&a.ga(this.xj),0<this.s[1]&&a.ga(.5),0<this.s[2]&&a.ga(this.jh),a.ga(this.pa))};
l.rr=function(){if(Q(this.body.g.position,this.o.body.g.position)<=this.N*this.th){var a=R(this.body.g.position,this.o.body.g.position);this.o.body.ia(new b2Vec2(this.kd*Math.cos(a),this.kd*Math.sin(a)),this.o.body.h.m)}for(a=0;a<this.i.r.length;a++)if(this.i.r[a]!==this&&Q(this.body.g.position,this.i.r[a].body.g.position)<=this.N*this.th){var b=R(this.body.g.position,this.i.r[a].body.g.position);this.i.r[a].body.ia(new b2Vec2(this.kd*Math.cos(b),this.kd*Math.sin(b)),this.i.r[a].body.h.m);this.i.r[a].open(1500)}};
l.Gf=function(a,b,c,d){d||this.open(this.Qj);var f=1.5;0<this.s[1]||d||(f=.6);this.body.ia(new b2Vec2(f*b*Math.cos(c),f*b*Math.sin(c)),this.body.h.m);this.sa.impulsed+=this.ap;this.Re(a,b,c)};l.Re=function(){0<this.Yd&&(this.Yd-=1,0>this.Yd&&(this.Yd=0));0>=this.s[1]&&(this.ql=this.Tv)};te.prototype=new Fa;l=te.prototype;l.constructor=te;function te(a,b,c,d,f,g,h){void 0!==a&&(this.type="fighter_bullet",this.ka(a,b,c,d,f),null!==a&&(this.Hf=!1,this.Fe=5,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.zb(),this.ac.ga(this.pa),"easy"==L&&this.ac.ga(.5),this.Jd=!1,this.Ao=100,"easy"==L&&(this.Ao=50),this.Mn=!1,this.Ix=150,this.Av=h,this.Iv=!1,this.body.dx(),this.Jd=!1,this.Zt=.33))}l.Kc=function(a){this.P=a;this.tb=this.Ya;this.wk=!0};
l.Ze=function(a){if(!this.P)if(a===this.o){if(this.Kc("hit_player"),0>=this.s[1]){ec("fbullethit");var b=this.body.q.yb();b.zb();0<this.o.s[2]?b.ga(this.Ao*this.Zt):b.ga(this.Ao);this.o.body.ia(b,this.o.body.h.m);Rc(this.v)}}else if(a.Zy&&!(a instanceof te)&&(this.Kc("hit_enemy"),(a.id!=this.Av||this.Iv)&&0>=this.s[1])){ec("fbullethit");a instanceof qe&&(a.Yd=0);b=this.body.q.yb();b.zb();var c=1;a.id==this.Av?c*=1.5:a instanceof qe?c*=.7:a instanceof ue&&(a.rn=a.ow);b.ga(this.Ix*a.pa*c);a.open(1500);
a.body.ia(b,a.body.h.m)}};l.move=function(){0<this.s[2]?this.body.ia(new b2Vec2(.7*this.ac.x,.7*this.ac.y),this.body.h.m):this.body.ia(this.ac,this.body.h.m);this.Dg(R({x:0,y:0},this.ac))};l.Gf=function(a,b){var c=new b2Vec2(this.body.g.position.x-a.x,this.body.g.position.y-a.y);c.zb();c.ga(b);this.ac.Lg(c);this.Iv=!0;this.open(this.Qj)};
l.Yq=function(){for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){this.Kc("kill");return}(-5>=this.body.g.position.x||this.body.g.position.x>=Ic/F+5||-5>=this.body.g.position.y||this.body.g.position.y>=Ic/F+5)&&this.Kc("kill")};l.$f=function(){};ve.prototype=new Fa;l=ve.prototype;l.constructor=ve;function ve(a,b,c,d,f){void 0!==a&&(this.type="goo",this.bi=!1,this.ka(a,b,c,d,f),this.Fe=2,this.Jd=!1,this.Cm=3,this.Zo=10,this.rg=this.Cm,this.Gj=500,this.Hk=2500,"easy"==L&&(this.Hk=3500),this.Bf="small",this.re=0,this.jh=.2,this.Pf=!1,this.kh=6E3)}
l.Sc=function(a){this.body.vb(this.body.ha()+2*Math.PI*a/this.kh);0<this.re&&(this.re-=a);"expanding"==this.Bf?0>=this.re?(this.Bf="big",this.rg=this.Zo,this.re=this.Hk):(a=(this.Gj-this.re)/this.Gj,a=Wb(.15,.85,a),this.rg=this.Cm*(1-a)+a*this.Zo):"big"==this.Bf&&0>=this.re?(this.Bf="shrinking",ec("goo"),this.re=this.Gj):"shrinking"==this.Bf&&(0>=this.re?(this.Bf="small",this.rg=this.Cm,this.re=this.Hk):(a=(this.Gj-this.re)/this.Gj,a=Wb(.15,.85,a),this.rg=this.Cm*a+(1-a)*this.Zo));0>=this.s[1]?(this.body.Be(G[this.type].ya),
this.pa=G[this.type].pa):(this.body.Be(.3*G[this.type].ya),this.pa=.3*G[this.type].pa);this.Lx()};l.Lx=function(){0>=this.s[1]&&Q(this.body.g.position,this.o.body.g.position)<this.rg&&this.Il(this.o);for(var a=0;a<this.i.r.length;a++)0>=this.s[1]&&Q(this.body.g.position,this.i.r[a].body.g.position)<this.rg&&this.i.r[a].className!=this.className&&this.Il(this.i.r[a])};l.$f=function(){};l.Il=function(a){a.Du(100)};
l.uu=function(a,b){0<this.s[1]||(this.P||(a.beginPath(),a.strokeStyle=this.color,a.fillStyle=this.color,a.lineWidth=2,a.save(),a.globalAlpha*=.3,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.rg*b,0,1.998*Math.PI),a.stroke(),a.fill(),a.restore()),"big"==this.Bf&&za(a,this.body.g.position.x,this.body.g.position.y,this.N,1-this.re/this.Hk))};
l.Re=function(){0>=this.s[1]&&("shrinking"==this.Bf?(this.re=this.Gj-this.re,this.Bf="expanding"):"big"==this.Bf?this.re=this.Hk:"small"==this.Bf&&(this.re=this.Gj,this.Bf="expanding",ec("goo")))};l.Pj=function(a){"small"!=this.Bf&&0>=this.s[1]&&a.ga(this.jh);a.ga(this.pa)};we.prototype=new Fa;l=we.prototype;l.constructor=we;function we(a,b,c,d,f,g){void 0!==a&&(this.xi=g,this.type="harpoonhead",this.ka(a,b,c,d,f),this.Jo=this.bn=!1)}l.Sc=function(){this.s=this.xi.s};l.Re=function(){this.xi.$b(this.xi.Qp)};l.Dg=function(a){this.Ue=a};l.$f=function(){};l.open=function(){};wc.prototype=new Fa;wc.prototype.constructor=wc;function wc(a,b,c,d,f){this.type="mote";this.bi=!1;this.ka(a,b,c,d,f);this.Hf=!1;this.Fe=5;this.Pf=!1;this.kh=2E3;this.pj=!0;this.wm=!1;this.Nn=1;this.hd=3E3;"easy"==L&&(this.hd=2E3)}wc.prototype.$f=function(){0>=this.s[1]&&this.o.$b(this.hd,!0)};wc.prototype.Sc=function(a){this.body.vb(this.body.ha()+2*Math.PI*a/this.kh)};wc.prototype.Gf=function(a,b,c,d){0<this.s[1]&&(this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.m),d||this.open(this.Qj))};ue.prototype=new Fa;l=ue.prototype;l.constructor=ue;function ue(a,b,c,d,f){this.type="orbiter";this.bi=!0;this.pg=500;this.ka(a,b,c,d,f);f&&(this.Hf=!1,this.Fe=5,this.Lp=1.25*this.o.Vg,this.Yr=1,this.xe=18,this.Dm=!0,this.em=1,this.Bv=18,this.Cv=9,this.pj=!0,this.xj=2,this.Rn=!1,this.as=50,this.EA=!0,this.uC=3,this.Kz=[-1,1,-4,4,-8,8,-12,12,-16,16],this.pv=4,this.rn=0,this.ow=250,this.yv=G[this.type].ya,this.wm=!1,this.Nn=.5,this.YB=200,this.Zq=100,this.Jz=1.2*this.o.Vg,this.Hz=!1,this.Jy=2)}
l.Dd=function(){};
l.Sc=function(a){this.xe=Q(this.body.g.position,this.o.body.g.position)<1.5*this.Lp?this.Cv:this.Bv;this.Zq-=a;if(0>this.Zq){for(var b=!1,c=0;c<this.i.vh.length;c++)Jb(this.i.vh[c],this.body.g.position)&&(b=!0);this.Ru=b;this.Zq=this.YB}0<this.rn?(this.rn-=a,this.ya=3):this.ya=this.yv;Nc(this,this.o.body.g.position);!this.zf&&Qb(0,this.body.g.position)&&(this.$b(this.pg,!0),this.zf=!0);0<this.Bh&&(this.Bh-=a);Qb(0,this.body.g.position)||(this.zf=!1,this.$b(100,!0));this.Kx=(this.Rn=this.o.kj&&!yc(this.o,
this.body.g.position)||0<this.o.s[0]||0<this.o.s[1]||0<this.o.s[4])&&!this.P&&this.path&&1==this.path.length&&this.path[0]==this.o.body.g.position&&0>=this.s[1]&&this.zf;this.pj=!this.Kx};
l.Cu=function(){if(this.Rn)return Sb(this.v.Eb,this.body.g.position,this.o.body.g.position,this.v.i.Dp);var a=R(this.o.body.g.position,this.body.g.position),b=this.Kz,c=0;this.EA&&(this.Yr*=-1);for(var d=!1,f=null,g=0;!d&&c<b.length;){for(var h=a+2*Math.PI/64*b[c]*this.Yr,d=!0,h=new b2Vec2(this.o.body.g.position.x+Math.cos(h)*this.Lp,this.o.body.g.position.y+Math.sin(h)*this.Lp),k=0;k<this.i.vh.length;k++)if(Jb(this.i.vh[k],h)){d=!1;break}if(d)if(f=Sb(this.v.Eb,this.body.g.position,h,this.v.i.Dp),
f.path){a:{h=f.path;for(k=0;k<h.length-1;k++)if(Mb(h[k],h[k+1],this.o.body.g.position)<this.Jz){h=!1;break a}h=!0}if(!h&&(d=!1,g+=1,g>=this.pv))break}else if(d=!1,g+=1,g>=this.pv)break;if(d)return f;c+=1}if(this.v.ta)a={path:null,Xd:null};else if(Q(this.body.g.position,this.o.body.g.position)<this.Jz){a=this.v.Eb;b=this.body.g.position;c=N[this.v.O].Aa;d=null;f=0;g=R(this.body.g.position,this.o.body.g.position);for(h=0;h<c.length;h++)k=Ub(g,R(this.body.g.position,{x:c[h][0]/F,y:c[h][1]/F})),k=Math.abs(k-
g),k>f&&(f=k,d=c[h]);a=Sb(a,b,{x:d[0]/F,y:d[1]/F})}else a=Sb(this.v.Eb,this.body.g.position,this.o.body.g.position,this.v.i.Dp);return a};
l.move=function(){if(!(this.o.P||0<this.s[0])){this.Qd+=1;if(null==this.path||this.Qd>=this.xe){var a=this.Cu();if(!a.path)return;if(this.path&&0==this.path.length||this.path&&1==this.path.length&&a.path[a.length-1]==this.o.body.g.position||this.Qd>=this.xe||this.path&&!Hb(this.body.g.position,this.path[0],this.i.kf))null!=a.path&&(this.path=a.path,this.GE=this.path[this.path.length-1]),this.Qd=Math.floor(.1*Math.random()*this.xe)}if(this.path){a=this.path[0];if(0==this.Qd%4){for(;0<this.path.length&&
1>Q(a,this.body.g.position);)this.path=this.path.slice(1),a=this.path[0];if(!a||!Hb(this.body.g.position,a,this.i.kf))return;Hb(this.body.g.position,this.o.body.g.position,this.i.kf)&&this.GE==this.o.body.g.position&&(this.path=[this.o.body.g.position],a=this.path[0])}a&&this.Tr(a)}}};l.Pj=function(a){this.Kx?(a.ga(this.xj),a.ga(this.pa)):this.Ru&&this.pj&&0<this.Su||0<this.s[2]?a.ga(this.Vv):(0<this.s[2]&&a.ga(this.uC),a.ga(this.pa))};
l.Tr=function(a){a=new b2Vec2(a.x-this.body.g.position.x,a.y-this.body.g.position.y);a.zb();this.Pj(a);this.body.ia(a,this.body.h.m)};l.$f=function(){var a=R(this.body.g.position,this.o.body.g.position);new b2Vec2(this.as*Math.cos(a),this.as*Math.sin(a));this.o.body.ia(new b2Vec2(this.as*Math.cos(a),this.as*Math.sin(a)),this.o.body.h.m)};l.Re=function(){this.rn=this.ow};l.fm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.cm=function(a,b,c){this.P||1==c&&(!(0<this.Ac)||this.P||0<this.s[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.N,1-this.Ac/this.Yh))};l.dm=function(a){a.stroke();a.restore()};se.prototype=new te;se.prototype.constructor=se;function se(a,b,c,d,f,g,h){this.type="piercing_fighter_bullet";this.ka(a,b,c,d,f);null!==a&&(this.Hf=!1,this.Fe=5,this.Av=h,this.ac=new b2Vec2(Math.cos(g),Math.sin(g)),this.ac.zb(),this.ac.ga(this.pa),"easy"==L&&this.ac.ga(.5),this.Jd=!1,this.Ao=100,"easy"==L&&(this.Ao=50),this.Iv=!1,this.body.dx(),this.Mn=!1,this.Zt=.33,this.Ix=150,this.Zt=.33)}se.prototype.Gf=function(){};se.prototype.Ze=te.prototype.Ze;xc.prototype=new Fa;l=xc.prototype;l.constructor=xc;function xc(a,b,c,d,f){this.type="slingshot";this.ka(a,b,c,d,f);this.Hf=!1;"easy"==L&&(this.pa*=.8);this.lE=50;this.vu=!1;this.Fe=5;this.jh=.5;this.Jd=!1;this.HD=this.color;this.Sp=!1;this.Ti=null;this.Rp=0;this.mE=100;this.oE=1;this.si=0;this.kC=750;this.jC=100;this.pj=!1;this.Dq=["empowered"];this.yv=G[this.type].ya;this.nE=6}l.tj=Fa.prototype.move;
l.move=function(){if(this.Sp){if(0>=this.s[0]){var a=new b2Vec2(this.Ti.x-this.body.g.position.x,this.Ti.y-this.body.g.position.y);a.ga(this.oE);0<this.s[2]&&a.ga(this.jh);this.body.ia(a,this.body.h.m);a=R(this.body.g.position,this.Ti);this.body.vb(a)}}else this.tj()};l.Pj=function(a){0<this.s[2]&&a.ga(this.jh);this.vu||a.ga(this.jh);a.ga(this.pa)};
l.Sc=function(a){if(this.Sp&&0>=this.Rp&&1>Q(this.Ti,this.body.g.position)||0<this.s[1])this.Sp=!1,this.ya=this.yv;!this.vu&&Qb(1,this.body.g.position)&&(this.vu=!0);this.Hf=0<this.si;this.color=0<this.si?"red":this.HD;this.iC=0<this.si&&0>=this.s[1];0<this.Rp&&(this.Rp-=a);0<this.si&&(this.si-=a)};l.$f=function(){var a=R(this.body.g.position,this.o.body.g.position),a=new b2Vec2(Math.cos(a),Math.sin(a));0<this.si?a.ga(this.jC):a.ga(this.lE);this.o.body.ia(a,this.o.body.h.m)};
l.Re=function(){0>=this.s[1]&&(this.Ti=this.body.g.position.yb(),this.Sp=!0,this.Rp=this.mE,this.si=this.kC,this.ya=this.nE,ec("sshot"))};l.Dj=function(){if(!this.P){if(0<this.s[0])return"stunned";if(this.vf)return"silenced";if(0<this.s[2])return"gooed"}return this.Xo()};l.Wo=function(a){if("empowered"==a)return"red"};l.Xo=function(){return!this.P&&0<this.si?"empowered":"normal"};
function xe(a,b){var c=a.body.ha()+2*Math.PI/3*b;return{x:a.body.g.position.x+Math.cos(c)*a.N*3/4,y:a.body.g.position.y+Math.sin(c)*a.N*3/4}}l.Dd=function(a,b){if(this.Sp&&!this.P){a.beginPath();a.strokeStyle=this.color;a.lineWidth=2;a.moveTo(this.Ti.x*b,this.Ti.y*b);var c=xe(this,1);a.lineTo(c.x*b,c.y*b);c=xe(this,2);a.moveTo(this.Ti.x*b,this.Ti.y*b);a.lineTo(c.x*b,c.y*b);a.stroke()}};ye.prototype=new Fa;l=ye.prototype;l.constructor=ye;function ye(a,b,c,d,f){this.type="spear";this.bi=!0;this.pg=500;this.ka(a,b,c,d,f);this.xj=5;this.Wp=30;"easy"==L&&(this.Wp=40);this.Fe=5;this.xl=3E3;this.Dm=!0;this.em=1;this.Jd=!1;this.Py=this.bn=!0}l.tj=Fa.prototype.move;l.move=function(){this.o.P||0<this.s[0]||(Hb(this.body.g.position,this.o.body.g.position,this.i.kf)?(this.path=[this.o.body.g.position],this.Tr(this.o.body.g.position)):this.tj())};
l.Pj=function(a){this.Hf&&a.ga(this.xj);0<this.s[2]&&a.ga(this.jh);a.ga(this.pa)};l.Sc=function(){this.Hf=!this.P&&this.path&&1==this.path.length&&0>=this.s[1]&&this.zf};l.$f=function(){if(0>=this.s[1]){var a=R(this.body.g.position,this.o.body.g.position);new b2Vec2(this.Wp*Math.cos(a),this.Wp*Math.sin(a));this.o.body.ia(new b2Vec2(this.Wp*Math.cos(a),this.Wp*Math.sin(a)),this.o.body.h.m)}};l.Re=function(){this.$b(this.xl);this.xl>this.Ac&&(this.Ac=this.Yh=this.xl)};
l.di=function(a){this.s[0]=Math.max(a,this.s[0]);this.$b(a)};l.$b=function(a,b){b&&(this.vf=b);this.s[1]=Math.max(a,this.s[1])};l.Dd=function(){};l.fm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray")};l.cm=function(a,b,c){this.P||1==c&&(!(0<this.Ac)||this.P||0<this.s[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.N,1-this.Ac/this.Yh))};l.dm=function(a){a.stroke();a.restore()};ze.prototype=new Fa;ze.prototype.constructor=ze;function ze(a,b,c,d,f){this.type="stunner";this.bi=!1;this.ka(a,b,c,d,f);f&&(this.Jd=!1,"HIVE 1-1"==this.v.i.O||"HIVE 1-2"==this.v.i.O)&&(a=Math.min(this.v.H.Yc/120,1),this.pa*=1+.3*a)};od.prototype=new Fa;l=od.prototype;l.constructor=od;function od(a,b,c,d,f){this.type="tank";this.bi=!1;this.ka(a,b,c,d,f);this.Hf=!1;this.kd=100;"easy"==L&&(this.kd=80);this.Fe=5;this.eC=this.om=200;this.th=6;"easy"==L&&(this.th=5);this.FE=75;this.Pg=!1;this.Co=null;this.Pf=this.Jd=!1;this.kh=4E3;this.bn=!0;this.Qj=500;this.Dq=["volatile"];this.sa["volatile"]=0;this.Dm=!0;this.em=1;this.PE=1500}
l.Sc=function(a){this.Hf=0>=this.s[1];0<this.Cs&&(this.Cs-=a);0<this.sa["volatile"]&&(this.sa["volatile"]-=a)};l.nx=function(){this.color="red"};l.mt=function(a){this.Pg&&(this.color="red",0>=this.om&&!this.P&&(this.Kc(this.Co),this.rr()),0<this.om&&(this.om-=a))};l.Yq=function(){for(var a=0;a<this.i.de.length;a++)if(Jb(this.i.de[a],this.body.g.position)){0>=this.s[1]&&0<this.sa["volatile"]?(this.Pg=!0,this.Co="kill"):0<this.sa.open?this.Kc("kill"):this.Kc("accident");break}};
l.Gf=function(a,b,c,d){this.sa.impulsed+=this.ap;this.Re(a,b,c);d||this.open(this.Qj);0<this.s[2]?this.body.ia(new b2Vec2(1.3*b*Math.cos(c),1.3*b*Math.sin(c)),this.body.h.m):"easy"==L?this.body.ia(new b2Vec2(1.25*b*Math.cos(c),1.25*b*Math.sin(c)),this.body.h.m):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.m);0<this.Cs&&!this.P&&!this.Pg&&0>=this.s[1]&&(this.Pg=!0,this.Co="kill")};l.Re=function(){this.sa["volatile"]=this.PE};
l.Ze=function(a){a instanceof od&&(0<this.sa["volatile"]&&!this.P&&!this.Pg&&0>=this.s[1]?(this.Pg=!0,this.Co="kill"):this.Cs=this.FE);this.P||this.Pg||(a===this.o?0>=this.s[1]?(this.Pg=!0,this.Co="hit_player",Rc(this.v)):this.Kc("hit_player"):a instanceof Fa&&0<a.sa.open&&this.open(a.sa.open))};
l.rr=function(){if(Q(this.body.g.position,this.o.body.g.position)<=this.N*this.th){var a=R(this.body.g.position,this.o.body.g.position);this.o.body.ia(new b2Vec2(this.kd*Math.cos(a),this.kd*Math.sin(a)),this.o.body.h.m)}for(a=0;a<this.i.r.length;a++)if(this.i.r[a]!==this&&Q(this.body.g.position,this.i.r[a].body.g.position)<=this.N*this.th){var b=R(this.body.g.position,this.i.r[a].body.g.position);this.i.r[a].body.ia(new b2Vec2(this.kd*Math.cos(b),this.kd*Math.sin(b)),this.i.r[a].body.h.m);this.i.r[a].open(1500)}};
l.Dd=function(a,b){var c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0;a.save();a.globalAlpha*=1-c;this.Pg&&0<this.om?(a.beginPath(),a.strokeStyle="red",a.lineWidth=5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.N*this.th*(1-this.om/this.eC)*b,0,1.998*Math.PI),a.stroke()):0>=this.s[1]&&0<this.sa["volatile"]&&(a.beginPath(),a.strokeStyle="red",a.lineWidth=2,a.globalAlpha*=.5,a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.N*this.th*b,0,1.998*Math.PI),a.stroke());a.restore()};
l.fm=function(a){a.save();a.beginPath();a.lineWidth=2;a.globalAlpha*=.5;a.strokeStyle=G[this.type].color};l.cm=function(a,b){!this.P&&0>=this.sa["volatile"]&&0>=this.s[1]&&(a.moveTo(this.body.g.position.x*b+this.N*this.th*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.N*this.th*b,0,1.998*Math.PI))};l.dm=function(a){a.stroke();a.restore()};l.Wo=function(a){if("volatile"==a)return"red"};
l.Dj=function(){if(this.P)return"volatile";if(!this.P){if(0<this.s[0])return"stunned";if(this.vf)return"silenced";if(0<this.sa["volatile"])return"volatile";if(0<this.s[2])return"gooed";if(0<this.sa.impulsed)return"impulsed"}return this.Xo()};Ae.prototype=new Fa;l=Ae.prototype;l.constructor=Ae;function Ae(a,b,c,d,f){this.type="troll";this.bi=!0;this.pg=1E3;this.ka(a,b,c,d,f);this.Jd=!1;this.fi=400;this.on=4;"easy"==L&&(this.fi=600,this.on=3);this.Pf=this.pj=!1;this.kh=1E3;this.xh=[];this.Px=250;this.Dm=!0;this.em=2;this.fA=1E3;"easy"==L&&(this.fA=750);this.wm=!0;this.kz=5E3;"easy"==L&&(this.kz=2500)}
l.Sc=function(a){var b=(new Date).getTime();0>=this.s[1]&&this.body.vb(this.body.ha()+2*Math.PI*a/this.kh);b%(this.on*this.fi)<this.fi&&this.$b(this.fi-b%(this.on*this.fi),!0);for(b=this.xh.length-1;0<=b;b--)this.xh[b].mh-=a,0>=this.xh[b].mh&&this.xh.splice(b,1);!this.zf&&Qb(0,this.body.g.position)&&(this.$b(this.pg,!0),this.zf=!0);0<this.Bh&&(this.Bh-=a);Qb(0,this.body.g.position)||(this.zf=!1)};
l.Dd=function(a,b){if(!(this.P||0<this.s[1])){a.save();for(var c in this.xh){a.beginPath();var d=this.xh[c].mh/this.Px;a.globalAlpha*=Math.max(0,(1-2*Math.abs(d-.5))/.5);a.moveTo(this.xh[c].object.body.g.position.x*b,this.xh[c].object.body.g.position.y*b);a.lineTo(this.body.g.position.x*b,this.body.g.position.y*b);a.lineWidth=3;a.strokeStyle=this.color;a.stroke();a.globalAlpha/=Math.max(0,(1-2*Math.abs(d-.5))/.5)}a.restore()}};
l.Gf=function(a,b,c,d){0>=this.s[1]&&this.zf?(this.body.ia(new b2Vec2(.3*b*Math.cos(c),.3*b*Math.sin(c)),this.body.h.m),rc(this.o,this.fA),ec("pwheel"),this.xh.push({object:this.o,mh:this.Px})):this.body.ia(new b2Vec2(b*Math.cos(c),b*Math.sin(c)),this.body.h.m);d||this.open(this.Qj);this.sa.impulsed+=this.ap};l.$f=function(){0>=this.s[1]&&(rc(this.o,this.kz),ec("pwheel"))};
l.fm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.strokeStyle="gray");2==c&&(a.lineWidth=2,a.strokeStyle=this.color)};l.cm=function(a,b,c){this.P||(1==c&&(!(0<this.Ac)||this.P||0<this.s[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.N,1-this.Ac/this.Yh)),2==c&&(b=(new Date).getTime(),0>=this.s[1]&&b%(this.on*this.fi)>this.fi&&Aa(a,this.body.g.position.x,this.body.g.position.y,this.N,(b%(this.on*this.fi)-this.fi)/((this.on-1)*this.fi))))};
l.dm=function(a){a.stroke();a.restore()};Be.prototype=new ve;Be.prototype.constructor=Be;function Be(a,b,c,d,f){this.type="disabler";this.ka(a,b,c,d,f);this.Fe=2;this.Jd=!1;this.Cm=3;this.Zo=9;"easy"==L&&(this.Zo=8);this.rg=this.Cm;this.Gj=500;this.Hk=2500;"easy"==L&&(this.Hk=3500);this.Bf="small";this.re=0;this.Pf=!1;this.kh=6E3;this.jh=0}
Be.prototype.Lx=function(){0>=this.s[1]&&Q(this.body.g.position,this.o.body.g.position)<this.rg&&this.Il(this.o);for(var a=0;a<this.i.r.length;a++)0>=this.s[1]&&Q(this.body.g.position,this.i.r[a].body.g.position)<this.rg?this.i.r[a].className!=this.className&&this.Il(this.i.r[a]):"harpoon"==this.i.r[a].type&&(Q(this.i.r[a].cb.body.g.position,this.body.g.position)<this.rg||"engaged"==this.i.r[a].mb&&Q(this.i.r[a].Pc.body.g.position,this.body.g.position)<this.rg)&&this.Il(this.i.r[a])};
Be.prototype.Il=function(a){"harpoonhead"==a.type?a.xi.$b(100,!0):a===this.o?(qc(a,100),a.$b(100)):a.$b(100,!0)};Ac.prototype=new Fa;l=Ac.prototype;l.constructor=Ac;
function Ac(a,b,c,d,f){if(void 0!==a){this.type="harpoon";var g=[];g.push(new b2Vec2(.3*Math.cos(0*Math.PI),.3*Math.sin(0*Math.PI)));g.push(new b2Vec2(.3*Math.cos(5*Math.PI/6),.3*Math.sin(5*Math.PI/6)));g.push(new b2Vec2(.3*Math.cos(7*Math.PI/6),.3*Math.sin(7*Math.PI/6)));this.bi=!0;this.pg=1E3;this.ka(a,b,c,d,f);null!=a&&(this.Fe=2,this.$o=17,"easy"==L&&(this.$o=13),this.Fj=null,this.mb="inactive",this.Ny=6,"easy"==L&&(this.Ny=4.5),this.zC=.33,this.Iu=400,"easy"==L&&(this.Iu=50),this.Ju=1.2,"easy"==
L&&(this.Ju=.6),this.ns=this.o.Vg,this.Ov=2,this.Lp=.8*this.$o,this.Bv=40,this.Cv=20,this.xe=40,this.Yr=.5>Math.random()?1:-1,this.Qp=500,this.EA=this.Jd=!1,this.Do=this.Mx=5,this.state="seek",this.$q=this.Nx=8,this.Pf=!1,this.pv=4,this.Hu=Math.sqrt(2)/2+Math.sqrt(6)/6-.4,a=Ce(this),this.cb=new we(this.wa,a.x,a.y,this.id+1E4,this.v,this),this.yC=3,this.Gu=null,this.er=1E3,this.Pc=null,this.fC=this.pj=!1,this.Rn=!0,this.wm=!1,this.Nn=1,this.Kz=[0,-1,1,-2,2,-4,4,-8,8,-12,12,-16,16,-20,20],this.Dm=!0,
this.em=3,this.Jo=!1)}}l.Cu=ue.prototype.Cu;l.tj=ue.prototype.move;l.$f=function(){};
l.move=function(){if("inactive"==this.mb||"engaged"==this.mb)if("engaged"==this.mb){var a=new b2Vec2(this.body.g.position.x-this.Pc.body.g.position.x,this.body.g.position.y-this.Pc.body.g.position.y);a.zb();a.ga(this.Ny);this.Pc==this.o&&0<this.o.s[2]&&a.ga(this.zC);this.Pc.body.ia(a,this.body.h.m);this.Pc!=this.o&&(this.Pc.open(1500),"tank"==this.Pc.type&&(this.Pc.sa["volatile"]=1500))}else null==this.path&&(this.Qd=this.xe),this.tj()};
function Ce(a){return new b2Vec2(a.body.g.position.x+a.Hu*G[a.type].N*Math.cos(a.Ue),a.body.g.position.y+a.Hu*G[a.type].N*Math.sin(a.Ue))}l.Dg=function(a){this.Hj-=1;0>=this.Hj&&(this.body.vb(a),this.Hj=this.Oy,this.cb.body.vb(this.cb.Ue));this.Ue=a};l.$b=function(a,b){b&&(this.vf=!0);this.s[1]=Math.max(a,this.s[1])};
l.Sc=function(a){"inactive"==this.mb?Nc(this,this.o.body.g.position):"engaged"==this.mb?Nc(this,this.Pc.body.g.position):Nc(this,this.cb.body.g.position);this.Mn="inactive"==this.mb;this.xe=Q(this.body.g.position,this.o.body.g.position)<1.5*this.Lp?this.Cv:this.Bv;if("inactive"==this.mb)this.cb.body.hi(Ce(this)),this.cb.Dg(this.Ue);else if("fire"==this.mb){var b=R(this.body.g.position,this.cb.body.g.position);this.cb.Dg(b);1>this.cb.body.q.ig()&&(this.mb="retract")}else if("retract"==this.mb){if(0>=
this.s[1]||!Qb(0,this.body.g.position))b=R(this.cb.body.g.position,this.body.g.position),this.cb.body.ia(new b2Vec2(this.Ju*Math.cos(b),this.Ju*Math.sin(b)),this.cb.body.h.m),this.cb.Dg(Math.PI+b),Q(this.cb.body.g.position,this.body.g.position)<1.1*this.Hu&&(this.mb="inactive",this.$b(this.er,!0),this.er>this.Ac&&(this.Ac=this.Yh=this.er),this.Gu=null)}else if("engaged"==this.mb)this.cb.body.hi(new b2Vec2(-100,-100));else if("retract_ready"==this.mb){b=new b2Vec2(this.o.body.g.position.x-this.body.g.position.x,
this.o.body.g.position.y-this.body.g.position.y);b.zb();b.ga(2*this.o.hh);var c=this.Pc.body.g.position.yb();c.Ln(b);this.cb.body.hi(c);b=R(this.body.g.position,this.cb.body.g.position);this.cb.Dg(b);this.mb="retract";this.Pc=null}0>=this.$q&&(this.Rn=!1,this.$q=this.Nx);this.$q-=1;0<this.Do&&(this.Do-=1);0>=this.Do&&((!Hb(this.body.g.position,this.o.body.g.position,this.i.kf)||this.v.ta)&&0>=this.s[1]&&this.zf&&!this.P&&"inactive"==this.mb&&Qb(0,this.body.g.position)&&Q(this.body.g.position,this.o.body.g.position)<=
this.$o&&(ec("hfire"),this.mb="fire",this.Fu=R(this.cb.body.g.position,this.o.body.g.position.yb()),this.cb.body.ia(new b2Vec2(this.Iu*Math.cos(this.Fu),this.Iu*Math.sin(this.Fu)),this.cb.body.h.m),this.cb.Dg(this.Fu)),0<this.s[1]&&"inactive"!=this.mb&&Bc(this),"engaged"==this.mb&&(!Qb(1,this.Pc.body.g.position)||this.Pc.P||Q(this.Pc.body.g.position,this.body.g.position)<this.yC)?Bc(this):"engaged"==this.mb&&this.o.P&&Bc(this),this.Do=this.Mx);0<this.cb.sa.open&&(this.cb.sa.open-=a)};
l.Pz=function(a,b){this.wk&&("hit_player"!=this.P||this.tb<this.Ya-50)&&(this.wk=!1,this.i.Ho.push(a));return this.P&&0>this.tb?(this.i.Uo.push(a),!0):this.P?(this.tb-=b,this.cb.tb-=b,!0):!1};
l.Kc=function(a){Bc(this);this.P=a;this.tb=this.Ya;this.wk=!0;"kill"!=this.P||this.o.P||(this.v.H.se+=1,G[this.type].Qi?G[G[this.type].Qi].se+=1:G[this.type].se+=1,this.i.ta||(a=this.v.H.pe*this.Ic,A.fc&&Oc(this.v,a,this.color,this.body.g.position.x,this.body.g.position.y,20),this.v.H.Xc+=a,Pc(this.v),Qc(this.v)));ec("sdeath");Lc(this.i,this.type,this.body.g.position,this.body.q);this.cb.Kc("normal")};
l.gh=function(a,b){var c=this.Gk(this.Dj());if(c!=this.color||this.P)a.save(),a.strokeStyle=c,a.lineWidth=3,a.globalAlpha*=.5,c=this.P?Math.min((this.Ya-this.tb)/this.Ya,1):0,this.P&&(a.globalAlpha*=1-c),a.beginPath(),"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.cb.body.g.position.x*b,this.cb.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.Pc.body.g.position.x*b,this.Pc.body.g.position.y*
b)),a.stroke(),a.restore()};l.Dd=function(a,b){"engaged"!=this.mb&&"retract_ready"!=this.mb&&(this.cb.color=this.Gk(this.Dj()),this.cb.vf=this.vf,this.cb.sa=this.sa,this.cb.Y(a,b))};l.fm=function(a,b,c){a.save();a.beginPath();a.strokeStyle=this.color;1==c&&(a.lineWidth=2,a.globalAlpha*=.2);2==c&&(a.lineWidth=3,a.globalAlpha*=.5);3==c&&(a.lineWidth=2,a.strokeStyle="gray")};
l.cm=function(a,b,c){if(!this.P){1==c&&0>=this.s[1]&&this.zf&&"inactive"==this.mb&&(a.moveTo(this.body.g.position.x*b+this.$o*b,this.body.g.position.y*b),a.arc(this.body.g.position.x*b,this.body.g.position.y*b,this.$o*b,0,1.998*Math.PI));if(2==c){if(this.Gk(this.Dj())!=this.color||this.P)return;"engaged"!=this.mb&&"retract_ready"!=this.mb?(a.moveTo(this.body.g.position.x*b,this.body.g.position.y*b),a.lineTo(this.cb.body.g.position.x*b,this.cb.body.g.position.y*b)):(a.moveTo(this.body.g.position.x*
b,this.body.g.position.y*b),a.lineTo(this.Pc.body.g.position.x*b,this.Pc.body.g.position.y*b))}3==c&&(!(0<this.Ac)||this.P||0<this.s[0]||Aa(a,this.body.g.position.x,this.body.g.position.y,this.N,1-this.Ac/this.Yh))}};l.dm=function(a){a.stroke();a.restore()};l.Re=function(){this.$b(this.Qp,!0);this.Qp>this.Ac&&(this.Ac=this.Yh=this.Qp)};function Bc(a){"engaged"==a.mb&&(a.mb="retract_ready",a.Gu=a.Pc.id)};var G={};
G.dumb_stunner={color:"#00ffff",sb:2.2,ya:6,N:.5,pa:0,Ic:100,Wd:1,Ce:!0,Vi:"stunner",Sb:[{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],ir:[{type:"polygon",x:-.1,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],qe:"YES",Ie:["Upon collision, stuns you for a short period"],className:Fd};
G.stunner={color:"#00ffff",sb:1.5,ya:4,N:.5,pa:.42,Ic:100,Wd:1,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],ir:[{type:"polygon",x:-.1,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)]]}],qe:"YES",Ie:["Upon collision, stuns you for a short period"],className:ze};
G.spear={color:"#f86003",sb:.7,ya:4,N:.7,pa:.24,Ic:500,Wd:7,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.7,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(5*Math.PI/6),Math.sin(5*Math.PI/6)],[Math.cos(7*Math.PI/6),Math.sin(7*Math.PI/6)]]}],qe:"YES",Ie:["Will dive at you if it has line of sight","When Impulsed, cannot dive for a few moments"],Hg:"Charges you on sight. Hurls you backward on impact.",Ag:"Silenced for two seconds upon entering or re-entering stage. When Impulsed, silenced for five seconds.",
className:ye};
G.tank={color:"#6f27cf",sb:2.5,ya:3,N:1,pa:1.5,Ic:1E3,Wd:8,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:1,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],vy:[{x1:.5,y1:.5,x2:-.5,y2:-.5},{x1:.5,y1:-.5,x2:-.5,y2:.5}],qe:"YES",Ie:["Explodes upon death or collision with player","The explosion radius is outlined around the tank","Will explode upon collision with another Tank if it has been recently Impulsed"],className:od};
G.mote={color:"#ee42ae",sb:.5,ya:3,N:.5,pa:.15,Ic:1E3,Wd:.5,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(1*Math.PI),Math.sin(1*Math.PI)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],qe:"YES",Ie:["Cannot be Impulsed # # Upon collision, disarms you for a few moments","To defeat, impulse other enemies into it."],className:wc};
G.goo={color:"#e6c43c",sb:7,ya:9,N:.5,pa:3.5,Ic:3E3,Wd:.25,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],wj:[{type:"circle",x:0,y:0,Z:1.3,$t:!0}],qe:"YES",Ie:["All units within its area of influence are slowed","When Impulsed, expands its area of influence for a few moments"],
className:ve};
G.harpoon={color:"#00aa00",sb:6,ya:6,N:.7,pa:5.4,Ic:3E3,Wd:6,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.7,fa:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],wj:[{type:"polygon",x:-.1,y:0,Z:.7,$t:!1,fa:[[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)],[((Math.sqrt(2)+Math.sqrt(6))/2-.4)*Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4)-.4,Math.sin(1*
Math.PI/4)]]},{type:"polygon",x:-.1,y:0,Z:.7,fa:[[Math.cos(1*Math.PI/4)-.4,Math.sin(1*Math.PI/4)],[Math.cos(7*Math.PI/8)-.4,Math.sin(7*Math.PI/8)],[Math.cos(9*Math.PI/8)-.4,Math.sin(9*Math.PI/8)],[Math.cos(7*Math.PI/4)-.4,Math.sin(7*Math.PI/4)]]}],ir:[],qe:"NO",Ie:"Fires its hook at you and # attempts to yank you in # # Can only fire through the void.;The hook range is outlined # around the Harpoon;If you are hooked, # impulse the harpoon and it will let you go;Will attempt to avoid you and also avoid the void.;While the hook is detached from the Harpoon, it cannot move;Does not die on collision;During boss battles, can fire at any time".split(";"),
className:Ac};
G.harpoonhead={color:"#00dd00",sb:1.2,ya:6,N:G.harpoon.N*Math.sqrt(6)/3,pa:1.5,Ic:1E3,Wd:6,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:G.harpoon.N*Math.sqrt(6)/3,fa:[[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)]]}],qe:"NO",Hg:"Shoots a harpoon which can latch onto you. Once you are latched, the Harpoon will attempt to drag you to your death.",Ag:"In normal levels, harpoons can only fire through obstacles and are harmless up close. In boss levels, harpoons can fire at any time. Impulsing a harpoon silences it for 1 second. Harpoons will flee from you.",description:"Shoots a harpoon that can latch onto you. Once you are latched, it will attempt to drag you to your death.",
className:we};
G.fighter={color:"#0000ff",sb:3,ya:6,N:.75,pa:2.5,Ic:4E3,Wd:9,Vi:"hunter",Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.75,fa:[[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)]]},{type:"polygon",x:0,y:0,Z:.75,fa:[[Math.cos(3*Math.PI/4)+.3,Math.sin(3*Math.PI/4)],[Math.cos(1*Math.PI/4)+.3,Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,Math.sqrt(2)]]},
{type:"polygon",x:0,y:0,Z:.75,fa:[[Math.cos(7*Math.PI/4)+.3,Math.sin(7*Math.PI/4)],[Math.cos(5*Math.PI/4)+.3,Math.sin(5*Math.PI/4)],[Math.cos(3*Math.PI/4)-Math.sqrt(6)/4+.3,-Math.sqrt(2)]]}],Ie:"Fires bullets at you on sight # # Has a force-field which resists impulse. # Touching this force-field will knock you back.;To defeat, reflect the bullets back at the hunter with impulse.;Periodically charges up a Frenzy bar # # When the Hunter has five Frenzy bars, # it will enter Frenzy mode;During Frenzy mode, moves faster and fires bullets that cannot be Impulsed;During Frenzy mode, # loses a Frenzy bar whenever it fires # # When the Frenzy bars are depleted, # the Hunter exits Frenzy mode;Loses one frenzy bar every time it is Impulsed".split(";"),
qe:"NO",Hg:"Fires bullets at you upon sight. Bullets fling you backwards on impact. For every 2 seconds that the Fighter is idle, it loads up a piercing bullet, which cannot be Impulsed.",Ag:"Normal bullets can be reflected to hit other enemies and even the Fighter itself.",className:qe};
G.fighter_bullet={color:"#0000ec",sb:1,ya:3,N:.3,pa:.5,Ic:0,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:te};
G.piercing_fighter_bullet={color:"#ff0000",sb:1,ya:3,N:.3,pa:1,Ic:0,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],className:se};
G.disabler={color:"#cccccc",sb:8,ya:9,N:.5,pa:5,Ic:5E3,Wd:.25,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/3),Math.sin(1*Math.PI/3)],[Math.cos(2*Math.PI/3),Math.sin(2*Math.PI/3)],[Math.cos(3*Math.PI/3),Math.sin(3*Math.PI/3)],[Math.cos(4*Math.PI/3),Math.sin(4*Math.PI/3)],[Math.cos(5*Math.PI/3),Math.sin(5*Math.PI/3)]]}],wj:[{type:"circle",x:0,y:0,Z:1.3,$t:!0}],qe:"YES",Ie:["Disables all units within its area of influence","When Impulsed, expands its area of influence for a few moments",
"Colliding with a disabled enemy will not reset your multiplier # # However you will not score points"],Hg:"Leaves behind a trail of crippling poison. Everything that passes through the poison is silenced.",Ag:"Passing through goo will instantly slow you down, which may help you survive blasts from other enemies. Goos are not affected by each other.",className:Be};
G.troll={color:"#159d31",sb:1.5,ya:3,N:.7,pa:.38,Ic:4E3,Wd:2,Vi:"pinwheel",Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:1,fa:[[0,0],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408),Math.sqrt(52)/8*Math.sin(-.408)],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,Z:1,fa:[[0,0],[.25*Math.cos(1*Math.PI/3),.25*Math.sin(1*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3)],[.25*Math.cos(3*Math.PI/
3),.25*Math.sin(3*Math.PI/3)]]},{type:"polygon",x:0,y:0,Z:1,fa:[[0,0],[.25*Math.cos(3*Math.PI/3),.25*Math.sin(3*Math.PI/3)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3)],[.25*Math.cos(5*Math.PI/3),.25*Math.sin(5*Math.PI/3)]]}],ir:[{type:"polygon",x:-.2,y:0,Z:1,fa:[[0,0],[.25*Math.cos(5*Math.PI/3+.36),.25*Math.sin(5*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+.36),Math.sqrt(52)/8*Math.sin(-.408+.36)],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/
3+.36)]]},{type:"polygon",x:-.2,y:0,Z:1,fa:[[0,0],[.25*Math.cos(1*Math.PI/3+.36),.25*Math.sin(1*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+2*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+2*Math.PI/3+.36)],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)]]},{type:"polygon",x:-.2,y:0,Z:1,fa:[[0,0],[.25*Math.cos(3*Math.PI/3+.36),.25*Math.sin(3*Math.PI/3+.36)],[Math.sqrt(52)/8*Math.cos(-.408+4*Math.PI/3+.36),Math.sqrt(52)/8*Math.sin(-.408+4*Math.PI/3+.36)],[.25*Math.cos(5*Math.PI/3+.22),
.25*Math.sin(5*Math.PI/3+.22)]]}],Ie:["Upon collision, # reverses your controls for a few moments","If Impulsed while active, # reverses your controls for a short period","Periodically becomes inactive # # Inactive pinwheels will not reverse you and fly farther when Impulsed"],qe:"YES",Hg:"When active, impulsing the Troll will pull it towards you. Upon impact, reverses your movement and impulse controls.",Ag:"The troll alternates between active and inactive every second.",className:Ae};
G.slingshot={color:"#a0522d",sb:.2,ya:7,N:1,pa:.65,Ic:5E3,Wd:10,Ce:!0,Sb:[{type:"polygon",x:-.25,y:0,Z:1,fa:[[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(2*Math.PI/3)/2,1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3)/2,1*Math.sin(4*Math.PI/3)/2]]},{type:"polygon",x:-.25,y:0,Z:1,fa:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)],[1*Math.cos(2*Math.PI/3),1*Math.sin(2*Math.PI/3)/2],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4]]},
{type:"polygon",x:-.25,y:0,Z:1,fa:[[1*Math.cos(0*Math.PI),1*Math.sin(0*Math.PI)],[1*Math.cos(0*Math.PI)/4,1*Math.sin(0*Math.PI)/4],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)/2],[1*Math.cos(4*Math.PI/3),1*Math.sin(4*Math.PI/3)]]}],uy:[[[1*Math.cos(0*Math.PI)/4-.25,1*Math.sin(0*Math.PI)/4],[.75*Math.cos(0*Math.PI)-.25,3*Math.sin(0*Math.PI)/4]]],qe:"YES",Hg:"When Impulsed, it will hook onto the ground and slingshot back towards you, flinging you away if it hits you.",Ag:"If the slingshot hits you while not slingshoting, it will still push you back a fair way.",
className:xc,Ie:["When Impulsed, latches onto its current position # and slingshots back at you","While slingshotting, cannot be impulsed"]};
G.orbiter={color:"red",sb:.3,ya:15,N:.5,pa:.96,Ic:5E3,Wd:10,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/3)+.4,Math.sin(2*Math.PI/3)],[.4,0]]},{type:"polygon",x:0,y:0,Z:.5,fa:[[Math.cos(4*Math.PI/3)+.4,Math.sin(4*Math.PI/3)],[Math.cos(0*Math.PI)+.4,Math.sin(0*Math.PI)],[.4,0]]},{type:"polygon",x:0,y:0,Z:.5,fa:[[.4,0],[-.6,.3],[-1.6,0],[-.6,-.3]]}],uy:[[[.5,0],[.2,0]]],Ie:["Intelligently avoids your Impulse # # Will charge at you opportunistically"],
qe:"YES",Hg:"Locks onto you. Actively avoids your Impulse. Charges you if you've shot your Impulse the other way.",Ag:"Intelligent and dangerous.",className:ue};
G.deathray={color:"#dddddd",Yy:"black",sb:6,ya:6,N:1,pa:7.2,Ic:1E4,Wd:10,Ce:!0,Sb:[{type:"polygon",x:0,y:0,Z:1.5,fa:[[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*Math.PI/4)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)]]},{type:"polygon",x:0,y:0,Z:1.5,fa:[[.6*Math.cos(1*Math.PI/3)+.2,.6*Math.sin(1*Math.PI/3)],[Math.cos(3*Math.PI/4)+.2,Math.sin(3*Math.PI/4)],[.5*Math.cos(3*Math.PI/4)+.2,.5*Math.sin(3*
Math.PI/4)],[.8*Math.cos(1*Math.PI/3)+.2,.3*Math.sin(1*Math.PI/3)]]},{type:"polygon",x:0,y:0,Z:1.5,fa:[[.8*Math.cos(5*Math.PI/3)+.2,.3*Math.sin(5*Math.PI/3)],[.5*Math.cos(5*Math.PI/4)+.2,.5*Math.sin(5*Math.PI/4)],[Math.cos(5*Math.PI/4)+.2,Math.sin(5*Math.PI/4)],[.6*Math.cos(5*Math.PI/3)+.2,.6*Math.sin(5*Math.PI/3)]]}],Ie:["Fires an enormous ray that destroys everything in its path # # The ray has infinite range","After firing, must recharge for a short period # # During this time, the death ray cannot move",
"DOes not die on collision"],qe:"NO",Hg:"While in turret mode, sends a devastating ray across the level every 2 seconds.",Ag:"Death rays will only enter turret mode after they are a certain distance away from the walls. Death rays take 1 seconds to enter or leave turret mode.",className:Cd};
G["first boss"]={color:v["boss 1"],sb:4.5,ya:8,N:3,pa:0,Ic:[1E6,5E6,15E6],Wd:10,Rf:!0,uf:8,Df:6,Sb:[{type:"polygon",x:0,y:0,Z:3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],mw:[{type:"polygon",x:0,y:0,Z:3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/
2),Math.sin(3*Math.PI/2)]]}],$u:[{type:"polygon",x:0,y:0,Z:3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],Eu:[{type:"polygon",x:0,y:0,Z:3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/2),Math.sin(1*Math.PI/2)],[Math.cos(2*Math.PI/2),Math.sin(2*Math.PI/2)],[Math.cos(3*Math.PI/2),Math.sin(3*Math.PI/2)]]}],qe:"NO",Hg:"Shoots stunners, spears, and tanks at you. Can cast a global lighten, which causes everything to lighter and much easier to push.",
Ag:"The color of the boss's guns reflect what it is shooting. During the global lighten, the boss will shoot faster. Use this time to clear the field of enemies.",className:cd};
G["second boss"]={color:v["boss 2"],sb:4.5,ya:8,N:3,pa:0,Ic:[1E6,5E6,15E6],Wd:10,Rf:!0,Sb:[{type:"polygon",x:0,y:0,Z:3,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/4),Math.sin(1*Math.PI/4)],[Math.cos(2*Math.PI/4),Math.sin(2*Math.PI/4)],[Math.cos(3*Math.PI/4),Math.sin(3*Math.PI/4)],[Math.cos(4*Math.PI/4),Math.sin(4*Math.PI/4)],[Math.cos(5*Math.PI/4),Math.sin(5*Math.PI/4)],[Math.cos(6*Math.PI/4),Math.sin(6*Math.PI/4)],[Math.cos(7*Math.PI/4),Math.sin(7*Math.PI/4)]]}],qe:"NO",Hg:"Exerts a gravity on the field, pulling everything towards it. The closer to the boss, the stronger the pull. The boss has four gravity arms, inside which the gravity is doubled. The boss can also send a massive shockwave through the field.",
Ag:"Enemies that collide with the boss will be absorbed, increasing the boss's shockwave range. If you touch the boss, you will be flung away.",className:yd};
G["third boss"]={color:"#a260a6",sb:2,ya:8,N:4.5,pa:0,Wd:10,Ic:[1E6,5E6,15E6],Rf:!0,uf:16,Df:6,Sb:[{type:"polygon",x:0,y:0,Z:4.5,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/8)],[Math.cos(2*Math.PI/8),Math.sin(2*Math.PI/8)],[Math.cos(3*Math.PI/8),Math.sin(3*Math.PI/8)],[Math.cos(4*Math.PI/8),Math.sin(4*Math.PI/8)],[Math.cos(5*Math.PI/8),Math.sin(5*Math.PI/8)],[Math.cos(6*Math.PI/8),Math.sin(6*Math.PI/8)],[Math.cos(7*Math.PI/8),Math.sin(7*Math.PI/8)],[Math.cos(8*
Math.PI/8),Math.sin(8*Math.PI/8)],[Math.cos(9*Math.PI/8),Math.sin(9*Math.PI/8)],[Math.cos(10*Math.PI/8),Math.sin(10*Math.PI/8)],[Math.cos(11*Math.PI/8),Math.sin(11*Math.PI/8)],[Math.cos(12*Math.PI/8),Math.sin(12*Math.PI/8)],[Math.cos(13*Math.PI/8),Math.sin(13*Math.PI/8)],[Math.cos(14*Math.PI/8),Math.sin(14*Math.PI/8)],[Math.cos(15*Math.PI/8),Math.sin(15*Math.PI/8)]]}],BB:[{type:"polygon",x:0,y:0,Z:4.5,fa:[[0,0],[Math.cos(0*Math.PI/8),Math.sin(0*Math.PI/8)],[Math.cos(1*Math.PI/8),Math.sin(1*Math.PI/
8)]]}],qe:"NO",Hg:"Has six turrets which fire bullets. Can cast a global silence and enter berserk mode, during which its attack speed is doubled.",Ag:"Turrets which enter an obstacle cannot attack. Bullets can be reflected by Impulse to hit other enemies, including the boss.",className:pd};
G["fourth boss"]={color:"#ff0000",sb:9,ya:10,N:4,pa:0,Wd:10,Ic:[1E6,5E6,15E6],Rf:!0,uf:17,Df:6,Sb:[{type:"polygon",x:0,y:0,Z:4,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],oj:2,WB:[{type:"polygon",x:0,y:0,Z:2,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*
Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],qe:"NO",Hg:"Periodically spawns capsules. Has a thin laser which sweeps around the field. When the sweep laser hits a capsule, the capsule spawns a large number of enemies. The boss has two additional lasers, one which paralyzes and one which exerts massive force.",Ag:"The sweep laser can be blocked, preventing capsules from spawning enemies.",className:Vc};
G["boss four attacker"]={color:"white",sb:1.5,ya:1,Wy:.1,N:2.2,pa:360,Wd:10,Ic:[1E6,5E6,15E6],Sb:[{type:"polygon",x:0,y:0,Z:.1,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:bd};
G["boss four spawner"]={color:"rgb(0, 255, 0)",sb:4,ya:12,Wy:.1,N:1,pa:0,Ic:5E3,Sb:[{type:"polygon",x:0,y:0,Z:.1,fa:[[Math.cos(0*Math.PI),Math.sin(0*Math.PI)],[Math.cos(2*Math.PI/5),Math.sin(2*Math.PI/5)],[Math.cos(4*Math.PI/5),Math.sin(4*Math.PI/5)],[Math.cos(6*Math.PI/5),Math.sin(6*Math.PI/5)],[Math.cos(8*Math.PI/5),Math.sin(8*Math.PI/5)]]}],className:$c};var De={stunner:500,spear:250,tank:150,mote:150,goo:50,harpoon:50,disabler:50,fighter:50,slingshot:50,troll:50,deathray:25,orbiter:50};
function Ee(){for(var a in G)if(G[a].Ce){var b=new G[a].className(null,0,0,0,null),c=G[a],d={},f=b.Sb,g=b.BE.concat(b.Dq);for(index in g){var h=g[index],k=document.createElement("canvas");k.width=2*G[b.type].N*b.tm*F;k.height=2*G[b.type].N*b.tm*F;var m=k.getContext("2d"),q=b.Gk(h);q||(q=b.color);var p=G[b.type].N*Fa.prototype.tm,x=G[b.type].N*Fa.prototype.tm;m.translate(p*F,x*F);Ba(m,h,f,b.type,q);m.translate(-p*F,-x*F);d[h]=k}c.images=d}};function Fe(a,b,c){this.ka(a,b,c)}Fe.prototype.ka=function(a,b,c){this.Zi=a;this.color=b;this.cC=c};Fe.prototype.qa=function(){};Fe.prototype.Y=function(a,b){a.beginPath();a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=20;a.shadowColor=this.color;a.moveTo(this.Zi[0].x*b,this.Zi[0].y*b);for(var c=1;c<this.Zi.length;c++)a.lineTo(this.Zi[c].x*b,this.Zi[c].y*b);a.closePath();a.fillStyle=this.cC;a.strokeStyle=this.color;a.lineWidth=6;a.stroke();a.fill();a.shadowBlur=0};function Ge(a,b,c,d,f,g,h){this.ka(a,b,c,d,f,g,h)}Ge.prototype.ka=function(a,b,c,d,f,g,h){this.i=a;this.Xt=a.vh;this.de=a.de;b&&(this.Nz=b,this.fa=c,this.ts=g,this.JA=h);this.Wg=(new Date).getTime()};function He(a,b,c,d){var f;if(f=Hb(b,c,a.Nz,d)){if(!(d=c.p_n!=d))a:{a=a.de[c.p_n];d=a.length-1;for(f=0;f<a.length;f++){if(Ib(b,c,a[f],a[d])){d=!1;break a}d=f}d=!0}f=d}return f}
function Sb(a,b,c,d){if(Hb(b,c,a.Nz)&&Hb(b,c,a.i.kf))return{path:[c],Xd:Q(b,c)};for(var f=null,g=null,h=0;h<a.Xt.length;h++)Jb(a.Xt[h],b)&&(f=h),Jb(a.Xt[h],c)&&(g=h);var k=null,m=null,q=a.JA[50*Math.floor(b.x*F/50)+" "+50*Math.floor(b.y*F/50)],p=a.JA[50*Math.floor(c.x*F/50)+" "+50*Math.floor(c.y*F/50)];if(q){for(var x=[],h=0;h<q.length;h++)He(a,b,a.fa[q[h]],f)&&x.push(q[h]);q=x}if(!q||0==q.length)for(q=[],h=0;h<a.fa.length;h++)He(a,b,a.fa[h],f)&&q.push(h);if(p){f=[];for(h=0;h<p.length;h++)He(a,c,
a.fa[p[h]],g)&&f.push(p[h]);p=f}if(!p||0==p.length)for(p=[],h=0;h<a.fa.length;h++)He(a,c,a.fa[h],g)&&p.push(h);for(h=0;h<q.length;h++)for(g=0;g<p.length;g++)if(f=q[h]==p[g]?0:a.ts[q[h]][p[g]].b,null!=f&&(f=Q(b,a.fa[q[h]])+f+Q(a.fa[p[g]],c),!k||f<k))k=f,m=q[h]==p[g]?[q[h]]:a.ts[q[h]][p[g]].a;if(!m)return{path:null,Xd:null};d&&(d=Math.floor(Math.random()*q.length*p.length),h=Math.floor(d/p.length),g=d%p.length,Q(b,5>a.fa[m[0]])&&(h=q.indexOf(m[0])),0!=q.length*p.length&&(f=q[h]==p[g]?0:a.ts[q[h]][p[g]].b,
null!=f&&(f=Q(b,a.fa[q[h]])+f+Q(a.fa[p[g]],c),d=R(b,a.fa[m[0]]),x=R(b,a.fa[q[h]]),f<1.2*k&&Vb(d,x)<3*Math.PI/8&&!Hb(a.fa[m[0]],a.fa[q[h]])&&(k=f,m=q[h]==p[g]?[q[h]]:a.ts[q[h]][p[g]].a))));q=[];for(h=0;h<m.length;h++)q.push(a.fa[m[h]]);q.push(c);return 2==q.length&&Hb(b,c,a.i.kf)?{path:[c],Xd:Q(b,c)}:{path:q,Xd:k}};var Ie=!1,Ic=0,Jc=0,V=0,O=0,P=0,Je=null,Ke=null,Le=null,Me=null,Ne=null,F=15,Oe=0,S=null,Y=null,Pe="impulse_save_data",A,L,Qe,Re,sf,tf,uf,vf,wf,xf,fc=null,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If;
window.impulse_main=function(){b2Vec2=n.ba.Math.mg;b2AABB=n.w.Sn;b2BodyDef=n.l.Jl;b2Body=n.l.ne;b2FixtureDef=n.l.Pl;b2Fixture=n.l.Ol;b2World=n.l.Xe;b2MassData=n.w.Wa.jo;b2PolygonShape=n.w.Wa.ni;b2CircleShape=n.w.Wa.lj;b2DebugDraw=n.l.Ve;b2MouseJointDef=n.l.L.Sl;b2ContactListener=n.l.Vn;Ic=1200;Jc=600;V=200;O=Ic-2*V;P=Jc;Ke=document.getElementById("canvas");var a=document.getElementById("canvas_container");Ke.width=Ic;Ke.height=Jc;a.style.width=Ic+"px";a.style.height=Jc+"px";Le=document.getElementById("bg_canvas");
a=document.getElementById("bg_canvas_container");Le.width=Ic;Le.height=Jc;a.style.width=Ic+"px";a.style.height=Jc+"px";Je=Ke.getContext("2d");Me=Le.getContext("2d");window.addEventListener("keydown",Jf,!1);window.addEventListener("keyup",Kf,!1);window.addEventListener("click",Lf,!1);window.addEventListener("mousedown",Mf,!1);window.addEventListener("mouseup",Nf,!1);window.addEventListener("mousemove",Of,!1);window.addEventListener("resize",Pf,!1);window.oncontextmenu=function(){return!1};Pf();Qf();
Ee();va=sb();Rf();wa=[];ya();fc=new cc;S=new Sf;Oe=(new Date).getTime();Tf()};
function Pf(){var a,b;a=800;b=600;document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth,b=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight);Ic<a?(offset_left=(a-Ic)/2,canvas_container.style.left=Math.round(offset_left)+"px",bg_canvas_container.style.left=
Math.round(offset_left)+"px"):offset_left=0;Jc<b?(offset_top=(b-Jc)/2,canvas_container.style.top=Math.round(offset_top)+"px",bg_canvas_container.style.top=Math.round(offset_top)+"px"):offset_top=0;message.style.display=""}function Rf(){var a=document.createElement("canvas");a.width=O;a.height=P;yf=a;a=document.createElement("canvas");a.width=O;a.height=P;zf=a;a=document.createElement("canvas");a.width=O;a.height=P;Af=a}
function Uf(a,b){if(Bf!=a){Df=Cf=250;var c=zf.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Db(c,0,O,P,a);Ef=b;Ff=a}}function Vf(a,b){var c=yf.getContext("2d");"#"==a.substring(0,1)?(c.fillStyle=a,c.fillRect(0,0,O,P)):Db(c,0,O,P,a);Gf=b;Bf=a;Me.clearRect(0,0,canvas.width,canvas.height);Me.fillStyle="#000";Me.fillRect(0,0,canvas.width,canvas.height);Me.globalAlpha=Gf;Me.drawImage(yf,0,0,O,P,V,0,O,P);Me.globalAlpha=1}
function Wf(a){if(0<Df){var b=Df/Cf;Me.clearRect(0,0,canvas.width,canvas.height);Me.fillStyle="#000";Me.fillRect(0,0,canvas.width,canvas.height);Me.globalAlpha=b*Gf;Me.drawImage(yf,0,0,O,P,V,0,O,P);Me.globalAlpha=(1-b)*Ef;Me.drawImage(zf,0,0,O,P,V,0,O,P);Me.globalAlpha=1;Df-=a}else null!=Cf&&(Cf=null,Vf(Ff,Ef))}
function Tf(){var a=(new Date).getTime();Je.globalAlpha=1;dt=a-Oe;S.qa(dt);null!=Y&&Y.qa(dt);null!=Ne&&(If-=dt,0>If&&(Ne=null));S instanceof Xf?S instanceof Xf&&S.ready&&(1!=S.zoom?(Je.fillStyle=S.ri,Je.fillRect(V,0,O,P)):Je.clearRect(V,0,O,P)):Je.clearRect(0,0,canvas.width,canvas.height);if(S instanceof Xf){S.Y(Je,Me);Je.save();Yf(S,Je);for(var b=0;b<wa.length;b++)wa[b].Y(Je);Je.restore()}else Je.fillStyle="black",Je.fillRect(0,0,V,Jc),Je.fillRect(Ic-V,0,V,Jc),Je.translate(V,0),S.Y(Je,Me),Je.translate(-V,
0);null!=Y&&(Je.beginPath(),Je.globalAlpha=1,Je.fillStyle=Y.De?Y.De:"black",Je.rect(V,0,O,P),Je.fill(),Je.globalAlpha=1,Y.Y(Je));if(null!=Ne){b=Je;b.save();var c=If/Hf;b.globalAlpha=.2>c?5*b.globalAlpha*c:.9<c?10*b.globalAlpha*(1-c):1;Ne.Y(b);b.restore()}Oe=a;setTimeout(Tf,Math.max(33-((new Date).getTime()-a),1))}function Of(a){a=Nb(a);Y&&Y.Ha(a.x,a.y);if(S instanceof Xf){S.Ha(a.x,a.y);for(var b=0;b<wa.length;b++)wa[b].Ha(a.x,a.y)}else S.Ha(a.x-V,a.y)}
function Mf(a){a.preventDefault();var b=Nb(a);0==a.button?Y?Y.zg(b.x,b.y):S instanceof Xf?S.zg(b.x,b.y):S.zg(b.x-V,b.y):2==a.button&&(Y?Y.Bp(b.x,b.y):S instanceof Xf?S.Bp(b.x,b.y):S.Bp(b.x-V,b.y))}function Nf(a){a.preventDefault();var b=Nb(a);0==a.button?Y?Y.ah(b.x,b.y):S instanceof Xf?S.ah(b.x,b.y):S.ah(b.x-V,b.y):2==a.button&&(Y?Y.Cp(b.x,b.y):S instanceof Xf?S.Cp(b.x,b.y):S.Cp(b.x-V,b.y))}
function Lf(a){a.preventDefault();var b=Nb(a);if(0==a.button)if(Y){if(Y.Va(b.x,b.y),S instanceof Xf)for(a=0;a<wa.length;a++)wa[a].Va(b.x,b.y)}else if(S instanceof Xf){for(a=0;a<wa.length;a++)wa[a].Va(b.x,b.y);S.Va(b.x,b.y)}else S.Va(b.x-V,b.y)}function Zf(){return document.sC&&null!==document.sC||document.mozFullScreen||document.webkitIsFullScreen}
function Jf(a){a=null==a?window.event.keyCode:a.keyCode;a==ua.Ws&&0==Ie&&(Ie=!0,Ne=new $f("god_mode_alert","white",0),ag(Ne,Ic/2,Jc-50),Ne.visible=!0,If=Hf=2500,S instanceof bg&&cg(S));if(a==ua.at)if(fc.Tm){var b=fc;b.Tm=!1;A.sv=!1;$b();b.cc&&(b.Jc[b.cc].ih(A.am),b.Tj[b.cc]=!0)}else b=fc,b.Tm=!0,A.sv=!0,$b(),b.cc&&(b.Jc[b.cc].ih(0),b.Tj[b.cc]=!1);Y?Y.Qe(a):S.Qe(a)}function Kf(a){a=null==a?window.event.keyCode:a.keyCode;Y&&Y.Ap(a);S.Ap(a)}
function Qf(){var a={};void 0===localStorage[Pe]||null===localStorage[Pe]?(Re=!0,a.difficulty_mode="easy"):(a=JSON.parse(localStorage[Pe]),Re=0==a.first_time?!1:!0);a.levels||(a.levels={});a.enemies_seen||(a.enemies_seen={});a.enemies_killed||(a.enemies_killed={});a.world_rankings||(a.world_rankings={easy:{},normal:{}});var b={or:100,am:100,sr:!0,fc:!0,LF:!1,Ur:!1,Cr:!0,Pp:!1,Wb:"right",Nc:"mouse"};a.options||(a.options={});a.quests||(a.quests=[]);for(var c in b)a.options.hasOwnProperty(c)||(a.options[c]=
b[c]);a.save_data||(a.save_data={easy:{},normal:{}});sf=a.save_data;L=a.difficulty_mode?a.difficulty_mode:"normal";tf=a.total_kills?a.total_kills:0;uf=a.tutorial_shown?a.tutorial_shown:[];A=a.options;vf=a.quests;dg("easy",a);dg("normal",a);Qe=a.world_rankings;for(difficulty in Qe)for(world in Qe[difficulty])b=Qe[difficulty][world],"string"===typeof b&&(c=eg(b),fg(c)),b.rank&&(c=eg(b.rank),fg(c));for(s in G)G[s].ag=a.enemies_seen[s]?a.enemies_seen[s]:0,G[s].se=a.enemies_killed[s]?a.enemies_killed[s]:
0;gg("easy");gg("normal")}
function dg(a,b){for(s in N)if("HOW TO PLAY"!=s.slice(0,11))if("undefined"===typeof N[s].ab&&(N[s].ab={}),N[s].ab[a]={},b.levels.hasOwnProperty(s)&&b.levels[s].save_state&&b.levels[s].save_state[a])if(N[s].ab[a].Dc=b.levels[s].save_state[a].high_score,N[s].ab[a].ag=b.levels[s].save_state[a].seen,N[s].ab[a].bd=b.levels[s].save_state[a].best_time,"HIVE"==s.slice(0,4)){for(var c=0;N[s].ab[a].Dc>=N[s].na[a][c];)c+=1;N[s].ab[a].aa=c}else N[s].ab[a].aa=1E3>N[s].ab[a].bd?3:0;else N[s].ab[a].Dc=0,N[s].ab[a].aa=
0,N[s].ab[a].ag=!1,N[s].ab[a].bd=1E3}function $b(){var a={levels:{}};hg("easy",a);hg("normal",a);a.enemies_seen={};a.enemies_killed={};for(s in G)a.enemies_seen[s]=G[s].ag,a.enemies_killed[s]=G[s].se;a.total_kills=tf;a.difficulty_mode=L;a.world_rankings=Qe;a.save_data=sf;a.options=A;a.first_time=Re;a.tutorial_shown=uf;a.quests=vf;localStorage[Pe]=JSON.stringify(a)}
function hg(a,b){for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&(b.levels.hasOwnProperty(s)||(b.levels[s]={},b.levels[s].save_state={}),b.levels[s].save_state[a]={},b.levels[s].save_state[a].high_score=N[s].ab[a].Dc,b.levels[s].save_state[a].best_time=N[s].ab[a].bd,b.levels[s].save_state[a].seen=N[s].ab[a].ag)}function gg(a){var b=0;for(s in N)"HOW TO PLAY"!=s.slice(0,11)&&N[s].ab[a]&&(b+=N[s].ab[a].aa);wf=0;for(s in De)G[s].se>=De[s]&&(wf+=1);"undefined"===typeof xf&&(xf={});xf[a]=b+wf}
function kc(){for(var a=3,b=0;b<vf.length;b++)-1!=Fb[vf[b]].La.indexOf("life")&&(a+=1);return a}function lc(){for(var a=0,b=0;b<vf.length;b++)-1!=Fb[vf[b]].La.indexOf("ult")&&(a+=1);return a}function mc(){for(var a=10,b=0;b<vf.length;b++)-1!=Fb[vf[b]].La.indexOf("spark")&&(a+=1);return a}
function ig(){for(var a=null,b=0;b<ra.length;b++)0<ra[b].Qc&&(ra[b].Qc<a||null==a)&&(a=ra[b].Qc);for(b=0;b<sa.length;b++)0<sa[b].Qc&&(sa[b].Qc<a||null==a)&&(a=sa[b].Qc);for(b=0;b<ta.length;b++)0<ta[b].Qc&&(ta[b].Qc<a||null==a)&&(a=ta[b].Qc)}function jg(a){return 2==a?.5:3==a?.4:.3};function kg(a,b,c,d,f,g,h,k){this.type=a;this.Ck=b;this.Vp=c;this.Up=d;this.xs=f;this.uD=g;this.tD=h;this.lD=k;this.ul=0==this.Ck?1E3*this.Vp:1}kg.prototype.qa=function(a,b){b>this.Ck&&(this.ul-=a)};function lg(a,b){this.ka(a,b)}l=lg.prototype;
l.ka=function(a,b){this.n=b.n;this.Gm=b;this.v=null;this.$v=a.$v;this.kl=!1;this.Jv=500;"easy"==L&&(this.sm=a.Mb);this.sm?this.ME=!0:this.sm=a.r;"easy"==L&&(this.Ra=a.ed);this.Ra?this.NE=!0:this.Ra=a.Ra;this.vj={};this.O=a.O;"easy"==L&&(this.ua=a.jA);this.ua||(this.ua=a.ua);this.us=0;this.qE=8E3;this.Dp=a.Dp;this.Ui=a.hb;"easy"==L&&a.Mz&&(this.Ui=a.Mz);this.hb=this.Ui;this.Aa=a.Aa;this.Xr=a.Xr;"easy"==L&&(this.Na=a.Ef);this.Na||(this.Na=a.Na);this.zr=a.zr;this.color=v["world "+this.Gm.n];this.ri=
v["world "+this.Gm.n+" dark"];this.xb=v["world "+this.Gm.n+" lite"];this.K=v["world "+this.Gm.n+" bright"];this.ta="BOSS"==this.O.slice(0,4);this.ta||(this.ez=parseInt(this.O.slice(this.O.length-1,this.O.length)),this.na=a.na[L]);this.uh=!1;this.Pa=a.Pa;this.vh=[];this.de=[];this.Rh=[];this.kf=[];this.vD=[];this.Af=[];this.$p=0;this.mD=20;this.Bj=!1;this.sy={stunner:ze,spear:ye,tank:od,mote:wc,goo:ve,disabler:Be,troll:Ae,fighter:qe,harpoon:Ac,orbiter:ue,slingshot:xc,deathray:Cd,"first boss":cd,"second boss":yd,
"third boss":pd,"fourth boss":Vc,"boss four spawner":$c};this.Md=a.Md?{x:a.Md.x/F,y:a.Md.y/F}:{x:this.Ui.x/F,y:this.Ui.y/F};this.Ek=4;this.Hy=500;this.Cj=null;this.Dk=[];this.Bm=this.yr=1E3;this.Fy=2E3;this.Gy=5;this.reset();this.Vq={};this.Dy=null;this.yu=0};
l.reset=function(){this.ic=this.v&&this.v.ic?!0:!1;this.kl=!1;this.r=[];this.vc=0;this.As=this.jd=200;this.um=1;this.Bj=!1;this.zp=0;this.VB=3;this.Mc=null;this.uh=this.Gx=!1;this.ti={};for(s in this.sm){var a=this.sm[s];this.ti[s]=new kg(s,a[0],a[1],a[2],a[3],a[4],a[5],a[6]);this.vj[s]=0}this.Ho=[];this.Uo=[];this.ci=[];this.bg=[];this.Xy=!1;this.Tp=this.Ae=null;this.iA=1E4;this.wp=this.we=null;this.Gz=1E4};
function mg(a){if(a.ua&&0!=a.ua.length){var b=Math.floor(Math.random()*a.ua.length);a.Ae={x:a.ua[b][0],y:a.ua[b][1]};for(var c={x:a.v.o.body.g.position.x*F,y:a.v.o.body.g.position.y*F};125>Q(c,a.Ae)||a.we&&a.we.x==a.Ae.x&&a.we.y==a.Ae.y;)b+=1,b%=a.ua.length,a.Ae={x:a.ua[b][0],y:a.ua[b][1]};a.Tp=a.iA}}
function ng(a){var b=Math.floor(Math.random()*a.ua.length);a.we={x:a.ua[b][0],y:a.ua[b][1]};for(var c={x:a.v.o.body.g.position.x*F,y:a.v.o.body.g.position.y*F};125>Q(c,a.we)||a.Ae&&a.we.x==a.Ae.x&&a.we.y==a.Ae.y;)b+=1,b%=a.ua.length,a.we={x:a.ua[b][0],y:a.ua[b][1]};a.wp=a.Gz}
l.qa=function(a){if(!this.ta&&0<this.ua.length){if("normal"==L)if(this.Tp-=a,null==this.Ae||0>this.Tp)mg(this);else{var b={x:this.v.o.body.g.position.x*F,y:this.v.o.body.g.position.y*F};25>Q(b,this.Ae)&&(ec("sparks"),this.v.u.gc+=this.v.u.Gg,100<=this.v.u.gc&&(this.v.u.gc-=100,this.v.u.Ma+=1,Oc(this.v,"1UP",v.impulse_blue,this.v.o.body.g.position.x,this.v.o.body.g.position.y-1,24,3E3)),Oc(this.v,"+"+this.v.u.Gg,v.impulse_blue,this.Ae.x/F,this.Ae.y/F,20,2E3,!0),mg(this),this.v.ai&&uc(this.v,"got_spark"))}this.wp-=
a;null==this.we||0>this.wp?ng(this):(b={x:this.v.o.body.g.position.x*F,y:this.v.o.body.g.position.y*F},25>Q(b,this.we)&&(ec("sparks"),this.v.H.sh+=5,this.v.H.pe=this.v.H.sh+Math.floor(this.v.H.Yc/10),Oc(this.v,"x"+this.v.H.pe,"white",this.we.x/F,this.we.y/F,20,2E3),ng(this)));this.us+=2*Math.PI*a/this.qE}null!=this.Cj&&(0<this.Cj?this.Cj-=a:(Me.translate(V,0),this.Ge(Me),Me.translate(-V,0),this.Cj=null));this.kl&&(this.ks-=a);this.Bj&&this.ds(a);0>=this.zp&&1>this.yp?this.yp=Math.min(1,this.yp+a/
1E3):0<this.zp&&0<this.yp&&(this.yp=Math.max(0,this.yp-a/1E3));0<this.zp&&(this.zp-=a);this.Ho=[];this.ci=[];this.Uo=[];for(b=0;b<this.r.length;b++)this.r[b].qa(b,a);for(;0<this.Ho.length;)b=this.Ho.pop(),this.v.wa.Cw(this.r[b].body),this.r[b]instanceof Ac&&this.v.wa.Cw(this.r[b].cb.body),this.r[b]==this.Mc&&(this.uh=!0);for(b=this.Af.length-1;0<=b;b--)this.Af[b].qa(a),0>=this.Af[b].Kr&&(this.Af.splice(b,1),this.$p-=4);for(;0<this.Uo.length;){b=this.Uo.pop();this.vj[this.r[b].type]-=1;if("goo"==this.r[b].type||
"disabler"==this.r[b].type){var c=this.ti[this.r[b].type];c.ul=1E3*Math.max(c.Vp-(this.v.H.Yc-c.Ck)/60*c.Up,c.xs)}this.r.splice(b,1)}for(;0<this.ci.length;)b=this.ci.pop(),og(this,b);if(!this.Xy)this.zi(),this.Xy=!0;else if("HIVE 0-3"!=this.O||!this.v.Fk){if(!this.ta){for(var d in this.ti){b=this.ti[d];b.qa(a,this.v.H.Yc);c=this.v.H.Yc;if(0>=b.ul){b.ul+=1E3*Math.max(b.Vp-(c-b.Ck)/60*b.Up,b.xs);var f=0;0<b.Up&&(f=2*Math.max(0,(b.xs-(b.Vp-(c-b.Ck)/60*b.Up))/b.Up)*b.xs/b.Vp);b=b.uD+(c-b.Ck)/60*b.tD+
f}else b=void 0;if(0<b&&("easy"!=L||this.ME||(b=Math.max(1,.5*b)),this.v instanceof tc&&this.cy&&(b*=2),this.v instanceof tc&&this.Um&&(b=0),c=0,0<b))for(this.Aa&&(c=pg(this)),f=0;f<Math.floor(b);f++)this.bg.push({type:d,sE:c}),c=pg(this,c)}if(0==this.r.length&&0==this.bg.length){d=1E3;for(var g in this.ti)b=this.ti[g],this.v.H.Yc>b.Ck&&(d=Math.min(d,b.ul));for(g in this.ti)b=this.ti[g],b.qa(d,this.v.H.Yc)}}0<=this.As?this.As-=a:0<this.bg.length&&(a=this.bg[0].type,g=this.bg[0].sE,this.bg=this.bg.slice(1),
this.zs(a,g),this.As=this.jd)}if(this.uh)for(b=0;b<this.r.length;b++)this.r[b].P||this.r[b].Kc("kill")};l.zi=function(){if(this.Ra)for(var a in this.Ra){var b=0;0<c&&this.Aa&&(b=pg(this));var c=this.Ra[a];this.ta||"easy"!=L||this.NE||(c=Math.max(1,.5*c));for(var d=0;d<Math.floor(c);d++)this.zs(a,b),b=pg(this,b)}};
function pg(a,b){if("spread"==a.$v){for(var c=0,d=Math.floor(Math.random()*a.Aa.length),f=0;f<a.Aa.length;f++){for(var g={x:a.Aa[f][0]/F,y:a.Aa[f][1]/F},h=-1,k=0;k<a.r.length;k++){var m=Q(a.r[k].body.g.position,g);if(-1==h||m<h)h=m}h>c&&(c=h,d=f)}return d}return void 0==b?Math.floor(Math.random()*a.Aa.length):b+1}function Lc(a,b,c,d,f){if("player"==b||"spark"==b||"multi"==b||"boss"==b.slice(b.length-4,b.length)||a.$p<a.mD&&A.sr)a.Af.push(new qg(b,c,d,f)),a.$p+=4}
l.zs=function(a,b){if(!this.kl){var c=G[a].className;if(!(c.prototype.Rf&&this.Gx||this.vj[a]>=this.ti[a].lD)){if(c.prototype.Rf)this.Mc=c=new c(this.v.wa,O/F/2,P/F/2,this.vc,this.v),this.Gx=!0;else if(this.Aa)var d=this.Aa[b%this.Aa.length],c=new c(this.v.wa,d[0]/F,d[1]/F,this.vc,this.v);else{var f;.5>Math.random()?(d=.5>Math.random()?-7:O/F+5,f=Math.random()*(P/F+12)-7):(f=.5>Math.random()?-7:P/F+5,d=Math.random()*(O/F+12)-7);d={x:d+2*Math.random(),y:f+2*Math.random()};c=new c(this.v.wa,d.x,d.y,
this.vc,this.v)}og(this,c)}}};function og(a,b){a.r.push(b);a.vc+=1;a.vj[b.type]+=1;b.Rf&&(a.Mc=b);b.Dm&&!a.Vq.hasOwnProperty(b.type)&&(a.Vq[b.type]=b.em)}function rg(a){null==a.Xr&&a.Na.length&&(a.Xr=a.Na.length);for(var b=0;b<a.Xr;b++){var c=a.zr(b);a.Rh.push(new Fe(c,a.xb,a.ri));a.de.push(c);for(var d=0;d<c.length;d++)a.vD.push(c[d]);a.vh.push(Pb(c,a.Pa))}for(b=0;b<a.Rh.length;b++)for(var c=a.Rh[b],d=c.Zi.length-1,f=0;f<c.Zi.length;f++)a.kf.push({p1:c.Zi[d],p2:c.Zi[f]}),d=f}
l.gh=function(a,b){if(this.Md&&!this.ta){a.save();if(null!=this.Cj&&4>=this.n){var c=Math.max(this.Cj/this.Hy,0);a.globalAlpha*=.3+.2*(1-c)}else a.globalAlpha=this.v&&this.Bj&&4>=this.n?.7*a.globalAlpha:.3*a.globalAlpha;Ka(a,this.n,this.Md.x*b,this.Md.y*b,this.Ek*b,this.Bj,0);this.Bj&&this.gr(a,b);a.restore()}};
l.Y=function(a,b){a.save();if(0<this.yu){a.save();a.globalAlpha=this.yu;for(var c=0;c<this.Rh.length;c++){window.console.log(a.globalAlpha);var d=this.Rh[c].color;this.Rh[c].color=this.Dy;this.Rh[c].Y(a,F);this.Rh[c].color=d}a.restore()}this.Ae&&(c=this.Tp/this.iA,a.save(),a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.7),this.kl&&(a.globalAlpha*=Math.max(0,this.ks/this.Jv)),J(a,this.Ae.x,this.Ae.y,this.us,25,25,"spark"),a.restore());this.we&&(c=this.wp/this.Gz,a.save(),a.globalAlpha*=Math.min(1,
(1-2*Math.abs(c-.5))/.7),this.kl&&(a.globalAlpha*=Math.max(0,this.ks/this.Jv)),J(a,this.we.x,this.we.y,this.us,25,25,"multi"),a.restore());this.ID&&(Me.translate(V,0),this.Ge(Me,!0),Me.translate(-V,0),this.ID=!1);1!=this.um&&(a.save(),a.globalAlpha*=this.um);for(c=0;c<this.r.length;c++)this.r[c].gh(a,b);for(var f in this.Vq)for(var d=this.Vq[f],g=1;g<=d;g++){for(var h=null,c=0;c<this.r.length;c++)this.r[c].type==f&&(null==h&&(h=this.r[c],h.fm(a,b,g)),this.r[c].cm(a,b,g));null!=h&&h.dm(a,b,g)}for(c=
0;c<this.r.length;c++)this.r[c].Y(a,b);for(c=0;c<this.r.length;c++)this.r[c].uu(a,b);for(c=0;c<this.Af.length;c++)this.Af[c].Y(a,b);1!=this.um&&a.restore();0<=this.UB&&(a.beginPath(),a.arc(O/b/2*b,P/b/2*b,2*this.VB*b,-.5*Math.PI,-.5*Math.PI+this.UB/this.sF*Math.PI*2,!0),a.lineWidth=2,a.strokeStyle="gray",a.stroke(),a.globalAlpha=1);a.restore()};
l.Ge=function(a){a.save();a.rect(0,0,O,P);a.clip();null!=this.Gm.n?Db(a,0,O,P,"Hive "+this.Gm.n):(a.fillStyle=v["world 0 bright"],a.fillRect(0,0,O,P));for(var b=0;b<this.Rh.length;b++)this.Rh[b].Y(a,F);this.ta?(a.fillStyle=v["world "+this.n+" dark"],a.fillRect(375,0,50,25),a.fillRect(375,575,50,25),a.fillRect(0,275,25,50),a.fillRect(775,275,25,50)):"HIVE 0-3"==this.O?(a.fillStyle=v["world "+this.n+" dark"],a.fillRect(0,0,800,200),a.fillRect(0,400,800,200)):"HIVE 0-4"==this.O&&(a.fillStyle=v["world "+
this.n+" dark"],a.fillRect(0,0,800,50),a.fillRect(0,550,800,50));a.restore()};l.ds=function(a){for(var b=0;b<this.Dk.length;b++){var c=this.Dk[b];c.Uh+=a/this.Fy;1<c.Uh&&this.Dk.splice(b,1)}this.Bm-=a;0>this.Bm&&(this.Bm+=this.yr,this.zu(this.Md.x,this.Md.y,this.Gy))};l.zu=function(a,b,c){for(var d=0;d<c;d++){var f=2*Math.PI*d/c+(Math.random()-.5)*Math.PI*2/c;this.Dk.push({zE:1.5*Math.cos(f)*this.Ek+a,AE:1.4*Math.sin(f)*this.Ek+b,Uh:0})}};
l.gr=function(a,b){for(var c=0;c<this.Dk.length;c++){var d=this.Dk[c];a.save();a.globalAlpha=.25>d.Uh?4*a.globalAlpha*d.Uh:(1-d.Uh)/.75*a.globalAlpha;a.beginPath();a.rect(b*(d.zE*(1-d.Uh)+this.Md.x*d.Uh)-3,b*(d.AE*(1-d.Uh)+this.Md.y*d.Uh)-3,6,6);a.fillStyle=v["world "+this.n+" bright"];a.fill();a.restore()}};var N={"HOW TO PLAY":{r:{stunner:[0,4,0,4,1,0,5]},lb:"stunner",Na:[[[838,84],[-38,84],[-38,-45],[838,-45]],[[-38,175],[42,175],[42,258],[756,258],[756,175],[838,175],[838,645],[-38,645]]],ua:[[72,225],[728,225],[21,127],[779,127]],Aa:[[-100,127],[900,127]],Pa:1,na:{normal:[2500,1E4,2E4],easy:[2500,1E4,2E4]},hb:{x:400,y:170},Pa:1},"HIVE 0-1":{Mb:{},r:{},ed:{},Ra:{},lb:"stunner",Na:[],ua:[],Aa:[],Pa:1,al:50,na:{normal:[0,3E5,12E5]},hb:{x:200,y:300},Md:{x:600,y:300}},"HIVE 0-2":{Mb:{},r:{},ed:{},Ra:{},
lb:"stunner",Na:[[[60,120],[120,120],[120,420],[680,420],[680,120],[740,120],[740,480],[60,480]],[[180,120],[620,120],[620,360],[560,360],[560,180],[240,180],[240,360],[180,360]]],ua:[],Aa:[],Pa:1,al:50,na:{normal:[0,3E5,12E5]},hb:{x:400,y:520},Md:{x:400,y:300}},"HIVE 0-3":{Mb:{dumb_stunner:[0,1,0,1,1,0,1]},r:{dumb_stunner:[0,1,0,1,1,0,1]},ed:{dumb_stunner:1},Ra:{dumb_stunner:1},lb:"dumb_stunner",Na:[[[-50,-50],[850,-50],[850,200],[-50,200]],[[-50,400],[850,400],[850,650],[-50,650]],[[50,-50],[50,
650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]]],ua:[],Aa:[[200,300]],Pa:1,al:50,na:{normal:[100,3E5,12E5]},hb:{x:100,y:300},Md:{x:600,y:300}},"HIVE 0-4":{Mb:{dumb_stunner:[0,1,0,1,1,0,4]},r:{dumb_stunner:[0,1,0,1,1,0,4]},ed:{dumb_stunner:4},Ra:{dumb_stunner:4},lb:"dumb_stunner",Na:[[[-50,-50],[850,-50],[850,50],[-50,50]],[[-50,550],[850,550],[850,650],[-50,650]],[[50,-50],[50,650],[-50,650],[-50,-50]],[[750,-50],[750,650],[850,650],[850,-50]]],ua:[[200,200],[600,200],[200,400],
[600,400]],Aa:[[300,300],[500,300],[400,200],[400,400]],Pa:1,al:50,na:{easy:[5E3,1E4,2E4],normal:[5E3,1E4,2E4]},hb:{x:400,y:300},$v:"spread",gn:!0},"HIVE 1-1":{Mb:{stunner:[0,5,1,1,2,0,50]},r:{stunner:[0,3,0,3,4,4,50]},ed:{stunner:2},Ra:{stunner:4},lb:"stunner",Na:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,-26],[833,-26]],[[144,367],[656,367],[656,626],[144,626]],[[144,-26],[656,-26],[656,233],[144,233]]],Ef:[[[-33,-26],[19,-26],[19,626],[-33,626]],[[833,626],[781,626],[781,
-26],[833,-26]],[[174,400],[626,400],[626,626],[174,626]],[[174,-26],[626,-26],[626,200],[174,200]]],ua:[[81,75],[81,525],[719,75],[719,525]],jA:[[250,250],[250,350],[550,250],[550,350]],Aa:[[50,-100],[750,-100],[50,700],[750,700]],Pa:1,al:50,na:{easy:[2500,5E4,3E5],normal:[5E4,3E5,12E5]},hb:{x:400,y:300}},"HIVE 1-2":{r:{stunner:[3,3,0,3,2,2,25],spear:[0,2.5,.5,1.5,1,0,25]},Mb:{stunner:[5,3,1,1,1,0,25],spear:[0,5,1,1,1,0,25]},Ra:{spear:2},lb:"spear",Na:[[[112,-6],[688,-6],[688,26],[112,26]],[[-9,
96],[30,96],[30,505],[-9,505]],[[809,504],[770,504],[770,95],[809,95]],[[688,606],[112,606],[112,574],[688,574]],[[135,126],[330,126],[135,259]],[[135,341],[330,474],[135,474]],[[665,259],[470,126],[665,126]],[[665,474],[470,474],[665,341]]],ua:[[135,300],[665,300],[400,125],[400,475],[709,78],[91,78],[709,522],[91,522]],Aa:[[-100,-100],[900,700],[900,-100],[-100,700]],Pa:1,na:{easy:[1E4,8E4,4E5],normal:[15E4,45E4,135E4]},hb:{x:400,y:300}},"HIVE 1-3":{Mb:{stunner:[0,2,.4,.8,2,0,40],spear:[30,6,1.5,
1.5,1,0,15]},r:{stunner:[0,1,0,1,2,2,40],spear:[20,5,0,5,1,3,15]},ed:{stunner:6},Ra:{stunner:12},lb:"stunner",Na:[[[-11,-10],[335,-10],[-11,252]],[[-11,348],[335,610],[-11,610]],[[811,252],[465,-10],[811,-10]],[[811,610],[465,610],[811,348]],[[466,300],[400,348],[335,300],[400,251]]],Aa:[[-100,300],[400,-100],[900,300],[400,700]],ua:[[400,50],[50,300],[400,550],[750,300]],Pa:1,na:{easy:[2E4,12E4,6E5],normal:[1E5,3E5,12E5]},hb:{x:400,y:400}},"HIVE 1-4":{Mb:{spear:[0,6,1,1,2,0,40]},r:{spear:[0,3,0,
3,2,3,40]},Ra:{spear:2},ed:{spear:1},lb:"spear",Na:[[[-15,73],[265,253],[-15,269]],[[336,426],[362,610],[-15,610]],[[464,175],[438,-10],[815,-10]],[[-15,331],[265,348],[-15,527]],[[815,269],[535,253],[815,73]],[[-15,-10],[362,-10],[336,175]],[[815,610],[438,610],[464,426]],[[815,527],[535,348],[815,331]]],Aa:[[-100,14],[900,14],[900,586],[-100,586],[-100,300],[400,-100],[900,300],[400,700]],ua:[[400,125],[400,475],[125,300],[675,300],[177,145],[623,145],[177,455],[623,455]],Pa:1,na:{easy:[25E3,2E5,
75E4],normal:[125E3,4E5,15E5]},hb:{x:400,y:300}},"HIVE 1-5":{r:{spear:[0,6,0,6,2,1.5,15],tank:[0,4,0,4,2,1.5,25]},Mb:{spear:[6,6,2,2,1.5,0,15],tank:[0,5,2,1,1,0,25]},lb:"tank",Ra:{spear:8,tank:4},ed:{tank:6},Na:[[[103,1],[688,1],[688,27],[103,27]],[[799,483],[770,483],[770,116],[799,116]],[[103,573],[688,573],[688,599],[103,599]],[[1,116],[30,116],[30,483],[1,483]]],Aa:[[-100,-100],[900,-100],[900,700],[-100,700]],ua:[[66,528],[66,72],[734,528],[66,528]],Pa:1,na:{easy:[4E4,2E5,6E5],normal:[15E4,4E5,
125E4]},hb:{x:400,y:300}},"HIVE 1-6":{r:{stunner:[0,6,0,6,2,1,25],tank:[0,8,0,8,2,4,25]},Mb:{stunner:[0,6,0,6,2,1,25],tank:[0,8,2,2,1,1,25]},Ra:{tank:4},ed:{tank:4},lb:"tank",Na:[[[828,322],[518,8],[554,-32],[823,-32]],[[-28,278],[282,592],[246,632],[-23,632]],[[398,125],[575,300],[399,476],[223,300]],[[107,185],[-25,53],[-25,-34],[325,-34]],[[693,415],[825,547],[825,634],[475,634]]],Aa:[[400,-100],[400,700],[-100,150],[900,450]],ua:[[50,240],[400,15],[400,585],[750,360]],Pa:1,na:{easy:[4E4,2E5,8E5],
normal:[15E4,5E5,2E6]},hb:{x:250,y:150}},"HIVE 1-7":{Mb:{stunner:[0,5,1,2,1,0,30],spear:[0,6,1.2,2.4,1,0,15],tank:[0,10,2.5,5,1,0,15]},r:{stunner:[0,4,0,4,2,1,30],spear:[0,5,0,5,2,1,15],tank:[0,8,0,8,2,1,15]},Ra:{stunner:6,spear:2,tank:4},ed:{stunner:2,spear:1,tank:1},lb:"tank",Na:[[[243,110],[332,144],[243,179],[153,144]],[[310,-3],[400,-38],[489,-3],[400,31]],[[310,300],[400,265],[489,300],[400,334]],[[88,-38],[177,-3],[88,31],[-2,-3]],[[-2,300],[88,265],[177,300],[88,334]],[[-21,125],[25,143],
[-21,163]],[[-2,603],[88,569],[177,603],[88,638]],[[802,-3],[712,31],[623,-3],[712,-38]],[[-21,437],[25,457],[-21,475]],[[821,163],[775,143],[821,125]],[[153,456],[243,421],[332,456],[243,490]],[[647,144],[557,179],[468,144],[557,110]],[[712,334],[623,300],[712,265],[802,300]],[[557,490],[468,456],[557,421],[647,456]],[[712,638],[623,603],[712,569],[802,603]],[[400,569],[489,603],[400,638],[310,603]],[[821,475],[775,457],[821,437]]],Aa:[[-100,50],[-100,300],[-100,550],[900,50],[900,300],[900,550],
[240,-100],[560,-100],[240,700],[560,700]],ua:[[75,145],[235,34],[565,34],[725,145],[725,455],[565,566],[235,566],[75,455]],Pa:1,na:{easy:[5E4,15E4,75E4],normal:[125E3,4E5,15E5]},hb:{x:400,y:450}},"BOSS 1":{r:{"first boss":[0,1,0,1,0,0,1]},Ra:{"first boss":1},lb:"first boss",Na:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,
300],[825,300]]],Aa:[[60,62],[60,539],[740,62],[740,539]],Pa:1,hb:{x:400,y:550},gu:40},"HIVE 2-1":{Mb:{stunner:[0,5,1.5,2,1,0,15],tank:[15,12,3,3,1,0,15],mote:[0,10,2,4,2,0,25]},r:{stunner:[1,4,0,4,2,2,15],tank:[0,8,0,8,2,1,15],mote:[0,6,0,6,2,2,25]},Ra:{mote:4,tank:2},ed:{mote:2,stunner:2},lb:"mote",Na:[[[-12,-8],[815,-8],[815,609],[748,609],[748,50],[51,50],[51,609],[-12,609]],[[176,609],[176,175],[288,174],[286,286],[228,286],[228,540],[566,540],[566,287],[510,286],[510,175],[626,175],[626,609]],
[[324,363],[469,363],[469,466],[324,466]]],ua:[[400,500],[687,450],[113,450]],Aa:[[100,700],[700,700]],Pa:1,na:{easy:[6E4,2E5,75E4],normal:[15E4,45E4,175E4]},hb:{x:400,y:235}},"HIVE 2-2":{r:{stunner:[3,3,0,3,2,1,30],spear:[0,10,0,10,4,4,20],mote:[0,5,1,2,1,0,20]},Mb:{stunner:[5,5,1,2,1,0,30],spear:[0,12,0,12,2,1,20],mote:[0,7,1.5,3,1,0,20]},Ra:{spear:4,mote:2},lb:"mote",Na:[[[-25,253],[143,253],[143,347],[-25,347]],[[825,347],[656,347],[656,253],[825,253]],[[556,347],[454,347],[454,253],[557,253]],
[[244,253],[346,253],[346,347],[243,347]],[[-25,-36],[825,-36],[825,148],[758,148],[758,23],[656,23],[658,148],[555,148],[557,23],[454,23],[455,148],[346,148],[346,23],[243,23],[244,148],[143,148],[143,23],[42,23],[42,148],[-25,148]],[[-25,452],[42,452],[42,577],[143,577],[143,452],[244,452],[243,577],[346,577],[346,452],[455,452],[454,577],[557,577],[555,452],[658,452],[656,577],[758,577],[758,452],[825,452],[825,636],[-25,636]]],Aa:[[-100,175],[900,175],[900,425],[-100,425]],ua:[[95,85],[295,85],
[505,85],[705,85],[95,515],[295,515],[505,515],[705,515]],Pa:1,na:{normal:[1E5,3E5,15E5]},hb:{x:400,y:300}},"HIVE 2-3":{Mb:{spear:[0,8,0,8,2,1,30],tank:[0,8,0,8,2,1,30],goo:[0,10,0,10,1,0,1]},r:{spear:[0,8,0,8,4,1,30],tank:[0,8,0,8,4,1,30],goo:[0,10,0,10,1,0,1]},lb:"goo",Na:[[[169,549],[630,549],[706,621],[91,622]],[[631,51],[170,51],[94,-21],[709,-22]],[[-24,116],[58,184],[56,416],[-24,483]],[[824,484],[743,416],[744,184],[824,117]]],Aa:[[-100,-100],[900,-100],[900,700],[-100,700]],ua:[[66,528],
[66,72],[734,528],[66,528]],Pa:1,Ra:{tank:4,spear:8,goo:1},ed:{tank:2,spear:2,goo:1},na:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},hb:{x:400,y:300}},"HIVE 2-4":{r:{stunner:[6,6,0,6,2,2,10],spear:[0,2,.3,1,1.5,0,20],mote:[0,6,2,2,1,0,15],goo:[0,10,0,10,1,0,1]},Mb:{stunner:[8,8,0,8,2,1,10],spear:[0,6,1,1,1.5,1,20],mote:[0,8,1.5,2,1,0,15],goo:[0,10,0,10,1,0,1]},lb:"goo",Ra:{spear:3,goo:1,mote:3},Na:[[[-33,-54],[342,-54],[343,201],[191,384],[-33,536]],[[833,536],[609,384],[457,201],[458,-54],[833,-54]],
[[526,478],[725,602],[725,641],[75,641],[75,602],[274,478]]],Aa:[[400,-100],[-125,700],[925,700]],ua:[[400,120],[180,460],[620,460]],Pa:1,na:{easy:[6E4,2E5,8E5],normal:[175E3,5E5,2E6]},hb:{x:400,y:330}},"HIVE 2-5":{Mb:{stunner:[14,6,2,2,1,0,15],mote:[15,8,2,4,1,0,15],harpoon:[0,15,3,6,1.5,0,15]},r:{stunner:[0,6,0,6,1,2,15],mote:[0,8,1.6,3.2,1,0,15],harpoon:[0,20,4,8,2,0,15]},lb:"harpoon",Ra:{stunner:2,mote:2,harpoon:2},ed:{harpoon:1},Na:[[[-32,-31],[49,-31],[49,631],[-32,631]],[[832,631],[751,631],
[751,-31],[832,-31]],[[656,366],[629,366],[629,236],[656,236]],[[144,235],[171,235],[171,364],[144,364]],[[387,235],[414,235],[414,365],[387,365]],[[265,368],[292,368],[292,498],[265,498]],[[535,232],[508,232],[508,102],[535,102]],[[265,102],[292,102],[292,232],[265,232]],[[535,498],[508,498],[508,368],[535,368]],[[659,102],[628,102],[629,18],[414,18],[414,102],[387,102],[387,18],[172,18],[172,102],[143,102],[145,-34],[659,-33]],[[141,498],[172,498],[171,582],[386,582],[386,498],[414,498],[413,582],
[628,582],[628,498],[658,498],[655,634],[141,633]]],Pa:1,Aa:[[100,-100],[700,-100],[100,700],[700,700]],ua:[[100,50],[100,300],[100,550],[700,50],[700,300],[700,550]],na:{easy:[8E4,3E5,1E6],normal:[2E5,6E5,2E6]},hb:{x:400,y:425}},"HIVE 2-6":{r:{spear:[0,10,0,10,2,2,10],tank:[2,15,0,15,2,1,12],goo:[0,15,0,15,1,0,1],harpoon:[0,20,0,20,2,2,12]},Mb:{spear:[0,10,3,4,1,1,10],tank:[2,15,4,3,1,1,12],goo:[0,20,0,20,1,0,1],harpoon:[0,20,5,6,1,1,12]},lb:"harpoon",Na:[[[325,276],[374,276],[374,231],[427,231],
[427,276],[475,276],[475,324],[426,324],[426,371],[373,371],[373,324],[325,324]],[[832,27],[-31,27],[-31,-18],[832,-18]],[[-32,573],[831,573],[831,618],[-32,618]],[[192,369],[246,369],[246,450],[325,450],[325,502],[192,502]],[[192,98],[325,98],[325,150],[246,150],[246,231],[192,231]],[[-25,98],[111,98],[111,502],[-25,502]],[[825,502],[689,502],[689,98],[825,98]],[[608,231],[554,231],[554,150],[475,150],[475,98],[608,98]],[[608,502],[475,502],[475,450],[554,450],[554,369],[608,369]]],Aa:[[-100,50],
[900,50],[-100,550],[900,550]],ua:[[90,63],[710,63],[90,537],[710,537]],Ra:{spear:4,harpoon:2,goo:1},Pa:1,na:{easy:[9E4,25E4,6E5],normal:[2E5,5E5,125E4]},hb:{x:400,y:450}},"HIVE 2-7":{Mb:{stunner:[0,30,0,30,2,1,16],spear:[2,30,0,30,2,1,16],tank:[12,30,0,30,2,1,16],mote:[6,30,0,30,2,1,16],goo:[18,30,0,30,1,0,1],harpoon:[20,30,0,30,2,1,16]},r:{stunner:[0,30,0,30,4,2,16],spear:[22,30,0,30,4,2,16],tank:[2,30,0,30,4,2,16],mote:[6,30,0,30,4,2,16],goo:[16,30,0,30,1,0,1],harpoon:[10,30,0,30,4,2,16]},lb:"harpoon",
Na:[[[830,52],[-29,52],[-29,-27],[830,-27]],[[-30,548],[829,548],[829,627],[-30,627]],[[-30,133],[307,133],[307,186],[54,186],[54,415],[307,415],[307,467],[-30,466]],[[830,466],[493,467],[493,415],[746,415],[746,186],[493,186],[493,133],[830,133]],[[229,275],[571,275],[571,325],[229,325]]],Aa:[[-100,100],[900,100],[-100,500],[900,500]],ua:[[200,93],[600,93],[200,507],[600,507]],Pa:1,na:{easy:[1E5,3E5,1E6],normal:[2E5,75E4,225E4]},Ra:{stunner:4},hb:{x:400,y:400}},"BOSS 2":{r:{"second boss":[0,1,0,
1,0,0,1],stunner:[0,10,0,10,0,0,12],spear:[0,10,0,10,0,0,8],tank:[0,10,0,10,0,0,8],mote:[0,10,0,10,0,0,8],goo:[0,10,0,10,0,0,1],harpoon:[0,10,0,10,0,0,8]},Ra:{"second boss":1},lb:"second boss",Na:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Aa:[[60,62],[60,539],[740,62],[740,539]],Pa:1,hb:{x:400,y:500},
gu:60},"HIVE 3-1":{Mb:{stunner:[14,12,2,6,2,0,20],tank:[16,12,3,3,1,0,10],mote:[16,12,2,4,1,0,15],fighter:[0,24,4,8,1,0,12]},r:{stunner:[0,10,1.5,4,4,0,20],tank:[0,12,2.4,4.8,1,0,10],mote:[0,12,2.4,4.8,1,0,15],fighter:[0,15,3,6,1,0,12]},lb:"fighter",Na:[[[304,274],[426,204],[496,326],[374,396]],[[72,212],[193,142],[263,263],[142,333]],[[242,507],[363,437],[433,558],[312,628]],[[558,93],[437,163],[367,42],[488,-28]],[[728,388],[607,458],[537,337],[658,267]],[[326,31],[204,101],[134,-20],[256,-90]],
[[474,569],[596,499],[666,620],[544,690]],[[10,444],[131,374],[201,496],[80,566]],[[790,156],[669,226],[599,104],[720,34]],[[-160,150],[-39,80],[31,201],[-90,271]],[[960,450],[839,520],[769,399],[890,329]]],Ef:[[[314,277],[423,214],[486,323],[377,386]],[[82,215],[190,152],[253,260],[145,323]],[[252,510],[360,447],[423,555],[315,618]],[[548,90],[440,153],[377,45],[485,-18]],[[718,385],[610,448],[547,340],[655,277]],[[316,28],[207,91],[144,-17],[253,-80]],[[484,572],[593,509],[656,617],[547,680]],[[20,
447],[128,384],[191,493],[83,556]],[[780,153],[672,216],[609,107],[717,44]],[[-150,153],[-42,90],[21,198],[-87,261]],[[950,447],[842,510],[779,402],[887,339]]],Aa:[[-100,360],[-100,-100],[900,200],[900,700],[200,700],[400,700],[360,-100],[600,-100]],ua:[[586,50],[83,88],[205,548],[715,515],[728,260],[83,330]],Pa:.8,na:{easy:[125E3,4E5,1E6],normal:[25E4,75E4,225E4]},Ra:{fighter:1,tank:1,mote:1,stunner:4},ed:{fighter:1},wh:!0,hb:{x:250,y:380}},"HIVE 3-2":{r:{spear:[0,6,0,6,2,1,20],goo:[1,15,0,15,1,
0,1],fighter:[0,18,0,18,2,2,12],harpoon:[0,15,3,6,1,0,12]},Mb:{spear:[8,8,1.5,3,1,0,20],goo:[1,15,0,15,1,0,1],fighter:[0,20,4,8,1,0,12],harpoon:[0,18,3,9,1,0,12]},lb:"fighter",Na:[[[438,472],[393,455],[380,425],[413,411]],[[488,230],[474,198],[505,185],[548,205]],[[572,262],[555,307],[525,320],[512,287]],[[228,338],[245,293],[275,280],[288,313]],[[312,370],[326,402],[295,415],[252,395]],[[470,388],[502,374],[515,405],[495,448]],[[330,212],[298,226],[285,195],[305,152]],[[362,128],[407,145],[420,175],
[387,189]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],
Ef:[[[433,467],[395,453],[384,427],[412,416]],[[490,226],[479,199],[505,188],[541,205]],[[567,267],[553,305],[527,316],[516,288]],[[233,333],[247,295],[273,284],[284,312]],[[310,374],[321,401],[295,412],[259,395]],[[474,390],[501,379],[512,405],[495,441]],[[326,210],[299,221],[288,195],[305,159]],[[367,133],[405,147],[416,173],[388,184]],[[739,714],[628,449],[692,422],[665,357],[855,279],[972,480]],[[61,-114],[172,151],[108,178],[135,243],[-55,321],[-172,120]],[[677,-232],[737,-7],[547,72],[520,7],
[456,33],[347,-232]],[[123,832],[63,607],[253,528],[280,593],[344,567],[453,832]],[[631,276],[672,187],[581,154],[844,45],[894,167]],[[169,324],[128,413],[219,446],[-44,555],[-94,433]],[[145,-144],[267,-194],[376,69],[288,27],[254,119]],[[655,744],[533,794],[424,531],[512,573],[546,481]],[[359,283],[417,259],[441,317],[384,340]]],Aa:[[-156,410],[-78,605],[110,-102],[317,-187],[886,-23],[972,193],[706,742],[482,820]],ua:[[190,84],[613,89],[610,521],[186,503]],Pa:1,na:{easy:[1E5,3E5,1E6],normal:[3E5,
8E5,2E6]},Ra:{fighter:2,spear:2,harpoon:1},ed:{fighter:1,harpoon:1},wh:!0,hb:{x:370,y:380}},"HIVE 3-3":{r:{stunner:[0,4,.8,2.4,1,0,10],tank:[0,10,2,4,1,0,20],harpoon:[0,16,4,6,1,0,15],mote:[0,8,1.6,3.2,1,0,10],disabler:[0,10,1,1,1,0,1]},Mb:{stunner:[6,6,1,3,1,0,10],tank:[12,12,3,3,1,0,20],harpoon:[16,16,3,6,1,0,15],mote:[0,10,2,4,1,0,10],disabler:[0,5,0,5,1,0,1]},lb:"disabler",Na:[[[-14,343],[25,439],[175,439],[250,239],[325,439],[475,439],[550,239],[625,439],[775,439],[811,341],[850,629],[-50,629]],
[[850,161],[775,161],[700,361],[625,161],[475,161],[400,361],[325,161],[175,161],[100,361],[25,161],[-50,161],[-50,-21],[850,-21]]],Ef:[[[-14,363],[25,459],[175,459],[250,259],[325,459],[475,459],[550,259],[625,459],[775,459],[811,361],[850,649],[-50,649]],[[850,141],[775,141],[700,341],[625,141],[475,141],[400,341],[325,141],[175,141],[100,341],[25,141],[-50,141],[-50,-41],[850,-41]]],Aa:[[-100,166],[900,166]],ua:[[100,402],[700,402],[25,299],[775,299]],Pa:1.3,na:{easy:[125E3,3E5,9E5],normal:[25E4,
6E5,175E4]},Ra:{disabler:1,harpoon:1,tank:2,mote:2,stunner:4},ed:{disabler:1,mote:2},wh:!0,hb:{x:400,y:400}},"HIVE 3-4":{r:{spear:[0,4,0,4,2,2,15],fighter:[0,10,0,10,2,1,10],mote:[0,8,0,8,2,1,20],disabler:[0,10,0,10,1,0,1]},Mb:{spear:[0,6,1,3,1,0,15],fighter:[0,15,3,6,1,0,10],mote:[0,10,0,10,2,1,20],disabler:[0,5,0,5,1,0,1]},lb:"disabler",Na:[[[424,337],[540,368],[555,310],[613,326],[582,441],[640,457],[624,515],[509,484],[493,541],[436,526],[467,410],[409,395]],[[420,584],[536,615],[551,558],[609,
573],[578,689],[405,642]],[[428,90],[544,121],[559,63],[617,78],[586,194],[644,209],[629,267],[513,236],[498,294],[440,279],[471,163],[413,147]],[[177,333],[292,364],[308,306],[366,322],[335,437],[393,453],[377,510],[262,479],[246,537],[188,522],[219,406],[161,391]],[[173,580],[288,611],[304,553],[362,569],[331,685],[157,638]],[[181,86],[297,117],[312,59],[370,74],[339,190],[397,205],[381,263],[266,232],[250,290],[192,274],[223,159],[166,143]],[[401,-42],[385,16],[270,-15],[254,43],[197,27],[228,
-89]],[[648,-38],[633,20],[517,-11],[502,47],[444,31],[475,-84]],[[671,341],[787,372],[802,314],[860,330],[829,445],[887,461],[871,519],[756,488],[740,545],[683,530],[714,414],[656,399]],[[895,-34],[880,24],[764,-7],[749,51],[691,35],[722,-80]],[[154,-46],[138,12],[23,-19],[7,39],[-50,23],[-19,-93]],[[667,588],[783,619],[798,562],[856,577],[825,693],[652,646]],[[-66,82],[50,113],[65,55],[123,70],[92,186],[150,201],[134,259],[19,228],[3,286],[-55,270],[-24,155],[-81,139]],[[-74,576],[41,607],[57,549],
[115,565],[84,681],[-90,634]],[[-70,329],[45,360],[61,302],[119,318],[88,433],[146,449],[130,506],[15,475],[-1,533],[-59,518],[-28,402],[-86,387]],[[675,94],[791,125],[806,67],[864,82],[833,198],[891,213],[876,271],[760,240],[745,298],[687,283],[718,167],[660,151]]],Ef:[[[434,346],[538,374],[552,322],[604,336],[576,439],[628,454],[614,506],[511,478],[496,529],[445,516],[473,412],[421,398]],[[430,587],[534,615],[548,563],[600,577],[572,681],[416,639]],[[438,99],[542,127],[556,75],[608,88],[580,192],
[632,206],[619,258],[515,230],[501,282],[449,269],[477,165],[425,150]],[[187,342],[291,370],[305,318],[357,332],[329,435],[381,450],[367,501],[264,473],[249,525],[197,512],[225,408],[173,394]],[[183,583],[286,611],[301,558],[353,573],[325,677],[168,635]],[[191,95],[295,123],[309,71],[361,84],[333,188],[385,202],[371,254],[268,226],[253,278],[201,264],[229,161],[178,146]],[[390,-39],[375,13],[272,-14],[258,38],[206,23],[234,-81]],[[637,-35],[623,17],[519,-10],[505,42],[453,27],[481,-76]],[[681,350],
[785,378],[799,326],[851,340],[823,443],[875,458],[861,510],[758,482],[743,533],[692,520],[720,416],[668,402]],[[884,-31],[870,21],[766,-6],[752,46],[700,31],[728,-72]],[[143,-43],[128,9],[25,-18],[11,34],[-41,19],[-13,-85]],[[677,591],[781,619],[795,567],[847,581],[819,685],[663,643]],[[-56,91],[48,119],[62,67],[114,80],[86,184],[138,198],[124,250],[21,222],[6,274],[-46,260],[-18,157],[-69,142]],[[-64,579],[39,607],[54,554],[106,569],[78,673],[-79,631]],[[-60,338],[44,366],[58,314],[110,328],[82,
431],[134,446],[120,497],[17,469],[2,521],[-50,508],[-22,404],[-74,390]],[[685,103],[789,131],[803,79],[855,92],[827,196],[879,210],[866,262],[762,234],[748,286],[696,273],[724,169],[672,154]]],Aa:[[-692,162],[958,574],[-114,43],[958,327],[-139,277],[941,70],[-125,530],[105,743],[-125,530],[344,745],[456,-148],[597,738],[203,-140]],ua:[[159,48],[646,551],[151,544],[653,58]],Pa:.8,na:{normal:[3E5,6E5,2E6]},hb:{x:400,y:300},Ra:{spear:3,fighter:2,mote:2,disabler:1}},"HIVE 3-5":{r:{spear:[0,10,0,10,2,
2,8],tank:[0,12,0,12,2,2,8],harpoon:[0,12,2.4,4.8,1,0,8],troll:[0,10,0,10,2,2,10]},Mb:{spear:[6,10,2,4,2,0,8],tank:[8,15,2.5,4,1,0,8],harpoon:[10,20,4,8,1,0,8],troll:[0,10,2,4,2,0,10]},lb:"troll",Na:[[[350,123],[400,90],[450,123],[400,156]],[[256,300],[223,350],[190,300],[223,250]],[[400,444],[450,477],[400,510],[350,477]],[[577,250],[610,300],[577,350],[544,300]],[[400,350],[250,450],[350,300],[250,150],[400,250],[550,150],[450,300],[550,450]],[[350,-54],[450,-54],[550,96],[400,-4],[250,96]],[[-4,
123],[46,90],[96,123],[46,156]],[[46,444],[96,477],[46,510],[-4,477]],[[754,156],[704,123],[754,90],[804,123]],[[804,477],[754,510],[704,477],[754,444]],[[46,-4],[-41,55],[-4,-54],[96,-54],[196,96]],[[250,504],[400,604],[550,504],[450,654],[350,654]],[[196,150],[96,300],[196,450],[46,350],[-47,412],[-4,300],[-44,190],[46,250]],[[604,450],[704,300],[604,150],[754,250],[847,188],[804,300],[844,410],[754,350]],[[196,504],[96,654],[-4,654],[-41,545],[46,604]],[[604,96],[704,-54],[804,-54],[841,55],[754,
-4]],[[754,604],[841,545],[804,654],[704,654],[604,504]]],Ef:[[[355,123],[400,93],[445,123],[400,153]],[[253,300],[223,345],[193,300],[223,255]],[[400,447],[445,477],[400,507],[355,477]],[[577,255],[607,300],[577,345],[547,300]],[[400,345],[265,435],[355,300],[265,165],[400,255],[535,165],[445,300],[535,435]],[[355,-47],[445,-47],[535,88],[400,-2],[265,88]],[[1,123],[46,93],[91,123],[46,153]],[[46,447],[91,477],[46,507],[1,477]],[[754,153],[709,123],[754,93],[799,123]],[[799,477],[754,507],[709,477],
[754,447]],[[47,-3],[-31,50],[2,-48],[92,-48],[182,87]],[[265,512],[400,602],[535,512],[445,647],[355,647]],[[182,165],[92,300],[182,435],[47,345],[-36,401],[2,300],[-34,201],[47,255]],[[618,435],[708,300],[618,165],[753,255],[836,199],[798,300],[834,399],[753,345]],[[182,513],[92,648],[2,648],[-31,550],[47,603]],[[618,87],[708,-48],[798,-48],[831,50],[753,-3]],[[753,603],[831,550],[798,648],[708,648],[618,513]]],Aa:[[222,652],[-120,123],[-120,477],[920,123],[920,477],[222,-52],[578,652],[578,-52]],
ua:[[223,58],[223,543],[577,58],[577,543]],Pa:1,na:{easy:[2E5,4E5,9E5],normal:[3E5,6E5,175E4]},hb:{x:400,y:400},Ra:{tank:1,spear:1,harpoon:1,troll:2},ed:{spear:1,troll:2}},"HIVE 3-6":{r:{stunner:[0,8,0,8,2,2,15],tank:[6,15,3,6,1,1,10],mote:[0,10,2,4,1,1,15],fighter:[7,20,4,8,1,1,10],troll:[0,10,0,10,2,2,10]},Mb:{stunner:[3,10,0,10,2,1,15],tank:[6,20,4,8,1,0,10],mote:[0,13,2.5,6,1,0,15],fighter:[14,20,3,8,1,0,10],troll:[0,12,2.5,4,1,0,10]},lb:"troll",ua:[[100,100]],Na:[[[287,118],[332,136],[351,91],
[398,109],[392,122],[281,169],[267,164]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[591,298],[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[531,313],[525,325],[479,305],[498,259],[359,202],[340,248],[294,229],[300,216],[411,170],[486,201]],[[269,287],[275,275],[321,295],[302,341],[441,398],[460,352],[506,371],[500,384],[389,430],[314,399]],[[828,504],[826,846],[-76,645],[-33,148],
[136,218],[118,264],[163,284],[145,329],[99,310],[41,449],[178,506],[198,460],[245,479],[226,525],[364,582],[383,536],[430,556],[410,601],[606,520],[560,501],[579,455],[625,475],[645,428]],[[-28,96],[-26,-246],[876,-45],[833,452],[664,382],[682,336],[637,316],[655,271],[701,290],[759,151],[622,94],[602,140],[555,121],[574,75],[436,18],[417,64],[370,44],[390,-1],[194,80],[240,99],[221,145],[175,125],[155,172]]],Ef:[[[513,482],[468,464],[449,509],[402,491],[408,478],[519,431],[533,436]],[[591,298],
[577,292],[531,180],[536,167],[582,187],[564,232],[609,251]],[[209,302],[223,308],[269,420],[264,433],[218,413],[236,368],[191,349]],[[287,118],[332,136],[351,91],[398,109],[392,122],[281,169],[267,164]],[[269,287],[316,307],[302,341],[441,398],[454,365],[500,384],[389,430],[314,399]],[[531,313],[484,293],[498,259],[359,202],[345,235],[300,216],[411,170],[486,201]],[[-26,81],[-26,-246],[876,-45],[839,439],[669,369],[682,336],[659,327],[678,281],[701,290],[759,151],[622,94],[612,119],[565,99],[574,
75],[436,18],[426,42],[380,23],[390,-1],[194,80],[217,88],[198,135],[175,125],[162,159]],[[826,519],[826,846],[-76,645],[-40,160],[132,231],[118,264],[141,273],[122,319],[99,310],[41,449],[178,506],[188,481],[235,501],[226,525],[364,582],[374,558],[420,577],[410,601],[606,520],[583,512],[602,465],[625,475],[638,441]]],Aa:[[-103,88],[923,515]],ua:[[318,106],[482,495],[214,222],[586,379],[202,383],[598,218]],Pa:1,na:{easy:[2E5,4E5,8E5],normal:[4E5,75E4,15E5]},Ra:{troll:2,stunner:2,mote:2},ed:{troll:1,
mote:1},hb:{x:400,y:300}},"HIVE 3-7":{r:{stunner:[4,30,0,30,2,1,10],spear:[20,30,0,30,4,2,10],tank:[8,30,0,30,2,2,8],mote:[10,30,0,30,2,2,10],goo:[18,30,0,30,1,0,1],harpoon:[2,30,0,30,4,4,6],fighter:[16,30,0,30,2,1,6],disabler:[12,30,0,30,1,0,1],troll:[0,30,0,30,4,2,10]},lb:"troll",Na:[[[373,606],[439,691],[-20,688],[-20,-44],[211,-23],[206,-2],[17,459]],[[427,-6],[361,-91],[820,-88],[820,644],[589,623],[594,602],[783,141]],[[309,78],[200,340],[144,363],[285,22],[626,163],[569,187]],[[600,260],[656,
237],[515,578],[175,436],[230,413],[492,521]],[[468,364],[448,318],[467,272],[422,254],[402,207],[513,253]],[[332,236],[352,282],[333,328],[378,346],[398,393],[287,347]]],Aa:[[163,-99],[284,-112],[516,712],[638,699]],ua:[[171,492],[105,319],[629,109],[695,282]],Pa:1.5,na:{normal:[4E5,8E5,2E6]},Ra:{troll:4},wh:!0,hb:{x:400,y:300}},"BOSS 3":{r:{"third boss":[0,1,0,1,1,0,1],stunner:[0,6,0,6,0,0,15],spear:[0,10,0,10,0,0,10],tank:[0,12,0,12,0,0,10],troll:[0,8,0,8,0,0,10],goo:[0,12,0,12,0,0,2],mote:[0,
8,0,8,0,0,10],disabler:[0,10,0,10,0,0,2],harpoon:[0,15,0,15,0,0,10]},lb:"third boss",Na:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Aa:[[60,62],[60,539],[740,62],[740,539]],Pa:1,hb:{x:400,y:500},gu:60,Ra:{"third boss":1}},"HIVE 4-1":{r:{spear:[4,16,0,16,2,2,10],troll:[8,16,0,16,2,1,10],tank:[12,16,0,16,
2,1,10],harpoon:[16,16,0,16,2,1,10],slingshot:[0,8,0,8,2,1,20]},Mb:{spear:[10,28,0,28,2,1,10],troll:[17,28,0,28,2,1,10],tank:[24,28,0,28,2,1,10],harpoon:[31,28,0,28,2,1,10],slingshot:[0,8,1,4,1,0,20]},lb:"slingshot",Na:[[[-7,472],[61,471],[96,527],[61,581],[-7,581],[-41,526]],[[93,299],[59,354],[-9,354],[-44,300],[-9,244],[59,245]],[[329,74],[363,19],[431,19],[466,73],[431,129],[363,128]],[[621,466],[553,467],[518,411],[553,357],[621,357],[655,412]],[[841,526],[807,581],[739,581],[704,527],[739,471],
[807,472]],[[179,135],[247,134],[282,190],[247,244],[179,244],[145,189]],[[145,412],[179,357],[247,357],[282,411],[247,467],[179,466]],[[741,245],[809,244],[844,300],[809,354],[741,354],[707,299]],[[744,20],[812,19],[847,75],[812,129],[744,129],[710,74]],[[330,303],[364,248],[432,248],[467,302],[432,358],[364,357]],[[363,473],[431,472],[466,528],[431,582],[363,582],[329,527]],[[655,189],[621,244],[553,244],[518,190],[553,134],[621,135]],[[90,74],[56,129],[-12,129],[-47,75],[-12,19],[56,20]]],Pa:.5,
na:{easy:[25E4,6E5,15E5],normal:[5E5,125E4,3E6]},Ra:{slingshot:2},ed:{slingshot:1},hb:{x:400,y:415},ua:[[210,75],[590,75],[210,525],[590,525]],Aa:[[-75,180],[-75,420],[215,650],[585,650],[215,-50],[585,-50],[875,180],[875,420]],wh:!0},"HIVE 4-2":{Mb:{stunner:[6,6,1.2,2.4,1,0,15],mote:[6,12,2,4,1,0,10],fighter:[0,25,4,9,1,0,8],slingshot:[0,10,1.5,6,1,0,15],goo:[1,15,0,15,1,0,1]},r:{stunner:[0,6,0,6,2,1,15],mote:[0,8,1.5,3,1,0,10],fighter:[0,15,3,6,1,0,8],slingshot:[0,5,.75,3,1,0,15],goo:[1,15,0,15,
1,0,1]},lb:"slingshot",Na:[[[282,254],[311,254],[311,280],[338,280],[338,319],[312,319],[312,347],[282,347]],[[354,418],[354,389],[380,389],[380,362],[419,362],[419,388],[447,388],[447,418]],[[447,182],[447,212],[419,212],[419,238],[380,238],[380,211],[354,211],[354,182]],[[820,619],[605,619],[605,542],[642,542],[642,505],[820,505]],[[282,619],[282,542],[354,542],[354,505],[447,505],[446,542],[518,542],[518,619]],[[820,418],[642,418],[642,346],[605,346],[605,253],[642,254],[642,182],[820,182]],[[-20,
505],[158,505],[158,542],[195,542],[195,619],[-20,619]],[[-20,-19],[195,-19],[195,58],[158,58],[158,95],[-20,95]],[[820,95],[642,95],[642,58],[605,58],[605,-19],[820,-19]],[[518,347],[488,347],[488,319],[462,319],[462,280],[489,280],[489,254],[518,254]],[[-20,182],[158,182],[158,254],[195,253],[195,346],[158,346],[158,418],[-20,418]],[[518,-19],[518,58],[446,58],[447,95],[354,95],[354,58],[282,58],[282,-19]]],Ef:[[[345,447],[345,412],[376,412],[376,379],[423,379],[423,411],[456,411],[456,447]],[[-94,
536],[120,536],[120,580],[164,580],[164,673],[-94,673]],[[547,356],[511,356],[511,323],[479,323],[479,276],[512,276],[512,245],[547,245]],[[456,153],[456,189],[423,189],[423,221],[376,221],[376,188],[345,188],[345,153]],[[253,245],[288,245],[288,276],[321,276],[321,323],[289,323],[289,356],[253,356]],[[-94,-73],[164,-73],[164,20],[120,20],[120,64],[-94,64]],[[894,673],[636,673],[636,580],[680,580],[680,536],[894,536]],[[894,64],[680,64],[680,20],[636,20],[636,-73],[894,-73]],[[904,447],[680,447],
[680,355],[636,355],[636,244],[680,245],[680,153],[904,153]],[[-104,153],[120,153],[120,245],[164,245],[164,356],[120,355],[120,447],[-104,447]],[[253,673],[253,580],[345,580],[344,536],[455,536],[455,580],[547,580],[547,673]],[[547,-73],[547,20],[455,20],[455,64],[344,64],[345,20],[253,20],[253,-73]]],Aa:[[-100,450],[-100,150],[900,450],[900,150],[240,-100],[560,-100],[240,700],[560,700]],ua:[[114,150],[114,451],[686,150],[686,451],[561,41],[561,560],[239,41],[239,560]],jA:[[61,107],[61,493],[739,
107],[739,493]],Pa:1,na:{normal:[5E5,15E5,3E6]},Ra:{stunner:2,mote:2,slingshot:2,fighter:1},ed:{slingshot:1,fighter:1},wh:!0,hb:{x:400,y:300}},"HIVE 4-3":{Mb:{stunner:[12,10,2,4,1,0,15],spear:[20,20,4,8,1,0,10],tank:[17,20,4,8,1,0,15],mote:[14,20,4,8,1,0,10],harpoon:[17,25,5,10,1,0,10],orbiter:[0,12,1.5,6,1,0,15]},r:{stunner:[2,5,1,2,1,0,15],spear:[6,12,2.4,4.8,1,0,10],tank:[4,12,2.4,4.8,1,0,15],mote:[2,12,2.4,4.8,1,0,10],harpoon:[4,15,3,6,1,0,10],orbiter:[0,12,0,12,2,1,15]},lb:"orbiter",ua:[[159,
301],[641,301],[208,94],[208,507],[592,94],[592,507]],Na:[[[309,161],[492,161],[492,249],[456,249],[456,199],[343,199],[343,249],[309,249]],[[309,351],[343,351],[343,401],[456,401],[456,351],[492,351],[492,440],[309,440]],[[230,209],[230,392],[141,392],[141,356],[191,356],[191,243],[141,243],[141,209]],[[571,391],[571,208],[659,208],[659,244],[609,244],[609,357],[659,357],[659,391]],[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],
[230,569],[571,569],[571,532],[609,532]],[[-40,119],[191,119],[191,158],[37,158],[37,442],[191,442],[191,480],[-40,480]],[[840,481],[609,481],[609,442],[763,442],[763,158],[609,158],[609,120],[840,120]]],Ef:[[[191,-49],[609,-49],[609,68],[571,68],[571,31],[230,31],[230,68],[191,68]],[[609,649],[191,649],[191,532],[230,532],[230,569],[571,569],[571,532],[609,532]],[[-40,120],[141,119],[141,158],[37,158],[37,442],[141,442],[141,481],[-40,481]],[[840,480],[659,481],[659,442],[763,442],[763,158],[659,
158],[659,119],[840,119]],[[481,269],[447,269],[447,219],[354,219],[354,269],[318,269],[318,180],[481,180]],[[481,420],[318,420],[318,331],[354,331],[354,381],[447,381],[447,331],[481,331]],[[568,381],[568,218],[657,218],[657,254],[607,254],[607,347],[656,347],[657,381]],[[232,219],[232,382],[143,382],[143,346],[193,346],[193,253],[144,253],[143,219]]],Aa:[[-100,-100],[-100,700],[900,700],[900,-100]],Pa:1.3,na:{normal:[4E5,12E5,25E5]},Ra:{orbiter:2},ed:{orbiter:1},wh:!0,hb:{x:400,y:300}},"HIVE 4-4":{Mb:{goo:[2,
20,0,20,1,0,1],troll:[4,15,3,6,1,0,5],fighter:[2,25,4,9,1,0,5],slingshot:[1,15,3,6,1,0,5],orbiter:[0,15,3,6,1,0,10]},r:{goo:[2,30,0,30,1,0,1],troll:[4,15,0,15,2,1,5],fighter:[2,15,3,6,1,0,5],slingshot:[1,12,2.4,4.8,1,0,5],orbiter:[0,12,0,12,2,2,10]},lb:"orbiter",Na:[[[51,190],[76,190],[76,215],[51,215]],[[126,190],[151,190],[151,215],[126,215]],[[351,190],[376,190],[376,215],[351,215]],[[426,190],[451,190],[451,215],[426,215]],[[676,215],[651,215],[651,190],[676,190]],[[751,215],[726,215],[726,190],
[751,190]],[[237,115],[262,115],[262,140],[237,140]],[[488,140],[313,140],[313,115],[488,115]],[[563,140],[538,140],[538,115],[563,115]],[[-27,-30],[830,-30],[830,54],[-27,54]],[[-27,546],[830,546],[830,630],[-27,630]],[[237,460],[262,460],[262,485],[237,485]],[[488,485],[313,485],[313,460],[488,460]],[[563,485],[538,485],[538,460],[563,460]],[[751,410],[726,410],[726,385],[751,385]],[[676,410],[651,410],[651,385],[676,385]],[[426,385],[451,385],[451,410],[426,410]],[[351,385],[376,385],[376,410],
[351,410]],[[126,385],[151,385],[151,410],[126,410]],[[51,385],[76,385],[76,410],[51,410]],[[51,460],[188,460],[188,485],[51,485]],[[749,140],[612,140],[612,115],[749,115]],[[749,485],[612,485],[612,460],[749,460]],[[51,115],[188,115],[188,140],[51,140]],[[201,385],[301,385],[301,410],[201,410]],[[599,216],[499,216],[499,190],[599,191]],[[599,410],[499,410],[499,385],[599,385]],[[201,191],[301,190],[301,216],[201,216]]],Ef:[[[327,190],[364,190],[364,215],[327,215]],[[439,190],[477,190],[477,215],
[439,215]],[[156,115],[193,115],[193,140],[156,140]],[[532,140],[270,140],[270,115],[532,115]],[[645,140],[607,140],[607,115],[645,115]],[[-51,-30],[847,-30],[847,54],[-51,54]],[[156,460],[193,460],[193,485],[156,485]],[[532,485],[270,485],[270,460],[532,460]],[[645,485],[607,485],[607,460],[645,460]],[[439,385],[477,385],[477,410],[439,410]],[[327,385],[364,385],[364,410],[327,410]],[[102,385],[252,385],[252,410],[102,410]],[[699,216],[549,216],[549,190],[699,191]],[[699,410],[549,410],[549,385],
[699,385]],[[102,191],[252,190],[252,216],[102,216]],[[-51,546],[847,546],[847,630],[-51,630]]],Aa:[[-100,350],[900,350],[-100,250],[900,250]],ua:[[117,83],[117,518],[683,83],[683,518]],Pa:1,na:{normal:[5E5,1E6,2E6]},Ra:{orbiter:2},wh:!0,hb:{x:400,y:300}},"HIVE 4-6":{r:{tank:[2,12,0,12,2,1,15],mote:[3,10,0,10,2,1,15],harpoon:[5,14,0,14,2,1,10],fighter:[1,18,0,18,2,1,6],disabler:[4,16,0,16,1,0,1],deathray:[30,30,6,12,1,0,3]},Mb:{tank:[4,15,3,6,1,0,15],mote:[8,12,2.5,4,1,0,15],harpoon:[6,18,3,6,1,0,
10],fighter:[10,24,4,8,1,0,6],disabler:[2,16,0,16,1,0,1],deathray:[40,40,8,24,1,0,3]},lb:"deathray",Na:[[[-50,393],[-55,-44],[846,-44],[846,38],[650,37],[584,179],[683,394],[608,393],[509,178],[578,37],[380,37],[314,179],[413,393],[338,393],[239,178],[308,37],[110,37],[44,178],[143,393]],[[850,207],[855,644],[-46,644],[-46,562],[150,563],[216,422],[117,206],[192,207],[291,422],[222,563],[420,563],[486,422],[387,207],[462,207],[561,422],[492,563],[690,563],[756,422],[657,207]],[[148,88],[222,87],[192,
153],[116,154]],[[418,87],[492,88],[462,154],[387,154]],[[338,446],[414,446],[382,513],[308,512]],[[608,447],[684,447],[652,512],[578,512]],[[-46,447],[144,447],[112,513],[-46,513]],[[846,153],[656,153],[688,87],[846,87]]],Ef:[[[151,93],[215,93],[189,149],[123,149]],[[421,93],[485,93],[459,149],[394,149]],[[379,507],[315,507],[341,451],[406,451]],[[649,507],[585,507],[611,451],[677,451]],[[-46,562],[155,562],[208,451],[272,451],[217,563],[425,563],[478,451],[542,451],[487,563],[695,563],[761,421],
[662,207],[850,207],[855,644],[-46,644]],[[182,336],[247,336],[274,394],[209,394]],[[451,335],[516,335],[543,393],[478,393]],[[846,38],[645,38],[592,149],[528,149],[583,37],[375,37],[322,149],[258,149],[313,37],[105,37],[39,179],[138,393],[-50,393],[-55,-44],[846,-44]],[[349,265],[284,265],[257,208],[322,208]],[[618,264],[553,264],[526,207],[591,207]],[[110,508],[46,508],[72,452],[137,452]],[[690,92],[754,92],[728,148],[663,148]]],Aa:[[-100,420],[900,180],[-100,540],[900,60]],ua:[[174,421],[626,180],
[714,422],[86,179]],Pa:1,na:{normal:[5E5,1E6,25E5]},Ra:{deathray:1},wh:!0,hb:{x:400,y:300}},"HIVE 4-5":{Mb:{stunner:[11,8,2,3,1,0,40],spear:[15,10,2,4,1,0,20],troll:[15,20,4,8,1,0,10],slingshot:[13,20,4,8,1,0,10],orbiter:[10,15,3,6,1,0,10],deathray:[30,30,5,10,1,1,3]},r:{stunner:[2,8,0,8,2,2,40],spear:[1,10,2,4,1,1,20],troll:[5,15,3,6,1,1,10],slingshot:[3,15,3,6,1,1,10],orbiter:[1,8,1.6,3.2,1,1,10],deathray:[30,30,6,12,1,1,3]},lb:"deathray",ua:[[82,69],[82,532],[718,69],[718,532]],Na:[[[326,261],
[326,339],[284,362],[284,238]],[[516,238],[516,362],[474,339],[474,261]],[[521,180],[484,216],[316,216],[279,180]],[[279,420],[316,384],[484,384],[521,420]],[[234,209],[234,391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Ef:[[[234,209],[234,
391],[164,427],[164,173]],[[636,173],[636,427],[566,391],[566,209]],[[628,72],[571,130],[229,130],[172,72]],[[172,528],[229,470],[571,470],[628,528]],[[84,129],[84,471],[-20,527],[-20,73]],[[820,73],[820,527],[716,471],[716,129]],[[685,584],[719,616],[81,616],[115,584]],[[115,16],[81,-16],[719,-16],[685,16]]],Aa:[[-100,-100],[900,-100],[900,700],[-100,700]],Pa:.8,na:{normal:[6E5,12E5,25E5]},Ra:{deathray:1},wh:!0,hb:{x:400,y:300}},"HIVE 4-7":{Mb:{stunner:[2,30,6,12,2,0,6],spear:[4,30,6,12,2,0,6],tank:[6,
25,5,10,1,0,5],mote:[10,25,5,10,2,0,6],goo:[8,20,0,20,1,0,1],harpoon:[18,40,8,16,1,0,6],fighter:[12,40,8,16,1,0,4],disabler:[14,15,3,6,1,0,1],troll:[16,30,6,12,1,0,4],slingshot:[28,40,8,16,1,0,4],orbiter:[22,30,6,12,1,0,5],deathray:[45,45,9,18,1,0,3]},r:{stunner:[1,20,3,8,4,0,6],spear:[3,20,3,8,4,0,6],tank:[4,25,4,9,3,0,5],mote:[5,20,3,12,3,0,6],goo:[8,20,0,20,1,0,1],harpoon:[10,25,5,10,1,0,6],fighter:[6,25,5,10,1,0,4],disabler:[9,15,0,15,1,0,1],troll:[8,20,3,12,2,0,4],slingshot:[2,25,5,10,1,0,4],
orbiter:[2,20,3,8,2,0,5],deathray:[31,30,6,12,1,0,3]},lb:"deathray",Na:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[277,208],[335,208],[335,243],[277,243]],[[277,358],[335,358],[335,393],[277,393]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,
93],[466,58],[834,58]],[[523,243],[466,243],[466,208],[523,208]],[[523,393],[466,393],[466,358],[523,358]],[[-32,358],[150,358],[150,393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[370,433],[430,433],[430,468],[370,468]],[[430,168],[370,168],[370,133],[430,133]],[[185,283],[245,283],[245,318],[185,316]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],
[740,283],[834,283]],[[615,316],[555,318],[555,283],[615,283]],[[430,318],[370,318],[370,283],[430,283]]],Ef:[[[-34,-17],[833,-17],[833,18],[-34,18]],[[-34,58],[335,58],[335,93],[-34,93]],[[834,543],[466,543],[466,508],[834,508]],[[-34,133],[245,133],[245,168],[-34,168]],[[834,468],[555,468],[555,433],[834,433]],[[-34,583],[833,583],[833,618],[-34,618]],[[-34,208],[150,208],[150,243],[-32,243]],[[-34,508],[335,508],[335,543],[-34,543]],[[834,93],[466,93],[466,58],[834,58]],[[-32,358],[150,358],[150,
393],[-34,393]],[[833,243],[651,243],[651,208],[834,208]],[[834,393],[651,393],[651,358],[833,358]],[[-34,433],[245,433],[245,468],[-34,468]],[[834,168],[555,168],[555,133],[834,133]],[[-34,283],[60,283],[60,318],[-34,318]],[[834,318],[740,318],[740,283],[834,283]],[[430,243],[369,243],[369,208],[430,208]],[[466,283],[527,283],[527,318],[466,318]],[[334,318],[273,318],[273,283],[334,283]],[[430,392],[369,392],[369,357],[430,357]]],Aa:[[869,37],[869,563],[-69,37],[-69,563],[-69,112],[-69,489],[869,
112],[869,489],[869,190],[869,411],[-69,190],[-69,411],[-69,336],[-69,264],[869,336],[869,264]],ua:[[314,37],[486,563],[314,563],[486,37]],Pa:1,na:{normal:[3E5,6E5,125E4],normal:[75E4,125E4,25E5]},Ra:{deathray:1},wh:!0,hb:{x:400,y:370},Mz:{x:400,y:300}},"BOSS 4":{r:{"fourth boss":[0,1,0,0,1,0,1],stunner:[0,0,0,0,0,0,15],spear:[0,0,0,0,0,0,15],tank:[0,0,0,0,0,0,10],mote:[0,0,0,0,0,0,15],goo:[0,0,0,0,0,0,2],disabler:[0,0,0,0,0,0,1],troll:[0,0,0,0,0,0,12],orbiter:[0,0,0,0,0,0,10],fighter:[0,0,0,0,0,
0,8],harpoon:[0,0,0,0,0,0,12],slingshot:[0,0,0,0,0,0,12],deathray:[0,0,0,0,0,0,4]},lb:"fourth boss",Na:[[[-25,-25],[400,-25],[400,25],[25,25],[25,300],[-25,300]],[[-25,300],[25,300],[25,575],[400,575],[400,625],[-25,625]],[[825,300],[775,300],[775,25],[400,25],[400,-25],[825,-25]],[[825,625],[400,625],[400,575],[775,575],[775,300],[825,300]]],Aa:[[60,62],[60,539],[740,62],[740,539]],Pa:1,hb:{x:400,y:500},gu:90,Ra:{"fourth boss":1}}};
for(s in N)N[s].O=s,N[s].na&&"undefined"===typeof N[s].na.easy&&(N[s].na.easy=N[s].na.normal.map(function(a){return a/2})),"undefined"===typeof N[s].al&&("BOSS"==s.slice(0,4)?N[s].al=100*parseInt(s.slice(5,6)):"HIVE"==s.slice(0,4)&&(N[s].al=100*parseInt(s.slice(5,6)))),"undefined"===typeof N.zr&&(N[s].zr=function(a){a=this.Na[a];for(var b=[],c=0;c<a.length;c++)b.push(new b2Vec2(a[c][0]/F,a[c][1]/F));return b});function sg(){}l=sg.prototype;l.qa=function(){};l.Y=function(){};l.Ha=function(){};l.Va=function(){};l.zg=function(){};l.ah=function(){};l.Bp=function(){};l.Cp=function(){};l.Qe=function(){};l.Ap=function(){};function tg(){}tg.prototype=new sg;tg.prototype.constructor=tg;tg.prototype.Hm=function(a){var b=new lg(a,this);rg(b);a=new Worker("js/lib/worker.js");a.postMessage({a:b.vh,b:b.kf,c:F,d:O,e:P});this.Nr=0;a.onmessage=function(a){return function(d){d.data.z?a.Nr=d.data.z:d.data.a&&(a.Eb=new Ge(b,d.data.a,d.data.b,d.data.c,d.data.d,d.data.e,d.data.f),a.Nr=1,a.Mr())}}(this);return b};tg.prototype.Mr=function(){};ug.prototype=new sg;l=ug.prototype;l.constructor=ug;
function ug(){this.Yb=!1;this.buttons=[];var a=this;this.buttons.push(new $("BACK",16,O/2,P/2+260,60,65,"white",v.impulse_blue,function(){vg(a.V,"fade_out",function(){S=new Sf})},"back"));this.Mu=new Image;this.Mu.src="impulse_logo.png";this.buttons.push(new $("KEVIN MACLEOD",16,O/2-250,P/2+50,150,70,"white",v.impulse_blue,function(){window.open("http://incompetech.com")},"note"));this.buttons.push(new $("MATT MCFARLAND",16,O/2,P/2+50,150,70,"white",v.impulse_blue,function(){window.open("http://www.mattmcfarland.com")},
"note"));this.buttons.push(new $("SUBTLE PATTERNS",16,O/2+250,P/2+50,150,70,"white",v.impulse_blue,function(){window.open("http://www.subtlepatterns.com")},"texture"));this.buttons.push(new $("JAY SALVAT",16,O/2-150,P/2+180,150,70,"white",v.impulse_blue,function(){window.open("http://buzz.jaysalvat.com/")},"audio"));this.buttons.push(new $("ERIN CATTO",16,O/2+150,P/2+180,150,70,"white",v.impulse_blue,function(){window.open("http://box2d.org/")},"physics_engine"));this.buttons[1].bf="MAIN MENU MUSIC";
this.buttons[2].bf="ALL OTHER MUSIC";this.buttons[3].bf="TEXTURES";this.buttons[4].bf="AUDIO API";this.buttons[5].bf="PHYSICS ENGINE";this.V=new wg({fade_in:250,fade_out:250});vg(this.V,"fade_in")}l.qa=function(a){this.V.qa(a)};
l.Y=function(a){this.Yb||(bg_canvas.setAttribute("style",""),Vf("Hive 0",.3),this.Yb=!0);a.save();"fade_in"==this.V.bc?a.globalAlpha*=xg(this.V):"fade_out"==this.V.bc&&(a.globalAlpha*=1-xg(this.V));ob(a,O/2,150,"CREDITS");a.font="20px Muli";a.fillStyle="white";a.textAlign="center";a.shadowColor=a.fillStyle;a.globalAlpha*=1;a.globalAlpha/=1;for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);a.restore()};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};
l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};function wg(a){this.qx=a;this.bc=null;this.mh=0}function vg(a,b,c){null==a.bc&&(a.bc=b,a.mh=a.qx[b],a.Jx=c)}wg.prototype.qa=function(a){null!=this.bc&&0<this.mh&&(this.mh-=a);null!=this.bc&&0>=this.mh&&(this.Jx&&this.Jx(),this.bc=null)};function xg(a){return a.bc?Math.min(1-a.mh/a.qx[a.bc],1):0};yg.prototype=new sg;l=yg.prototype;l.constructor=yg;
function yg(a,b,c,d,f){this.i=b;this.O=this.i.O;this.buttons=[];this.n=c;this.Eb=d;this.Yb=!1;this.ra=f.ra;this.color=v["world "+this.n+" bright"];this.jl=new $("RETRY",16,O-70,P-40,60,65,this.color,this.color,function(a){return function(){var b=new jc(a.n,!1);vg(a.V,"fade_out",function(){S=new Xf(a.n,a.i,a.Eb,b,!1,!1)})}}(this),"start");this.buttons.push(this.jl);this.jl.keyCode=ua.wq;this.jl.bf="right"==A.Wb?"R KEY":"SHIFT KEY";this.buttons.push(new $("MENU",16,70,P/2+260,60,65,this.color,this.color,
function(a){return function(){a.n?vg(a.V,"fade_out",function(){S=new bg(a.n,!0);"normal"==L?Vf("Title Alt"+a.n,.15):Vf("Hive 0",.3)}):vg(a.V,"fade_out",function(){S=new Sf;Vf("Hive 0",.3)})}}(this),"back"));this.H=a;this.i.ta?(this.bd=f.bd?f.bd:0,this.aa=f.aa?f.aa:0):(this.Dc=f.Dc,this.aa=f.aa?f.aa:0,this.Rt=3>this.aa?N[this.O].na[L][this.aa]:N[this.O].na[L][2]);tf+=this.H.se;$b();gg(L);this.Sg=null;if(this.i.ta)this.Sg={};else{this.Sg=N[this.O].r;this.Wc=0;for(var g in N[this.O].r)this.Wc+=1}this.Ld=
40;a=0;for(g in this.Sg){for(c=b=0;b<a+1&&b<this.Wc;)b+=12;c=b<=this.Wc?12:this.Wc-(b-12);this.buttons.push(new zg(g,this.Ld,O/2+(this.Ld+10)*(a-(b-12)-(c-1)/2),490+this.Ld*(Math.floor(a/12)-(Math.ceil(this.Wc/12)-1)/2),this.Ld,this.Ld,v["world "+this.n+" lite"],function(a,b){return function(){vg(b.V,"fade_out",function(){Y=new Ag(a,b)})}}(g,this)));a+=1}this.Rd=["world "+this.n+" bright","silver","gold"];this.qA=["GATEWAY","SILVER","GOLD"];ic();this.V=new wg({fade_in:500,fade_out:250});vg(this.V,
"fade_in")}l.qa=function(a){this.V.qa(a)};
l.Y=function(a,b){if(!this.Yb){this.i.v=null;bg_canvas.setAttribute("style","display:none");b.translate(V,0);this.i.Ge(b);var c=Af.getContext("2d");Db(c,0,O,P,"Hive "+this.n);this.Yb=!0;b.translate(-V,0);this.Yb=!0}a.save();a.fillStyle=v["world "+this.n+" dark"];a.fillRect(0,0,O,P);a.globalAlpha*=jg(this.n);a.drawImage(Af,0,0,O,P,0,0,O,P);a.restore();a.save();"fade_in"==this.V.bc?a.globalAlpha*=xg(this.V):"fade_out"==this.V.bc&&(a.globalAlpha*=1-xg(this.V));if(this.i.ta)a.textAlign="center",a.shadowBlur=
0,a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,P/2-50,100),a.restore(),a.font="24px Muli",this.i.uh?(a.fillStyle=v.gold,a.fillText("VICTORY",O/2,140)):(a.fillStyle="red",a.fillText("DEFEAT",O/2,140)),a.fillStyle=v["world "+this.n+" bright"],a.font="16px Muli",a.fillText(this.i.O,O/2,P/2-60),a.font="40px Muli",a.fillText(qa[this.n],O/2,P/2-20),a.font="24px Muli",a.fillStyle=0<this.aa?v[this.Rd[this.aa-1]]:this.color,a.font="12px Muli",a.fillText("GAME TIME",O/2,355),a.font="28px Muli",a.fillText(bc(this.H.Yc),
O/2,380),this.bd?(a.fillStyle=0<this.aa?v[this.Rd[this.aa-1]]:this.color,a.font="12px Muli",a.fillText("NEW BEST TIME!",O/2,400)):3==N[this.O].ab[L].aa?(c=N[this.O].ab[L].aa,a.fillStyle=0<c?v[this.Rd[c-1]]:this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2,405),a.font="28px Muli",a.fillText(bc(N[this.O].ab[L].bd),O/2,430)):(a.fillStyle=this.color,a.font="12px Muli",a.fillText("BEST TIME",O/2,405),a.font="28px Muli",a.fillText("UNDEFEATED",O/2,430));else{a.globalAlpha/=3;Ka(a,this.n,O/2,60,40,
!0);a.globalAlpha*=3;a.beginPath();a.fillStyle=this.color;a.font="30px Muli";a.textAlign="center";a.fillText(this.O,O/2,70);a.fill();a.font="20px Muli";0<this.aa&&this.ra?(a.fillStyle=v[this.Rd[this.aa-1]],a.fillText(this.qA[this.aa-1]+" SCORE ACHIEVED",O/2,110)):(a.fillStyle="red",a.fillText("GAME OVER",O/2,110));a.fillStyle=this.color;a.font="12px Muli";a.fillText("GAME TIME ",O/2,140);a.font="28px Muli";a.fillText(this.H.Wg,O/2,165);a.fillStyle=0<this.aa?v[this.Rd[this.aa-1]]:this.color;a.font=
"12px Muli";a.fillText("SCORE",O/2,185);a.font="28px Muli";a.fillText(this.H.Xc,O/2,210);a.font="12px Muli";a.fillStyle=3>this.aa?v[this.Rd[this.aa]]:v[this.Rd[2]];3>this.aa&&a.fillText("PROGRESS TO "+this.qA[Math.max(this.aa,0)]+" SCORE",O/2,235);nb(a,O/2,250,200,Math.min(this.H.Xc/this.Rt,1),3>this.aa?v[this.Rd[this.aa]]:v[this.Rd[2]],v["world "+this.n+" lite"],!1,.6);this.Dc?(a.fillStyle=0<this.aa?v[this.Rd[this.aa-1]]:this.color,a.font="24px Muli",a.fillText("NEW HIGH SCORE!",O/2,425)):(c=N[this.O].ab[L].aa,
a.fillStyle=0<c?v[this.Rd[c-1]]:this.color,a.font="12px Muli",a.fillText("HIGH SCORE",O/2,400),a.font="28px Muli",a.fillText(N[this.O].ab[L].Dc,O/2,425));for(var c=["world "+this.n+" lite","silver","gold"],d=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"],f=0;3>f;f++)a.font="24px Muli",a.textAlign="right",a.fillStyle=v[c[f]],a.shadowColor=a.fillStyle,a.font="20px Muli",a.fillText(N[this.O].na[L][f],O/2+160,35*f+297),a.textAlign="left",a.font="20px Muli",a.fillText(d[f],O/2-160,35*f+297)}this.i.ta||
(a.textAlign="center",a.fillStyle=v["world "+this.n+" lite"],a.font="12px Muli",a.fillText("ENEMIES",O/2,460));for(f=0;f<this.buttons.length;f++)this.buttons[f].Y(a);a.restore()};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};l.Qe=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].Qe(a)};Xf.prototype=new sg;l=Xf.prototype;l.constructor=Xf;function Xf(a,b,c,d,f,g){null!=a&&void 0!=a&&this.ka(a,b,c,g,d,f)}
l.ka=function(a,b,c,d,f,g){this.H={Xc:0,pe:1,sh:1,Yc:0,se:0,Vo:0,Wg:null,Pu:!1};this.u=f;if(this.ic=g)this.u.gc=Math.floor(this.u.gc),this.u.Ma=Math.floor(this.u.Ma);this.pause=!0;this.ready=!1;this.buttons=[];this.zm=null;this.fc=[];this.$z=1E3;this.Rv=30;this.Pa=1;this.Yb=!1;this.Nd=1<=lc();this.Ut=!1;this.aa=0;this.n=a;this.Rd=["world "+this.n+" lite","silver","gold"];this.Uj=0;this.DD=3E3;a=new b2Vec2(0,0);this.wa=new b2World(a,!1);b&&(this.i=b,this.i.v=this,this.i.reset(),this.O=this.i.O,this.ta=
"BOSS"==this.O.slice(0,4),Bg(this),"BOSS 4"==this.O?hc(fc,ka["Final Tessellation"]):"BOSS"==this.O.slice(0,4)?hc(fc,ka.Tessellation):0!=this.n&&hc(fc,ka["Hive "+this.n]));this.Eb=c;this.color=this.ta?v["boss "+this.n]:v["world "+this.n+" lite"];this.ri=v["world "+this.n+" dark"];this.xb=v["world "+this.n+" lite"];this.K=v["world "+this.n+" bright"];this.ng=6E3;this.oe=0;Cg(this);c=new b2ContactListener;c.Ns=this.My;c.dt=this.Ay;c.Ss=this.xC;this.wa.ex(c);this.pause=!1;this.NA=this.ready=!0;this.vn=
1;this.og={x:O/2,y:P/2};this.Wv=1500;this.zy=750;this.hk=0;this.ie="none";this.Js={x:O,y:P};this.fq={x:O,y:P};this.Ks=.1;this.gq=1;this.zoom=.1;this.wn=!0;(this.wi=d)?Dg(this,1,this.Wv):Dg(this,1,this.zy);this.ym="in";this.Fk=this.ra=!1;this.hr=this.ey=100;this.Yu=!1;this.Vr=3E4;this.Ni=0;this.el=null;this.ps=5E3;this.Ri=0;this.Qv=this.Pv=null;this.tp=document.createElement("canvas");this.tp.width=120;this.tp.height=160;this.Ez=this.tp.getContext("2d");!b||this instanceof tc||Eg(this);for(b=0;b<wa.length;b++)wa[b].color=
this.color,wa[b].ub=this.K;if(this.ai=0==this.n||uf.length<Fg.prototype.Zr.length)this.CA=new Fg(this),this.Wi={};!this.ta&&this.i&&Qc(this);0==this.n&&this.u&&(this.u.Ma=99)};
l.reset=function(){this.H={Xc:0,pe:1,sh:1,Yc:0,se:0,Vo:0,Wg:null};this.Vr=1E4;this.Ni=0;this.el=null;var a=new b2Vec2(0,0);this.wa=new b2World(a,!1);Cg(this);a=new b2ContactListener;a.Ns=this.My;a.dt=this.Ay;this.wa.ex(a);this.ps=1E4;this.Ri=0;this.Qv=this.Pv=null;this.aa=0;this.ra=this.Fk=!1;this.i.reset();!this.i||this instanceof tc||Eg(this);Me.translate(V,0);this.i.Ge(Me);Me.translate(-V,0);this.Uj=0;this.Ut=!1;!this.ta&&this.i&&Qc(this)};
function Eg(a){for(var b in N[a.O].r){G[b].ag+=1;$b();var c=L;if(!G[b].Rf&&(1>=G[b].ag||5>=G[b].ag&&0==N[a.i.O].ab[c].aa)){Gg(a);a.el=b;a.Ni=a.Vr;var c=a.Ez,d=a.K,f=a.el;c.save();c.clearRect(0,0,120,160);c.beginPath();c.rect(0,0,120,160);c.strokeStyle=d;c.stroke();c.globalAlpha*=.1;c.fillStyle=d;c.fill();c.globalAlpha*=10;c.textAlign="center";c.font="10px MUli";c.fillText("NEW ENEMY",60,16);c.font="18px MUli";c.fillStyle=G[f].color;var g=f;G[f].Vi&&(g=G[f].Vi);c.fillText(g.toUpperCase(),60,40);Ea(c,
f,60,80,30);c.fillStyle=d;c.font="20px MUli";c.fillText("PAUSE",60,128);c.font="16px MUli";c.fillText("FOR INFO",60,147.2);c.restore()}}}function Bg(a){if(a.i.Ui)a.o=new oc(a.wa,a.i.Ui.x/F,a.i.Ui.y/F,a);else{var b=Rb({x:-10,y:-10},a.Pa,F);a.o=new oc(a.wa,b.x,b.y,a)}}function Dg(a,b,c){var d={x:O/2,y:P/2};a.ie="in";a.Ls=c;a.hk=c;a.fq=d;a.gq=b;a.Js={x:a.og.x,y:a.og.y};a.Ks=a.zoom;a.wn=!1}function Hg(a,b,c,d){a.ie="out";a.Ls=d;a.hk=d;a.fq=b;a.gq=c;a.Js={x:a.og.x,y:a.og.y};a.Ks=a.zoom;a.wn=!1}
function Gg(a){a.el=null;a.qs=null}
l.qa=function(a){if(this.ready&&(null==this.zm?this.zm=0:100==this.zm&&(this.zm=0),this.zm+=1,!this.pause)){this.ai&&(this.CA.qa(a),this.Fk&&Q(this.i.Md,this.o.body.g.position)<this.i.Ek&&uc(this,"moved_to_gateway"));document.webkitHidden&&(this.pause=!0,Y=new Ig(this.i,this.n,this.H,this,this.Eb));this.hr-=a;0<this.Ni?this.Ni-=a:this.el&&Gg(this);0<this.Ri?this.Ri-=a:this.qs&&Gg(this);if(this.SF)this.og={x:this.o.body.g.position.x*F,y:this.o.body.g.position.y*F};else if("none"!=this.ie)if(0>=this.hk)this.ie=
"none",this.zoom=this.gq,this.og=this.fq,this.wn=!1;else{var b=this.hk/this.Ls;this.zoom=1/(1/this.Ks*b+1/this.gq*(1-b));this.og.x=this.Js.x*b+this.fq.x*(1-b);this.og.y=this.Js.y*b+this.fq.y*(1-b);this.hk-=a}"none"==this.ie&&1==this.zoom&&this.ta&&!this.Ut&&(this.oe=this.ng,4==this.n&&(this.oe/=2,this.ng/=2),this.Ut=!0);0<this.oe&&(this.oe-=a);if(this.o.P&&0<this.o.tb&&!this.i.kl&&0<this.u.Ma){b=this.i;b.kl=!0;b.ks=b.Jv;for(var c=0;c<b.r.length;c++)b.r[c].Kc("fade");this.H.Xc=0;this.H.pe=1;this.aa=
0}if(this.o.P&&0>this.o.tb||this.pu)this.ic&&0==!this.n&&"none"==this.ie&&1==this.zoom&&("normal"==L&&(this.u.Ma-=1),this.u.H[this.i.O].yh+=1),this.pu||0>this.u.Ma&&this.ic?"none"==this.ie&&1==this.zoom?(Hg(this,{x:O/2,y:P/2},.1,this.zy),this.ym="out"):"none"==this.ie&&(this.ready=!1,this.xr()):(this.reset(),Bg(this));else if(this.i.Mc&&this.i.Mc.P&&0>this.i.Mc.tb)"none"==this.ie&&1==this.zoom?(Dg(this,10,this.Wv),this.ym="out",this.ra=!0,this.i.uh=!0):"none"==this.ie&&(this.ready=!1,this.xr());else if(this.ra)"none"==
this.ie&&1==this.zoom?(Hg(this,{x:this.o.body.g.position.x*F,y:this.o.body.g.position.y*F},10,this.Wv),this.ym="out"):"none"==this.ie&&(this.ready=!1,this.xr(!0));else{this.ta||(b=Math.min(this.H.Xc/this.i.na[3>this.aa?this.aa:2],1),c=this.DD,this.o.P&&(c/=3),this.Uj>b?this.Uj=Math.max(this.Uj-a/c,b):this.Uj<b&&(this.Uj=Math.min(this.Uj+a/c,b)));this.NA&&1>this.vn?this.vn=Math.min(1,this.vn+a/1E3):!this.NA&&0<this.vn&&(this.vn=Math.max(0,this.vn-a/1E3));this.o.qa(a);this.H.pe=this.H.sh+Math.floor(this.H.Yc/
10);this.H.Vo+=a;this.H.Yc=Math.round(this.H.Vo/1E3);this.i.qa(a);for(b=this.fc.length-1;0<=b;b--)this.fc[b].duration-=a,0>=this.fc[b].duration&&this.fc.splice(b,1);this.wa.ej(1/60,1,10);this.Sc(a)}}};l.Sc=function(){};function Yf(a,b){if("in"==a.ym){var c=Wb(.1,.5,a.hk/a.Ls);b.globalAlpha=Math.min(1-c,1)}else"out"==a.ym&&(c=Wb(.1,.5,a.hk/a.Ls),b.globalAlpha=Math.max(c,0))}
l.Y=function(a,b){if(this.ready&&!this.pause){this.me(a,b);a.save();a.translate(V,0);"none"!=this.ie&&(a.rect(0,0,O,P),a.clip());a.fillStyle=this.ri;a.scale(this.zoom,this.zoom);a.translate((O/2-this.og.x*this.zoom)/this.zoom,(P/2-this.og.y*this.zoom)/this.zoom);a.beginPath();"none"!=this.ie&&(a.rect(2,2,O-4,P-4),a.clip());Yf(this,a);"none"!=this.ie&&a.drawImage(bg_canvas,V,0,O,P,0,0,O,P);this.i.gh(a,F);this.o.gh(a);this.i.Y(a,F);1!=this.zoom&&this.ra?(a.save(),a.translate(this.o.body.g.position.x*
F,this.o.body.g.position.y*F),a.scale(1/this.zoom,1/this.zoom),a.translate(-this.o.body.g.position.x*F,-this.o.body.g.position.y*F),this.o.Y(a),a.restore()):this.o.Y(a);if(this.Yu){var c=this.i;c.Cj=c.Hy;c.Bj=!0;this.Yu=!1}a.beginPath();"none"==this.ie&&(a.rect(2,2,O-4,P-4),a.clip());0<this.oe&&this.oe<this.ng&&this.ic&&1==this.zoom&&4>=this.n&&this.wi&&(a.globalAlpha=Math.min(1,(1-2*Math.abs(this.oe/this.ng-.5))/.5),a.beginPath(),a.fillStyle=v["boss "+this.n],a.textAlign="center",a.font="42px Muli",
a.fillText(this.u.Vt,O/2,P/2-150),a.fill());0<this.oe&&this.oe<this.ng&&this.ic&&1==this.zoom&&1==this.n&&"easy"==L&&3>N[this.O].ab[L].aa&&(a.save(),c=0,this.wi&&0<this.oe&&this.oe<this.ng/2?c=this.oe/(this.ng/2):!this.wi&&this.oe>this.ng/2&&this.oe<this.ng&&(c=(this.oe-this.ng/2)/(this.ng/2)),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.beginPath(),a.moveTo(this.i.Mc.body.g.position.x*F,(this.i.Mc.body.g.position.y-this.i.Mc.N)*F-5),a.lineTo(this.i.Mc.body.g.position.x*F,2*F+15),a.strokeStyle=
v.impulse_blue,a.lineWidth=10,a.stroke(),a.beginPath(),a.arc(this.i.Mc.body.g.position.x*F,this.i.Mc.body.g.position.y*F,this.i.Mc.N*F,0,2*Math.PI,!1),a.stroke(),a.beginPath(),a.moveTo(this.i.Mc.body.g.position.x*F+30*Math.cos(3*Math.PI/2),2*F+30*Math.sin(3*Math.PI/2)),a.lineTo(this.i.Mc.body.g.position.x*F+30*Math.cos(1*Math.PI/6),2*F+30*Math.sin(1*Math.PI/6)),a.lineTo(this.i.Mc.body.g.position.x*F+30*Math.cos(5*Math.PI/6),2*F+30*Math.sin(5*Math.PI/6)),a.fillStyle=v.impulse_blue,a.fill(),a.restore());
if(!this.ta)for(c=0;c<this.fc.length;c++){a.save();a.beginPath();a.font=this.fc[c].size+"px Muli";var d=this.fc[c].duration/this.fc[c].kD;a.globalAlpha*=d;a.fillStyle=this.fc[c].color;this.fc[c].JC?(a.textAlign="left",J(a,this.fc[c].x*F+20,this.fc[c].y*F-(1-d)*this.Rv-7,0,.8*this.fc[c].size,.8*this.fc[c].size,"spark"),a.fillText(this.fc[c].text,this.fc[c].x*F-25,this.fc[c].y*F-(1-d)*this.Rv)):(a.textAlign="center",a.fillText(this.fc[c].text,this.fc[c].x*F,this.fc[c].y*F-(1-d)*this.Rv));a.restore()}this.ai&&
this.CA.Y(a);a.restore();a.clearRect(0,0,V,Jc);a.clearRect(Ic-V,0,V,Jc);1==this.zoom&&"none"==this.ie?0>this.hr&&(Jg(this,b),this.hr=this.ey):Jg(this,a);if(0==!this.n||N[this.O].gn)null!=this.el&&(a.save(),Yf(this,a),500>this.Ni?a.globalAlpha*=Math.max(0,this.Ni/500):this.Ni>this.Vr-500&&(a.globalAlpha*=Math.max(0,(this.Vr-this.Ni)/500)),a.drawImage(this.tp,0,0,120,160,V/2-60,Jc/2,120,160),a.restore()),null!=this.qs&&(a.save(),Yf(this,a),500>this.Ri?a.globalAlpha*=Math.max(0,this.Ri/500):this.Ri>
this.ps-500&&(a.globalAlpha*=Math.max(0,(this.ps-this.Ri)/500)),a.drawImage(this.tp,0,0,120,160,V/2-60,Jc/2-30,120,160),a.restore());if(0!=this.n||N[this.O].gn)a.save(),Yf(this,a),mb(a,Ic-V/2,Jc/2-15,3*Jc/4-30,this.Uj,this.color),this.ta?this.i.Mc?mb(a,Ic-V/2,Jc/2-15,3*Jc/4-30,Tc(this.i.Mc),this.i.Mc.color):mb(a,Ic-V/2,Jc/2-15,3*Jc/4-30,1,v["boss "+this.n]):(a.textAlign="center",a.font="72px Muli",a.fillStyle=this.Au(this.H.pe),a.fillText("x"+this.H.pe,Ic-V/2,Jc/2)),a.restore();for(c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);
this.wn||(1==this.zoom&&"none"==this.ie?bg_canvas.setAttribute("style",""):bg_canvas.setAttribute("style","display: none"),this.wn=!0)}};l.me=function(){};
function Jg(a,b){b.save();b.globalAlpha=1;b.beginPath();b.fillStyle="black";b.clearRect(0,0,V,Jc);b.clearRect(Ic-V,0,V,Jc);Yf(a,b);b.fillStyle=a.color;b.textAlign="center";a instanceof tc||0!=!a.n||(b.font="14px Muli",b.save(),b.globalAlpha*=1,b.fillText("normal"==L?"CHALLENGE MODE":"STANDARD MODE",V/2,15),b.restore());0!=a.n?(b.font="64px Muli",type=a.O.split(" ")[0],"HOW"!=type?b.fillText(type,V/2,70):(b.font="40px Muli",b.fillText("HOW TO",V/2,70)),b.font="80px Muli","BOSS"==type?b.fillText(a.n,
V/2,140):"HOW"==type?(b.font="60px Muli",b.fillText("PLAY",V/2,130)):b.fillText(a.O.slice(5,a.O.length),V/2,140)):N[a.O].gn&&(b.font="40px Muli",b.fillText("TUTORIAL",V/2,70));if(0!=a.n){b.fillStyle=a.color;b.font="32px Muli";var c=a.H.Yc%60;a.H.Wg=Math.floor(a.H.Yc/60)+":"+(10>c?"0"+c:c);b.fillText(a.H.Wg,V/2,Jc/2-80)}if(a.ta)b.fillStyle=v["boss "+a.n],b.font="36px Muli",b.fillText("DISTANCE",Ic-V/2,Jc-55),b.fillText("LEFT",Ic-V/2,Jc-20);else if(0==!a.n||N[a.O].gn)b.font="40px Muli",b.fillText(a.H.Xc,
Ic-V/2,46),3>a.aa&&(b.fillStyle=v[a.Rd[a.aa]],b.font="21px Muli",b.fillText("GOAL",Ic-V/2,Jc-15),b.font="42px Muli",b.fillText(a.i.na[a.aa],Ic-V/2,Jc-40));(0==!a.n||N[a.O].gn)&&qb(b,a.u.Ma,a.u.gc,a.u.Rc,V/2,Jc-60,24,{labels:!0,Xi:a.Nd,gc:"normal"==L,Ma:"normal"==L&&a.ic});b.restore()}l.Au=function(){return"white"};function Kg(a,b){return{x:(b.x-(O/2-a.og.x*a.zoom))/a.zoom,y:(b.y-(P/2-a.og.y*a.zoom))/a.zoom}}
l.Ha=function(a,b){if(this.ready){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b);this.pause||(this.o.qv=Kg(this,{x:a-V,y:b}))}};l.zg=function(){if(!this.pause){var a=this.o;a.Vu=(new Date).getTime();a.vp=!0}};l.Bp=function(){if(!this.pause){var a=this.o;a.cz=(new Date).getTime();a.Kv=!0}};l.ah=function(){this.pause||(this.o.vp=!1)};l.Cp=function(){this.pause||(this.o.Kv=!1)};function Lg(a){a.pause=!a.pause;a.pause?(pc(a.o,ua.dj),a.o.vp=!1,Y=new Ig(a.i,a.n,a.H,a,a.Eb)):Y=null}
l.Qe=function(a){this.ready&&(a==ua.dj||a==ua.mk?Lg(this):a==ua.oq&&this.Fk&&Q(this.i.Md,this.o.body.g.position)<this.i.Ek?(this.ra=!0,this.ta&&(this.i.uh=!0)):pc(this.o,a))};
l.Ap=function(a){if(this.ready){var b=this.o;switch(a){case ua.uq:b.left=!1;break;case ua.xq:b.right=!1;break;case ua.kq:b.Ko=!1;break;case ua.zq:b.aq=!1;break;case ua.Ow:b.Dh=null;break;case ua.Qw:b.Fh=null;break;case ua.Pw:b.Eh=null;break;case ua.Nw:b.Ch=null;break;case ua.kx:b.Dr=null;break;case ua.dj:case ua.mk:b.aq=!1,b.Ko=!1,b.left=!1,b.right=!1,b.Dh=null,b.Eh=null,b.Fh=null,b.Ch=null,b.Dr=null}}};
function Cg(a){var b,c;b=[{x:O/F/2,y:2},{x:O/F/2,y:2},{x:2,y:P/F/2},{x:2,y:P/F/2}];c=[{x:O/F/2,y:-2},{x:O/F/2,y:P/F+2},{x:-2,y:P/F/2},{x:O/F+2,y:P/F/2}];for(var d=0;4>d;d++){var f=new b2FixtureDef;f.filter.uf=1;f.filter.Df=2;var g=new b2BodyDef;g.type=b2Body.tf;f.shape=new b2PolygonShape;f.shape.bx(b[d].x,b[d].y);g.position.R(c[d].x,c[d].y);a.wa.zn(g).jq(f)}}l.My=function(a){var b=a.oc.Jf();a=a.pc.Jf();b&&a&&(b.owner.Ze(a.owner,b.body,a.body),a.owner.Ze(b.owner,a.body,b.body))};
l.xC=function(a){var b=a.oc.Jf();a=a.pc.Jf();b&&a&&"tank"==b.owner.type&&"tank"==a.owner.type&&(b.owner.Ze(a.owner,b.body,a.body),a.owner.Ze(b.owner,a.body,b.body))};
l.Ay=function(a){var b=a.oc.Jf(),c=a.pc.Jf();if(null!=b&&null!=c){var d=b.self,f=c.self;if(null!=d&&null!=f){var b=[d,f],g=[f,d],h;for(h in b)if(d=b[h],"harpoonhead"==d.type&&"inactive"!=d.xi.mb){f=g[h];if(f!=d.xi&&"harpoonhead"!=f.type&&!f.Rf&&!c.owner.Rf){if(("boss four spawner"==f.type||"boss four attacker"==f.type)&&!f.qb)continue;Q(d.body.g.position,f.body.g.position)<d.N+f.N&&(f.Zy&&f.open(3E3),d=d.xi,"engaged"!=d.mb&&!d.P&&0>=d.s[1]&&f.id!==d.Gu&&(ec("hhit"),d.mb="engaged",d.Pc=f,d.Pc==d.o&&
Rc(d.v)))}a.nB()}}}};function Oc(a,b,c,d,f,g,h,k){a.fc.push({text:b,color:c,x:d,y:f,duration:h?h:a.$z,kD:h?h:a.$z,size:g,JC:k})}
function Mg(a,b,c,d){Gg(a);a.qs=b;a.Ri=a.ps;a.Pv=c;a.Qv=d;b=a.Ez;c=a.qs;d=a.Pv;var f=a.Qv;a=a.n;b.save();b.clearRect(0,0,120,160);b.shadowBlur=0;b.beginPath();b.rect(0,0,120,160);b.lineWidth=4;b.strokeStyle=d;b.stroke();b.globalAlpha*=.1;b.fillStyle=d;b.fill();b.globalAlpha*=10;b.save();b.globalAlpha*=.4;0==a&&(b.globalAlpha*=.5);"GATEWAY UNLOCKED"==c&&Ka(b,a,60,80,50);"SILVER SCORE"==c&&J(b,60,80,0,50,50,"silver_trophy");"GOLD SCORE"==c&&J(b,60,80,0,50,50,"gold_trophy");b.restore();b.textAlign="center";
b.font=f+"px Muli";b.fillStyle=d;b.shadowColor=d;b.fillText(c.split(" ")[0].toUpperCase(),60,65);b.fillText(c.split(" ")[1].toUpperCase(),60,95);b.restore()}
function Qc(a){if(a.H.Xc>=a.i.na[a.aa])for(;a.H.Xc>=a.i.na[a.aa];)a.aa+=1,1==a.aa?(a.Fk=!0,a.Yu=!0,0!=a.i.na[0]&&Mg(a,"GATEWAY UNLOCKED",v["world "+a.n+" bright"],18)):2==a.aa?(a.ic&&(a.u.Ma+=1,Oc(a,"1UP",v.silver,a.o.body.g.position.x,a.o.body.g.position.y-1,24,3E3)),Mg(a,"SILVER SCORE",v.silver,24)):3==a.aa&&(a.ic&&(5>a.u.Ma?(Oc(a,5-a.u.Ma+"UP",v.gold,a.o.body.g.position.x,a.o.body.g.position.y-1,24,3E3),a.u.Ma=5):(a.u.Ma+=1,Oc(a,"1UP",v.gold,a.o.body.g.position.x,a.o.body.g.position.y-1,24,3E3))),
Mg(a,"GOLD SCORE",v.gold,24)),0<a.aa&&(a instanceof tc&&a.Bj(),a.ai&&uc(a,"gateway_opened"))}function Pc(a){a.H.sh+=1;a.H.pe=a.H.sh+Math.floor(a.H.Yc/10)}function Rc(a){a.o.nh||(a.ai&&uc(a,"multiplier_reset"),a.H.sh=1,a.H.pe=a.H.sh+Math.floor(a.H.Yc/10))}l.xr=function(){S=this.ic?new Ng(this.n,this.i,this.ra||this.i.uh,this.H,this.Eb,this.u):new Og(this.u,this.ic,{H:this.H,i:this.i,n:this.n,Eb:this.Eb,ra:this.ra})};function uc(a,b){a.ai&&(a.Wi[b]=!0)};Pg.prototype=new tg;l=Pg.prototype;l.constructor=Pg;
function Pg(a,b){this.O=a;this.buttons=[];this.n=b;this.Yb=!1;this.color=v["world "+this.n+" lite"];this.K=v["world "+this.n+" bright"];this.ta="BOSS"==this.O.slice(0,4);this.buttons.push(new $("BACK",16,70,P/2+260,60,65,this.K,this.K,function(a){return function(){Me.fillStyle=v["world "+a.n+" dark"];Me.translate(V,0);Me.fillRect(0,0,O,P);Me.globalAlpha*=jg(0);Db(Me,0,O,P,"Hive "+a.n);Me.translate(-V,0);Le.setAttribute("style","");vg(a.V,"fade_out_to_main",function(){S=a.n?new bg(a.n,!0):new Sf;Bf=
null;"normal"==L?Vf("Title Alt"+a.n,.15):Vf("Hive 0",.3)})}}(this),"back"));this.Rd=["bronze","silver","gold"];this.aa=N[this.O].ab[L].Dc.aa;this.Sg=null;if(this.ta)this.Sg={};else{this.Sg=N[this.O].r;this.Wc=0;for(var c in N[this.O].r)this.Wc+=1}this.Ld=40;this.i=this.Hm(N[this.O]);var d=0;for(c in this.Sg){for(var f=0,g=0;f<d+1&&f<this.Wc;)f+=12;g=f<=this.Wc?12:this.Wc-(f-12);this.buttons.push(new zg(c,this.Ld,O/2+(this.Ld+10)*(d-(f-12)-(g-1)/2),490+this.Ld*(Math.floor(d/12)-(Math.ceil(this.Wc/
12)-1)/2),this.Ld,this.Ld,v["world "+this.n+" lite"],function(a,b){return function(){vg(b.V,"fade_out",function(){Y=new Ag(a,b)})}}(c,this)));d+=1}this.V=new wg({fade_in:500,fade_out:250,fade_out_to_main:250});vg(this.V,"fade_in")}l.qa=function(a){this.V.qa(a);Wf(a)};
l.Y=function(a,b){if(!this.Yb){var c=Af.getContext("2d");c.clearRect(0,0,O,P);Db(c,0,O,P,"Hive "+this.n);b.translate(V,0);this.i.Ge(b);this.Yb=!0;b.translate(-V,0);bg_canvas.setAttribute("style","display:none")}"fade_out_to_main"!=this.V.bc?(a.save(),a.fillStyle=v["world "+this.n+" dark"],a.fillRect(0,0,O,P),a.globalAlpha*=jg(this.n)):(a.save(),a.globalAlpha*=xg(this.V),a.fillStyle="black",a.fillRect(0,0,O,P),a.globalAlpha*=jg(0));a.drawImage(Af,0,0,O,P,0,0,O,P);a.restore();a.save();if("fade_in"==
this.V.bc)a.globalAlpha*=xg(this.V);else if("fade_out"==this.V.bc||"fade_out_to_main"==this.V.bc)a.globalAlpha*=1-xg(this.V);if(this.ta)for(a.fillStyle=v["world "+this.n+" bright"],a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,P/2-50,100),a.restore(),a.font="16px Muli",a.fillText(this.i.O,O/2,P/2-60),a.font="40px Muli",a.fillText(qa[this.n],O/2,P/2-20),a.font="24px Muli",3==N[this.O].ab[L].aa?(a.font="12px Muli",a.fillText("BEST TIME",O/2,390),a.font=
"28px Muli",a.fillText(bc(N[this.O].ab[L].bd),O/2,415)):(a.fillStyle=v["boss "+this.n],a.fillText("UNDEFEATED",O/2,400)),c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);else{a.globalAlpha/=3;Ka(a,this.n,O/2,60,40,!0);a.globalAlpha*=3;a.beginPath();a.fillStyle=v["world "+this.n+" bright"];a.font="30px Muli";a.textAlign="center";a.fillText(this.O,O/2,70);a.fill();for(c=0;c<this.buttons.length;c++)this.buttons[c].Y(a);rb(a,this.O,O/2,175,200,150,v["world "+this.n+" lite"]);a.beginPath();a.rect(O/
2-100,100,200,150);a.strokeStyle="rgba(0, 0, 0, .3)";a.stroke();if(1>this.Nr){a.textAlign="center";var c=this.Nr,d=O-70,f=P-53;a.save();db(a,d,f,"gray");a.beginPath();a.arc(d,f,15,3*Math.PI/2,3*Math.PI/2+1.999*Math.PI*c);a.lineWidth=2;a.strokeStyle="gray";a.stroke();a.restore();a.font="16px Muli";a.fillStyle="gray";a.fillText("LOADING",O-70,P-19)}if("HOW TO PLAY"!=this.O.slice(0,11)){d=["world "+this.n+" lite","silver","gold"];f=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];if(!this.ta)for(c=0;3>
c;c++)a.font="24px Muli",a.textAlign="right",a.fillStyle=v[d[c]],a.shadowColor=a.fillStyle,a.font="20px Muli",a.fillText(N[this.O].na[L][c],O/2+160,35*c+297),a.textAlign="left",a.font="20px Muli",a.fillText(f[c],O/2-160,35*c+297);for(score_color=0;N[this.O].ab[L].Dc>N[this.O].na[L][score_color];)score_color+=1;a.fillStyle=0<score_color?v[this.Rd[score_color-1]]:this.K;a.textAlign="center";a.font="12px Muli";a.fillText("HIGH SCORE",O/2,400);a.font="28px Muli";a.fillText(N[this.O].ab[L].Dc,O/2,425);
a.fillStyle=v["world "+this.n+" lite"];a.font="12px Muli";a.fillText("ENEMIES",O/2,460)}}a.restore()};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};l.Mr=function(){var a=new jc(this.n,!1);this.buttons.push(new $("START",16,O-70,P/2+260,100,65,this.K,this.K,function(b){return function(){vg(b.V,"fade_out",function(){S=new Xf(b.n,b.i,b.Eb,a,!1,!0)})}}(this),"start"))};Qg.prototype=new sg;l=Qg.prototype;l.constructor=Qg;l.GD={F:0,D:10,"D+":11,"C-":13,C:14,"C+":15,"B-":16,B:17,"B+":18,"A-":20,A:21,"A+":22,S:24,"S+":25};l.nw=["half","basic","silver","gold"];
function Qg(a,b,c,d,f,g,h){this.Uu=h;this.Np=g;this.buttons=[];this.Yb=!1;this.u=c;this.i=d;this.Eb=f;this.n=a;this.ra=b;this.Nd=1<=lc();g&&(this.u=jc.prototype.clone(sf[L]),nc(this.u),$b(),this.n=this.u.wa,this.ra=null);this.Ca=this.fe=250;this.rb="in";this.buttons=[];this.oh="half";this.color=v["world "+this.n];this.xb=v["world "+this.n+" lite"];this.K=v["world "+this.n+" bright"];this.ri=v["world "+this.n+" dark"];if(b){Rg(this);this.OE="HIVE "+this.u.Vt+" DEFEATED";a=3;for(d in c.H)c.H[d].aa<
a&&(a=c.H[d].aa);c.Of||(this.oh=this.nw[a],this.u.oh=this.oh);(d=Qe[L]["world "+this.n])&&d.rank&&fg(eg(d.rank));if(!d||this.nw.indexOf(this.oh)>this.nw.indexOf(d.victory_type)||this.oh==d.victory_type&&("half"==this.oh&&c.Of<d.continues||"gold"==this.oh&&this.wA<d.deaths))Qe[L]["world "+this.n]={victory_type:this.oh,continues:c.Of,deaths:this.wA,first_victory:void 0===d},$b();c=new $("",16,490,205,20,20,this.xb,this.K,function(){},"help_icon");this.buttons.push(c);Sg(c,new $f("rank_explanation",
this.K,this.n))}this.Np&&!this.Uu&&(this.ml=new $("RESUME",16,730,P/2+260,100,65,this.xb,this.K,function(a){return function(){sf[L]={};$b();a.u.zv=0;S=new Ng(a.n,null,null,null,null,a.u,!0,!0)}}(this),"start"),this.ml.pl=!1,this.buttons.push(this.ml),this.nm=new $("DELETE",16,O/2,P/2+260,100,65,this.xb,this.K,function(a){return function(){sf[L]={};$b();S=new bg(a.n)}}(this),"quit"),this.buttons.push(this.nm),this.nm.pl=!1,this.KD=new $("EXIT",16,70,P/2+260,60,65,this.xb,this.K,function(){return function(){S=
new Sf}}(this),"back"),this.buttons.push(this.KD));0!=this.n&&ic();this.Rd=["bronze","silver","gold"]}function eg(a){a=Qg.prototype.GD[a];var b="half";0<a&&(b="basic");16<=a&&(b="silver");24<=a&&(b="gold");return b}function fg(a){Qe[difficulty][world]={victory_type:a,continues:"half"==a?1:0,deaths:9,first_victory:!0};$b()}function Rg(a){for(var b=0,c=0;8>c;c++){var d=7==c?"BOSS "+a.n:"HIVE "+a.n+"-"+(c+1);a.u.H[d]&&(b+=a.u.H[d].yh)}a.wA=b}
l.Y=function(a){if(0!=this.n){this.Yb||(bg_canvas.setAttribute("style","display:none"),this.Yb=!0,Db(Af.getContext("2d"),0,O,P,"Hive "+this.n));a.save();this.Ca-=dt;0>this.Ca&&("in"==this.rb&&(this.rb="none"),"out"==this.rb&&Tg(this));a.fillStyle=this.ri;a.fillRect(0,0,O,P);if("in"==this.rb){var b=this.Ca/this.fe;a.globalAlpha=1-b}else"out"==this.rb&&(b=this.Ca/this.fe,a.globalAlpha=Math.max(0,b));a.save();a.globalAlpha*=jg(this.n);a.drawImage(Af,0,0,O,P,0,0,O,P);a.restore();for(b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);
a.globalAlpha*=.3;Ka(a,this.n,O/2,130,150);a.globalAlpha/=.3;a.shadowBlur=0;a.textAlign="center";a.font="20px Muli";this.ra?(a.fillStyle=this.K,a.font="40px Muli",a.fillText(this.OE,O/2,130)):(this.Np?(a.fillStyle=v.impulse_blue,a.fillText("GAME SAVED",O/2,90),a.fillStyle=this.K):(a.fillStyle="red",a.fillText("GAME OVER",O/2,80),a.fillStyle=this.K,0<this.u.Of&&(a.font="18px Muli",a.fillText("CONTINUES: "+this.u.Of,O/2,175))),a.font="40px Muli",a.fillText(this.u.Lu,O/2,130));this.ra&&this.u.Of&&(a.fillStyle=
this.K,a.font="18px Muli",a.fillText("CONTINUES: "+this.u.Of,O/2,250));this.ra?(a.fillStyle=this.K,a.font="18px Muli",a.fillText("RANK",O/2,167),Eb(a,O/2,200,this.n,this.oh,1.2)):this.Np&&(qb(a,this.u.Ma,this.u.gc,this.u.Rc,O/2,170,24,{labels:!0,Xi:this.Nd,gc:"normal"==L,Ma:"normal"==L}),a.font="16px Muli",this.u.Of&&(a.fillStyle="red",a.fillText("CONTINUES: "+Math.floor(this.u.Of),O/2,240)));a.shadowBlur=0;a.font="18px Muli";a.textAlign="center";a.fillStyle=this.xb;a.fillText("LEVEL",150,290);a.fillText("SCORE",
270,290);a.fillText("TIME",390,290);a.fillText("COMBO",510,290);a.fillText("DEATHS",630,290);for(b=0;8>b;b++){var c=7==b?"BOSS "+this.n:"HIVE "+this.n+"-"+(b+1),d=c;7==b&&(d=this.u.Vt);c=this.u.H[c]?this.u.H[c]:{};a.fillStyle=c.KA?this.xb:"#333";var f=320+27*b;a.fillText(d,150,f);void 0!=c.Xc?(0<c.aa&&(a.fillStyle=v[this.Rd[c.aa-1]]),a.fillText(c.Xc,270,f)):a.fillText("---",270,f);a.fillStyle=c.KA?this.xb:"#333";void 0!=c.Wg?a.fillText(c.Wg,390,f):a.fillText("---",390,f);void 0!=c.pe?a.fillText(c.pe,
510,f):a.fillText("---",510,f);void 0!=c.yh?a.fillText(c.yh,630,f):a.fillText("---",630,f)}a.font="16px Muli";a.fillStyle=this.xb;this.Np?this.Uu&&a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30):this.ra?a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30):this.i?a.fillText("PRESS ANY KEY TO CONTINUE",O/2,P-30):a.fillText("PRESS ANY KEY FOR MAIN MENU",O/2,P-30);for(b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);for(b=0;b<this.buttons.length;b++)Ug(this.buttons[b],a);a.restore()}};
l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};l.Qe=function(){"none"!=this.rb||this.Np&&!this.Uu||(this.rb="out",this.Ca=this.fe)};l.Ap=function(){};l.qa=function(){0==this.n&&Tg(this)};function Tg(a){a.ra?S=new Og(a.u,!0,{ra:!0,Fm:0==a.n,wu:Re}):a.i?(a.u.continue(),S=new Ng(a.n,a.i,a.ra,null,a.Eb,a.u)):S=new Og(a.u,!0,{ra:!1,Fm:0==a.n,wu:Re})};Ng.prototype=new tg;l=Ng.prototype;l.constructor=Ng;
function Ng(a,b,c,d,f,g,h,k){this.u=g;this.ra=c;this.H=d;this.By=!1;this.rC=k;this.gk=3700;this.Le=2200;this.Sf=4E3;this.Ea=null;this.Dc=!1;this.Di=!0;this.Nd=1<=lc();this.n=a;this.color=v["world "+a];this.xb=v["world "+a+" lite"];this.K=v["world "+a+" bright"];this.ri=v["world "+a+" dark"];this.Eb=f;this.buttons=[];this.Yb=!1;this.Rd=["bronze","silver","gold"];this.Qx=this.wi=!1;if(b)if(this.H){this.Ea=b;this.ra?(this.state="last_level_summary",this.Ca=this.Sf):(this.state=A.Pp?"last_level_summary":
"level_intro",this.Ca=A.Pp?this.Sf:this.Le);a=0;if(!this.Ea.ta)for(;this.H.Xc>N[this.Ea.O].na[L][a];)a+=1;this.aa=a;this.Ea.ta||(this.Rt=3>this.aa?N[this.Ea.O].na[L][this.aa]:N[this.Ea.O].na[L][2]);if(this.ra){this.Ea.ta?(a=ac(this.Ea.O,this.H.Yc),this.bd=a.bd):(a=Yb(this.Ea.O,this.H.Xc),this.Dc=a.Dc);this.aa=a.aa;this.u.H.hasOwnProperty(this.Ea.O)||(this.u.H[this.Ea.O]={},this.u.H[this.Ea.O].yh=0);if(this.Ea.ta)this.u.H[this.Ea.O].Xc="WIN",this.u.H[this.Ea.O].aa=3,this.u.H[this.Ea.O].Wg=this.H.Wg;
else{for(var m in this.H)this.u.H[this.Ea.O][m]=this.H[m];for(a=0;this.H.Xc>=N[this.Ea.O].na[L][a];)a+=1;this.u.H[this.Ea.O].aa=a;void 0===typeof this.u.H[this.Ea.O].yh&&(this.u.H[this.Ea.O].yh=0)}this.Zp=Math.floor(this.H.Yc/5);this.Eo=Math.floor(this.H.pe/2);this.Ds=this.u.gc+this.Zp+this.Eo;for(this.fw=this.u.Ma;100<=this.Ds;)this.Ds-=100,this.fw+=1}this.ra?this.u.Jr=this.u.Rc:(this.Sf*=.66,this.Ca*=.66,this.Le*=.66,0!=this.n&&(this.u.Ma-=1),this.u.Ir=this.u.gc,this.u.Hr=this.u.Ma,this.u.Rc=this.u.Jr)}else this.state=
"level_intro",this.i=this.Ea=b,this.Ca=this.Le/=2,this.Qx=!0;else this.state="world_intro",this.u=h?g:new jc(a,!0),this.Ca=this.gk;if(!this.Qx){if(this.ra||!this.Ea){if(this.Ea&&this.Ea.ta||0==this.n&&this.ra&&this.Ea&&"HIVE 0-4"==this.Ea.O)return;this.Di=!1;h?h=this.Hm(N[this.u.Xx]):(h=this.Ea,h=this.Hm(N[h?7>h.ez?"HIVE "+this.n+"-"+(h.ez+1):"BOSS "+this.n:"HIVE "+this.n+"-1"]));this.i=h;this.wi=!N[this.i.O].ab[L].ag;N[this.i.O].ab[L].ag=!0;$b();this.u.H.hasOwnProperty(this.i.O)||(this.u.H[this.i.O]=
{},this.u.H[this.i.O].KA=!0,this.u.H[this.i.O].yh=0);this.u.Xx=this.i.O}else this.u.H.hasOwnProperty(this.Ea.O)||(this.u.H[this.Ea.O]={}),void 0===typeof this.u.H[this.Ea.O].yh&&(this.u.H[this.Ea.O].yh=0),this.i=this.Ea,this.i.v=null,Me.translate(V,0),this.i.Ge(Me),this.Yb=!0,Me.translate(-V,0);this.i.ta&&(this.Le=this.ra?1E3:500)}0==this.n||this.Ea&&this.Ea.ta||hc(fc,ka["Hive "+this.n])}
l.qa=function(a){this.By=!0;if(0>this.u.Ma)S=new Qg(this.n,!1,this.u,this.i,this.Eb);else if(0==this.n&&this.ra&&this.Ea&&"HIVE 0-4"==this.Ea.O)S=new Qg(this.n,!0,this.u);else if(0==this.n)this.Di&&(S=new Xf(this.n,this.i,this.Eb,this.u,!0,null===this.ra?!0:this.ra));else if(this.Ea&&this.Ea.ta&&this.Ea.uh)S=new Qg(this.n,!0,this.u);else if(this.Ea&&this.Ea.ta&&!this.Ea.uh)S=new Xf(this.n,this.i,this.Eb,this.u,!0,null===this.ra?!0:this.ra);else{var b=this.Ca/this.Sf;"last_level_summary"==this.state&&
this.ra&&.3<b&&.7>b?(this.u.gc+=a/(.4*this.Sf)*(this.Zp+this.Eo),100<=this.u.gc&&(this.u.gc-=100,this.u.Ma+=1)):"last_level_summary"==this.state&&this.ra&&.3>b&&(this.u.gc=Math.floor(this.Ds),this.u.Ma=Math.floor(this.fw),this.u.Ir=this.u.gc,this.u.Hr=this.u.Ma);if(this.Di||"world_intro"==this.state&&this.Ca>=this.gk/2||"last_level_summary"==this.state&&this.Ca>=this.Sf/2||"level_intro"==this.state&&this.Ca>=this.Le/2)this.Ca-=a;0>this.Ca&&("world_intro"==this.state&&this.Di?0==this.n?S=new Xf(this.n,
this.i,this.Eb,this.u,!0,null===this.ra?!0:this.ra):(this.state="level_intro",this.Ca=this.Le):"last_level_summary"==this.state&&this.Di?(this.ra&&this.i.ta&&ic(),this.state="level_intro",this.Ca=this.Le):"level_intro"==this.state&&(S=new Xf(this.n,this.i,this.Eb,this.u,!0,null===this.ra?!0:this.ra)))}};
l.Y=function(a,b){!this.Yb&&this.i&&(bg_canvas.setAttribute("style","display:none"),b.translate(V,0),this.i.Ge(b),this.Yb=!0,b.translate(-V,0),Db(Af.getContext("2d"),0,O,P,"Hive "+this.n));a.fillStyle=v["world "+this.n+" dark"];a.fillRect(0,0,O,P);if(0!=this.n){a.save();a.globalAlpha*=jg(this.n);if("world_intro"!=this.state||this.rC)"level_intro"==this.state?(c=this.Ca/this.Le,.5>c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))):"last_level_summary"==this.state&&(c=this.Ca/this.Sf,.5<c&&(a.globalAlpha*=
Math.min(1,(1-2*Math.abs(c-.5))/.5)));else{var c=this.Ca/this.gk;.5<c&&(a.globalAlpha*=Math.min(1,(1-2*Math.abs(c-.5))/.5))}a.drawImage(Af,0,0,O,P,0,0,O,P);a.restore();this.By&&("world_intro"==this.state?(c=this.Ca/this.gk,a.save(),a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.textAlign="center",a.shadowBlur=0,a.font="54px Muli",a.fillStyle=this.K,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,P/2,130),a.restore(),a.fillText(this.u.Lu,O/2,P/2+25),a.shadowBlur=0,a.fillStyle=
this.xb,a.shadowColor=a.fillStyle,a.font="12px Muli",this.Di?a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270):a.fillText("LOADING LEVEL",O/2,P/2+270),a.restore()):"level_intro"==this.state?this.i.ta||(a.save(),c=this.Ca/this.Le,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.fillStyle=this.K,a.textAlign="center",a.font="42px Muli",a.shadowBlur=0,a.shadowColor="black",a.save(),a.globalAlpha*=.3,Ka(a,this.n,O/2,P/2-100,100),a.restore(),a.fillText(this.u.Lu,O/2,P/2-100),a.font="32px Muli",a.fillText(this.i.O,
O/2,P/2-50),qb(a,Math.floor(this.u.Ma),Math.floor(this.u.gc),this.u.Rc,O/2,P/2+180,24,{labels:!0,Xi:this.Nd,gc:"normal"==L,Ma:"normal"==L}),a.shadowBlur=0,a.fillStyle=this.xb,a.shadowColor=a.fillStyle,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270),a.restore()):"last_level_summary"==this.state&&(c=this.Ca/this.Sf,a.globalAlpha=Math.min(1,(1-2*Math.abs(c-.5))/.5),a.shadowBlur=0,a.textAlign="center",a.font="30px Muli",this.ra?(a.fillStyle=v.impulse_blue,a.shadowColor=a.fillStyle,
a.fillText("LEVEL CONQUERED",O/2,100)):(a.fillStyle="red",a.shadowColor=a.fillStyle,a.fillText("LEVEL FAILED",O/2,100)),a.fillStyle=this.K,a.shadowColor=a.fillStyle,a.font="40px Muli",a.fillText(this.Ea.O,O/2,150),a.font="18px Muli",a.fillStyle=this.K,a.shadowColor=a.fillStyle,this.Ea.ta?a.fillText("LEVEL TIME",O/2,190):(a.fillText("FINAL COMBO",O/2+100,190),a.fillText("LEVEL TIME",O/2-100,190)),a.font="54px Muli",this.Ea.ta?a.fillText(this.H.Wg,O/2,240):(a.fillText(this.H.pe,O/2+100,240),a.fillText(this.H.Wg,
O/2-100,240)),a.fillStyle=v.impulse_blue,a.shadowColor=a.fillStyle,a.font="24px Muli",this.ra&&(a.textAlign="left",10>this.Eo?(a.fillText(" + "+this.Eo,O/2+85,275),J(a,O/2+75,267,0,20,20,"spark")):(a.fillText(" + "+this.Eo,O/2+79,275),J(a,O/2+69,267,0,20,20,"spark")),10>this.Zp?(a.fillText(" + "+this.Zp,O/2-108,275),J(a,O/2-118,267,0,20,20,"spark")):(a.fillText(" + "+this.Zp,O/2-114,275),J(a,O/2-124,267,0,20,20,"spark"))),a.textAlign="center",this.Ea.ta||(a.fillStyle=this.K,a.shadowColor=a.fillStyle,
a.font="24px Muli",a.fillText("SCORE",O/2,320),a.font="72px Muli",a.fillText(this.H.Xc,O/2,390),c=this.K,nb(a,O/2,420,300,Math.min(this.H.Xc/this.Rt,1),c,c),this.Dc&&(a.font="18px Muli",a.fillStyle=this.K,a.shadowColor=a.fillStyle,a.fillText("HIGH SCORE",O/2,455))),qb(a,Math.floor(this.u.Ma),Math.floor(this.u.gc),this.u.Rc,O/2,P/2+200,24,{labels:!0,Xi:this.Nd}),a.shadowBlur=0,a.fillStyle=this.xb,a.font="12px Muli",a.fillText("PRESS ANY KEY TO SKIP",O/2,P/2+270)))}};
l.Qe=function(){this.Di&&(this.gk/=4,this.Le/=4,this.Sf/=4,this.Ca/=4)};l.Va=function(){this.Di&&(this.gk/=4,this.Le/=4,this.Sf/=4,this.Ca/=4)};l.Mr=function(){this.Di=!0};l.Au=function(a){return 100>a?(a/=100,"rgb("+Math.round(190*(1-a)+0*a)+","+Math.round(190*(1-a)+128*a)+","+Math.round(190*(1-a)+255*a)+")"):this.Au(Math.abs(400-this.H.Vo%800)/400*99.99)};Vg.prototype=new sg;l=Vg.prototype;l.constructor=Vg;
function Vg(){this.Ux=kc();this.Wx=lc();this.Vx=mc();this.Nd=1<=lc();this.V=new wg({fade_in:500,fade_out:250});vg(this.V,"fade_in");this.buttons=[];this.buttons.push(new $("BACK",16,70,P/2+260,60,65,"white",v.impulse_blue,function(a){return function(){vg(a.V,"fade_out",function(){S=new Sf})}}(this),"back"));this.buttons.push(new Wg("beat_hive1",O/2-225,150,50));this.buttons.push(new Wg("beat_hive2",O/2-75,150,50));this.buttons.push(new Wg("beat_hive3",O/2+75,150,50));this.buttons.push(new Wg("beat_hive4",
O/2+225,150,50));this.buttons.push(new Wg("first_gold",O/2-300,300,50));this.buttons.push(new Wg("combo",O/2-150,300,50));this.buttons.push(new Wg("fast_time",O/2+0,300,50));this.buttons.push(new Wg("survivor",O/2+150,300,50));this.buttons.push(new Wg("pacifist",O/2+300,300,50));this.buttons.push(new Wg("0star",O/2-225,450,50));this.buttons.push(new Wg("1star",O/2-75,450,50));this.buttons.push(new Wg("2star",O/2+75,450,50));this.buttons.push(new Wg("3star",O/2+225,450,50))}l.qa=function(a){this.V.qa(a)};
l.Y=function(a){this.Yb||(Le.setAttribute("style",""),Vf("Hive 0",.3),this.Yb=!0);"fade_in"==this.V.bc?a.globalAlpha*=xg(this.V):"fade_out"==this.V.bc&&(a.globalAlpha*=1-xg(this.V));a.textAlign="center";a.font="24px Muli";a.fillStyle="white";a.fillText("CHALLENGES",O/2,50);a.font="12px Muli";a.fillText("MOUSE OVER TO VIEW",O/2,75);qb(a,this.Ux,this.Vx,this.Wx,O/2,P-50,15,{labels:!0,Xi:this.Nd,Ma:!0,gc:!0,rA:!0});for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);for(b=0;b<this.buttons.length;b++)Ug(this.buttons[b],
a)};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};Og.prototype=new sg;l=Og.prototype;l.constructor=Og;
function Og(a,b,c){this.u=a;this.ic=b;this.pd=c;this.La=[];this.xf=-1;this.Ca=this.fe=250;this.rb="in";this.wi=Re;this.ra=c.ra;this.Yb=!1;this.cu=kc();this.du=mc();this.cr=lc();this.aa=0;var d=this;this.fl=new $("NORMAL MODE",20,O/2-150,300,250,125,"white",v.impulse_blue,function(){d.gm("easy")},"easy_mode");this.Xq=new $("CHALLENGE MODE",20,O/2+150,300,250,125,"white",v.impulse_blue,function(){d.gm("normal")},"normal_mode");this.Es=500;this.debug();Xg(this);this.xf+=1;0<this.La.length&&ic()}
l.gm=function(a){"none"==this.rb&&(L=a,$b(),this.fl.border="easy"==L,this.Xq.border="normal"==L,this.rb="out",this.Ca=4*this.fe)};
function Yg(a,b,c){var d=parseInt(b.substring(5,6));3!=c.aa&&3!=a.aa||"BOSS"==b.substring(0,4)||Zg(a,"first_gold");1==d&&150<=c.pe&&Zg(a,"combo");3==d&&150<=c.Yc&&Zg(a,"survivor");2==d&&30>=c.Yc&&Zg(a,"fast_time");0==c.Pu&&Zg(a,"pacifist");if("normal"==L){b=3;c=["half","basic","silver","gold"];for(d=1;4>=d;d++)if(Qe.normal["world "+d]){var f=Qe.normal["world "+d].oh;c.indexOf(f)<b&&(b=c.indexOf(f))}else b=-1;0<=b&&Zg(a,"0star");1<=b&&Zg(a,"1star");2<=b&&Zg(a,"2star");3==b&&Zg(a,"3star")}}
function Zg(a,b){if(-1==vf.indexOf(b)){vf.push(b);$b();a.La.push({type:"quest",data:{type:b}});for(var c=0;c<Fb[b].La.length;c++){var d=Fb[b].La[c];"life"==d&&(a.cu+=1,a.La.push({type:"lives",data:{Qf:1,tv:a.cu}}));"ult"==d&&(a.cr+=1,a.La.push({type:"ult",data:{Qf:1,vv:a.cr}}),1==a.cr&&(a.vA=!0));"spark"==d&&(a.du+=1,a.La.push({type:"spark_val",data:{Qf:1,uv:a.du}}))}}}
l.Y=function(a){if(0!=this.La.length){var b=this.La[this.xf];if(!this.Yb){bg_canvas.setAttribute("style","display:none");var c=Af.getContext("2d");"world_victory"==b.type?Db(c,0,O,P,"Hive "+(b.data+1)):Db(c,0,O,P,"Hive 0");this.Yb=!0}a.save();a.globalAlpha="world_victory"==b.type?a.globalAlpha*jg(b.data+1):a.globalAlpha*jg(0);a.drawImage(Af,0,0,O,P,0,0,O,P);a.restore();a.save();"in"==this.rb?(c=this.Ca/this.fe,a.globalAlpha=1-c):"out"==this.rb&&(c=this.Ca/this.fe,a.globalAlpha=Math.max(0,c));if("quest"!=
b.type&&"ult_tutorial"!=b.type&&"select_difficulty"!=b.type&&"share"!=b.type){var d="world_victory"==b.type?b.data+1:0;a.save();a.globalAlpha*=.2;Ka(a,d,O/2,250,100);a.restore()}var f=c="",g=32;"world_victory"==b.type&&(a.fillStyle=v["world "+(b.data+1)+" bright"],g=24,c="NEW HIVE UNLOCKED",f="easy"==L?"STANDARD MODE":"CHALLENGE MODE",a.textAlign="center",a.font="48px Muli",a.fillText("HIVE "+qa[b.data+1],O/2,270));"final_victory"==b.type&&(g=32,final_message="easy"==L?"STANDARD MODE COMPLETED":"CHALLENGE MODE COMPLETED",
final_message_teaser="easy"==L?"WELL DONE":"WICKED SICK",a.textAlign="center",a.fillStyle=v.impulse_blue,a.font="32px Muli",a.fillText(final_message,O/2,240),a.font="20px Muli",a.fillStyle="white",a.fillText(final_message_teaser,O/2,280),a.font="16px Muli",a.fillStyle="white","easy"==L?a.fillText("BUT CAN YOU CONQUER CHALLENGE MODE?",O/2,400):a.fillText("THANKS FOR PLAYING IMPULSE",O/2,450));"rating"==b.type&&(c="YOUR SKILL RATING WENT UP",f="CONGRATULATIONS!",g=32,a.textAlign="center",a.fillStyle=
"white",a.font="60px Muli",a.fillText("+"+b.data.Qf,O/2,270),a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("NEW SKILL RATING",O/2,405),a.font="48px Muli",a.fillText(b.data.qD,O/2,455));"lives"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA LIFE",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Qf,O/2-25,270),J(a,O/2+35,250,0,40,40,"lives_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("LIVES",O/2-d,400),
J(a,O/2-d,422,0,30,30,"lives_icon"),a.fillText("LIVES",O/2+d,400),J(a,O/2+d,422,0,30,30,"lives_icon"),a.font="36px Muli",a.fillText(b.data.tv-b.data.Qf,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.tv,O/2+d,470));"ult"==b.type&&(a.textAlign="center",f="YOU HAVE EARNED AN UPGRADE!",c="EXTRA ULTIMATE",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Qf,O/2-25,270),J(a,O/2+35,250,0,40,40,"ultimate_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillText("ULT",
O/2-d,400),J(a,O/2-d,422,0,30,30,"ultimate_icon"),a.fillText("ULT",O/2+d,400),J(a,O/2+d,422,0,30,30,"ultimate_icon"),a.font="36px Muli",a.fillText(b.data.vv-b.data.Qf,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.vv,O/2+d,470));if("quest"==b.type)for(d=0,a.save(),Ka(a,d,O/2,250,150),a.restore(),a.textAlign="center",a.fillStyle=v.impulse_blue,a.font="32px Muli",a.fillText("CHALLENGE COMPLETE!",O/2,120),draw_quest_button(a,O/2,250,60,b.data.type),a.font="24px Muli",a.fillStyle="white",
d=0;d<Fb[b.data.type].text.length;d++)a.fillText(Fb[b.data.type].text[d],O/2,400+36*d);"spark_val"==b.type&&(f="YOU HAVE EARNED AN UPGRADE!",c="SPARK VALUE INCREASED",a.textAlign="center",a.fillStyle="white",a.font="60px Muli",a.fillText("+"+b.data.Qf,O/2-25,270),J(a,O/2+35,250,0,40,40,"sparks_icon"),a.font="72px Muli",a.font="12px Muli",a.fillStyle="white",d=50,a.fillStyle="white",a.fillText("SPARK",O/2-d,390),a.fillText("VALUE",O/2-d,405),J(a,O/2-d,424,0,22,22,"sparks_icon"),a.fillText("SPARK",
O/2+d,390),a.fillText("VALUE",O/2+d,405),J(a,O/2+d,424,0,22,22,"sparks_icon"),a.font="36px Muli",a.fillText(b.data.uv-b.data.Qf,O/2-d,470),Ta(a,O/2,430,20,"right","white",!1),a.fillText(b.data.uv,O/2+d,470));"first_time_tutorial"==b.type&&(c="INTRO TUTORIAL COMPLETE",g=30,$a(a,O/2,250,30,"white"),a.font="16px Muli",a.textAlign="center",a.fillStyle="white",a.fillText("ARE YOU READY?",O/2,150));"select_difficulty"==b.type&&(f="LET'S DO THIS",g=36,c="SELECT DIFFICULTY",this.fl.Y(a),this.Xq.Y(a));c&&
(a.fillStyle="white",a.textAlign="center",a.font="16px Muli",a.fillText(f,O/2,70),a.font=g+"px Muli",a.fillStyle="world_victory"==b.type?v["world "+(b.data+1)+" bright"]:v.impulse_blue,a.fillText(c,O/2,120));"select_difficulty"!=b.type?(a.textAlign="center",a.fillStyle="world_victory"==b.type?v["world "+(b.data+1)+" bright"]:"white",a.font="16px Muli","ult"!=b.type?a.fillText("PRESS ANY KEY TO CONTINUE",O/2,P-30):a.fillText("PRESS ANY KEY FOR ULT TUTORIAL",O/2,P-30)):(a.font="16px Muli",a.textAlign=
"center",a.fillStyle=v.impulse_blue,a.fillText("YOU CAN SWITCH DIFFICULTY ON THE TITLE SCREEN OPTIONS MENU",O/2,P-75));a.restore()}};l.debug=function(){};l.qa=function(a){0==this.La.length&&$g(this);this.Ca-=a;0>this.Ca&&("in"==this.rb&&(this.rb="none"),"out"==this.rb&&(this.xf+=1,this.xf>=this.La.length?$g(this):(this.rb="in",this.Ca=this.fe,this.Yb=!1)))};
function $g(a){S=a.vA?new tc("ult_tutorial"):a.ic?a.ra&&1<=a.u.wa&&3>=a.u.wa?new Ng(a.u.wa+1,null,null,null,null):a.ra&&0==a.u.wa&&a.wi?new Ng(a.u.wa+1,null,null,null,null):new Sf:a.pd.Fm?"ult_tutorial"==a.pd.DA?new Ng(2,null,null,null,null):new Sf:new yg(a.pd.H,a.pd.i,a.pd.n,a.pd.Eb,{bd:a.bd,Dc:a.Dc,aa:a.aa,ra:a.ra})}
function Xg(a){if(a.pd.Fm){if("first_time_tutorial"==a.pd.DA||a.pd.wu)a.La.push({type:"first_time_tutorial"}),Re=!1,$b()}else{if(!a.ic)if(a.pd.i.ta)a.pd.i.uh&&(a.ra?(b=ac(a.pd.i.O,a.pd.H.Yc),a.bd=b.bd,a.aa=b.aa):(a.bd=!1,a.aa=0));else if(a.ra){var b=Yb(a.pd.i.O,a.pd.H.Xc);a.Dc=b.Dc;a.aa=b.aa}else a.aa=Zb(a.pd.i.O,a.pd.H.Xc,L),a.Dc=!1;0>a.u.zv&&a.La.push({type:"rating",data:{Qf:0-a.u.zv,qD:0}});if(Qe[L]["world "+a.u.wa]&&Qe[L]["world "+a.u.wa].first_victory){4>a.u.wa&&0<a.u.wa&&(Zg(a,"beat_hive"+a.u.wa),
a.La.push({type:"world_victory",data:a.u.wa}));4==a.u.wa&&(Zg(a,"beat_hive"+a.u.wa),a.La.push({type:"final_victory"}));if(a.ra&&!a.pd.Fm)if(a.ic)for(var c in a.u.H)Yg(a,c,a.u.H[c]);else Yg(a,a.pd.i.O,a.pd.H);Qe[L]["world "+a.u.wa].first_victory=!1;$b()}kc()<kc()&&(b=kc()-kc(),a.La.push({type:"lives",data:{Qf:b,tv:kc()}}));lc()<lc()&&(b=lc()-lc(),c=lc(),a.La.push({type:"ult",data:{Qf:b,vv:c}}),1==c&&(a.vA=!0));mc()<mc()&&(b=mc()-mc(),a.La.push({type:"spark_val",data:{Qf:b,uv:mc()}}))}}
l.Qe=function(){0!=this.La.length&&"none"==this.rb&&"select_difficulty"!=this.La[this.xf].type&&(this.rb="out",this.Ca=this.fe)};l.Va=function(a,b){0==this.La.length||0<=this.xf&&this.xf<this.La.length&&"share"==this.La[this.xf].type||this.xf>=this.La.length||("select_difficulty"==this.La[this.xf].type&&(this.fl.Va(a,b),this.Xq.Va(a,b)),"none"==this.rb&&"select_difficulty"!=this.La[this.xf].type&&(this.rb="out",this.Ca=this.fe))};
l.Ha=function(a,b){0!=this.La.length&&"select_difficulty"==this.La[this.xf].type&&(this.fl.Ha(a,b),this.Xq.Ha(a,b))};Sf.prototype=new sg;l=Sf.prototype;l.constructor=Sf;function Sf(){this.buttons={menu:[],enter:[],options:[]};this.Mu=new Image;this.Yb=!1;this.visibility=0;this.state="menu";this.Mu.src="impulse_logo.png";ah(this);hc(fc,ka.Menu);this.V=new wg({fade_in:500,fade_out:250});vg(this.V,"fade_in")}l.qa=function(a){this.V.qa(a);Wf(a)};
l.Y=function(a){this.Yb||(Le.setAttribute("style",""),Vf("Hive 0",.3),this.Yb=!0);a.save();"fade_in"==this.V.bc?a.globalAlpha*=xg(this.V):"fade_out"==this.V.bc&&(a.globalAlpha*=1-xg(this.V));a.shadowColor=v.impulse_blue;a.shadowBlur=0;ob(a,O/2,150,"MARK ZHANG");for(var b=0;b<this.buttons[this.state].length;b++)this.buttons[this.state][b].Y(a);for(b=0;b<this.buttons[this.state].length;b++)Ug(this.buttons[this.state][b],a);a.restore()};
l.Ha=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons[this.state].length;c++)this.buttons[this.state][c].Va(a,b)};
function ah(a){c=a;a.buttons.menu=[];var b=P/2+50,c=a;a.buttons.menu.push(new $("START GAME",20,Re?O/2:O/2-130,b,210,100,"white",v.impulse_blue,function(){if(sf[L].H)vg(c.V,"fade_out",function(){S=new Qg(null,null,null,null,null,!0)});else{for(var a=1;4>a&&Qe[L]["world "+a];)a+=1;null!=c.V.bc||"normal"!=L||Re?Re&&Uf(v["world 0 dark"],1):Uf("Title Alt"+a,.15);vg(c.V,"fade_out",function(){S=new bg(a,!1)})}},"player"));Re||a.buttons.menu.push(new $("PRACTICE",20,O/2+130,b,210,100,"white",v.impulse_blue,
function(){for(var a=1;4>a&&Qe[L]["world "+a];)a+=1;null==c.V.bc&&"normal"==L&&Uf("Title Alt"+a,.15);vg(c.V,"fade_out",function(){S=new bg(a,!0)})},"normal_mode"));a.buttons.menu.push(new $("OPTIONS",16,O/2-240,b+130,100,70,"white",v.impulse_blue,function(){vg(c.V,"fade_out",function(){Y=new bh(c)})},"gear"));a.buttons.menu.push(new $("CHALLENGES",16,O/2,b+130,100,70,"white",v.impulse_blue,function(){vg(c.V,"fade_out",function(){S=new Vg})},"quest"));a.buttons.menu.push(new $("CREDITS",16,O/2+240,
b+130,100,70,"white",v.impulse_blue,function(){vg(c.V,"fade_out",function(){S=new ug})},"credit"));a.buttons.enter.push(new ch("CLICK TO BEGIN",20,O/2,P/2+150,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},20)}));a.qy=new ch("NORMAL MODE",20,O/2-100,P/2+120,200,50,"white","blue",function(){c.gm("easy")});a.buttons.options.push(a.qy);a.fl=new ch("CHALLENGE MODE",20,O/2+100,P/2+120,200,50,"white","blue",function(){c.gm("normal")});a.buttons.options.push(a.fl);dh(a);a.ZB=new ch("CLEAR DATA",
20,O/2,P/2+170,200,50,"white","blue",function(){eh()});a.buttons.options.push(a.ZB);a.buttons.options.push(new ch("BACK",20,O/2,P/2+220,200,50,"white","blue",function(){setTimeout(function(){c.state="menu"},50)}))}l.gm=function(a){L=a;$b();dh(this);gg(L)};function dh(a){a.qy.jw="easy"==L;a.fl.jw="normal"==L};bg.prototype=new sg;l=bg.prototype;l.constructor=bg;
function bg(a,b){this.Bi=b;this.Yb=!1;this.color="white";this.Ux=kc();this.Wx=lc();this.Vx=mc();this.Nd=1<=lc();this.n=a;this.wv=null;this.im=L;this.Wr=null;this.buttons=[];var c=this;this.buttons.push(new $("BACK",16,70,P/2+260,60,65,this.color,v.impulse_blue,function(){vg(c.V,"fade_out",function(){S=new Sf});Uf("Hive 0",.3)},"back"));this.zh=["easy","normal"];this.hE=new fh(16,730,P/2+260,100,65,this.color,v.impulse_blue,this);this.buttons.push(this.hE);this.sD=5;this.Al=P/2;cg(this);hc(fc,ka.Menu);
this.xy=500;this.yy=250;this.ui=this.xm=null;ig();this.V=new wg({fade_in:250,fade_across:250,fade_out:250});vg(this.V,"fade_in");this.Dk=[];this.Bm=this.yr=1E3;this.Fy=2E3;this.Md={x:O/2/F,y:this.Al/F};this.Ek=5;this.Gy=8;Re&&setTimeout(function(){S=new Ng(0,null,null,null,null,null,!1,!0)})}
function cg(a){a.un={};for(var b=0;b<a.zh.length;b++){var c=a.zh[b];a.un[c]={0:!0,1:!0,2:Qe[c]["world 1"]||!1||Ie,3:Qe[c]["world 2"]||!1||Ie,4:Qe[c]["world 3"]||!1||Ie}}a.If={};a.Qh={};a.Pi={};for(b=0;b<a.zh.length;b++)if(a.If[a.zh[b]]={},a.Qh[a.zh[b]]=[],a.Pi[a.zh[b]]={},gh(a,a.zh[b]),a.Bi)hh(a,a.zh[b]),ih(a,0,a.Al,!0,a.zh[b]);else for(var c=a,d=a.zh[b],f=0;4>=f;f++)ih(c,f,c.Al,c.un[d][f],d)}
function gh(a,b){for(var c=["T","1","2","3","4"],d=2,f=2;f<a.sD&&(!(1<f)||a.un[b][f]);f++)d+=1;for(var g=O/2-37.5*(d-1),f=0;f<d;f++){var h=a;a.Qh[b].push(new $(c[f],16,g+75*f,P/2+250,60,60,v["world "+f+" bright"],v.impulse_blue,function(a){return function(){h.n!=a&&(vg(h.V,"fade_across",function(){h.n=a}),jh(h,a,h.im),h.wv=a,h.Wr=h.im)}}(f),"world"+f))}}
function kh(a){var b=L;if(a.im!=b){for(var c=a.n;1<c&&!a.un[b][c];)c-=1;vg(a.V,"fade_across",function(){a.im=a.Wr;a.n=c});jh(a,c,b);a.wv=c;a.Wr=b}}function jh(a,b,c){void 0==b&&(b=a.n);0!=b&&"normal"==c?Uf("Title Alt"+b,.15):Uf("Hive 0",.3)}
function hh(a,b){for(var c=1;4>=c;c++){a.Pi[b][c]=[];for(var d=["world "+c+" bright","world "+c+" bright","silver","gold"],f=0;8>f;f++){var g="HIVE "+c+"-"+(f+1);7==f&&(g="BOSS "+c);var h=a,k=v[d[N[g].ab[b].aa]],k=new $(f+1,30,O/2+150*(-1.5+f%4),4<=f?P/2+100:P/2,75,75,k,k,function(a,b){return function(){h.xm=h.yy;h.ui=h.xm;h.tu=v["world "+b+" dark"];var c=Af.getContext("2d");Db(c,0,O,P,"Hive "+h.n);setTimeout(function(){S=new Pg(a,b)},h.yy)}}(g,c),"practice"+c);k.kw=!1;k.O=g;a.Pi[b][c].push(k);k.$c=
N[g].ab[b].ag||0==f&&a.un[b][c]||Ie;k.$c||(k.color="gray")}}}function ih(a,b,c,d,f){a.If[f][b]=new $(d?"START":"LOCKED",50,O/2,c,150,150,v["world "+b+" bright"],v["world "+b+" bright"],function(){a.xm=a.xy;a.ui=a.xm;a.tu=v["world "+b+" dark"];var c=Af.getContext("2d");Db(c,0,O,P,"Hive "+a.n);setTimeout(function(){S=new Ng(b,null,null,null,null,null,!1,!0)},a.xy)},"world"+b);a.If[f][b].$c=d;"normal"==f&&Sg(a.If[f][b],new $f("lives_and_sparks",v["world "+b+" bright"],b))}
l.Y=function(a){if(!Re){this.tu&&(a.save(),a.globalAlpha=1-this.ui/this.xm,a.fillStyle=this.tu,a.fillRect(0,0,O,P),a.globalAlpha*=jg(this.n),a.drawImage(Af,0,0,O,P,0,0,O,P),a.restore());a.save();null!=this.ui&&(a.globalAlpha*=Math.max(this.ui/this.xm,0));"fade_in"==this.V.bc?a.globalAlpha*=xg(this.V):"fade_out"==this.V.bc&&(a.globalAlpha*=1-xg(this.V));this.Yb||(bg_canvas.setAttribute("style",""),this.Yb=!0);for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a);!this.Bi&&this.un[L][this.n]&&
this.gr(a,F);a.font="13px Muli";a.fillStyle="white";a.fillText("SELECT HIVE",O/2,P/2+215);"fade_across"==this.V.bc?(a.save(),a.globalAlpha*=1-xg(this.V),lh(this,a,this.n,this.im),a.restore(),a.save(),a.globalAlpha*=xg(this.V),lh(this,a,this.wv,this.Wr),a.restore()):lh(this,a,this.n,this.im)}};
function lh(a,b,c,d){a.Bi&&0!=c||a.If[d][c].Y(b);if(0<c)if(!a.Bi)Qe[d].hasOwnProperty("world "+c)&&(b.save(),b.textAlign="center",b.fillStyle=v["world "+c+" bright"],b.font="18px Muli",b.fillText("RANK",a.If[d][c].x,a.If[d][c].y+100),b.font="36px Muli",b.save(),Eb(b,a.If[d][c].x,a.If[d][c].y+120,c,Qe[d]["world "+c].victory_type,1),b.restore(),b.restore());else if(0!=c)for(var f=0;f<a.Pi[d][c].length;f++)a.Pi[d][c][f].Y(b);0!=c&&(a.Bi?(b.fillStyle="white",b.font="20px Muli",b.fillText("PRACTICE MODE",
O/2,a.Al-170)):"normal"==L&&(b.fillStyle="white",b.font="24px Muli",b.fillText("HARD MODE",O/2,a.Al-170)));b.fillStyle=v["world "+c+" bright"];b.font="42px Muli";b.textAlign="center";0<c?b.fillText("HIVE "+qa[c],O/2,a.Al-125):b.fillText("TUTORIAL",O/2,a.Al-125);for(f=0;f<a.Qh[d].length;f++)a.Qh[d][f].Y(b),a.Qh[d][f].cl&&(b.textAlign="center",b.font="15px Muli",0==f?(b.fillStyle=v["world "+f+" bright"],b.fillText("TUTORIAL",O/2,P-8)):a.Qh[d][f].$c&&(b.fillStyle=v["world "+f+" bright"],b.fillText("HIVE "+
qa[f],O/2,P-8)));a.Bi&&0!=c||Ug(a.If[d][c],b)}l.qa=function(a){Re||(null!=this.ui&&(this.ui-=a),this.Bi||this.ds(a),this.V.qa(a),Wf(a))};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b);var d=L;if(this.Bi)if(0!=this.n)for(c=0;c<this.Pi[d][this.n].length;c++)this.Pi[d][this.n][c].Ha(a,b);else this.If[d][this.n].Ha(a,b);else this.If[d][this.n].Ha(a,b);for(c=0;c<this.Qh[d].length;c++)this.Qh[d][c].Ha(a,b)};
l.Va=function(a,b){if(null==this.ui){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b);var d=L;if(this.Bi)if(0!=this.n)for(c=0;c<this.Pi[d][this.n].length;c++)this.Pi[d][this.n][c].Va(a,b);else this.If[d][this.n].Va(a,b);else this.If[d][this.n].Va(a,b);for(c=0;c<this.Qh[d].length;c++)this.Qh[d][c].Va(a,b)}};l.ds=lg.prototype.ds;l.zu=lg.prototype.zu;l.gr=lg.prototype.gr;tc.prototype=new Xf;l=tc.prototype;l.constructor=tc;function tc(a){this.O="HOW TO PLAY";this.ka(0,null,null,!0,this.u,!1);this.mode=a;this.ready=!1;this.i=this.Hm(N["HOW TO PLAY"]);this.i.Um=!0;this.u=new jc(0,!1);this.Vd=!1;this.lg=0;this.mm=100;this.uA=3E3;this.Ca=this.fe=500;this.rb="in"}l.Hm=tg.prototype.Hm;
l.Mr=function(){this.ready=!0;this.i.v=this;this.i.reset();this.O=this.i.O;this.ta=!1;Bg(this);Le.setAttribute("style","display:none");Me.translate(V,0);this.i.Ge(Me);Me.translate(-V,0);hc(fc,ka.Interlude);this.color=this.ta?v["boss "+this.n]:v["world "+this.n+" lite"];this.ri=v["world "+this.n+" dark"];this.xb=v["world "+this.n+" lite"];this.K=v["world "+this.n+" bright"];this.Pd=12;"normal_tutorial"==this.mode?this.ca=0:"first_time_tutorial"==this.mode?(this.ca=-1,this.lg=this.uA,this.Vd=!0):"ult_tutorial"==
this.mode&&(this.ca=0,this.lg=.5*this.uA,this.Vd=!0);this.nn=null;this.Hp=document.createElement("canvas");this.Hp.width=150;this.Hp.height=150;this.Rb=this.Hp.getContext("2d");this.Op=document.createElement("canvas");this.Op.width=150;this.Op.height=150;this.xd=this.Op.getContext("2d");this.eE=["white","silver","gold"];this.fE=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"];this.gE=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"];this.Rd=["white","silver","gold"];var a=this;this.Bk=new $("EXIT TUTORIAL",
20,400,440,125,85,this.xb,"white",function(){a.pu=!0},"quit");this.yl=(this.Nd=1<=lc())?2:0;this.Pd+=this.yl;this.Nd&&(this.u.Rc=99)};l.gm=function(a){L=a;$b()};l.Sc=function(a){this.pause||1!=this.zoom||(qc(this.o,1E3),this.Vd&&(0>=this.lg?(this.Vd=!1,this.rb="out",this.Ca=this.fe):this.lg-=a),this.Ca-=a,0>this.Ca&&"none"!=this.rb&&1==this.zoom&&("in"==this.rb?this.rb="none":"out"==this.rb&&(mh(this,this.ca+1),2==this.ca&&"ult_tutorial"==this.mode&&(this.Bk.y=550),this.rb="in",this.Ca=this.fe)))};
l.me=function(a){if(1==this.zoom){a.save();a.translate(V,0);if("in"==this.rb){var b=this.Ca/this.fe;a.globalAlpha=1-b}else"out"==this.rb&&(b=this.Ca/this.fe,a.globalAlpha=Math.max(0,b));if("first_time_tutorial"==this.mode)if(a.font="24px Muli",a.textAlign="center",a.fillStyle="white",-1==this.ca&&(ob(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("INTRO TUTORIAL",400,500),a.font="18px Muli",a.fillStyle=v.impulse_blue,a.fillText("PRESS Q TO PAUSE AND QUIT",400,535)),0==this.ca&&("right"==A.Wb&&
Ra(a,400,430,60,"white",["W","A","S","D"]),"left"==A.Wb&&"mouse"==A.Nc&&Ra(a,400,430,60,"white"),a.fillText("MOVE",400,500)),1==this.ca&&("mouse"==A.Nc?Va(a,400,400,83,125,"white"):Ra(a,400,430,60,"white"),a.fillText("IMPULSE",400,500),a.save(),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",400,550),a.restore()),2==this.ca&&nh(this,a),3==this.ca&&oh(this,a),4==this.ca&&ph(a),5==this.ca&&qh(a),6==this.ca&&rh(a),7==this.ca&&sh(this,a),8==this.ca&&ph(a),9==this.ca&&
th(this,a),-1!=[2,5,6,7].indexOf(this.ca))a.save(),a.fillStyle=v.impulse_blue,a.globalAlpha*=Math.min(1,1.5*uh()),a.font="16px Muli",a.fillText("PRESS SPACEBAR TO CONTINUE",400,580),a.restore();else if(0==this.ca)a.save(),a.fillStyle=v.impulse_blue,a.globalAlpha*=Math.min(1,1.5*uh()),a.font="16px Muli",a.fillText("TRY MOVING NOW",400,580),a.restore();else if(1==this.ca)a.save(),a.fillStyle=v.impulse_blue,a.globalAlpha*=Math.min(1,1.5*uh()),a.font="16px Muli",a.fillText("TRY IMPULSING NOW",400,580),
a.restore();else if(3==this.ca)a.save(),a.fillStyle=v.impulse_blue,a.globalAlpha*=Math.min(1,1.5*uh()),a.font="16px Muli",a.fillText("TRY KILLING AN ENEMY NOW",400,580),a.restore();else if(4==this.ca||8==this.ca)a.save(),a.fillStyle=v.impulse_blue,a.globalAlpha*=Math.min(1,1.5*uh()),a.font="16px Muli",a.fillText("GET THE GATEWAY SCORE",400,580),a.restore();if("normal_tutorial"==this.mode){a.font="20px Muli";a.textAlign="center";a.fillStyle="white";0==this.ca&&(ob(a,400,380,"MARK ZHANG"),a.font="24px Muli",
a.fillStyle="white",a.fillText("TUTORIAL",400,500));1==this.ca&&("right"==A.Wb&&Ra(a,400,430,60,"white",["W","A","S","D"]),"left"==A.Wb&&"mouse"==A.Nc&&Ra(a,400,430,60,"white"),a.fillText("MOVE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillStyle="white",a.fillText("ALTERNATE CONTROLS AVAILABLE IN PAUSE MENU",400,550));2==this.ca&&(a.font="20px Muli","mouse"==A.Nc?Va(a,400,400,83,125,"white"):Ra(a,400,430,60,"white"),a.fillText("USE IMPULSE",400,500),a.globalAlpha*=.5,a.font="12px Muli",a.fillText("HOLD MOUSE TO CONTINUOUSLY IMPULSE",
400,550));3==this.ca&&nh(this,a);4==this.ca&&oh(this,a);if(5==this.ca){for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=v[this.eE[b]],a.shadowColor=a.fillStyle,a.font="25px Muli",a.fillText(N["HOW TO PLAY"].na[L][b],600,40*b+337),a.textAlign="left",a.font="20px Muli",a.fillText(this.fE[b],200,330+40*b),a.font="12px Muli",a.fillText(this.gE[b],200,40*b+345);a.beginPath();a.rect(190,308,420,45);a.strokeStyle="red";a.lineWidth=8;a.stroke();a.beginPath();a.rect(825,515,150,80);a.strokeStyle=
"red";a.lineWidth=6;a.stroke();a.font="20px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE...",400,500);a.shadowColor="red";a.fillStyle="red"}6==this.ca&&th(this,a);this.ca==7+this.yl&&qh(a);this.ca==8+this.yl&&rh(a);this.ca==9+this.yl&&sh(this,a);this.Nd&&(a.fillStyle="white",a.textAlign="center",7==this.ca&&vh(a),8==this.ca&&wh(this,a));this.ca==10+this.yl&&(a.font="20px Muli",a.fillStyle="white","right"==A.Wb?(Sa(a,250,406,55,55,10,"white"),a.fillText("Q",250,
412)):"left"==A.Wb&&(Sa(a,250,406,125,55,10,"white"),a.fillText("ENTER",250,412)),Sa(a,400,406,55,55,10,"white"),a.fillText("X",400,412),Sa(a,550,406,55,55,10,"white"),a.fillText("C",550,412),a.font="16px Muli",a.fillText("PAUSE",250,462),a.fillText("MUTE MUSIC",400,462),a.fillText("FULLSCREEN",550,462),a.font="12px Muli",a.fillText("ENEMY INFO AND GAME OPTIONS IN THE PAUSE MENU",400,530));this.ca==11+this.yl&&(this.Bk.Y(a),a.fillStyle=v.impulse_blue,a.font="16px Muli",a.fillText("THANKS FOR PLAYING IMPULSE!",
400,335),a.font="12px Muli",a.fillText("- MARK -",400,360));a.globalAlpha=1;0<this.ca&&(Ta(a,100,420,20,"left","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("BACK",98,450));this.ca<this.Pd-1&&(Ta(a,700,420,20,"right","white"),a.font="10px Muli",a.fillStyle="white",a.fillText("NEXT",702,450));for(b=0;b<this.Pd;b++){var c=(this.Pd-1)/2-b;a.beginPath();a.arc(400-25*c,580,4,0,2*Math.PI,!0);a.fillStyle="white";this.ca==b?(a.fillStyle="white",a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=
5,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=5)}}"ult_tutorial"==this.mode&&(a.fillStyle="white",a.textAlign="center",0==this.ca&&(ob(a,400,380,"MARK ZHANG"),a.font="24px Muli",a.fillText("ULT TUTORIAL",400,500)),1==this.ca&&vh(a),2==this.ca&&wh(this,a));a.restore()}};
function ph(a){a.beginPath();a.rect(825,515,150,80);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.font="24px Muli";a.textAlign="center";a.fillStyle="white";a.fillText("GET THE GATEWAY SCORE TO BEAT THE LEVEL",400,420);a.save();a.globalAlpha*=uh();xh(a,735,555,50,"red");a.restore()}
function xh(a,b,c,d,f,g){a.save();g&&(a.translate(b,c),"left"==g&&a.rotate(Math.PI),"up"==g&&a.rotate(3*Math.PI/2),"down"==g&&a.rotate(Math.PI/2),a.translate(-b,-c));a.beginPath();a.moveTo(b-d/2,c);a.lineTo(b+.355*d,c);a.lineWidth=d/5;a.strokeStyle=f;a.stroke();Ta(a,b+d/2,c,.6*d,"right",f,!1);a.restore()}
function qh(a){a.font="24px Muli";a.fillStyle="white";a.fillText("YOUR MULTIPLIER INCREASES THE POINTS",400,340);a.fillText("YOU GET FROM KILLING ENEMIES",400,375);a.fillStyle=v.impulse_blue;a.font="48px Muli";a.fillText("100",250,450);a.fillStyle="white";a.font="12px Muli";a.fillText("BASE POINT VALUE",250,480);a.fillText("OF ENEMY",250,500);xh(a,325,435,30,"white");a.fillStyle=v.impulse_blue;a.font="48px Muli";a.textAlign="center";a.fillText("x5",400,450);a.fillStyle="white";a.font="12px Muli";
a.fillText("YOUR CURRENT",400,480);a.fillText("MULTIPLIER",400,500);xh(a,475,435,30,"white");a.fillStyle=v.impulse_blue;a.font="48px Muli";a.fillText("+500",565,450);a.fillStyle="white";a.font="12px Muli";a.fillText("TOTAL POINTS",565,480);a.fillText("GAINED",565,500);a.beginPath();a.rect(825,225,150,100);a.strokeStyle="red";a.lineWidth=6;a.stroke();a.save();a.globalAlpha*=uh();xh(a,735,280,50,"red");a.restore()}
function rh(a){a.fillStyle="white";a.font="16px Muli";a.fillText("KILLING ENEMIES",250,360);a.fillStyle=v.impulse_blue;a.font="36px Muli";a.fillText("INCREASES",250,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",250,430);a.fillText("TOUCHING ENEMIES",550,360);a.fillStyle="red";a.font="36px Muli";a.fillText("RESETS",550,400);a.fillStyle="white";a.font="16px Muli";a.fillText("YOUR MULTIPLIER",550,430);a.fillStyle="white";a.save();a.globalAlpha*=.5;a.font="12px Muli";a.fillText("MULTIPLIER PERMANENTLY +1 EVERY 10 SECONDS",
400,500);a.restore()}
function sh(a,b){b.beginPath();b.arc(a.i.Ae.x,a.i.Ae.y,25,0,2*Math.PI);b.lineWidth=4;b.strokeStyle="red";b.stroke();b.beginPath();b.arc(a.i.we.x,a.i.we.y,25,0,2*Math.PI);b.stroke();J(b,300,440,void 0,25,25,"spark");b.font="16px Muli";b.fillStyle=v.impulse_blue;b.fillText("+10 SPARKS",300,475);J(b,500,440,void 0,25,25,"multi");b.font="16px Muli";b.fillStyle="white";b.fillText("+5 MULTIPLIER",500,475);b.font="24px Muli";b.fillText("POWERUPS",400,350);b.font="12px Muli";b.fillStyle=v.impulse_blue;b.fillText("100 SPARKS = EXTRA LIFE",
300,495);b.beginPath();b.rect(-160,Jc-140,120,80);b.strokeStyle="red";b.lineWidth=4;b.stroke()}function vh(a){"mouse"==A.Nc?(Wa(a,400,400,83,125,"white"),a.font="20px Muli",a.fillText("USE ULTIMATE",400,500)):(Sa(a,400,400,55,55,10,"white"),a.font="20px Muli",a.fillText("E",400,406),a.fillText("USE ULTIMATE",400,470))}
function wh(a,b){J(b,400,330,0,60,60,"ultimate");b.font="16px Muli";b.textAlign="center";b.fillStyle="white";b.shadowBlur=0;b.fillText("YOU GET NO POINTS FOR KILLING ENEMIES WITH YOUR ULTIMATE",400,430);b.fillText("WHILE USING YOUR ULTIMATE, YOU ARE INVINCIBLE",400,480);"ult_tutorial"==a.mode&&a.Bk.Y(b)}function uh(){return Math.abs(((new Date).getTime()%2E3-1E3)/1E3)}
function oh(a,b){b.drawImage(a.Hp,0,0,150,150,225,300,150,150);b.drawImage(a.Op,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.restore();b.shadowBlur=0;b.beginPath();b.moveTo(385,375);b.lineTo(400,375);b.lineWidth=8;b.strokeStyle="white";b.stroke();Ta(b,408,375,20,"right","white",!1);b.font="20px Muli";b.fillStyle="white";b.textAlign="center";b.fillText("IMPULSE ENEMIES INTO THE VOID TO KILL THEM",
400,500);0<a.i.r.length&&(b.save(),b.globalAlpha*=uh(),b.beginPath(),b.arc(a.i.r[0].body.g.position.x*F,a.i.r[0].body.g.position.y*F,25,0,2*Math.PI),b.lineWidth=6,b.strokeStyle=v.impulse_blue,b.stroke(),b.beginPath(),b.moveTo(a.i.r[0].body.g.position.x*F,a.i.r[0].body.g.position.y*F-25),b.lineTo(a.i.r[0].body.g.position.x*F,66),b.lineWidth=6,b.stroke(),Ta(b,a.i.r[0].body.g.position.x*F,60,25,"up",v.impulse_blue,!1),b.restore())}
function nh(a,b){b.drawImage(a.Hp,0,0,150,150,225,300,150,150);b.drawImage(a.Op,0,0,150,150,425,300,150,150);b.save();b.beginPath();b.rect(225,300,150,150);b.rect(425,300,150,150);b.strokeStyle="white";b.lineWidth=2;b.stroke();b.shadowBlur=0;xh(b,400,375,25,"white");b.shadowBlur=0;b.font="20px Muli";b.fillText("TOUCHING THE BLACK VOID WILL KILL YOU",400,500);for(var c=0;6>c;c++)xh(b,150+100*c,220,35,"red","down"),xh(b,150+100*c,120,35,"red","up");b.restore()}
function th(a,b){Ta(b,355,170,25,"right","red",!1);Ta(b,445,170,25,"left","red",!1);Ta(b,400,125,25,"down","red",!1);Ta(b,400,215,25,"up","red",!1);b.beginPath();b.arc(400,170,50,0,2*Math.PI);b.lineWidth=8;b.shadowBlur=0;b.strokeStyle="red";b.stroke();"first_time_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",
400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");"normal_tutorial"==a.mode&&(b.font="20px Muli",b.textAlign="center",b.fillStyle="white",b.shadowBlur=0,b.fillText("...THEN MOVE ONTO THE UNLOCKED GATEWAY",400,360),b.shadowBlur=0,b.fillText("AND PRESS",400,400),b.fillText("TO ADVANCE TO THE NEXT LEVEL",400,510),b.font="20px Muli",b.shadowColor="red",b.fillStyle="red");b.fillStyle="white";"right"==A.Wb&&(Sa(b,400,445,300,50,10,"white"),b.fillText("SPACEBAR",400,451));"left"==A.Wb&&
(Sa(b,400,445,120,50,10,"white"),b.fillText("SHIFT",400,451))}function yh(a,b){b.save();b.beginPath();b.rect(0,0,150,75);b.fillStyle=a.ri;b.fill();Db(b,75,150,150,"Hive 0");b.beginPath();b.moveTo(0,75);b.lineTo(150,75);b.lineWidth=6;b.strokeStyle=v["world 0 lite"];b.stroke();b.restore()}l.Ha=function(a,b){!this.pause&&this.ready&&1==this.zoom&&("normal_tutorial"==this.mode&&this.ca==this.Pd-1&&this.Bk.Ha(a-V,b),this.o.qv=Kg(this,{x:a-V,y:b}),"ult_tutorial"==this.mode&&2==this.ca&&this.Bk.Ha(a-V,b))};
l.Qe=function(a){this.ready&&1==this.zoom&&(a==ua.dj||a==ua.mk?(this.pause=!this.pause)&&(Y=new Ig(this.i,this.n,this.H,this,this.Eb)):a==ua.oq&&this.u&&this.Fk&&Q(this.i.Md,this.o.body.g.position)<this.i.Ek?"first_time_tutorial"==this.mode&&9>this.ca||(this.ra=!0):pc(this.o,a),32==a&&-1!=[2,5,6,7].indexOf(this.ca)&&"first_time_tutorial"==this.mode&&0==this.Vd&&"none"==this.rb&&(this.lg=0,this.Vd=!0))};
function mh(a,b){if("normal_tutorial"==a.mode&&4<=b||"first_time_tutorial"==a.mode&&3==b)a.i.Um=!1;"first_time_tutorial"==a.mode&&4==b&&(a.i.Um=!1);"ult_tutorial"==a.mode&&1==b&&(a.i.Um=!1,a.i.cy=!0);"first_time_tutorial"==a.mode&&5==b&&(a.i.Um=!0);if("first_time_tutorial"==a.mode&&8==b&&(a.i.Um=!1,a.i.cy=!0,a.Fk)){mh(a,b+1);return}if("normal_tutorial"==a.mode&&3==b&&3!=a.ca||"first_time_tutorial"==a.mode&&2==b)a.nn=new qg("player",{x:75/F,y:73/F},{x:0,y:0},!1),a.nn.qa(300);if("normal_tutorial"==
a.mode&&4==b&&4!=a.ca||"first_time_tutorial"==a.mode&&3==b)a.nn=new qg("stunner",{x:75/F,y:60/F},{x:0,y:-5},!1),a.nn.qa(100);a.ca=b;if("normal_tutorial"==a.mode&&3==a.ca||"first_time_tutorial"==a.mode&&2==a.ca)a.Rb.clearRect(0,0,150,150),a.xd.clearRect(0,0,150,150),yh(a,a.Rb),yh(a,a.xd),xh(a.Rb,30,110,35,"red","up"),xh(a.Rb,120,110,35,"red","up"),xh(a.xd,30,110,35,"red","up"),xh(a.xd,120,110,35,"red","up"),J(a.Rb,75,75,0,30,30,"player_normal"),a.Rb.beginPath(),a.Rb.moveTo(75,55),a.Rb.lineTo(75,40),
a.Rb.lineWidth=4,a.Rb.strokeStyle=v.impulse_blue,a.Rb.stroke(),Ta(a.Rb,75,40,13,"up",v.impulse_blue,!1),a.nn.Y(a.xd);if("normal_tutorial"==a.mode&&4==a.ca||"first_time_tutorial"==a.mode&&3==a.ca)a.Rb.clearRect(0,0,150,150),a.xd.clearRect(0,0,150,150),yh(a,a.Rb),yh(a,a.xd),J(a.Rb,75,120,0,30,30,"player_normal"),a.Rb.beginPath(),a.Rb.shadowOffsetX=0,a.Rb.shadowOffsetY=0,a.Rb.lineWidth=5,a.Rb.strokeStyle=v.impulse_blue,a.Rb.arc(75,120,40,7*Math.PI/6,11*Math.PI/6),a.Rb.shadowBlur=0,a.Rb.stroke(),Ia(a.Rb,
"stunner",75,77,1,Math.PI/2),a.Rb.beginPath(),a.Rb.moveTo(75,58),a.Rb.lineTo(75,43),a.Rb.lineWidth=4,a.Rb.strokeStyle="cyan",a.Rb.stroke(),Ta(a.Rb,75,40,13,"up","cyan",!1),J(a.xd,75,120,0,30,30,"player_normal"),a.xd.globalAlpha=.5,a.xd.globalAlpha=1,a.xd.beginPath(),a.xd.shadowOffsetX=0,a.xd.shadowOffsetY=0,a.xd.lineWidth=5,a.xd.strokeStyle=a.xd.shadowColor,a.xd.arc(75,120,50,7*Math.PI/6,11*Math.PI/6),a.xd.shadowBlur=0,a.xd.stroke(),a.nn.Y(a.xd)}
l.zg=function(a,b){if(!(null!=this.el&&120>Math.abs(a-V/2)&&160>Math.abs(b-(Jc/2+60)))){if(!this.pause&&this.ready&&1==this.zoom)if("normal_tutorial"==this.mode&&a>V&&(a<Ic-V&&400<b||this.ca==10+this.yl&&350<b)){if(this.ca==this.Pd-1&&this.Bk.Va(a-V,b),400>a&&0<this.ca&&mh(this,this.ca-1),800<a&&this.ca<this.Pd-1&&mh(this,this.ca+1),565<b&&595>b){var c=Math.round((this.Pd-1)/2-(600-a)/25);0<=c&&c<this.Pd&&mh(this,c)}}else c=this.o,c.Vu=(new Date).getTime(),c.vp=!0;"ult_tutorial"==this.mode&&2==this.ca&&
this.Bk.Va(a-V,b)}};l.xr=function(){"first_time_tutorial"==this.mode&&this.ra||this.pu?S=new Og(this.u,this.ic,{H:this.H,i:this.i,n:this.n,Eb:this.Eb,Fm:!0,DA:this.mode}):(this.Ks=.1,this.gq=1,this.zoom=.1,this.wn=!0,Dg(this,1,1E3),this.ym="in",this.ready=!0,this.u=new jc(this.n,!1),this.i.reset(),this.reset(),Bg(this),this.i.ic=!1)};l.Bj=function(){8==this.ca&&"first_time_tutorial"==this.mode&&0==this.Vd&&"none"==this.rb&&(this.lg=this.mm,this.Vd=!0)};function zh(a,b,c,d,f,g,h){f&&this.ka(a,b,c,d,f,g,h)}l=zh.prototype;l.ka=function(a,b,c,d,f,g,h){this.x=a;this.y=b;this.I=c;this.p=d;this.action=f;this.$c=!0;this.border=g;this.color=h;this.Da=!1;this.ub=null;this.dd};l.Y=function(a){a.save();this.border&&(a.beginPath(),a.strokeStyle=this.$c?this.Da&&this.ub?this.ub:this.color:"gray",a.rect(this.x-this.I/2,this.y-this.p/2,this.I,this.p),a.lineWidth=4,a.stroke());this.me(a);a.restore()};function Ug(a,b){a.dd&&a.dd.Y(b)}l.me=function(){};
l.Ha=function(a,b){a>=this.x-this.I/2&&a<=this.x+this.I/2&&b>=this.y-this.p/2&&b<=this.y+this.p/2?(this.$c&&(this.Da=!0),this.cl=!0):this.cl=this.Da=!1;this.dd&&(this.dd.visible=this.cl,ag(this.dd,a,b))};l.Va=function(a,b){return this.$c&&a>=this.x-this.I/2&&a<=this.x+this.I/2&&b>=this.y-this.p/2&&b<=this.y+this.p/2?(this.action(),!0):!1};l.Qe=function(a){(this.$c&&this.keyCode&&this.keyCode==a||this.Vz&&this.Vz==a)&&this.action()};function Sg(a,b){a.dd=b}l.zg=function(){};l.ah=function(){};Ah.prototype=new zh;Ah.prototype.constructor=Ah;function Ah(a,b,c,d,f,g,h,k){this.text=a;this.ka(b,c,d,f,null,!1,g);this.pi=new Bh(this.x+this.I/2-20,this.y,20,20,this.color);this.pi.checked=k();this.action=function(){h(this.pi.checked);this.pi.checked=!this.pi.checked}}Ah.prototype.me=function(a){a.save();this.cl||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.color;a.fillText(this.text,this.x-this.I/2+10,this.y+7);this.pi.Y(a);a.restore()};function Ch(){}l=Ch.prototype;l.ka=function(a,b){this.I=a;this.p=b;this.x=Ic/2;this.y=Jc/2;this.buttons=[];this.jn=!0;this.V=new wg({fade_in:500,fade_out:250})};l.qa=function(a){this.V.qa(a)};
l.Y=function(a){a.save();a.fillStyle=v["world "+this.n+" dark"];a.fillRect(V,0,O,P);a.globalAlpha*=jg(this.n?this.n:0);a.drawImage(Af,0,0,O,P,V,0,O,P);a.restore();a.save();"fade_in"==this.V.bc?a.globalAlpha*=xg(this.V):"fade_out"==this.V.bc&&(a.globalAlpha*=1-xg(this.V));this.jn&&(a.beginPath(),a.rect(this.x-this.I/2,this.y-this.p/2,this.I,this.p),a.fillStyle="white",a.fill(),a.lineWidth=2,a.strokeStyle="black",a.stroke());this.me(a);a.restore()};l.Ge=function(){};l.me=function(){};l.Ha=function(){};
l.zg=function(){};l.ah=function(){};l.Va=function(){};l.Bp=function(){};l.Cp=function(){};l.Qe=function(){};l.Ap=function(){};Ig.prototype=new Ch;l=Ig.prototype;l.constructor=Ig;
function Ig(a,b,c,d,f){this.i=a;this.H=c;this.Qa=d;this.n=b;this.O=this.i.O;this.ta="BOSS"==this.O.slice(0,4);this.Eb=f;this.ka(800,600);this.jn=!1;this.De="black";this.K=v["world "+this.n+" bright"];this.color=v["world "+this.n];this.xb=this.Qa.xb;this.Sg=null;if(this.ta)this.Sg={},this.Wc=0;else{this.Sg=N[this.O].r;this.Wc=0;for(var g in N[this.O].r)this.Wc+=1}this.Ld=40;Dh(this)}l.Ge=function(){};
function Dh(a){a.buttons=[];var b=0;"HOW TO PLAY"!=a.O.slice(0,11)&&0!=a.n?(b=a.x,a.i.ic?(5>a.H.Yc?a.os=new $("SAVE & QUIT",16,a.x-170,a.y-a.p/2+530,120,65,a.K,a.K,function(a){return function(){a.Qa.u.gc=a.Qa.u.Ir;a.Qa.u.Ma=a.Qa.u.Hr;a.Qa.u.Rc=a.Qa.u.Jr;sf[L]=a.Qa.u;$b();S=new Qg(a.Qa.n,!1,a.Qa.u,null,null,!0,!0);Y=null}}(a),"save"):(a.os=new $("SAVE & QUIT",16,a.x-170,a.y-a.p/2+530,120,65,"gray","gray",function(){return function(){}}(a),"save"),a.os.bf="ONLY BEFORE 0:05"),a.buttons.push(a.os),a.gs=
new $("QUIT",16,a.x+170,a.y-a.p/2+530,60,65,a.K,a.K,function(a){return function(){S=new Qg(a.Qa.n,!1,a.Qa.u,null,null);Y=null}}(a),"quit")):(a.jl=new $("RETRY",16,a.x-173,a.y-a.p/2+530,60,65,a.K,a.K,function(a){return function(){Me.translate(V,0);a.i.v=null;a.i.Ge(Me);Me.translate(-V,0);var b=new jc(a.Qa.n,!1);S=new Xf(a.Qa.n,a.i,a.Eb,b,!1,!1);Y=null}}(a),"retry"),a.buttons.push(a.jl),a.jl.keyCode=ua.wq,a.jl.bf="right"==A.Wb?"R KEY":"SHIFT KEY",a.gs=new $("QUIT",16,a.x+180,a.y-a.p/2+530,60,65,a.K,
a.K,function(a){return function(){S=new Og(a.Qa.u,a.Qa.ic,{H:a.Qa.H,i:a.Qa.i,n:a.Qa.n,Eb:a.Qa.Eb,ra:!1});Y=null}}(a),"quit")),a.buttons.push(a.gs)):(a.gs=new $(0==a.n&&Re?"SKIP TUTORIAL":"QUIT",16,a.x+157,a.y-a.p/2+530,60,65,a.K,a.K,function(a){return function(){S=new Og(a.Qa.u,a.Qa.ic,{H:a.Qa.H,i:a.Qa.i,n:a.Qa.n,Eb:a.Qa.Eb,Fm:!0,wu:Re});Y=null}}(a),"quit"),a.buttons.push(a.gs),b=a.x-157);a.ml=new $("RESUME",16,b,a.y-a.p/2+530,100,65,a.K,a.K,function(a){return function(){Lg(a.Qa)}}(a),"start");a.ml.keyCode=
ua.dj;a.ml.Vz=ua.mk;a.ml.bf="right"==A.Wb?"Q KEY":"ENTER KEY";a.buttons.push(a.ml);a.Iz=new $("OPTIONS",16,a.x,a.y-a.p/2+460,100,65,a.K,a.K,function(a){return function(){vg(a.V,"fade_out",function(){Y=new bh(a)})}}(a),"options");a.Iz.De=a.De;a.buttons.push(a.Iz);var b=0,c;for(c in a.Sg){for(var d=0,f=0;d<b+1&&d<a.Wc;)d+=12;f=d<=a.Wc?12:a.Wc-(d-12);a.buttons.push(new zg(c,a.Ld,a.x+(a.Ld+10)*(b-(d-12)-(f-1)/2),a.y-a.p/2+250+a.Ld*(Math.floor(b/12)-(Math.ceil(a.Wc/12)-1)/2),a.Ld,a.Ld,a.i.xb,function(a,
b){return function(){vg(b.V,"fade_out",function(){Y=new Ag(a,b)})}}(c,a)));b+=1}}
l.me=function(a){a.save();a.beginPath();a.textAlign="center";this.i.ic&&0<this.Qa.u.Of&&(a.font="14px Muli",a.fillStyle="red",a.shadowBlur=10,a.shadowColor=a.fillStyle,a.fillText("CONTINUES: "+this.Qa.u.Of,this.x,this.y-this.p/2+70));a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.K;a.fillStyle=this.K;a.fillText("PAUSED",this.x,this.y-this.p/2+50);rb(a,this.O,this.x,this.y-this.p/2+150,150,112,this.i.xb);var b=this.Qa.o,c=this.Qa.i,d=this.x,f=this.y-this.p/2+150,g=this.i.xb;a.save();a.beginPath();
a.rect(d-75,f-56,150,112);a.clip();for(var h=0;h<c.r.length;h++){var k=c.r[h].body.g.position;a.beginPath();a.arc(d-75+k.x*F/O*150-1,f-56+k.y*F/P*112-1,2,0,2*Math.PI,!0);a.fillStyle=c.r[h].color;a.shadowBlur=2;a.shadowColor=a.fillStyle;a.fill()}a.beginPath();b=b.body.g.position;a.arc(d-75+b.x*F/O*150-1,f-56+b.y*F/P*112-1,2,0,2*Math.PI,!0);a.fillStyle=v.impulse_blue;a.shadowBlur=2;a.shadowColor=a.fillStyle;a.fill();a.beginPath();a.arc(d-75+b.x*F/O*150-1,f-56+b.y*F/P*112-1,4,0,2*Math.PI,!0);a.strokeStyle=
v.impulse_blue;a.lineWidth=1;a.stroke();a.restore();a.save();a.beginPath();a.rect(d-75,f-56,150,112);a.lineWidth=2;a.strokeStyle=g;a.stroke();a.restore();0<this.Wc&&(a.font="12px Muli",a.fillText("CLICK FOR INFO",this.x,this.y-this.p/2+290));if(0!=this.n||N[this.O].gn)if(d=[this.xb,"silver","gold"],f=["GATEWAY SCORE","SILVER SCORE","GOLD SCORE"],g=["(UNLOCKS NEXT LEVEL)","(+1 LIFE)","(5 LIVES OR +1 LIFE)"],!this.ta)for(b=0;3>b;b++)a.font="24px Muli",a.textAlign="right",a.fillStyle=v[d[b]],a.shadowColor=
a.fillStyle,a.font="25px Muli",a.fillText(N[this.O].na[L][b],this.x+200,this.y-this.p/2+330+40*b+7),a.textAlign="left",a.font="20px Muli",a.fillText(f[b],this.x-200,this.y-this.p/2+330+40*b),a.font="12px Muli",a.fillText(g[b],this.x-200,this.y-this.p/2+330+40*b+15);a.textAlign="center";for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);a.restore()};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)5<=this.H.Yc&&this.buttons[c]==this.os||this.buttons[c].Ha(a,b)};
l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};l.Qe=function(a){for(var b=0;b<this.buttons.length;b++)this.buttons[b].Qe(a)};bh.prototype=new Ch;l=bh.prototype;l.constructor=bh;
function bh(a){this.ka(800,600);this.Qa=a.Qa;this.jn=!1;this.n=a.n;this.Sh=133;this.Zb=a;this.Zb instanceof Ig?(this.De=this.Zb.De,this.color=this.Zb.color,this.xb=this.Zb.xb,this.K=this.Zb.K):(this.De=v["world 0 dark"],this.color=v["world 0"],this.xb=v["world 0 lite"],this.K=v["world 0 bright"],this.Ge());this.oi=new $("BACK",16,this.x,this.y-this.p/2+560,60,65,this.K,this.K,function(a){return function(){vg(a.V,"fade_out",function(){a.Zb instanceof Ig?(Dh(a.Zb),Y=a.Zb,vg(a.Zb.V,"fade_in")):(a.Zb instanceof
Sf&&vg(a.Zb.V,"fade_in"),Y=null)})}}(this),"back");a=this.x;this.Zb instanceof Sf&&(this.nm=new $("DELETE GAME DATA",20,this.x+150,this.y+120,200,80,this.K,"red",function(a){return function(){vg(a.V,"fade_out",function(){Y=new Eh(a)})}}(this),"quit"),this.buttons.push(this.nm),a=this.x-150);this.buttons.push(this.oi);this.bC=new $("CHANGE CONTROLS",20,a,this.y+120,200,100,this.K,this.K,function(a){return function(){vg(a.V,"fade_out",function(){Y=new Fh(a)})}}(this),"controls");this.buttons.push(this.bC);
this.bu="";a=new Gh("GAME MUSIC",this.x,this.y-this.p/2+this.Sh,300,30,this.K,function(a){var c=fc;A.am=Math.ceil(100*Math.pow(a,2));c.cc&&!c.Tm&&c.Jc[c.cc].ih(A.am);$b()},Math.pow(A.am/100,.5));Sg(a,new $f("option_game_music",this.K,this.n));this.buttons.push(a);a=new Gh("SOUND EFFECTS",this.x,this.y-this.p/2+this.Sh+30,300,30,this.K,function(a){A.or=Math.ceil(100*Math.pow(a,3));$b()},Math.pow(A.or/100,.333));Sg(a,new $f("option_sound_effects",this.K,this.n));this.buttons.push(a);a=new Ah("FULLSCREEN",
this.x,this.y-this.p/2+this.Sh+60,300,30,this.K,function(){var a=document.documentElement;Zf()?document.exitFullscreen?document.exitFullscreen():document.oD?document.oD():document.webkitExitFullscreen&&document.webkitExitFullscreen():a.requestFullscreen?a.requestFullscreen():a.pD?a.pD():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()},function(){return Zf()});Sg(a,new $f("option_fullscreen",this.K,this.n));this.buttons.push(a);a=new Ah("PARTICLE EFFECTS",this.x,this.y-this.p/2+this.Sh+90,300,
30,this.K,function(){A.sr=!A.sr},function(){return A.sr});Sg(a,new $f("option_particle_effects",this.K,this.n));this.buttons.push(a);a=new Ah("SCORE LABELS",this.x,this.y-this.p/2+this.Sh+120,300,30,this.K,function(){A.fc=!A.fc},function(){return A.fc});Sg(a,new $f("option_score_labels",this.K,this.n));this.buttons.push(a);a=new Ah("MULTIPLIER DISPLAY",this.x,this.y-this.p/2+this.Sh+150,300,30,this.K,function(){A.Ur=!A.Ur},function(){return A.Ur});Sg(a,new $f("option_multiplier_display",this.K,this.n));
this.buttons.push(a);a=new Ah("IMPULSE SHADOW",this.x,this.y-this.p/2+this.Sh+180,300,30,this.K,function(){A.Cr=!A.Cr},function(){return A.Cr});Sg(a,new $f("option_impulse_shadow",this.K,this.n));this.buttons.push(a);this.Qa instanceof Xf&&this.Qa.i.ic&&(a=new Ah("SHOW DEFEAT SCREENS",this.x,this.y-this.p/2+this.Sh+210,300,30,this.K,function(){A.Pp=!A.Pp},function(){return A.Pp}),Sg(a,new $f("option_defeat_screens",this.K,this.n)),this.buttons.push(a));vg(this.V,"fade_in")}
l.Ge=function(){var a=Af.getContext("2d");Db(a,0,O,P,"Hive 0")};
l.me=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowBlur=0;a.shadowColor=this.K;a.fillStyle=this.K;a.fillText("OPTIONS",this.x,this.y-this.p/2+100);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);for(b=0;b<this.buttons.length;b++)Ug(this.buttons[b],a);a.textAlign="center";this.bu&&(a.font="14px Muli",this.Qa instanceof Xf&&this.Qa.i.ic?a.fillText(this.bu,this.x,this.y-this.p/2+this.Sh+180):a.fillText(this.bu,this.x,this.y-this.p/2+this.Sh+150));a.restore()};
l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};l.Qe=function(){};l.zg=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].zg(a,b)};l.ah=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].ah(a,b)};Fh.prototype=new Ch;l=Fh.prototype;l.constructor=Fh;
function Fh(a){this.ka(800,600);this.Qa=a.Qa;this.jn=!1;this.Zb=a;this.De=this.Zb.De;this.xb=this.Zb.xb;this.K=this.Zb.K;this.color=this.Zb.color;this.n=a.n;this.oi=new $("BACK",16,this.x,this.y-this.p/2+560,60,65,this.K,this.K,function(a){return function(){vg(a.V,"fade_out",function(){Y=a.Zb;vg(a.Zb.V,"fade_in")})}}(this),"back");this.$e={};this.$e["left mouse"]=new $("LEFT-HAND MOUSE",16,this.x-200,this.y-this.p/2+135,200,100,this.K,this.K,function(){return function(){A.Wb="left";A.Nc="mouse";$b();
ya()}}(this),"left_mouse");this.$e["right keyboard"]=new $("KEYBOARD-ONLY",16,this.x,this.y-this.p/2+135,200,100,this.K,this.K,function(){return function(){A.Wb="right";A.Nc="keyboard";$b();ya()}}(this),"keyboard");this.$e["right mouse"]=new $("RIGHT-HAND MOUSE",16,this.x+200,this.y-this.p/2+135,200,100,this.K,this.K,function(){return function(){A.Wb="right";A.Nc="mouse";$b();ya()}}(this),"right_mouse");this.buttons.push(this.$e["left mouse"]);this.buttons.push(this.$e["right mouse"]);this.buttons.push(this.$e["right keyboard"]);
this.Nd=1<=lc();this.buttons.push(this.oi);Hh(this);vg(this.V,"fade_in")}l.Ha=function(a,b){this.br=null;for(var c in this.$e)this.$e[c].Ha(a,b),this.$e[c].cl&&(this.br=c);this.oi.Ha(a,b);Hh(this)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};function Hh(a){for(var b in a.$e)a.$e[b].color=a.K,a.$e[b].border=!1;a.br?a.$e[a.br].color=a.K:a.$e[A.Wb+" "+A.Nc].color=a.K;a.$e[A.Wb+" "+A.Nc].border=!0}
l.me=function(a){a.save();a.textAlign="center";a.font="32px Muli";a.shadowColor=this.K;a.fillStyle=this.K;a.fillText("CONTROLS",this.x,this.y-this.p/2+50);a.font="18px Muli";a.fillText("SELECT SCHEME",this.x,this.y-this.p/2+75);for(var b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);b=this.br;null==b&&("right"==A.Wb&&"mouse"==A.Nc&&(b="right mouse"),"left"==A.Wb&&"mouse"==A.Nc&&(b="left mouse"),"right"==A.Wb&&"keyboard"==A.Nc&&(b="right keyboard"));a.globalAlpha*=.6;"right mouse"==
b&&(Ra(a,this.x-200,this.y-this.p/2+300,50,this.K,["W","A","S","D"]),a.fillText("MOVE",this.x-200,this.y-this.p/2+360),this.Nd?(Va(a,this.x,this.y-this.p/2+270,75,100,this.K),a.fillText("IMPULSE",this.x,this.y-this.p/2+360),Wa(a,this.x+200,this.y-this.p/2+270,75,100,this.K),a.fillText("ULTIMATE",this.x+200,this.y-this.p/2+360)):(Va(a,this.x+200,this.y-this.p/2+270,75,100,this.K),a.fillText("IMPULSE",this.x+200,this.y-this.p/2+360)),Sa(a,this.x,this.y-this.p/2+430,300,40,10,this.K),a.fillText("SPACEBAR",
this.x,this.y-this.p/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.p/2+490));"left mouse"==b&&(this.Nd?(Va(a,this.x-200,this.y-this.p/2+270,75,100,this.K),a.fillText("IMPULSE",this.x-200,this.y-this.p/2+360),Wa(a,this.x,this.y-this.p/2+270,75,100,this.K),a.fillText("ULTIMATE",this.x,this.y-this.p/2+360)):(Va(a,this.x-200,this.y-this.p/2+270,75,100,this.K),a.fillText("IMPULSE",this.x-200,this.y-this.p/2+360)),Ra(a,this.x+200,this.y-this.p/2+300,50,this.K),a.fillText("MOVE",this.x+
200,this.y-this.p/2+360),Sa(a,this.x,this.y-this.p/2+430,120,40,10,this.K),a.fillText("SHIFT",this.x,this.y-this.p/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.p/2+490));"right keyboard"==b&&(Ra(a,this.x-200,this.y-this.p/2+300,50,this.K,["W","A","S","D"]),a.fillText("IMPULSE",this.x-200,this.y-this.p/2+360),this.Nd&&(Sa(a,this.x,this.y-this.p/2+280,45,45,10,this.K),a.font="18px Muli",a.fillText("F",this.x,this.y-this.p/2+286),a.fillText("ULTIMATE",this.x,this.y-this.p/2+360)),
Ra(a,this.x+200,this.y-this.p/2+300,50,this.K),a.fillText("MOVE",this.x+200,this.y-this.p/2+360),Sa(a,this.x,this.y-this.p/2+430,300,40,10,this.K),a.fillText("SPACEBAR",this.x,this.y-this.p/2+436),a.shadowBlur=0,a.fillText("ENTER GATEWAY",this.x,this.y-this.p/2+490));a.restore()};l.Qe=function(){};Ag.prototype=new Ch;l=Ag.prototype;l.constructor=Ag;
function Ag(a,b){this.ka(800,600);this.jn=!1;b instanceof Ch?(this.Qa=b.Qa,this.De=b.De,this.color=b.color,this.xb=b.xb,this.K=b.K,this.n=this.Qa.n):b instanceof sg&&(this.De="black",this.xb=v["world "+b.n+" lite"],this.K=v["world "+b.n+" bright"],this.color=v["world "+b.n],this.n=b.n);this.Zb=b;this.Vi=this.uj=a;G[this.uj].Vi&&(this.Vi=G[this.uj].Vi);this.Ag=this.Hg=null;this.ag=G[this.uj].ag;this.I=600;this.oi=new $("BACK",16,this.x,this.y-this.p/2+560,60,65,this.K,this.K,function(a){return function(){vg(a.V,
"fade_out",function(){a.Zb instanceof Ch?(Y=a.Zb,vg(a.Zb.V,"fade_in")):a.Zb instanceof sg&&(Y=null,vg(a.Zb.V,"fade_in"))})}}(this),"back");this.buttons.push(this.oi);this.color=v["world "+this.n];this.Es=500;this.Ie=G[this.uj].Ie;this.jm=null;this.Pd=this.Ie.length;this.ca=0;vg(this.V,"fade_in")}
l.me=function(a){a.save();if(null==this.jm){var b;b=this.Es;var c=this.Ie[this.ca].toUpperCase().split(" "),d=[],f=c[0],g=0;if(1==c.length)b=c;else{a.font="20px Muli";for(var h=1;h<c.length;h++){var k=c[h],g=a.measureText(f+k).width;g<b&&"#"!=k?f+=" "+k:(d.push(f),f="#"!=k?k:"");if(h===c.length-1){d.push(f);break}}b=d}this.jm=b}a.beginPath();a.textAlign="center";a.fillStyle=this.K;a.font="12px Muli";a.fillText("ENEMY INFO",this.x,this.y-this.p/2+70);a.font="30px Muli";a.fillText(this.Vi.toUpperCase(),
this.x,this.y-this.p/2+120);a.globalAlpha/=3;Ka(a,this.n,this.x,this.y-this.p/2+215,80);a.globalAlpha*=3;Ia(a,this.uj,this.x,this.y-this.p/2+215,1.5);a.font="12px Muli";a.fillText("BASE POINTS",this.x,this.y-this.p/2+310);a.font="24px Muli";a.fillText(G[this.uj].Ic,this.x,this.y-this.p/2+335);a.font="20px Muli";for(b=0;b<this.jm.length;b++)c=b-(this.jm.length-1)/2,a.fillText(this.jm[b],this.x,this.y-this.p/2+427+25*c);if(1<this.Pd)for(Ta(a,this.x-300,this.y-this.p/2+420,20,"left",this.K,!1),a.font=
"10px Muli",a.fillStyle=this.K,a.fillText("NEXT",this.x+302,this.y-this.p/2+450),a.fillText("PREV",this.x-302,this.y-this.p/2+450),Ta(a,this.x+300,this.y-this.p/2+420,20,"right",this.K,!1),b=0;b<this.Pd;b++)c=(this.Pd-1)/2-b,a.beginPath(),a.shadowBlur=5,a.arc(this.x-25*c,this.y-this.p/2+515,4,0,2*Math.PI,!0),a.fillStyle=this.color,this.ca==b?(a.fillStyle=this.xb,a.shadowColor=a.fillStyle,a.fill()):(a.globalAlpha/=2,a.shadowColor=a.fillStyle,a.fill(),a.globalAlpha*=2);for(b=a.shadowBlur=0;b<this.buttons.length;b++)this.buttons[b].Y(a);
a.restore()};l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b);a<this.x-this.Es/2?Ih(this,this.ca-1):a>this.x+this.Es/2&&Ih(this,this.ca+1);500<b&&530>b&&(c=Math.round((this.Pd-1)/2-(this.x-a)/25),0<=c&&c<this.Pd&&Ih(this,c))};function Ih(a,b){a.ca=b;0>a.ca&&(a.ca+=a.Pd);a.ca>=a.Pd&&(a.ca-=a.Pd);a.jm=null}l.Qe=function(){};Eh.prototype=new Ch;l=Eh.prototype;l.constructor=Eh;
function Eh(a){this.ka(800,600);this.Zb=a;this.jn=!1;this.xb=a.xb;this.K=a.K;this.Zx=!1;this.buttons=[];this.nm=new $("DELETE GAME DATA",20,this.x,this.y,200,80,"red","red",function(a){return function(){eh();a.Zx=!0}}(this),"quit");this.buttons.push(this.nm);this.oi=new $("BACK",16,this.x,this.y-this.p/2+560,60,65,"red","red",function(a){return function(){vg(a.V,"fade_out",function(){Y=a.Zb;a.Zb.Ge();vg(a.Zb.V,"fade_in")})}}(this),"back");this.buttons.push(this.oi);this.Ge();vg(this.V,"fade_in")}
l.Ge=function(){var a=Af.getContext("2d");Db(a,0,O,P,"Hive 4")};l.me=function(a){if(this.Zx)a.fillStyle="red",a.textAlign="center",a.font="32px Muli",a.fillText("ALL GAME DATA HAS BEEN DELETED",this.x,120),this.oi.Y(a);else{a.fillStyle="red";a.textAlign="center";a.font="40px Muli";a.fillText("ARE YOU SURE",this.x,100);a.font="24px Muli";a.fillText(" YOU WANT TO DELETE ALL YOUR GAME DATA?",this.x,140);a.font="16px Muli";a.fillText("THIS ACTION CANNOT BE UNDONE.",this.x,200);for(var b=0;b<this.buttons.length;b++)this.buttons[b].Y(a)}};
l.Ha=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Ha(a,b)};l.Va=function(a,b){for(var c=0;c<this.buttons.length;c++)this.buttons[c].Va(a,b)};function eh(){localStorage.removeItem(Pe);var a=A;Qf();A=a;Re=!1;$b()};new zh;function qg(a,b,c,d){this.ka(a,b,c,d)}
qg.prototype.ka=function(a,b,c,d){this.iE=d?!0:!1;this.Af=[];if("spark"==a||"multi"==a)c={x:0,y:0};d=Math.min(1,10/Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y+.01)));c={x:c.x*d,y:c.y*d};this.Kr=this.gz=1E3;this.color="black";"boss"==a.slice(a.length-4,a.length)?(this.shape=G[a].Sb[0],this.color=G[a].color,this.Th=.5,this.yg=10,this.Bo=5):"player"==a?(this.shape={type:"circle",x:0,y:0,Z:oc.prototype.hh},this.color=v.player_color,this.Th=.5,this.yg=6,this.Bo=1):"harpoon"==a||"harpoonhead"==a?(this.shape=G[a].Sb[0],
this.color=G[a].color,this.Th=.3,this.yg=2,this.Bo=1):"spark"==a||"multi"==a?(this.yg=3,this.Bo=10,this.Th=1,this.shape=a):(this.shape=G[a].Sb[0],this.color=G[a].color,"tanker"==a&&(this.color="red"),this.Th=.3,this.yg=2,this.Bo=1);this.Wq=this.Bo*Math.max(3,Math.sqrt(Math.sqrt(c.x*c.x+c.y*c.y)));this.bq=.5;this.Ee={x:b.x,y:b.y};this.qj={x:this.Th*c.x,y:this.Th*c.y};for(a=0;a<this.yg;a++)dir=2*Math.PI/this.yg*Math.random(),new_v={x:this.Th*c.x+Math.cos(dir+2*Math.PI/this.yg*a)*this.Wq,y:this.Th*c.y+
Math.sin(dir+2*Math.PI/this.yg*a)*this.Wq},this.Af.push(new Jh(this.shape,F/3,{x:b.x*F,y:b.y*F},{x:new_v.x*F,y:new_v.y*F},this.color));for(a=0;a<this.yg;a++)dir=2*Math.PI/this.yg*Math.random(),new_v={x:this.Th*c.x+2*Math.cos(dir+2*Math.PI/this.yg*a)*this.Wq,y:this.Th*c.y+2*Math.sin(dir+2*Math.PI/this.yg*a)*this.Wq},this.Af.push(new Jh(this.shape,F/3,{x:b.x*F,y:b.y*F},{x:new_v.x*F,y:new_v.y*F},this.color))};
qg.prototype.qa=function(a){this.Kr-=a;this.Ee.x+=this.qj.x*a/1E3;this.Ee.y+=this.qj.y*a/1E3;this.qj.x-=this.bq*this.qj.x*a/1E3;this.qj.y-=this.bq*this.qj.y*a/1E3;for(var b=0;b<this.Af.length;b++)this.Af[b].qa(a)};qg.prototype.Y=function(a){this.iE&&(a.shadowColor=this.color,a.shadowBlur=15);for(var b=0;b<this.Af.length;b++)this.Af[b].Y(a,this.Kr/this.gz);a.shadowBlur=0};function Jh(a,b,c,d,f){this.ka(a,b,c,d,f)}
Jh.prototype.ka=function(a,b,c,d,f){this.Me=c;this.shape=a;this.size=b;this.fg=d;this.color=f;this.bq=.5};Jh.prototype.qa=function(a){this.Me.x+=this.fg.x*a/1E3;this.Me.y+=this.fg.y*a/1E3;this.fg.x-=this.bq*this.fg.x*a/1E3;this.fg.y-=this.bq*this.fg.y*a/1E3};
Jh.prototype.Y=function(a,b){if("spark"==this.shape||"multi"==this.shape){a.save();a.globalAlpha*=b;var c=R({x:0,y:0},this.fg);"spark"==this.shape?J(a,this.Me.x/F,this.Me.y/F,c,12,12,"spark"):"multi"==this.shape&&J(a,this.Me.x/F,this.Me.y/F,c,12,12,"multi")}else a.save(),c=R({x:0,y:0},this.fg),Ha(a,this.Me.x,this.Me.y,this.shape,this.size,this.color,b,c);a.restore()};$.prototype=new zh;$.prototype.constructor=$;function $(a,b,c,d,f,g,h,k,m,q){this.text=a;this.size=b;this.ka(c,d,f,g,m,!1,h);this.ub=k;this.pl=!1;this.icon=q;this.$c=!0;this.De=null;this.kw=!0;"world"==this.icon.slice(0,5)&&(this.kw=!1)}
$.prototype.me=function(a){a.save();if(this.icon){a.save();a.shadowBlur=0;if("player"==this.icon)this.Da?J(a,this.x,this.y-this.p/8,0,40,40,"player_normal"):J(a,this.x,this.y-this.p/8,0,40,40,"player_white");else if("gear"==this.icon)this.Da?Ya(a,this.x,this.y-this.p/8,v.impulse_blue,"#080808",!1):Ya(a,this.x,this.y-this.p/8,"white","#080808",!1);else if("credit"==this.icon)this.Da?Za(a,this.x,this.y-this.p/8,v.impulse_blue):Za(a,this.x,this.y-this.p/8,"white");else if("tutorial"==this.icon)this.Da?
$a(a,this.x,this.y-this.p/8,13,v.impulse_blue):$a(a,this.x,this.y-this.p/8,13,"white");else if("note"==this.icon)this.Da?kb(a,this.x,this.y-this.p/6,v.impulse_blue):kb(a,this.x,this.y-this.p/6,"white");else if("texture"==this.icon)this.Da?hb(a,this.x,this.y-this.p/4,v.impulse_blue):hb(a,this.x,this.y-this.p/4,"white");else if("physics_engine"==this.icon)this.Da?jb(a,this.x,this.y-this.p/6,v.impulse_blue):jb(a,this.x,this.y-this.p/6,"white");else if("audio"==this.icon)this.Da?lb(a,this.x,this.y-this.p/
6,20,v.impulse_blue,!1,!1):lb(a,this.x,this.y-this.p/6,20,"white",!1,!1);else if("back"==this.icon)this.Da?bb(a,this.x,this.y-this.p/8,this.ub):bb(a,this.x,this.y-this.p/8,this.color);else if("start"==this.icon)this.Da?cb(a,this.x,this.y-this.p/8,this.ub):cb(a,this.x,this.y-this.p/8,this.color);else if("retry"==this.icon)this.Da?ab(a,this.x,this.y-this.p/8,this.ub):ab(a,this.x,this.y-this.p/8,this.color);else if("options"==this.icon)this.Da?Ya(a,this.x,this.y-this.p/8,this.ub,this.De):Ya(a,this.x,
this.y-this.p/8,this.color,this.De);else if("fb"==this.icon)this.Da?Xa(a,this.x,this.y-this.p/8,this.ub):Xa(a,this.x,this.y-this.p/8,this.color);else if("save"==this.icon)this.Da?eb(a,this.x,this.y-this.p/8,this.ub):eb(a,this.x,this.y-this.p/8,this.color);else if("quest"==this.icon)this.Da?fb(a,this.x,this.y-this.p/8,this.ub):fb(a,this.x,this.y-this.p/8,this.color);else if("quit"==this.icon)this.Da?gb(a,this.x,this.y-this.p/6,this.ub):gb(a,this.x,this.y-this.p/6,this.color);else if("mute_in_game"==
this.icon)lb(a,this.x,this.y,15,this.Da?this.ub:this.color,!0,A.sv);else if("pause_in_game"==this.icon){var b=this.x,c=this.y,d=this.Da?this.ub:this.color;a.save();a.clearRect(b-15,c-15,45,45);a.beginPath();a.rect(b-5.625,c-7.5,3.75,15);a.rect(b+1.875,c-7.5,3.75,15);a.fillStyle=d;a.fill();a.font="10px Muli";a.textAlign="center";"left"==A.Wb?a.fillText("ENTER",b+15,c+15):a.fillText("Q",b+15,c+15);a.restore()}else"fullscreen_in_game"==this.icon?(b=this.x,c=this.y,d=this.Da?this.ub:this.color,a.save(),
a.clearRect(b-15,c-15,45,45),a.beginPath(),a.globalAlpha/=2,a.rect(b-11.25,c-11.25,22.5,22.5),a.strokeStyle=d,a.fillStyle=d,a.lineWidth=2,a.stroke(),a.globalAlpha*=2,a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b-0,c-7.5),a.lineTo(b-7.5,c-0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b+7.5,c+7.5),a.lineTo(b+0,c+7.5),a.lineTo(b+7.5,c+0),a.closePath(),a.fill(),a.beginPath(),a.moveTo(b-7.5,c-7.5),a.lineTo(b+7.5,c+7.5),a.stroke(),a.font="10px Muli",a.textAlign="center",a.fillText("C",b+15,c+15),a.restore()):
"easy_mode"==this.icon?Ea(a,"goo",this.x,this.y-this.p/8,30,Math.PI/2,this.Da?"ulted":"white",this.Da?v.impulse_blue:"white"):"normal_mode"==this.icon?J(a,this.x,this.y-this.p/8,0,40,40,this.Da?"ultimate_icon_blue":"ultimate_icon"):"left_mouse"==this.icon?(Ua(a,this.x-.23*this.I,this.y-.1*this.p,.17*this.I,.4*this.p,this.Da?this.ub:this.color),Ra(a,this.x+.17*this.I,this.y,.2*this.p,this.Da?this.ub:this.color)):"keyboard"==this.icon?(Ra(a,this.x-.23*this.I,this.y,.2*this.p,this.Da?this.ub:this.color),
Ra(a,this.x+.23*this.I,this.y,.2*this.p,this.Da?this.ub:this.color)):"right_mouse"==this.icon?(Ra(a,this.x-.17*this.I,this.y,.2*this.p,this.Da?this.ub:this.color),Ua(a,this.x+.23*this.I,this.y-.1*this.p,.17*this.I,.4*this.p,this.Da?this.ub:this.color)):"help_icon"==this.icon?(a.beginPath(),a.arc(this.x,this.y,this.I/2,-.5*Math.PI,-.5*Math.PI+1.999*Math.PI,!1),a.strokeStyle=this.Da?this.ub:this.color,a.lineWidth=2,a.fillStyle="black",a.stroke(),a.fill(),a.beginPath(),a.arc(this.x,this.y-this.I/8,this.I/
8,-Math.PI,0,!1),a.lineTo(this.x,this.y+this.I/8),a.stroke(),a.beginPath(),a.arc(this.x,this.y+this.I/2-4,1,0,2*Math.PI),a.fillStyle=this.Da?this.ub:this.color,a.fill()):"controls"==this.icon?(a.shadowBlur=0,"right"==A.Wb&&"mouse"==A.Nc&&(Ra(a,this.x-.15*this.I,this.y,.2*this.p,this.Da?this.ub:this.color),Ua(a,this.x+.2*this.I,this.y-.1*this.p,.15*this.I,.4*this.p,this.Da?this.ub:this.color)),"left"==A.Wb&&"mouse"==A.Nc&&(Ua(a,this.x-.2*this.I,this.y-.1*this.p,.15*this.I,.4*this.p,this.Da?this.ub:
this.color),Ra(a,this.x+.15*this.I,this.y,.2*this.p,this.Da?this.ub:this.color)),"right"==A.Wb&&"keyboard"==A.Nc&&(Ra(a,this.x-.2*this.I,this.y,.2*this.p,this.Da?this.ub:this.color),Ra(a,this.x+.2*this.I,this.y,.2*this.p,this.Da?this.ub:this.color))):"world"==this.icon.slice(0,5)?(b=parseInt(this.icon.slice(5)),a.save(),a.globalAlpha=this.Da&&this.$c?.5*a.globalAlpha:this.$c?.3*a.globalAlpha:.15*a.globalAlpha,this.$c?Ka(a,b,this.x,this.y,2*this.size,this.Da):Pa(a,b,this.x,this.y,2*this.size),a.restore(),
a.save(),this.$c||(a.globalAlpha*=.3),a.textAlign="center",a.font="32px Muli",a.fillStyle=this.$c?this.color:"gray",a.fillText(this.text,this.x,this.y+10),a.restore()):"practice"==this.icon.slice(0,8)&&(b=parseInt(this.icon.slice(8)),this.$c?(a.globalAlpha=this.Da?3==b?.6*a.globalAlpha:.7*a.globalAlpha:.3*a.globalAlpha,Ka(a,b,this.x,this.y,1.4*this.size)):(a.globalAlpha*=.3,Pa(a,b,this.x,this.y,1.4*this.size)));a.restore()}a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";this.Da&&this.kw&&
(a.beginPath(),b=a.measureText(this.text).width,a.moveTo(this.x-b/2,this.y+.4*this.p),a.lineTo(this.x+b/2,this.y+.4*this.p),a.strokeStyle=this.ub?this.ub:this.color,a.lineWidth=2,a.stroke());this.$c||"practice"!=this.icon.slice(0,8)||(a.globalAlpha*=.4);a.fillStyle=this.Da?this.ub:this.color;this.pl?(a.shadowBlur=5,a.shadowColor=a.fillStyle):a.shadowBlur=0;"practice"==this.icon.slice(0,8)?a.fillText(this.text,this.x-1,this.y+this.p/6):"world"!=this.icon.slice(0,5)&&a.fillText(this.text,this.x,this.y+
this.p/3);this.bf&&(a.font=this.pC?this.pC:.7*this.size+"px Muli",a.fillText(this.bf,this.x,this.y+this.p/3+1*this.size));a.fill();a.restore()};new zh;function $f(a,b,c,d){b&&this.ka(a,b,c,d)}
$f.prototype.ka=function(a,b,c,d){this.type=a;this.color=b;this.aC=d;this.y=this.x=0;this.Fz=this.visible=!1;"rank_explanation"==this.type?(this.I=360,this.p=140):"beat_hive"==this.type.substring(0,9)?(this.I=150,this.p=120):"first_gold"==this.type?(this.I=200,this.p=150):"combo"==this.type||"pacifist"==this.type||"survivor"==this.type?(this.I=250,this.p=150):"fast_time"==this.type?(this.I=220,this.p=150):"0star"==this.type?(this.I=250,this.p=120):"1star"==this.type||"2star"==this.type||"3star"==
this.type?(this.I=250,this.p=150):"option_game_music"==this.type?(this.I=300,this.p=40):"option_sound_effects"==this.type?(this.I=250,this.p=40):"option_fullscreen"==this.type?(this.I=150,this.p=40):"option_particle_effects"==this.type?(this.I=250,this.p=40):"option_score_labels"==this.type?(this.I=350,this.p=40):"option_multiplier_display"==this.type?(this.I=300,this.p=40):"option_impulse_shadow"==this.type?(this.I=350,this.p=40):"option_defeat_screens"==this.type?(this.I=300,this.p=40):"tutorial_move"==
this.type?(this.I=220,this.p=40):"tutorial_impulse"==this.type?(this.I=220,this.p=40):"tutorial_pause"==this.type?(this.I=220,this.p=40):"tutorial_score_points"==this.type?(this.I=380,this.p=40):"tutorial_enter_gateway"==this.type?(this.I=300,this.p=40):"tutorial_void"==this.type?(this.I=300,this.p=40):"tutorial_kill_enemy"==this.type?(this.I=300,this.p=40):"tutorial_incr_multiplier"==this.type?(this.I=350,this.p=40):"tutorial_reset_multiplier"==this.type?(this.I=350,this.p=40):"tutorial_one_up"==
this.type?(this.I=250,this.p=40):"lives_and_sparks"==this.type?(this.I=150,this.p=110,this.Nd=1<=lc(),this.Ma=kc(),this.Rc=lc(),this.Gg=mc()):"god_mode_alert"==this.type&&(this.I=250,this.p=40,this.message="ALL LEVELS UNLOCKED",this.Fz=!0);this.opacity=0;this.n=c};
$f.prototype.Y=function(a){if(this.visible){a.save();a.globalAlpha*=.9;a.beginPath();a.strokeStyle=this.color;a.fillStyle="black";a.shadowBlur=0;a.lineWidth=2;a.rect(this.x-this.I/2,this.y-this.p/2,this.I,this.p);a.fill();a.stroke();"option_game_music"==this.type&&(this.Rj="BACKGROUND MUSIC VOLUME");"option_sound_effects"==this.type&&(this.Rj="SOUND EFFECTS VOLUME");"option_fullscreen"==this.type&&(this.Rj="GO FULLSCREEN");"option_particle_effects"==this.type&&(this.Rj="SHOW PARTICLE EFFECTS");"option_score_labels"==
this.type&&(this.Rj="SHOW SCORE VALUE WHEN ENEMIES DIE");"option_multiplier_display"==this.type&&(this.Rj="SHOW MULTIPLIER BELOW PLAYER");"option_impulse_shadow"==this.type&&(this.Rj="SHOW AIMING SHADOW FOR IMPULSE");"option_defeat_screens"==this.type&&(this.Rj="SHOW DEFEAT SCREEN ON DEATH");"tutorial_move"==this.type&&("right"==A.Wb&&(this.eg="WASD TO MOVE"),"left"==A.Wb&&"mouse"==A.Nc&&(this.eg="ARROW KEYS TO MOVE"));"tutorial_impulse"==this.type&&(this.eg="mouse"==A.Nc?"CLICK TO IMPULSE":"ARROW KEYS TO IMPULSE");
"tutorial_pause"==this.type&&("right"==A.Wb?this.eg="ESC TO PAUSE":"left"==A.Wb&&(this.eg="ENTER TO PAUSE"));"tutorial_score_points"==this.type&&(this.eg="SCORE POINTS TO OPEN GATEWAY");"tutorial_incr_multiplier"==this.type&&(this.eg="KILLING ENEMIES INCREASES MULTIPLIER");"tutorial_reset_multiplier"==this.type&&(this.eg="TOUCHING ENEMIES RESETS MULTIPLIER");"tutorial_one_up"==this.type&&(this.eg="100 SPARKS = 1UP");"tutorial_void"==this.type&&(this.eg="DO NOT TOUCH THE VOID");"tutorial_kill_enemy"==
this.type&&(this.eg="IMPULSE THE ENEMY INTO THE VOID");"tutorial_enter_gateway"==this.type&&("right"==A.Wb&&(this.eg="SPACEBAR TO ENTER GATEWAY"),"left"==A.Wb&&(this.eg="SHIFT TO ENTER GATEWAY"));if("tutorial"==this.type.substring(0,8))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.eg,this.x,this.y-this.p/2+25);else if("rank_explanation"==this.type){var b=this.y-this.p/2,c=this.x+this.I/2-10;Eb(a,this.x-this.I/2+50,b-7+30,this.n,"half",.8);Eb(a,this.x-this.I/2+50,b-
7+60,this.n,"basic",.8);Eb(a,this.x-this.I/2+50,b-7+90,this.n,"silver",.8);Eb(a,this.x-this.I/2+50,b-7+120,this.n,"gold",.8);a.textAlign="right";a.font="16px Muli";a.fillStyle="white";a.fillText("ONE OR MORE CONTINUES",c-10,b+30);a.fillText("NO CONTINUES USED",c-10,b+30+30);a.fillText("SILVER SCORE ON EVERY LEVEL",c-10,b+30+60);a.fillText("GOLD SCORE ON EVERY LEVEL",c-10,b+30+90)}else if("option"==this.type.substring(0,6))a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.Rj,
this.x,this.y-this.p/2+25);else if("lives_and_sparks"==this.type)a.textAlign="center",a.font="12px Muli",a.fillStyle="white",a.fillText("STARTING VALUES",this.x,this.y-this.p/2+20),qb(a,this.Ma,this.Gg,this.Rc,this.x,this.y+5,20,{labels:!0,rA:!0,Xi:this.Nd,gc:!0,Ma:!0});else if(this.Fz)a.textAlign="center",a.font="16px Muli",a.fillStyle=this.color,a.fillText(this.message,this.x,this.y-this.p/2+25);else{a.textAlign="center";a.font="16px Muli";a.fillStyle="white";for(b=0;b<Fb[this.type].text.length;b++)a.fillText(Fb[this.type].text[b],
this.x,this.y-this.p/2+40+24*b);a.font="12px Muli";b=this.y+this.p/2-20;a.beginPath();a.moveTo(this.x-this.I/2+10,b-40);a.lineTo(this.x+this.I/2-10,b-40);a.strokeStyle="white";a.lineWidth=1;a.stroke();this.aC?a.fillText("COMPLETED",this.x,b-20):a.fillText("REWARD",this.x,b-20);c=Fb[this.type].La;if(0<c.length)for(var d=0;d<c.length;d++){reward=c[d];var f=a,g=this.x-45*((c.length-1)/2-d),h=b,k=reward;f.font="15px Muli";f.fillStyle="white";f.textAlign="center";f.fillText("+1",g-9,h+5);"spark"==k&&J(f,
g+9,h,0,14.4,14.4,"sparks_icon");"life"==k&&J(f,g+9,h,0,18,18,"lives_icon");"ult"==k&&J(f,g+9,h,0,18,18,"ultimate_icon")}else a.font="12px Muli",a.fillStyle=v.impulse_blue,a.textAlign="center",a.fillText("NEW UPCOMING GAME MODE",this.x,b)}a.restore()}};function ag(a,b,c){a.x=b;a.y=c+a.p/2;"option"==a.type.substring(0,6)&&(a.y+=20);"tutorial"==a.type.substring(0,8)&&(a.x=b,a.y=c-a.p/2-50)};Wg.prototype=new zh;Wg.prototype.constructor=Wg;
function Wg(a,b,c,d){this.type=a;this.x=b;this.y=c;this.Z=d;this.I=2*d;this.p=2*d;this.xp=document.createElement("canvas");this.xp.width=this.I;this.xp.height=this.p;b=this.xp.getContext("2d");draw_quest_button(b,this.Z,this.Z,this.Z,this.type);b=this.xp;b=b.getContext("2d").getImageData(0,0,b.width,b.height);for(c=0;c<b.height;c++)for(d=0;d<b.width;d++){var f=4*c*b.width+4*d,g=(b.data[f]+b.data[f+1]+b.data[f+2])/3;b.data[f]=g;b.data[f+1]=g;b.data[f+2]=g;b.data[f+3]=b.data[f+3]?255:0}c=document.createElement("canvas");
c.width=b.width;c.height=b.height;c.getContext("2d").putImageData(b,0,0,0,0,b.width,b.height);this.wC=c;this.Tz=-1!=vf.indexOf(a);this.dd=new $f(this.type,"white",0,this.Tz)}
Wg.prototype.Y=function(a){this.Tz?a.drawImage(this.xp,0,0,this.I,this.p,this.x-this.Z,this.y-this.Z,this.I,this.p):(a.save(),a.globalAlpha*=.4,a.drawImage(this.wC,0,0,this.I,this.p,this.x-this.Z,this.y-this.Z,this.I,this.p),a.restore());this.cl&&(a.save(),a.globalAlpha*=.2,a.beginPath(),a.arc(this.x,this.y,this.Z,0,2*Math.PI,!1),a.fillStyle="#fff",a.fill(),a.beginPath(),a.restore())};Wg.prototype.qa=function(){};fh.prototype=new zh;fh.prototype.constructor=fh;function fh(a,b,c,d,f,g,h,k){this.size=a;this.ka(b,c,d,f,this.wD,!1,g);this.ub=h;this.pl=!1;this.$c=!0;this.De=null;this.pi=new Bh(this.x,this.y-this.p/8,20,20,this.color);this.SE=k;this.pi.checked="normal"==L}fh.prototype.wD=function(){L="easy"==L?"normal":"easy";$b();kh(this.SE);this.pi.checked="normal"==L};
fh.prototype.me=function(a){this.pi.Y(a);a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.color;a.fillText("HARD MODE",this.x,this.y+this.p/3)};function Kh(a,b,c,d,f){this.x=a;this.y=b;this.I=c;this.p=d;this.color=f;this.$c=!0;this.value=0;this.ck=20}l=Kh.prototype;l.Y=function(a){a.beginPath();a.strokeStyle=this.color;a.fillStyle=this.color;a.rect(this.x-this.I/2,this.y-this.p/2,this.I,this.p);a.lineWidth=1;a.save();a.globalAlpha*=.75;a.fill();a.restore();a.stroke();a.beginPath();a.rect(this.x-this.I/2+this.I*this.value-this.ck/2,this.y-this.ck/2,this.ck,this.ck);a.fill()};
l.zg=function(a,b){a>this.x-this.I/2-this.ck/2&&a<this.x+this.I/2+this.ck/2&&b>this.y-this.p/2-this.ck/2&&b<this.y+this.p/2+this.ck/2&&(Lh(this,(a-(this.x-this.I/2))/this.I),this.dy=!0)};function Lh(a,b){a.value=b;0>a.value&&(a.value=0);1<a.value&&(a.value=1)}l.ah=function(){this.onselect(this.value);this.dy=!1};l.onselect=function(){};l.Ha=function(a){this.dy&&Lh(this,(a-(this.x-this.I/2))/this.I)};
function Bh(a,b,c,d,f,g,h){this.x=a;this.y=b;this.I=c;this.p=d;this.color=f;this.$c=!0;this.checked=h?h:!1;this.HE=g}Bh.prototype.Y=function(a){a.beginPath();a.rect(this.x-this.I/2,this.y-this.p/2,this.I,this.p);this.checked&&(a.moveTo(this.x-this.I/2,this.y-this.p/2),a.lineTo(this.x+this.I/2,this.y+this.p/2),a.moveTo(this.x-this.I/2,this.y+this.p/2),a.lineTo(this.x+this.I/2,this.y-this.p/2));a.strokeStyle=this.color;a.lineWidth=2;a.stroke()};
Bh.prototype.Va=function(a,b){a>this.x-this.I/2&&a<this.x+this.I/2&&b>this.y-this.p/2&&b<this.y+this.p/2&&(this.checked=!this.checked,this.HE(this.checked))};Gh.prototype=new zh;l=Gh.prototype;l.constructor=Gh;function Gh(a,b,c,d,f,g,h,k){this.text=a;this.ka(b,c,d,f,function(){},!1,g);this.hn=new Kh(this.x+this.I/2-20,this.y,100,5,this.color);this.hn.value=k;this.hn.onselect=h}l.me=function(a){a.save();this.cl||(a.globalAlpha*=.5);a.textAlign="left";a.font="18px Muli";a.fillStyle=this.color;a.fillText(this.text,this.x-this.I/2+10,this.y+7);this.hn.Y(a);a.restore()};l.zg=function(a,b){this.hn.zg(a,b)};l.ah=function(a,b){this.hn.ah(a,b)};l.xD=zh.prototype.Ha;
l.Ha=function(a,b){this.xD(a,b);this.hn.Ha(a,b)};ch.prototype=new zh;ch.prototype.constructor=ch;function ch(a,b,c,d,f,g,h,k,m){this.text=a;this.size=b;this.ka(c,d,f,g,m,!1,h);this.ub=k;this.jw=!1;this.Gs=null;this.bf="";this.pl=!1;this.shadowColor=this.color;this.ay=!1}
ch.prototype.me=function(a){a.save();a.beginPath();a.textAlign="center";a.font=this.size+"px Muli";a.fillStyle=this.Da?this.ub:this.color;this.pl?(a.shadowBlur=5,a.shadowColor=this.shadowColor):a.shadowBlur=0;a.fillText(this.text,this.x,this.y);a.fill();if(!this.Da&&!this.jw)if(null!=this.Gs&&this.Gs<this.text.length){a.globalAlpha*=.5;a.beginPath();var b=a.measureText(this.text.slice(0,this.Gs)).width,c=a.measureText(this.text.slice(0,this.Gs+1)).width,d=a.measureText(this.text).width;a.moveTo(this.x-
d/2+b,this.y+this.size/4);a.lineTo(this.x-d/2+c,this.y+this.size/4);a.strokeStyle=this.color;a.lineWidth=1;a.stroke();a.globalAlpha/=.5;""!=this.bf&&(a.globalAlpha*=.5,this.ay&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.bf,this.x-d/2+(b+c)/2,this.y+3*this.size/4))}else""!=this.bf&&(a.globalAlpha*=.5,this.ay&&(a.globalAlpha*=.5),a.font=this.size/2+"px Muli",a.fillText(this.bf,this.x,this.y+3*this.size/4));a.restore();a.shadowBlur=0};zg.prototype=new zh;zg.prototype.constructor=zg;function zg(a,b,c,d,f,g,h,k){this.state=null;this.uj=a;this.size=b;this.ka(c,d,f,g,k,!0,h);this.Ld=30}zg.prototype.me=function(a){a.save();this.Da&&(a.save(),a.beginPath(),a.rect(this.x-this.I/2,this.y-this.p/2,this.I,this.p),a.globalAlpha*=.5,a.fillStyle=this.color,a.fill(),a.restore());Ea(a,this.uj,this.x,this.y,this.Ld);a.restore()};function Fg(a){this.ec=[];this.v=a;this.Tu=2E3;"HIVE 0"==a.O.substring(0,6)&&(this.Fs=parseInt(a.O.substring(7)));if(1==this.Fs)this.ec.push(new Mh(this.v)),this.ec.push(new Nh(this.v)),this.ec.push(new Oh(this.v));else if(2==this.Fs)this.ec.push(new Ph(this.v)),this.ec.push(new Nh(this.v)),this.ec.push(new Oh(this.v));else if(3==this.Fs)this.ec.push(new Qh(this.v)),this.ec.push(new Rh(this.v)),this.ec.push(new Nh(this.v));else if(4==this.Fs)this.ec.push(new Sh(this.v)),this.ec.push(new Th(this.v)),
this.ec.push(new Uh(this.v));else for(a=0;a<this.Zr.length;a++)-1==uf.indexOf(this.Zr[a].type)&&this.ec.push(new this.Zr[a].Ox(this.v))}Fg.prototype.Zr=[{type:"reset_multiplier",Ox:Th},{type:"one_up",Ox:Uh}];Fg.prototype.Y=function(a){if(0!=this.ec.length){var b=this.ec[0];a.save();"fade_in"==b.V.bc?a.globalAlpha*=xg(b.V):"fade_out"==b.V.bc?a.globalAlpha*=1-xg(b.V):b.Uv||(a.globalAlpha=0);a.globalAlpha*=.8;b.dd&&b.dd.Y(a);b.Y(a);a.restore()}};
Fg.prototype.qa=function(a){if(0<this.Tu)this.Tu-=a;else if(0!=this.ec.length){Vh(this.ec[0],a);if(!this.ec[0].Jk())for(a=1;a<this.ec.length;a++)if(this.ec[a].xv&&this.ec[a].Jk()){var b=this.ec.splice(a,1)[0];this.ec.unshift(b)}if(this.ec[0].qu)for(this.ec.shift();0<this.ec.length&&Wh(this.ec[0]);)this.ec.shift()}};function Xh(){}l=Xh.prototype;l.ka=function(a){this.v=a;this.V=new wg({fade_in:500,fade_out:500});this.qu=!1;this.duration=null;this.Uv=!1;this.fr=0;this.xv=!1};l.Jk=function(){return!0};
l.Y=function(){};function Vh(a,b){if(a.Jk()){if(!a.Uv)if(Wh(a))a.qu=!0;else{if(0<a.fr){a.fr-=b;return}a.Uv=!0;vg(a.V,"fade_in");a.dd&&(a.dd.visible=!0)}0<a.duration&&(a.duration-=b);if(a.dd){var c=a.v.o.body.g.position;ag(a.dd,c.x*F,c.y*F)}a.V.qa(b);a.qa(b);Wh(a)&&vg(a.V,"fade_out",function(){a.qu=!0;a.$r()})}}l.$r=function(){};l.Mp=function(){return!1};function Wh(a){return a.Mp()||null!=a.duration&&0>=a.duration}l.qa=function(){};Mh.prototype=new Xh;Mh.prototype.constructor=Mh;
function Mh(a){this.ka(a);this.dd=new $f("tutorial_move",a.K,a.n)}Mh.prototype.Y=function(){};Mh.prototype.qa=function(){};Mh.prototype.Mp=function(){return this.v.Wi.player_moved};Ph.prototype=new Xh;Ph.prototype.constructor=Ph;function Ph(a){this.ka(a);this.dd=new $f("tutorial_void",a.K,a.n);this.duration=3E3}Ph.prototype.Y=function(){};Ph.prototype.qa=function(){};Ph.prototype.$r=function(){var a=this.v.i;a.yu=0;a.Dy="red"};Qh.prototype=new Xh;Qh.prototype.constructor=Qh;
function Qh(a){this.ka(a);this.dd=new $f("tutorial_impulse",a.K,a.n)}Qh.prototype.Y=function(){};Qh.prototype.qa=function(){};Qh.prototype.Mp=function(){return this.v.Wi.player_impulsed};Rh.prototype=new Xh;Rh.prototype.constructor=Rh;function Rh(a){this.ka(a);this.dd=new $f("tutorial_kill_enemy",a.K,a.n);this.fr=1E4}Rh.prototype.Y=function(){};Rh.prototype.qa=function(){};Rh.prototype.Mp=function(){return this.v.Wi.enemy_killed};Sh.prototype=new Xh;Sh.prototype.constructor=Sh;
function Sh(a){this.ka(a);this.duration=3E3;this.dd=new $f("tutorial_incr_multiplier",a.K,a.n)}Sh.prototype.Jk=function(){return this.v.Wi.enemy_killed};Sh.prototype.Y=function(){};Sh.prototype.qa=function(){};Th.prototype=new Xh;l=Th.prototype;l.constructor=Th;function Th(a){this.ka(a);this.duration=3E3;this.xv=!0;this.dd=new $f("tutorial_reset_multiplier",a.K,a.n)}l.Jk=function(){return this.v.Wi.multiplier_reset};l.Y=function(){};l.qa=function(){};
l.$r=function(){-1==uf.indexOf("reset_multiplier")&&(uf.push("reset_multiplier"),$b())};Uh.prototype=new Xh;l=Uh.prototype;l.constructor=Uh;function Uh(a){this.ka(a);this.duration=3E3;this.xv=!0;this.dd=new $f("tutorial_one_up",a.K,a.n)}l.Jk=function(){return this.v.Wi.got_spark};l.Y=function(){};l.qa=function(){};l.$r=function(){-1==uf.indexOf("one_up")&&(uf.push("one_up"),$b())};Nh.prototype=new Xh;l=Nh.prototype;l.constructor=Nh;function Nh(a){this.ka(a)}
l.Y=function(a){var b=this.v.i.Md.x*F,c=this.v.i.Md.y*F,d=window.performance.now()%1500/1500,f=0,f=d>2/3?3*(1-d):1.5*d;a.beginPath();a.moveTo(b,c-122-50*f);a.lineTo(b,c-82-50*f);a.lineWidth=16;a.strokeStyle=v.impulse_blue;a.stroke();Ta(a,b,c-70-50*f,50,"down",v.impulse_blue,!1)};l.qa=function(){};l.Jk=function(){return this.v.Wi.gateway_opened};l.Mp=function(){return this.v.Wi.moved_to_gateway};Oh.prototype=new Xh;Oh.prototype.constructor=Oh;
function Oh(a){this.ka(a);this.duration=3E3;this.dd=new $f("tutorial_enter_gateway",a.K,a.n)}Oh.prototype.Y=function(){};Oh.prototype.qa=function(){};new zh;
<!DOCTYPE html>
<html>
<head>
    <title>Impulse</title>

    <style type=text/css>



    </style>

    <script type="text/javascript">
        var fileref = document.createElement("link");
        fileref.setAttribute("rel", "stylesheet");
        fileref.setAttribute("type", "text/css");
        fileref.setAttribute("href", "css/style.css");
        document.getElementsByTagName("head")[0].insertBefore(fileref,document.getElementsByTagName("head")[0].firstChild);
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-41419006-1', 'mit.edu');
      ga('send', 'pageview');

    </script>
    <!-- box2djs -->
    	<!-- box2djs -->

        <!--<link href='http://fonts.googleapis.com/css?family=Muli:300' rel='stylesheet' type='text/css'>-->
    <!--    <link href="css/style.css" type="text/css">-->
    <script src="js/game_vars.js"></script>
    <script src="js/draw.js"></script>
    <script src="js/util.js"></script>
    <script src="js/music_player.js"></script>
    <script src="js/hive_numbers.js"></script>

    <script src="js/vendor/Box2dWeb-2.1.a.3.min.js"></script>
    <script src="js/vendor/buzz.js"></script>
    <script src='js/player/player.js'></script>

    <script src='js/enemy/enemy.js'></script>
    <script src='js/enemy/stunner.js'></script>
    <script src='js/enemy/spear.js'></script>
    <script src='js/enemy/tank.js'></script>
    <script src='js/enemy/mote.js'></script>
    <script src='js/enemy/goo.js'></script>
    <script src='js/enemy/disabler.js'></script>
    <script src='js/enemy/troll.js'></script>
    <script src='js/enemy/wisp.js'></script>
    <script src='js/enemy/wisp_dire.js'></script>
    <script src='js/enemy/fighter.js'></script>
    <script src='js/enemy/fighter_dire.js'></script>
    <script src='js/enemy/fighter_bullet.js'></script>
    <script src='js/enemy/piercing_fighter_bullet.js'></script>
    <script src='js/enemy/death_ray.js'></script>
    <script src='js/enemy/death_ray_dire.js'></script>
    <script src='js/enemy/slingshot.js'></script>
    <script src='js/enemy/orbiter.js'></script>
    <script src='js/enemy/harpoon.js'></script>
    <script src='js/enemy/harpoon_head.js'></script>
    <script src='js/enemy/harpoon_dire.js'></script>
    <script src='js/enemy/fixed_harpoon.js'></script>
    <script src='js/enemy/boss.js'></script>
    <script src='js/enemy/boss_one.js'></script>
    <script src='js/enemy/boss_two.js'></script>
    <script src='js/enemy/boss_two_spawner.js'></script>
    <script src='js/enemy/boss_three.js'></script>
    <script src='js/enemy/boss_four.js'></script>
    <script src='js/enemy/boss_four_spawner.js'></script>


    <script src='js/enemy/enemy_data.js'></script>
    <script src='js/obstacle/basic_obstacle.js'></script>
    <script src='js/lib/visibility_graph.js'></script>

    <script src="js/impulse_main.js"></script>
    <script src="js/game_states/game_state.js"></script>
    <script src="js/game_states/loader_game_state.js"></script>
    <script src="js/game_states/main_game_transition_state.js"></script>
    <script src="js/game_states/main_game_summary_state.js"></script>
    <script src="js/game_states/world_map_state.js"></script>
    <script src="js/game_states/title_state.js"></script>
    <script src="js/game_states/game_over_state.js"></script>
    <script src="js/game_states/impulse_game_state.js"></script>
    <script src="js/game_states/credits_state.js"></script>
    <script src="js/game_states/classic_select_state.js"></script>
    <script src="js/game_states/enemies_info_state.js"></script>
    <script src="js/game_states/how_to_play_state.js"></script>
    <script src="js/game_states/level_editor_state.js"></script>
    <script src="js/game_states/level_intro_state.js"></script>
    <script src="js/game_states/music_player_state.js"></script>

    <script src="js/level/level.js"></script>
    <script src="js/level/level_data.js"></script>

    <script src="js/ui/dialog_boxes.js"></script>
    <script src='js/ui/fragmentgroup.js'></script>
    <script src="js/ui/impulse_button.js"></script>
    <script src="js/ui/level_button.js"></script>
    <script src="js/ui/small_enemy_button.js"></script>
    <script src="js/ui/slider.js"></script>
    <script src="js/ui/enemy_button.js"></script>
    <script src="js/ui/small_button.js"></script>
    <script src="js/ui/world_button.js"></script>

    <script type="text/javascript">
        window.onload = function() {
            var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
            if(is_chrome) {
                impulse_main();
            } else {
                centerMessage()
            }

        }
        function centerMessage() {
            var message = document.getElementById("message");
          var dim = getWindowDimensions()

            message.setAttribute("style", "display: block" )
            if(message.clientWidth < dim.w)
            {
              offset_left = (dim.w-message.clientWidth)/2
              message.style.left =  Math.round(offset_left) + 'px'
            }
            else
            {
              offset_left = 0
            }
            if(message.clientHeight < dim.h)
            {
              offset_top = (dim.h-message.clientHeight )/2
              message.style.top = Math.round(offset_top) + 'px'
            }
            else
            {
              offset_top = 0
            }

        }
        function redirect_to_chrome() {
            window.location = "https://www.google.com/intl/en/chrome/browser/";
        }
        function start_game() {
            message.setAttribute("style", "display: none" )
            setTimeout(function(){impulse_main()}, 50)
        }

    </script>

</head>
<!-- Html -->
<body>
    <div id ="canvas_container">
        <canvas id="canvas" tabindex='1'></canvas>
    </div>
    <div id ="bg_canvas_container">
        <canvas id="bg_canvas"></canvas>
    </div>
    <div id = "message">
        <div id = "banner">
            IMPULSE
        </div>
        <div id="warning">
            Impulse is best played with the Chrome web browser.
        </div>
        <br />
        <div id = "continue" class="button" onclick="start_game()">
            Continue Anyway
        </div>
        <br />
        <div id = "download" class="button" onclick="redirect_to_chrome()">
            Download Chrome
        </div>
    <div>
</body>
</html>

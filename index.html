<!DOCTYPE html>
<html>
<head>
    <title>Impulse</title>
    <meta property="og:title"
        content="Impulse" />
    <meta property="og:description"
        content="A fast-paced browser-based shooter with strategic depth, groundbreaking gameplay, and a high skill cap." />
    <meta property="og:image"
        content="art/logo_fb.png"/>

    <script type="text/javascript">
        var fileref = document.createElement("link");
        fileref.setAttribute("rel", "stylesheet");
        fileref.setAttribute("type", "text/css");
        fileref.setAttribute("href", "css/style.css");
        document.getElementsByTagName("head")[0].insertBefore(fileref,document.getElementsByTagName("head")[0].firstChild);
    </script>

    <!-- AddThis Smart Layers BEGIN -->
    <!-- Go to http://www.addthis.com/get/smart-layers to customize -->
    <!--<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-536f09a114fefc83"></script>
    <script type="text/javascript">
      addthis.layers({
        'theme' : 'dark',
        'share' : {
          'position' : 'left',
          'services' : 'facebook,twitter,google_plusone_share, tumblr, more'
        }   
      });
    </script>-->
    <!-- AddThis Smart Layers END -->
    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-41419006-2', 'play-impulse.com');
      ga('send', 'pageview');

    </script>
 
    <script src="js/impulse.min.js"></script>

    <script type="text/javascript">
        window.onload = function() {
            var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
            if(is_chrome) {
                window.impulse_main();
            } else {
                centerMessage()
            }

        }
        function centerMessage() {
            var message = document.getElementById("message");
          var dim = getWindowDimensions()

            message.setAttribute("style", "display: block" )
            if(message.clientWidth < dim.w)
            {
              offset_left = (dim.w-message.clientWidth)/2
              message.style.left =  Math.round(offset_left) + 'px'
            }
            else
            {
              offset_left = 0
            }
            if(message.clientHeight < dim.h)
            {
              offset_top = (dim.h-message.clientHeight )/2
              message.style.top = Math.round(offset_top) + 'px'
            }
            else
            {
              offset_top = 0
            }

        }
        function redirect_to_chrome() {
            window.location = "https://www.google.com/intl/en/chrome/browser/";
        }
        function start_game() {
            message.setAttribute("style", "display: none" )
            setTimeout(function(){window.impulse_main()}, 50)
        }
        function getWindowDimensions() {
          var winW = 800, winH = 600;
          if (document.body && document.body.offsetWidth) {
           winW = document.body.offsetWidth;
           winH = document.body.offsetHeight;
          }
          if (document.compatMode=='CSS1Compat' &&
              document.documentElement &&
              document.documentElement.offsetWidth ) {
           winW = document.documentElement.offsetWidth;
           winH = document.documentElement.offsetHeight;
          }
          if (window.innerWidth && window.innerHeight) {
           winW = window.innerWidth;
           winH = window.innerHeight;
          }
          return {w: winW, h: winH}
        }
    </script>
</head>
<!-- Html -->
<body>
    <div id ="canvas_container">

        <!-- AddThis Button BEGIN -->
        <!--<div id = "addthis-inline">
            <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
                <a class="addthis_button_facebook"></a>
                <a class="addthis_button_twitter"></a>
                <a class="addthis_button_google_plusone_share"></a>
                <a class="addthis_button_tumblr"></a>
                <a class="addthis_button_compact"></a>
            </div>
        </div>-->
        <canvas id="canvas" tabindex='1'>
        </canvas>
    </div>
    <div id ="bg_canvas_container">
        <canvas id="bg_canvas"></canvas>
    </div>
    <div id = "message">
        <div id = "banner">
            <img src="art/logo.png">
            </img>
        </div>
        <div id="warning">
            Impulse is best played with the Chrome web browser.
        </div>
        <div id="warning2">
            Other browsers may experience significant lag and bugs.
        </div>
        <br />
        <div id = "continue" class="button" onclick="start_game()">
            Continue Anyway
        </div>
        <br />
        <div id = "download" class="button" onclick="redirect_to_chrome()">
            Download Chrome
        </div>
    </div>
    <div id = "fb-root">
    </div>

</body>
</html>
